function DT(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _h={exports:{}},il={},Mh={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ej;function OT(){if(Ej)return Ue;Ej=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function x(R){return R===null||typeof R!="object"?null:(R=m&&R[m]||R["@@iterator"],typeof R=="function"?R:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,b={};function w(R,Q,J){this.props=R,this.context=Q,this.refs=b,this.updater=J||v}w.prototype.isReactComponent={},w.prototype.setState=function(R,Q){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,Q,"setState")},w.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function y(){}y.prototype=w.prototype;function S(R,Q,J){this.props=R,this.context=Q,this.refs=b,this.updater=J||v}var P=S.prototype=new y;P.constructor=S,j(P,w.prototype),P.isPureReactComponent=!0;var k=Array.isArray,C=Object.prototype.hasOwnProperty,E={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function I(R,Q,J){var te,ue={},be=null,we=null;if(Q!=null)for(te in Q.ref!==void 0&&(we=Q.ref),Q.key!==void 0&&(be=""+Q.key),Q)C.call(Q,te)&&!D.hasOwnProperty(te)&&(ue[te]=Q[te]);var $e=arguments.length-2;if($e===1)ue.children=J;else if(1<$e){for(var Oe=Array($e),oe=0;oe<$e;oe++)Oe[oe]=arguments[oe+2];ue.children=Oe}if(R&&R.defaultProps)for(te in $e=R.defaultProps,$e)ue[te]===void 0&&(ue[te]=$e[te]);return{$$typeof:e,type:R,key:be,ref:we,props:ue,_owner:E.current}}function $(R,Q){return{$$typeof:e,type:R.type,key:Q,ref:R.ref,props:R.props,_owner:R._owner}}function B(R){return typeof R=="object"&&R!==null&&R.$$typeof===e}function M(R){var Q={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(J){return Q[J]})}var z=/\/+/g;function L(R,Q){return typeof R=="object"&&R!==null&&R.key!=null?M(""+R.key):Q.toString(36)}function _(R,Q,J,te,ue){var be=typeof R;(be==="undefined"||be==="boolean")&&(R=null);var we=!1;if(R===null)we=!0;else switch(be){case"string":case"number":we=!0;break;case"object":switch(R.$$typeof){case e:case t:we=!0}}if(we)return we=R,ue=ue(we),R=te===""?"."+L(we,0):te,k(ue)?(J="",R!=null&&(J=R.replace(z,"$&/")+"/"),_(ue,Q,J,"",function(oe){return oe})):ue!=null&&(B(ue)&&(ue=$(ue,J+(!ue.key||we&&we.key===ue.key?"":(""+ue.key).replace(z,"$&/")+"/")+R)),Q.push(ue)),1;if(we=0,te=te===""?".":te+":",k(R))for(var $e=0;$e<R.length;$e++){be=R[$e];var Oe=te+L(be,$e);we+=_(be,Q,J,Oe,ue)}else if(Oe=x(R),typeof Oe=="function")for(R=Oe.call(R),$e=0;!(be=R.next()).done;)be=be.value,Oe=te+L(be,$e++),we+=_(be,Q,J,Oe,ue);else if(be==="object")throw Q=String(R),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return we}function U(R,Q,J){if(R==null)return R;var te=[],ue=0;return _(R,te,"","",function(be){return Q.call(J,be,ue++)}),te}function G(R){if(R._status===-1){var Q=R._result;Q=Q(),Q.then(function(J){(R._status===0||R._status===-1)&&(R._status=1,R._result=J)},function(J){(R._status===0||R._status===-1)&&(R._status=2,R._result=J)}),R._status===-1&&(R._status=0,R._result=Q)}if(R._status===1)return R._result.default;throw R._result}var W={current:null},K={transition:null},X={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:K,ReactCurrentOwner:E};return Ue.Children={map:U,forEach:function(R,Q,J){U(R,function(){Q.apply(this,arguments)},J)},count:function(R){var Q=0;return U(R,function(){Q++}),Q},toArray:function(R){return U(R,function(Q){return Q})||[]},only:function(R){if(!B(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Ue.Component=w,Ue.Fragment=n,Ue.Profiler=i,Ue.PureComponent=S,Ue.StrictMode=r,Ue.Suspense=f,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,Ue.cloneElement=function(R,Q,J){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var te=j({},R.props),ue=R.key,be=R.ref,we=R._owner;if(Q!=null){if(Q.ref!==void 0&&(be=Q.ref,we=E.current),Q.key!==void 0&&(ue=""+Q.key),R.type&&R.type.defaultProps)var $e=R.type.defaultProps;for(Oe in Q)C.call(Q,Oe)&&!D.hasOwnProperty(Oe)&&(te[Oe]=Q[Oe]===void 0&&$e!==void 0?$e[Oe]:Q[Oe])}var Oe=arguments.length-2;if(Oe===1)te.children=J;else if(1<Oe){$e=Array(Oe);for(var oe=0;oe<Oe;oe++)$e[oe]=arguments[oe+2];te.children=$e}return{$$typeof:e,type:R.type,key:ue,ref:be,props:te,_owner:we}},Ue.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:o,_context:R},R.Consumer=R},Ue.createElement=I,Ue.createFactory=function(R){var Q=I.bind(null,R);return Q.type=R,Q},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(R){return{$$typeof:u,render:R}},Ue.isValidElement=B,Ue.lazy=function(R){return{$$typeof:h,_payload:{_status:-1,_result:R},_init:G}},Ue.memo=function(R,Q){return{$$typeof:d,type:R,compare:Q===void 0?null:Q}},Ue.startTransition=function(R){var Q=K.transition;K.transition={};try{R()}finally{K.transition=Q}},Ue.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Ue.useCallback=function(R,Q){return W.current.useCallback(R,Q)},Ue.useContext=function(R){return W.current.useContext(R)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(R){return W.current.useDeferredValue(R)},Ue.useEffect=function(R,Q){return W.current.useEffect(R,Q)},Ue.useId=function(){return W.current.useId()},Ue.useImperativeHandle=function(R,Q,J){return W.current.useImperativeHandle(R,Q,J)},Ue.useInsertionEffect=function(R,Q){return W.current.useInsertionEffect(R,Q)},Ue.useLayoutEffect=function(R,Q){return W.current.useLayoutEffect(R,Q)},Ue.useMemo=function(R,Q){return W.current.useMemo(R,Q)},Ue.useReducer=function(R,Q,J){return W.current.useReducer(R,Q,J)},Ue.useRef=function(R){return W.current.useRef(R)},Ue.useState=function(R){return W.current.useState(R)},Ue.useSyncExternalStore=function(R,Q,J){return W.current.useSyncExternalStore(R,Q,J)},Ue.useTransition=function(){return W.current.useTransition()},Ue.version="18.2.0",Ue}var Dj;function xy(){return Dj||(Dj=1,Mh.exports=OT()),Mh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oj;function IT(){if(Oj)return il;Oj=1;var e=xy(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(u,f,d){var h,m={},x=null,v=null;d!==void 0&&(x=""+d),f.key!==void 0&&(x=""+f.key),f.ref!==void 0&&(v=f.ref);for(h in f)r.call(f,h)&&!o.hasOwnProperty(h)&&(m[h]=f[h]);if(u&&u.defaultProps)for(h in f=u.defaultProps,f)m[h]===void 0&&(m[h]=f[h]);return{$$typeof:t,type:u,key:x,ref:v,props:m,_owner:i.current}}return il.Fragment=n,il.jsx=c,il.jsxs=c,il}var Ij;function TT(){return Ij||(Ij=1,_h.exports=IT()),_h.exports}var a=TT(),O=xy();const q=lt(O),_T=DT({__proto__:null,default:q},[O]);var Vu={},Rh={exports:{}},jn={},$h={exports:{}},zh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tj;function MT(){return Tj||(Tj=1,(function(e){function t(K,X){var R=K.length;K.push(X);e:for(;0<R;){var Q=R-1>>>1,J=K[Q];if(0<i(J,X))K[Q]=X,K[R]=J,R=Q;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var X=K[0],R=K.pop();if(R!==X){K[0]=R;e:for(var Q=0,J=K.length,te=J>>>1;Q<te;){var ue=2*(Q+1)-1,be=K[ue],we=ue+1,$e=K[we];if(0>i(be,R))we<J&&0>i($e,be)?(K[Q]=$e,K[we]=R,Q=we):(K[Q]=be,K[ue]=R,Q=ue);else if(we<J&&0>i($e,R))K[Q]=$e,K[we]=R,Q=we;else break e}}return X}function i(K,X){var R=K.sortIndex-X.sortIndex;return R!==0?R:K.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var f=[],d=[],h=1,m=null,x=3,v=!1,j=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(K){for(var X=n(d);X!==null;){if(X.callback===null)r(d);else if(X.startTime<=K)r(d),X.sortIndex=X.expirationTime,t(f,X);else break;X=n(d)}}function k(K){if(b=!1,P(K),!j)if(n(f)!==null)j=!0,G(C);else{var X=n(d);X!==null&&W(k,X.startTime-K)}}function C(K,X){j=!1,b&&(b=!1,y(I),I=-1),v=!0;var R=x;try{for(P(X),m=n(f);m!==null&&(!(m.expirationTime>X)||K&&!M());){var Q=m.callback;if(typeof Q=="function"){m.callback=null,x=m.priorityLevel;var J=Q(m.expirationTime<=X);X=e.unstable_now(),typeof J=="function"?m.callback=J:m===n(f)&&r(f),P(X)}else r(f);m=n(f)}if(m!==null)var te=!0;else{var ue=n(d);ue!==null&&W(k,ue.startTime-X),te=!1}return te}finally{m=null,x=R,v=!1}}var E=!1,D=null,I=-1,$=5,B=-1;function M(){return!(e.unstable_now()-B<$)}function z(){if(D!==null){var K=e.unstable_now();B=K;var X=!0;try{X=D(!0,K)}finally{X?L():(E=!1,D=null)}}else E=!1}var L;if(typeof S=="function")L=function(){S(z)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,U=_.port2;_.port1.onmessage=z,L=function(){U.postMessage(null)}}else L=function(){w(z,0)};function G(K){D=K,E||(E=!0,L())}function W(K,X){I=w(function(){K(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){j||v||(j=!0,G(C))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(K){switch(x){case 1:case 2:case 3:var X=3;break;default:X=x}var R=x;x=X;try{return K()}finally{x=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,X){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var R=x;x=K;try{return X()}finally{x=R}},e.unstable_scheduleCallback=function(K,X,R){var Q=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?Q+R:Q):R=Q,K){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=R+J,K={id:h++,callback:X,priorityLevel:K,startTime:R,expirationTime:J,sortIndex:-1},R>Q?(K.sortIndex=R,t(d,K),n(f)===null&&K===n(d)&&(b?(y(I),I=-1):b=!0,W(k,R-Q))):(K.sortIndex=J,t(f,K),j||v||(j=!0,G(C))),K},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(K){var X=x;return function(){var R=x;x=X;try{return K.apply(this,arguments)}finally{x=R}}}})(zh)),zh}var _j;function RT(){return _j||(_j=1,$h.exports=MT()),$h.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mj;function $T(){if(Mj)return jn;Mj=1;var e=xy(),t=RT();function n(s){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+s,p=1;p<arguments.length;p++)l+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,l){c(s,l),c(s+"Capture",l)}function c(s,l){for(i[s]=l,s=0;s<l.length;s++)r.add(l[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function x(s){return f.call(m,s)?!0:f.call(h,s)?!1:d.test(s)?m[s]=!0:(h[s]=!0,!1)}function v(s,l,p,g){if(p!==null&&p.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:p!==null?!p.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function j(s,l,p,g){if(l===null||typeof l>"u"||v(s,l,p,g))return!0;if(g)return!1;if(p!==null)switch(p.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function b(s,l,p,g,N,A,T){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=N,this.mustUseProperty=p,this.propertyName=s,this.type=l,this.sanitizeURL=A,this.removeEmptyString=T}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){w[s]=new b(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var l=s[0];w[l]=new b(l,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){w[s]=new b(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){w[s]=new b(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){w[s]=new b(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){w[s]=new b(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){w[s]=new b(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){w[s]=new b(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){w[s]=new b(s,5,!1,s.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function S(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var l=s.replace(y,S);w[l]=new b(l,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var l=s.replace(y,S);w[l]=new b(l,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var l=s.replace(y,S);w[l]=new b(l,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){w[s]=new b(s,1,!1,s.toLowerCase(),null,!1,!1)}),w.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){w[s]=new b(s,1,!1,s.toLowerCase(),null,!0,!0)});function P(s,l,p,g){var N=w.hasOwnProperty(l)?w[l]:null;(N!==null?N.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(j(l,p,N,g)&&(p=null),g||N===null?x(l)&&(p===null?s.removeAttribute(l):s.setAttribute(l,""+p)):N.mustUseProperty?s[N.propertyName]=p===null?N.type===3?!1:"":p:(l=N.attributeName,g=N.attributeNamespace,p===null?s.removeAttribute(l):(N=N.type,p=N===3||N===4&&p===!0?"":""+p,g?s.setAttributeNS(g,l,p):s.setAttribute(l,p))))}var k=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),E=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),M=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),K=Symbol.iterator;function X(s){return s===null||typeof s!="object"?null:(s=K&&s[K]||s["@@iterator"],typeof s=="function"?s:null)}var R=Object.assign,Q;function J(s){if(Q===void 0)try{throw Error()}catch(p){var l=p.stack.trim().match(/\n( *(at )?)/);Q=l&&l[1]||""}return`
`+Q+s}var te=!1;function ue(s,l){if(!s||te)return"";te=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(ne){var g=ne}Reflect.construct(s,[],l)}else{try{l.call()}catch(ne){g=ne}s.call(l.prototype)}else{try{throw Error()}catch(ne){g=ne}s()}}catch(ne){if(ne&&g&&typeof ne.stack=="string"){for(var N=ne.stack.split(`
`),A=g.stack.split(`
`),T=N.length-1,F=A.length-1;1<=T&&0<=F&&N[T]!==A[F];)F--;for(;1<=T&&0<=F;T--,F--)if(N[T]!==A[F]){if(T!==1||F!==1)do if(T--,F--,0>F||N[T]!==A[F]){var V=`
`+N[T].replace(" at new "," at ");return s.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",s.displayName)),V}while(1<=T&&0<=F);break}}}finally{te=!1,Error.prepareStackTrace=p}return(s=s?s.displayName||s.name:"")?J(s):""}function be(s){switch(s.tag){case 5:return J(s.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return s=ue(s.type,!1),s;case 11:return s=ue(s.type.render,!1),s;case 1:return s=ue(s.type,!0),s;default:return""}}function we(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case E:return"Portal";case $:return"Profiler";case I:return"StrictMode";case L:return"Suspense";case _:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case M:return(s.displayName||"Context")+".Consumer";case B:return(s._context.displayName||"Context")+".Provider";case z:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case U:return l=s.displayName||null,l!==null?l:we(s.type)||"Memo";case G:l=s._payload,s=s._init;try{return we(s(l))}catch{}}return null}function $e(s){var l=s.type;switch(s.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=l.render,s=s.displayName||s.name||"",l.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(l);case 8:return l===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Oe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function oe(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ae(s){var l=oe(s)?"checked":"value",p=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),g=""+s[l];if(!s.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var N=p.get,A=p.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return N.call(this)},set:function(T){g=""+T,A.call(this,T)}}),Object.defineProperty(s,l,{enumerable:p.enumerable}),{getValue:function(){return g},setValue:function(T){g=""+T},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function ke(s){s._valueTracker||(s._valueTracker=Ae(s))}function ie(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var p=l.getValue(),g="";return s&&(g=oe(s)?s.checked?"true":"false":s.value),s=g,s!==p?(l.setValue(s),!0):!1}function He(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Re(s,l){var p=l.checked;return R({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??s._wrapperState.initialChecked})}function Ze(s,l){var p=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;p=Oe(l.value!=null?l.value:p),s._wrapperState={initialChecked:g,initialValue:p,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function de(s,l){l=l.checked,l!=null&&P(s,"checked",l,!1)}function Te(s,l){de(s,l);var p=Oe(l.value),g=l.type;if(p!=null)g==="number"?(p===0&&s.value===""||s.value!=p)&&(s.value=""+p):s.value!==""+p&&(s.value=""+p);else if(g==="submit"||g==="reset"){s.removeAttribute("value");return}l.hasOwnProperty("value")?ze(s,l.type,p):l.hasOwnProperty("defaultValue")&&ze(s,l.type,Oe(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(s.defaultChecked=!!l.defaultChecked)}function Ne(s,l,p){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+s._wrapperState.initialValue,p||l===s.value||(s.value=l),s.defaultValue=l}p=s.name,p!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,p!==""&&(s.name=p)}function ze(s,l,p){(l!=="number"||He(s.ownerDocument)!==s)&&(p==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+p&&(s.defaultValue=""+p))}var qe=Array.isArray;function We(s,l,p,g){if(s=s.options,l){l={};for(var N=0;N<p.length;N++)l["$"+p[N]]=!0;for(p=0;p<s.length;p++)N=l.hasOwnProperty("$"+s[p].value),s[p].selected!==N&&(s[p].selected=N),N&&g&&(s[p].defaultSelected=!0)}else{for(p=""+Oe(p),l=null,N=0;N<s.length;N++){if(s[N].value===p){s[N].selected=!0,g&&(s[N].defaultSelected=!0);return}l!==null||s[N].disabled||(l=s[N])}l!==null&&(l.selected=!0)}}function xt(s,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return R({},l,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function zt(s,l){var p=l.value;if(p==null){if(p=l.children,l=l.defaultValue,p!=null){if(l!=null)throw Error(n(92));if(qe(p)){if(1<p.length)throw Error(n(93));p=p[0]}l=p}l==null&&(l=""),p=l}s._wrapperState={initialValue:Oe(p)}}function me(s,l){var p=Oe(l.value),g=Oe(l.defaultValue);p!=null&&(p=""+p,p!==s.value&&(s.value=p),l.defaultValue==null&&s.defaultValue!==p&&(s.defaultValue=p)),g!=null&&(s.defaultValue=""+g)}function rt(s){var l=s.textContent;l===s._wrapperState.initialValue&&l!==""&&l!==null&&(s.value=l)}function Vt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ot(s,l){return s==null||s==="http://www.w3.org/1999/xhtml"?Vt(l):s==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var va,Xi=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,p,g,N){MSApp.execUnsafeLocalFunction(function(){return s(l,p,g,N)})}:s})(function(s,l){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=l;else{for(va=va||document.createElement("div"),va.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=va.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;l.firstChild;)s.appendChild(l.firstChild)}});function Br(s,l){if(l){var p=s.firstChild;if(p&&p===s.lastChild&&p.nodeType===3){p.nodeValue=l;return}}s.textContent=l}var Fr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yo=["Webkit","ms","Moz","O"];Object.keys(Fr).forEach(function(s){yo.forEach(function(l){l=l+s.charAt(0).toUpperCase()+s.substring(1),Fr[l]=Fr[s]})});function Qi(s,l,p){return l==null||typeof l=="boolean"||l===""?"":p||typeof l!="number"||l===0||Fr.hasOwnProperty(s)&&Fr[s]?(""+l).trim():l+"px"}function Zi(s,l){s=s.style;for(var p in l)if(l.hasOwnProperty(p)){var g=p.indexOf("--")===0,N=Qi(p,l[p],g);p==="float"&&(p="cssFloat"),g?s.setProperty(p,N):s[p]=N}}var xn=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $c(s,l){if(l){if(xn[s]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function bo(s,l){if(s.indexOf("-")===-1)return typeof l.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wo=null;function jo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Nr=null,Ie=null,Ji=null;function Hb(s){if(s=Wo(s)){if(typeof Nr!="function")throw Error(n(280));var l=s.stateNode;l&&(l=su(l),Nr(s.stateNode,s.type,l))}}function Vb(s){Ie?Ji?Ji.push(s):Ji=[s]:Ie=s}function Kb(){if(Ie){var s=Ie,l=Ji;if(Ji=Ie=null,Hb(s),l)for(s=0;s<l.length;s++)Hb(l[s])}}function Gb(s,l){return s(l)}function Yb(){}var Qf=!1;function Xb(s,l,p){if(Qf)return s(l,p);Qf=!0;try{return Gb(s,l,p)}finally{Qf=!1,(Ie!==null||Ji!==null)&&(Yb(),Kb())}}function No(s,l){var p=s.stateNode;if(p===null)return null;var g=su(p);if(g===null)return null;p=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(p&&typeof p!="function")throw Error(n(231,l,typeof p));return p}var Zf=!1;if(u)try{var So={};Object.defineProperty(So,"passive",{get:function(){Zf=!0}}),window.addEventListener("test",So,So),window.removeEventListener("test",So,So)}catch{Zf=!1}function RI(s,l,p,g,N,A,T,F,V){var ne=Array.prototype.slice.call(arguments,3);try{l.apply(p,ne)}catch(le){this.onError(le)}}var ko=!1,zc=null,Lc=!1,Jf=null,$I={onError:function(s){ko=!0,zc=s}};function zI(s,l,p,g,N,A,T,F,V){ko=!1,zc=null,RI.apply($I,arguments)}function LI(s,l,p,g,N,A,T,F,V){if(zI.apply(this,arguments),ko){if(ko){var ne=zc;ko=!1,zc=null}else throw Error(n(198));Lc||(Lc=!0,Jf=ne)}}function ii(s){var l=s,p=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(p=l.return),s=l.return;while(s)}return l.tag===3?p:null}function Qb(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function Zb(s){if(ii(s)!==s)throw Error(n(188))}function BI(s){var l=s.alternate;if(!l){if(l=ii(s),l===null)throw Error(n(188));return l!==s?null:s}for(var p=s,g=l;;){var N=p.return;if(N===null)break;var A=N.alternate;if(A===null){if(g=N.return,g!==null){p=g;continue}break}if(N.child===A.child){for(A=N.child;A;){if(A===p)return Zb(N),s;if(A===g)return Zb(N),l;A=A.sibling}throw Error(n(188))}if(p.return!==g.return)p=N,g=A;else{for(var T=!1,F=N.child;F;){if(F===p){T=!0,p=N,g=A;break}if(F===g){T=!0,g=N,p=A;break}F=F.sibling}if(!T){for(F=A.child;F;){if(F===p){T=!0,p=A,g=N;break}if(F===g){T=!0,g=A,p=N;break}F=F.sibling}if(!T)throw Error(n(189))}}if(p.alternate!==g)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?s:l}function Jb(s){return s=BI(s),s!==null?e1(s):null}function e1(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var l=e1(s);if(l!==null)return l;s=s.sibling}return null}var t1=t.unstable_scheduleCallback,n1=t.unstable_cancelCallback,FI=t.unstable_shouldYield,UI=t.unstable_requestPaint,Nt=t.unstable_now,qI=t.unstable_getCurrentPriorityLevel,ep=t.unstable_ImmediatePriority,r1=t.unstable_UserBlockingPriority,Bc=t.unstable_NormalPriority,WI=t.unstable_LowPriority,a1=t.unstable_IdlePriority,Fc=null,Sr=null;function HI(s){if(Sr&&typeof Sr.onCommitFiberRoot=="function")try{Sr.onCommitFiberRoot(Fc,s,void 0,(s.current.flags&128)===128)}catch{}}var ar=Math.clz32?Math.clz32:GI,VI=Math.log,KI=Math.LN2;function GI(s){return s>>>=0,s===0?32:31-(VI(s)/KI|0)|0}var Uc=64,qc=4194304;function Co(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Wc(s,l){var p=s.pendingLanes;if(p===0)return 0;var g=0,N=s.suspendedLanes,A=s.pingedLanes,T=p&268435455;if(T!==0){var F=T&~N;F!==0?g=Co(F):(A&=T,A!==0&&(g=Co(A)))}else T=p&~N,T!==0?g=Co(T):A!==0&&(g=Co(A));if(g===0)return 0;if(l!==0&&l!==g&&(l&N)===0&&(N=g&-g,A=l&-l,N>=A||N===16&&(A&4194240)!==0))return l;if((g&4)!==0&&(g|=p&16),l=s.entangledLanes,l!==0)for(s=s.entanglements,l&=g;0<l;)p=31-ar(l),N=1<<p,g|=s[p],l&=~N;return g}function YI(s,l){switch(s){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XI(s,l){for(var p=s.suspendedLanes,g=s.pingedLanes,N=s.expirationTimes,A=s.pendingLanes;0<A;){var T=31-ar(A),F=1<<T,V=N[T];V===-1?((F&p)===0||(F&g)!==0)&&(N[T]=YI(F,l)):V<=l&&(s.expiredLanes|=F),A&=~F}}function tp(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function i1(){var s=Uc;return Uc<<=1,(Uc&4194240)===0&&(Uc=64),s}function np(s){for(var l=[],p=0;31>p;p++)l.push(s);return l}function Ao(s,l,p){s.pendingLanes|=l,l!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,l=31-ar(l),s[l]=p}function QI(s,l){var p=s.pendingLanes&~l;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=l,s.mutableReadLanes&=l,s.entangledLanes&=l,l=s.entanglements;var g=s.eventTimes;for(s=s.expirationTimes;0<p;){var N=31-ar(p),A=1<<N;l[N]=0,g[N]=-1,s[N]=-1,p&=~A}}function rp(s,l){var p=s.entangledLanes|=l;for(s=s.entanglements;p;){var g=31-ar(p),N=1<<g;N&l|s[g]&l&&(s[g]|=l),p&=~N}}var tt=0;function s1(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var o1,ap,l1,c1,u1,ip=!1,Hc=[],ya=null,ba=null,wa=null,Po=new Map,Eo=new Map,ja=[],ZI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function d1(s,l){switch(s){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":ba=null;break;case"mouseover":case"mouseout":wa=null;break;case"pointerover":case"pointerout":Po.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eo.delete(l.pointerId)}}function Do(s,l,p,g,N,A){return s===null||s.nativeEvent!==A?(s={blockedOn:l,domEventName:p,eventSystemFlags:g,nativeEvent:A,targetContainers:[N]},l!==null&&(l=Wo(l),l!==null&&ap(l)),s):(s.eventSystemFlags|=g,l=s.targetContainers,N!==null&&l.indexOf(N)===-1&&l.push(N),s)}function JI(s,l,p,g,N){switch(l){case"focusin":return ya=Do(ya,s,l,p,g,N),!0;case"dragenter":return ba=Do(ba,s,l,p,g,N),!0;case"mouseover":return wa=Do(wa,s,l,p,g,N),!0;case"pointerover":var A=N.pointerId;return Po.set(A,Do(Po.get(A)||null,s,l,p,g,N)),!0;case"gotpointercapture":return A=N.pointerId,Eo.set(A,Do(Eo.get(A)||null,s,l,p,g,N)),!0}return!1}function f1(s){var l=si(s.target);if(l!==null){var p=ii(l);if(p!==null){if(l=p.tag,l===13){if(l=Qb(p),l!==null){s.blockedOn=l,u1(s.priority,function(){l1(p)});return}}else if(l===3&&p.stateNode.current.memoizedState.isDehydrated){s.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Vc(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var p=op(s.domEventName,s.eventSystemFlags,l[0],s.nativeEvent);if(p===null){p=s.nativeEvent;var g=new p.constructor(p.type,p);wo=g,p.target.dispatchEvent(g),wo=null}else return l=Wo(p),l!==null&&ap(l),s.blockedOn=p,!1;l.shift()}return!0}function p1(s,l,p){Vc(s)&&p.delete(l)}function e5(){ip=!1,ya!==null&&Vc(ya)&&(ya=null),ba!==null&&Vc(ba)&&(ba=null),wa!==null&&Vc(wa)&&(wa=null),Po.forEach(p1),Eo.forEach(p1)}function Oo(s,l){s.blockedOn===l&&(s.blockedOn=null,ip||(ip=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,e5)))}function Io(s){function l(N){return Oo(N,s)}if(0<Hc.length){Oo(Hc[0],s);for(var p=1;p<Hc.length;p++){var g=Hc[p];g.blockedOn===s&&(g.blockedOn=null)}}for(ya!==null&&Oo(ya,s),ba!==null&&Oo(ba,s),wa!==null&&Oo(wa,s),Po.forEach(l),Eo.forEach(l),p=0;p<ja.length;p++)g=ja[p],g.blockedOn===s&&(g.blockedOn=null);for(;0<ja.length&&(p=ja[0],p.blockedOn===null);)f1(p),p.blockedOn===null&&ja.shift()}var es=k.ReactCurrentBatchConfig,Kc=!0;function t5(s,l,p,g){var N=tt,A=es.transition;es.transition=null;try{tt=1,sp(s,l,p,g)}finally{tt=N,es.transition=A}}function n5(s,l,p,g){var N=tt,A=es.transition;es.transition=null;try{tt=4,sp(s,l,p,g)}finally{tt=N,es.transition=A}}function sp(s,l,p,g){if(Kc){var N=op(s,l,p,g);if(N===null)Sp(s,l,g,Gc,p),d1(s,g);else if(JI(N,s,l,p,g))g.stopPropagation();else if(d1(s,g),l&4&&-1<ZI.indexOf(s)){for(;N!==null;){var A=Wo(N);if(A!==null&&o1(A),A=op(s,l,p,g),A===null&&Sp(s,l,g,Gc,p),A===N)break;N=A}N!==null&&g.stopPropagation()}else Sp(s,l,g,null,p)}}var Gc=null;function op(s,l,p,g){if(Gc=null,s=jo(g),s=si(s),s!==null)if(l=ii(s),l===null)s=null;else if(p=l.tag,p===13){if(s=Qb(l),s!==null)return s;s=null}else if(p===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null);return Gc=s,null}function h1(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qI()){case ep:return 1;case r1:return 4;case Bc:case WI:return 16;case a1:return 536870912;default:return 16}default:return 16}}var Na=null,lp=null,Yc=null;function m1(){if(Yc)return Yc;var s,l=lp,p=l.length,g,N="value"in Na?Na.value:Na.textContent,A=N.length;for(s=0;s<p&&l[s]===N[s];s++);var T=p-s;for(g=1;g<=T&&l[p-g]===N[A-g];g++);return Yc=N.slice(s,1<g?1-g:void 0)}function Xc(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Qc(){return!0}function x1(){return!1}function Pn(s){function l(p,g,N,A,T){this._reactName=p,this._targetInst=N,this.type=g,this.nativeEvent=A,this.target=T,this.currentTarget=null;for(var F in s)s.hasOwnProperty(F)&&(p=s[F],this[F]=p?p(A):A[F]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Qc:x1,this.isPropagationStopped=x1,this}return R(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Qc)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Qc)},persist:function(){},isPersistent:Qc}),l}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cp=Pn(ts),To=R({},ts,{view:0,detail:0}),r5=Pn(To),up,dp,_o,Zc=R({},To,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pp,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==_o&&(_o&&s.type==="mousemove"?(up=s.screenX-_o.screenX,dp=s.screenY-_o.screenY):dp=up=0,_o=s),up)},movementY:function(s){return"movementY"in s?s.movementY:dp}}),g1=Pn(Zc),a5=R({},Zc,{dataTransfer:0}),i5=Pn(a5),s5=R({},To,{relatedTarget:0}),fp=Pn(s5),o5=R({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),l5=Pn(o5),c5=R({},ts,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),u5=Pn(c5),d5=R({},ts,{data:0}),v1=Pn(d5),f5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},p5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},h5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function m5(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=h5[s])?!!l[s]:!1}function pp(){return m5}var x5=R({},To,{key:function(s){if(s.key){var l=f5[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=Xc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?p5[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pp,charCode:function(s){return s.type==="keypress"?Xc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Xc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),g5=Pn(x5),v5=R({},Zc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),y1=Pn(v5),y5=R({},To,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pp}),b5=Pn(y5),w5=R({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),j5=Pn(w5),N5=R({},Zc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),S5=Pn(N5),k5=[9,13,27,32],hp=u&&"CompositionEvent"in window,Mo=null;u&&"documentMode"in document&&(Mo=document.documentMode);var C5=u&&"TextEvent"in window&&!Mo,b1=u&&(!hp||Mo&&8<Mo&&11>=Mo),w1=" ",j1=!1;function N1(s,l){switch(s){case"keyup":return k5.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function S1(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ns=!1;function A5(s,l){switch(s){case"compositionend":return S1(l);case"keypress":return l.which!==32?null:(j1=!0,w1);case"textInput":return s=l.data,s===w1&&j1?null:s;default:return null}}function P5(s,l){if(ns)return s==="compositionend"||!hp&&N1(s,l)?(s=m1(),Yc=lp=Na=null,ns=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return b1&&l.locale!=="ko"?null:l.data;default:return null}}var E5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function k1(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!E5[s.type]:l==="textarea"}function C1(s,l,p,g){Vb(g),l=ru(l,"onChange"),0<l.length&&(p=new cp("onChange","change",null,p,g),s.push({event:p,listeners:l}))}var Ro=null,$o=null;function D5(s){W1(s,0)}function Jc(s){var l=os(s);if(ie(l))return s}function O5(s,l){if(s==="change")return l}var A1=!1;if(u){var mp;if(u){var xp="oninput"in document;if(!xp){var P1=document.createElement("div");P1.setAttribute("oninput","return;"),xp=typeof P1.oninput=="function"}mp=xp}else mp=!1;A1=mp&&(!document.documentMode||9<document.documentMode)}function E1(){Ro&&(Ro.detachEvent("onpropertychange",D1),$o=Ro=null)}function D1(s){if(s.propertyName==="value"&&Jc($o)){var l=[];C1(l,$o,s,jo(s)),Xb(D5,l)}}function I5(s,l,p){s==="focusin"?(E1(),Ro=l,$o=p,Ro.attachEvent("onpropertychange",D1)):s==="focusout"&&E1()}function T5(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Jc($o)}function _5(s,l){if(s==="click")return Jc(l)}function M5(s,l){if(s==="input"||s==="change")return Jc(l)}function R5(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var ir=typeof Object.is=="function"?Object.is:R5;function zo(s,l){if(ir(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var p=Object.keys(s),g=Object.keys(l);if(p.length!==g.length)return!1;for(g=0;g<p.length;g++){var N=p[g];if(!f.call(l,N)||!ir(s[N],l[N]))return!1}return!0}function O1(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function I1(s,l){var p=O1(s);s=0;for(var g;p;){if(p.nodeType===3){if(g=s+p.textContent.length,s<=l&&g>=l)return{node:p,offset:l-s};s=g}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=O1(p)}}function T1(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?T1(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function _1(){for(var s=window,l=He();l instanceof s.HTMLIFrameElement;){try{var p=typeof l.contentWindow.location.href=="string"}catch{p=!1}if(p)s=l.contentWindow;else break;l=He(s.document)}return l}function gp(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}function $5(s){var l=_1(),p=s.focusedElem,g=s.selectionRange;if(l!==p&&p&&p.ownerDocument&&T1(p.ownerDocument.documentElement,p)){if(g!==null&&gp(p)){if(l=g.start,s=g.end,s===void 0&&(s=l),"selectionStart"in p)p.selectionStart=l,p.selectionEnd=Math.min(s,p.value.length);else if(s=(l=p.ownerDocument||document)&&l.defaultView||window,s.getSelection){s=s.getSelection();var N=p.textContent.length,A=Math.min(g.start,N);g=g.end===void 0?A:Math.min(g.end,N),!s.extend&&A>g&&(N=g,g=A,A=N),N=I1(p,A);var T=I1(p,g);N&&T&&(s.rangeCount!==1||s.anchorNode!==N.node||s.anchorOffset!==N.offset||s.focusNode!==T.node||s.focusOffset!==T.offset)&&(l=l.createRange(),l.setStart(N.node,N.offset),s.removeAllRanges(),A>g?(s.addRange(l),s.extend(T.node,T.offset)):(l.setEnd(T.node,T.offset),s.addRange(l)))}}for(l=[],s=p;s=s.parentNode;)s.nodeType===1&&l.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<l.length;p++)s=l[p],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var z5=u&&"documentMode"in document&&11>=document.documentMode,rs=null,vp=null,Lo=null,yp=!1;function M1(s,l,p){var g=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;yp||rs==null||rs!==He(g)||(g=rs,"selectionStart"in g&&gp(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Lo&&zo(Lo,g)||(Lo=g,g=ru(vp,"onSelect"),0<g.length&&(l=new cp("onSelect","select",null,l,p),s.push({event:l,listeners:g}),l.target=rs)))}function eu(s,l){var p={};return p[s.toLowerCase()]=l.toLowerCase(),p["Webkit"+s]="webkit"+l,p["Moz"+s]="moz"+l,p}var as={animationend:eu("Animation","AnimationEnd"),animationiteration:eu("Animation","AnimationIteration"),animationstart:eu("Animation","AnimationStart"),transitionend:eu("Transition","TransitionEnd")},bp={},R1={};u&&(R1=document.createElement("div").style,"AnimationEvent"in window||(delete as.animationend.animation,delete as.animationiteration.animation,delete as.animationstart.animation),"TransitionEvent"in window||delete as.transitionend.transition);function tu(s){if(bp[s])return bp[s];if(!as[s])return s;var l=as[s],p;for(p in l)if(l.hasOwnProperty(p)&&p in R1)return bp[s]=l[p];return s}var $1=tu("animationend"),z1=tu("animationiteration"),L1=tu("animationstart"),B1=tu("transitionend"),F1=new Map,U1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sa(s,l){F1.set(s,l),o(l,[s])}for(var wp=0;wp<U1.length;wp++){var jp=U1[wp],L5=jp.toLowerCase(),B5=jp[0].toUpperCase()+jp.slice(1);Sa(L5,"on"+B5)}Sa($1,"onAnimationEnd"),Sa(z1,"onAnimationIteration"),Sa(L1,"onAnimationStart"),Sa("dblclick","onDoubleClick"),Sa("focusin","onFocus"),Sa("focusout","onBlur"),Sa(B1,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F5=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bo));function q1(s,l,p){var g=s.type||"unknown-event";s.currentTarget=p,LI(g,l,void 0,s),s.currentTarget=null}function W1(s,l){l=(l&4)!==0;for(var p=0;p<s.length;p++){var g=s[p],N=g.event;g=g.listeners;e:{var A=void 0;if(l)for(var T=g.length-1;0<=T;T--){var F=g[T],V=F.instance,ne=F.currentTarget;if(F=F.listener,V!==A&&N.isPropagationStopped())break e;q1(N,F,ne),A=V}else for(T=0;T<g.length;T++){if(F=g[T],V=F.instance,ne=F.currentTarget,F=F.listener,V!==A&&N.isPropagationStopped())break e;q1(N,F,ne),A=V}}}if(Lc)throw s=Jf,Lc=!1,Jf=null,s}function dt(s,l){var p=l[Dp];p===void 0&&(p=l[Dp]=new Set);var g=s+"__bubble";p.has(g)||(H1(l,s,2,!1),p.add(g))}function Np(s,l,p){var g=0;l&&(g|=4),H1(p,s,g,l)}var nu="_reactListening"+Math.random().toString(36).slice(2);function Fo(s){if(!s[nu]){s[nu]=!0,r.forEach(function(p){p!=="selectionchange"&&(F5.has(p)||Np(p,!1,s),Np(p,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[nu]||(l[nu]=!0,Np("selectionchange",!1,l))}}function H1(s,l,p,g){switch(h1(l)){case 1:var N=t5;break;case 4:N=n5;break;default:N=sp}p=N.bind(null,l,p,s),N=void 0,!Zf||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(N=!0),g?N!==void 0?s.addEventListener(l,p,{capture:!0,passive:N}):s.addEventListener(l,p,!0):N!==void 0?s.addEventListener(l,p,{passive:N}):s.addEventListener(l,p,!1)}function Sp(s,l,p,g,N){var A=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var T=g.tag;if(T===3||T===4){var F=g.stateNode.containerInfo;if(F===N||F.nodeType===8&&F.parentNode===N)break;if(T===4)for(T=g.return;T!==null;){var V=T.tag;if((V===3||V===4)&&(V=T.stateNode.containerInfo,V===N||V.nodeType===8&&V.parentNode===N))return;T=T.return}for(;F!==null;){if(T=si(F),T===null)return;if(V=T.tag,V===5||V===6){g=A=T;continue e}F=F.parentNode}}g=g.return}Xb(function(){var ne=A,le=jo(p),ce=[];e:{var se=F1.get(s);if(se!==void 0){var xe=cp,ye=s;switch(s){case"keypress":if(Xc(p)===0)break e;case"keydown":case"keyup":xe=g5;break;case"focusin":ye="focus",xe=fp;break;case"focusout":ye="blur",xe=fp;break;case"beforeblur":case"afterblur":xe=fp;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=g1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=i5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=b5;break;case $1:case z1:case L1:xe=l5;break;case B1:xe=j5;break;case"scroll":xe=r5;break;case"wheel":xe=S5;break;case"copy":case"cut":case"paste":xe=u5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=y1}var je=(l&4)!==0,St=!je&&s==="scroll",Z=je?se!==null?se+"Capture":null:se;je=[];for(var Y=ne,ee;Y!==null;){ee=Y;var fe=ee.stateNode;if(ee.tag===5&&fe!==null&&(ee=fe,Z!==null&&(fe=No(Y,Z),fe!=null&&je.push(Uo(Y,fe,ee)))),St)break;Y=Y.return}0<je.length&&(se=new xe(se,ye,null,p,le),ce.push({event:se,listeners:je}))}}if((l&7)===0){e:{if(se=s==="mouseover"||s==="pointerover",xe=s==="mouseout"||s==="pointerout",se&&p!==wo&&(ye=p.relatedTarget||p.fromElement)&&(si(ye)||ye[Ur]))break e;if((xe||se)&&(se=le.window===le?le:(se=le.ownerDocument)?se.defaultView||se.parentWindow:window,xe?(ye=p.relatedTarget||p.toElement,xe=ne,ye=ye?si(ye):null,ye!==null&&(St=ii(ye),ye!==St||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(xe=null,ye=ne),xe!==ye)){if(je=g1,fe="onMouseLeave",Z="onMouseEnter",Y="mouse",(s==="pointerout"||s==="pointerover")&&(je=y1,fe="onPointerLeave",Z="onPointerEnter",Y="pointer"),St=xe==null?se:os(xe),ee=ye==null?se:os(ye),se=new je(fe,Y+"leave",xe,p,le),se.target=St,se.relatedTarget=ee,fe=null,si(le)===ne&&(je=new je(Z,Y+"enter",ye,p,le),je.target=ee,je.relatedTarget=St,fe=je),St=fe,xe&&ye)t:{for(je=xe,Z=ye,Y=0,ee=je;ee;ee=is(ee))Y++;for(ee=0,fe=Z;fe;fe=is(fe))ee++;for(;0<Y-ee;)je=is(je),Y--;for(;0<ee-Y;)Z=is(Z),ee--;for(;Y--;){if(je===Z||Z!==null&&je===Z.alternate)break t;je=is(je),Z=is(Z)}je=null}else je=null;xe!==null&&V1(ce,se,xe,je,!1),ye!==null&&St!==null&&V1(ce,St,ye,je,!0)}}e:{if(se=ne?os(ne):window,xe=se.nodeName&&se.nodeName.toLowerCase(),xe==="select"||xe==="input"&&se.type==="file")var Se=O5;else if(k1(se))if(A1)Se=M5;else{Se=T5;var Pe=I5}else(xe=se.nodeName)&&xe.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(Se=_5);if(Se&&(Se=Se(s,ne))){C1(ce,Se,p,le);break e}Pe&&Pe(s,se,ne),s==="focusout"&&(Pe=se._wrapperState)&&Pe.controlled&&se.type==="number"&&ze(se,"number",se.value)}switch(Pe=ne?os(ne):window,s){case"focusin":(k1(Pe)||Pe.contentEditable==="true")&&(rs=Pe,vp=ne,Lo=null);break;case"focusout":Lo=vp=rs=null;break;case"mousedown":yp=!0;break;case"contextmenu":case"mouseup":case"dragend":yp=!1,M1(ce,p,le);break;case"selectionchange":if(z5)break;case"keydown":case"keyup":M1(ce,p,le)}var Ee;if(hp)e:{switch(s){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else ns?N1(s,p)&&(Me="onCompositionEnd"):s==="keydown"&&p.keyCode===229&&(Me="onCompositionStart");Me&&(b1&&p.locale!=="ko"&&(ns||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&ns&&(Ee=m1()):(Na=le,lp="value"in Na?Na.value:Na.textContent,ns=!0)),Pe=ru(ne,Me),0<Pe.length&&(Me=new v1(Me,s,null,p,le),ce.push({event:Me,listeners:Pe}),Ee?Me.data=Ee:(Ee=S1(p),Ee!==null&&(Me.data=Ee)))),(Ee=C5?A5(s,p):P5(s,p))&&(ne=ru(ne,"onBeforeInput"),0<ne.length&&(le=new v1("onBeforeInput","beforeinput",null,p,le),ce.push({event:le,listeners:ne}),le.data=Ee))}W1(ce,l)})}function Uo(s,l,p){return{instance:s,listener:l,currentTarget:p}}function ru(s,l){for(var p=l+"Capture",g=[];s!==null;){var N=s,A=N.stateNode;N.tag===5&&A!==null&&(N=A,A=No(s,p),A!=null&&g.unshift(Uo(s,A,N)),A=No(s,l),A!=null&&g.push(Uo(s,A,N))),s=s.return}return g}function is(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function V1(s,l,p,g,N){for(var A=l._reactName,T=[];p!==null&&p!==g;){var F=p,V=F.alternate,ne=F.stateNode;if(V!==null&&V===g)break;F.tag===5&&ne!==null&&(F=ne,N?(V=No(p,A),V!=null&&T.unshift(Uo(p,V,F))):N||(V=No(p,A),V!=null&&T.push(Uo(p,V,F)))),p=p.return}T.length!==0&&s.push({event:l,listeners:T})}var U5=/\r\n?/g,q5=/\u0000|\uFFFD/g;function K1(s){return(typeof s=="string"?s:""+s).replace(U5,`
`).replace(q5,"")}function au(s,l,p){if(l=K1(l),K1(s)!==l&&p)throw Error(n(425))}function iu(){}var kp=null,Cp=null;function Ap(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Pp=typeof setTimeout=="function"?setTimeout:void 0,W5=typeof clearTimeout=="function"?clearTimeout:void 0,G1=typeof Promise=="function"?Promise:void 0,H5=typeof queueMicrotask=="function"?queueMicrotask:typeof G1<"u"?function(s){return G1.resolve(null).then(s).catch(V5)}:Pp;function V5(s){setTimeout(function(){throw s})}function Ep(s,l){var p=l,g=0;do{var N=p.nextSibling;if(s.removeChild(p),N&&N.nodeType===8)if(p=N.data,p==="/$"){if(g===0){s.removeChild(N),Io(l);return}g--}else p!=="$"&&p!=="$?"&&p!=="$!"||g++;p=N}while(p);Io(l)}function ka(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return s}function Y1(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var p=s.data;if(p==="$"||p==="$!"||p==="$?"){if(l===0)return s;l--}else p==="/$"&&l++}s=s.previousSibling}return null}var ss=Math.random().toString(36).slice(2),kr="__reactFiber$"+ss,qo="__reactProps$"+ss,Ur="__reactContainer$"+ss,Dp="__reactEvents$"+ss,K5="__reactListeners$"+ss,G5="__reactHandles$"+ss;function si(s){var l=s[kr];if(l)return l;for(var p=s.parentNode;p;){if(l=p[Ur]||p[kr]){if(p=l.alternate,l.child!==null||p!==null&&p.child!==null)for(s=Y1(s);s!==null;){if(p=s[kr])return p;s=Y1(s)}return l}s=p,p=s.parentNode}return null}function Wo(s){return s=s[kr]||s[Ur],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function os(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function su(s){return s[qo]||null}var Op=[],ls=-1;function Ca(s){return{current:s}}function ft(s){0>ls||(s.current=Op[ls],Op[ls]=null,ls--)}function ct(s,l){ls++,Op[ls]=s.current,s.current=l}var Aa={},Qt=Ca(Aa),gn=Ca(!1),oi=Aa;function cs(s,l){var p=s.type.contextTypes;if(!p)return Aa;var g=s.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var N={},A;for(A in p)N[A]=l[A];return g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=l,s.__reactInternalMemoizedMaskedChildContext=N),N}function vn(s){return s=s.childContextTypes,s!=null}function ou(){ft(gn),ft(Qt)}function X1(s,l,p){if(Qt.current!==Aa)throw Error(n(168));ct(Qt,l),ct(gn,p)}function Q1(s,l,p){var g=s.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return p;g=g.getChildContext();for(var N in g)if(!(N in l))throw Error(n(108,$e(s)||"Unknown",N));return R({},p,g)}function lu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Aa,oi=Qt.current,ct(Qt,s),ct(gn,gn.current),!0}function Z1(s,l,p){var g=s.stateNode;if(!g)throw Error(n(169));p?(s=Q1(s,l,oi),g.__reactInternalMemoizedMergedChildContext=s,ft(gn),ft(Qt),ct(Qt,s)):ft(gn),ct(gn,p)}var qr=null,cu=!1,Ip=!1;function J1(s){qr===null?qr=[s]:qr.push(s)}function Y5(s){cu=!0,J1(s)}function Pa(){if(!Ip&&qr!==null){Ip=!0;var s=0,l=tt;try{var p=qr;for(tt=1;s<p.length;s++){var g=p[s];do g=g(!0);while(g!==null)}qr=null,cu=!1}catch(N){throw qr!==null&&(qr=qr.slice(s+1)),t1(ep,Pa),N}finally{tt=l,Ip=!1}}return null}var us=[],ds=0,uu=null,du=0,Bn=[],Fn=0,li=null,Wr=1,Hr="";function ci(s,l){us[ds++]=du,us[ds++]=uu,uu=s,du=l}function ew(s,l,p){Bn[Fn++]=Wr,Bn[Fn++]=Hr,Bn[Fn++]=li,li=s;var g=Wr;s=Hr;var N=32-ar(g)-1;g&=~(1<<N),p+=1;var A=32-ar(l)+N;if(30<A){var T=N-N%5;A=(g&(1<<T)-1).toString(32),g>>=T,N-=T,Wr=1<<32-ar(l)+N|p<<N|g,Hr=A+s}else Wr=1<<A|p<<N|g,Hr=s}function Tp(s){s.return!==null&&(ci(s,1),ew(s,1,0))}function _p(s){for(;s===uu;)uu=us[--ds],us[ds]=null,du=us[--ds],us[ds]=null;for(;s===li;)li=Bn[--Fn],Bn[Fn]=null,Hr=Bn[--Fn],Bn[Fn]=null,Wr=Bn[--Fn],Bn[Fn]=null}var En=null,Dn=null,ht=!1,sr=null;function tw(s,l){var p=Hn(5,null,null,0);p.elementType="DELETED",p.stateNode=l,p.return=s,l=s.deletions,l===null?(s.deletions=[p],s.flags|=16):l.push(p)}function nw(s,l){switch(s.tag){case 5:var p=s.type;return l=l.nodeType!==1||p.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(s.stateNode=l,En=s,Dn=ka(l.firstChild),!0):!1;case 6:return l=s.pendingProps===""||l.nodeType!==3?null:l,l!==null?(s.stateNode=l,En=s,Dn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(p=li!==null?{id:Wr,overflow:Hr}:null,s.memoizedState={dehydrated:l,treeContext:p,retryLane:1073741824},p=Hn(18,null,null,0),p.stateNode=l,p.return=s,s.child=p,En=s,Dn=null,!0):!1;default:return!1}}function Mp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Rp(s){if(ht){var l=Dn;if(l){var p=l;if(!nw(s,l)){if(Mp(s))throw Error(n(418));l=ka(p.nextSibling);var g=En;l&&nw(s,l)?tw(g,p):(s.flags=s.flags&-4097|2,ht=!1,En=s)}}else{if(Mp(s))throw Error(n(418));s.flags=s.flags&-4097|2,ht=!1,En=s}}}function rw(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;En=s}function fu(s){if(s!==En)return!1;if(!ht)return rw(s),ht=!0,!1;var l;if((l=s.tag!==3)&&!(l=s.tag!==5)&&(l=s.type,l=l!=="head"&&l!=="body"&&!Ap(s.type,s.memoizedProps)),l&&(l=Dn)){if(Mp(s))throw aw(),Error(n(418));for(;l;)tw(s,l),l=ka(l.nextSibling)}if(rw(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8){var p=s.data;if(p==="/$"){if(l===0){Dn=ka(s.nextSibling);break e}l--}else p!=="$"&&p!=="$!"&&p!=="$?"||l++}s=s.nextSibling}Dn=null}}else Dn=En?ka(s.stateNode.nextSibling):null;return!0}function aw(){for(var s=Dn;s;)s=ka(s.nextSibling)}function fs(){Dn=En=null,ht=!1}function $p(s){sr===null?sr=[s]:sr.push(s)}var X5=k.ReactCurrentBatchConfig;function or(s,l){if(s&&s.defaultProps){l=R({},l),s=s.defaultProps;for(var p in s)l[p]===void 0&&(l[p]=s[p]);return l}return l}var pu=Ca(null),hu=null,ps=null,zp=null;function Lp(){zp=ps=hu=null}function Bp(s){var l=pu.current;ft(pu),s._currentValue=l}function Fp(s,l,p){for(;s!==null;){var g=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),s===p)break;s=s.return}}function hs(s,l){hu=s,zp=ps=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&l)!==0&&(yn=!0),s.firstContext=null)}function Un(s){var l=s._currentValue;if(zp!==s)if(s={context:s,memoizedValue:l,next:null},ps===null){if(hu===null)throw Error(n(308));ps=s,hu.dependencies={lanes:0,firstContext:s}}else ps=ps.next=s;return l}var ui=null;function Up(s){ui===null?ui=[s]:ui.push(s)}function iw(s,l,p,g){var N=l.interleaved;return N===null?(p.next=p,Up(l)):(p.next=N.next,N.next=p),l.interleaved=p,Vr(s,g)}function Vr(s,l){s.lanes|=l;var p=s.alternate;for(p!==null&&(p.lanes|=l),p=s,s=s.return;s!==null;)s.childLanes|=l,p=s.alternate,p!==null&&(p.childLanes|=l),p=s,s=s.return;return p.tag===3?p.stateNode:null}var Ea=!1;function qp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sw(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Kr(s,l){return{eventTime:s,lane:l,tag:0,payload:null,callback:null,next:null}}function Da(s,l,p){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(Ve&2)!==0){var N=g.pending;return N===null?l.next=l:(l.next=N.next,N.next=l),g.pending=l,Vr(s,p)}return N=g.interleaved,N===null?(l.next=l,Up(g)):(l.next=N.next,N.next=l),g.interleaved=l,Vr(s,p)}function mu(s,l,p){if(l=l.updateQueue,l!==null&&(l=l.shared,(p&4194240)!==0)){var g=l.lanes;g&=s.pendingLanes,p|=g,l.lanes=p,rp(s,p)}}function ow(s,l){var p=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,p===g)){var N=null,A=null;if(p=p.firstBaseUpdate,p!==null){do{var T={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};A===null?N=A=T:A=A.next=T,p=p.next}while(p!==null);A===null?N=A=l:A=A.next=l}else N=A=l;p={baseState:g.baseState,firstBaseUpdate:N,lastBaseUpdate:A,shared:g.shared,effects:g.effects},s.updateQueue=p;return}s=p.lastBaseUpdate,s===null?p.firstBaseUpdate=l:s.next=l,p.lastBaseUpdate=l}function xu(s,l,p,g){var N=s.updateQueue;Ea=!1;var A=N.firstBaseUpdate,T=N.lastBaseUpdate,F=N.shared.pending;if(F!==null){N.shared.pending=null;var V=F,ne=V.next;V.next=null,T===null?A=ne:T.next=ne,T=V;var le=s.alternate;le!==null&&(le=le.updateQueue,F=le.lastBaseUpdate,F!==T&&(F===null?le.firstBaseUpdate=ne:F.next=ne,le.lastBaseUpdate=V))}if(A!==null){var ce=N.baseState;T=0,le=ne=V=null,F=A;do{var se=F.lane,xe=F.eventTime;if((g&se)===se){le!==null&&(le=le.next={eventTime:xe,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var ye=s,je=F;switch(se=l,xe=p,je.tag){case 1:if(ye=je.payload,typeof ye=="function"){ce=ye.call(xe,ce,se);break e}ce=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=je.payload,se=typeof ye=="function"?ye.call(xe,ce,se):ye,se==null)break e;ce=R({},ce,se);break e;case 2:Ea=!0}}F.callback!==null&&F.lane!==0&&(s.flags|=64,se=N.effects,se===null?N.effects=[F]:se.push(F))}else xe={eventTime:xe,lane:se,tag:F.tag,payload:F.payload,callback:F.callback,next:null},le===null?(ne=le=xe,V=ce):le=le.next=xe,T|=se;if(F=F.next,F===null){if(F=N.shared.pending,F===null)break;se=F,F=se.next,se.next=null,N.lastBaseUpdate=se,N.shared.pending=null}}while(!0);if(le===null&&(V=ce),N.baseState=V,N.firstBaseUpdate=ne,N.lastBaseUpdate=le,l=N.shared.interleaved,l!==null){N=l;do T|=N.lane,N=N.next;while(N!==l)}else A===null&&(N.shared.lanes=0);pi|=T,s.lanes=T,s.memoizedState=ce}}function lw(s,l,p){if(s=l.effects,l.effects=null,s!==null)for(l=0;l<s.length;l++){var g=s[l],N=g.callback;if(N!==null){if(g.callback=null,g=p,typeof N!="function")throw Error(n(191,N));N.call(g)}}}var cw=new e.Component().refs;function Wp(s,l,p,g){l=s.memoizedState,p=p(g,l),p=p==null?l:R({},l,p),s.memoizedState=p,s.lanes===0&&(s.updateQueue.baseState=p)}var gu={isMounted:function(s){return(s=s._reactInternals)?ii(s)===s:!1},enqueueSetState:function(s,l,p){s=s._reactInternals;var g=un(),N=_a(s),A=Kr(g,N);A.payload=l,p!=null&&(A.callback=p),l=Da(s,A,N),l!==null&&(ur(l,s,N,g),mu(l,s,N))},enqueueReplaceState:function(s,l,p){s=s._reactInternals;var g=un(),N=_a(s),A=Kr(g,N);A.tag=1,A.payload=l,p!=null&&(A.callback=p),l=Da(s,A,N),l!==null&&(ur(l,s,N,g),mu(l,s,N))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var p=un(),g=_a(s),N=Kr(p,g);N.tag=2,l!=null&&(N.callback=l),l=Da(s,N,g),l!==null&&(ur(l,s,g,p),mu(l,s,g))}};function uw(s,l,p,g,N,A,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,A,T):l.prototype&&l.prototype.isPureReactComponent?!zo(p,g)||!zo(N,A):!0}function dw(s,l,p){var g=!1,N=Aa,A=l.contextType;return typeof A=="object"&&A!==null?A=Un(A):(N=vn(l)?oi:Qt.current,g=l.contextTypes,A=(g=g!=null)?cs(s,N):Aa),l=new l(p,A),s.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=gu,s.stateNode=l,l._reactInternals=s,g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=N,s.__reactInternalMemoizedMaskedChildContext=A),l}function fw(s,l,p,g){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(p,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(p,g),l.state!==s&&gu.enqueueReplaceState(l,l.state,null)}function Hp(s,l,p,g){var N=s.stateNode;N.props=p,N.state=s.memoizedState,N.refs=cw,qp(s);var A=l.contextType;typeof A=="object"&&A!==null?N.context=Un(A):(A=vn(l)?oi:Qt.current,N.context=cs(s,A)),N.state=s.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(Wp(s,l,A,p),N.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(l=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),l!==N.state&&gu.enqueueReplaceState(N,N.state,null),xu(s,p,N,g),N.state=s.memoizedState),typeof N.componentDidMount=="function"&&(s.flags|=4194308)}function Ho(s,l,p){if(s=p.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(n(309));var g=p.stateNode}if(!g)throw Error(n(147,s));var N=g,A=""+s;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===A?l.ref:(l=function(T){var F=N.refs;F===cw&&(F=N.refs={}),T===null?delete F[A]:F[A]=T},l._stringRef=A,l)}if(typeof s!="string")throw Error(n(284));if(!p._owner)throw Error(n(290,s))}return s}function vu(s,l){throw s=Object.prototype.toString.call(l),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s))}function pw(s){var l=s._init;return l(s._payload)}function hw(s){function l(Z,Y){if(s){var ee=Z.deletions;ee===null?(Z.deletions=[Y],Z.flags|=16):ee.push(Y)}}function p(Z,Y){if(!s)return null;for(;Y!==null;)l(Z,Y),Y=Y.sibling;return null}function g(Z,Y){for(Z=new Map;Y!==null;)Y.key!==null?Z.set(Y.key,Y):Z.set(Y.index,Y),Y=Y.sibling;return Z}function N(Z,Y){return Z=Ra(Z,Y),Z.index=0,Z.sibling=null,Z}function A(Z,Y,ee){return Z.index=ee,s?(ee=Z.alternate,ee!==null?(ee=ee.index,ee<Y?(Z.flags|=2,Y):ee):(Z.flags|=2,Y)):(Z.flags|=1048576,Y)}function T(Z){return s&&Z.alternate===null&&(Z.flags|=2),Z}function F(Z,Y,ee,fe){return Y===null||Y.tag!==6?(Y=Ph(ee,Z.mode,fe),Y.return=Z,Y):(Y=N(Y,ee),Y.return=Z,Y)}function V(Z,Y,ee,fe){var Se=ee.type;return Se===D?le(Z,Y,ee.props.children,fe,ee.key):Y!==null&&(Y.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===G&&pw(Se)===Y.type)?(fe=N(Y,ee.props),fe.ref=Ho(Z,Y,ee),fe.return=Z,fe):(fe=$u(ee.type,ee.key,ee.props,null,Z.mode,fe),fe.ref=Ho(Z,Y,ee),fe.return=Z,fe)}function ne(Z,Y,ee,fe){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ee.containerInfo||Y.stateNode.implementation!==ee.implementation?(Y=Eh(ee,Z.mode,fe),Y.return=Z,Y):(Y=N(Y,ee.children||[]),Y.return=Z,Y)}function le(Z,Y,ee,fe,Se){return Y===null||Y.tag!==7?(Y=gi(ee,Z.mode,fe,Se),Y.return=Z,Y):(Y=N(Y,ee),Y.return=Z,Y)}function ce(Z,Y,ee){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Y=Ph(""+Y,Z.mode,ee),Y.return=Z,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case C:return ee=$u(Y.type,Y.key,Y.props,null,Z.mode,ee),ee.ref=Ho(Z,null,Y),ee.return=Z,ee;case E:return Y=Eh(Y,Z.mode,ee),Y.return=Z,Y;case G:var fe=Y._init;return ce(Z,fe(Y._payload),ee)}if(qe(Y)||X(Y))return Y=gi(Y,Z.mode,ee,null),Y.return=Z,Y;vu(Z,Y)}return null}function se(Z,Y,ee,fe){var Se=Y!==null?Y.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return Se!==null?null:F(Z,Y,""+ee,fe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case C:return ee.key===Se?V(Z,Y,ee,fe):null;case E:return ee.key===Se?ne(Z,Y,ee,fe):null;case G:return Se=ee._init,se(Z,Y,Se(ee._payload),fe)}if(qe(ee)||X(ee))return Se!==null?null:le(Z,Y,ee,fe,null);vu(Z,ee)}return null}function xe(Z,Y,ee,fe,Se){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return Z=Z.get(ee)||null,F(Y,Z,""+fe,Se);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case C:return Z=Z.get(fe.key===null?ee:fe.key)||null,V(Y,Z,fe,Se);case E:return Z=Z.get(fe.key===null?ee:fe.key)||null,ne(Y,Z,fe,Se);case G:var Pe=fe._init;return xe(Z,Y,ee,Pe(fe._payload),Se)}if(qe(fe)||X(fe))return Z=Z.get(ee)||null,le(Y,Z,fe,Se,null);vu(Y,fe)}return null}function ye(Z,Y,ee,fe){for(var Se=null,Pe=null,Ee=Y,Me=Y=0,Ft=null;Ee!==null&&Me<ee.length;Me++){Ee.index>Me?(Ft=Ee,Ee=null):Ft=Ee.sibling;var Ge=se(Z,Ee,ee[Me],fe);if(Ge===null){Ee===null&&(Ee=Ft);break}s&&Ee&&Ge.alternate===null&&l(Z,Ee),Y=A(Ge,Y,Me),Pe===null?Se=Ge:Pe.sibling=Ge,Pe=Ge,Ee=Ft}if(Me===ee.length)return p(Z,Ee),ht&&ci(Z,Me),Se;if(Ee===null){for(;Me<ee.length;Me++)Ee=ce(Z,ee[Me],fe),Ee!==null&&(Y=A(Ee,Y,Me),Pe===null?Se=Ee:Pe.sibling=Ee,Pe=Ee);return ht&&ci(Z,Me),Se}for(Ee=g(Z,Ee);Me<ee.length;Me++)Ft=xe(Ee,Z,Me,ee[Me],fe),Ft!==null&&(s&&Ft.alternate!==null&&Ee.delete(Ft.key===null?Me:Ft.key),Y=A(Ft,Y,Me),Pe===null?Se=Ft:Pe.sibling=Ft,Pe=Ft);return s&&Ee.forEach(function($a){return l(Z,$a)}),ht&&ci(Z,Me),Se}function je(Z,Y,ee,fe){var Se=X(ee);if(typeof Se!="function")throw Error(n(150));if(ee=Se.call(ee),ee==null)throw Error(n(151));for(var Pe=Se=null,Ee=Y,Me=Y=0,Ft=null,Ge=ee.next();Ee!==null&&!Ge.done;Me++,Ge=ee.next()){Ee.index>Me?(Ft=Ee,Ee=null):Ft=Ee.sibling;var $a=se(Z,Ee,Ge.value,fe);if($a===null){Ee===null&&(Ee=Ft);break}s&&Ee&&$a.alternate===null&&l(Z,Ee),Y=A($a,Y,Me),Pe===null?Se=$a:Pe.sibling=$a,Pe=$a,Ee=Ft}if(Ge.done)return p(Z,Ee),ht&&ci(Z,Me),Se;if(Ee===null){for(;!Ge.done;Me++,Ge=ee.next())Ge=ce(Z,Ge.value,fe),Ge!==null&&(Y=A(Ge,Y,Me),Pe===null?Se=Ge:Pe.sibling=Ge,Pe=Ge);return ht&&ci(Z,Me),Se}for(Ee=g(Z,Ee);!Ge.done;Me++,Ge=ee.next())Ge=xe(Ee,Z,Me,Ge.value,fe),Ge!==null&&(s&&Ge.alternate!==null&&Ee.delete(Ge.key===null?Me:Ge.key),Y=A(Ge,Y,Me),Pe===null?Se=Ge:Pe.sibling=Ge,Pe=Ge);return s&&Ee.forEach(function(ET){return l(Z,ET)}),ht&&ci(Z,Me),Se}function St(Z,Y,ee,fe){if(typeof ee=="object"&&ee!==null&&ee.type===D&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case C:e:{for(var Se=ee.key,Pe=Y;Pe!==null;){if(Pe.key===Se){if(Se=ee.type,Se===D){if(Pe.tag===7){p(Z,Pe.sibling),Y=N(Pe,ee.props.children),Y.return=Z,Z=Y;break e}}else if(Pe.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===G&&pw(Se)===Pe.type){p(Z,Pe.sibling),Y=N(Pe,ee.props),Y.ref=Ho(Z,Pe,ee),Y.return=Z,Z=Y;break e}p(Z,Pe);break}else l(Z,Pe);Pe=Pe.sibling}ee.type===D?(Y=gi(ee.props.children,Z.mode,fe,ee.key),Y.return=Z,Z=Y):(fe=$u(ee.type,ee.key,ee.props,null,Z.mode,fe),fe.ref=Ho(Z,Y,ee),fe.return=Z,Z=fe)}return T(Z);case E:e:{for(Pe=ee.key;Y!==null;){if(Y.key===Pe)if(Y.tag===4&&Y.stateNode.containerInfo===ee.containerInfo&&Y.stateNode.implementation===ee.implementation){p(Z,Y.sibling),Y=N(Y,ee.children||[]),Y.return=Z,Z=Y;break e}else{p(Z,Y);break}else l(Z,Y);Y=Y.sibling}Y=Eh(ee,Z.mode,fe),Y.return=Z,Z=Y}return T(Z);case G:return Pe=ee._init,St(Z,Y,Pe(ee._payload),fe)}if(qe(ee))return ye(Z,Y,ee,fe);if(X(ee))return je(Z,Y,ee,fe);vu(Z,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,Y!==null&&Y.tag===6?(p(Z,Y.sibling),Y=N(Y,ee),Y.return=Z,Z=Y):(p(Z,Y),Y=Ph(ee,Z.mode,fe),Y.return=Z,Z=Y),T(Z)):p(Z,Y)}return St}var ms=hw(!0),mw=hw(!1),Vo={},Cr=Ca(Vo),Ko=Ca(Vo),Go=Ca(Vo);function di(s){if(s===Vo)throw Error(n(174));return s}function Vp(s,l){switch(ct(Go,l),ct(Ko,s),ct(Cr,Vo),s=l.nodeType,s){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Ot(null,"");break;default:s=s===8?l.parentNode:l,l=s.namespaceURI||null,s=s.tagName,l=Ot(l,s)}ft(Cr),ct(Cr,l)}function xs(){ft(Cr),ft(Ko),ft(Go)}function xw(s){di(Go.current);var l=di(Cr.current),p=Ot(l,s.type);l!==p&&(ct(Ko,s),ct(Cr,p))}function Kp(s){Ko.current===s&&(ft(Cr),ft(Ko))}var gt=Ca(0);function yu(s){for(var l=s;l!==null;){if(l.tag===13){var p=l.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Gp=[];function Yp(){for(var s=0;s<Gp.length;s++)Gp[s]._workInProgressVersionPrimary=null;Gp.length=0}var bu=k.ReactCurrentDispatcher,Xp=k.ReactCurrentBatchConfig,fi=0,vt=null,It=null,Lt=null,wu=!1,Yo=!1,Xo=0,Q5=0;function Zt(){throw Error(n(321))}function Qp(s,l){if(l===null)return!1;for(var p=0;p<l.length&&p<s.length;p++)if(!ir(s[p],l[p]))return!1;return!0}function Zp(s,l,p,g,N,A){if(fi=A,vt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,bu.current=s===null||s.memoizedState===null?tT:nT,s=p(g,N),Yo){A=0;do{if(Yo=!1,Xo=0,25<=A)throw Error(n(301));A+=1,Lt=It=null,l.updateQueue=null,bu.current=rT,s=p(g,N)}while(Yo)}if(bu.current=Su,l=It!==null&&It.next!==null,fi=0,Lt=It=vt=null,wu=!1,l)throw Error(n(300));return s}function Jp(){var s=Xo!==0;return Xo=0,s}function Ar(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?vt.memoizedState=Lt=s:Lt=Lt.next=s,Lt}function qn(){if(It===null){var s=vt.alternate;s=s!==null?s.memoizedState:null}else s=It.next;var l=Lt===null?vt.memoizedState:Lt.next;if(l!==null)Lt=l,It=s;else{if(s===null)throw Error(n(310));It=s,s={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Lt===null?vt.memoizedState=Lt=s:Lt=Lt.next=s}return Lt}function Qo(s,l){return typeof l=="function"?l(s):l}function eh(s){var l=qn(),p=l.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=s;var g=It,N=g.baseQueue,A=p.pending;if(A!==null){if(N!==null){var T=N.next;N.next=A.next,A.next=T}g.baseQueue=N=A,p.pending=null}if(N!==null){A=N.next,g=g.baseState;var F=T=null,V=null,ne=A;do{var le=ne.lane;if((fi&le)===le)V!==null&&(V=V.next={lane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),g=ne.hasEagerState?ne.eagerState:s(g,ne.action);else{var ce={lane:le,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null};V===null?(F=V=ce,T=g):V=V.next=ce,vt.lanes|=le,pi|=le}ne=ne.next}while(ne!==null&&ne!==A);V===null?T=g:V.next=F,ir(g,l.memoizedState)||(yn=!0),l.memoizedState=g,l.baseState=T,l.baseQueue=V,p.lastRenderedState=g}if(s=p.interleaved,s!==null){N=s;do A=N.lane,vt.lanes|=A,pi|=A,N=N.next;while(N!==s)}else N===null&&(p.lanes=0);return[l.memoizedState,p.dispatch]}function th(s){var l=qn(),p=l.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=s;var g=p.dispatch,N=p.pending,A=l.memoizedState;if(N!==null){p.pending=null;var T=N=N.next;do A=s(A,T.action),T=T.next;while(T!==N);ir(A,l.memoizedState)||(yn=!0),l.memoizedState=A,l.baseQueue===null&&(l.baseState=A),p.lastRenderedState=A}return[A,g]}function gw(){}function vw(s,l){var p=vt,g=qn(),N=l(),A=!ir(g.memoizedState,N);if(A&&(g.memoizedState=N,yn=!0),g=g.queue,nh(ww.bind(null,p,g,s),[s]),g.getSnapshot!==l||A||Lt!==null&&Lt.memoizedState.tag&1){if(p.flags|=2048,Zo(9,bw.bind(null,p,g,N,l),void 0,null),Bt===null)throw Error(n(349));(fi&30)!==0||yw(p,l,N)}return N}function yw(s,l,p){s.flags|=16384,s={getSnapshot:l,value:p},l=vt.updateQueue,l===null?(l={lastEffect:null,stores:null},vt.updateQueue=l,l.stores=[s]):(p=l.stores,p===null?l.stores=[s]:p.push(s))}function bw(s,l,p,g){l.value=p,l.getSnapshot=g,jw(l)&&Nw(s)}function ww(s,l,p){return p(function(){jw(l)&&Nw(s)})}function jw(s){var l=s.getSnapshot;s=s.value;try{var p=l();return!ir(s,p)}catch{return!0}}function Nw(s){var l=Vr(s,1);l!==null&&ur(l,s,1,-1)}function Sw(s){var l=Ar();return typeof s=="function"&&(s=s()),l.memoizedState=l.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:s},l.queue=s,s=s.dispatch=eT.bind(null,vt,s),[l.memoizedState,s]}function Zo(s,l,p,g){return s={tag:s,create:l,destroy:p,deps:g,next:null},l=vt.updateQueue,l===null?(l={lastEffect:null,stores:null},vt.updateQueue=l,l.lastEffect=s.next=s):(p=l.lastEffect,p===null?l.lastEffect=s.next=s:(g=p.next,p.next=s,s.next=g,l.lastEffect=s)),s}function kw(){return qn().memoizedState}function ju(s,l,p,g){var N=Ar();vt.flags|=s,N.memoizedState=Zo(1|l,p,void 0,g===void 0?null:g)}function Nu(s,l,p,g){var N=qn();g=g===void 0?null:g;var A=void 0;if(It!==null){var T=It.memoizedState;if(A=T.destroy,g!==null&&Qp(g,T.deps)){N.memoizedState=Zo(l,p,A,g);return}}vt.flags|=s,N.memoizedState=Zo(1|l,p,A,g)}function Cw(s,l){return ju(8390656,8,s,l)}function nh(s,l){return Nu(2048,8,s,l)}function Aw(s,l){return Nu(4,2,s,l)}function Pw(s,l){return Nu(4,4,s,l)}function Ew(s,l){if(typeof l=="function")return s=s(),l(s),function(){l(null)};if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function Dw(s,l,p){return p=p!=null?p.concat([s]):null,Nu(4,4,Ew.bind(null,l,s),p)}function rh(){}function Ow(s,l){var p=qn();l=l===void 0?null:l;var g=p.memoizedState;return g!==null&&l!==null&&Qp(l,g[1])?g[0]:(p.memoizedState=[s,l],s)}function Iw(s,l){var p=qn();l=l===void 0?null:l;var g=p.memoizedState;return g!==null&&l!==null&&Qp(l,g[1])?g[0]:(s=s(),p.memoizedState=[s,l],s)}function Tw(s,l,p){return(fi&21)===0?(s.baseState&&(s.baseState=!1,yn=!0),s.memoizedState=p):(ir(p,l)||(p=i1(),vt.lanes|=p,pi|=p,s.baseState=!0),l)}function Z5(s,l){var p=tt;tt=p!==0&&4>p?p:4,s(!0);var g=Xp.transition;Xp.transition={};try{s(!1),l()}finally{tt=p,Xp.transition=g}}function _w(){return qn().memoizedState}function J5(s,l,p){var g=_a(s);if(p={lane:g,action:p,hasEagerState:!1,eagerState:null,next:null},Mw(s))Rw(l,p);else if(p=iw(s,l,p,g),p!==null){var N=un();ur(p,s,g,N),$w(p,l,g)}}function eT(s,l,p){var g=_a(s),N={lane:g,action:p,hasEagerState:!1,eagerState:null,next:null};if(Mw(s))Rw(l,N);else{var A=s.alternate;if(s.lanes===0&&(A===null||A.lanes===0)&&(A=l.lastRenderedReducer,A!==null))try{var T=l.lastRenderedState,F=A(T,p);if(N.hasEagerState=!0,N.eagerState=F,ir(F,T)){var V=l.interleaved;V===null?(N.next=N,Up(l)):(N.next=V.next,V.next=N),l.interleaved=N;return}}catch{}finally{}p=iw(s,l,N,g),p!==null&&(N=un(),ur(p,s,g,N),$w(p,l,g))}}function Mw(s){var l=s.alternate;return s===vt||l!==null&&l===vt}function Rw(s,l){Yo=wu=!0;var p=s.pending;p===null?l.next=l:(l.next=p.next,p.next=l),s.pending=l}function $w(s,l,p){if((p&4194240)!==0){var g=l.lanes;g&=s.pendingLanes,p|=g,l.lanes=p,rp(s,p)}}var Su={readContext:Un,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},tT={readContext:Un,useCallback:function(s,l){return Ar().memoizedState=[s,l===void 0?null:l],s},useContext:Un,useEffect:Cw,useImperativeHandle:function(s,l,p){return p=p!=null?p.concat([s]):null,ju(4194308,4,Ew.bind(null,l,s),p)},useLayoutEffect:function(s,l){return ju(4194308,4,s,l)},useInsertionEffect:function(s,l){return ju(4,2,s,l)},useMemo:function(s,l){var p=Ar();return l=l===void 0?null:l,s=s(),p.memoizedState=[s,l],s},useReducer:function(s,l,p){var g=Ar();return l=p!==void 0?p(l):l,g.memoizedState=g.baseState=l,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:l},g.queue=s,s=s.dispatch=J5.bind(null,vt,s),[g.memoizedState,s]},useRef:function(s){var l=Ar();return s={current:s},l.memoizedState=s},useState:Sw,useDebugValue:rh,useDeferredValue:function(s){return Ar().memoizedState=s},useTransition:function(){var s=Sw(!1),l=s[0];return s=Z5.bind(null,s[1]),Ar().memoizedState=s,[l,s]},useMutableSource:function(){},useSyncExternalStore:function(s,l,p){var g=vt,N=Ar();if(ht){if(p===void 0)throw Error(n(407));p=p()}else{if(p=l(),Bt===null)throw Error(n(349));(fi&30)!==0||yw(g,l,p)}N.memoizedState=p;var A={value:p,getSnapshot:l};return N.queue=A,Cw(ww.bind(null,g,A,s),[s]),g.flags|=2048,Zo(9,bw.bind(null,g,A,p,l),void 0,null),p},useId:function(){var s=Ar(),l=Bt.identifierPrefix;if(ht){var p=Hr,g=Wr;p=(g&~(1<<32-ar(g)-1)).toString(32)+p,l=":"+l+"R"+p,p=Xo++,0<p&&(l+="H"+p.toString(32)),l+=":"}else p=Q5++,l=":"+l+"r"+p.toString(32)+":";return s.memoizedState=l},unstable_isNewReconciler:!1},nT={readContext:Un,useCallback:Ow,useContext:Un,useEffect:nh,useImperativeHandle:Dw,useInsertionEffect:Aw,useLayoutEffect:Pw,useMemo:Iw,useReducer:eh,useRef:kw,useState:function(){return eh(Qo)},useDebugValue:rh,useDeferredValue:function(s){var l=qn();return Tw(l,It.memoizedState,s)},useTransition:function(){var s=eh(Qo)[0],l=qn().memoizedState;return[s,l]},useMutableSource:gw,useSyncExternalStore:vw,useId:_w,unstable_isNewReconciler:!1},rT={readContext:Un,useCallback:Ow,useContext:Un,useEffect:nh,useImperativeHandle:Dw,useInsertionEffect:Aw,useLayoutEffect:Pw,useMemo:Iw,useReducer:th,useRef:kw,useState:function(){return th(Qo)},useDebugValue:rh,useDeferredValue:function(s){var l=qn();return It===null?l.memoizedState=s:Tw(l,It.memoizedState,s)},useTransition:function(){var s=th(Qo)[0],l=qn().memoizedState;return[s,l]},useMutableSource:gw,useSyncExternalStore:vw,useId:_w,unstable_isNewReconciler:!1};function gs(s,l){try{var p="",g=l;do p+=be(g),g=g.return;while(g);var N=p}catch(A){N=`
Error generating stack: `+A.message+`
`+A.stack}return{value:s,source:l,stack:N,digest:null}}function ah(s,l,p){return{value:s,source:null,stack:p??null,digest:l??null}}function ih(s,l){try{console.error(l.value)}catch(p){setTimeout(function(){throw p})}}var aT=typeof WeakMap=="function"?WeakMap:Map;function zw(s,l,p){p=Kr(-1,p),p.tag=3,p.payload={element:null};var g=l.value;return p.callback=function(){Ou||(Ou=!0,bh=g),ih(s,l)},p}function Lw(s,l,p){p=Kr(-1,p),p.tag=3;var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var N=l.value;p.payload=function(){return g(N)},p.callback=function(){ih(s,l)}}var A=s.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(p.callback=function(){ih(s,l),typeof g!="function"&&(Ia===null?Ia=new Set([this]):Ia.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})}),p}function Bw(s,l,p){var g=s.pingCache;if(g===null){g=s.pingCache=new aT;var N=new Set;g.set(l,N)}else N=g.get(l),N===void 0&&(N=new Set,g.set(l,N));N.has(p)||(N.add(p),s=vT.bind(null,s,l,p),l.then(s,s))}function Fw(s){do{var l;if((l=s.tag===13)&&(l=s.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return s;s=s.return}while(s!==null);return null}function Uw(s,l,p,g,N){return(s.mode&1)===0?(s===l?s.flags|=65536:(s.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(l=Kr(-1,1),l.tag=2,Da(p,l,1))),p.lanes|=1),s):(s.flags|=65536,s.lanes=N,s)}var iT=k.ReactCurrentOwner,yn=!1;function cn(s,l,p,g){l.child=s===null?mw(l,null,p,g):ms(l,s.child,p,g)}function qw(s,l,p,g,N){p=p.render;var A=l.ref;return hs(l,N),g=Zp(s,l,p,g,A,N),p=Jp(),s!==null&&!yn?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~N,Gr(s,l,N)):(ht&&p&&Tp(l),l.flags|=1,cn(s,l,g,N),l.child)}function Ww(s,l,p,g,N){if(s===null){var A=p.type;return typeof A=="function"&&!Ah(A)&&A.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(l.tag=15,l.type=A,Hw(s,l,A,g,N)):(s=$u(p.type,null,g,l,l.mode,N),s.ref=l.ref,s.return=l,l.child=s)}if(A=s.child,(s.lanes&N)===0){var T=A.memoizedProps;if(p=p.compare,p=p!==null?p:zo,p(T,g)&&s.ref===l.ref)return Gr(s,l,N)}return l.flags|=1,s=Ra(A,g),s.ref=l.ref,s.return=l,l.child=s}function Hw(s,l,p,g,N){if(s!==null){var A=s.memoizedProps;if(zo(A,g)&&s.ref===l.ref)if(yn=!1,l.pendingProps=g=A,(s.lanes&N)!==0)(s.flags&131072)!==0&&(yn=!0);else return l.lanes=s.lanes,Gr(s,l,N)}return sh(s,l,p,g,N)}function Vw(s,l,p){var g=l.pendingProps,N=g.children,A=s!==null?s.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(ys,On),On|=p;else{if((p&1073741824)===0)return s=A!==null?A.baseLanes|p:p,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:s,cachePool:null,transitions:null},l.updateQueue=null,ct(ys,On),On|=s,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=A!==null?A.baseLanes:p,ct(ys,On),On|=g}else A!==null?(g=A.baseLanes|p,l.memoizedState=null):g=p,ct(ys,On),On|=g;return cn(s,l,N,p),l.child}function Kw(s,l){var p=l.ref;(s===null&&p!==null||s!==null&&s.ref!==p)&&(l.flags|=512,l.flags|=2097152)}function sh(s,l,p,g,N){var A=vn(p)?oi:Qt.current;return A=cs(l,A),hs(l,N),p=Zp(s,l,p,g,A,N),g=Jp(),s!==null&&!yn?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~N,Gr(s,l,N)):(ht&&g&&Tp(l),l.flags|=1,cn(s,l,p,N),l.child)}function Gw(s,l,p,g,N){if(vn(p)){var A=!0;lu(l)}else A=!1;if(hs(l,N),l.stateNode===null)Cu(s,l),dw(l,p,g),Hp(l,p,g,N),g=!0;else if(s===null){var T=l.stateNode,F=l.memoizedProps;T.props=F;var V=T.context,ne=p.contextType;typeof ne=="object"&&ne!==null?ne=Un(ne):(ne=vn(p)?oi:Qt.current,ne=cs(l,ne));var le=p.getDerivedStateFromProps,ce=typeof le=="function"||typeof T.getSnapshotBeforeUpdate=="function";ce||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(F!==g||V!==ne)&&fw(l,T,g,ne),Ea=!1;var se=l.memoizedState;T.state=se,xu(l,g,T,N),V=l.memoizedState,F!==g||se!==V||gn.current||Ea?(typeof le=="function"&&(Wp(l,p,le,g),V=l.memoizedState),(F=Ea||uw(l,p,F,g,se,V,ne))?(ce||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(l.flags|=4194308)):(typeof T.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=V),T.props=g,T.state=V,T.context=ne,g=F):(typeof T.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{T=l.stateNode,sw(s,l),F=l.memoizedProps,ne=l.type===l.elementType?F:or(l.type,F),T.props=ne,ce=l.pendingProps,se=T.context,V=p.contextType,typeof V=="object"&&V!==null?V=Un(V):(V=vn(p)?oi:Qt.current,V=cs(l,V));var xe=p.getDerivedStateFromProps;(le=typeof xe=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(F!==ce||se!==V)&&fw(l,T,g,V),Ea=!1,se=l.memoizedState,T.state=se,xu(l,g,T,N);var ye=l.memoizedState;F!==ce||se!==ye||gn.current||Ea?(typeof xe=="function"&&(Wp(l,p,xe,g),ye=l.memoizedState),(ne=Ea||uw(l,p,ne,g,se,ye,V)||!1)?(le||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(g,ye,V),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(g,ye,V)),typeof T.componentDidUpdate=="function"&&(l.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof T.componentDidUpdate!="function"||F===s.memoizedProps&&se===s.memoizedState||(l.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||F===s.memoizedProps&&se===s.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=ye),T.props=g,T.state=ye,T.context=V,g=ne):(typeof T.componentDidUpdate!="function"||F===s.memoizedProps&&se===s.memoizedState||(l.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||F===s.memoizedProps&&se===s.memoizedState||(l.flags|=1024),g=!1)}return oh(s,l,p,g,A,N)}function oh(s,l,p,g,N,A){Kw(s,l);var T=(l.flags&128)!==0;if(!g&&!T)return N&&Z1(l,p,!1),Gr(s,l,A);g=l.stateNode,iT.current=l;var F=T&&typeof p.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,s!==null&&T?(l.child=ms(l,s.child,null,A),l.child=ms(l,null,F,A)):cn(s,l,F,A),l.memoizedState=g.state,N&&Z1(l,p,!0),l.child}function Yw(s){var l=s.stateNode;l.pendingContext?X1(s,l.pendingContext,l.pendingContext!==l.context):l.context&&X1(s,l.context,!1),Vp(s,l.containerInfo)}function Xw(s,l,p,g,N){return fs(),$p(N),l.flags|=256,cn(s,l,p,g),l.child}var lh={dehydrated:null,treeContext:null,retryLane:0};function ch(s){return{baseLanes:s,cachePool:null,transitions:null}}function Qw(s,l,p){var g=l.pendingProps,N=gt.current,A=!1,T=(l.flags&128)!==0,F;if((F=T)||(F=s!==null&&s.memoizedState===null?!1:(N&2)!==0),F?(A=!0,l.flags&=-129):(s===null||s.memoizedState!==null)&&(N|=1),ct(gt,N&1),s===null)return Rp(l),s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((l.mode&1)===0?l.lanes=1:s.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(T=g.children,s=g.fallback,A?(g=l.mode,A=l.child,T={mode:"hidden",children:T},(g&1)===0&&A!==null?(A.childLanes=0,A.pendingProps=T):A=zu(T,g,0,null),s=gi(s,g,p,null),A.return=l,s.return=l,A.sibling=s,l.child=A,l.child.memoizedState=ch(p),l.memoizedState=lh,s):uh(l,T));if(N=s.memoizedState,N!==null&&(F=N.dehydrated,F!==null))return sT(s,l,T,g,F,N,p);if(A){A=g.fallback,T=l.mode,N=s.child,F=N.sibling;var V={mode:"hidden",children:g.children};return(T&1)===0&&l.child!==N?(g=l.child,g.childLanes=0,g.pendingProps=V,l.deletions=null):(g=Ra(N,V),g.subtreeFlags=N.subtreeFlags&14680064),F!==null?A=Ra(F,A):(A=gi(A,T,p,null),A.flags|=2),A.return=l,g.return=l,g.sibling=A,l.child=g,g=A,A=l.child,T=s.child.memoizedState,T=T===null?ch(p):{baseLanes:T.baseLanes|p,cachePool:null,transitions:T.transitions},A.memoizedState=T,A.childLanes=s.childLanes&~p,l.memoizedState=lh,g}return A=s.child,s=A.sibling,g=Ra(A,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=p),g.return=l,g.sibling=null,s!==null&&(p=l.deletions,p===null?(l.deletions=[s],l.flags|=16):p.push(s)),l.child=g,l.memoizedState=null,g}function uh(s,l){return l=zu({mode:"visible",children:l},s.mode,0,null),l.return=s,s.child=l}function ku(s,l,p,g){return g!==null&&$p(g),ms(l,s.child,null,p),s=uh(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function sT(s,l,p,g,N,A,T){if(p)return l.flags&256?(l.flags&=-257,g=ah(Error(n(422))),ku(s,l,T,g)):l.memoizedState!==null?(l.child=s.child,l.flags|=128,null):(A=g.fallback,N=l.mode,g=zu({mode:"visible",children:g.children},N,0,null),A=gi(A,N,T,null),A.flags|=2,g.return=l,A.return=l,g.sibling=A,l.child=g,(l.mode&1)!==0&&ms(l,s.child,null,T),l.child.memoizedState=ch(T),l.memoizedState=lh,A);if((l.mode&1)===0)return ku(s,l,T,null);if(N.data==="$!"){if(g=N.nextSibling&&N.nextSibling.dataset,g)var F=g.dgst;return g=F,A=Error(n(419)),g=ah(A,g,void 0),ku(s,l,T,g)}if(F=(T&s.childLanes)!==0,yn||F){if(g=Bt,g!==null){switch(T&-T){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=(N&(g.suspendedLanes|T))!==0?0:N,N!==0&&N!==A.retryLane&&(A.retryLane=N,Vr(s,N),ur(g,s,N,-1))}return Ch(),g=ah(Error(n(421))),ku(s,l,T,g)}return N.data==="$?"?(l.flags|=128,l.child=s.child,l=yT.bind(null,s),N._reactRetry=l,null):(s=A.treeContext,Dn=ka(N.nextSibling),En=l,ht=!0,sr=null,s!==null&&(Bn[Fn++]=Wr,Bn[Fn++]=Hr,Bn[Fn++]=li,Wr=s.id,Hr=s.overflow,li=l),l=uh(l,g.children),l.flags|=4096,l)}function Zw(s,l,p){s.lanes|=l;var g=s.alternate;g!==null&&(g.lanes|=l),Fp(s.return,l,p)}function dh(s,l,p,g,N){var A=s.memoizedState;A===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:p,tailMode:N}:(A.isBackwards=l,A.rendering=null,A.renderingStartTime=0,A.last=g,A.tail=p,A.tailMode=N)}function Jw(s,l,p){var g=l.pendingProps,N=g.revealOrder,A=g.tail;if(cn(s,l,g.children,p),g=gt.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Zw(s,p,l);else if(s.tag===19)Zw(s,p,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}if(ct(gt,g),(l.mode&1)===0)l.memoizedState=null;else switch(N){case"forwards":for(p=l.child,N=null;p!==null;)s=p.alternate,s!==null&&yu(s)===null&&(N=p),p=p.sibling;p=N,p===null?(N=l.child,l.child=null):(N=p.sibling,p.sibling=null),dh(l,!1,N,p,A);break;case"backwards":for(p=null,N=l.child,l.child=null;N!==null;){if(s=N.alternate,s!==null&&yu(s)===null){l.child=N;break}s=N.sibling,N.sibling=p,p=N,N=s}dh(l,!0,p,null,A);break;case"together":dh(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Cu(s,l){(l.mode&1)===0&&s!==null&&(s.alternate=null,l.alternate=null,l.flags|=2)}function Gr(s,l,p){if(s!==null&&(l.dependencies=s.dependencies),pi|=l.lanes,(p&l.childLanes)===0)return null;if(s!==null&&l.child!==s.child)throw Error(n(153));if(l.child!==null){for(s=l.child,p=Ra(s,s.pendingProps),l.child=p,p.return=l;s.sibling!==null;)s=s.sibling,p=p.sibling=Ra(s,s.pendingProps),p.return=l;p.sibling=null}return l.child}function oT(s,l,p){switch(l.tag){case 3:Yw(l),fs();break;case 5:xw(l);break;case 1:vn(l.type)&&lu(l);break;case 4:Vp(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,N=l.memoizedProps.value;ct(pu,g._currentValue),g._currentValue=N;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(ct(gt,gt.current&1),l.flags|=128,null):(p&l.child.childLanes)!==0?Qw(s,l,p):(ct(gt,gt.current&1),s=Gr(s,l,p),s!==null?s.sibling:null);ct(gt,gt.current&1);break;case 19:if(g=(p&l.childLanes)!==0,(s.flags&128)!==0){if(g)return Jw(s,l,p);l.flags|=128}if(N=l.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),ct(gt,gt.current),g)break;return null;case 22:case 23:return l.lanes=0,Vw(s,l,p)}return Gr(s,l,p)}var ej,fh,tj,nj;ej=function(s,l){for(var p=l.child;p!==null;){if(p.tag===5||p.tag===6)s.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===l)break;for(;p.sibling===null;){if(p.return===null||p.return===l)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},fh=function(){},tj=function(s,l,p,g){var N=s.memoizedProps;if(N!==g){s=l.stateNode,di(Cr.current);var A=null;switch(p){case"input":N=Re(s,N),g=Re(s,g),A=[];break;case"select":N=R({},N,{value:void 0}),g=R({},g,{value:void 0}),A=[];break;case"textarea":N=xt(s,N),g=xt(s,g),A=[];break;default:typeof N.onClick!="function"&&typeof g.onClick=="function"&&(s.onclick=iu)}$c(p,g);var T;p=null;for(ne in N)if(!g.hasOwnProperty(ne)&&N.hasOwnProperty(ne)&&N[ne]!=null)if(ne==="style"){var F=N[ne];for(T in F)F.hasOwnProperty(T)&&(p||(p={}),p[T]="")}else ne!=="dangerouslySetInnerHTML"&&ne!=="children"&&ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(i.hasOwnProperty(ne)?A||(A=[]):(A=A||[]).push(ne,null));for(ne in g){var V=g[ne];if(F=N!=null?N[ne]:void 0,g.hasOwnProperty(ne)&&V!==F&&(V!=null||F!=null))if(ne==="style")if(F){for(T in F)!F.hasOwnProperty(T)||V&&V.hasOwnProperty(T)||(p||(p={}),p[T]="");for(T in V)V.hasOwnProperty(T)&&F[T]!==V[T]&&(p||(p={}),p[T]=V[T])}else p||(A||(A=[]),A.push(ne,p)),p=V;else ne==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,F=F?F.__html:void 0,V!=null&&F!==V&&(A=A||[]).push(ne,V)):ne==="children"?typeof V!="string"&&typeof V!="number"||(A=A||[]).push(ne,""+V):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&(i.hasOwnProperty(ne)?(V!=null&&ne==="onScroll"&&dt("scroll",s),A||F===V||(A=[])):(A=A||[]).push(ne,V))}p&&(A=A||[]).push("style",p);var ne=A;(l.updateQueue=ne)&&(l.flags|=4)}},nj=function(s,l,p,g){p!==g&&(l.flags|=4)};function Jo(s,l){if(!ht)switch(s.tailMode){case"hidden":l=s.tail;for(var p=null;l!==null;)l.alternate!==null&&(p=l),l=l.sibling;p===null?s.tail=null:p.sibling=null;break;case"collapsed":p=s.tail;for(var g=null;p!==null;)p.alternate!==null&&(g=p),p=p.sibling;g===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function Jt(s){var l=s.alternate!==null&&s.alternate.child===s.child,p=0,g=0;if(l)for(var N=s.child;N!==null;)p|=N.lanes|N.childLanes,g|=N.subtreeFlags&14680064,g|=N.flags&14680064,N.return=s,N=N.sibling;else for(N=s.child;N!==null;)p|=N.lanes|N.childLanes,g|=N.subtreeFlags,g|=N.flags,N.return=s,N=N.sibling;return s.subtreeFlags|=g,s.childLanes=p,l}function lT(s,l,p){var g=l.pendingProps;switch(_p(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(l),null;case 1:return vn(l.type)&&ou(),Jt(l),null;case 3:return g=l.stateNode,xs(),ft(gn),ft(Qt),Yp(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&(fu(l)?l.flags|=4:s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,sr!==null&&(Nh(sr),sr=null))),fh(s,l),Jt(l),null;case 5:Kp(l);var N=di(Go.current);if(p=l.type,s!==null&&l.stateNode!=null)tj(s,l,p,g,N),s.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(n(166));return Jt(l),null}if(s=di(Cr.current),fu(l)){g=l.stateNode,p=l.type;var A=l.memoizedProps;switch(g[kr]=l,g[qo]=A,s=(l.mode&1)!==0,p){case"dialog":dt("cancel",g),dt("close",g);break;case"iframe":case"object":case"embed":dt("load",g);break;case"video":case"audio":for(N=0;N<Bo.length;N++)dt(Bo[N],g);break;case"source":dt("error",g);break;case"img":case"image":case"link":dt("error",g),dt("load",g);break;case"details":dt("toggle",g);break;case"input":Ze(g,A),dt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!A.multiple},dt("invalid",g);break;case"textarea":zt(g,A),dt("invalid",g)}$c(p,A),N=null;for(var T in A)if(A.hasOwnProperty(T)){var F=A[T];T==="children"?typeof F=="string"?g.textContent!==F&&(A.suppressHydrationWarning!==!0&&au(g.textContent,F,s),N=["children",F]):typeof F=="number"&&g.textContent!==""+F&&(A.suppressHydrationWarning!==!0&&au(g.textContent,F,s),N=["children",""+F]):i.hasOwnProperty(T)&&F!=null&&T==="onScroll"&&dt("scroll",g)}switch(p){case"input":ke(g),Ne(g,A,!0);break;case"textarea":ke(g),rt(g);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(g.onclick=iu)}g=N,l.updateQueue=g,g!==null&&(l.flags|=4)}else{T=N.nodeType===9?N:N.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Vt(p)),s==="http://www.w3.org/1999/xhtml"?p==="script"?(s=T.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof g.is=="string"?s=T.createElement(p,{is:g.is}):(s=T.createElement(p),p==="select"&&(T=s,g.multiple?T.multiple=!0:g.size&&(T.size=g.size))):s=T.createElementNS(s,p),s[kr]=l,s[qo]=g,ej(s,l,!1,!1),l.stateNode=s;e:{switch(T=bo(p,g),p){case"dialog":dt("cancel",s),dt("close",s),N=g;break;case"iframe":case"object":case"embed":dt("load",s),N=g;break;case"video":case"audio":for(N=0;N<Bo.length;N++)dt(Bo[N],s);N=g;break;case"source":dt("error",s),N=g;break;case"img":case"image":case"link":dt("error",s),dt("load",s),N=g;break;case"details":dt("toggle",s),N=g;break;case"input":Ze(s,g),N=Re(s,g),dt("invalid",s);break;case"option":N=g;break;case"select":s._wrapperState={wasMultiple:!!g.multiple},N=R({},g,{value:void 0}),dt("invalid",s);break;case"textarea":zt(s,g),N=xt(s,g),dt("invalid",s);break;default:N=g}$c(p,N),F=N;for(A in F)if(F.hasOwnProperty(A)){var V=F[A];A==="style"?Zi(s,V):A==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&Xi(s,V)):A==="children"?typeof V=="string"?(p!=="textarea"||V!=="")&&Br(s,V):typeof V=="number"&&Br(s,""+V):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(i.hasOwnProperty(A)?V!=null&&A==="onScroll"&&dt("scroll",s):V!=null&&P(s,A,V,T))}switch(p){case"input":ke(s),Ne(s,g,!1);break;case"textarea":ke(s),rt(s);break;case"option":g.value!=null&&s.setAttribute("value",""+Oe(g.value));break;case"select":s.multiple=!!g.multiple,A=g.value,A!=null?We(s,!!g.multiple,A,!1):g.defaultValue!=null&&We(s,!!g.multiple,g.defaultValue,!0);break;default:typeof N.onClick=="function"&&(s.onclick=iu)}switch(p){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Jt(l),null;case 6:if(s&&l.stateNode!=null)nj(s,l,s.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(n(166));if(p=di(Go.current),di(Cr.current),fu(l)){if(g=l.stateNode,p=l.memoizedProps,g[kr]=l,(A=g.nodeValue!==p)&&(s=En,s!==null))switch(s.tag){case 3:au(g.nodeValue,p,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&au(g.nodeValue,p,(s.mode&1)!==0)}A&&(l.flags|=4)}else g=(p.nodeType===9?p:p.ownerDocument).createTextNode(g),g[kr]=l,l.stateNode=g}return Jt(l),null;case 13:if(ft(gt),g=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ht&&Dn!==null&&(l.mode&1)!==0&&(l.flags&128)===0)aw(),fs(),l.flags|=98560,A=!1;else if(A=fu(l),g!==null&&g.dehydrated!==null){if(s===null){if(!A)throw Error(n(318));if(A=l.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));A[kr]=l}else fs(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Jt(l),A=!1}else sr!==null&&(Nh(sr),sr=null),A=!0;if(!A)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=p,l):(g=g!==null,g!==(s!==null&&s.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(s===null||(gt.current&1)!==0?Tt===0&&(Tt=3):Ch())),l.updateQueue!==null&&(l.flags|=4),Jt(l),null);case 4:return xs(),fh(s,l),s===null&&Fo(l.stateNode.containerInfo),Jt(l),null;case 10:return Bp(l.type._context),Jt(l),null;case 17:return vn(l.type)&&ou(),Jt(l),null;case 19:if(ft(gt),A=l.memoizedState,A===null)return Jt(l),null;if(g=(l.flags&128)!==0,T=A.rendering,T===null)if(g)Jo(A,!1);else{if(Tt!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(T=yu(s),T!==null){for(l.flags|=128,Jo(A,!1),g=T.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=p,p=l.child;p!==null;)A=p,s=g,A.flags&=14680066,T=A.alternate,T===null?(A.childLanes=0,A.lanes=s,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=T.childLanes,A.lanes=T.lanes,A.child=T.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=T.memoizedProps,A.memoizedState=T.memoizedState,A.updateQueue=T.updateQueue,A.type=T.type,s=T.dependencies,A.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),p=p.sibling;return ct(gt,gt.current&1|2),l.child}s=s.sibling}A.tail!==null&&Nt()>bs&&(l.flags|=128,g=!0,Jo(A,!1),l.lanes=4194304)}else{if(!g)if(s=yu(T),s!==null){if(l.flags|=128,g=!0,p=s.updateQueue,p!==null&&(l.updateQueue=p,l.flags|=4),Jo(A,!0),A.tail===null&&A.tailMode==="hidden"&&!T.alternate&&!ht)return Jt(l),null}else 2*Nt()-A.renderingStartTime>bs&&p!==1073741824&&(l.flags|=128,g=!0,Jo(A,!1),l.lanes=4194304);A.isBackwards?(T.sibling=l.child,l.child=T):(p=A.last,p!==null?p.sibling=T:l.child=T,A.last=T)}return A.tail!==null?(l=A.tail,A.rendering=l,A.tail=l.sibling,A.renderingStartTime=Nt(),l.sibling=null,p=gt.current,ct(gt,g?p&1|2:p&1),l):(Jt(l),null);case 22:case 23:return kh(),g=l.memoizedState!==null,s!==null&&s.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(On&1073741824)!==0&&(Jt(l),l.subtreeFlags&6&&(l.flags|=8192)):Jt(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function cT(s,l){switch(_p(l),l.tag){case 1:return vn(l.type)&&ou(),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return xs(),ft(gn),ft(Qt),Yp(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 5:return Kp(l),null;case 13:if(ft(gt),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(n(340));fs()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return ft(gt),null;case 4:return xs(),null;case 10:return Bp(l.type._context),null;case 22:case 23:return kh(),null;case 24:return null;default:return null}}var Au=!1,en=!1,uT=typeof WeakSet=="function"?WeakSet:Set,ge=null;function vs(s,l){var p=s.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(g){bt(s,l,g)}else p.current=null}function ph(s,l,p){try{p()}catch(g){bt(s,l,g)}}var rj=!1;function dT(s,l){if(kp=Kc,s=_1(),gp(s)){if("selectionStart"in s)var p={start:s.selectionStart,end:s.selectionEnd};else e:{p=(p=s.ownerDocument)&&p.defaultView||window;var g=p.getSelection&&p.getSelection();if(g&&g.rangeCount!==0){p=g.anchorNode;var N=g.anchorOffset,A=g.focusNode;g=g.focusOffset;try{p.nodeType,A.nodeType}catch{p=null;break e}var T=0,F=-1,V=-1,ne=0,le=0,ce=s,se=null;t:for(;;){for(var xe;ce!==p||N!==0&&ce.nodeType!==3||(F=T+N),ce!==A||g!==0&&ce.nodeType!==3||(V=T+g),ce.nodeType===3&&(T+=ce.nodeValue.length),(xe=ce.firstChild)!==null;)se=ce,ce=xe;for(;;){if(ce===s)break t;if(se===p&&++ne===N&&(F=T),se===A&&++le===g&&(V=T),(xe=ce.nextSibling)!==null)break;ce=se,se=ce.parentNode}ce=xe}p=F===-1||V===-1?null:{start:F,end:V}}else p=null}p=p||{start:0,end:0}}else p=null;for(Cp={focusedElem:s,selectionRange:p},Kc=!1,ge=l;ge!==null;)if(l=ge,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,ge=s;else for(;ge!==null;){l=ge;try{var ye=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var je=ye.memoizedProps,St=ye.memoizedState,Z=l.stateNode,Y=Z.getSnapshotBeforeUpdate(l.elementType===l.type?je:or(l.type,je),St);Z.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:var ee=l.stateNode.containerInfo;ee.nodeType===1?ee.textContent="":ee.nodeType===9&&ee.documentElement&&ee.removeChild(ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(fe){bt(l,l.return,fe)}if(s=l.sibling,s!==null){s.return=l.return,ge=s;break}ge=l.return}return ye=rj,rj=!1,ye}function el(s,l,p){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var N=g=g.next;do{if((N.tag&s)===s){var A=N.destroy;N.destroy=void 0,A!==void 0&&ph(l,p,A)}N=N.next}while(N!==g)}}function Pu(s,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var p=l=l.next;do{if((p.tag&s)===s){var g=p.create;p.destroy=g()}p=p.next}while(p!==l)}}function hh(s){var l=s.ref;if(l!==null){var p=s.stateNode;switch(s.tag){case 5:s=p;break;default:s=p}typeof l=="function"?l(s):l.current=s}}function aj(s){var l=s.alternate;l!==null&&(s.alternate=null,aj(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&(delete l[kr],delete l[qo],delete l[Dp],delete l[K5],delete l[G5])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function ij(s){return s.tag===5||s.tag===3||s.tag===4}function sj(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||ij(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function mh(s,l,p){var g=s.tag;if(g===5||g===6)s=s.stateNode,l?p.nodeType===8?p.parentNode.insertBefore(s,l):p.insertBefore(s,l):(p.nodeType===8?(l=p.parentNode,l.insertBefore(s,p)):(l=p,l.appendChild(s)),p=p._reactRootContainer,p!=null||l.onclick!==null||(l.onclick=iu));else if(g!==4&&(s=s.child,s!==null))for(mh(s,l,p),s=s.sibling;s!==null;)mh(s,l,p),s=s.sibling}function xh(s,l,p){var g=s.tag;if(g===5||g===6)s=s.stateNode,l?p.insertBefore(s,l):p.appendChild(s);else if(g!==4&&(s=s.child,s!==null))for(xh(s,l,p),s=s.sibling;s!==null;)xh(s,l,p),s=s.sibling}var Kt=null,lr=!1;function Oa(s,l,p){for(p=p.child;p!==null;)oj(s,l,p),p=p.sibling}function oj(s,l,p){if(Sr&&typeof Sr.onCommitFiberUnmount=="function")try{Sr.onCommitFiberUnmount(Fc,p)}catch{}switch(p.tag){case 5:en||vs(p,l);case 6:var g=Kt,N=lr;Kt=null,Oa(s,l,p),Kt=g,lr=N,Kt!==null&&(lr?(s=Kt,p=p.stateNode,s.nodeType===8?s.parentNode.removeChild(p):s.removeChild(p)):Kt.removeChild(p.stateNode));break;case 18:Kt!==null&&(lr?(s=Kt,p=p.stateNode,s.nodeType===8?Ep(s.parentNode,p):s.nodeType===1&&Ep(s,p),Io(s)):Ep(Kt,p.stateNode));break;case 4:g=Kt,N=lr,Kt=p.stateNode.containerInfo,lr=!0,Oa(s,l,p),Kt=g,lr=N;break;case 0:case 11:case 14:case 15:if(!en&&(g=p.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){N=g=g.next;do{var A=N,T=A.destroy;A=A.tag,T!==void 0&&((A&2)!==0||(A&4)!==0)&&ph(p,l,T),N=N.next}while(N!==g)}Oa(s,l,p);break;case 1:if(!en&&(vs(p,l),g=p.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=p.memoizedProps,g.state=p.memoizedState,g.componentWillUnmount()}catch(F){bt(p,l,F)}Oa(s,l,p);break;case 21:Oa(s,l,p);break;case 22:p.mode&1?(en=(g=en)||p.memoizedState!==null,Oa(s,l,p),en=g):Oa(s,l,p);break;default:Oa(s,l,p)}}function lj(s){var l=s.updateQueue;if(l!==null){s.updateQueue=null;var p=s.stateNode;p===null&&(p=s.stateNode=new uT),l.forEach(function(g){var N=bT.bind(null,s,g);p.has(g)||(p.add(g),g.then(N,N))})}}function cr(s,l){var p=l.deletions;if(p!==null)for(var g=0;g<p.length;g++){var N=p[g];try{var A=s,T=l,F=T;e:for(;F!==null;){switch(F.tag){case 5:Kt=F.stateNode,lr=!1;break e;case 3:Kt=F.stateNode.containerInfo,lr=!0;break e;case 4:Kt=F.stateNode.containerInfo,lr=!0;break e}F=F.return}if(Kt===null)throw Error(n(160));oj(A,T,N),Kt=null,lr=!1;var V=N.alternate;V!==null&&(V.return=null),N.return=null}catch(ne){bt(N,l,ne)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)cj(l,s),l=l.sibling}function cj(s,l){var p=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(cr(l,s),Pr(s),g&4){try{el(3,s,s.return),Pu(3,s)}catch(je){bt(s,s.return,je)}try{el(5,s,s.return)}catch(je){bt(s,s.return,je)}}break;case 1:cr(l,s),Pr(s),g&512&&p!==null&&vs(p,p.return);break;case 5:if(cr(l,s),Pr(s),g&512&&p!==null&&vs(p,p.return),s.flags&32){var N=s.stateNode;try{Br(N,"")}catch(je){bt(s,s.return,je)}}if(g&4&&(N=s.stateNode,N!=null)){var A=s.memoizedProps,T=p!==null?p.memoizedProps:A,F=s.type,V=s.updateQueue;if(s.updateQueue=null,V!==null)try{F==="input"&&A.type==="radio"&&A.name!=null&&de(N,A),bo(F,T);var ne=bo(F,A);for(T=0;T<V.length;T+=2){var le=V[T],ce=V[T+1];le==="style"?Zi(N,ce):le==="dangerouslySetInnerHTML"?Xi(N,ce):le==="children"?Br(N,ce):P(N,le,ce,ne)}switch(F){case"input":Te(N,A);break;case"textarea":me(N,A);break;case"select":var se=N._wrapperState.wasMultiple;N._wrapperState.wasMultiple=!!A.multiple;var xe=A.value;xe!=null?We(N,!!A.multiple,xe,!1):se!==!!A.multiple&&(A.defaultValue!=null?We(N,!!A.multiple,A.defaultValue,!0):We(N,!!A.multiple,A.multiple?[]:"",!1))}N[qo]=A}catch(je){bt(s,s.return,je)}}break;case 6:if(cr(l,s),Pr(s),g&4){if(s.stateNode===null)throw Error(n(162));N=s.stateNode,A=s.memoizedProps;try{N.nodeValue=A}catch(je){bt(s,s.return,je)}}break;case 3:if(cr(l,s),Pr(s),g&4&&p!==null&&p.memoizedState.isDehydrated)try{Io(l.containerInfo)}catch(je){bt(s,s.return,je)}break;case 4:cr(l,s),Pr(s);break;case 13:cr(l,s),Pr(s),N=s.child,N.flags&8192&&(A=N.memoizedState!==null,N.stateNode.isHidden=A,!A||N.alternate!==null&&N.alternate.memoizedState!==null||(yh=Nt())),g&4&&lj(s);break;case 22:if(le=p!==null&&p.memoizedState!==null,s.mode&1?(en=(ne=en)||le,cr(l,s),en=ne):cr(l,s),Pr(s),g&8192){if(ne=s.memoizedState!==null,(s.stateNode.isHidden=ne)&&!le&&(s.mode&1)!==0)for(ge=s,le=s.child;le!==null;){for(ce=ge=le;ge!==null;){switch(se=ge,xe=se.child,se.tag){case 0:case 11:case 14:case 15:el(4,se,se.return);break;case 1:vs(se,se.return);var ye=se.stateNode;if(typeof ye.componentWillUnmount=="function"){g=se,p=se.return;try{l=g,ye.props=l.memoizedProps,ye.state=l.memoizedState,ye.componentWillUnmount()}catch(je){bt(g,p,je)}}break;case 5:vs(se,se.return);break;case 22:if(se.memoizedState!==null){fj(ce);continue}}xe!==null?(xe.return=se,ge=xe):fj(ce)}le=le.sibling}e:for(le=null,ce=s;;){if(ce.tag===5){if(le===null){le=ce;try{N=ce.stateNode,ne?(A=N.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(F=ce.stateNode,V=ce.memoizedProps.style,T=V!=null&&V.hasOwnProperty("display")?V.display:null,F.style.display=Qi("display",T))}catch(je){bt(s,s.return,je)}}}else if(ce.tag===6){if(le===null)try{ce.stateNode.nodeValue=ne?"":ce.memoizedProps}catch(je){bt(s,s.return,je)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===s)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===s)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===s)break e;le===ce&&(le=null),ce=ce.return}le===ce&&(le=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:cr(l,s),Pr(s),g&4&&lj(s);break;case 21:break;default:cr(l,s),Pr(s)}}function Pr(s){var l=s.flags;if(l&2){try{e:{for(var p=s.return;p!==null;){if(ij(p)){var g=p;break e}p=p.return}throw Error(n(160))}switch(g.tag){case 5:var N=g.stateNode;g.flags&32&&(Br(N,""),g.flags&=-33);var A=sj(s);xh(s,A,N);break;case 3:case 4:var T=g.stateNode.containerInfo,F=sj(s);mh(s,F,T);break;default:throw Error(n(161))}}catch(V){bt(s,s.return,V)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function fT(s,l,p){ge=s,uj(s)}function uj(s,l,p){for(var g=(s.mode&1)!==0;ge!==null;){var N=ge,A=N.child;if(N.tag===22&&g){var T=N.memoizedState!==null||Au;if(!T){var F=N.alternate,V=F!==null&&F.memoizedState!==null||en;F=Au;var ne=en;if(Au=T,(en=V)&&!ne)for(ge=N;ge!==null;)T=ge,V=T.child,T.tag===22&&T.memoizedState!==null?pj(N):V!==null?(V.return=T,ge=V):pj(N);for(;A!==null;)ge=A,uj(A),A=A.sibling;ge=N,Au=F,en=ne}dj(s)}else(N.subtreeFlags&8772)!==0&&A!==null?(A.return=N,ge=A):dj(s)}}function dj(s){for(;ge!==null;){var l=ge;if((l.flags&8772)!==0){var p=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:en||Pu(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!en)if(p===null)g.componentDidMount();else{var N=l.elementType===l.type?p.memoizedProps:or(l.type,p.memoizedProps);g.componentDidUpdate(N,p.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var A=l.updateQueue;A!==null&&lw(l,A,g);break;case 3:var T=l.updateQueue;if(T!==null){if(p=null,l.child!==null)switch(l.child.tag){case 5:p=l.child.stateNode;break;case 1:p=l.child.stateNode}lw(l,T,p)}break;case 5:var F=l.stateNode;if(p===null&&l.flags&4){p=F;var V=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&p.focus();break;case"img":V.src&&(p.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var ne=l.alternate;if(ne!==null){var le=ne.memoizedState;if(le!==null){var ce=le.dehydrated;ce!==null&&Io(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}en||l.flags&512&&hh(l)}catch(se){bt(l,l.return,se)}}if(l===s){ge=null;break}if(p=l.sibling,p!==null){p.return=l.return,ge=p;break}ge=l.return}}function fj(s){for(;ge!==null;){var l=ge;if(l===s){ge=null;break}var p=l.sibling;if(p!==null){p.return=l.return,ge=p;break}ge=l.return}}function pj(s){for(;ge!==null;){var l=ge;try{switch(l.tag){case 0:case 11:case 15:var p=l.return;try{Pu(4,l)}catch(V){bt(l,p,V)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var N=l.return;try{g.componentDidMount()}catch(V){bt(l,N,V)}}var A=l.return;try{hh(l)}catch(V){bt(l,A,V)}break;case 5:var T=l.return;try{hh(l)}catch(V){bt(l,T,V)}}}catch(V){bt(l,l.return,V)}if(l===s){ge=null;break}var F=l.sibling;if(F!==null){F.return=l.return,ge=F;break}ge=l.return}}var pT=Math.ceil,Eu=k.ReactCurrentDispatcher,gh=k.ReactCurrentOwner,Wn=k.ReactCurrentBatchConfig,Ve=0,Bt=null,Pt=null,Gt=0,On=0,ys=Ca(0),Tt=0,tl=null,pi=0,Du=0,vh=0,nl=null,bn=null,yh=0,bs=1/0,Yr=null,Ou=!1,bh=null,Ia=null,Iu=!1,Ta=null,Tu=0,rl=0,wh=null,_u=-1,Mu=0;function un(){return(Ve&6)!==0?Nt():_u!==-1?_u:_u=Nt()}function _a(s){return(s.mode&1)===0?1:(Ve&2)!==0&&Gt!==0?Gt&-Gt:X5.transition!==null?(Mu===0&&(Mu=i1()),Mu):(s=tt,s!==0||(s=window.event,s=s===void 0?16:h1(s.type)),s)}function ur(s,l,p,g){if(50<rl)throw rl=0,wh=null,Error(n(185));Ao(s,p,g),((Ve&2)===0||s!==Bt)&&(s===Bt&&((Ve&2)===0&&(Du|=p),Tt===4&&Ma(s,Gt)),wn(s,g),p===1&&Ve===0&&(l.mode&1)===0&&(bs=Nt()+500,cu&&Pa()))}function wn(s,l){var p=s.callbackNode;XI(s,l);var g=Wc(s,s===Bt?Gt:0);if(g===0)p!==null&&n1(p),s.callbackNode=null,s.callbackPriority=0;else if(l=g&-g,s.callbackPriority!==l){if(p!=null&&n1(p),l===1)s.tag===0?Y5(mj.bind(null,s)):J1(mj.bind(null,s)),H5(function(){(Ve&6)===0&&Pa()}),p=null;else{switch(s1(g)){case 1:p=ep;break;case 4:p=r1;break;case 16:p=Bc;break;case 536870912:p=a1;break;default:p=Bc}p=Nj(p,hj.bind(null,s))}s.callbackPriority=l,s.callbackNode=p}}function hj(s,l){if(_u=-1,Mu=0,(Ve&6)!==0)throw Error(n(327));var p=s.callbackNode;if(ws()&&s.callbackNode!==p)return null;var g=Wc(s,s===Bt?Gt:0);if(g===0)return null;if((g&30)!==0||(g&s.expiredLanes)!==0||l)l=Ru(s,g);else{l=g;var N=Ve;Ve|=2;var A=gj();(Bt!==s||Gt!==l)&&(Yr=null,bs=Nt()+500,mi(s,l));do try{xT();break}catch(F){xj(s,F)}while(!0);Lp(),Eu.current=A,Ve=N,Pt!==null?l=0:(Bt=null,Gt=0,l=Tt)}if(l!==0){if(l===2&&(N=tp(s),N!==0&&(g=N,l=jh(s,N))),l===1)throw p=tl,mi(s,0),Ma(s,g),wn(s,Nt()),p;if(l===6)Ma(s,g);else{if(N=s.current.alternate,(g&30)===0&&!hT(N)&&(l=Ru(s,g),l===2&&(A=tp(s),A!==0&&(g=A,l=jh(s,A))),l===1))throw p=tl,mi(s,0),Ma(s,g),wn(s,Nt()),p;switch(s.finishedWork=N,s.finishedLanes=g,l){case 0:case 1:throw Error(n(345));case 2:xi(s,bn,Yr);break;case 3:if(Ma(s,g),(g&130023424)===g&&(l=yh+500-Nt(),10<l)){if(Wc(s,0)!==0)break;if(N=s.suspendedLanes,(N&g)!==g){un(),s.pingedLanes|=s.suspendedLanes&N;break}s.timeoutHandle=Pp(xi.bind(null,s,bn,Yr),l);break}xi(s,bn,Yr);break;case 4:if(Ma(s,g),(g&4194240)===g)break;for(l=s.eventTimes,N=-1;0<g;){var T=31-ar(g);A=1<<T,T=l[T],T>N&&(N=T),g&=~A}if(g=N,g=Nt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*pT(g/1960))-g,10<g){s.timeoutHandle=Pp(xi.bind(null,s,bn,Yr),g);break}xi(s,bn,Yr);break;case 5:xi(s,bn,Yr);break;default:throw Error(n(329))}}}return wn(s,Nt()),s.callbackNode===p?hj.bind(null,s):null}function jh(s,l){var p=nl;return s.current.memoizedState.isDehydrated&&(mi(s,l).flags|=256),s=Ru(s,l),s!==2&&(l=bn,bn=p,l!==null&&Nh(l)),s}function Nh(s){bn===null?bn=s:bn.push.apply(bn,s)}function hT(s){for(var l=s;;){if(l.flags&16384){var p=l.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var g=0;g<p.length;g++){var N=p[g],A=N.getSnapshot;N=N.value;try{if(!ir(A(),N))return!1}catch{return!1}}}if(p=l.child,l.subtreeFlags&16384&&p!==null)p.return=l,l=p;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ma(s,l){for(l&=~vh,l&=~Du,s.suspendedLanes|=l,s.pingedLanes&=~l,s=s.expirationTimes;0<l;){var p=31-ar(l),g=1<<p;s[p]=-1,l&=~g}}function mj(s){if((Ve&6)!==0)throw Error(n(327));ws();var l=Wc(s,0);if((l&1)===0)return wn(s,Nt()),null;var p=Ru(s,l);if(s.tag!==0&&p===2){var g=tp(s);g!==0&&(l=g,p=jh(s,g))}if(p===1)throw p=tl,mi(s,0),Ma(s,l),wn(s,Nt()),p;if(p===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=l,xi(s,bn,Yr),wn(s,Nt()),null}function Sh(s,l){var p=Ve;Ve|=1;try{return s(l)}finally{Ve=p,Ve===0&&(bs=Nt()+500,cu&&Pa())}}function hi(s){Ta!==null&&Ta.tag===0&&(Ve&6)===0&&ws();var l=Ve;Ve|=1;var p=Wn.transition,g=tt;try{if(Wn.transition=null,tt=1,s)return s()}finally{tt=g,Wn.transition=p,Ve=l,(Ve&6)===0&&Pa()}}function kh(){On=ys.current,ft(ys)}function mi(s,l){s.finishedWork=null,s.finishedLanes=0;var p=s.timeoutHandle;if(p!==-1&&(s.timeoutHandle=-1,W5(p)),Pt!==null)for(p=Pt.return;p!==null;){var g=p;switch(_p(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&ou();break;case 3:xs(),ft(gn),ft(Qt),Yp();break;case 5:Kp(g);break;case 4:xs();break;case 13:ft(gt);break;case 19:ft(gt);break;case 10:Bp(g.type._context);break;case 22:case 23:kh()}p=p.return}if(Bt=s,Pt=s=Ra(s.current,null),Gt=On=l,Tt=0,tl=null,vh=Du=pi=0,bn=nl=null,ui!==null){for(l=0;l<ui.length;l++)if(p=ui[l],g=p.interleaved,g!==null){p.interleaved=null;var N=g.next,A=p.pending;if(A!==null){var T=A.next;A.next=N,g.next=T}p.pending=g}ui=null}return s}function xj(s,l){do{var p=Pt;try{if(Lp(),bu.current=Su,wu){for(var g=vt.memoizedState;g!==null;){var N=g.queue;N!==null&&(N.pending=null),g=g.next}wu=!1}if(fi=0,Lt=It=vt=null,Yo=!1,Xo=0,gh.current=null,p===null||p.return===null){Tt=1,tl=l,Pt=null;break}e:{var A=s,T=p.return,F=p,V=l;if(l=Gt,F.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var ne=V,le=F,ce=le.tag;if((le.mode&1)===0&&(ce===0||ce===11||ce===15)){var se=le.alternate;se?(le.updateQueue=se.updateQueue,le.memoizedState=se.memoizedState,le.lanes=se.lanes):(le.updateQueue=null,le.memoizedState=null)}var xe=Fw(T);if(xe!==null){xe.flags&=-257,Uw(xe,T,F,A,l),xe.mode&1&&Bw(A,ne,l),l=xe,V=ne;var ye=l.updateQueue;if(ye===null){var je=new Set;je.add(V),l.updateQueue=je}else ye.add(V);break e}else{if((l&1)===0){Bw(A,ne,l),Ch();break e}V=Error(n(426))}}else if(ht&&F.mode&1){var St=Fw(T);if(St!==null){(St.flags&65536)===0&&(St.flags|=256),Uw(St,T,F,A,l),$p(gs(V,F));break e}}A=V=gs(V,F),Tt!==4&&(Tt=2),nl===null?nl=[A]:nl.push(A),A=T;do{switch(A.tag){case 3:A.flags|=65536,l&=-l,A.lanes|=l;var Z=zw(A,V,l);ow(A,Z);break e;case 1:F=V;var Y=A.type,ee=A.stateNode;if((A.flags&128)===0&&(typeof Y.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(Ia===null||!Ia.has(ee)))){A.flags|=65536,l&=-l,A.lanes|=l;var fe=Lw(A,F,l);ow(A,fe);break e}}A=A.return}while(A!==null)}yj(p)}catch(Se){l=Se,Pt===p&&p!==null&&(Pt=p=p.return);continue}break}while(!0)}function gj(){var s=Eu.current;return Eu.current=Su,s===null?Su:s}function Ch(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Bt===null||(pi&268435455)===0&&(Du&268435455)===0||Ma(Bt,Gt)}function Ru(s,l){var p=Ve;Ve|=2;var g=gj();(Bt!==s||Gt!==l)&&(Yr=null,mi(s,l));do try{mT();break}catch(N){xj(s,N)}while(!0);if(Lp(),Ve=p,Eu.current=g,Pt!==null)throw Error(n(261));return Bt=null,Gt=0,Tt}function mT(){for(;Pt!==null;)vj(Pt)}function xT(){for(;Pt!==null&&!FI();)vj(Pt)}function vj(s){var l=jj(s.alternate,s,On);s.memoizedProps=s.pendingProps,l===null?yj(s):Pt=l,gh.current=null}function yj(s){var l=s;do{var p=l.alternate;if(s=l.return,(l.flags&32768)===0){if(p=lT(p,l,On),p!==null){Pt=p;return}}else{if(p=cT(p,l),p!==null){p.flags&=32767,Pt=p;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Tt=6,Pt=null;return}}if(l=l.sibling,l!==null){Pt=l;return}Pt=l=s}while(l!==null);Tt===0&&(Tt=5)}function xi(s,l,p){var g=tt,N=Wn.transition;try{Wn.transition=null,tt=1,gT(s,l,p,g)}finally{Wn.transition=N,tt=g}return null}function gT(s,l,p,g){do ws();while(Ta!==null);if((Ve&6)!==0)throw Error(n(327));p=s.finishedWork;var N=s.finishedLanes;if(p===null)return null;if(s.finishedWork=null,s.finishedLanes=0,p===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var A=p.lanes|p.childLanes;if(QI(s,A),s===Bt&&(Pt=Bt=null,Gt=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||Iu||(Iu=!0,Nj(Bc,function(){return ws(),null})),A=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||A){A=Wn.transition,Wn.transition=null;var T=tt;tt=1;var F=Ve;Ve|=4,gh.current=null,dT(s,p),cj(p,s),$5(Cp),Kc=!!kp,Cp=kp=null,s.current=p,fT(p),UI(),Ve=F,tt=T,Wn.transition=A}else s.current=p;if(Iu&&(Iu=!1,Ta=s,Tu=N),A=s.pendingLanes,A===0&&(Ia=null),HI(p.stateNode),wn(s,Nt()),l!==null)for(g=s.onRecoverableError,p=0;p<l.length;p++)N=l[p],g(N.value,{componentStack:N.stack,digest:N.digest});if(Ou)throw Ou=!1,s=bh,bh=null,s;return(Tu&1)!==0&&s.tag!==0&&ws(),A=s.pendingLanes,(A&1)!==0?s===wh?rl++:(rl=0,wh=s):rl=0,Pa(),null}function ws(){if(Ta!==null){var s=s1(Tu),l=Wn.transition,p=tt;try{if(Wn.transition=null,tt=16>s?16:s,Ta===null)var g=!1;else{if(s=Ta,Ta=null,Tu=0,(Ve&6)!==0)throw Error(n(331));var N=Ve;for(Ve|=4,ge=s.current;ge!==null;){var A=ge,T=A.child;if((ge.flags&16)!==0){var F=A.deletions;if(F!==null){for(var V=0;V<F.length;V++){var ne=F[V];for(ge=ne;ge!==null;){var le=ge;switch(le.tag){case 0:case 11:case 15:el(8,le,A)}var ce=le.child;if(ce!==null)ce.return=le,ge=ce;else for(;ge!==null;){le=ge;var se=le.sibling,xe=le.return;if(aj(le),le===ne){ge=null;break}if(se!==null){se.return=xe,ge=se;break}ge=xe}}}var ye=A.alternate;if(ye!==null){var je=ye.child;if(je!==null){ye.child=null;do{var St=je.sibling;je.sibling=null,je=St}while(je!==null)}}ge=A}}if((A.subtreeFlags&2064)!==0&&T!==null)T.return=A,ge=T;else e:for(;ge!==null;){if(A=ge,(A.flags&2048)!==0)switch(A.tag){case 0:case 11:case 15:el(9,A,A.return)}var Z=A.sibling;if(Z!==null){Z.return=A.return,ge=Z;break e}ge=A.return}}var Y=s.current;for(ge=Y;ge!==null;){T=ge;var ee=T.child;if((T.subtreeFlags&2064)!==0&&ee!==null)ee.return=T,ge=ee;else e:for(T=Y;ge!==null;){if(F=ge,(F.flags&2048)!==0)try{switch(F.tag){case 0:case 11:case 15:Pu(9,F)}}catch(Se){bt(F,F.return,Se)}if(F===T){ge=null;break e}var fe=F.sibling;if(fe!==null){fe.return=F.return,ge=fe;break e}ge=F.return}}if(Ve=N,Pa(),Sr&&typeof Sr.onPostCommitFiberRoot=="function")try{Sr.onPostCommitFiberRoot(Fc,s)}catch{}g=!0}return g}finally{tt=p,Wn.transition=l}}return!1}function bj(s,l,p){l=gs(p,l),l=zw(s,l,1),s=Da(s,l,1),l=un(),s!==null&&(Ao(s,1,l),wn(s,l))}function bt(s,l,p){if(s.tag===3)bj(s,s,p);else for(;l!==null;){if(l.tag===3){bj(l,s,p);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ia===null||!Ia.has(g))){s=gs(p,s),s=Lw(l,s,1),l=Da(l,s,1),s=un(),l!==null&&(Ao(l,1,s),wn(l,s));break}}l=l.return}}function vT(s,l,p){var g=s.pingCache;g!==null&&g.delete(l),l=un(),s.pingedLanes|=s.suspendedLanes&p,Bt===s&&(Gt&p)===p&&(Tt===4||Tt===3&&(Gt&130023424)===Gt&&500>Nt()-yh?mi(s,0):vh|=p),wn(s,l)}function wj(s,l){l===0&&((s.mode&1)===0?l=1:(l=qc,qc<<=1,(qc&130023424)===0&&(qc=4194304)));var p=un();s=Vr(s,l),s!==null&&(Ao(s,l,p),wn(s,p))}function yT(s){var l=s.memoizedState,p=0;l!==null&&(p=l.retryLane),wj(s,p)}function bT(s,l){var p=0;switch(s.tag){case 13:var g=s.stateNode,N=s.memoizedState;N!==null&&(p=N.retryLane);break;case 19:g=s.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(l),wj(s,p)}var jj;jj=function(s,l,p){if(s!==null)if(s.memoizedProps!==l.pendingProps||gn.current)yn=!0;else{if((s.lanes&p)===0&&(l.flags&128)===0)return yn=!1,oT(s,l,p);yn=(s.flags&131072)!==0}else yn=!1,ht&&(l.flags&1048576)!==0&&ew(l,du,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;Cu(s,l),s=l.pendingProps;var N=cs(l,Qt.current);hs(l,p),N=Zp(null,l,g,s,N,p);var A=Jp();return l.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,vn(g)?(A=!0,lu(l)):A=!1,l.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,qp(l),N.updater=gu,l.stateNode=N,N._reactInternals=l,Hp(l,g,s,p),l=oh(null,l,g,!0,A,p)):(l.tag=0,ht&&A&&Tp(l),cn(null,l,N,p),l=l.child),l;case 16:g=l.elementType;e:{switch(Cu(s,l),s=l.pendingProps,N=g._init,g=N(g._payload),l.type=g,N=l.tag=jT(g),s=or(g,s),N){case 0:l=sh(null,l,g,s,p);break e;case 1:l=Gw(null,l,g,s,p);break e;case 11:l=qw(null,l,g,s,p);break e;case 14:l=Ww(null,l,g,or(g.type,s),p);break e}throw Error(n(306,g,""))}return l;case 0:return g=l.type,N=l.pendingProps,N=l.elementType===g?N:or(g,N),sh(s,l,g,N,p);case 1:return g=l.type,N=l.pendingProps,N=l.elementType===g?N:or(g,N),Gw(s,l,g,N,p);case 3:e:{if(Yw(l),s===null)throw Error(n(387));g=l.pendingProps,A=l.memoizedState,N=A.element,sw(s,l),xu(l,g,null,p);var T=l.memoizedState;if(g=T.element,A.isDehydrated)if(A={element:g,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},l.updateQueue.baseState=A,l.memoizedState=A,l.flags&256){N=gs(Error(n(423)),l),l=Xw(s,l,g,p,N);break e}else if(g!==N){N=gs(Error(n(424)),l),l=Xw(s,l,g,p,N);break e}else for(Dn=ka(l.stateNode.containerInfo.firstChild),En=l,ht=!0,sr=null,p=mw(l,null,g,p),l.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(fs(),g===N){l=Gr(s,l,p);break e}cn(s,l,g,p)}l=l.child}return l;case 5:return xw(l),s===null&&Rp(l),g=l.type,N=l.pendingProps,A=s!==null?s.memoizedProps:null,T=N.children,Ap(g,N)?T=null:A!==null&&Ap(g,A)&&(l.flags|=32),Kw(s,l),cn(s,l,T,p),l.child;case 6:return s===null&&Rp(l),null;case 13:return Qw(s,l,p);case 4:return Vp(l,l.stateNode.containerInfo),g=l.pendingProps,s===null?l.child=ms(l,null,g,p):cn(s,l,g,p),l.child;case 11:return g=l.type,N=l.pendingProps,N=l.elementType===g?N:or(g,N),qw(s,l,g,N,p);case 7:return cn(s,l,l.pendingProps,p),l.child;case 8:return cn(s,l,l.pendingProps.children,p),l.child;case 12:return cn(s,l,l.pendingProps.children,p),l.child;case 10:e:{if(g=l.type._context,N=l.pendingProps,A=l.memoizedProps,T=N.value,ct(pu,g._currentValue),g._currentValue=T,A!==null)if(ir(A.value,T)){if(A.children===N.children&&!gn.current){l=Gr(s,l,p);break e}}else for(A=l.child,A!==null&&(A.return=l);A!==null;){var F=A.dependencies;if(F!==null){T=A.child;for(var V=F.firstContext;V!==null;){if(V.context===g){if(A.tag===1){V=Kr(-1,p&-p),V.tag=2;var ne=A.updateQueue;if(ne!==null){ne=ne.shared;var le=ne.pending;le===null?V.next=V:(V.next=le.next,le.next=V),ne.pending=V}}A.lanes|=p,V=A.alternate,V!==null&&(V.lanes|=p),Fp(A.return,p,l),F.lanes|=p;break}V=V.next}}else if(A.tag===10)T=A.type===l.type?null:A.child;else if(A.tag===18){if(T=A.return,T===null)throw Error(n(341));T.lanes|=p,F=T.alternate,F!==null&&(F.lanes|=p),Fp(T,p,l),T=A.sibling}else T=A.child;if(T!==null)T.return=A;else for(T=A;T!==null;){if(T===l){T=null;break}if(A=T.sibling,A!==null){A.return=T.return,T=A;break}T=T.return}A=T}cn(s,l,N.children,p),l=l.child}return l;case 9:return N=l.type,g=l.pendingProps.children,hs(l,p),N=Un(N),g=g(N),l.flags|=1,cn(s,l,g,p),l.child;case 14:return g=l.type,N=or(g,l.pendingProps),N=or(g.type,N),Ww(s,l,g,N,p);case 15:return Hw(s,l,l.type,l.pendingProps,p);case 17:return g=l.type,N=l.pendingProps,N=l.elementType===g?N:or(g,N),Cu(s,l),l.tag=1,vn(g)?(s=!0,lu(l)):s=!1,hs(l,p),dw(l,g,N),Hp(l,g,N,p),oh(null,l,g,!0,s,p);case 19:return Jw(s,l,p);case 22:return Vw(s,l,p)}throw Error(n(156,l.tag))};function Nj(s,l){return t1(s,l)}function wT(s,l,p,g){this.tag=s,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(s,l,p,g){return new wT(s,l,p,g)}function Ah(s){return s=s.prototype,!(!s||!s.isReactComponent)}function jT(s){if(typeof s=="function")return Ah(s)?1:0;if(s!=null){if(s=s.$$typeof,s===z)return 11;if(s===U)return 14}return 2}function Ra(s,l){var p=s.alternate;return p===null?(p=Hn(s.tag,l,s.key,s.mode),p.elementType=s.elementType,p.type=s.type,p.stateNode=s.stateNode,p.alternate=s,s.alternate=p):(p.pendingProps=l,p.type=s.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=s.flags&14680064,p.childLanes=s.childLanes,p.lanes=s.lanes,p.child=s.child,p.memoizedProps=s.memoizedProps,p.memoizedState=s.memoizedState,p.updateQueue=s.updateQueue,l=s.dependencies,p.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},p.sibling=s.sibling,p.index=s.index,p.ref=s.ref,p}function $u(s,l,p,g,N,A){var T=2;if(g=s,typeof s=="function")Ah(s)&&(T=1);else if(typeof s=="string")T=5;else e:switch(s){case D:return gi(p.children,N,A,l);case I:T=8,N|=8;break;case $:return s=Hn(12,p,l,N|2),s.elementType=$,s.lanes=A,s;case L:return s=Hn(13,p,l,N),s.elementType=L,s.lanes=A,s;case _:return s=Hn(19,p,l,N),s.elementType=_,s.lanes=A,s;case W:return zu(p,N,A,l);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case B:T=10;break e;case M:T=9;break e;case z:T=11;break e;case U:T=14;break e;case G:T=16,g=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return l=Hn(T,p,l,N),l.elementType=s,l.type=g,l.lanes=A,l}function gi(s,l,p,g){return s=Hn(7,s,g,l),s.lanes=p,s}function zu(s,l,p,g){return s=Hn(22,s,g,l),s.elementType=W,s.lanes=p,s.stateNode={isHidden:!1},s}function Ph(s,l,p){return s=Hn(6,s,null,l),s.lanes=p,s}function Eh(s,l,p){return l=Hn(4,s.children!==null?s.children:[],s.key,l),l.lanes=p,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}function NT(s,l,p,g,N){this.tag=l,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=np(0),this.expirationTimes=np(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=np(0),this.identifierPrefix=g,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null}function Dh(s,l,p,g,N,A,T,F,V){return s=new NT(s,l,p,F,V),l===1?(l=1,A===!0&&(l|=8)):l=0,A=Hn(3,null,null,l),s.current=A,A.stateNode=s,A.memoizedState={element:g,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},qp(A),s}function ST(s,l,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:g==null?null:""+g,children:s,containerInfo:l,implementation:p}}function Sj(s){if(!s)return Aa;s=s._reactInternals;e:{if(ii(s)!==s||s.tag!==1)throw Error(n(170));var l=s;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(vn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(s.tag===1){var p=s.type;if(vn(p))return Q1(s,p,l)}return l}function kj(s,l,p,g,N,A,T,F,V){return s=Dh(p,g,!0,s,N,A,T,F,V),s.context=Sj(null),p=s.current,g=un(),N=_a(p),A=Kr(g,N),A.callback=l??null,Da(p,A,N),s.current.lanes=N,Ao(s,N,g),wn(s,g),s}function Lu(s,l,p,g){var N=l.current,A=un(),T=_a(N);return p=Sj(p),l.context===null?l.context=p:l.pendingContext=p,l=Kr(A,T),l.payload={element:s},g=g===void 0?null:g,g!==null&&(l.callback=g),s=Da(N,l,T),s!==null&&(ur(s,N,T,A),mu(s,N,T)),T}function Bu(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Cj(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var p=s.retryLane;s.retryLane=p!==0&&p<l?p:l}}function Oh(s,l){Cj(s,l),(s=s.alternate)&&Cj(s,l)}function kT(){return null}var Aj=typeof reportError=="function"?reportError:function(s){console.error(s)};function Ih(s){this._internalRoot=s}Fu.prototype.render=Ih.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(n(409));Lu(s,l,null,null)},Fu.prototype.unmount=Ih.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;hi(function(){Lu(null,s,null,null)}),l[Ur]=null}};function Fu(s){this._internalRoot=s}Fu.prototype.unstable_scheduleHydration=function(s){if(s){var l=c1();s={blockedOn:null,target:s,priority:l};for(var p=0;p<ja.length&&l!==0&&l<ja[p].priority;p++);ja.splice(p,0,s),p===0&&f1(s)}};function Th(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Uu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Pj(){}function CT(s,l,p,g,N){if(N){if(typeof g=="function"){var A=g;g=function(){var ne=Bu(T);A.call(ne)}}var T=kj(l,g,s,0,null,!1,!1,"",Pj);return s._reactRootContainer=T,s[Ur]=T.current,Fo(s.nodeType===8?s.parentNode:s),hi(),T}for(;N=s.lastChild;)s.removeChild(N);if(typeof g=="function"){var F=g;g=function(){var ne=Bu(V);F.call(ne)}}var V=Dh(s,0,!1,null,null,!1,!1,"",Pj);return s._reactRootContainer=V,s[Ur]=V.current,Fo(s.nodeType===8?s.parentNode:s),hi(function(){Lu(l,V,p,g)}),V}function qu(s,l,p,g,N){var A=p._reactRootContainer;if(A){var T=A;if(typeof N=="function"){var F=N;N=function(){var V=Bu(T);F.call(V)}}Lu(l,T,s,N)}else T=CT(p,l,s,N,g);return Bu(T)}o1=function(s){switch(s.tag){case 3:var l=s.stateNode;if(l.current.memoizedState.isDehydrated){var p=Co(l.pendingLanes);p!==0&&(rp(l,p|1),wn(l,Nt()),(Ve&6)===0&&(bs=Nt()+500,Pa()))}break;case 13:hi(function(){var g=Vr(s,1);if(g!==null){var N=un();ur(g,s,1,N)}}),Oh(s,1)}},ap=function(s){if(s.tag===13){var l=Vr(s,134217728);if(l!==null){var p=un();ur(l,s,134217728,p)}Oh(s,134217728)}},l1=function(s){if(s.tag===13){var l=_a(s),p=Vr(s,l);if(p!==null){var g=un();ur(p,s,l,g)}Oh(s,l)}},c1=function(){return tt},u1=function(s,l){var p=tt;try{return tt=s,l()}finally{tt=p}},Nr=function(s,l,p){switch(l){case"input":if(Te(s,p),l=p.name,p.type==="radio"&&l!=null){for(p=s;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<p.length;l++){var g=p[l];if(g!==s&&g.form===s.form){var N=su(g);if(!N)throw Error(n(90));ie(g),Te(g,N)}}}break;case"textarea":me(s,p);break;case"select":l=p.value,l!=null&&We(s,!!p.multiple,l,!1)}},Gb=Sh,Yb=hi;var AT={usingClientEntryPoint:!1,Events:[Wo,os,su,Vb,Kb,Sh]},al={findFiberByHostInstance:si,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},PT={bundleType:al.bundleType,version:al.version,rendererPackageName:al.rendererPackageName,rendererConfig:al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Jb(s),s===null?null:s.stateNode},findFiberByHostInstance:al.findFiberByHostInstance||kT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wu.isDisabled&&Wu.supportsFiber)try{Fc=Wu.inject(PT),Sr=Wu}catch{}}return jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AT,jn.createPortal=function(s,l){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Th(l))throw Error(n(200));return ST(s,l,null,p)},jn.createRoot=function(s,l){if(!Th(s))throw Error(n(299));var p=!1,g="",N=Aj;return l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(N=l.onRecoverableError)),l=Dh(s,1,!1,null,null,p,!1,g,N),s[Ur]=l.current,Fo(s.nodeType===8?s.parentNode:s),new Ih(l)},jn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Jb(l),s=s===null?null:s.stateNode,s},jn.flushSync=function(s){return hi(s)},jn.hydrate=function(s,l,p){if(!Uu(l))throw Error(n(200));return qu(null,s,l,!0,p)},jn.hydrateRoot=function(s,l,p){if(!Th(s))throw Error(n(405));var g=p!=null&&p.hydratedSources||null,N=!1,A="",T=Aj;if(p!=null&&(p.unstable_strictMode===!0&&(N=!0),p.identifierPrefix!==void 0&&(A=p.identifierPrefix),p.onRecoverableError!==void 0&&(T=p.onRecoverableError)),l=kj(l,null,s,1,p??null,N,!1,A,T),s[Ur]=l.current,Fo(s),g)for(s=0;s<g.length;s++)p=g[s],N=p._getVersion,N=N(p._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[p,N]:l.mutableSourceEagerHydrationData.push(p,N);return new Fu(l)},jn.render=function(s,l,p){if(!Uu(l))throw Error(n(200));return qu(null,s,l,!1,p)},jn.unmountComponentAtNode=function(s){if(!Uu(s))throw Error(n(40));return s._reactRootContainer?(hi(function(){qu(null,null,s,!1,function(){s._reactRootContainer=null,s[Ur]=null})}),!0):!1},jn.unstable_batchedUpdates=Sh,jn.unstable_renderSubtreeIntoContainer=function(s,l,p,g){if(!Uu(p))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return qu(s,l,p,!1,g)},jn.version="18.2.0-next-9e3b772b8-20220608",jn}var Rj;function ZP(){if(Rj)return Rh.exports;Rj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Rh.exports=$T(),Rh.exports}var $j;function zT(){if($j)return Vu;$j=1;var e=ZP();return Vu.createRoot=e.createRoot,Vu.hydrateRoot=e.hydrateRoot,Vu}var LT=zT();ZP();/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ol(){return Ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ol.apply(this,arguments)}var qa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(qa||(qa={}));const zj="popstate";function BT(e){e===void 0&&(e={});function t(i,o){let{pathname:c="/",search:u="",hash:f=""}=Fi(i.location.hash.substr(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Gg("",{pathname:c,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let c=i.document.querySelector("base"),u="";if(c&&c.getAttribute("href")){let f=i.location.href,d=f.indexOf("#");u=d===-1?f:f.slice(0,d)}return u+"#"+(typeof o=="string"?o:pd(o))}function r(i,o){gy(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return UT(t,n,r,e)}function Ct(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function gy(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function FT(){return Math.random().toString(36).substr(2,8)}function Lj(e,t){return{usr:e.state,key:e.key,idx:t}}function Gg(e,t,n,r){return n===void 0&&(n=null),Ol({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Fi(t):t,{state:n,key:t&&t.key||r||FT()})}function pd(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Fi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function UT(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,c=i.history,u=qa.Pop,f=null,d=h();d==null&&(d=0,c.replaceState(Ol({},c.state,{idx:d}),""));function h(){return(c.state||{idx:null}).idx}function m(){u=qa.Pop;let w=h(),y=w==null?null:w-d;d=w,f&&f({action:u,location:b.location,delta:y})}function x(w,y){u=qa.Push;let S=Gg(b.location,w,y);n&&n(S,w),d=h()+1;let P=Lj(S,d),k=b.createHref(S);try{c.pushState(P,"",k)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(k)}o&&f&&f({action:u,location:b.location,delta:1})}function v(w,y){u=qa.Replace;let S=Gg(b.location,w,y);n&&n(S,w),d=h();let P=Lj(S,d),k=b.createHref(S);c.replaceState(P,"",k),o&&f&&f({action:u,location:b.location,delta:0})}function j(w){let y=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof w=="string"?w:pd(w);return S=S.replace(/ $/,"%20"),Ct(y,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,y)}let b={get action(){return u},get location(){return e(i,c)},listen(w){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(zj,m),f=w,()=>{i.removeEventListener(zj,m),f=null}},createHref(w){return t(i,w)},createURL:j,encodeLocation(w){let y=j(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:x,replace:v,go(w){return c.go(w)}};return b}var Bj;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Bj||(Bj={}));function qT(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Fi(t):t,i=vy(r.pathname||"/",n);if(i==null)return null;let o=JP(e);WT(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let f=n4(i);c=JT(o[u],f)}return c}function JP(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,c,u)=>{let f={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};f.relativePath.startsWith("/")&&(Ct(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let d=Ga([r,f.relativePath]),h=n.concat(f);o.children&&o.children.length>0&&(Ct(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),JP(o.children,t,h,d)),!(o.path==null&&!o.index)&&t.push({path:d,score:QT(d,o.index),routesMeta:h})};return e.forEach((o,c)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,c);else for(let f of eE(o.path))i(o,c,f)}),t}function eE(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let c=eE(r.join("/")),u=[];return u.push(...c.map(f=>f===""?o:[o,f].join("/"))),i&&u.push(...c),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function WT(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:ZT(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const HT=/^:[\w-]+$/,VT=3,KT=2,GT=1,YT=10,XT=-2,Fj=e=>e==="*";function QT(e,t){let n=e.split("/"),r=n.length;return n.some(Fj)&&(r+=XT),t&&(r+=KT),n.filter(i=>!Fj(i)).reduce((i,o)=>i+(HT.test(o)?VT:o===""?GT:YT),r)}function ZT(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function JT(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let c=0;c<n.length;++c){let u=n[c],f=c===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=e4({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},d);if(!h)return null;Object.assign(r,h.params);let m=u.route;o.push({params:r,pathname:Ga([i,h.pathname]),pathnameBase:s4(Ga([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=Ga([i,h.pathnameBase]))}return o}function e4(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=t4(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],c=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((d,h,m)=>{let{paramName:x,isOptional:v}=h;if(x==="*"){let b=u[m]||"";c=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const j=u[m];return v&&!j?d[x]=void 0:d[x]=(j||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:c,pattern:e}}function t4(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),gy(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function n4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gy(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function vy(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function r4(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Fi(e):e;return{pathname:n?n.startsWith("/")?n:a4(n,t):t,search:o4(r),hash:l4(i)}}function a4(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Lh(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function i4(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function yy(e,t){let n=i4(e);return t?n.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function by(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Fi(e):(i=Ol({},e),Ct(!i.pathname||!i.pathname.includes("?"),Lh("?","pathname","search",i)),Ct(!i.pathname||!i.pathname.includes("#"),Lh("#","pathname","hash",i)),Ct(!i.search||!i.search.includes("#"),Lh("#","search","hash",i)));let o=e===""||i.pathname==="",c=o?"/":i.pathname,u;if(c==null)u=n;else{let m=t.length-1;if(!r&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),m-=1;i.pathname=x.join("/")}u=m>=0?t[m]:"/"}let f=r4(i,u),d=c&&c!=="/"&&c.endsWith("/"),h=(o||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(d||h)&&(f.pathname+="/"),f}const Ga=e=>e.join("/").replace(/\/\/+/g,"/"),s4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),o4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,l4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function c4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const tE=["post","put","patch","delete"];new Set(tE);const u4=["get",...tE];new Set(u4);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Il(){return Il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Il.apply(this,arguments)}const wy=O.createContext(null),d4=O.createContext(null),Xa=O.createContext(null),hf=O.createContext(null),Qa=O.createContext({outlet:null,matches:[],isDataRoute:!1}),nE=O.createContext(null);function f4(e,t){let{relative:n}=t===void 0?{}:t;oo()||Ct(!1);let{basename:r,navigator:i}=O.useContext(Xa),{hash:o,pathname:c,search:u}=aE(e,{relative:n}),f=c;return r!=="/"&&(f=c==="/"?r:Ga([r,c])),i.createHref({pathname:f,search:u,hash:o})}function oo(){return O.useContext(hf)!=null}function Ui(){return oo()||Ct(!1),O.useContext(hf).location}function rE(e){O.useContext(Xa).static||O.useLayoutEffect(e)}function mf(){let{isDataRoute:e}=O.useContext(Qa);return e?k4():p4()}function p4(){oo()||Ct(!1);let e=O.useContext(wy),{basename:t,future:n,navigator:r}=O.useContext(Xa),{matches:i}=O.useContext(Qa),{pathname:o}=Ui(),c=JSON.stringify(yy(i,n.v7_relativeSplatPath)),u=O.useRef(!1);return rE(()=>{u.current=!0}),O.useCallback(function(d,h){if(h===void 0&&(h={}),!u.current)return;if(typeof d=="number"){r.go(d);return}let m=by(d,JSON.parse(c),o,h.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Ga([t,m.pathname])),(h.replace?r.replace:r.push)(m,h.state,h)},[t,r,c,o,e])}function aE(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=O.useContext(Xa),{matches:i}=O.useContext(Qa),{pathname:o}=Ui(),c=JSON.stringify(yy(i,r.v7_relativeSplatPath));return O.useMemo(()=>by(e,JSON.parse(c),o,n==="path"),[e,c,o,n])}function h4(e,t){return m4(e,t)}function m4(e,t,n,r){oo()||Ct(!1);let{navigator:i}=O.useContext(Xa),{matches:o}=O.useContext(Qa),c=o[o.length-1],u=c?c.params:{};c&&c.pathname;let f=c?c.pathnameBase:"/";c&&c.route;let d=Ui(),h;if(t){var m;let w=typeof t=="string"?Fi(t):t;f==="/"||(m=w.pathname)!=null&&m.startsWith(f)||Ct(!1),h=w}else h=d;let x=h.pathname||"/",v=x;if(f!=="/"){let w=f.replace(/^\//,"").split("/");v="/"+x.replace(/^\//,"").split("/").slice(w.length).join("/")}let j=qT(e,{pathname:v}),b=b4(j&&j.map(w=>Object.assign({},w,{params:Object.assign({},u,w.params),pathname:Ga([f,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?f:Ga([f,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return t&&b?O.createElement(hf.Provider,{value:{location:Il({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:qa.Pop}},b):b}function x4(){let e=S4(),t=c4(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),n?O.createElement("pre",{style:i},n):null,null)}const g4=O.createElement(x4,null);class v4 extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?O.createElement(Qa.Provider,{value:this.props.routeContext},O.createElement(nE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function y4(e){let{routeContext:t,match:n,children:r}=e,i=O.useContext(wy);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement(Qa.Provider,{value:t},r)}function b4(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if((o=n)!=null&&o.errors)e=n.matches;else return null}let c=e,u=(i=n)==null?void 0:i.errors;if(u!=null){let h=c.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id]));h>=0||Ct(!1),c=c.slice(0,Math.min(c.length,h+1))}let f=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<c.length;h++){let m=c[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=h),m.route.id){let{loaderData:x,errors:v}=n,j=m.route.loader&&x[m.route.id]===void 0&&(!v||v[m.route.id]===void 0);if(m.route.lazy||j){f=!0,d>=0?c=c.slice(0,d+1):c=[c[0]];break}}}return c.reduceRight((h,m,x)=>{let v,j=!1,b=null,w=null;n&&(v=u&&m.route.id?u[m.route.id]:void 0,b=m.route.errorElement||g4,f&&(d<0&&x===0?(C4("route-fallback"),j=!0,w=null):d===x&&(j=!0,w=m.route.hydrateFallbackElement||null)));let y=t.concat(c.slice(0,x+1)),S=()=>{let P;return v?P=b:j?P=w:m.route.Component?P=O.createElement(m.route.Component,null):m.route.element?P=m.route.element:P=h,O.createElement(y4,{match:m,routeContext:{outlet:h,matches:y,isDataRoute:n!=null},children:P})};return n&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?O.createElement(v4,{location:n.location,revalidation:n.revalidation,component:b,error:v,children:S(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):S()},null)}var iE=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(iE||{}),sE=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(sE||{});function w4(e){let t=O.useContext(wy);return t||Ct(!1),t}function j4(e){let t=O.useContext(d4);return t||Ct(!1),t}function N4(e){let t=O.useContext(Qa);return t||Ct(!1),t}function oE(e){let t=N4(),n=t.matches[t.matches.length-1];return n.route.id||Ct(!1),n.route.id}function S4(){var e;let t=O.useContext(nE),n=j4(),r=oE();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function k4(){let{router:e}=w4(iE.UseNavigateStable),t=oE(sE.UseNavigateStable),n=O.useRef(!1);return rE(()=>{n.current=!0}),O.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Il({fromRouteId:t},o)))},[e,t])}const Uj={};function C4(e,t,n){Uj[e]||(Uj[e]=!0)}function Nn(e){let{to:t,replace:n,state:r,relative:i}=e;oo()||Ct(!1);let{future:o,static:c}=O.useContext(Xa),{matches:u}=O.useContext(Qa),{pathname:f}=Ui(),d=mf(),h=by(t,yy(u,o.v7_relativeSplatPath),f,i==="path"),m=JSON.stringify(h);return O.useEffect(()=>d(JSON.parse(m),{replace:n,state:r,relative:i}),[d,m,i,n,r]),null}function nn(e){Ct(!1)}function A4(e){let{basename:t="/",children:n=null,location:r,navigationType:i=qa.Pop,navigator:o,static:c=!1,future:u}=e;oo()&&Ct(!1);let f=t.replace(/^\/*/,"/"),d=O.useMemo(()=>({basename:f,navigator:o,static:c,future:Il({v7_relativeSplatPath:!1},u)}),[f,u,o,c]);typeof r=="string"&&(r=Fi(r));let{pathname:h="/",search:m="",hash:x="",state:v=null,key:j="default"}=r,b=O.useMemo(()=>{let w=vy(h,f);return w==null?null:{location:{pathname:w,search:m,hash:x,state:v,key:j},navigationType:i}},[f,h,m,x,v,j,i]);return b==null?null:O.createElement(Xa.Provider,{value:d},O.createElement(hf.Provider,{children:n,value:b}))}function P4(e){let{children:t,location:n}=e;return h4(Yg(t),n)}new Promise(()=>{});function Yg(e,t){t===void 0&&(t=[]);let n=[];return O.Children.forEach(e,(r,i)=>{if(!O.isValidElement(r))return;let o=[...t,i];if(r.type===O.Fragment){n.push.apply(n,Yg(r.props.children,o));return}r.type!==nn&&Ct(!1),!r.props.index||!r.props.children||Ct(!1);let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Yg(r.props.children,o)),n.push(c)}),n}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xg(){return Xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xg.apply(this,arguments)}function E4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function D4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function O4(e,t){return e.button===0&&(!t||t==="_self")&&!D4(e)}const I4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],T4="6";try{window.__reactRouterVersion=T4}catch{}const _4="startTransition",qj=_T[_4];function M4(e){let{basename:t,children:n,future:r,window:i}=e,o=O.useRef();o.current==null&&(o.current=BT({window:i,v5Compat:!0}));let c=o.current,[u,f]=O.useState({action:c.action,location:c.location}),{v7_startTransition:d}=r||{},h=O.useCallback(m=>{d&&qj?qj(()=>f(m)):f(m)},[f,d]);return O.useLayoutEffect(()=>c.listen(h),[c,h]),O.createElement(A4,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:c,future:r})}const R4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lE=O.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:c,state:u,target:f,to:d,preventScrollReset:h,unstable_viewTransition:m}=t,x=E4(t,I4),{basename:v}=O.useContext(Xa),j,b=!1;if(typeof d=="string"&&$4.test(d)&&(j=d,R4))try{let P=new URL(window.location.href),k=d.startsWith("//")?new URL(P.protocol+d):new URL(d),C=vy(k.pathname,v);k.origin===P.origin&&C!=null?d=C+k.search+k.hash:b=!0}catch{}let w=f4(d,{relative:i}),y=z4(d,{replace:c,state:u,target:f,preventScrollReset:h,relative:i,unstable_viewTransition:m});function S(P){r&&r(P),P.defaultPrevented||y(P)}return O.createElement("a",Xg({},x,{href:j||w,onClick:b||o?r:S,ref:n,target:f}))});var Wj;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Wj||(Wj={}));var Hj;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Hj||(Hj={}));function z4(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:c,unstable_viewTransition:u}=t===void 0?{}:t,f=mf(),d=Ui(),h=aE(e,{relative:c});return O.useCallback(m=>{if(O4(m,n)){m.preventDefault();let x=r!==void 0?r:pd(d)===pd(h);f(e,{replace:x,state:i,preventScrollReset:o,relative:c,unstable_viewTransition:u})}},[d,f,h,r,i,n,e,o,c,u])}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var L4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),re=(e,t)=>{const n=O.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:c,className:u="",children:f,...d},h)=>O.createElement("svg",{ref:h,...L4,width:i,height:i,stroke:r,strokeWidth:c?Number(o)*24/Number(i):o,className:["lucide",`lucide-${B4(e)}`,u].join(" "),...d},[...t.map(([m,x])=>O.createElement(m,x)),...Array.isArray(f)?f:[f]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=re("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=re("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=re("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=re("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=re("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=re("ArrowRightCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=re("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=re("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=re("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=re("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=re("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=re("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=re("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=re("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=re("CalendarRange",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=re("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=re("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=re("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=re("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=re("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=re("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=re("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=re("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=re("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=re("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=re("Contact",[["path",{d:"M17 18a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2",key:"1mghuy"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["circle",{cx:"12",cy:"10",r:"2",key:"1yojzk"}],["line",{x1:"8",x2:"8",y1:"2",y2:"4",key:"1ff9gb"}],["line",{x1:"16",x2:"16",y1:"2",y2:"4",key:"1ufoma"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=re("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=re("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=re("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=re("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=re("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=re("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=re("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=re("FileCode",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=re("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=re("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=re("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=re("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=re("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=re("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=re("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=re("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=re("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=re("HeartHandshake",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08v0c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"12sd6o"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=re("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=re("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=re("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=re("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=re("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=re("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=re("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=re("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=re("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=re("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=re("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=re("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=re("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=re("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=re("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=re("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=re("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=re("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=re("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=re("MonitorCheck",[["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=re("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=re("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=re("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=re("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=re("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=re("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=re("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=re("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2h0V5z",key:"uf6l00"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h0",key:"k2aug8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=re("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=re("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=re("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=re("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=re("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=re("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=re("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=re("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=re("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=re("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=re("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=re("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=re("Signal",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=re("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=re("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=re("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=re("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=re("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=re("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=re("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=re("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=re("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=re("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=re("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=re("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=re("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=re("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=re("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=re("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=re("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=re("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=re("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=re("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=re("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=re("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Rn="https://script.google.com/macros/s/AKfycbyaZwMLQ7_mKG2HO3fTAlaqwQl8vVUIOXz4dqbdA9l7aYnTPXJHmNcgsBP54G1Q9dQ5/exec",Ce=e=>{if(!e||e==="0"||e==="N/A")return"N/A";try{const t=new Date(e);if(isNaN(t.getTime()))return String(e);const n=t.getDate(),r=t.toLocaleString("en-US",{month:"short"}),i=t.getFullYear();return`${n}-${r}-${i}`}catch{return String(e)}},zl=e=>{if(!e||e==="0")return"";try{const t=new Date(e);return isNaN(t.getTime())?"":t.toISOString().split("T")[0]}catch{return""}},De=e=>e==null?"0.00":((typeof e=="string"?parseFloat(e.replace(/[^0-9.-]+/g,"")):e)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),Xj=(e,t=4)=>{if(!e)return"N/A";const n=String(e).trim();return n.length<=t?n:"".repeat(n.length-t)+n.slice(-t)},w_=({children:e,userRole:t,userName:n,notifications:r=[],permissions:i,logo:o,onLogout:c,onClearNotifications:u,onDismissNotification:f,onRefresh:d,isSyncing:h=!1})=>{const[m,x]=O.useState(!1),v=O.useRef(null),j=Ui(),b=mf();O.useEffect(()=>{const D=I=>{v.current&&!v.current.contains(I.target)&&x(!1)};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]);const w=j.pathname==="/",y=t==="Guest",S=r.filter(D=>D.Status==="Unread").length,P=[...r].sort((D,I)=>new Date(I.Time).getTime()-new Date(D.Time).getTime()).slice(0,15),k=D=>{switch(D){case"Critical":return"bg-rose-500";case"High":return"bg-orange-500";case"Normal":return"bg-indigo-500";default:return"bg-slate-400"}},C=D=>D.split(" ").map(I=>I[0]).join("").toUpperCase().substring(0,2),E=D=>{if(!D)return a.jsx(xd,{size:16});const I=D.toUpperCase();return I.includes("SIM")?a.jsx(oa,{size:16}):I.includes("PAYOUT")?a.jsx(Mi,{size:16}):I.includes("PARTNER")?a.jsx(Ay,{size:16}):a.jsx(xd,{size:16})};return a.jsxs("div",{className:"flex flex-col h-screen w-screen bg-white overflow-hidden font-sans",children:[a.jsxs("header",{className:"flex items-center justify-between h-14 md:h-20 px-4 md:px-10 bg-white border-b border-gray-100 shrink-0 z-50",children:[a.jsx("div",{className:"flex items-center space-x-4 md:space-x-8",children:a.jsxs(lE,{to:"/",className:"flex items-center space-x-3 group",children:[a.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-white border border-slate-100 rounded-2xl flex items-center justify-center overflow-hidden shadow-2xl group-hover:scale-105 transition-all",children:o?a.jsx("img",{src:o,alt:"Logo",className:"w-full h-full object-contain p-1.5"}):a.jsx("div",{className:"w-full h-full bg-slate-900 flex items-center justify-center font-bold text-white text-sm",children:"S"})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-lg md:text-2xl font-semibold tracking-tighter text-slate-900 leading-none",children:"Sally Chanza"}),a.jsx("span",{className:"text-[7px] md:text-[9px] font-medium text-slate-400 uppercase tracking-[0.4em] mt-1.5 hidden sm:block",children:"Business Caf"})]})]})}),!y&&a.jsxs("div",{className:"flex items-center space-x-1 md:space-x-4",children:[a.jsx("button",{onClick:d,disabled:h,className:`p-2.5 md:p-3 text-slate-400 hover:text-indigo-600 transition-all rounded-xl hover:bg-indigo-50 disabled:opacity-30 ${h?"animate-spin text-indigo-500 bg-indigo-50":""}`,title:"Sync Data",children:a.jsx(Ml,{size:18,className:"md:w-[20px] md:h-[20px]"})}),a.jsxs("div",{className:"relative",ref:v,children:[a.jsxs("button",{onClick:()=>x(!m),className:"p-2.5 md:p-3 text-slate-400 hover:text-slate-900 transition-all relative rounded-xl hover:bg-slate-50",children:[a.jsx(hd,{size:18,className:"md:w-[20px] md:h-[20px]"}),S>0&&a.jsx("span",{className:"absolute top-1.5 right-1.5 md:top-2 md:right-2 w-3.5 h-3.5 md:w-4 md:h-4 bg-rose-500 text-white text-[7px] md:text-[8px] font-black rounded-full flex items-center justify-center animate-pulse border-2 border-white",children:S})]}),m&&a.jsxs("div",{className:"absolute right-0 mt-4 w-[320px] sm:w-[340px] bg-white rounded-[2rem] border border-slate-100 shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 flex items-center justify-between bg-slate-50/50",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-slate-900",children:"Activity Hub"}),a.jsxs("span",{className:"text-[8px] font-bold text-indigo-600 mt-0.5 uppercase tracking-tighter",children:[S," Pending Actions"]})]}),S>0&&u&&a.jsxs("button",{onClick:D=>{D.stopPropagation(),u()},className:"flex items-center gap-1.5 px-3 py-1.5 bg-white border border-slate-200 text-slate-500 hover:text-indigo-600 hover:border-indigo-100 rounded-xl transition-all shadow-sm group",children:[a.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest",children:"Clear All"}),a.jsx(fE,{size:12,className:"group-hover:scale-110 transition-transform"})]})]}),a.jsx("div",{className:"max-h-[380px] sm:max-h-[420px] overflow-y-auto no-scrollbar",children:P.length>0?P.map(D=>a.jsxs("div",{className:`p-4 border-b border-slate-50 hover:bg-slate-50 transition-colors flex gap-3 group relative ${D.Status==="Unread"?"bg-indigo-50/20":""}`,children:[a.jsx("div",{className:`shrink-0 w-9 h-9 rounded-xl flex items-center justify-center text-white shadow-sm ${k(D.Priority)}`,children:E(D.Type)}),a.jsxs("div",{className:"flex flex-col gap-1 min-w-0 flex-1",children:[a.jsx("p",{className:"text-[11px] font-bold text-slate-900 leading-tight pr-6",children:D.Message}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-tighter",children:Ce(D.Time)}),D.ClientName&&a.jsx("span",{className:"text-[8px] font-bold text-indigo-500 uppercase tracking-tighter truncate max-w-[120px]",children:D.ClientName})]})]}),a.jsx("button",{onClick:I=>{I.stopPropagation(),f==null||f(D.ID)},className:"absolute right-4 top-1/2 -translate-y-1/2 p-2 bg-white rounded-lg border border-slate-100 text-slate-300 hover:text-emerald-600 hover:border-emerald-100 opacity-0 group-hover:opacity-100 transition-all shadow-sm",title:"Dismiss",children:a.jsx(Ny,{size:14,strokeWidth:3})})]},D.ID)):a.jsxs("div",{className:"py-16 flex flex-col items-center opacity-20",children:[a.jsx(hd,{size:40,className:"mb-3"}),a.jsx("p",{className:"text-[9px] font-black uppercase tracking-[0.2em]",children:"Queue is currently empty"})]})}),a.jsx("div",{className:"p-4 bg-slate-50 text-center border-t border-slate-100",children:a.jsx("button",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest hover:text-slate-900 transition-colors",children:"Open System Log"})})]})]}),a.jsxs("div",{className:"flex items-center space-x-2 bg-slate-50 p-1 rounded-xl md:pr-4 md:rounded-[1.25rem] border border-gray-100",children:[a.jsx("div",{className:"h-8 w-8 md:h-10 md:w-10 rounded-lg md:rounded-xl bg-slate-900 flex items-center justify-center text-white font-semibold text-[10px] md:text-xs shadow-xl",children:C(n)}),a.jsxs("div",{className:"hidden md:block",children:[a.jsx("p",{className:"text-[11px] font-semibold text-slate-900 leading-none truncate max-w-[100px]",children:n}),a.jsx("p",{className:"text-[8px] text-slate-400 font-medium uppercase tracking-[0.2em] mt-1.5",children:t})]})]}),a.jsx("button",{onClick:c,className:"p-2.5 md:p-3 text-slate-300 hover:text-slate-900 transition-all rounded-xl hover:bg-slate-50",children:a.jsx(t_,{size:18,className:"md:w-[20px] md:h-[20px]"})})]})]}),a.jsxs("main",{className:"flex-1 flex flex-col min-h-0 relative",children:[!w&&!y&&a.jsxs("div",{className:"px-4 pt-6 md:px-10 lg:px-20 shrink-0 flex items-center gap-4 animate-in fade-in slide-in-from-left-4 duration-500",children:[a.jsx("button",{onClick:()=>b("/"),className:"p-3 bg-white border border-gray-100 rounded-2xl shadow-sm hover:bg-slate-900 hover:text-white text-slate-400 transition-all active:scale-90",children:a.jsx(xf,{size:18})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[9px] font-medium text-slate-300 uppercase tracking-widest",children:"Main Menu"}),a.jsx("h2",{className:"text-xs font-black text-slate-900 uppercase tracking-tighter mt-1",children:j.pathname.substring(1).replace("-"," ")})]})]}),a.jsx("div",{className:`flex-1 min-h-0 w-full overflow-hidden ${w?"":"p-4 md:p-10 lg:p-20 lg:pt-8 pt-4"}`,children:a.jsx("div",{className:"mx-auto w-full max-w-[1600px] h-full",children:e})})]})]})},j_=({onLogin:e,isConnecting:t,isAuthenticating:n,logo:r,systemName:i="Sally Chanza",lockoutTime:o=0,isConnected:c=!0})=>{const[u,f]=O.useState(""),[d,h]=O.useState(""),[m,x]=O.useState(null),v=async w=>{if(w.preventDefault(),!u||!d){x("Please enter your email and password.");return}x(null);const y=await e(u,d);y&&x(y)},j=o>0,b=t||n;return a.jsxs("div",{className:"h-screen w-full flex flex-col lg:flex-row overflow-hidden bg-white select-none",children:[a.jsxs("div",{className:"hidden lg:flex w-[35%] bg-[#002d1a] p-16 flex-col justify-between relative overflow-hidden shrink-0",children:[a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"w-16 h-16 bg-white rounded-xl flex items-center justify-center mb-10 shadow-2xl overflow-hidden",children:r?a.jsx("img",{src:r,alt:"Company Logo",className:"w-full h-full object-contain p-2"}):a.jsx("div",{className:"w-12 h-12 border-2 border-[#002d1a] rounded flex items-center justify-center font-black text-[#002d1a] text-xl",children:"S"})}),a.jsx("h1",{className:"text-4xl font-black text-white uppercase tracking-tighter leading-tight",children:i}),a.jsx("p",{className:"text-[10px] font-bold text-[#10b981] uppercase tracking-[0.4em] mt-3",children:"Unified Business Portal"})]}),a.jsxs("div",{className:"relative z-10 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`h-4 w-1 transition-colors duration-500 ${c?"bg-[#10b981]":"bg-slate-500"}`}),a.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest transition-colors duration-500 ${c?"text-white":"text-slate-500"}`,children:c?"Engine Online":"Engine Connecting..."})]}),a.jsxs("p",{className:"text-[10px] font-bold text-white/30 uppercase tracking-widest",children:[" ",new Date().getFullYear()," SCBC Fleet Solutions"]})]})]}),a.jsxs("div",{className:"flex-1 flex flex-col relative overflow-hidden bg-white",children:[a.jsxs("div",{className:"lg:hidden p-8 bg-[#002d1a] text-white flex items-center justify-between",children:[a.jsx("h1",{className:"text-xl font-black uppercase tracking-tighter",children:i}),r&&a.jsx("div",{className:"w-10 h-10 bg-white rounded-lg p-1.5 overflow-hidden",children:a.jsx("img",{src:r,alt:"Logo",className:"w-full h-full object-contain"})})]}),a.jsx("div",{className:"flex-1 flex flex-col justify-center items-center lg:items-start lg:pl-32 overflow-y-auto no-scrollbar py-12 lg:py-0",children:a.jsxs("div",{className:"w-full max-w-[400px] px-8 lg:px-0",children:[a.jsxs("div",{className:"mb-10",children:[a.jsx("h2",{className:"text-3xl font-black text-[#0f172a] mb-2 tracking-tight",children:"Login"}),a.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Sign in to access your account."})]}),m&&a.jsxs("div",{className:"mb-6 p-4 bg-rose-50 border border-rose-100 rounded-xl flex items-center gap-3 animate-in shake",children:[a.jsx(jy,{className:"text-rose-500 shrink-0",size:18}),a.jsx("p",{className:"text-[10px] text-rose-600 font-black uppercase tracking-wider",children:m})]}),a.jsxs("form",{onSubmit:v,className:"space-y-4",children:[a.jsx("div",{className:"space-y-1",children:a.jsx("input",{type:"email",value:u,onChange:w=>f(w.target.value),className:"w-full px-5 py-4 bg-[#f8fafc] border border-slate-100 rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:bg-white transition-all outline-none text-sm font-bold text-slate-700 placeholder:text-slate-400",placeholder:"Email Address",disabled:b||j,autoComplete:"username"})}),a.jsx("div",{className:"space-y-1",children:a.jsx("input",{type:"password",value:d,onChange:w=>h(w.target.value),className:"w-full px-5 py-4 bg-[#f8fafc] border border-slate-100 rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:bg-white transition-all outline-none text-sm font-bold text-slate-700 placeholder:text-slate-400",placeholder:"Password",disabled:b||j,autoComplete:"current-password"})}),a.jsx("div",{className:"pt-2 flex items-center justify-between",children:a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[a.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-200 text-[#0f172a] focus:ring-0"}),a.jsx("span",{className:"text-xs font-bold text-slate-400 group-hover:text-slate-600 transition-colors",children:"Stay signed in"})]})}),a.jsx("div",{className:"pt-8",children:a.jsx("button",{type:"submit",disabled:b||j,className:`w-full py-5 rounded-2xl shadow-xl transition-all flex items-center justify-center font-black text-xs uppercase tracking-[0.2em] active:scale-[0.98] ${j?"bg-slate-100 text-slate-400 shadow-none":"bg-[#0f172a] text-white hover:bg-black shadow-slate-900/10"}`,children:t?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dt,{className:"animate-spin",size:20,strokeWidth:3}),a.jsx("span",{children:"Connecting... Please wait"})]}):n?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dt,{className:"animate-spin",size:20,strokeWidth:3}),a.jsx("span",{children:"Verifying Identity..."})]}):j?`Locked: ${o}s`:"Sign In"})})]})]})}),a.jsx("div",{className:"absolute bottom-10 right-10 hidden lg:block opacity-20 hover:opacity-50 transition-opacity",children:a.jsx(mn,{size:20,className:"text-slate-400"})})]})]})},N_=({isVisible:e})=>{const[t,n]=O.useState(navigator.onLine);return O.useEffect(()=>{const r=()=>n(navigator.onLine);return window.addEventListener("online",r),window.addEventListener("offline",r),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",r)}},[]),t?e?a.jsxs("div",{className:"fixed top-4 right-1/2 translate-x-1/2 z-[100] bg-slate-900 text-white px-5 py-2 rounded-full text-[9px] font-black uppercase tracking-[0.3em] flex items-center shadow-2xl animate-in slide-in-from-top-4 border border-slate-800",children:[a.jsx(Dt,{size:12,className:"animate-spin mr-2"}),"Synchronizing..."]}):null:a.jsxs("div",{className:"fixed top-4 right-1/2 translate-x-1/2 z-[100] bg-rose-600 text-white px-5 py-2 rounded-full text-[9px] font-black uppercase tracking-[0.2em] flex items-center shadow-2xl animate-in fade-in slide-in-from-top-4 border border-rose-500",children:[a.jsx(Wi,{size:12,className:"mr-2"}),"Offline Mode (Read Only)"]})};var ln=(e=>(e.Active="Active",e.Inactive="Inactive",e.Suspended="Suspended",e))(ln||{}),Es=(e=>(e.Active="Active",e.Inactive="Inactive",e.Maintenance="Maintenance",e))(Es||{}),pn=(e=>(e.Active="Active",e.Expired="Expired",e.Cancelled="Cancelled",e))(pn||{}),wt=(e=>(e.Pending="Pending",e.Paid="Paid",e.Partial="Partial",e.Overdue="Overdue",e))(wt||{}),Ds=(e=>(e.Completed="Completed",e.Pending="Pending",e.Failed="Failed",e))(Ds||{}),Qn=(e=>(e.Open="Open",e.InProgress="In Progress",e.Resolved="Resolved",e))(Qn||{}),$n=(e=>(e.Scheduled="Scheduled",e.InProgress="In Progress",e.Completed="Completed",e))($n||{}),la=(e=>(e.Critical="Critical",e.High="High",e.Normal="Normal",e.Low="Low",e))(la||{}),st=(e=>(e.Invoice="Invoice",e.Proforma="Proforma",e.Quotation="Quotation",e))(st||{}),na=(e=>(e.InterestOnly="InterestOnly",e.PrincipalPlusInterest="PrincipalPlusInterest",e))(na||{}),an=(e=>(e.Draft="Draft",e.UnderReview="UnderReview",e.CounterProposed="CounterProposed",e.Approved="Approved",e.Active="Active",e))(an||{}),Xr=(e=>(e.Call="Call",e.Email="Email",e.Meeting="Meeting",e.PaymentFollowUp="Payment Follow-Up",e.TechnicalSupport="Technical Support",e.GeneralNote="General Note",e.NoResponse="No Response",e))(Xr||{});const S_=({status:e})=>a.jsxs("div",{className:"relative mb-2",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl border border-slate-100 flex items-center justify-center bg-white shadow-sm ring-4 ring-slate-50 relative",children:a.jsx(At,{size:28,strokeWidth:1.5,className:"text-slate-400"})}),a.jsx("div",{className:`absolute -bottom-1 -right-1 w-3.5 h-3.5 rounded-full border-2 border-white shadow-sm ${e===ln.Active?"bg-emerald-500":"bg-rose-500"}`})]}),k_=({name:e,type:t,id:n})=>{const r=()=>{switch(t){case"Individual":return"Personal Account";case"SME":return"SME Business";case"Corporate":return"Enterprise Entity";default:return t||"Client"}};return a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("h3",{className:"text-base font-bold text-slate-900 tracking-tight leading-none mb-1.5 px-4",children:e||"Unknown Client"}),a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("span",{className:"text-[8px] font-black text-indigo-600 bg-indigo-50 px-1.5 py-0.5 rounded uppercase tracking-widest",children:r()}),a.jsxs("span",{className:"text-[8px] font-mono text-slate-400 uppercase tracking-widest border border-slate-100 px-1 rounded",children:["ID: ",n||"---"]})]})]})},In=({icon:e,label:t,value:n,colorClass:r="text-slate-700",isEven:i=!1})=>a.jsxs("div",{className:`flex items-center justify-between py-2.5 px-4 border-b border-slate-100 transition-colors group ${i?"bg-slate-50/40":"bg-white"}`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(e,{size:12,className:"text-slate-300 group-hover:text-indigo-400 transition-colors"}),a.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-wider",children:t})]}),a.jsx("span",{className:`text-[11px] font-bold text-right truncate max-w-[130px] ${r}`,children:n||""})]}),C_=({formData:e,agentDisplayName:t})=>{const n=e.ClientType==="Individual";return a.jsxs("div",{className:"flex flex-col items-center px-4 pb-6 select-none",children:[a.jsx(S_,{status:e.Status}),a.jsx(k_,{name:e.CompanyName,type:e.ClientType,id:e.ClientID}),a.jsxs("div",{className:"w-full grid grid-cols-1 md:grid-cols-2 border border-slate-100 bg-white rounded-[1.5rem] overflow-hidden shadow-sm",children:[a.jsxs("div",{className:"md:border-r border-slate-100 flex flex-col",children:[a.jsx("div",{className:"bg-slate-50/50 px-4 py-1.5 border-b border-slate-100",children:a.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Primary Details"})}),a.jsx(In,{icon:n?At:Ei,label:n?"Legal Name":"Entity Name",value:e.CompanyName}),n&&a.jsx(In,{icon:H4,label:"Gender",value:e.Gender,isEven:!0}),!n&&a.jsx(In,{icon:At,label:"Primary Contact",value:e.PrimaryContactName,isEven:!0}),a.jsx(In,{icon:Cc,label:"Email Address",value:e.Email,isEven:!n}),a.jsx(In,{icon:Iy,label:"Primary Phone",value:e.Phone,isEven:n}),a.jsx(In,{icon:oa,label:"Alt Phone",value:e.AltPhone,isEven:!n}),a.jsx(In,{icon:wE,label:"Address",value:e.BillingAddress,isEven:n})]}),a.jsxs("div",{className:"flex flex-col border-t md:border-t-0 border-slate-100",children:[a.jsx("div",{className:"bg-slate-50/50 px-4 py-1.5 border-b border-slate-100",children:a.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Management & Meta"})}),n&&a.jsx(In,{icon:K4,label:"NRC Number",value:e.NRC,colorClass:"text-indigo-600"}),a.jsx(In,{icon:qi,label:"Assigned Agent",value:t,colorClass:"text-slate-900",isEven:n}),a.jsx(In,{icon:Oy,label:"Comm. Protocol",value:`${e.AgentCommissionRate||0}%`,isEven:!n}),a.jsx(In,{icon:$r,label:"Active Since",value:Ce(e.OnboardingDate),isEven:n}),a.jsx(In,{icon:mn,label:"Portal Access",value:e.PortalEnabled?"Enabled":"Restricted",colorClass:e.PortalEnabled?"text-emerald-600":"text-slate-400",isEven:!n}),a.jsx(In,{icon:Ln,label:"Registry Status",value:e.Status,colorClass:e.Status===ln.Active?"text-emerald-600":"text-rose-600",isEven:n})]})]})]})},vi=({label:e,required:t,...n})=>a.jsxs("div",{className:"space-y-1",children:[a.jsxs("label",{className:"text-[10px] font-medium text-slate-500 uppercase tracking-wider",children:[e," ",t&&"*"]}),a.jsx("input",{...n,className:"w-full p-2.5 bg-slate-50 border border-slate-100 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:bg-white outline-none transition-all text-sm font-medium"})]}),A_=({isEnabled:e,onToggle:t,password:n,setPassword:r,showPassword:i,setShowPassword:o,error:c,forcePasswordChange:u,showWalkthrough:f,onCheckboxChange:d,isSaving:h})=>a.jsxs("div",{className:"col-span-1 md:col-span-2 bg-slate-900 rounded-2xl p-6 text-white mt-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:`p-3 rounded-xl ${e?"bg-indigo-500 text-white shadow-lg shadow-indigo-500/20":"bg-slate-800 text-slate-500"}`,children:a.jsx(Ey,{size:18,strokeWidth:2})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-11px font-bold uppercase tracking-widest",children:"Portal Credentials"}),a.jsx("p",{className:"text-[9px] text-slate-400 font-medium tracking-wide",children:"Secure self-service node for client interaction."})]})]}),a.jsx("button",{type:"button",disabled:h,onClick:t,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none ${e?"bg-indigo-500":"bg-slate-800"} ${h?"opacity-50 cursor-not-allowed":""}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 ease-in-out shadow-sm ${e?"translate-x-6":"translate-x-1"}`})})]}),e&&a.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-800 animate-in fade-in slide-in-from-top-2 duration-300",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"text-[9px] font-bold text-slate-500 uppercase tracking-widest",children:"Set Access Pin / Password"}),a.jsxs("div",{className:"relative mt-2",children:[a.jsx("input",{type:i?"text":"password",value:n,onChange:m=>r(m.target.value),disabled:h,placeholder:"Enter temporary password...",className:`w-full p-2.5 pr-12 bg-slate-800 border rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-xs font-mono tracking-widest text-white ${c?"border-rose-500":"border-slate-700"}`}),a.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-2 text-slate-500 hover:text-white transition-colors",children:i?a.jsx(G4,{size:16}):a.jsx(Sy,{size:16})})]}),c&&a.jsx("p",{className:"text-[9px] text-rose-400 mt-2 font-bold uppercase tracking-widest",children:c})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer group",children:[a.jsx("input",{name:"ForcePasswordChange",type:"checkbox",disabled:h,checked:u,onChange:d,className:"w-4 h-4 text-indigo-500 border-slate-700 bg-slate-800 rounded focus:ring-indigo-500"}),a.jsx("span",{className:"text-[9px] font-medium text-slate-400 uppercase tracking-widest group-hover:text-white transition-colors",children:"Strict Password Reset"})]}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer group",children:[a.jsx("input",{name:"ShowWalkthrough",type:"checkbox",disabled:h,checked:f,onChange:d,className:"w-4 h-4 text-indigo-500 border-slate-700 bg-slate-800 rounded focus:ring-indigo-500"}),a.jsx("span",{className:"text-[9px] font-medium text-slate-400 uppercase tracking-widest group-hover:text-white transition-colors",children:"Guided Onboarding"})]})]})]})]}),P_=({formData:e,agents:t,isSaving:n,isAgentRestricted:r,isPortalEnabled:i,tempPassword:o,showPassword:c,passwordError:u,sendEmail:f,onSetSendEmail:d,onSetClientType:h,onTogglePortal:m,onSetTempPassword:x,onSetShowPassword:v,onChange:j,onAgentChange:b,onCheckboxChange:w,onSubmit:y})=>{const S=e.ClientType==="Individual";return a.jsxs("form",{id:"client-form",onSubmit:y,className:"px-8 pb-10 space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"flex items-center justify-between border-b border-slate-50 pb-1",children:a.jsx("h3",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Account Classification"})}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:["Corporate","SME","Individual"].map(P=>a.jsxs("div",{onClick:()=>!n&&h(P),className:`relative p-2 rounded-xl border-2 transition-all cursor-pointer group flex flex-col items-center text-center gap-1 ${e.ClientType===P?"bg-indigo-50 border-indigo-500 ring-4 ring-indigo-500/5":"bg-white border-slate-100 hover:border-indigo-100"} ${n?"opacity-50 cursor-not-allowed":""}`,children:[e.ClientType===P&&a.jsx(wr,{size:12,className:"absolute top-1.5 right-1.5 text-indigo-500 animate-in zoom-in"}),a.jsx("div",{className:`p-1.5 rounded-lg transition-colors ${e.ClientType===P?"bg-indigo-500 text-white":"bg-slate-50 text-slate-400 group-hover:text-indigo-400"}`,children:P==="Corporate"?a.jsx(Ei,{size:18}):P==="SME"?a.jsx(d_,{size:18}):a.jsx(At,{size:18})}),a.jsx("p",{className:`text-[9px] font-bold uppercase tracking-wider ${e.ClientType===P?"text-indigo-900":"text-slate-500"}`,children:P})]},P))})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{className:"col-span-1 md:col-span-2",children:a.jsx("h3",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-4 border-b border-slate-50 pb-2",children:"Primary Identity"})}),a.jsx(vi,{required:!0,label:S?"Full Legal Name":"Registered Entity Name",name:"CompanyName",value:e.CompanyName||"",onChange:j,disabled:n}),S?a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-medium text-slate-500 uppercase tracking-wider",children:"Gender *"}),a.jsxs("select",{required:!0,name:"Gender",value:e.Gender||"",onChange:j,disabled:n,className:"w-full p-2.5 bg-slate-50 border border-slate-100 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm font-medium",children:[a.jsx("option",{value:"",disabled:!0,children:"-- Select Gender --"}),a.jsx("option",{value:"Male",children:"Male"}),a.jsx("option",{value:"Female",children:"Female"}),a.jsx("option",{value:"Other",children:"Other"})]})]}):a.jsx(vi,{required:!0,label:"Primary Contact Person",name:"PrimaryContactName",value:e.PrimaryContactName||"",onChange:j,disabled:n}),S&&a.jsx(vi,{label:"NRC Number (Individual)",name:"NRC",value:e.NRC||"",onChange:j,disabled:n,placeholder:"000000/00/0"}),a.jsx("div",{className:S?"col-span-1":"col-span-1 md:col-span-2",children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-medium text-slate-500 uppercase tracking-wider",children:"Registry Status"}),a.jsxs("select",{name:"Status",value:e.Status,onChange:j,disabled:n,className:"w-full p-2.5 bg-slate-50 border border-slate-100 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm font-medium",children:[a.jsx("option",{value:ln.Active,children:"Active"}),a.jsx("option",{value:ln.Inactive,children:"Inactive"}),a.jsx("option",{value:ln.Suspended,children:"Suspended"})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{className:"col-span-1 md:col-span-2",children:a.jsx("h3",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest border-b border-slate-50 pb-2",children:"Reach & Logistics"})}),a.jsx(vi,{required:!0,type:"email",label:"Global Email Address",name:"Email",value:e.Email||"",onChange:j,disabled:n}),a.jsx(vi,{required:!0,label:"Primary Phone Line",name:"Phone",value:e.Phone||"",onChange:j,disabled:n}),a.jsx(vi,{label:"Alternative Phone",name:"AltPhone",value:e.AltPhone||"",onChange:j,disabled:n}),a.jsx("div",{className:"col-span-1 md:col-span-2",children:a.jsx(vi,{label:"Full Address",name:"BillingAddress",value:e.BillingAddress||"",onChange:j,disabled:n})})]}),a.jsxs("div",{className:"bg-slate-50/50 rounded-2xl p-6 border border-slate-100",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx(qi,{size:16,className:"text-slate-400"}),a.jsx("h4",{className:"font-bold text-slate-800 text-[10px] uppercase tracking-widest",children:"Account Manager"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-medium text-slate-500 uppercase",children:"Assigned Agent"}),a.jsxs("select",{disabled:r||n,name:"AssignedAgentID",value:e.AssignedAgentID||"",onChange:b,className:"w-full p-2.5 bg-white border border-slate-100 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm font-medium",children:[a.jsx("option",{value:"",children:"-- Select Agent --"}),t.map(P=>a.jsx("option",{value:P.AgentID,children:P.AgentName},P.AgentID))]}),a.jsx("p",{className:"text-[8px] text-slate-400 font-bold uppercase mt-1",children:"Note: Commission protocol is managed globally via the Team Access module."})]})]}),a.jsx("div",{className:"bg-white rounded-2xl p-6 border border-slate-100 shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2.5 rounded-xl ${f?"bg-indigo-100 text-indigo-600":"bg-slate-100 text-slate-400"}`,children:a.jsx(Cc,{size:18})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest",children:"Onboarding Notification"}),a.jsx("p",{className:"text-[8px] font-bold text-slate-400 uppercase mt-0.5",children:"Send a professional welcome email to the client"})]})]}),a.jsx("button",{type:"button",onClick:()=>d(!f),disabled:n,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none ${f?"bg-indigo-600":"bg-slate-200"}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 ease-in-out shadow-sm ${f?"translate-x-6":"translate-x-1"}`})})]})}),a.jsx(A_,{isEnabled:i,onToggle:m,password:o,setPassword:x,showPassword:c,setShowPassword:v,error:u,forcePasswordChange:e.ForcePasswordChange,showWalkthrough:e.ShowWalkthrough,onCheckboxChange:w,isSaving:n})]})},E_=({logs:e,clientID:t,currentUser:n,onSaveLog:r})=>{const[i,o]=O.useState(!1),[c,u]=O.useState(!1),[f,d]=O.useState({Category:Xr.GeneralNote,Note:"",FollowUpDate:"",Status:"Open"}),h=async j=>{if(j.preventDefault(),!f.Note||c)return;u(!0);const b={ID:`LOG-${Math.floor(1e4+Math.random()*9e4)}`,ClientID:t,AgentID:n.id,AgentName:n.name,Date:new Date().toISOString(),Category:f.Category,Note:f.Note,FollowUpDate:f.FollowUpDate,Status:"Closed"};try{await r(b),o(!1),d({Category:Xr.GeneralNote,Note:"",FollowUpDate:"",Status:"Open"})}finally{u(!1)}},m=j=>{switch(j){case Xr.Call:return a.jsx(Iy,{size:14});case Xr.Email:return a.jsx(Cc,{size:14});case Xr.Meeting:return a.jsx(Ri,{size:14});case Xr.PaymentFollowUp:return a.jsx(Wt,{size:14});default:return a.jsx(tr,{size:14})}},x=[...e].sort((j,b)=>new Date(b.Date).getTime()-new Date(j.Date).getTime()),v=new Date;return v.setHours(0,0,0,0),a.jsxs("div",{className:"flex flex-col h-full animate-in fade-in slide-in-from-bottom-2 duration-500 overflow-hidden bg-white",children:[a.jsx("div",{className:"px-6 py-4 bg-slate-50 border-b border-slate-100 shrink-0",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("h3",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 flex items-center gap-2",children:[a.jsx(_l,{size:14})," Chronological Registry"]}),a.jsx("p",{className:"text-[9px] font-bold text-slate-400 mt-0.5",children:"Track touchpoints and follow-ups"})]}),!i&&a.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 bg-slate-900 text-white rounded-xl text-[9px] font-black uppercase tracking-widest shadow-xl hover:bg-indigo-600 transition-all active:scale-95",children:[a.jsx(zr,{size:12,strokeWidth:3})," Record Contact"]})]})}),a.jsxs("div",{className:"flex-1 flex flex-col min-h-0 relative",children:[i&&a.jsx("div",{className:"absolute inset-x-0 top-0 z-40 px-4 py-4 bg-white/95 backdrop-blur-sm border-b border-slate-100 animate-in slide-in-from-top-2 duration-300",children:a.jsxs("form",{onSubmit:h,className:"bg-white border-2 border-indigo-100 rounded-2xl p-4 shadow-xl space-y-4 max-w-full",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("span",{className:"text-[9px] font-black text-indigo-600 uppercase tracking-widest",children:"New Interaction Log"}),a.jsx("button",{type:"button",onClick:()=>o(!1),className:"p-1 text-slate-300 hover:text-slate-500",children:a.jsx(jt,{size:16})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase ml-1",children:"Type"}),a.jsx("select",{value:f.Category,onChange:j=>d({...f,Category:j.target.value}),className:"w-full p-2.5 bg-slate-50 border border-slate-100 rounded-xl text-xs font-bold outline-none",children:Object.values(Xr).map(j=>a.jsx("option",{value:j,children:j},j))})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase ml-1",children:"Follow-Up Date (Optional)"}),a.jsx("input",{type:"date",value:f.FollowUpDate,onChange:j=>d({...f,FollowUpDate:j.target.value}),className:"w-full p-2.5 bg-slate-50 border border-slate-100 rounded-xl text-xs font-bold outline-none"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase ml-1",children:"Interaction Notes"}),a.jsx("textarea",{required:!0,autoFocus:!0,value:f.Note,onChange:j=>d({...f,Note:j.target.value}),placeholder:"What happened? (e.g. 'No answer', 'Requested discount')",className:"w-full h-24 p-3 bg-slate-50 border border-slate-100 rounded-xl text-xs font-medium outline-none resize-none focus:ring-2 focus:ring-indigo-100"})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("button",{type:"submit",disabled:c,className:"flex-1 py-3 bg-indigo-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest flex items-center justify-center gap-2 shadow-lg active:scale-95 transition-all",children:[c?a.jsx(Dt,{size:12,className:"animate-spin"}):a.jsx(wr,{size:12}),"Log Interaction"]})})]})}),a.jsx("div",{className:`flex-1 overflow-y-auto no-scrollbar px-6 py-6 space-y-4 ${i?"pt-72 sm:pt-64":""}`,children:x.length>0?x.map(j=>{const b=j.FollowUpDate&&new Date(j.FollowUpDate)<=v;return a.jsxs("div",{className:"relative pl-10 group",children:[a.jsx("div",{className:"absolute left-0 top-1 w-8 h-8 rounded-full bg-white border border-slate-100 shadow-sm flex items-center justify-center text-slate-400 z-10 group-hover:bg-slate-900 group-hover:text-white transition-all",children:m(j.Category)}),a.jsxs("div",{className:`bg-white p-4 rounded-2xl border transition-all group-hover:shadow-md ${b?"border-rose-100 ring-2 ring-rose-50":"border-slate-100"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[9px] font-black text-slate-900 uppercase",children:j.AgentName}),a.jsx("span",{className:"text-[8px] font-bold text-slate-400 uppercase tracking-tighter",children:Ce(j.Date)})]}),a.jsx("span",{className:`px-2 py-0.5 rounded text-[7px] font-black uppercase tracking-widest border ${j.Category===Xr.NoResponse?"bg-rose-50 text-rose-600 border-rose-100":"bg-slate-50 text-slate-500 border-slate-100"}`,children:j.Category})]}),a.jsx("p",{className:"text-[11px] font-medium text-slate-600 leading-relaxed whitespace-pre-wrap",children:j.Note}),j.FollowUpDate&&a.jsxs("div",{className:`mt-2 flex items-center gap-2 px-2.5 py-1 rounded-lg w-fit border ${b?"bg-rose-50 text-rose-700 border-rose-200 animate-pulse":"bg-amber-50 text-amber-700 border-amber-200"}`,children:[b?a.jsx(pa,{size:10}):a.jsx($r,{size:10}),a.jsxs("span",{className:"text-[8px] font-black uppercase tracking-widest",children:[b?"OVERDUE":"REMINDER",": ",Ce(j.FollowUpDate)]})]})]})]},j.ID)}):a.jsxs("div",{className:"py-24 text-center flex flex-col items-center opacity-20 select-none",children:[a.jsx(tr,{size:32,className:"mb-3"}),a.jsx("p",{className:"text-[9px] font-black uppercase tracking-[0.4em]",children:"No Interactions Logged"})]})})]})]})},Ku=e=>String(e||"").trim().toLowerCase(),D_=({isOpen:e,onClose:t,mode:n,client:r,agents:i,activityLogs:o=[],currentUser:c,onSave:u,onSaveActivityLog:f,onDelete:d})=>{const[h,m]=O.useState(n),[x,v]=O.useState("profile"),[j,b]=O.useState({}),[w,y]=O.useState(!1),[S,P]=O.useState(""),[k,C]=O.useState(!1),[E,D]=O.useState(""),[I,$]=O.useState(!1),[B,M]=O.useState(!0),[z,L]=O.useState(navigator.onLine);if(O.useEffect(()=>{const te=()=>L(navigator.onLine);return window.addEventListener("online",te),window.addEventListener("offline",te),()=>{window.removeEventListener("online",te),window.removeEventListener("offline",te)}},[]),O.useEffect(()=>{if(e){if(m(n),v("profile"),D(""),$(!1),M(n==="add"),n==="add"){const te=(c==null?void 0:c.role)==="Agent"||(c==null?void 0:c.role)==="Partner"?i.find(ue=>String(ue.AgentID)===String(c.id)):null;b({ClientID:`CL-${Math.floor(1e3+Math.random()*9e3)}`,Status:ln.Active,ClientType:"Corporate",OnboardingDate:new Date().toISOString().split("T")[0],ForcePasswordChange:!0,ShowWalkthrough:!0,AssignedAgentID:(te==null?void 0:te.AgentID)||"",AgentCommissionRate:(te==null?void 0:te.CommissionRate)||0,Gender:"N/A",CompanyName:"",Email:"",Phone:"",BillingAddress:"",PrimaryContactName:""}),y(!1)}else r&&(b({...r}),y(!!r.ClientAccountID&&r.PortalEnabled!==!1));P("")}},[n,r,e,c,i]),!e)return null;const _=te=>{if(I)return;const{name:ue,value:be}=te.target;b(we=>({...we,[ue]:be}))},U=te=>{if(I)return;const ue=te.target.value,be=i.find(we=>String(we.AgentID)===String(ue));b(we=>({...we,AssignedAgentID:ue,AgentCommissionRate:(be==null?void 0:be.CommissionRate)||0}))},G=te=>{if(I)return;const{name:ue,checked:be}=te.target;b(we=>({...we,[ue]:be}))},W=te=>{I||b(ue=>({...ue,ClientType:te,Gender:te==="Individual"?ue.Gender!=="N/A"?ue.Gender:void 0:"N/A"}))},K=async te=>{if(te.preventDefault(),I||!z)return;if(D(""),w&&!j.ClientAccountID&&!S){D("A temporary password is required to enable portal access.");return}const ue={...j};if(!ue.CompanyName||!ue.Email){D("Required fields missing.");return}$(!0);try{await u({...ue,PortalEnabled:w,ClientAccountID:w?ue.ClientAccountID||`ACC-${Math.floor(1e4+Math.random()*9e4)}`:"",TempPassword:S},B),t()}catch{D("Synchronization failed. Check connection."),$(!1)}},X=(c==null?void 0:c.role)==="Agent"||(c==null?void 0:c.role)==="Partner",R=i.find(te=>Ku(te.AgentID)===Ku(j.AssignedAgentID)),Q=R?R.AgentName:"Unassigned",J=o.filter(te=>Ku(te.ClientID)===Ku(j.ClientID));return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:a.jsxs("div",{className:`bg-white rounded-[2.5rem] shadow-2xl w-full max-w-2xl flex flex-col overflow-hidden animate-in fade-in zoom-in duration-300 ${h==="view"?"h-auto max-h-[90vh]":"h-full max-h-[90vh]"}`,children:[a.jsxs("div",{className:"flex justify-between items-center px-6 pt-6 shrink-0",children:[a.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-2xl",children:[a.jsxs("button",{onClick:()=>v("profile"),className:`flex items-center gap-2 px-6 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${x==="profile"?"bg-white text-slate-900 shadow-md":"text-slate-400 hover:text-slate-600"}`,children:[a.jsx(At,{size:14})," Profile"]}),h!=="add"&&a.jsxs("button",{onClick:()=>v("interactions"),className:`flex items-center gap-2 px-6 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${x==="interactions"?"bg-white text-indigo-600 shadow-md":"text-slate-400 hover:text-slate-600"}`,children:[a.jsx(tr,{size:14})," Interaction Hub"]})]}),a.jsx("button",{onClick:t,disabled:I,className:"p-2 text-slate-300 hover:text-slate-900 transition-colors disabled:opacity-30",children:a.jsx(jt,{size:20})})]}),a.jsx("div",{className:`flex-1 overflow-y-auto custom-scrollbar ${I?"pointer-events-none":""}`,children:x==="profile"?h==="view"?a.jsx(C_,{formData:j,agentDisplayName:Q}):a.jsx("fieldset",{disabled:I,children:a.jsx(P_,{formData:j,agents:i,isSaving:I,isAgentRestricted:X,isPortalEnabled:w,tempPassword:S,showPassword:k,passwordError:E,sendEmail:B,onSetSendEmail:M,onSetClientType:W,onTogglePortal:()=>y(!w),onSetTempPassword:P,onSetShowPassword:C,onChange:_,onAgentChange:U,onCheckboxChange:G,onSubmit:K})}):a.jsx(E_,{logs:J,clientID:j.ClientID,currentUser:c,onSaveLog:f})}),x==="profile"&&a.jsxs("div",{className:"p-6 pt-0 flex flex-col md:flex-row justify-center items-center gap-3 bg-white shrink-0",children:[!z&&a.jsxs("div",{className:"flex items-center gap-2 text-rose-500 font-black text-[8px] uppercase tracking-widest mb-2 md:mb-0",children:[a.jsx(Wi,{size:12})," Syncing Disabled: Device is Offline"]}),h==="view"?a.jsx("button",{onClick:()=>m("edit"),className:"w-full md:w-auto px-10 py-3 bg-slate-900 text-white rounded-2xl font-black shadow-lg hover:bg-slate-800 transition-all text-[10px] uppercase tracking-widest active:scale-95",children:"Modify Profile"}):a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:t,disabled:I,className:"w-full md:w-auto px-8 py-3 text-slate-400 bg-slate-50 hover:bg-slate-100 rounded-2xl transition-all text-[10px] font-black uppercase tracking-widest",children:"Cancel"}),a.jsx("button",{form:"client-form",type:"submit",disabled:I||!z,className:`w-full md:w-auto px-10 py-3 rounded-2xl font-black shadow-lg transition-all text-[10px] uppercase tracking-widest active:scale-95 min-w-[180px] flex items-center justify-center ${z?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:I?a.jsxs(a.Fragment,{children:[a.jsx(Dt,{size:14,className:"animate-spin mr-2"}),"Synchronizing..."]}):h==="add"?"Initiate Account":"Commit Changes"})]})]})]})})},$y=({isOpen:e,onClose:t,role:n,onConfirm:r,defaultName:i,defaultTitle:o=""})=>{const[c,u]=O.useState("draw"),[f,d]=O.useState(i),[h,m]=O.useState(o),[x,v]=O.useState(!1),[j,b]=O.useState(!1),w=O.useRef(null);O.useEffect(()=>{e&&(d(i),m(o),b(!1),setTimeout(y,100))},[e,i,o]);const y=()=>{const D=w.current;if(D){const I=D.getContext("2d");I==null||I.clearRect(0,0,D.width,D.height),b(!1)}},S=D=>{const I=w.current;if(!I)return;const $=I.getContext("2d");if(!$)return;const B=I.getBoundingClientRect(),M="touches"in D?D.touches[0].clientX-B.left:D.clientX-B.left,z="touches"in D?D.touches[0].clientY-B.top:D.clientY-B.top;$.beginPath(),$.moveTo(M,z),$.strokeStyle="#000",$.lineWidth=2,$.lineCap="round",v(!0)},P=D=>{if(!x)return;const I=w.current;if(!I)return;const $=I.getContext("2d");if(!$)return;const B=I.getBoundingClientRect(),M="touches"in D?D.touches[0].clientX-B.left:D.clientX-B.left,z="touches"in D?D.touches[0].clientY-B.top:D.clientY-B.top;$.lineTo(M,z),$.stroke(),b(!0)},k=()=>{v(!1)},C=()=>{let D="";c==="draw"&&w.current&&(D=w.current.toDataURL("image/png")),r(f,h,D,c)};if(!e)return null;const E=n==="Provider";return a.jsx("div",{className:"fixed inset-0 z-[70] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 animate-in zoom-in-95 duration-200",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-xl shadow-2xl p-6 flex flex-col max-h-[90vh]",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[a.jsx(gd,{className:"mr-2 text-blue-600",size:24}),E?"Authorized Representative":"Client Representative"]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:a.jsx(jt,{size:24})})]}),a.jsxs("div",{className:"flex space-x-2 mb-4 bg-gray-100 p-1 rounded-lg self-start",children:[a.jsxs("button",{onClick:()=>u("draw"),className:`flex items-center px-3 py-1.5 text-xs font-bold rounded-md transition-all ${c==="draw"?"bg-white text-blue-600 shadow-sm":"text-gray-500"}`,children:[a.jsx(Dy,{size:12,className:"mr-2"})," Draw"]}),a.jsxs("button",{onClick:()=>u("type"),className:`flex items-center px-3 py-1.5 text-xs font-bold rounded-md transition-all ${c==="type"?"bg-white text-blue-600 shadow-sm":"text-gray-500"}`,children:[a.jsx(g_,{size:12,className:"mr-2"})," Type"]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:"Signatory Name"}),a.jsx("input",{type:"text",value:f,onChange:D=>d(D.target.value),className:"w-full p-2.5 border border-gray-200 rounded-lg text-sm font-medium focus:ring-2 focus:ring-blue-500 outline-none mt-1 bg-white text-slate-900",placeholder:"Full Name"}),a.jsx("p",{className:"text-[8px] text-slate-400 font-bold uppercase mt-1",children:"Open for manual adjustment"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:"Signatory Title"}),a.jsx("input",{type:"text",value:h,onChange:D=>m(D.target.value),className:"w-full p-2.5 border border-gray-200 rounded-lg text-sm font-medium focus:ring-2 focus:ring-blue-500 outline-none mt-1",placeholder:"e.g. Director"})]})]}),c==="draw"?a.jsxs("div",{className:"relative border border-gray-300 rounded-xl overflow-hidden bg-white touch-none",children:[a.jsx("canvas",{ref:w,width:450,height:200,className:"w-full h-[200px] bg-gray-50 cursor-crosshair",onMouseDown:S,onMouseMove:P,onMouseUp:k,onMouseLeave:k,onTouchStart:S,onTouchMove:P,onTouchEnd:k}),a.jsx("div",{className:"absolute top-2 right-2",children:a.jsxs("button",{onClick:y,className:"text-[10px] bg-white/80 hover:bg-white border border-gray-200 px-2 py-1 rounded shadow-sm text-gray-600 flex items-center",children:[a.jsx(Ml,{size:10,className:"mr-1"})," Clear"]})}),!j&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none text-gray-300 text-xs font-black uppercase tracking-widest select-none",children:"Draw your signature here"})]}):a.jsx("div",{className:"p-10 bg-gray-50 border border-dashed border-gray-300 rounded-xl text-center h-[200px] flex items-center justify-center overflow-hidden",children:a.jsx("p",{className:"text-4xl text-slate-800 truncate px-4",style:{fontFamily:"cursive"},children:f||"Your Name"})}),a.jsxs("div",{className:"flex items-start bg-blue-50 p-3 rounded-lg border border-blue-100",children:[a.jsx(mn,{className:"text-blue-600 shrink-0 mt-0.5 mr-2",size:16}),a.jsx("p",{className:"text-[10px] text-blue-800 font-medium",children:"I verify that this electronic signature is intended to be my legally binding signature for this agreement."})]}),a.jsx("button",{onClick:C,disabled:!f||c==="draw"&&!j,className:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-bold shadow-lg shadow-blue-600/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all text-sm uppercase tracking-widest",children:"Confirm Signature"})]})]})})},TE=({isOpen:e,onClose:t,previewHtml:n,contract:r,userRole:i,onInitiateSigning:o,onDownload:c,onShare:u,onDispatch:f})=>{const d=O.useRef(null),h=O.useRef(null),[m,x]=O.useState(100);if(O.useEffect(()=>{if(e&&h.current){const y=()=>{var P;const S=((P=h.current)==null?void 0:P.clientWidth)||0;if(S<850){const k=Math.floor(S/850*100)-2;x(Math.max(30,k))}else x(100)};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)}},[e]),O.useEffect(()=>{if(e&&n&&d.current){const y=d.current,P=setTimeout(()=>{if(y.contentWindow&&y.contentWindow.document.body){const k=y.contentWindow.document.documentElement.scrollHeight;y.style.height=`${k+50}px`}},300);return()=>clearTimeout(P)}},[e,n,m]),!e||!n)return null;const v=!!(r.ProviderSign||r.ProviderSignImage),j=!!(r.ClientSign||r.ClientSignImage),b=v&&j,w=(i==null?void 0:i.toLowerCase())==="client";return a.jsx("div",{className:"fixed inset-0 z-[60] bg-slate-900/95 backdrop-blur-md flex items-center justify-center p-0 sm:p-4 md:p-6 lg:p-10 animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-slate-800 w-full max-w-6xl h-full sm:h-[95vh] sm:rounded-[2.5rem] flex flex-col shadow-2xl overflow-hidden border border-slate-700/50 relative",children:[a.jsxs("div",{className:"px-6 py-4 flex flex-wrap justify-between items-center border-b border-slate-700/50 bg-slate-800/50 backdrop-blur-xl gap-4 z-30",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:t,className:"group p-2.5 bg-slate-700 hover:bg-slate-600 rounded-2xl text-white transition-all active:scale-95 flex items-center gap-2 pr-5 shadow-lg border border-slate-600",children:[a.jsx(xf,{size:18,className:"group-hover:-translate-x-1 transition-transform"}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em]",children:"Exit Preview"})]}),a.jsx("div",{className:"h-10 w-px bg-slate-700/50 mx-2 hidden sm:block"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2.5 bg-indigo-500/10 rounded-2xl text-indigo-400 hidden sm:block border border-indigo-500/20",children:a.jsx(Cn,{size:20})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h3",{className:"font-black text-sm text-white tracking-tight truncate uppercase tracking-widest",children:"Document Authorization"}),a.jsxs("p",{className:"text-[9px] text-slate-400 font-black uppercase tracking-[0.3em] mt-0.5",children:["REF: ",r.ContractID||"PENDING"]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[a.jsxs("div",{className:"hidden lg:flex items-center bg-slate-900/50 rounded-2xl border border-slate-700 p-1 mr-2",children:[a.jsx("button",{onClick:()=>x(y=>Math.max(30,y-10)),className:"p-2 text-slate-400 hover:text-white transition-colors",children:a.jsx(IE,{size:16})}),a.jsxs("span",{className:"text-[10px] font-black text-slate-500 w-12 text-center",children:[m,"%"]}),a.jsx("button",{onClick:()=>x(y=>Math.min(150,y+10)),className:"p-2 text-slate-400 hover:text-white transition-colors",children:a.jsx(OE,{size:16})})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[w?!j&&a.jsxs("button",{onClick:()=>o("Client"),className:"flex items-center px-5 py-2.5 bg-amber-500 hover:bg-amber-400 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all shadow-xl active:scale-95 border border-amber-500",children:[a.jsx(gd,{size:16,className:"sm:mr-2"})," Authorize Now"]}):v?!b&&a.jsxs("button",{onClick:f,className:"flex items-center px-6 py-2.5 bg-indigo-600 hover:bg-indigo-50 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all shadow-xl active:scale-95 border border-indigo-500 animate-in zoom-in",children:[a.jsx(sa,{size:16,className:"sm:mr-2 animate-pulse"})," Dispatch Authorized Agreement"]}):a.jsxs("button",{onClick:()=>o("Provider"),className:"flex items-center px-5 py-2.5 bg-amber-500 hover:bg-amber-400 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all shadow-xl active:scale-95 border border-amber-500",children:[a.jsx(gd,{size:16,className:"sm:mr-2"})," Sign Agreement"]}),a.jsxs("button",{onClick:c,className:"flex items-center px-5 py-2.5 bg-slate-900 hover:bg-slate-950 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all shadow-xl active:scale-95 border border-slate-700",children:[a.jsx(NE,{size:16,className:"sm:mr-2"})," ",a.jsx("span",{className:"hidden sm:inline",children:"Print Document"})]})]})]})]}),a.jsxs("div",{ref:h,className:"flex-1 bg-slate-950 overflow-y-auto overflow-x-hidden flex flex-col items-center p-4 sm:p-12 no-scrollbar relative scroll-smooth",children:[a.jsx("div",{className:"bg-white w-full max-w-4xl shadow-[0_50px_100px_-20px_rgba(0,0,0,0.8)] transition-all duration-300 transform-gpu origin-top rounded-sm",style:{transform:`scale(${m/100})`,marginBottom:`-${100-m}%`},children:a.jsx("iframe",{ref:d,srcDoc:n,className:"w-full border-none block",style:{height:"auto",minHeight:"100vh"},title:"Contract Preview",scrolling:"no"})}),a.jsx("div",{className:"h-32 w-full shrink-0"})]}),a.jsx("div",{className:"absolute bottom-10 right-10 z-40 animate-bounce hidden md:block",children:a.jsx("div",{className:"bg-slate-800/80 backdrop-blur-md border border-slate-700 p-4 rounded-full shadow-2xl",children:a.jsxs("div",{className:"flex flex-col items-center gap-1",children:[a.jsx("span",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest",children:"End of Doc"}),a.jsx("div",{className:"w-1 h-3 bg-indigo-500 rounded-full"})]})})})]})})},js=({icon:e,label:t,value:n})=>a.jsxs("div",{className:"flex items-start p-3 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"p-2 bg-white rounded-md border border-gray-100 mr-3 text-indigo-600",children:a.jsx(e,{size:18})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-gray-500",children:t}),a.jsx("p",{className:"text-sm font-semibold mt-1 text-slate-800",children:n||"0"})]})]}),O_=({contract:e,agents:t,vehicles:n,onPreview:r})=>{const i=(e.AssetIDs||[]).map(f=>String(f).trim().toLowerCase()),o=n.filter(f=>{const d=String(f.VehicleID||"").trim().toLowerCase();return i.includes(d)}),c=t.find(f=>String(f.AgentID)===String(e.AssignedAgentID)),u=c?c.AgentName:e.AssignedAgentID&&e.AssignedAgentID!=="0"?e.AssignedAgentID:"Unassigned";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-indigo-600 rounded-3xl p-6 text-white shadow-xl relative overflow-hidden",children:[a.jsx("div",{className:"absolute right-0 top-0 p-8 opacity-10 rotate-12",children:a.jsx(qi,{size:120})}),a.jsxs("div",{className:"relative z-10 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-white/20 rounded-xl",children:a.jsx(Di,{size:20})}),a.jsx("h3",{className:"text-sm font-black uppercase tracking-[0.2em]",children:"Nature of Agreement"})]}),a.jsxs("p",{className:"text-xs text-indigo-50 leading-relaxed font-medium",children:["This agreement is for the supply and installation of ",a.jsx("span",{className:"font-bold text-white",children:"GPS Tracking or Dashcam hardware"}),", and the provision of access to a ",a.jsx("span",{className:"font-bold text-white",children:"digital tracking platform"}),". The service allows ",a.jsx("span",{className:"font-bold text-white",children:e.ClientName})," to monitor vehicles in real-time, view route history, and receive technical support for asset management."]})]})]}),a.jsxs("div",{className:"bg-white border border-gray-100 p-4 sm:p-6 rounded-2xl shadow-sm flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 transition-all",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[a.jsx("h3",{className:"text-xl sm:text-2xl font-black text-slate-900 tracking-tight",children:e.PlanType||"Standard"}),a.jsxs("div",{className:"flex gap-1.5",children:[a.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-lg text-[9px] font-black bg-indigo-50 text-indigo-600 border border-indigo-100 uppercase tracking-wider",children:[a.jsx(Sy,{size:10,className:"mr-1"})," Digital Registry"]}),a.jsx("span",{className:`px-2 py-0.5 rounded-lg text-[9px] font-black uppercase tracking-wider border ${e.ContractStatus==="Active"?"bg-emerald-50 text-emerald-700 border-emerald-100":"bg-rose-50 text-rose-700 border-rose-100"}`,children:e.ContractStatus})]})]}),a.jsxs("div",{className:"flex items-center text-slate-500 text-sm font-medium",children:[a.jsx(At,{size:14,className:"mr-1.5 opacity-50"}),a.jsx("span",{className:"tracking-tight",children:e.ClientName||"N/A"})]})]}),a.jsxs("div",{className:"w-full sm:w-auto text-left sm:text-right border-t sm:border-0 pt-4 sm:pt-0",children:[a.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-black tracking-[0.15em] mb-1",children:"Service Value"}),a.jsxs("div",{className:"flex items-baseline sm:justify-end gap-1",children:[a.jsxs("span",{className:"text-2xl sm:text-3xl font-black text-emerald-600 tracking-tighter",children:["K",De(e.TotalAmount)]}),a.jsxs("span",{className:"text-[10px] text-slate-400 font-bold uppercase",children:["/",e.BillingCycle]})]}),e.ClientSign&&a.jsx("div",{className:"mt-1 flex sm:justify-end",children:a.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-md text-[9px] font-bold bg-blue-50 text-blue-700 border border-blue-100",children:[a.jsx(ky,{size:10,className:"mr-1"})," Legally Executed"]})})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4",children:[a.jsx(js,{icon:Py,label:"Technology Type",value:e.ServiceType}),a.jsx(js,{icon:$r,label:"Effective Date",value:Ce(e.StartDate)}),a.jsx(js,{icon:Wt,label:"Agreement Maturity",value:Ce(e.ExpiryDate)}),a.jsx(js,{icon:gf,label:"Asset Nodes",value:e.NoOfUnits}),a.jsx(js,{icon:At,label:"Managing Agent",value:u}),a.jsx(js,{icon:Wt,label:"Renewal Frequency",value:e.BillingCycle})]}),o.length>0&&a.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl overflow-hidden shadow-sm",children:[a.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-b border-gray-100 flex items-center gap-2",children:[a.jsx(yr,{size:16,className:"text-slate-400"}),a.jsx("h4",{className:"text-sm font-bold text-slate-700 uppercase tracking-wider",children:"Targeted Hardware Inventory"})]}),a.jsx("div",{className:"p-0 overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-xs",children:[a.jsx("thead",{className:"bg-slate-50 text-[9px] uppercase tracking-widest text-slate-400",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 font-bold",children:"Registration"}),a.jsx("th",{className:"px-5 py-3 font-bold",children:"Asset Model"}),a.jsx("th",{className:"px-5 py-3 font-bold",children:"Digital Identity (IMEI)"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:o.map(f=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"px-5 py-3 font-mono font-bold text-slate-900",children:f.NumberPlate}),a.jsxs("td",{className:"px-5 py-3 text-slate-600",children:[f.Year," ",f.Make," ",f.Model]}),a.jsx("td",{className:"px-5 py-3 font-mono text-xs text-slate-400",children:f.DeviceSerial})]},f.VehicleID))})]})})]}),a.jsxs("div",{className:"bg-slate-900 text-white rounded-2xl p-6 flex flex-col md:flex-row justify-between items-center shadow-lg shadow-slate-900/10",children:[a.jsxs("div",{className:"mb-4 md:mb-0",children:[a.jsxs("h4",{className:"font-bold text-lg flex items-center",children:[a.jsx(Cn,{size:20,className:"mr-2 text-blue-400"})," Contractual Instrument"]}),a.jsx("p",{className:"text-sm text-slate-300 mt-1 max-w-md",children:"The binding legal document containing exhaustive terms, conditions, and inventory schedules."})]}),a.jsx("div",{className:"flex gap-3 w-full md:w-auto",children:a.jsx("button",{onClick:r,className:"flex-1 md:flex-none flex items-center justify-center px-6 py-2.5 bg-slate-800 hover:bg-slate-700 text-white rounded-xl transition-all font-bold text-xs uppercase tracking-widest border border-slate-700 shadow-xl active:scale-95",children:"Open Document View"})})]})]})},Ac=({options:e,value:t,onChange:n,placeholder:r="Select...",className:i="",disabled:o=!1,required:c=!1,label:u})=>{const[f,d]=O.useState(!1),[h,m]=O.useState(""),x=O.useRef(null),v=O.useRef(null),j=e.find(w=>w.value===t);O.useEffect(()=>{const w=y=>{x.current&&!x.current.contains(y.target)&&d(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]),O.useEffect(()=>{f&&v.current&&v.current.focus(),f||m("")},[f]);const b=e.filter(w=>w.label.toLowerCase().includes(h.toLowerCase())||w.subtext&&w.subtext.toLowerCase().includes(h.toLowerCase()));return a.jsxs("div",{className:`space-y-1 ${i}`,ref:x,children:[u&&a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:[u," ",c&&"*"]}),a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:`w-full min-h-[42px] px-3 py-2 bg-white border border-gray-200 rounded-lg flex items-center justify-between cursor-pointer transition-all ${o?"bg-gray-100 cursor-not-allowed opacity-70":f?"ring-2 ring-blue-500 border-blue-500":"hover:border-blue-300"}`,onClick:()=>!o&&d(!f),children:[a.jsx("span",{className:`block truncate text-sm ${j?"text-gray-900 font-medium":"text-gray-400"}`,children:j?j.label:r}),a.jsx(_i,{size:16,className:`text-gray-400 shrink-0 ml-2 transition-transform duration-200 ${f?"rotate-180":""}`})]}),f&&a.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-xl max-h-60 overflow-hidden flex flex-col animate-in fade-in zoom-in-95 duration-100 origin-top",children:[a.jsx("div",{className:"p-2 border-b border-gray-100 bg-gray-50 sticky top-0",children:a.jsxs("div",{className:"relative",children:[a.jsx(hn,{className:"absolute left-2.5 top-2.5 text-gray-400",size:14}),a.jsx("input",{ref:v,type:"text",className:"w-full pl-8 pr-8 py-1.5 text-sm bg-white border border-gray-200 rounded-md focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 placeholder-gray-400",placeholder:"Type to filter...",value:h,onChange:w=>m(w.target.value),onClick:w=>w.stopPropagation()}),h&&a.jsx("button",{onClick:w=>{var y;w.stopPropagation(),m(""),(y=v.current)==null||y.focus()},className:"absolute right-2 top-2 text-gray-400 hover:text-gray-600",children:a.jsx(jt,{size:14})})]})}),a.jsx("div",{className:"overflow-y-auto flex-1 p-1",children:b.length>0?b.map(w=>a.jsxs("div",{className:`px-3 py-2 text-sm rounded-md cursor-pointer transition-colors flex items-center justify-between ${w.disabled?"opacity-50 cursor-not-allowed bg-gray-50":w.value===t?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>{w.disabled||(n(w.value),d(!1))},children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{children:w.label}),w.subtext&&a.jsx("span",{className:"text-xs text-gray-400 mt-0.5",children:w.subtext})]}),w.value===t&&a.jsx(Ny,{size:14,className:"text-blue-600 ml-2"})]},w.value)):a.jsxs("div",{className:"px-4 py-6 text-sm text-gray-400 text-center flex flex-col items-center",children:[a.jsx(hn,{size:16,className:"mb-2 opacity-50"}),"No matches found"]})})]}),c&&a.jsx("input",{type:"text",className:"absolute opacity-0 pointer-events-none inset-0 -z-10",value:t,required:!0,onChange:()=>{},tabIndex:-1})]})]})},I_=({formData:e,clientOptions:t,groupedPlans:n,selectedPlanID:r,isCustomPlan:i,clientVehicles:o,onChange:c,onClientChange:u,onAssetToggle:f,onSelectAll:d})=>{const h=Array.isArray(e.AssetIDs)?e.AssetIDs.length:0,m=o.length>0&&h===o.length;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-slate-900 rounded-[2rem] p-6 text-white shadow-xl relative overflow-hidden border border-slate-800",children:[a.jsx("div",{className:"absolute right-0 top-0 p-6 opacity-5 rotate-12",children:a.jsx(Ay,{size:80})}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"p-2 bg-indigo-500 rounded-xl",children:a.jsx(mn,{size:18})}),a.jsx("h3",{className:"text-xs font-black uppercase tracking-[0.2em]",children:"Service Level Commitment"})]}),a.jsxs("p",{className:"text-[10px] text-slate-400 leading-relaxed font-medium uppercase tracking-wider",children:["This agreement is for the supply and installation of ",a.jsx("span",{className:"text-indigo-400 font-black",children:"GPS Tracking or Dashcam hardware"}),", and the provision of access to a ",a.jsx("span",{className:"text-indigo-400 font-black",children:"digital tracking platform"}),". The service allows the Client to monitor vehicles in real-time, view route history, and receive technical support for asset management."]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{className:"space-y-2",children:a.jsx(Ac,{label:"Client / Subscriber",required:!0,options:t,value:e.ClientID||"",onChange:u,placeholder:"Select Client..."})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Contract Standing"}),a.jsxs("select",{name:"ContractStatus",value:e.ContractStatus,onChange:c,className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",children:[a.jsx("option",{value:pn.Active,children:"Active / Enforced"}),a.jsx("option",{value:pn.Expired,children:"Matured / Expired"}),a.jsx("option",{value:pn.Cancelled,children:"Terminated"})]})]}),e.ClientID&&a.jsxs("div",{className:"col-span-1 md:col-span-2 bg-indigo-50 border border-indigo-100 rounded-xl p-5 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-indigo-900",children:[a.jsx(yr,{size:18}),a.jsx("h4",{className:"font-bold",children:"Subject Assets (Hardware Nodes)"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[o.length>0&&d&&a.jsxs("button",{type:"button",onClick:d,className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-widest transition-all ${m?"bg-indigo-600 text-white":"bg-white text-indigo-600 border border-indigo-200 hover:bg-indigo-50"}`,children:[a.jsx(wr,{size:12}),m?"Deselect All":"Select All"]}),a.jsxs("span",{className:"text-[10px] font-black uppercase text-indigo-600 bg-white px-2 py-1.5 rounded shadow-sm border border-indigo-100",children:[h," Units Targeted"]})]})]}),o.length>0?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 max-h-[200px] overflow-y-auto pr-2 custom-scrollbar",children:o.map(x=>{const v=Array.isArray(e.AssetIDs)&&e.AssetIDs.includes(x.VehicleID);return a.jsxs("div",{onClick:()=>f(x.VehicleID),className:`flex items-center gap-3 p-3 rounded-lg border cursor-pointer transition-all ${v?"bg-indigo-600 border-indigo-700 text-white shadow-md":"bg-white border-indigo-100 text-indigo-900 hover:border-indigo-400"}`,children:[v?a.jsx(Tl,{size:18}):a.jsx(vd,{size:18,className:"text-indigo-200"}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-xs font-bold font-mono tracking-wider",children:x.NumberPlate}),a.jsxs("p",{className:`text-[10px] truncate ${v?"text-indigo-100":"text-slate-400"}`,children:["IMEI: ",x.DeviceSerial]})]})]},x.VehicleID)})}):a.jsxs("div",{className:"text-center py-6 bg-white/50 border border-dashed border-indigo-200 rounded-lg",children:[a.jsx(jy,{size:24,className:"mx-auto text-indigo-300 mb-2"}),a.jsx("p",{className:"text-xs font-medium text-indigo-700",children:"No active vehicles found for this client."})]})]}),a.jsx("div",{className:"col-span-1 md:col-span-2 bg-slate-50 border border-slate-200 rounded-xl p-5",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Service Plan Classification *"}),a.jsxs("select",{name:"PlanID",value:r,onChange:c,className:"w-full p-2.5 bg-white border border-slate-200 rounded-lg focus:ring-2 focus:ring-slate-500 outline-none",children:[a.jsx("option",{value:"",children:"-- Select Plan --"}),Object.keys(n).map(x=>a.jsx("optgroup",{label:x,children:n[x].map(v=>a.jsxs("option",{value:v.PlanID,children:[v.Class," - K",v.BasePrice]},v.PlanID))},x)),a.jsx("option",{value:"custom",children:"-- Ad-hoc Custom Plan --"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Renewal Cycle"}),a.jsxs("select",{name:"BillingCycle",value:e.BillingCycle,onChange:c,className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg outline-none",children:[a.jsx("option",{value:"Monthly",children:"Monthly Recurring"}),a.jsx("option",{value:"Quarterly",children:"Quarterly Cycle"}),a.jsx("option",{value:"Annual",children:"Annual Commitment"}),a.jsx("option",{value:"Term",children:"Fixed Term"}),a.jsx("option",{value:"Once-off",children:"One-Time Provision"})]})]})]})}),a.jsxs("div",{className:"col-span-1 md:col-span-2 bg-slate-50 border border-slate-200 rounded-xl p-5 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-700 border-b border-slate-200 pb-2",children:[a.jsx(ha,{size:18}),a.jsx("h4",{className:"font-bold text-sm",children:"Settlement Terms"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Preferred Method"}),a.jsxs("select",{name:"PaymentMethod",value:e.PaymentMethod||"Bank Transfer",onChange:c,className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),a.jsx("option",{value:"Mobile Money",children:"Mobile Money"}),a.jsx("option",{value:"Cash",children:"Direct Cash"}),a.jsx("option",{value:"Cheque",children:"Corporate Cheque"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"First Payment Due"}),a.jsx("input",{type:"date",name:"PaymentDueDate",value:zl(e.PaymentDueDate),onChange:c,className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Agreement Activation Date"}),a.jsx("input",{type:"date",name:"StartDate",value:zl(e.StartDate),onChange:c,className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Term Length (Months)"}),a.jsx("input",{type:"number",name:"DurationMonths",value:e.DurationMonths||0,onChange:c,className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),a.jsxs("div",{className:"p-4 bg-slate-900 rounded-2xl border border-slate-800 flex items-center justify-between shadow-xl",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2.5 bg-indigo-500/20 rounded-xl text-indigo-400",children:a.jsx($r,{size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-slate-500 tracking-widest leading-none",children:"Agreement Expiration"}),a.jsx("h4",{className:"text-lg font-black text-white mt-1 uppercase tracking-tight",children:e.ExpiryDate?Ce(e.ExpiryDate):"Pending Data Entry"})]})]}),a.jsx("div",{className:"text-right",children:a.jsx("span",{className:"text-[8px] font-black uppercase bg-indigo-600 text-white px-2 py-0.5 rounded",children:"Auto-Calculated"})})]}),a.jsxs("div",{className:"p-5 bg-gray-50 rounded-xl border border-gray-200",children:[a.jsxs("h4",{className:"text-sm font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(Mi,{size:16,className:"mr-2 text-green-600"})," Portfolio Valuations"]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-semibold text-gray-500",children:"Unit Price"}),a.jsx("input",{type:"number",step:"0.01",name:"UnitPrice",value:e.UnitPrice||0,onChange:c,readOnly:!i,className:`w-full p-2 border border-gray-200 rounded ${i?"bg-white":"bg-gray-100 text-gray-500"}`})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-semibold text-gray-500",children:"Asset Count"}),a.jsx("input",{type:"number",name:"NoOfUnits",value:e.NoOfUnits||0,onChange:c,className:"w-full p-2 border border-gray-200 rounded bg-white font-bold text-slate-900"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-semibold text-gray-500",children:"Maintenance Fees"}),a.jsx("input",{type:"number",step:"0.01",name:"AdditionalCost",value:e.AdditionalCost||0,onChange:c,className:"w-full p-2 border border-gray-200 rounded bg-white"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-semibold text-gray-500",children:"Client Discount"}),a.jsx("input",{type:"number",step:"0.01",name:"Discount",value:e.Discount||0,onChange:c,className:"w-full p-2 border border-gray-200 rounded bg-white"})]})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 flex justify-end items-center",children:[a.jsxs("span",{className:"text-sm font-medium text-gray-500 mr-3",children:["Unified Total (",e.BillingCycle,"):"]}),a.jsxs("span",{className:"text-xl font-bold text-emerald-600",children:["K",De(e.TotalAmount)]})]})]})]})},Os=(e,t,n,r,i=[])=>{const o=(r==null?void 0:r.CompanyName)||"Sally Chanza Business Caf",c=(r==null?void 0:r.Address)||"House #39 Salam Park, Lusaka - Zambia",u=(r==null?void 0:r.Phone)||"260966862012",f=(r==null?void 0:r.Email)||"notifications@sallychanza.com",d=(r==null?void 0:r.Logo)||null,h=(e.AssetIDs||[]).map(y=>String(y).trim().toLowerCase()),m=n.filter(y=>h.includes(String(y.VehicleID).trim().toLowerCase())),x=m.length>0?m.map(y=>`
      <tr style="border-bottom: 1px solid #e2e8f0;">
        <td style="padding: 10px; font-size: 11px; font-weight: bold; color: #0f172a;">${y.NumberPlate||"N/A"}</td>
        <td style="padding: 10px; font-size: 11px; color: #475569;">${y.Make||""} ${y.Model||""} (${y.Year||"N/A"})</td>
        <td style="padding: 10px; font-size: 11px; font-family: monospace; color: #64748b;">${Xj(y.DeviceSerial)}</td>
        <td style="padding: 10px; font-size: 11px; font-family: monospace; color: #64748b;">${Xj(y.SimNumber)}</td>
      </tr>
    `).join(""):'<tr><td colspan="4" style="text-align:center; padding: 30px; color: #94a3b8; font-style: italic; background: #f8fafc;">No specific assets were selected for this schedule.</td></tr>',v=i.find(y=>String(y.AgentID)===String(e.AssignedAgentID)),j=v?v.AgentName:"Authorized Representative",b=e.ProviderSign||e.ProviderSignImage,w=e.ClientSign||e.ClientSignImage;return`
    <html>
    <head>
      <style>
        body { font-family: sans-serif; color: #1e293b; line-height: 1.4; font-size: 10px; margin: 0; padding: 40px; }
        .header-table { width: 100%; border-bottom: 3px solid #0f172a; padding-bottom: 15px; margin-bottom: 20px; }
        .logo { max-height: 60px; margin-bottom: 5px; }
        .doc-title { font-size: 20pt; font-weight: 900; text-transform: uppercase; color: #0f172a; margin: 15px 0 5px 0; letter-spacing: -1px; }
        .section-header { background: #0f172a; color: #ffffff; padding: 6px 12px; font-weight: 800; text-transform: uppercase; font-size: 8px; letter-spacing: 1px; margin: 20px 0 10px 0; border-radius: 4px; }
        .info-table { width: 100%; border-collapse: collapse; margin-bottom: 10px; }
        .info-table td { width: 50%; vertical-align: top; padding: 4px 12px 4px 0; }
        .label { font-size: 7px; font-weight: 800; color: #64748b; text-transform: uppercase; display: block; margin-bottom: 1px; }
        .value { font-weight: 700; color: #0f172a; font-size: 10px; }
        .asset-table { width: 100%; border-collapse: collapse; margin: 5px 0; border: 1px solid #e2e8f0; }
        .asset-table th { background: #f8fafc; text-align: left; padding: 8px; font-size: 8px; text-transform: uppercase; color: #64748b; border-bottom: 2px solid #e2e8f0; }
        .terms-text { font-size: 8px; color: #475569; text-align: justify; margin-top: 5px; }
        .terms-text p { margin-bottom: 6px; }
        .summary-row { padding: 10px; border-top: 2px solid #0f172a; margin-top: 15px; text-align: right; }
        .total-amount { font-size: 14px; font-weight: 900; color: #059669; }
        .signature-table { width: 100%; margin-top: 30px; border-collapse: collapse; }
        .sig-cell { width: 50%; padding: 10px 20px 10px 0; vertical-align: bottom; }
        .sig-line { border-bottom: 2px solid #cbd5e1; height: 50px; margin-bottom: 10px; position: relative; }
        .sig-img { max-height: 40px; max-width: 150px; display: block; margin: 0 auto; }
        .footer { position: fixed; bottom: 0; left: 0; right: 0; text-align: center; font-size: 7px; color: #94a3b8; border-top: 1px solid #f1f5f9; padding-top: 8px; }
        .parameters-grid { width: 100%; border-collapse: collapse; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 8px; overflow: hidden; margin-bottom: 10px; }
        .parameters-grid td { padding: 12px; border: 1px solid #e2e8f0; width: 25%; }
        .highlight-value { font-weight: 900; color: #6366f1; }
        .service-scope-box { background: #f1f5f9; border-left: 4px solid #6366f1; padding: 15px; margin: 15px 0; font-size: 9px; color: #334155; }
      </style>
    </head>
    <body>
      <table class="header-table">
        <tr>
          <td style="width: 60%;">
            ${d?`<img src="${d}" class="logo" />`:""}
            <div style="font-size: 14px; font-weight: 900; color: #0f172a; text-transform: uppercase;">${o}</div>
            <div style="font-size: 8px; color: #64748b;">${c}</div>
            <div style="font-size: 8px; color: #64748b;">${u} | ${f}</div>
          </td>
          <td style="width: 40%; text-align: right; vertical-align: top;">
            <div class="doc-title">Agreement</div>
            <div style="color: #6366f1; font-weight: 900; font-size: 10px;">REF: ${e.ContractID}</div>
          </td>
        </tr>
      </table>

      <div class="section-header">1. Contracting Entities</div>
      <table class="info-table">
        <tr>
          <td>
            <span class="label">The Service Provider</span>
            <span class="value">${o}</span>
            <div style="font-size: 8px; color: #64748b;">Represented by: ${j}</div>
          </td>
          <td>
            <span class="label">The Subscriber / Client</span>
            <span class="value">${(t==null?void 0:t.CompanyName)||e.ClientName||"Valued Subscriber"}</span>
            <div style="font-size: 8px; color: #64748b;"><strong>NRC / ID Number:</strong> ${(t==null?void 0:t.NRC)||"N/A"}</div>
            <div style="font-size: 8px; color: #64748b;">Email: ${(t==null?void 0:t.Email)||"N/A"}</div>
            <div style="font-size: 8px; color: #64748b;">Contact: ${(t==null?void 0:t.Phone)||"N/A"}</div>
          </td>
        </tr>
      </table>

      <div class="section-header">2. Statement of Service & Product Scope</div>
      <div class="service-scope-box">
        <strong>NATURE OF AGREEMENT:</strong><br/>
        This agreement is for the supply and installation of <strong>GPS Tracking or Dashcam hardware</strong>, 
        and the provision of access to a <strong>digital tracking platform</strong>. 
        The service allows the Client to monitor vehicles in real-time, view route history, 
        and receive technical support for asset management.
      </div>

      <div class="section-header">3. Agreement Lifecycle & Service Parameters</div>
      <table class="parameters-grid">
        <tr>
          <td>
            <span class="label">Effective Start Date</span>
            <span class="value">${Ce(e.StartDate)}</span>
          </td>
          <td>
            <span class="label">Contract Maturity (Expiry)</span>
            <span class="value" style="color: #ef4444;">${Ce(e.ExpiryDate)}</span>
          </td>
          <td>
            <span class="label">Total Duration</span>
            <span class="value">${e.DurationMonths||0} Month(s)</span>
          </td>
          <td>
            <span class="label">Agreement Status</span>
            <span class="value" style="color: #10b981;">${e.ContractStatus||"ACTIVE"}</span>
          </td>
        </tr>
        <tr>
          <td>
            <span class="label">Billing Frequency</span>
            <span class="value">${e.BillingCycle||"Monthly"}</span>
          </td>
          <td>
            <span class="label">Payment Mode</span>
            <span class="value">${e.PaymentMethod||"Not Specified"}</span>
          </td>
          <td>
            <span class="label">Unit Allocation</span>
            <span class="value">${e.NoOfUnits||0} Verified Assets</span>
          </td>
          <td>
            <span class="label">Plan Designation</span>
            <span class="value highlight-value">${e.PlanType||"Standard"}</span>
          </td>
        </tr>
      </table>

      <div class="section-header">4. Schedule of Assets (Inventory)</div>
      <table class="asset-table">
        <thead>
          <tr>
            <th style="width: 20%;">Plate Number</th>
            <th style="width: 30%;">Description</th>
            <th style="width: 25%;">Hardware ID (Masked)</th>
            <th style="width: 25%;">Connectivity ID</th>
          </tr>
        </thead>
        <tbody>
          ${x}
        </tbody>
      </table>

      <div class="section-header">5. Terms & Conditions of Service</div>
      <div class="terms-text">
        <p><strong>1. MAINTENANCE:</strong> Hardware component failure due to manufacturing defect or normal wear and tear will be repaired or replaced by the Provider. The Client is liable for the full cost of repair or replacement resulting from any accident, misuse, tampering, vandalism, neglect, or intentional damage.</p>
        <p><strong>2. MONITORING DISCLAIMER:</strong> The tracking platform is provided as a self-service tool. The Provider is not a security company, rapid response service, or active monitoring agency. The Provider does not monitor Client assets, dispatch emergency services, or intervene in incidents.</p>
        <p><strong>3. SYSTEM RELIABILITY:</strong> Location accuracy and system functionality depend entirely on the availability and quality of third-party GSM cellular networks and GPS satellite signals. Temporary loss of signal or inaccurate location reporting in tunnels, underground areas, dense urban environments, or remote geographic regions is a known environmental limitation and does not constitute a service failure by the Provider.</p>
        <p><strong>4. CLIENT'S MONITORING OBLIGATION:</strong> The Client is solely responsible for regularly checking the status and location of its assets via the tracking platform. The Client must report any suspected malfunction, anomaly, or offline status of the hardware or software to the Provider immediately to initiate any technical support. Failure to report in a timely manner may limit the Provider's ability to assist.</p>
        <p><strong>5. PAYMENT TERMS & ACCESS:</strong> Service is prepaid. Full access to the platform and tracking services is granted only after the Provider has verified receipt of payment. Service, including all tracking and platform access, will be restricted immediately and automatically upon the expiration of the prepaid term.</p>
        <p><strong>6. DEFAULT AND RECOVERY:</strong> Accounts overdue by more than thirty (30) days are in default. The Provider reserves the right to permanently deactivate services and, upon providing written notice, to physically locate and recover all tracking hardware installed on Client assets. All costs associated with recovery will be billed to the Client.</p>
        <p><strong>7. ASSET SALE OR TRANSFER:</strong> The Client must formally notify the Provider in writing prior to the sale, transfer, or disposal of any asset equipped with the Provider's tracking hardware. The Client must either: 1) Arrange for the physical removal and return of the hardware, or 2) Facilitate the official reassignment of the tracking subscription to the new asset owner through a new contract with the Provider. The Client remains financially responsible for the subscription until one of these actions is completed.</p>
        <p><strong>8. SUBSCRIPTION CHANGES:</strong> The Client may upgrade their service plan at any time. Downgrades to a lower-tier service plan are only permitted upon the expiry of the current prepaid contract term.</p>
        <p><strong>9. DATA PRIVACY:</strong> The Provider will keep all Client location and tracking data confidential. This data will be used solely for the purpose of delivering the service and for authorized technical support. Data will not be sold or shared with unauthorized third parties.</p>
        <p><strong>10. GOVERNING LAW & DISPUTES:</strong> This Agreement shall be governed by and construed in accordance with the laws of the Republic of Zambia. Any dispute arising from this Agreement shall be resolved exclusively through final and binding arbitration in Zambia, in accordance with the Arbitration Act of Zambia or the rules of an agreed-upon Zambian arbitration body.</p>
        <p><strong>11. HARDWARE TITLE & OWNERSHIP:</strong> Tracking hardware remains the property of <strong>${o}</strong> unless explicitly purchased outright and documented as a sale in writing.</p>
      </div>

      <div class="summary-row">
        <span style="font-size: 8px; font-weight: 800; color: #94a3b8; text-transform: uppercase; margin-right: 15px;">Total Subscription Amount (${e.BillingCycle}):</span>
        <span class="total-amount">K ${De(e.TotalAmount)}</span>
      </div>

      <div class="section-header">6. Authorization & Execution</div>
      <table class="signature-table">
        <tr>
          <td class="sig-cell">
            <span class="label">For the Provider</span>
            <div class="sig-line">
               ${b?`<img src="${b}" class="sig-img" />`:""}
            </div>
            <div class="value">${e.ProviderSignName||j}</div>
            <div style="font-size: 7px; color: #64748b;">Authenticated: ${e.ProviderSignDate?Ce(e.ProviderSignDate):"Pending"}</div>
          </td>
          <td class="sig-cell">
            <span class="label">For the Subscriber</span>
            <div class="sig-line">
               ${w?`<img src="${w}" class="sig-img" />`:""}
            </div>
            <div class="value">${e.ClientSignName||"Authorized Signatory"}</div>
            <div style="font-size: 7px; color: #64748b;">Signed: ${e.ClientSignDate?Ce(e.ClientSignDate):"Pending"}</div>
          </td>
        </tr>
      </table>

      <div class="footer">
        Digital Agreement  ID: ${e.ContractID}  Generated by ${o} Automated Registry.
      </div>
    </body>
    </html>
  `},Wa="Sally Chanza Support Desk",gr="support@sallychanza.com",Qr="",pe=e=>String(e||"").trim().toLowerCase().replace(/\s+/g,""),Zr=(e,t)=>{const n=pe(t);if(!n||n==="0")return gr;const r=e.find(i=>pe(i.AgentID)===n);return r!=null&&r.Email&&r.Email.includes("@")?r.Email.trim():gr},T_=[{PlanID:"SYS-BASIC",Category:"GPS Tracking",Type:"Basic",Class:"Economy",BasePrice:100,MaintenanceFee:20,LastUpdated:new Date().toISOString()},{PlanID:"SYS-STD",Category:"GPS Tracking",Type:"Standard",Class:"Value",BasePrice:150,MaintenanceFee:30,LastUpdated:new Date().toISOString()},{PlanID:"SYS-PRO",Category:"GPS Tracking",Type:"Professional",Class:"Enterprise",BasePrice:250,MaintenanceFee:50,LastUpdated:new Date().toISOString()},{PlanID:"SYS-CUSTOM",Category:"Tailored",Type:"Custom",Class:"Bespoke",BasePrice:0,MaintenanceFee:0,LastUpdated:new Date().toISOString()}],__=({isOpen:e,onClose:t,mode:n,contract:r,clients:i,agents:o,servicePlans:c,vehicles:u=[],companySettings:f,userRole:d,currentUser:h,onSave:m,onDelete:x})=>{const[v,j]=O.useState(n),[b,w]=O.useState({}),[y,S]=O.useState(!1),[P,k]=O.useState(!0),[C,E]=O.useState(navigator.onLine),[D,I]=O.useState(!1),[$,B]=O.useState(""),[M,z]=O.useState(null),[L,_]=O.useState(!1),[U,G]=O.useState("Provider");O.useEffect(()=>{const de=()=>E(navigator.onLine);return window.addEventListener("online",de),window.addEventListener("offline",de),()=>{window.removeEventListener("online",de),window.removeEventListener("offline",de)}},[]);const W=c&&c.length>0?c:T_,K=W.reduce((de,Te)=>{const Ne=Te.Category||"General Plans";return de[Ne]||(de[Ne]=[]),de[Ne].push(Te),de},{}),X=i.map(de=>({value:de.ClientID,label:de.CompanyName,disabled:de.Status!==ln.Active,subtext:de.Status!==ln.Active?"Inactive Account":de.ClientType})),R=u.filter(de=>pe(de.ClientID)===pe(b.ClientID)&&de.Status==="Active");O.useEffect(()=>{if(e){if(j(n),I(!1),B(""),z(null),S(!1),k(n==="add"),n==="add"){const de=new Date().toISOString().split("T")[0];w({ContractID:`CN-${Math.floor(3e3+Math.random()*9e3)}`,StartDate:de,PaymentDueDate:de,DurationMonths:12,ContractStatus:pn.Active,NoOfUnits:0,UnitPrice:0,AdditionalCost:0,Discount:0,SubTotal:0,TotalAmount:0,BillingCycle:"Monthly",PlanType:"",ServiceType:"",AssetIDs:[],AssignedAgentID:(h==null?void 0:h.role)==="Agent"||(h==null?void 0:h.role)==="Partner"?h.id:""})}else if(r){const de=r.AssetIDs||[],Te=r.NoOfUnits>0?r.NoOfUnits:de.length;w({...r,AssetIDs:de,NoOfUnits:Te});const Ne=W.find(ze=>{var qe,We;return((qe=ze.Type)==null?void 0:qe.trim().toLowerCase())===((We=r.PlanType)==null?void 0:We.trim().toLowerCase())});Ne?B(Ne.PlanID):(B("custom"),I(!0))}}},[n,r,e,W,h]),O.useEffect(()=>{if(v==="view")return;const de=b.AssetIDs&&b.AssetIDs.length>0?b.AssetIDs.length:Number(b.NoOfUnits)||0,Te=Number(b.UnitPrice)||0,Ne=Number(b.AdditionalCost)||0,ze=Number(b.Discount)||0,qe=de*Te,We=qe+Ne-ze;let xt="";if(b.StartDate&&b.DurationMonths){const zt=new Date(b.StartDate);zt.setMonth(zt.getMonth()+Number(b.DurationMonths)),xt=zt.toISOString().split("T")[0]}(b.NoOfUnits!==de||b.TotalAmount!==We||b.ExpiryDate!==xt)&&w(zt=>({...zt,NoOfUnits:de,SubTotal:qe,TotalAmount:We,ExpiryDate:xt}))},[b.NoOfUnits,b.AssetIDs,b.UnitPrice,b.AdditionalCost,b.Discount,b.StartDate,b.DurationMonths,v]);const Q=()=>{if(!r)return;const de=new Date().toISOString().split("T")[0],Te=r.DurationMonths||12,Ne=new Date;Ne.setMonth(Ne.getMonth()+Te),w({...r,ContractID:`CN-R-${Math.floor(1e3+Math.random()*9e3)}`,StartDate:de,PaymentDueDate:de,ExpiryDate:Ne.toISOString().split("T")[0],ContractStatus:pn.Active,ProviderSignDate:"",ProviderSign:"",ClientSignName:"",ClientSignTitle:"",ClientSignDate:"",ClientSign:""}),j("add"),k(!0)},J=()=>{var qe;const de=pe(b.ClientID),Te=i.find(We=>pe(We.ClientID)===de),Ne={...b,NoOfUnits:((qe=b.AssetIDs)==null?void 0:qe.length)||b.NoOfUnits||0},ze=Os(Ne,Te,u,f||null,o);z(ze)},te=()=>{if(y||!C)return;S(!0);const de=b.AssetIDs&&b.AssetIDs.length>0?b.AssetIDs.length:Number(b.NoOfUnits)||0,Te=pe(b.ClientID),Ne=i.find(xt=>pe(xt.ClientID)===Te),ze={...b,NoOfUnits:de,Email:(Ne==null?void 0:Ne.Email)||""},We=String(ze.ProviderSign||ze.ProviderSignImage||"").trim().length>20;m(ze,We?!0:P).then(()=>{z(null),t()}).finally(()=>S(!1))},ue=de=>{if(y)return;const{name:Te,value:Ne}=de.target;if(Te==="PlanID"){if(Ne==="custom")I(!0),B("custom");else{I(!1),B(Ne);const ze=W.find(qe=>qe.PlanID===Ne);ze&&w(qe=>({...qe,PlanType:ze.Type,ServiceType:`${ze.Category||"General"} - ${ze.Class||"Standard"}`,UnitPrice:ze.BasePrice,AdditionalCost:ze.MaintenanceFee}))}return}w(ze=>({...ze,[Te]:Ne}))},be=de=>{y||w(Te=>{const Ne=Te.AssetIDs||[],ze=Ne.includes(de)?Ne.filter(qe=>qe!==de):[...Ne,de];return{...Te,AssetIDs:ze,NoOfUnits:ze.length}})},we=(de,Te,Ne,ze)=>{const qe=new Date().toISOString(),We=U==="Provider",xt={...b,[We?"ProviderSignName":"ClientSignName"]:de,[We?"ProviderSignTitle":"ClientSignTitle"]:Te,[We?"ProviderSignDate":"ClientSignDate"]:qe,[We?"ProviderSign":"ClientSign"]:Ne,[We?"ProviderSignImage":"ClientSignImage"]:Ne};w(xt),_(!1);const zt=pe(xt.ClientID),me=i.find(rt=>pe(rt.ClientID)===zt);z(Os(xt,me,u,f||null,o)),We&&k(!0),v==="view"&&m({...xt,Email:(me==null?void 0:me.Email)||""},!0)};if(!e)return null;const $e=b.ExpiryDate&&new Date(b.ExpiryDate)<new Date,Oe=pe(b.ClientID),oe=i.find(de=>pe(de.ClientID)===Oe),ke=String(b.ProviderSign||b.ProviderSignImage||"").trim().length>20,ie=!!(b.ClientSign||b.ClientSignImage),He=ke&&ie,Ze=(oe==null?void 0:oe.ClientType)==="Corporate"||(oe==null?void 0:oe.ClientType)==="SME"?(oe==null?void 0:oe.PrimaryContactName)||b.ClientName||"":b.ClientName||"";return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden animate-in fade-in zoom-in duration-300",children:[a.jsxs("div",{className:"flex justify-between items-center p-8 border-b border-gray-100 bg-gray-50/50",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:`p-3 rounded-2xl ${v==="view"?"bg-indigo-100 text-indigo-600":"bg-slate-900 text-white"}`,children:a.jsx(Ml,{size:24})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:v==="view"?"Agreement Overview":v==="edit"?"Edit Agreement":"New Service Agreement"}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-0.5",children:v==="view"?`REF: ${b.ContractID}`:"Configure Terms & Inventory"})]})]}),a.jsx("button",{onClick:t,disabled:y,className:"p-2 text-slate-300 hover:text-slate-900 transition-colors disabled:opacity-30",children:a.jsx(jt,{size:24})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-8 no-scrollbar",children:v==="view"?a.jsx(O_,{contract:b,agents:o,vehicles:u,onPreview:()=>{const de=pe(b.ClientID),Te=i.find(Ne=>pe(Ne.ClientID)===de);z(Os(b,Te,u,f||null,o))}}):a.jsxs("fieldset",{disabled:y,className:"space-y-8",children:[a.jsx("form",{id:"contract-form",onSubmit:de=>{de.preventDefault(),te()},className:"space-y-6",children:a.jsx(I_,{formData:b,clientOptions:X,groupedPlans:K,selectedPlanID:$,isCustomPlan:D,clientVehicles:R,onChange:ue,onClientChange:de=>{if(!y){const Te=pe(de),Ne=i.find(ze=>pe(ze.ClientID)===Te);w(ze=>({...ze,ClientID:de,ClientName:(Ne==null?void 0:Ne.CompanyName)||"",AssetIDs:[]}))}},onAssetToggle:be,onSelectAll:()=>{if(!y){const de=R.map(Ne=>Ne.VehicleID);(b.AssetIDs||[]).length===de.length?w(Ne=>({...Ne,AssetIDs:[],NoOfUnits:0})):w(Ne=>({...Ne,AssetIDs:de,NoOfUnits:de.length}))}}})}),a.jsxs("div",{className:"bg-slate-900 rounded-[2rem] p-6 text-white shadow-xl relative overflow-hidden border border-slate-800",children:[a.jsx("div",{className:"absolute right-0 top-0 p-6 opacity-5 rotate-12",children:a.jsx(sa,{size:80})}),a.jsxs("div",{className:"relative z-10 flex flex-col sm:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`p-3 rounded-2xl transition-all duration-500 ${P||ke?"bg-indigo-500 text-white":"bg-slate-800 text-slate-600"}`,children:a.jsx(sa,{size:20,className:P||ke?"animate-pulse":""})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-[11px] font-black uppercase tracking-widest",children:"Digital Dispatch Protocol"}),a.jsx("p",{className:`text-[9px] font-bold uppercase mt-0.5 ${P||ke?"text-indigo-400":"text-slate-500"}`,children:ke?`Authorized: Dispatching document to ${(oe==null?void 0:oe.Email)||"Unset Address"}`:P?"Active: System will trigger a review request email.":"Standby: Internal record update only."})]})]}),!ke&&a.jsx("button",{type:"button",onClick:()=>!y&&k(!P),className:`relative inline-flex h-7 w-12 items-center rounded-full transition-colors focus:outline-none ${P?"bg-indigo-600":"bg-slate-800"}`,children:a.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform duration-200 ease-in-out shadow-sm ${P?"translate-x-6":"translate-x-1"}`})})]})]})]})}),a.jsxs("div",{className:"p-8 border-t border-gray-100 bg-gray-50 flex flex-col sm:flex-row justify-end items-center gap-4 shrink-0",children:[!C&&v!=="view"&&a.jsxs("div",{className:"flex items-center gap-2 text-rose-500 font-black text-[9px] uppercase tracking-widest mb-2 sm:mb-0",children:[a.jsx(Wi,{size:14})," Offline Mode: Registry Locked"]}),v==="view"?a.jsxs(a.Fragment,{children:[$e&&a.jsxs("button",{onClick:Q,className:"flex-1 sm:flex-none px-8 py-3 bg-indigo-600 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-xl hover:bg-indigo-700 transition-all flex items-center justify-center",children:[a.jsx(Ml,{size:14,className:"mr-2"})," Renew Agreement"]}),x&&a.jsx("button",{onClick:()=>{confirm("Permanently remove this agreement?")&&(x(b.ContractID),t())},className:"px-6 py-3 text-rose-500 bg-rose-50 hover:bg-rose-100 rounded-2xl font-black text-[10px] uppercase tracking-widest",children:"Delete"}),a.jsx("button",{onClick:()=>j("edit"),className:"px-8 py-3 bg-slate-900 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-xl hover:bg-slate-800 transition-all",children:"Edit Record"})]}):a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:t,disabled:y,type:"button",className:"px-6 py-3 text-slate-400 bg-white border border-slate-100 rounded-2xl font-black text-[11px] uppercase tracking-widest",children:"Cancel"}),a.jsxs("button",{type:"button",onClick:J,disabled:!b.ClientID||!b.PlanType||y,className:"flex items-center px-6 py-3 bg-slate-100 text-slate-600 hover:bg-slate-200 rounded-2xl font-black text-[11px] uppercase tracking-widest transition-all disabled:opacity-30",children:[a.jsx(Sy,{size:14,className:"mr-2"})," ",ke?"Review Final Doc":"Preview & Authorize"]}),!He&&a.jsxs("button",{form:"contract-form",type:"submit",disabled:y||!C,className:`px-10 py-3 rounded-2xl font-black text-[11px] uppercase tracking-widest shadow-xl flex items-center justify-center min-w-[160px] transition-all ${ke?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-slate-900 text-white"} disabled:bg-slate-200 disabled:text-slate-400`,children:[y&&a.jsx(Dt,{size:14,className:"animate-spin mr-2"}),y?"Processing...":ke?"Dispatch & Sync":"Save Draft"]})]})]})]})}),a.jsx(TE,{isOpen:!!M,onClose:()=>z(null),previewHtml:M,contract:b,userRole:d,onInitiateSigning:de=>{G(de),_(!0)},onDownload:()=>{const de=pe(b.ClientID),Te=i.find(qe=>pe(qe.ClientID)===de),Ne=Os(b,Te,u,f||null,o),ze=window.open("","_blank");ze&&(ze.document.write(Ne),ze.document.close(),ze.onload=()=>ze.print())},onShare:()=>{},onDispatch:te}),a.jsx($y,{isOpen:L,onClose:()=>_(!1),role:U,defaultName:U==="Provider"?(h==null?void 0:h.name)||"":Ze,defaultTitle:U==="Provider"?b.ProviderSignTitle||"":b.ClientSignTitle||"",onConfirm:we})]})},Bh=({icon:e,label:t,value:n,colorClass:r="text-slate-700"})=>a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 border border-slate-100 rounded-xl flex-1 min-w-[140px]",children:[a.jsx("div",{className:"p-2 bg-white rounded-lg text-slate-400 border border-slate-100 shadow-sm",children:a.jsx(e,{size:14})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-[8px] font-black uppercase tracking-widest text-slate-400 leading-none mb-1",children:t}),a.jsx("p",{className:`text-xs font-bold truncate ${r}`,children:n||""})]})]}),M_=({invoice:e,onPreview:t})=>{const n=r=>{switch(r){case wt.Paid:return"bg-emerald-50 text-emerald-700 border-emerald-100";case wt.Overdue:return"bg-rose-50 text-rose-700 border-rose-100";default:return"bg-amber-50 text-amber-700 border-amber-100"}};return a.jsxs("div",{className:"space-y-6 animate-in fade-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:`px-2 py-0.5 rounded text-[8px] font-black uppercase tracking-widest border ${n(e.Status)}`,children:e.Status}),a.jsxs("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-tighter",children:["Document Node: ",e.InvoiceID]})]}),a.jsx("h3",{className:"text-lg font-black text-slate-900 leading-none uppercase tracking-tight",children:e.ClientName})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Unsettled Balance"}),a.jsxs("h4",{className:`text-2xl font-black tracking-tighter leading-none ${e.Status===wt.Overdue?"text-rose-600":"text-indigo-600"}`,children:["K",De(e.BalanceDue)]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsx(Bh,{icon:$r,label:"Date Issued",value:Ce(e.InvoiceDate)}),a.jsx(Bh,{icon:Wt,label:"Settlement Goal",value:Ce(e.DueDate),colorClass:e.Status===wt.Overdue?"text-rose-600":"text-slate-900"}),a.jsx(Bh,{icon:Py,label:"Billing Period",value:`${e.PeriodMonths||1} Month(s)`})]}),a.jsxs("div",{className:"bg-white border border-slate-100 rounded-3xl overflow-hidden shadow-sm",children:[a.jsx("div",{className:"px-6 py-4 bg-slate-50 border-b border-slate-100",children:a.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500",children:"Service Line Entry"})}),a.jsx("div",{className:"p-0 overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-[11px]",children:[a.jsx("thead",{className:"bg-white text-[8px] uppercase tracking-widest text-slate-400 border-b border-slate-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 font-black",children:"Description of Service"}),a.jsx("th",{className:"px-6 py-4 font-black text-right",children:"Rate"}),a.jsx("th",{className:"px-6 py-4 font-black text-center",children:"Qty"}),a.jsx("th",{className:"px-6 py-4 font-black text-center",children:"Months"}),a.jsx("th",{className:"px-6 py-4 font-black text-right",children:"Total"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-50 text-slate-700",children:a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-5 font-bold text-slate-900 uppercase leading-relaxed max-w-[200px]",children:e.Description||"Unified Fleet Connectivity Services"}),a.jsxs("td",{className:"px-6 py-5 text-right font-mono text-slate-500",children:["K",De(e.UnitPrice)]}),a.jsx("td",{className:"px-6 py-5 text-center font-bold",children:e.NoOfUnits}),a.jsx("td",{className:"px-6 py-5 text-center font-black text-indigo-600",children:e.PeriodMonths||1}),a.jsxs("td",{className:"px-6 py-5 text-right font-black text-slate-900 text-sm",children:["K",De(e.TotalAmount)]})]})})]})})]}),a.jsxs("div",{className:"bg-slate-900 rounded-3xl p-5 flex justify-between items-center text-white shadow-xl relative overflow-hidden",children:[a.jsx("div",{className:"absolute right-0 top-0 p-5 opacity-5 rotate-12",children:a.jsx(ha,{size:60})}),a.jsxs("div",{className:"flex items-center gap-8 relative z-10",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Amount Settled"}),a.jsxs("p",{className:"text-base font-bold text-emerald-400 tracking-tight",children:["K",De(e.AmountPaid)]})]}),a.jsx("div",{className:"h-10 w-px bg-slate-800"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"System Entity"}),a.jsxs("p",{className:"text-xs font-bold text-indigo-300 tracking-tight",children:["#",e.InvoiceID]})]})]}),a.jsx("div",{className:"text-right",children:a.jsx("span",{className:`text-[8px] font-black uppercase px-3 py-1 rounded-lg border ${e.Status===wt.Paid?"bg-emerald-500/10 text-emerald-400 border-emerald-500/20":"bg-indigo-500/10 text-indigo-300 border-indigo-500/20"}`,children:"Registry Record"})})]}),a.jsxs("button",{onClick:t,className:"w-full group bg-white hover:bg-slate-50 border border-slate-200 p-6 rounded-[2.5rem] flex items-center justify-between transition-all active:scale-[0.98] shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-indigo-50 text-indigo-600 rounded-2xl group-hover:bg-indigo-600 group-hover:text-white transition-all duration-300",children:a.jsx(Cn,{size:20})}),a.jsxs("div",{className:"text-left",children:[a.jsx("h4",{className:"text-xs font-black text-slate-900 uppercase tracking-widest",children:"Generate Print Artifact"}),a.jsx("p",{className:"text-[9px] text-slate-400 font-medium uppercase mt-1",children:"Official A4 Document for Client Dispatch"})]})]}),a.jsx("div",{className:"text-slate-200 group-hover:text-slate-900 group-hover:translate-x-2 transition-all",children:a.jsx(cE,{size:24})})]})]})},R_=({isOpen:e,onClose:t,previewHtml:n,invoice:r,onDownload:i,onEdit:o})=>{const c=O.useRef(null),u=O.useRef(null),[f,d]=O.useState(100),[h,m]=O.useState(!0);return O.useEffect(()=>{if(e&&u.current&&h){const x=()=>{var b;const v=((b=u.current)==null?void 0:b.clientWidth)||0,j=800;if(v<640)d(85);else if(v<j){const w=Math.floor(v/j*100)-5;d(Math.max(50,w))}else d(100)};return x(),window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)}},[e,h]),O.useEffect(()=>{if(e&&n&&c.current){const x=c.current,j=setTimeout(()=>{if(x.contentWindow&&x.contentWindow.document.body){const b=x.contentWindow.document.documentElement.scrollHeight;x.style.height=`${b+100}px`}},400);return()=>clearTimeout(j)}},[e,n,f]),!e||!n?null:a.jsx("div",{className:"fixed inset-0 z-[60] bg-slate-900/98 backdrop-blur-xl flex items-center justify-center p-0 sm:p-4 md:p-8 animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-slate-800 w-full max-w-6xl h-full sm:h-[95vh] sm:rounded-[2.5rem] flex flex-col shadow-2xl overflow-hidden border border-slate-700/50 relative",children:[a.jsxs("div",{className:"px-6 py-4 flex flex-wrap justify-between items-center border-b border-slate-700/50 bg-slate-800/80 backdrop-blur-md gap-4 z-20",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:t,className:"group p-2.5 bg-slate-700 hover:bg-slate-600 rounded-2xl text-white transition-all active:scale-95 flex items-center gap-2 pr-5 shadow-lg border border-slate-600",children:[a.jsx(xf,{size:18,className:"group-hover:-translate-x-1 transition-transform"}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Close"})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h3",{className:"font-black text-xs text-white uppercase tracking-widest leading-none",children:"Document Preview"}),a.jsxs("p",{className:"text-[9px] text-slate-400 font-black tracking-[0.3em] uppercase mt-1",children:["REF: ",r.InvoiceID]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[a.jsxs("div",{className:"hidden sm:flex items-center bg-slate-900/50 rounded-2xl border border-slate-700 p-1 mr-2",children:[a.jsx("button",{onClick:()=>{d(x=>Math.max(30,x-10)),m(!1)},className:"p-2 text-slate-400 hover:text-white transition-colors",title:"Zoom Out",children:a.jsx(IE,{size:16})}),a.jsxs("span",{className:"text-[10px] font-black text-slate-500 w-12 text-center",children:[f,"%"]}),a.jsx("button",{onClick:()=>{d(x=>Math.min(200,x+10)),m(!1)},className:"p-2 text-slate-400 hover:text-white transition-colors",title:"Zoom In",children:a.jsx(OE,{size:16})}),a.jsx("button",{onClick:()=>m(!h),className:`ml-1 p-2 rounded-xl transition-all ${h?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,title:"Toggle Auto-Fit",children:h?a.jsx(a_,{size:16}):a.jsx(n_,{size:16})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:o,className:"hidden md:block px-5 py-2.5 bg-slate-700 hover:bg-slate-600 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest border border-slate-600 transition-all active:scale-95",children:"Modify Data"}),a.jsxs("button",{onClick:i,className:"flex items-center px-6 py-2.5 bg-indigo-600 hover:bg-indigo-500 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all shadow-xl active:scale-95 border border-indigo-500",children:[a.jsx(NE,{size:16,className:"sm:mr-2"})," ",a.jsx("span",{className:"hidden sm:inline",children:"Print / PDF"})]})]})]})]}),a.jsxs("div",{ref:u,className:"flex-1 bg-slate-900/50 overflow-auto flex flex-col items-center p-4 sm:p-12 no-scrollbar scroll-smooth",children:[a.jsxs("div",{className:"relative bg-white shadow-[0_50px_100px_-20px_rgba(0,0,0,0.6)] transition-all duration-500 transform-gpu origin-top flex flex-col mb-20",style:{transform:`scale(${f/100})`,marginBottom:`calc(100px - ${100-f}%)`,width:"800px",minWidth:"800px"},children:[a.jsxs("div",{className:"absolute -top-8 left-0 right-0 flex justify-between items-center px-2 opacity-40",children:[a.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"Document Node Start"}),a.jsxs("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest",children:["A4 Scale: ",f,"%"]})]}),a.jsx("iframe",{ref:c,srcDoc:n,className:"w-full border-none block bg-white",style:{height:"auto",minHeight:"100vh"},title:"Digital Invoice",scrolling:"no"}),a.jsx("div",{className:"absolute -bottom-1 left-4 right-4 h-1 bg-slate-300/20 blur-sm rounded-full"})]}),a.jsx("div",{className:"h-24 w-full shrink-0"})]}),a.jsx("div",{className:"sm:hidden absolute bottom-6 left-1/2 -translate-x-1/2 pointer-events-none z-30 flex flex-col items-center gap-2",children:a.jsxs("div",{className:"bg-slate-800/90 backdrop-blur-md px-4 py-2 rounded-full border border-slate-700 shadow-2xl flex items-center gap-3",children:[a.jsx("div",{className:"w-1 h-1 rounded-full bg-indigo-500 animate-ping"}),a.jsx("span",{className:"text-[9px] font-black text-slate-300 uppercase tracking-widest",children:"Scroll Horizontally to Read"})]})}),a.jsx("div",{className:"absolute top-1/2 right-4 -translate-y-1/2 hidden xl:block opacity-20 hover:opacity-100 transition-opacity",children:a.jsxs("div",{className:"flex flex-col items-center gap-4 py-8 px-2 bg-slate-800 border border-slate-700 rounded-full text-slate-500",children:[a.jsx("span",{className:"rotate-90 text-[8px] font-black uppercase tracking-widest whitespace-nowrap",children:"End of Document"}),a.jsx("div",{className:"w-px h-20 bg-gradient-to-b from-slate-700 to-transparent"})]})})]})})},zy=(e,t,n)=>{const r=(n==null?void 0:n.CompanyName)||"Sally Chanza Business Caf",i=((n==null?void 0:n.Address)||"House #39 Salam Park, Lusaka - Zambia").split("|"),o=(n==null?void 0:n.Phone)||"260966862012",c=(n==null?void 0:n.Email)||"notifications@sallychanza.com",u=(n==null?void 0:n.Website)||"www.sallychanza.com",f=(n==null?void 0:n.Logo)||null,d=e.DocType===st.Quotation,h=e.Status===wt.Paid,m=e.Status===wt.Overdue;let x=e.DocType||"Invoice";h&&!d&&(x="Payment Receipt");const v=Number(e.PeriodMonths)||1,j=Number(e.NoOfUnits)||1,b=Number(e.UnitPrice)||0,w=b*j*v||e.TotalAmount||0,y=Number(e.AmountPaid)||0,S=h?0:e.BalanceDue!==void 0?e.BalanceDue:Math.max(0,w-y),P=(t==null?void 0:t.CompanyName)||e.ClientName||"Valued Client",k=e.Description||(b>0&&j>0?`Fleet Management Service (${j} Units for ${v} Month${v>1?"s":""})`:"Professional Technical Services");return`
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="UTF-8">
      <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap');
        @page { size: A4; margin: 0; }
        body { font-family: 'Inter', sans-serif; color: #1e293b; margin: 0; padding: 0; background: #ffffff; line-height: 1.5; }
        .page { width: 210mm; min-height: 297mm; padding: 20mm; margin: 0 auto; box-sizing: border-box; position: relative; }
        
        .header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 40px; }
        .company-info h1 { font-size: 16pt; font-weight: 800; margin: 0; color: #0f172a; }
        .company-info p { font-size: 9pt; color: #64748b; margin: 2px 0; }
        
        .doc-meta { text-align: right; }
        .status-pill { display: inline-block; padding: 4px 12px; border-radius: 4px; font-size: 8pt; font-weight: 700; text-transform: uppercase; margin-bottom: 10px; }
        .status-paid { background: #dcfce7; color: #166534; border: 1px solid #bbf7d0; }
        .status-pending { background: #fef3c7; color: #92400e; border: 1px solid #fde68a; }
        .status-overdue { background: #fee2e2; color: #991b1b; border: 1px solid #fecaca; }

        .doc-meta h2 { font-size: 22pt; font-weight: 900; margin: 0; color: #0f172a; text-transform: uppercase; }
        .meta-data { margin-top: 10px; font-size: 10pt; display: grid; gap: 4px; }

        .billing-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 40px; margin-bottom: 40px; padding-top: 20px; border-top: 1px solid #f1f5f9; }
        .section-label { font-size: 8pt; font-weight: 700; color: #94a3b8; text-transform: uppercase; margin-bottom: 8px; display: block; }
        .client-name { font-size: 12pt; font-weight: 700; color: #0f172a; margin-bottom: 4px; }
        .address-text { font-size: 9pt; color: #475569; }

        .items-table { width: 100%; border-collapse: collapse; margin-bottom: 30px; }
        .items-table th { background: #f8fafc; text-align: left; padding: 12px; font-size: 8pt; font-weight: 700; color: #64748b; text-transform: uppercase; border-bottom: 1px solid #e2e8f0; }
        .items-table td { padding: 15px 12px; font-size: 10pt; border-bottom: 1px solid #f1f5f9; }

        .summary-container { display: flex; justify-content: flex-end; }
        .summary-box { width: 300px; padding: 20px; border: 1px solid #e2e8f0; border-radius: 12px; }
        .summary-row { display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 9pt; color: #475569; }
        .summary-row.total { border-top: 1px solid #e2e8f0; padding-top: 12px; margin-top: 12px; font-size: 12pt; font-weight: 800; color: #0f172a; }
        .next-due-banner { background: #f0f9ff; border: 1px solid #bae6fd; padding: 12px; border-radius: 8px; margin-top: 20px; color: #0369a1; font-size: 9pt; text-align: center; }

        .footer { position: absolute; bottom: 20mm; left: 20mm; right: 20mm; border-top: 1px solid #f1f5f9; padding-top: 15px; text-align: center; font-size: 8pt; color: #94a3b8; }
      </style>
    </head>
    <body>
      <div class="page">
        <div class="header">
          <div class="company-info">
            ${f?`<img src="${f}" style="height:50px; margin-bottom:10px;" />`:""}
            <h1>${r}</h1>
            ${i.map(C=>`<p>${C.trim()}</p>`).join("")}
            <p>${o} | ${c}</p>
          </div>
          <div class="doc-meta">
            <div class="status-pill ${h?"status-paid":m?"status-overdue":"status-pending"}">
               ${h?"Payment Confirmed":m?"Payment Overdue":"Payment Pending"}
            </div>
            <h2>${x}</h2>
            <div class="meta-data">
              <div><strong>No:</strong> ${e.InvoiceID}</div>
              <div><strong>Date:</strong> ${Ce(e.InvoiceDate)}</div>
              <div><strong>Valid Until:</strong> ${Ce(e.DueDate)}</div>
            </div>
          </div>
        </div>

        <div class="billing-grid">
          <div>
            <span class="section-label">Bill To</span>
            <div class="client-name">${P}</div>
            <div class="address-text">${(t==null?void 0:t.BillingAddress)||"N/A"}</div>
            <div class="address-text">Email: ${(t==null?void 0:t.Email)||"N/A"}</div>
          </div>
          <div>
            <span class="section-label">Account Details</span>
            <div class="address-text"><strong>Contract Ref:</strong> ${e.ContractID||"ADHOC"}</div>
            <div class="address-text"><strong>Service Type:</strong> ${e.ServiceType||"Unified Managed Fleet"}</div>
          </div>
        </div>

        <table class="items-table">
          <thead>
            <tr>
              <th style="width: 60%;">Description of Service</th>
              <th style="text-align: center; width: 15%;">Unit Price</th>
              <th style="text-align: center; width: 10%;">Qty</th>
              <th style="text-align: right; width: 15%;">Total</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <div style="font-weight: 600;">${k}</div>
                <div style="font-size: 8pt; color: #94a3b8; margin-top: 4px;">Includes priority technical support and system access.</div>
              </td>
              <td style="text-align: center;">K ${De(b)}</td>
              <td style="text-align: center;">${j}</td>
              <td style="text-align: right; font-weight: 600;">K ${De(w)}</td>
            </tr>
          </tbody>
        </table>

        <div class="summary-container">
          <div class="summary-box">
            <div class="summary-row"><span>Subtotal</span><span>K ${De(w)}</span></div>
            <div class="summary-row" style="color: #10b981;"><span>Total Paid</span><span>- K ${De(y)}</span></div>
            <div class="summary-row total">
              <span>${h?"Balance":"Amount Due"}</span>
              <span>K ${De(h?0:S)}</span>
            </div>
            
            ${h?`
              <div class="next-due-banner">
                <strong>NEXT PAYMENT DUE:</strong> ${Ce(e.DueDate)}
              </div>
            `:""}
          </div>
        </div>

        <div class="footer">
          Thank you for your business. For any inquiries, please contact us at ${c}<br>
          ${u}
        </div>
      </div>
    </body>
    </html>
  `},$_=({isOpen:e,onClose:t,mode:n,invoice:r,clients:i,contracts:o,systemSettings:c,onSave:u,type:f=st.Invoice})=>{const[d,h]=O.useState(n),[m,x]=O.useState({}),[v,j]=O.useState(!1),[b,w]=O.useState(!1),[y,S]=O.useState(!1),[P,k]=O.useState(navigator.onLine);if(O.useEffect(()=>{const M=()=>k(navigator.onLine);return window.addEventListener("online",M),window.addEventListener("offline",M),()=>{window.removeEventListener("online",M),window.removeEventListener("offline",M)}},[]),O.useEffect(()=>{if(n==="add"){const M=new Date().toISOString().split("T")[0],z=new Date;z.setDate(z.getDate()+7),x({InvoiceID:`${f===st.Quotation?"QU":f===st.Proforma?"PR":"INV"}-${Math.floor(1e4+Math.random()*9e4)}`,InvoiceDate:M,DueDate:z.toISOString().split("T")[0],Status:wt.Pending,DocType:f,PeriodMonths:1,UnitPrice:0,NoOfUnits:0,TotalAmount:0,AmountPaid:0,BalanceDue:0,Description:"",ServiceType:""}),w(!1),S(!0)}else r&&(x({...r}),w(!1),S(!1));h(n)},[n,r,e,f]),O.useEffect(()=>{if(d==="view")return;const M=Number(m.UnitPrice)||0,z=Number(m.NoOfUnits)||0,L=Number(m.PeriodMonths)||1,_=M*z*L,U=Number(m.AmountPaid)||0;x(G=>({...G,TotalAmount:_,BalanceDue:_-U}))},[m.UnitPrice,m.NoOfUnits,m.PeriodMonths,m.AmountPaid,d]),!e)return null;const C=M=>{var _;if(d!=="add"||v)return;const z=((_=m.InvoiceID)==null?void 0:_.split("-")[1])||Math.floor(1e4+Math.random()*9e4),L=M===st.Quotation?"QU":M===st.Proforma?"PR":"INV";x(U=>({...U,DocType:M,InvoiceID:`${L}-${z}`}))},E=M=>{if(v)return;const z=i.find(_=>_.ClientID===M),L=o.find(_=>_.ClientID===M&&_.ContractStatus==="Active");x(_=>({..._,ClientID:M,ClientName:(z==null?void 0:z.CompanyName)||"",ContractID:(L==null?void 0:L.ContractID)||"ADHOC",ServiceType:(L==null?void 0:L.ServiceType)||"Unified Managed Fleet",Description:L?`${L.PlanType} - Connectivity Services`:_.Description,UnitPrice:L?L.UnitPrice:_.UnitPrice,NoOfUnits:L?L.NoOfUnits:_.NoOfUnits}))},D=i.map(M=>({value:M.ClientID,label:M.CompanyName,disabled:M.Status!==ln.Active,subtext:M.ClientType})),I=M=>{M.preventDefault(),!(v||!P)&&(j(!0),u(m,y).then(t).finally(()=>j(!1)))},$=i.find(M=>M.ClientID===m.ClientID),B=zy(m,$,c);return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col overflow-hidden animate-in fade-in zoom-in duration-300",children:[a.jsxs("div",{className:"flex justify-between items-center p-8 border-b border-gray-100 bg-gray-50/50",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:`p-3 rounded-2xl shadow-lg ${d==="view"?"bg-indigo-600":"bg-slate-900"} text-white`,children:m.DocType===st.Quotation?a.jsx(hE,{size:24}):m.DocType===st.Proforma?a.jsx(mE,{size:24}):a.jsx(Cn,{size:24})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:d==="view"?`${m.DocType} Overview`:d==="edit"?`Edit ${m.DocType}`:`New ${m.DocType}`}),a.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-0.5",children:["Reference: ",m.InvoiceID]})]})]}),a.jsx("button",{onClick:t,disabled:v,className:"p-2 text-slate-300 hover:text-slate-900 transition-colors disabled:opacity-30",children:a.jsx(jt,{size:24})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-8 no-scrollbar",children:d==="view"?a.jsx(M_,{invoice:m,onPreview:()=>w(!0)}):a.jsx("fieldset",{disabled:v,className:"space-y-8",children:a.jsxs("form",{id:"invoice-form",onSubmit:I,className:"space-y-8",children:[d==="add"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.2em] block mb-2",children:"Select Document Type"}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:[st.Invoice,st.Proforma,st.Quotation].map(M=>a.jsx("button",{type:"button",onClick:()=>C(M),className:`py-3 rounded-xl text-[9px] font-black uppercase tracking-widest border transition-all ${m.DocType===M?"bg-slate-900 border-slate-900 text-white shadow-xl":"bg-slate-50 border-slate-100 text-slate-400 hover:bg-slate-100"}`,children:M},M))})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{className:"col-span-1 md:col-span-2",children:a.jsx(Ac,{label:"Select Client",required:!0,options:D,value:m.ClientID||"",onChange:E})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Document Date"}),a.jsx("input",{type:"date",value:m.InvoiceDate,onChange:M=>x({...m,InvoiceDate:M.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-100 rounded-xl outline-none"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:m.DocType===st.Quotation?"Validity Expiry":"Payment Due Date"}),a.jsx("input",{type:"date",value:m.DueDate,onChange:M=>x({...m,DueDate:M.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-100 rounded-xl outline-none"})]}),a.jsxs("div",{className:"col-span-1 md:col-span-2 space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Service Description"}),a.jsx("input",{required:!0,type:"text",value:m.Description,onChange:M=>x({...m,Description:M.target.value}),placeholder:"e.g. Annual Fleet Tracking Service",className:"w-full p-3 bg-slate-50 border border-slate-100 rounded-xl outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Rate per Unit (K)"}),a.jsx("input",{type:"number",step:"0.01",value:m.UnitPrice,onChange:M=>x({...m,UnitPrice:Number(M.target.value)}),className:"w-full p-3 bg-slate-50 border border-slate-100 rounded-xl outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Units / Quantity"}),a.jsx("input",{type:"number",value:m.NoOfUnits,onChange:M=>x({...m,NoOfUnits:Number(M.target.value)}),className:"w-full p-3 bg-slate-50 border border-slate-100 rounded-xl outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Billing Period (Months)"}),a.jsx("input",{type:"number",min:"1",value:m.PeriodMonths,onChange:M=>x({...m,PeriodMonths:Number(M.target.value)}),className:"w-full p-3 bg-indigo-50 border border-indigo-100 text-indigo-900 rounded-xl outline-none font-black"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Current Status"}),a.jsxs("select",{value:m.Status,onChange:M=>x({...m,Status:M.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-100 rounded-xl outline-none text-[11px] font-bold uppercase tracking-widest",children:[a.jsx("option",{value:wt.Pending,children:"Pending"}),a.jsx("option",{value:wt.Paid,children:"Paid"}),a.jsx("option",{value:wt.Partial,children:"Partial"}),a.jsx("option",{value:wt.Overdue,children:"Overdue"})]})]})]}),a.jsxs("div",{className:"bg-slate-900 rounded-3xl p-6 text-white shadow-2xl relative overflow-hidden border border-slate-800",children:[a.jsx("div",{className:"absolute right-0 top-0 p-6 opacity-5 rotate-12",children:a.jsx(Cc,{size:80})}),a.jsxs("div",{className:"relative z-10 flex flex-col sm:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`p-3 rounded-2xl transition-all duration-500 ${y?"bg-indigo-500 text-white":"bg-slate-800 text-slate-600"}`,children:a.jsx(sa,{size:20,className:y?"animate-pulse":""})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-[11px] font-black uppercase tracking-widest",children:"Notification Protocol"}),a.jsx("p",{className:`text-[9px] font-bold uppercase mt-0.5 ${y?"text-indigo-400":"text-slate-500"}`,children:y?`Sending to: ${($==null?void 0:$.Email)||"No Email Found"}`:"Internal Database Entry Only"})]})]}),a.jsx("button",{type:"button",disabled:v,onClick:()=>S(!y),className:`relative inline-flex h-7 w-12 items-center rounded-full transition-colors focus:outline-none ${y?"bg-indigo-500":"bg-slate-800"}`,children:a.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform duration-200 ease-in-out shadow-sm ${y?"translate-x-6":"translate-x-1"}`})})]})]})]})})}),a.jsxs("div",{className:"p-8 border-t border-gray-100 bg-gray-50 flex flex-col sm:flex-row justify-end items-center gap-4 shrink-0",children:[!P&&d!=="view"&&a.jsxs("div",{className:"flex items-center gap-2 text-rose-500 font-black text-[9px] uppercase tracking-widest mb-2 sm:mb-0",children:[a.jsx(Wi,{size:14})," Offline Mode: Registry Locked"]}),d==="view"?a.jsx(a.Fragment,{children:a.jsxs("button",{onClick:()=>h("edit"),className:"px-10 py-3.5 bg-slate-900 text-white rounded-2xl font-black text-[11px] uppercase tracking-widest shadow-xl flex items-center gap-2",children:[a.jsx(CE,{size:16})," Edit Document"]})}):a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:t,disabled:v,className:"px-8 py-3.5 text-slate-400 bg-white border border-slate-100 rounded-2xl font-black text-[11px] uppercase tracking-widest",children:"Cancel"}),a.jsxs("button",{form:"invoice-form",type:"submit",disabled:v||!P,className:`px-10 py-3.5 rounded-2xl font-black text-[11px] uppercase tracking-widest shadow-xl flex items-center justify-center min-w-[160px] ${P?"bg-indigo-600 text-white":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:[v&&a.jsx(Dt,{size:14,className:"animate-spin mr-2"}),v?"Processing...":d==="add"?y?"Dispatch & Save":"Execute Only":"Execute Changes"]})]})]})]})}),a.jsx(R_,{isOpen:b,onClose:()=>w(!1),previewHtml:B,invoice:m,onDownload:()=>{const M=window.open("","_blank");M&&(M.document.write(B),M.document.close(),M.onload=()=>M.print())},onEdit:()=>{w(!1),h("edit")}})]})},z_=({isOpen:e,onClose:t,mode:n,vehicle:r,clients:i,onSave:o,onDelete:c})=>{const[u,f]=O.useState(n),[d,h]=O.useState({}),[m,x]=O.useState(!1),[v,j]=O.useState(navigator.onLine),b=O.useRef(null),w=O.useRef(null);O.useEffect(()=>{const $=()=>j(navigator.onLine);return window.addEventListener("online",$),window.addEventListener("offline",$),()=>{window.removeEventListener("online",$),window.removeEventListener("offline",$)}},[]),O.useEffect(()=>{e?(w.current!==((r==null?void 0:r.VehicleID)||"new")&&(f(n),w.current=(r==null?void 0:r.VehicleID)||"new",n==="add"?h({VehicleID:`VH-${Math.floor(2e3+Math.random()*9e3)}`,InstallationDate:new Date().toISOString().split("T")[0],Status:Es.Active,Year:new Date().getFullYear().toString(),SimNumber:"",NetworkProvider:"",Photo:""}):r&&h({...r})),x(!1)):w.current=null},[e,r,n]);const y=i.map($=>({value:$.ClientID,label:$.CompanyName,disabled:$.Status!==ln.Active,subtext:$.Status!==ln.Active?"Inactive Account":$.ClientType}));if(!e)return null;const S=$=>{if(m)return;const{name:B,value:M}=$.target;if(B==="NumberPlate"){h(z=>({...z,[B]:M.toUpperCase()}));return}h(z=>({...z,[B]:M}))},P=$=>{if(m)return;const B=i.find(M=>M.ClientID===$);h(M=>({...M,ClientID:$,ClientName:(B==null?void 0:B.CompanyName)||""}))},k=$=>{var M;if(m)return;const B=(M=$.target.files)==null?void 0:M[0];if(B){const z=new FileReader;z.onloadend=()=>{h(L=>({...L,Photo:z.result}))},z.readAsDataURL(B)}},C=$=>{m||($.stopPropagation(),h(B=>({...B,Photo:""})))},E=()=>{var $;u!=="view"&&!m&&(($=b.current)==null||$.click())},D=async $=>{if($.preventDefault(),!(m||!v)&&d.NumberPlate&&d.ClientID){x(!0);try{await o(d),t()}finally{x(!1)}}},I=({icon:$,label:B,value:M})=>a.jsxs("div",{className:"flex items-center p-3 border-b border-gray-100 last:border-0",children:[a.jsx("div",{className:"text-gray-400 mr-3",children:a.jsx($,{size:18})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs text-gray-500 uppercase font-medium",children:B}),a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:M||"N/A"})]})]});return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col overflow-hidden animate-in fade-in zoom-in duration-200",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100 bg-gray-50/50",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${u==="view"?"bg-orange-100 text-orange-600":"bg-indigo-100 text-indigo-600"}`,children:a.jsx(yr,{size:24})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-slate-800",children:u==="view"?"Vehicle Details":u==="edit"?"Edit Vehicle":"Register Vehicle"}),a.jsx("p",{className:"text-sm text-gray-500",children:u==="view"?`Viewing ${d.NumberPlate}`:"Manage GPS/Dashcam installation"})]})]}),a.jsx("button",{onClick:t,disabled:m,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors disabled:opacity-30",children:a.jsx(jt,{size:24})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:u==="view"?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-5 text-white shadow-lg relative overflow-hidden group",children:[a.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:a.jsx(yr,{size:80})}),d.Photo?a.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 w-20 h-20 sm:w-24 sm:h-24 rounded-lg overflow-hidden border-2 border-white/20 shadow-xl hidden sm:block",children:a.jsx("img",{src:d.Photo,alt:"Vehicle",className:"w-full h-full object-cover"})}):null,a.jsxs("div",{className:"relative z-10 flex flex-col h-full justify-between",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-[10px] uppercase tracking-widest font-bold",children:"License Plate"}),a.jsx("h3",{className:"text-2xl font-mono font-bold tracking-wider text-white border-2 border-white/50 inline-block px-3 py-1 rounded mt-1 shadow-sm",children:d.NumberPlate})]}),a.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider ${d.Status==="Active"?"bg-green-500 text-white":"bg-yellow-500 text-black"}`,children:d.Status})]}),d.Photo&&a.jsx("div",{className:"sm:hidden mb-4 w-16 h-16 rounded-lg overflow-hidden border-2 border-white/20",children:a.jsx("img",{src:d.Photo,alt:"Vehicle",className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm border-t border-white/10 pt-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-[10px] uppercase font-bold tracking-tight",children:"Make/Model"}),a.jsxs("p",{className:"font-semibold text-white/90",children:[d.Year," ",d.Make," ",d.Model]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-[10px] uppercase font-bold tracking-tight",children:"Client Owner"}),a.jsx("p",{className:"font-semibold text-white/90 truncate max-w-[120px]",children:d.ClientName})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 rounded-xl border border-gray-100 p-4",children:[a.jsxs("h4",{className:"text-sm font-bold text-gray-800 mb-2 flex items-center",children:[a.jsx(Rl,{size:16,className:"mr-2"})," Device Configuration"]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[a.jsx(I,{icon:Z4,label:"Device Serial / IMEI",value:d.DeviceSerial}),a.jsx(I,{icon:Cn,label:"Service Type",value:d.ServiceType}),a.jsx(I,{icon:$r,label:"Installation Date",value:Ce(d.InstallationDate)})]})]}),a.jsxs("div",{className:"bg-blue-50 rounded-xl border border-blue-100 p-4",children:[a.jsxs("h4",{className:"text-sm font-bold text-blue-800 mb-2 flex items-center",children:[a.jsx(oa,{size:16,className:"mr-2"})," SIM Connectivity"]}),a.jsxs("div",{className:"bg-white rounded-lg border border-blue-200",children:[a.jsx(I,{icon:oa,label:"SIM Number",value:d.SimNumber}),a.jsx(I,{icon:kE,label:"Network",value:d.NetworkProvider})]})]})]})]}):a.jsx("fieldset",{disabled:m,children:a.jsx("form",{id:"vehicle-form",onSubmit:D,className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"col-span-1 md:col-span-2",children:[a.jsx("input",{type:"file",accept:"image/*",capture:"environment",ref:b,onChange:k,className:"hidden"}),a.jsx("div",{onClick:E,className:`relative overflow-hidden group cursor-pointer border-2 border-dashed rounded-2xl transition-all h-32 flex flex-col items-center justify-center ${d.Photo?"border-transparent":"border-gray-200 hover:border-indigo-300 bg-gray-50 hover:bg-indigo-50/30"} ${m?"opacity-50 cursor-not-allowed":""}`,children:d.Photo?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:d.Photo,alt:"Captured",className:"absolute inset-0 w-full h-full object-cover"}),!m&&a.jsxs("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-4",children:[a.jsx("div",{className:"p-2 bg-white rounded-full text-indigo-600",children:a.jsx(Qg,{size:20})}),a.jsx("button",{type:"button",onClick:C,className:"p-2 bg-white rounded-full text-red-600 hover:scale-110 transition-transform",children:a.jsx(m_,{size:20})})]})]}):a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto w-10 h-10 bg-white rounded-xl shadow-sm border border-gray-100 flex items-center justify-center text-gray-400 group-hover:text-indigo-500 mb-2 transition-colors",children:a.jsx(Qg,{size:24})}),a.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest group-hover:text-indigo-600 transition-colors",children:"Capture Vehicle Picture"})]})})]}),a.jsx("div",{className:"col-span-1 md:col-span-2 space-y-2",children:a.jsx(Ac,{label:"Client Owner",required:!0,options:y,value:d.ClientID||"",onChange:P,placeholder:"Search and Select Client..."})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"License Plate *"}),a.jsx("input",{required:!0,type:"text",name:"NumberPlate",value:d.NumberPlate||"",onChange:S,placeholder:"e.g. TX-990-ZZ",className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none font-mono uppercase"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Vehicle Status"}),a.jsxs("select",{name:"Status",value:d.Status,onChange:S,className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",children:[a.jsx("option",{value:Es.Active,children:"Active"}),a.jsx("option",{value:Es.Inactive,children:"Inactive"}),a.jsx("option",{value:Es.Maintenance,children:"Maintenance"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Make"}),a.jsx("input",{type:"text",name:"Make",value:d.Make||"",onChange:S,placeholder:"Toyota",className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Model"}),a.jsx("input",{type:"text",name:"Model",value:d.Model||"",onChange:S,placeholder:"Corolla",className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Year"}),a.jsx("input",{type:"number",name:"Year",value:d.Year||"",onChange:S,className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Device Serial (IMEI)"}),a.jsx("input",{type:"text",name:"DeviceSerial",value:d.DeviceSerial||"",onChange:S,placeholder:"IMEI-...",className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Type (Contract)"}),a.jsx("input",{type:"text",name:"ServiceType",value:d.ServiceType||"",onChange:S,placeholder:"e.g. GPS Premium",className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),a.jsx("div",{className:"col-span-1 md:col-span-2",children:a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:[a.jsx("h4",{className:"text-sm font-bold text-blue-800 mb-3",children:"Tracker SIM Configuration"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"SIM Number"}),a.jsx("input",{type:"text",name:"SimNumber",value:d.SimNumber||"",onChange:S,placeholder:"09XX...",className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Network Provider"}),a.jsxs("select",{name:"NetworkProvider",value:d.NetworkProvider||"",onChange:S,className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",children:[a.jsx("option",{value:"",children:"-- Select --"}),a.jsx("option",{value:"MTN",children:"MTN"}),a.jsx("option",{value:"Airtel",children:"Airtel"}),a.jsx("option",{value:"Zamtel",children:"Zamtel"}),a.jsx("option",{value:"Other",children:"Other"})]})]})]})]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Installation Date"}),a.jsx("input",{type:"date",name:"InstallationDate",value:d.InstallationDate||"",onChange:S,className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]})]})})})}),a.jsxs("div",{className:"p-6 border-t border-gray-100 bg-gray-50 flex flex-col sm:flex-row justify-end items-center gap-3",children:[!v&&u!=="view"&&a.jsxs("div",{className:"flex items-center gap-2 text-rose-500 font-black text-[9px] uppercase tracking-widest mb-2 sm:mb-0",children:[a.jsx(Wi,{size:14})," Offline Mode: Registry Locked"]}),u==="view"?a.jsxs(a.Fragment,{children:[c&&a.jsxs("button",{onClick:()=>{confirm("Are you sure you want to delete this vehicle?")&&(c(d.VehicleID),t())},className:"flex items-center px-4 py-2 text-red-600 bg-red-50 hover:bg-red-100 rounded-lg transition-colors font-medium",children:[a.jsx(h_,{size:18,className:"mr-2"}),"Delete"]}),a.jsxs("button",{onClick:()=>f("edit"),className:"flex items-center px-6 py-2 bg-slate-900 text-white hover:bg-slate-800 rounded-lg transition-colors font-medium shadow-lg shadow-slate-900/20",children:[a.jsx(CE,{size:18,className:"mr-2"}),"Edit"]})]}):a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:t,disabled:m,type:"button",className:"px-5 py-2 text-gray-600 bg-white border border-gray-200 hover:bg-gray-50 rounded-lg transition-colors font-medium",children:"Cancel"}),a.jsxs("button",{form:"vehicle-form",type:"submit",disabled:m||!v,className:`flex items-center px-6 py-2 rounded-lg transition-colors font-medium shadow-lg min-w-[160px] justify-center ${v?"bg-blue-600 text-white hover:bg-blue-700 shadow-blue-600/20":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:[m?a.jsx(Dt,{size:18,className:"animate-spin mr-2"}):a.jsx(My,{size:18,className:"mr-2"}),m?"Processing...":u==="add"?"Register Vehicle":"Save Changes"]})]})]})]})})},Gu=({icon:e,label:t,value:n})=>a.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-slate-50 last:border-0",children:[a.jsxs("div",{className:"flex items-center text-slate-400",children:[a.jsx(e,{size:12,className:"mr-2"}),a.jsx("span",{className:"text-[10px] font-medium uppercase tracking-wider",children:t})]}),a.jsx("span",{className:"text-xs font-medium text-slate-700",children:n||""})]}),L_=({isOpen:e,onClose:t,mode:n,payment:r,payments:i,invoices:o,contracts:c=[],clients:u,currentUser:f,onSave:d})=>{const[h,m]=O.useState(n),[x,v]=O.useState({}),[j,b]=O.useState(!1),[w,y]=O.useState(!0),[S,P]=O.useState(!1),[k,C]=O.useState(navigator.onLine);O.useEffect(()=>{const M=()=>C(navigator.onLine);return window.addEventListener("online",M),window.addEventListener("offline",M),()=>{window.removeEventListener("online",M),window.removeEventListener("offline",M)}},[]);const E=O.useMemo(()=>{if(!(!x.ClientID||x.ClientID==="WALK-IN"))return c.find(M=>pe(M.ClientID)===pe(x.ClientID)&&pe(M.ContractStatus)===pe(pn.Active))},[c,x.ClientID]),D=O.useMemo(()=>{if(!x.ClientID||x.ClientID==="WALK-IN")return null;const M=i.filter(U=>pe(U.ClientID)===pe(x.ClientID)).sort((U,G)=>new Date(G.Date).getTime()-new Date(U.Date).getTime()),z=M.length>0?M[0]:null,L=c.find(U=>pe(U.ClientID)===pe(x.ClientID)&&U.ContractStatus==="Active");let _=0;if(L&&L.ExpiryDate){const U=new Date(L.ExpiryDate),G=new Date;_=Math.max(0,(U.getFullYear()-G.getFullYear())*12+(U.getMonth()-G.getMonth()))}return{lastPayDate:z==null?void 0:z.Date,nextRenewal:(z==null?void 0:z.NextDueDate)||(L==null?void 0:L.PaymentDueDate),expiryDate:L==null?void 0:L.ExpiryDate,monthsRemaining:_,contractSigned:!!(L!=null&&L.ClientSign||L!=null&&L.ClientSignImage),status:(L==null?void 0:L.ContractStatus)||"No Active Plan"}},[x.ClientID,i,c]),I=O.useMemo(()=>{if(!x.MonthsCovered||x.MonthsCovered<=0)return null;const M=x.Date?new Date(x.Date):new Date;if(isNaN(M.getTime()))return null;const z=new Date(M);return z.setMonth(z.getMonth()+Number(x.MonthsCovered)),z.toISOString().split("T")[0]},[x.Date,x.MonthsCovered]);O.useEffect(()=>{e&&(P(!1),y(!0),m(n),b(!1),n==="add"?v({PaymentID:`PAY-${Math.floor(1e4+Math.random()*9e4)}`,Date:new Date().toISOString().split("T")[0],Status:Ds.Completed,Method:"Bank Transfer",Amount:0,MonthsCovered:1,AdditionalCost:0,Discount:0,Remarks:"",AgentID:f.id,Reference:"",ClientName:""}):r&&v({...r}))},[n,r,e,f]),O.useEffect(()=>{var W;if(h!=="add"||j||!E)return;const M=Number(E.NoOfUnits)||((W=E.AssetIDs)==null?void 0:W.length)||0,z=Number(E.UnitPrice)||0,L=Number(x.MonthsCovered)||1,_=Number(x.AdditionalCost)||0,U=Number(x.Discount)||0,G=z*M*L+_-U;v(K=>({...K,Amount:G,ContractID:E.ContractID,NoOfUnits:M,UnitPrice:z}))},[x.ClientID,E,h,j,x.MonthsCovered,x.AdditionalCost,x.Discount]);const $=M=>{const z=u.find(L=>L.ClientID===M);v(L=>({...L,ClientID:M,ClientName:(z==null?void 0:z.CompanyName)||"",Amount:0,NoOfUnits:0,MonthsCovered:1,Remarks:""}))},B=async M=>{if(M.preventDefault(),!(S||!k)){P(!0);try{await d({...x,NextDueDate:I},w),t()}finally{P(!1)}}};return e?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white rounded-[2rem] shadow-2xl w-full max-w-md max-h-[95vh] flex flex-col overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"flex justify-between items-center px-6 py-5 border-b border-slate-100 bg-slate-50/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-slate-900 text-white rounded-xl",children:a.jsx(ha,{size:18})}),a.jsx("h2",{className:"text-sm font-medium text-slate-800 uppercase tracking-tight",children:"Record Payment"})]}),a.jsx("button",{onClick:t,disabled:S,className:"p-1 text-slate-300 hover:text-slate-900 transition-colors",children:a.jsx(jt,{size:24})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-6 no-scrollbar",children:h==="view"?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center py-6 bg-slate-50 border border-slate-100 rounded-2xl",children:[a.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-medium mb-1",children:"Total Received"}),a.jsxs("h1",{className:"text-3xl font-medium text-emerald-600 tracking-tighter",children:["K ",De(x.Amount)]}),a.jsx("div",{className:"mt-2",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-medium uppercase tracking-widest border ${x.Status==="Completed"?"bg-emerald-100 text-emerald-700 border-emerald-200":"bg-amber-100 text-amber-700 border-amber-200"}`,children:x.Status})})]}),a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-4 shadow-sm space-y-1",children:[a.jsx(Gu,{icon:At,label:"Client",value:x.ClientName}),a.jsx(Gu,{icon:$r,label:"Settlement Date",value:Ce(x.Date)}),a.jsx(Gu,{icon:_y,label:"Bank Reference",value:x.Reference}),x.Remarks&&a.jsx(Gu,{icon:Cn,label:"Notes",value:x.Remarks})]})]}):a.jsxs("form",{id:"payment-form",onSubmit:B,className:"space-y-5",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("label",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest ml-1",children:"Client Name"}),a.jsxs("button",{type:"button",onClick:()=>{b(!j),j||v({...x,ClientID:"WALK-IN",ClientName:""})},className:"flex items-center gap-1.5 text-[9px] font-medium uppercase text-indigo-600 hover:text-indigo-700 transition-colors",children:[j?a.jsx(Ri,{size:12}):a.jsx(PE,{size:12})," ",j?"Registry":"Guest Payment"]})]}),j?a.jsx("input",{required:!0,value:x.ClientName,onChange:M=>v({...x,ClientName:M.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-medium outline-none focus:ring-2 focus:ring-indigo-100 transition-all",placeholder:"Enter guest name..."}):a.jsx(Ac,{required:!0,options:u.map(M=>({value:M.ClientID,label:M.CompanyName,disabled:M.Status!==ln.Active})),value:x.ClientID||"",onChange:$,placeholder:"Select from registry..."})]}),D&&a.jsxs("div",{className:"bg-white border border-slate-100 rounded-2xl p-4 shadow-sm space-y-3 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"flex items-center justify-between pb-2 border-b border-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`p-1.5 rounded-lg ${D.contractSigned?"bg-emerald-50 text-emerald-600":"bg-amber-50 text-amber-600"}`,children:D.contractSigned?a.jsx(mn,{size:12}):a.jsx(Ln,{size:12})}),a.jsxs("span",{className:"text-[10px] font-medium text-slate-700 uppercase tracking-tight",children:["Status: ",D.status]})]}),a.jsxs("span",{className:"text-[9px] font-medium text-slate-400 uppercase",children:[D.monthsRemaining," Mo Remaining"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[8px] font-medium text-slate-400 uppercase tracking-widest",children:"Last Activity"}),a.jsx("p",{className:"text-[10px] font-medium text-slate-700",children:Ce(D.lastPayDate)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[8px] font-medium text-slate-400 uppercase tracking-widest",children:"Next Renewal Goal"}),a.jsx("p",{className:"text-[10px] font-medium text-indigo-600",children:Ce(D.nextRenewal)})]})]})]}),E&&a.jsxs("div",{className:"bg-slate-50 border border-slate-200 p-4 rounded-2xl space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest mb-0.5",children:"Active Service"}),a.jsxs("h4",{className:"text-xs font-medium text-slate-900",children:[E.PlanType,"  ",x.NoOfUnits," Units"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest mb-0.5",children:"Base Rate"}),a.jsxs("h4",{className:"text-xs font-medium text-slate-900",children:["K",De(E.UnitPrice)]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-slate-200",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest ml-1",children:"Period Paid (Months)"}),a.jsx("input",{type:"number",min:"1",value:x.MonthsCovered,onChange:M=>v({...x,MonthsCovered:Number(M.target.value)}),className:"w-full p-2.5 bg-white border border-slate-200 rounded-xl text-sm font-medium text-indigo-600 outline-none"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest ml-1",children:"Extended Expiry"}),a.jsxs("div",{className:"w-full p-2.5 bg-indigo-50/50 rounded-xl text-[11px] font-medium text-indigo-700 flex items-center gap-2 border border-indigo-100",children:[a.jsx(Wt,{size:14})," ",I?Ce(I):"N/A"]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest ml-1",children:"Payment Date"}),a.jsx("input",{required:!0,type:"date",value:x.Date,onChange:M=>v({...x,Date:M.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl text-xs font-medium outline-none"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest ml-1",children:"Method"}),a.jsxs("select",{value:x.Method,onChange:M=>v({...x,Method:M.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl text-xs font-medium outline-none",children:[a.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),a.jsx("option",{value:"Mobile Money",children:"Mobile Money"}),a.jsx("option",{value:"Cash",children:"Cash"}),a.jsx("option",{value:"Card",children:"Card"})]})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest ml-1",children:"Outstanding Invoices"}),a.jsxs("select",{value:x.InvoiceID||"",onChange:M=>v({...x,InvoiceID:M.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl text-xs font-medium outline-none",children:[a.jsx("option",{value:"",children:"-- Apply to Future Cycle --"}),o.filter(M=>pe(M.ClientID)===pe(x.ClientID)&&M.Status!=="Paid").map(M=>a.jsxs("option",{value:M.InvoiceID,children:[M.InvoiceID," (Balance: K",De(M.BalanceDue),")"]},M.InvoiceID))]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest ml-1",children:"Bank Reference ID"}),a.jsx("input",{required:!0,type:"text",value:x.Reference||"",onChange:M=>v({...x,Reference:M.target.value}),placeholder:"Unique identifier...",className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-medium text-indigo-600 outline-none focus:ring-2 focus:ring-indigo-100"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest ml-1",children:"Notes"}),a.jsx("textarea",{value:x.Remarks||"",onChange:M=>v({...x,Remarks:M.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl text-sm outline-none resize-none h-20 focus:ring-2 focus:ring-indigo-100 font-medium",placeholder:"Keep blank for default..."})]}),a.jsxs("div",{className:"bg-slate-900 p-5 rounded-[2rem] flex justify-between items-center text-white shadow-xl relative overflow-hidden",children:[a.jsx("div",{className:"absolute right-0 top-0 p-5 opacity-5 rotate-12",children:a.jsx(gf,{size:48})}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("p",{className:"text-[10px] font-medium text-slate-500 uppercase tracking-widest mb-1 leading-none",children:"Total Settlement"}),a.jsxs("h4",{className:"text-2xl font-medium text-emerald-400 leading-none tracking-tighter",children:["K ",De(x.Amount)]})]}),a.jsxs("div",{className:"relative z-10 flex flex-col items-end gap-1",children:[a.jsx("span",{className:"text-[8px] font-medium text-slate-500 uppercase",children:"Notify Client"}),a.jsx("button",{type:"button",onClick:()=>y(!w),className:`h-5 w-10 rounded-full relative transition-colors ${w?"bg-emerald-500":"bg-slate-700"}`,children:a.jsx("span",{className:`absolute top-0.5 h-4 w-4 rounded-full bg-white transition-all ${w?"right-0.5":"left-0.5"}`})})]})]})]})}),a.jsxs("div",{className:"px-6 py-5 border-t border-slate-100 bg-slate-50/50 flex justify-end gap-3 shrink-0",children:[a.jsx("button",{onClick:t,disabled:S,className:"px-5 py-2.5 text-[10px] font-medium uppercase text-slate-400 hover:text-slate-600 transition-colors",children:"Cancel"}),h!=="view"&&a.jsxs("button",{form:"payment-form",type:"submit",disabled:S||!k,className:`px-10 py-2.5 rounded-xl text-[10px] font-medium uppercase shadow-xl flex items-center gap-2 transition-all active:scale-95 ${k?"bg-slate-900 text-white hover:bg-black":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:[S?a.jsx(Dt,{size:14,className:"animate-spin"}):a.jsx(mn,{size:14}),S?"Processing...":"Finalize Settlement"]})]})]})}):null},B_=({formData:e,isReadOnly:t,duration:n,onDurationChange:r,handleChange:i})=>a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"col-span-1 sm:col-span-2 space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Full Name"}),a.jsx("input",{type:"text",name:"AgentName",value:e.AgentName||"",onChange:i,disabled:t,className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm outline-none focus:ring-1 focus:ring-indigo-500",placeholder:"e.g. John Doe"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Account Role"}),a.jsxs("select",{name:"Role",value:e.Role,onChange:i,disabled:t,className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm outline-none",children:[a.jsx("option",{value:"Agent",children:"Agent"}),a.jsx("option",{value:"Partner",children:"Partner"}),a.jsx("option",{value:"Admin",children:"Admin"}),a.jsx("option",{value:"Support",children:"Support"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Experience Level"}),a.jsxs("select",{name:"ExperienceLevel",value:e.ExperienceLevel||"Trainee",onChange:i,disabled:t||e.Role==="Partner",className:`w-full p-2 border rounded-lg text-sm outline-none ${e.Role==="Partner"?"bg-slate-100 text-slate-500 cursor-not-allowed border-slate-200":"bg-slate-50 border-slate-200"}`,children:[a.jsx("option",{value:"Trainee",children:"Trainee"}),a.jsx("option",{value:"Independent",children:"Independent"}),a.jsx("option",{value:"Mentor",children:"Mentor"}),a.jsx("option",{value:"Lead",children:"Lead"}),a.jsx("option",{value:"Partner",children:"Partner"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Department"}),a.jsx("input",{type:"text",name:"Department",value:e.Department||"",onChange:i,disabled:t,className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm outline-none",placeholder:"Sales / Ops"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Email Address"}),a.jsx("input",{type:"email",name:"Email",value:e.Email||"",onChange:i,disabled:t,className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm outline-none",placeholder:"name@company.com"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Phone Number"}),a.jsx("input",{type:"text",name:"Phone",value:e.Phone||"",onChange:i,disabled:t,className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm outline-none",placeholder:"+260..."})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Agreement Start Date"}),a.jsx("input",{type:"date",name:"StartDate",value:zl(e.StartDate),onChange:i,disabled:t,className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm outline-none"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Duration (Months)"}),a.jsx("input",{type:"number",min:"1",value:n,onChange:o=>r(o.target.value),disabled:t,className:"w-full p-2 bg-indigo-50 border border-indigo-100 rounded-lg text-sm outline-none text-indigo-700 font-semibold",placeholder:"e.g. 12"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-slate-600 italic",children:"Agreement End Date (Calculated)"}),a.jsx("input",{type:"date",name:"EndDate",value:zl(e.EndDate),readOnly:!0,disabled:!0,className:"w-full p-2 bg-slate-100 border border-slate-200 rounded-lg text-sm outline-none font-semibold text-slate-500 cursor-not-allowed shadow-inner"})]}),a.jsxs("div",{className:"col-span-1 sm:col-span-2 space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Professional Notes"}),a.jsx("textarea",{name:"Notes",value:e.Notes||"",onChange:i,disabled:t,className:"w-full h-20 p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm outline-none resize-none",placeholder:"Optional notes regarding staff background or scope..."})]})]}),F_=({formData:e,isReadOnly:t,handleChange:n,permissions:r,handlePermissionToggle:i,defaultPermissions:o})=>a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"p-4 bg-slate-900 rounded-xl text-white",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(Ey,{size:16,className:"text-indigo-400"}),a.jsx("h3",{className:"text-sm font-semibold",children:"Login Details"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-medium text-slate-400 uppercase",children:"Temp Password"}),a.jsx("input",{type:"text",name:"Password",value:e.Password||"",onChange:n,disabled:t,className:"w-full bg-white/10 border border-white/10 p-2 rounded-lg text-sm font-mono"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-medium text-slate-400 uppercase",children:"Account Status"}),a.jsxs("select",{name:"Status",value:e.Status,onChange:n,disabled:t,className:"w-full bg-white/10 border border-white/10 p-2 rounded-lg text-sm",children:[a.jsx("option",{className:"text-black",value:"Active",children:"Active"}),a.jsx("option",{className:"text-black",value:"Inactive",children:"Inactive"})]})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2 border-b border-slate-100 pb-1",children:[a.jsx(Di,{size:14,className:"text-slate-400"}),a.jsx("h3",{className:"text-xs font-semibold text-slate-700",children:"Permissions"})]}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:Object.keys(o).map(c=>a.jsxs("div",{className:"p-2 border border-slate-100 rounded-lg bg-slate-50/50",children:[a.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase mb-2 truncate",children:c.replace("_"," ")}),a.jsx("div",{className:"flex flex-wrap gap-1",children:["view","create","update"].map(u=>{var f;return a.jsx("button",{type:"button",onClick:()=>i(c,u),className:`px-1.5 py-0.5 rounded text-[9px] font-medium capitalize border ${(f=r[c])!=null&&f[u]?"bg-indigo-600 text-white border-indigo-600":"bg-white text-slate-400 border-slate-200"}`,children:u},u)})})]},c))})]})]}),U_=({isPartner:e,formData:t,isReadOnly:n,handleChange:r})=>a.jsxs("div",{className:"p-4 bg-slate-50 border border-slate-100 rounded-xl shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-800",children:[a.jsx(DE,{size:16,className:"text-slate-400"}),a.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wider",children:e?"Partner Remuneration":"Payroll & Banking"})]}),e&&a.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase bg-slate-200/50 px-2 py-0.5 rounded",children:"Management Fees"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase",children:e?"Fixed Draw (ZMW)":"Base Salary (ZMW)"}),a.jsx("input",{type:"number",name:"BaseSalary",value:t.BaseSalary||0,onChange:r,disabled:n,className:"w-full p-2 bg-white border border-slate-200 rounded-lg text-sm font-semibold"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Comm. Rate (%)"}),a.jsx("input",{type:"number",name:"CommissionRate",value:t.CommissionRate||0,onChange:r,disabled:n,className:"w-full p-2 bg-white border border-slate-200 rounded-lg text-sm font-semibold"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Bank Name"}),a.jsx("input",{type:"text",name:"BankName",value:t.BankName||"",onChange:r,disabled:n,className:"w-full p-2 bg-white border border-slate-200 rounded-lg text-sm",placeholder:"e.g. Stanbic"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Account No."}),a.jsx("input",{type:"text",name:"AccountNumber",value:t.AccountNumber||"",onChange:r,disabled:n,className:"w-full p-2 bg-white border border-slate-200 rounded-lg text-sm"})]})]})]}),q_=({formData:e,isReadOnly:t,handleChange:n})=>a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-amber-700 uppercase",children:"Principal (ZMW)"}),a.jsx("input",{type:"number",name:"InvestmentPrincipal",value:e.InvestmentPrincipal||0,onChange:n,disabled:t||e.InvestmentStatus===an.Active,className:"w-full p-2 bg-white border border-amber-200 rounded-lg text-sm font-bold text-amber-900"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-amber-700 uppercase",children:"Equity Share (%)"}),a.jsx("input",{type:"number",step:"0.1",name:"EquityShare",value:e.EquityShare||0,onChange:n,disabled:t||e.InvestmentStatus===an.Active,className:"w-full p-2 bg-white border border-amber-200 rounded-lg text-sm font-bold text-amber-900"})]}),a.jsxs("div",{className:"col-span-2 space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-amber-700 uppercase tracking-widest",children:"Yield Model"}),a.jsxs("select",{name:"PartnerPayoutModel",value:e.PartnerPayoutModel||na.InterestOnly,onChange:n,disabled:t||e.InvestmentStatus===an.Active,className:"w-full p-2 bg-white border border-amber-200 rounded-lg text-xs font-bold text-amber-900 outline-none",children:[a.jsx("option",{value:na.InterestOnly,children:"Capital Preservation (Profits Only)"}),a.jsx("option",{value:na.PrincipalPlusInterest,children:"Amortized Recovery (Profits + Principal)"})]})]})]}),W_=({simPool:e,setSimPool:t,isCapped:n,monthlyPrincipalReturn:r,estimatedVariableInterest:i,roiCapPercent:o,totalProjectedTakeaway:c,duration:u,totalTermInterest:f,totalTermYield:d})=>a.jsxs("div",{className:`rounded-xl p-4 border transition-all duration-500 ${n?"bg-amber-100/50 border-amber-300 shadow-lg":"bg-white border-amber-200 shadow-md"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4 border-b border-amber-50 pb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(gf,{size:14,className:n?"text-amber-600":"text-indigo-600"}),a.jsx("h4",{className:"text-[10px] font-black text-slate-800 uppercase tracking-widest",children:"Simulation Projection"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[8px] font-bold text-slate-400 uppercase",children:"Monthly Pool:"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-1.5 top-1/2 -translate-y-1/2 text-[8px] font-black text-slate-400",children:"K"}),a.jsx("input",{type:"number",value:e,onChange:h=>t(Number(h.target.value)),className:"w-16 pl-4 py-0.5 bg-slate-50 border border-slate-200 rounded text-[9px] font-black outline-none"})]})]})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex justify-between items-center text-[11px]",children:[a.jsx("span",{className:"text-slate-500 font-medium",children:"Monthly Principal Return:"}),a.jsxs("span",{className:"font-bold text-slate-900 tracking-tight",children:["K ",De(r)]})]}),a.jsxs("div",{className:"flex justify-between items-center text-[11px]",children:[a.jsx("span",{className:"text-slate-500 font-medium",children:"Monthly Interest (Share):"}),a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsxs("span",{className:`font-bold ${n?"text-amber-700":"text-indigo-600"}`,children:["K ",De(i)]}),n&&a.jsxs("span",{className:"text-[7px] font-black text-amber-600 uppercase tracking-tighter flex items-center gap-1 animate-pulse",children:[a.jsx(F4,{size:7})," Capped at ",o,"% ROI"]})]})]}),a.jsxs("div",{className:"pt-2 border-t border-amber-100 flex justify-between items-center",children:[a.jsx("span",{className:"text-[10px] font-black text-amber-700 uppercase tracking-tighter",children:"Net Monthly Yield"}),a.jsxs("span",{className:`text-sm font-black ${n?"text-amber-600":"text-emerald-600"}`,children:["K ",De(c)]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2 border-t border-dashed border-amber-100",children:[a.jsxs("div",{className:"bg-amber-100/50 p-2 rounded-lg border border-amber-200/50",children:[a.jsxs("p",{className:"text-[7px] font-black text-amber-800 uppercase leading-none mb-1",children:["Total ",u,"mo Interest"]}),a.jsxs("p",{className:"text-[10px] font-black text-amber-900 tracking-tight",children:["K ",De(f)]})]}),a.jsxs("div",{className:"bg-emerald-500 p-2 rounded-lg border border-emerald-600 shadow-sm",children:[a.jsx("p",{className:"text-[7px] font-black text-emerald-100 uppercase leading-none mb-1",children:"Total Term Payout"}),a.jsxs("p",{className:"text-[10px] font-black text-white tracking-tight",children:["K ",De(d)]})]})]})]}),H_=({formData:e})=>a.jsxs("div",{className:"p-4 bg-emerald-50 rounded-2xl border border-emerald-200 flex items-center justify-between animate-in zoom-in duration-300",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-emerald-600 text-white rounded-xl shadow-lg",children:a.jsx(wr,{size:16})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-[10px] font-black text-emerald-800 uppercase tracking-widest leading-none",children:"Agreement Executed"}),a.jsxs("p",{className:"text-[8px] font-bold text-emerald-600 uppercase mt-1",children:["Signed on ",Ce(e.InvestmentSignedDate)]})]})]}),a.jsx("div",{className:"bg-white p-1 rounded-lg border border-emerald-100",children:a.jsx("img",{src:e.InvestmentSignature,alt:"Signed",className:"h-6 opacity-60 mix-blend-multiply"})})]}),V_=({formData:e,handleChange:t,isReadOnly:n})=>a.jsxs("div",{className:"pt-4 border-t border-amber-100 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("label",{className:"text-[10px] font-bold text-amber-700 uppercase flex items-center gap-1",children:["Max Monthly ROI Cap (%)",a.jsxs("div",{className:"group relative",children:[a.jsx(xd,{size:10,className:"text-amber-400 cursor-help"}),a.jsxs("div",{className:"absolute bottom-full left-0 mb-2 w-56 p-3 bg-slate-900 text-white text-[9px] rounded-xl opacity-0 group-hover:opacity-100 transition-all pointer-events-none z-10 shadow-2xl border border-white/10",children:[a.jsx("strong",{children:"Stabilization Cap:"})," Excess profits are diverted to a Reserve Buffer to maintain consistent payouts during low-revenue months."]})]})]}),a.jsx("input",{type:"number",step:"0.1",name:"MaxMonthlyROI",value:e.MaxMonthlyROI||0,onChange:t,disabled:n||e.InvestmentStatus===an.Active,className:"w-full p-2 bg-white border border-amber-200 rounded-lg text-xs font-bold text-amber-900"})]}),a.jsx("div",{className:"flex flex-col justify-center pt-2",children:a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[a.jsx("div",{className:"relative",children:a.jsx("input",{type:"checkbox",name:"SmartYieldActive",checked:!!e.SmartYieldActive,onChange:t,disabled:n||e.InvestmentStatus===an.Active,className:"w-5 h-5 rounded border-amber-300 text-amber-600 focus:ring-amber-500"})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] font-black text-amber-700 uppercase tracking-tighter",children:"SmartYield Active"}),a.jsx("span",{className:"text-[7px] text-slate-400 font-bold uppercase",children:"Automated Smoothing"})]})]})})]}),K_=({formData:e,isReadOnly:t,handleChange:n,isAdmin:r})=>{const[i,o]=O.useState(5e4);if(!r)return null;const c=e.Role==="Partner",u=Number(e.InvestmentPrincipal||0),f=Number(e.InvestmentTermMonths||12),d=Number(e.EquityShare||0),h=Number(e.MaxMonthlyROI||0),m=!!e.SmartYieldActive,x=e.PartnerPayoutModel===na.PrincipalPlusInterest?u/Math.max(1,f):0,v=i*(d/100),j=u*(h/100),b=m&&h>0&&v>j,w=b?j:v,y=x+w,S=w*f,P=y*f;return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[a.jsx(U_,{isPartner:c,formData:e,isReadOnly:t,handleChange:n}),a.jsxs("div",{className:"p-5 bg-slate-900 rounded-2xl text-white shadow-xl space-y-4 border border-slate-800",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"p-2 bg-rose-600 rounded-xl text-white",children:a.jsx(yf,{size:18})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-black uppercase tracking-widest",children:"Policy Governance"}),a.jsx("p",{className:"text-[9px] text-slate-400 font-bold uppercase",children:"Onboarding Target Enforcement"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-xl border border-white/10 group",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] font-black uppercase tracking-tighter text-slate-200",children:"Exempt from Policy"}),a.jsx("span",{className:"text-[8px] font-medium text-slate-500 uppercase",children:"Disable Warning Banner"})]}),a.jsx("button",{type:"button",onClick:()=>n({target:{name:"PolicyExempt",value:!e.PolicyExempt}}),className:`transition-colors ${e.PolicyExempt?"text-emerald-400":"text-slate-600"}`,children:e.PolicyExempt?a.jsx(p_,{size:32}):a.jsx(f_,{size:32})})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-1 ml-1",children:[a.jsx($r,{size:10})," Enforcement Extension"]}),a.jsx("input",{type:"date",name:"EnforcementExtensionDate",value:zl(e.EnforcementExtensionDate),onChange:n,className:"w-full p-2.5 bg-white/10 border border-white/10 rounded-xl text-xs font-bold text-white outline-none focus:ring-2 focus:ring-indigo-500/20"}),a.jsx("p",{className:"text-[8px] text-slate-500 uppercase font-medium mt-1",children:"Hide warning until this date"})]})]})]}),c&&a.jsxs("div",{className:"p-5 bg-amber-50 border border-amber-100 rounded-2xl space-y-5 animate-in slide-in-from-top-2",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-amber-800",children:[a.jsx(Ty,{size:18}),a.jsx("h3",{className:"text-sm font-black uppercase tracking-widest",children:"Equity Governance"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[9px] font-bold text-amber-600 uppercase",children:"Agreement Status:"}),a.jsxs("select",{name:"InvestmentStatus",value:e.InvestmentStatus||an.Draft,onChange:n,disabled:t,className:`px-2 py-0.5 text-[8px] font-black rounded uppercase shadow-sm border-none outline-none cursor-pointer transition-colors ${e.InvestmentStatus===an.Active?"bg-emerald-500 text-white":e.InvestmentStatus===an.UnderReview?"bg-amber-400 text-slate-900":"bg-slate-200 text-slate-600"}`,children:[a.jsx("option",{value:an.Draft,children:"Draft (Admin Only)"}),a.jsx("option",{value:an.UnderReview,children:"Issue for Partner Signature"}),a.jsx("option",{value:an.Active,children:"Executed / Active"})]})]})]}),a.jsx(q_,{formData:e,isReadOnly:t,handleChange:n}),a.jsx(W_,{simPool:i,setSimPool:o,isCapped:b,monthlyPrincipalReturn:x,estimatedVariableInterest:w,roiCapPercent:h,totalProjectedTakeaway:y,duration:f,totalTermInterest:S,totalTermYield:P}),e.InvestmentSignature&&a.jsx(H_,{formData:e}),a.jsx(V_,{formData:e,handleChange:n,isReadOnly:t})]})]})},Ns={dashboard:{view:!0,create:!1,update:!1,delete:!1},clients:{view:!0,create:!0,update:!0,delete:!1},vehicles:{view:!0,create:!0,update:!0,delete:!1},sim_manager:{view:!0,create:!0,update:!0,delete:!1},contracts:{view:!0,create:!0,update:!0,delete:!1},invoices:{view:!0,create:!0,update:!0,delete:!1},payments:{view:!0,create:!0,update:!0,delete:!1},commissions:{view:!0,create:!1,update:!1,delete:!1},agents:{view:!1,create:!1,update:!1,delete:!1},support:{view:!0,create:!0,update:!0,delete:!1},settings:{view:!0,create:!0,update:!0,delete:!0}},G_=({isOpen:e,onClose:t,mode:n,agent:r,agents:i=[],currentUser:o,onSave:c})=>{const[u,f]=O.useState(n),[d,h]=O.useState("info"),[m,x]=O.useState({}),[v,j]=O.useState(""),[b,w]=O.useState(Ns),[y,S]=O.useState(!1),[P,k]=O.useState(!1),[C,E]=O.useState(navigator.onLine),D=(o==null?void 0:o.role)==="Admin";O.useEffect(()=>{const _=()=>E(navigator.onLine);return window.addEventListener("online",_),window.addEventListener("offline",_),()=>{window.removeEventListener("online",_),window.removeEventListener("offline",_)}},[]),O.useEffect(()=>{var _;if(e){if(f(n),h("info"),S(n==="add"),k(!1),j(""),n==="add"){const U="SC"+Math.floor(1e3+Math.random()*9e3);x({AgentID:`AGT-${Math.floor(1e3+Math.random()*9e3)}`,Status:"Active",StartDate:new Date().toISOString().split("T")[0],Role:"Agent",CommissionRate:10,ExperienceLevel:"Trainee",Password:U,Department:"Sales",BaseSalary:0,Notes:"",InvestmentTermMonths:12}),j("12"),w(Ns)}else if(r){x({...r}),j(((_=r.InvestmentTermMonths)==null?void 0:_.toString())||"");try{const U=r.Privileges?JSON.parse(r.Privileges):Ns;w({...Ns,...U})}catch{w(Ns)}}}},[n,r,e]);const I=(_,U)=>{if(!_||!U)return;const G=parseInt(U);if(isNaN(G))return;const W=new Date(_);W.setMonth(W.getMonth()+G),x(K=>({...K,EndDate:W.toISOString().split("T")[0],InvestmentTermMonths:G}))},$=_=>{j(_);const U=parseInt(_);m.StartDate?I(m.StartDate,_):x(G=>({...G,InvestmentTermMonths:isNaN(U)?0:U}))},B=_=>{if(P||u==="view")return;const{name:U,value:G,type:W}=_.target;if(W==="checkbox"){const{checked:K}=_.target;x(X=>({...X,[U]:K}))}else x(K=>{let X={...K,[U]:G};return U==="Role"&&G==="Partner"&&(X.ExperienceLevel="Partner"),U==="StartDate"&&v&&setTimeout(()=>I(G,v),0),X})},M=(_,U)=>{P||u==="view"||w(G=>({...G,[_]:{...G[_],[U]:!G[_][U]}}))},z=_=>{if(_.preventDefault(),P||!C)return;if(u==="view"){f("edit");return}if(u==="add"){if(d==="info"){h("access");return}if(d==="access"){h("finance");return}}k(!0);const U={...m,Privileges:JSON.stringify(b)};c(U,y),t()},L=u==="view";return e?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-xl max-h-[95vh] flex flex-col overflow-hidden animate-in fade-in zoom-in duration-200",children:[a.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b border-slate-100 bg-slate-50/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-slate-900 text-white rounded-lg",children:a.jsx(At,{size:18})}),a.jsx("div",{children:a.jsx("h2",{className:"text-base font-semibold text-slate-900",children:u==="add"?"Staff Onboarding":u==="edit"?"Edit Staff Profile":"Staff Profile"})})]}),a.jsx("button",{onClick:t,className:"p-1 text-slate-400 hover:text-slate-600 transition-colors",children:a.jsx(jt,{size:20})})]}),a.jsx("div",{className:"flex border-b border-slate-100 bg-white px-6 shrink-0",children:[{id:"info",label:"General Info"},{id:"access",label:"Security Access"},{id:"finance",label:"Financials",hidden:!D}].filter(_=>!_.hidden).map(_=>a.jsxs("button",{onClick:()=>h(_.id),className:`px-4 py-3 text-[10px] font-bold border-b-2 transition-all uppercase tracking-widest flex items-center gap-2 ${d===_.id?"border-indigo-600 text-indigo-600":"border-transparent text-slate-400 hover:text-slate-700"}`,children:[u==="add"&&d!==_.id&&a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${["info","access","finance"].indexOf(d)>["info","access","finance"].indexOf(_.id)?"bg-emerald-50":"bg-slate-200"}`}),_.label]},_.id))}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6 no-scrollbar",children:a.jsxs("fieldset",{disabled:P,children:[d==="info"&&a.jsx(B_,{formData:m,isReadOnly:L,duration:v,onDurationChange:$,handleChange:B}),d==="access"&&a.jsx(F_,{formData:m,isReadOnly:L,handleChange:B,permissions:b,handlePermissionToggle:M,defaultPermissions:Ns}),d==="finance"&&a.jsx(K_,{formData:m,isReadOnly:L,handleChange:B,isAdmin:D})]})}),a.jsxs("div",{className:"px-6 py-4 border-t border-slate-100 bg-slate-50/50 flex flex-col sm:flex-row justify-between items-center gap-3 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[u==="add"&&d==="finance"&&a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:y,onChange:_=>S(_.target.checked),className:"w-3.5 h-3.5 rounded border-slate-300 text-indigo-600"}),a.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Dispatch Login Details"})]}),!C&&a.jsxs("span",{className:"text-[10px] font-medium text-rose-500 flex items-center gap-1",children:[a.jsx(Wi,{size:12})," Offline"]})]}),a.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[a.jsx("button",{onClick:t,className:"flex-1 sm:flex-none px-4 py-2 text-[10px] font-black uppercase tracking-widest text-slate-400 hover:text-slate-600",children:"Cancel"}),a.jsxs("button",{onClick:z,disabled:P||!C,className:`flex-1 sm:flex-none flex items-center justify-center gap-3 px-8 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest shadow-xl transition-all active:scale-95 ${C?"bg-slate-900 text-white hover:bg-black":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:[P?a.jsx(Dt,{size:14,className:"animate-spin"}):u==="add"?d==="finance"?a.jsx(wr,{size:14}):a.jsx(cE,{size:14}):u==="view"?a.jsx(s_,{size:14}):a.jsx(My,{size:14}),P?"Synchronizing...":u==="add"?d==="info"?"Next: Setup Access":d==="access"?"Next: Financials":"Complete Onboarding":u==="view"?"Modify Profile":"Save Changes"]})]})]})]})}):null},Y_=({isOpen:e,onClose:t,mode:n,record:r,clients:i,vehicles:o,onSave:c})=>{const[u,f]=O.useState({}),[d,h]=O.useState(!1),[m,x]=O.useState(!1),[v,j]=O.useState(navigator.onLine);if(O.useEffect(()=>{const k=()=>j(navigator.onLine);return window.addEventListener("online",k),window.addEventListener("offline",k),()=>{window.removeEventListener("online",k),window.removeEventListener("offline",k)}},[]),O.useEffect(()=>{n==="add"?(f({ID:`MNT-${Math.floor(1e4+Math.random()*9e4)}`,Date:new Date().toISOString().split("T")[0],Status:$n.Scheduled,AssetIDs:[],Cost:0,Description:""}),x(!0)):r&&(f({...r}),x(!1)),h(!1)},[n,r,e]),!e)return null;const b=k=>{if(d)return;const C=i.find(E=>E.ClientID===k);f(E=>({...E,ClientID:k,ClientName:(C==null?void 0:C.CompanyName)||"",AssetIDs:[]}))},w=k=>{d||f(C=>{const E=C.AssetIDs||[],D=E.includes(k)?E.filter(I=>I!==k):[...E,k];return{...C,AssetIDs:D}})},y=async k=>{if(k.preventDefault(),!(d||!v)&&!(!u.ClientID||!u.Description)){h(!0);try{await c(u,m),t()}finally{h(!1)}}},S=i.map(k=>({value:k.ClientID,label:k.CompanyName,disabled:k.Status!==ln.Active,subtext:k.ClientType})),P=o.filter(k=>k.ClientID===u.ClientID);return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col overflow-hidden animate-in fade-in zoom-in duration-200",children:[a.jsxs("div",{className:"flex justify-between items-center p-8 border-b border-slate-100 bg-slate-50/50",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-3 rounded-2xl bg-indigo-600 text-white shadow-lg",children:a.jsx(Rl,{size:24})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:n==="add"?"New Asset Service":"Service Record"}),a.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:["Ref: ",u.ID]})]})]}),a.jsx("button",{onClick:t,disabled:d,className:"p-2 text-slate-300 hover:text-slate-900 transition-colors disabled:opacity-30",children:a.jsx(jt,{size:24})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:a.jsx("fieldset",{disabled:d,children:a.jsxs("form",{id:"maintenance-form",onSubmit:y,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{className:"col-span-1 md:col-span-2",children:a.jsx(Ac,{label:"Target Company",required:!0,options:S,value:u.ClientID||"",onChange:b})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Service Status"}),a.jsxs("select",{value:u.Status,onChange:k=>f({...u,Status:k.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-100 rounded-xl outline-none font-bold text-xs",children:[a.jsx("option",{value:$n.Scheduled,children:"Scheduled / Pending"}),a.jsx("option",{value:$n.InProgress,children:"Currently In Progress"}),a.jsx("option",{value:$n.Completed,children:"Task Completed"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Service Date"}),a.jsx("input",{type:"date",value:u.Date,onChange:k=>f({...u,Date:k.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-100 rounded-xl outline-none text-xs"})]}),a.jsxs("div",{className:"col-span-1 md:col-span-2 space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Work Description"}),a.jsx("textarea",{required:!0,value:u.Description,onChange:k=>f({...u,Description:k.target.value}),placeholder:"Details of the repair or maintenance performed...",className:"w-full h-32 p-4 bg-slate-50 border border-slate-100 rounded-2xl outline-none text-sm font-medium resize-none focus:ring-4 focus:ring-indigo-50 transition-all"})]}),u.ClientID&&P.length>0&&a.jsxs("div",{className:"col-span-1 md:col-span-2 space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Affect Assets"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:P.map(k=>{var C,E,D;return a.jsxs("button",{type:"button",onClick:()=>w(k.VehicleID),className:`flex items-center gap-3 p-3 rounded-xl border text-left transition-all ${(C=u.AssetIDs)!=null&&C.includes(k.VehicleID)?"bg-indigo-600 border-indigo-700 text-white shadow-md":"bg-white border-slate-100 text-slate-500 hover:border-indigo-200"} ${d?"opacity-50 cursor-not-allowed":""}`,children:[a.jsx(yr,{size:16,className:(E=u.AssetIDs)!=null&&E.includes(k.VehicleID)?"text-indigo-200":"text-slate-300"}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-[10px] font-black font-mono leading-none",children:k.NumberPlate}),a.jsxs("p",{className:`text-[8px] font-bold uppercase truncate mt-0.5 ${(D=u.AssetIDs)!=null&&D.includes(k.VehicleID)?"text-indigo-300":"text-slate-400"}`,children:[k.Make," ",k.Model]})]})]},k.VehicleID)})})]})]}),u.Status===$n.Completed&&a.jsxs("div",{className:"bg-slate-900 rounded-[2rem] p-6 text-white shadow-2xl relative overflow-hidden border border-slate-800 animate-in zoom-in duration-300",children:[a.jsx("div",{className:"absolute right-0 top-0 p-6 opacity-5 rotate-12",children:a.jsx(sa,{size:80})}),a.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`p-3 rounded-2xl transition-all duration-500 ${m?"bg-emerald-500 text-white shadow-lg":"bg-slate-800 text-slate-600"}`,children:a.jsx($s,{size:18})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-[11px] font-black uppercase tracking-widest leading-none",children:"Completion Dispatch"}),a.jsx("p",{className:`text-[8px] font-bold uppercase mt-1.5 ${m?"text-emerald-400":"text-slate-500"}`,children:m?"Client will receive service confirmation":"Silent record update only"})]})]}),a.jsx("button",{type:"button",disabled:d,onClick:()=>x(!m),className:`relative inline-flex h-7 w-12 items-center rounded-full transition-colors focus:outline-none ${m?"bg-emerald-500":"bg-slate-800"}`,children:a.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform duration-200 shadow-sm ${m?"translate-x-6":"translate-x-1"}`})})]})]})]})})}),a.jsxs("div",{className:"p-8 border-t border-slate-100 bg-slate-50 flex flex-col sm:flex-row justify-end items-center gap-4 shrink-0",children:[!v&&a.jsxs("div",{className:"flex items-center gap-2 text-rose-500 font-black text-[9px] uppercase tracking-widest mb-2 sm:mb-0",children:[a.jsx(Wi,{size:14})," Offline Mode: Registry Locked"]}),a.jsx("button",{onClick:t,disabled:d,className:"px-8 py-3 text-slate-400 bg-white border border-slate-200 rounded-2xl font-black text-[10px] uppercase tracking-widest disabled:opacity-30",children:"Cancel"}),a.jsxs("button",{form:"maintenance-form",type:"submit",disabled:d||!v,className:`px-12 py-3 rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-xl flex items-center justify-center gap-2 active:scale-95 transition-all min-w-[180px] ${v?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:[d?a.jsx(Dt,{size:14,className:"animate-spin"}):a.jsx($s,{size:14}),d?"Processing...":n==="add"?"Log Maintenance":"Update Record"]})]})]})})},X_=({isOpen:e,onClose:t,appState:n,onSendMessage:r})=>{const[i,o]=O.useState("my_clients"),[c,u]=O.useState(""),[f,d]=O.useState([]),[h,m]=O.useState(""),[x,v]=O.useState(!1),[j,b]=O.useState(0),[w,y]=O.useState(!1),[S,P]=O.useState(""),{currentUser:k,agents:C,clients:E}=n;if(!k||!e)return null;const D=k.role==="Admin",I=k.id,$=O.useMemo(()=>{let L=[];return i==="my_clients"?L=E.filter(_=>String(_.AssignedAgentID).trim().toLowerCase()===String(I).trim().toLowerCase()):i==="all_clients"&&D?L=E:i==="all_agents"&&D?L=C.filter(_=>String(_.AgentID)!==String(I)):i==="agent_clients"&&D&&c?L=E.filter(_=>String(_.AssignedAgentID).trim().toLowerCase()===String(c).trim().toLowerCase()):i==="custom"&&(L=[...C,...E].filter(_=>{const U="AgentID"in _?_.AgentID:_.ClientID;return f.includes(U)&&U!==I})),L},[i,c,f,E,C,I,D]),B=L=>{d(_=>_.includes(L)?_.filter(U=>U!==L):[..._,L])},M=async()=>{if(!(!h.trim()||$.length===0||x)){v(!0),b(0),y(!1);for(let L=0;L<$.length;L++){const _=$[L],U="AgentID"in _?_.AgentID:_.ClientID,G={ID:`BRD-${Date.now()}-${L}-${Math.random().toString(36).substring(2,5)}`,SenderID:I,SenderName:k.name,ReceiverID:U,Message:`[BROADCAST]: ${h.trim()}`,Timestamp:new Date().toISOString(),Status:"Sent"};try{await r(G)}catch(W){console.error("Broadcast failed for recipient:",U,W)}b(Math.floor((L+1)/$.length*100))}v(!1),y(!0),setTimeout(()=>{t(),y(!1),m(""),b(0),d([])},2e3)}},z=O.useMemo(()=>[...C,...E].filter(L=>{const _="AgentName"in L?L.AgentName:L.CompanyName;return("AgentID"in L?L.AgentID:L.ClientID)!==I&&_.toLowerCase().includes(S.toLowerCase())}),[C,E,S,I]);return a.jsx("div",{className:"fixed inset-0 z-[210] flex items-center justify-center p-4 bg-slate-900/80 backdrop-blur-md",children:a.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-2xl w-full max-w-2xl overflow-hidden flex flex-col animate-in zoom-in duration-300",children:[a.jsxs("div",{className:"p-8 border-b border-slate-50 flex justify-between items-center bg-slate-50/50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-indigo-600 text-white rounded-2xl shadow-lg",children:a.jsx(jE,{size:24})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black text-slate-900 uppercase tracking-tight",children:"Broadcast Center"}),a.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-1",children:"Multi-Recipient Secure Messaging"})]})]}),a.jsx("button",{onClick:t,disabled:x,className:"p-2 text-slate-300 hover:text-slate-900 transition-colors",children:a.jsx(jt,{size:24})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-8 space-y-6 no-scrollbar max-h-[70vh]",children:w?a.jsxs("div",{className:"py-20 flex flex-col items-center text-center space-y-4 animate-in fade-in zoom-in",children:[a.jsx("div",{className:"w-20 h-20 bg-emerald-50 rounded-full flex items-center justify-center text-emerald-500 shadow-inner",children:a.jsx(wr,{size:48,strokeWidth:2.5})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-tight",children:"Transmission Complete"}),a.jsxs("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mt-1",children:["Recipients reached: ",$.length]})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-900 border-b border-slate-100 pb-2",children:[a.jsx(Ri,{size:18,className:"text-indigo-600"}),a.jsx("h3",{className:"text-xs font-black uppercase tracking-widest",children:"Select Target Audience"})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:[a.jsxs("button",{onClick:()=>o("my_clients"),className:`p-4 rounded-2xl border-2 text-center transition-all ${i==="my_clients"?"bg-indigo-50 border-indigo-600 text-indigo-900 shadow-md":"bg-white border-slate-100 text-slate-400 hover:border-indigo-200"}`,children:[a.jsx(At,{size:18,className:"mx-auto mb-2"}),a.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"My Clients"})]}),D&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>o("all_clients"),className:`p-4 rounded-2xl border-2 text-center transition-all ${i==="all_clients"?"bg-indigo-50 border-indigo-600 text-indigo-900 shadow-md":"bg-white border-slate-100 text-slate-400 hover:border-indigo-200"}`,children:[a.jsx(mn,{size:18,className:"mx-auto mb-2"}),a.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"All Clients"})]}),a.jsxs("button",{onClick:()=>o("all_agents"),className:`p-4 rounded-2xl border-2 text-center transition-all ${i==="all_agents"?"bg-indigo-50 border-indigo-900 shadow-md":"bg-white border-slate-100 text-slate-400 hover:border-indigo-200"}`,children:[a.jsx(qi,{size:18,className:"mx-auto mb-2"}),a.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"All Staff"})]}),a.jsxs("button",{onClick:()=>o("agent_clients"),className:`p-4 rounded-2xl border-2 text-center transition-all ${i==="agent_clients"?"bg-indigo-50 border-indigo-900 shadow-md":"bg-white border-slate-100 text-slate-400 hover:border-indigo-200"}`,children:[a.jsx(hn,{size:18,className:"mx-auto mb-2"}),a.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"Staff's Clients"})]}),a.jsxs("button",{onClick:()=>o("custom"),className:`p-4 rounded-2xl border-2 text-center transition-all ${i==="custom"?"bg-indigo-50 border-indigo-900 shadow-md":"bg-white border-slate-100 text-slate-400 hover:border-indigo-200"}`,children:[a.jsx(Tl,{size:18,className:"mx-auto mb-2"}),a.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"Individual Selection"})]})]})]}),i==="agent_clients"&&D&&a.jsxs("div",{className:"p-4 bg-slate-50 border border-slate-200 rounded-2xl space-y-2 animate-in slide-in-from-top-2",children:[a.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Select Managing Staff Member"}),a.jsxs("select",{value:c,onChange:L=>u(L.target.value),className:"w-full p-3 bg-white border border-slate-200 rounded-xl text-sm font-bold outline-none",children:[a.jsx("option",{value:"",children:"-- Choose Agent --"}),C.map(L=>a.jsx("option",{value:L.AgentID,children:L.AgentName},L.AgentID))]})]}),i==="custom"&&a.jsxs("div",{className:"p-4 bg-slate-50 border border-slate-200 rounded-2xl space-y-4 animate-in slide-in-from-top-2",children:[a.jsxs("div",{className:"relative",children:[a.jsx(hn,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Search for staff or clients...",value:S,onChange:L=>P(L.target.value),className:"w-full pl-9 pr-4 py-2 bg-white border border-slate-200 rounded-xl text-xs font-bold outline-none"})]}),a.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1 custom-scrollbar pr-2",children:z.map(L=>{const _="AgentID"in L?L.AgentID:L.ClientID,U="AgentName"in L?L.AgentName:L.CompanyName,G=f.includes(_);return a.jsxs("div",{onClick:()=>B(_),className:`flex items-center justify-between p-2.5 rounded-xl cursor-pointer transition-all ${G?"bg-indigo-600 text-white shadow-md":"bg-white text-slate-600 hover:bg-indigo-50"}`,children:[a.jsx("span",{className:"text-[10px] font-black uppercase truncate",children:U}),G?a.jsx(Tl,{size:14}):a.jsx(vd,{size:14,className:"text-slate-300"})]},_)})}),a.jsxs("div",{className:"pt-2 border-t border-slate-200 flex justify-between items-center",children:[a.jsxs("span",{className:"text-[9px] font-black text-indigo-600 uppercase",children:[f.length," Selected"]}),a.jsx("button",{onClick:()=>d([]),className:"text-[9px] font-black text-slate-400 uppercase hover:text-rose-600",children:"Clear All"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-900 border-b border-slate-100 pb-2",children:[a.jsx(tr,{size:18,className:"text-indigo-600"}),a.jsx("h3",{className:"text-xs font-black uppercase tracking-widest",children:"Broadcast Message Content"})]}),a.jsx("textarea",{value:h,onChange:L=>m(L.target.value),disabled:x,placeholder:"Type your announcement or alert here...",className:"w-full h-32 p-5 bg-slate-50 border border-slate-100 rounded-[1.5rem] outline-none text-sm font-medium resize-none focus:ring-4 focus:ring-indigo-50 transition-all"})]}),x&&a.jsxs("div",{className:"space-y-2 animate-in fade-in",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-[9px] font-black text-indigo-600 uppercase tracking-widest",children:"Transmission in progress..."}),a.jsxs("span",{className:"text-xs font-black text-slate-900",children:[j,"%"]})]}),a.jsx("div",{className:"h-2 w-full bg-slate-100 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-indigo-600 transition-all duration-300",style:{width:`${j}%`}})})]})]})}),!w&&a.jsxs("div",{className:"p-8 border-t border-slate-100 bg-slate-50 flex flex-col sm:flex-row justify-between items-center gap-4 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-white rounded-xl border border-slate-200 text-slate-400",children:a.jsx(Ri,{size:18})}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-[10px] font-black text-slate-900 uppercase leading-none",children:[$.length," Target Recipients"]}),a.jsx("p",{className:"text-[8px] font-bold text-slate-400 uppercase mt-1",children:"Multi-Node Dispatch Active"})]})]}),a.jsxs("button",{onClick:M,disabled:x||!h.trim()||$.length===0,className:`w-full sm:w-auto px-10 py-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] shadow-xl flex items-center justify-center gap-3 transition-all active:scale-95 ${x||!h.trim()||$.length===0?"bg-slate-200 text-slate-400 cursor-not-allowed":"bg-slate-900 text-white hover:bg-black"}`,children:[x?a.jsx(Dt,{size:16,className:"animate-spin"}):a.jsx(sa,{size:16}),"Execute Broadcast"]})]})]})})},Q_=({appState:e,modals:t,handlers:n})=>e.currentUser?a.jsxs(a.Fragment,{children:[a.jsx(D_,{isOpen:t.client.isOpen,onClose:t.client.close,mode:t.client.mode,client:t.client.selected,agents:e.agents,activityLogs:e.activityLogs,currentUser:e.currentUser,onSave:n.onSaveClient,onSaveActivityLog:n.onSaveActivityLog}),a.jsx(__,{isOpen:t.contract.isOpen,onClose:t.contract.close,mode:t.contract.mode,contract:t.contract.selected,clients:e.clients,agents:e.agents,servicePlans:e.servicePlans,vehicles:e.vehicles,companySettings:e.systemSettings,userRole:e.currentUser.role,currentUser:e.currentUser,onSave:n.onSaveContract,onCreateServicePlan:()=>{}}),a.jsx($_,{isOpen:t.invoice.isOpen,onClose:t.invoice.close,mode:t.invoice.mode,invoice:t.invoice.selected,clients:e.clients,contracts:e.contracts,systemSettings:e.systemSettings,onSave:n.onSaveInvoice,type:t.invoice.type}),a.jsx(z_,{isOpen:t.vehicle.isOpen,onClose:t.vehicle.close,mode:t.vehicle.mode,vehicle:t.vehicle.selected,clients:e.clients,onSave:n.onSaveVehicle}),a.jsx(L_,{isOpen:t.payment.isOpen,onClose:t.payment.close,mode:t.payment.mode,payment:t.payment.selected,payments:e.payments,invoices:e.invoices,contracts:e.contracts,agents:e.agents,clients:e.clients,currentUser:e.currentUser,onSave:n.onSavePayment,onSaveInvoice:n.onSaveInvoice}),a.jsx(G_,{isOpen:t.agent.isOpen,onClose:t.agent.close,mode:t.agent.mode,agent:t.agent.selected,agents:e.agents,currentUser:e.currentUser,onSave:n.onSaveAgent}),a.jsx(Y_,{isOpen:t.maintenance.isOpen,onClose:t.maintenance.close,mode:t.maintenance.mode,record:t.maintenance.selected,clients:e.clients,vehicles:e.vehicles,onSave:n.onSaveMaintenance}),a.jsx(X_,{isOpen:t.broadcast.isOpen,onClose:()=>t.broadcast.setOpen(!1),appState:e,onSendMessage:n.onSendMessage})]}):null,Z_=({tiles:e})=>a.jsx("div",{className:"w-full max-w-5xl grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-y-16 gap-x-8 md:gap-y-24 md:gap-x-16 py-10",children:e.map(t=>a.jsxs(lE,{to:t.path,className:"group flex flex-col items-center justify-center transition-all duration-300 active:scale-95",children:[a.jsx("div",{className:`mb-4 md:mb-8 transform transition-transform duration-500 group-hover:-translate-y-4 ${t.key==="partner_hub"?"text-amber-500":"text-slate-800"}`,children:a.jsx(t.icon,{className:"w-14 h-14 md:w-24 md:h-24",strokeWidth:1})}),a.jsx("div",{className:"text-center px-2",children:a.jsx("h3",{className:`text-[11px] md:text-sm font-black tracking-widest uppercase leading-tight group-hover:text-slate-900 transition-colors ${t.key==="partner_hub"?"text-amber-600":"text-slate-400"}`,children:t.name})})]},t.name+t.path))}),J_=({isOpen:e,onClose:t,isAdmin:n,isAgent:r,myClientsCount:i,myTraineesCount:o,estimatedEarnings:c,monthActivations:u,referralLeaders:f,agentPerformance:d,questProgress:h,hasClaimed:m,onApplyForPartnership:x})=>e?a.jsxs("div",{className:"fixed inset-0 z-[100] flex justify-end",children:[a.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm animate-in fade-in duration-200",onClick:t}),a.jsxs("div",{className:"relative w-full max-w-lg bg-white h-full shadow-2xl overflow-y-auto no-scrollbar animate-in slide-in-from-right duration-300 flex flex-col",children:[a.jsxs("div",{className:"p-5 border-b border-slate-100 flex items-center justify-between sticky top-0 bg-white z-10",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-slate-900 text-white rounded-xl",children:a.jsx(ev,{size:18})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-sm font-black text-slate-900 uppercase tracking-tight leading-none",children:"Network Performance"}),a.jsx("p",{className:"text-[9px] text-slate-400 font-bold uppercase tracking-widest mt-1",children:"Monthly Metrics & Growth"})]})]}),a.jsx("button",{onClick:t,className:"p-2 text-slate-300 hover:text-slate-900 transition-colors",children:a.jsx(jt,{size:20})})]}),a.jsxs("div",{className:"p-5 space-y-6 pb-20",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"bg-slate-50 p-3.5 rounded-2xl border border-slate-100 flex flex-col gap-2",children:[a.jsx("div",{className:"p-1.5 w-fit bg-indigo-100 text-indigo-600 rounded-lg",children:a.jsx(Ri,{size:16})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-0.5 leading-none",children:"My Clients"}),a.jsx("p",{className:"text-lg font-black text-slate-900 tracking-tighter leading-none",children:i})]})]}),a.jsxs("div",{className:"bg-slate-50 p-3.5 rounded-2xl border border-slate-100 flex flex-col gap-2",children:[a.jsx("div",{className:"p-1.5 w-fit bg-emerald-100 text-emerald-600 rounded-lg",children:a.jsx(EE,{size:16})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-0.5 leading-none",children:"Team Members"}),a.jsx("p",{className:"text-lg font-black text-slate-900 tracking-tighter leading-none",children:o})]})]}),a.jsxs("div",{className:`p-3.5 rounded-2xl shadow-sm flex flex-col gap-2 text-white ${n?"bg-amber-500":"bg-indigo-600"}`,children:[a.jsx("div",{className:"p-1.5 w-fit bg-white/20 rounded-lg",children:a.jsx(Mi,{size:16})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[9px] font-black text-white/70 uppercase tracking-widest mb-0.5 leading-none",children:"Monthly Earning"}),a.jsxs("p",{className:"text-lg font-black tracking-tighter leading-none",children:["K",De(c)]})]})]}),a.jsxs("div",{className:`p-3.5 rounded-2xl shadow-sm flex flex-col gap-2 text-white ${u>=1?"bg-emerald-600":"bg-rose-500"} overflow-hidden`,children:[a.jsx("div",{className:"p-1.5 w-fit bg-white/20 rounded-lg",children:a.jsx(SE,{size:16})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[9px] font-black text-white/70 uppercase tracking-widest mb-0.5 leading-none",children:"Monthly Target"}),a.jsx("p",{className:"text-lg font-black tracking-tighter leading-none",children:u>=1?"Target Met":"Action Required"})]})]})]}),r&&a.jsxs("div",{className:"rounded-2xl p-5 text-white shadow-lg relative overflow-hidden bg-slate-900 border border-slate-800",children:[a.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-5",children:h.icon}),a.jsxs("div",{className:"relative z-10 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2.5 rounded-xl shadow-md ${h.color}`,children:q.cloneElement(h.icon,{size:18})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-white",children:h.label}),a.jsx("p",{className:"text-[8px] font-bold text-slate-400 uppercase tracking-widest mt-0.5",children:h.subtext})]})]}),a.jsxs("div",{className:"space-y-2.5",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex-1 h-1.5 bg-white/10 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-indigo-500 transition-all duration-1000",style:{width:`${h.percentage}%`}})}),a.jsxs("span",{className:"text-xs font-black text-white",children:[h.percentage.toFixed(0),"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-[8px] font-black px-2 py-0.5 rounded uppercase tracking-widest bg-white/5 text-slate-400",children:["Current Rank: ",h.level]}),h.canApply&&!m&&a.jsx("button",{onClick:x,className:"px-4 py-1.5 bg-amber-500 hover:bg-amber-400 text-slate-900 rounded-lg text-[8px] font-black uppercase tracking-widest shadow-md transition-all active:scale-95",children:"Apply for Partner"})]})]})]})]}),n&&a.jsxs("div",{className:"bg-slate-50 border border-slate-100 rounded-2xl p-5 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(xE,{size:14,className:"text-indigo-600"}),a.jsx("h3",{className:"text-[10px] font-black text-slate-900 uppercase tracking-widest",children:"Referral Performance"})]}),a.jsx("div",{className:"space-y-2",children:f.map((v,j)=>a.jsxs("div",{className:"bg-white p-3 rounded-xl border border-slate-100 flex items-center justify-between shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-100 flex items-center justify-center text-[9px] font-black text-slate-400",children:j+1}),a.jsx("p",{className:"text-[10px] font-black text-slate-800 uppercase truncate max-w-[120px]",children:v.name})]}),a.jsx("div",{className:"text-right",children:a.jsx("p",{className:"text-xs font-black text-indigo-600",children:v.count})})]},v.name))})]}),n&&a.jsxs("div",{className:"bg-slate-900 rounded-2xl p-5 text-white shadow-md relative overflow-hidden",children:[a.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10",children:a.jsx(x_,{size:40})}),a.jsx("h4",{className:"text-[10px] font-black uppercase text-indigo-400 tracking-widest mb-4",children:"Top Performers"}),a.jsx("div",{className:"space-y-3",children:d.slice(0,3).map((v,j)=>a.jsx("div",{className:"flex items-center justify-between group border-b border-white/5 pb-2 last:border-0 last:pb-0",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-6 h-6 rounded-lg flex items-center justify-center text-[9px] font-black ${j===0?"bg-amber-500 text-slate-900":"bg-slate-800"}`,children:j+1}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-[11px] font-black uppercase tracking-tight truncate max-w-[140px]",children:v.AgentName}),a.jsxs("p",{className:"text-[8px] text-slate-500 uppercase font-bold",children:[v.monthlyOnboards," Onboards  ",v.ExperienceLevel]})]})]})},v.AgentID))})]}),a.jsxs("div",{className:"bg-slate-50 border border-slate-100 rounded-2xl p-5 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(mn,{size:14,className:"text-slate-900"}),a.jsx("h3",{className:"text-[10px] font-black text-slate-900 uppercase tracking-widest",children:"Network Policy"})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("div",{className:"bg-white p-3 rounded-xl border border-slate-100 shadow-sm flex items-start gap-3",children:[a.jsx(yf,{size:14,className:"text-rose-500 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h5",{className:"text-[9px] font-black text-slate-900 uppercase",children:"Payout Requirement"}),a.jsx("p",{className:"text-[9px] text-slate-500 leading-tight mt-1",children:"Minimum 1 new client activation monthly to maintain base standing."})]})]}),a.jsxs("div",{className:"bg-white p-3 rounded-xl border border-slate-100 shadow-sm flex items-start gap-3",children:[a.jsx(lo,{size:14,className:"text-indigo-500 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h5",{className:"text-[9px] font-black text-slate-900 uppercase",children:"Career Acceleration"}),a.jsx("p",{className:"text-[9px] text-slate-500 leading-tight mt-1",children:"Onboarding 2+ clients monthly accelerates rank progression."})]})]})]})]})]})]})]}):null,Yu=({title:e,icon:t,children:n})=>a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-900 border-b border-slate-100 pb-2",children:[a.jsx(t,{size:18,className:"text-indigo-600"}),a.jsx("h3",{className:"text-xs font-black uppercase tracking-widest",children:e})]}),a.jsx("div",{className:"space-y-3",children:n})]}),Fh=({role:e,icon:t,tasks:n,color:r})=>a.jsxs("div",{className:`p-4 rounded-2xl border ${r} bg-white shadow-sm`,children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"p-2 rounded-xl bg-slate-50 text-slate-800",children:a.jsx(t,{size:16})}),a.jsx("h4",{className:"text-[11px] font-black uppercase tracking-tight",children:e})]}),a.jsx("ul",{className:"space-y-2",children:n.map((i,o)=>a.jsxs("li",{className:"flex items-start gap-2 text-[10px] text-slate-600 leading-tight",children:[a.jsx("div",{className:"w-1 h-1 rounded-full bg-slate-300 mt-1.5 shrink-0"}),i]},o))})]}),eM=({isOpen:e,onClose:t})=>e?a.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md",children:a.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col overflow-hidden animate-in zoom-in duration-300",children:[a.jsxs("div",{className:"p-6 md:p-8 border-b border-slate-50 flex justify-between items-center bg-slate-50/50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-slate-900 text-white rounded-2xl shadow-lg",children:a.jsx(uE,{size:20})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-black text-slate-900 uppercase tracking-tight",children:"Staff Operations Guide"}),a.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:"Internal Guidance & Procedures"})]})]}),a.jsx("button",{onClick:t,className:"p-2 text-slate-300 hover:text-slate-900 transition-colors",children:a.jsx(jt,{size:24})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6 md:p-10 space-y-10 no-scrollbar",children:[a.jsx(Yu,{title:"About Our Team",icon:Ri,children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[a.jsx(Fh,{role:"SCBC Agent",icon:qi,color:"border-indigo-100",tasks:["Onboard new clients","Manage client accounts","Provide client support","Escalate technical issues","Guide clients on system usage"]}),a.jsx(Fh,{role:"Partner",icon:Gj,color:"border-amber-100",tasks:["Strategic investment work","Manage client accounts","Provide support & guidance","Follow up on client issues","Onboard new clients"]}),a.jsx(Fh,{role:"Support Staff",icon:kc,color:"border-slate-100",tasks:["Help clients with system usage","Resolve account issues","Escalate technical problems","Maintain smooth communication"]})]})}),a.jsx(Yu,{title:"Daily Responsibilities",icon:J4,children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["Manage assigned client accounts","Find and onboard new clients","Follow up on all due payments","Record payments accurately in the system","Monitor upcoming payment due dates","Create, sign, and renew client contracts","Maintain regular contact with all clients"].map((n,r)=>a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-xl border border-slate-100",children:[a.jsx(mn,{size:14,className:"text-emerald-500 shrink-0"}),a.jsx("span",{className:"text-[10px] font-bold text-slate-700 uppercase leading-tight",children:n})]},r))})}),a.jsx(Yu,{title:"Monthly Earnings",icon:Mi,children:a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"bg-indigo-600 rounded-3xl p-6 text-white relative overflow-hidden shadow-xl",children:[a.jsx("div",{className:"absolute right-0 top-0 p-6 opacity-10 rotate-12",children:a.jsx(Mi,{size:80})}),a.jsxs("div",{className:"relative z-10 space-y-2",children:[a.jsx("h4",{className:"text-xs font-black uppercase text-indigo-200",children:"Agents and Support Staff"}),a.jsxs("p",{className:"text-sm font-bold leading-relaxed",children:["Receive a monthly share of not less than ",a.jsx("span",{className:"text-emerald-300",children:"25%"})," from revenue generated by clients assigned to you."]}),a.jsx("p",{className:"text-[10px] text-indigo-100/70 font-medium",children:"Earnings increase based on performance and number of clients managed. Bonuses may be awarded for high performance."})]})]}),a.jsxs("div",{className:"bg-amber-500 rounded-3xl p-6 text-white relative overflow-hidden shadow-xl",children:[a.jsx("div",{className:"absolute right-0 top-0 p-6 opacity-10 rotate-12",children:a.jsx(Gj,{size:80})}),a.jsxs("div",{className:"relative z-10 space-y-2",children:[a.jsx("h4",{className:"text-xs font-black uppercase text-amber-100",children:"Partners"}),a.jsx("p",{className:"text-sm font-bold leading-relaxed",children:"Earnings are based on mutual agreement and investment contribution over an agreed period."})]})]})]})}),a.jsx(Yu,{title:"Client Onboarding Procedures",icon:V4,children:a.jsx("div",{className:"space-y-2",children:['Add the client under "Clients" in the system','Add the clients vehicle or vehicles under "Vehicles"',"Complete installation and confirm system activation","Create and sign the contract in the system","The system automatically sends the contract to the client","The client signs and returns it digitally via portal","Generate payment and invoice through the system","Record payment once received into the system","Monitor the next payment due date using the system"].map((n,r)=>a.jsxs("div",{className:"flex items-center gap-4 p-3 border-l-4 border-indigo-500 bg-white shadow-sm rounded-r-xl",children:[a.jsx("span",{className:"text-[10px] font-black text-indigo-600 w-4",children:r+1}),a.jsx("span",{className:"text-[10px] font-bold text-slate-600 uppercase tracking-wide leading-tight",children:n})]},r))})})]}),a.jsx("div",{className:"p-8 border-t border-slate-100 bg-slate-50 flex justify-center shrink-0",children:a.jsx("button",{onClick:t,className:"px-10 py-3 bg-slate-900 text-white rounded-2xl text-[10px] font-black uppercase tracking-[0.2em] shadow-xl hover:bg-black transition-all active:scale-95",children:"I Understand the Guide"})})]})}):null,tM=({data:e,onClaimPayout:t,onApplyForPartnership:n})=>{var _,U,G;const[r,i]=O.useState(!1),[o,c]=O.useState(!1),[u,f]=O.useState(!0),d=((_=e.currentUser)==null?void 0:_.role)||"Agent",h=d==="Admin",m=d==="Agent",x=((U=e.currentUser)==null?void 0:U.id)||"",v=((G=e.currentUser)==null?void 0:G.name)||"",j=new Date,b=j.getMonth(),w=j.getFullYear();O.useEffect(()=>{if(u){const W=setTimeout(()=>{f(!1)},15e3);return()=>clearTimeout(W)}},[u]);const y=O.useMemo(()=>(e.clients||[]).filter(W=>String(W.AssignedAgentID).trim().toLowerCase()===String(x).trim().toLowerCase()),[e.clients,x]),S=O.useMemo(()=>(y||[]).filter(W=>{const K=new Date(W.OnboardingDate);return K.getMonth()===b&&K.getFullYear()===w}).length,[y,b,w]),P=(e.agents||[]).find(W=>String(W.AgentID).trim().toLowerCase()===String(x).trim().toLowerCase()),k=O.useMemo(()=>{if(h||!P||P.PolicyExempt||S>=1)return!1;if(P.EnforcementExtensionDate){const W=new Date(P.EnforcementExtensionDate);if(j<W)return!1}return!0},[h,P,S,j]),C=O.useMemo(()=>{const W={};return(e.referrals||[]).forEach(K=>{W[K.ReferrerID]||(W[K.ReferrerID]={name:K.ReferrerName,count:0}),W[K.ReferrerID].count++}),Object.values(W).sort((K,X)=>X.count-K.count).slice(0,5)},[e.referrals]),E=O.useMemo(()=>(e.agents||[]).filter(W=>W.Role==="Agent"||W.Role==="Admin").map(W=>{const K=(e.clients||[]).filter(J=>String(J.AssignedAgentID).trim().toLowerCase()===String(W.AgentID).trim().toLowerCase()),X=K.filter(J=>{const te=new Date(J.OnboardingDate);return te.getMonth()===b&&te.getFullYear()===w}).length,R=(e.payments||[]).filter(J=>{const te=K.some(be=>be.ClientID===J.ClientID),ue=new Date(J.Date);return te&&ue.getMonth()===b&&ue.getFullYear()===w}).reduce((J,te)=>J+Number(te.Amount)/(te.MonthsCovered||1),0),Q=(e.agents||[]).filter(J=>String(J.ParentAgentID).trim().toLowerCase()===String(W.AgentID).trim().toLowerCase()).length;return{...W,monthlyOnboards:X,monthlyRevenue:R,teamSize:Q,score:X*100+R/10}}).sort((W,K)=>K.score-W.score),[e.agents,e.clients,e.payments,b,w]),D=O.useMemo(()=>(e.notifications||[]).filter(W=>(W.Type==="PAYOUT_REQUEST"||W.Type==="PARTNERSHIP_APPLICATION")&&W.Status==="Unread").sort((W,K)=>new Date(K.Time).getTime()-new Date(W.Time).getTime()),[e.notifications]),I=(e.agents||[]).filter(W=>String(W.ParentAgentID).trim().toLowerCase()===String(x).trim().toLowerCase()),$=O.useMemo(()=>{const W=(y||[]).length,K=(P==null?void 0:P.GraduatedTraineesCount)||0,X=(P==null?void 0:P.ExperienceLevel)||"Trainee";let R=10,Q="Path to Independent Agent",J=`${10-W} more clients to unlock Independent status.`,te=a.jsx(gE,{size:24}),ue="bg-indigo-600";W>=10&&X==="Trainee"?(R=25,Q="Path to Mentor Unlock",J="Reached 10! Add 15 more to unlock Trainee Slots.",te=a.jsx(Ry,{size:24}),ue="bg-emerald-500"):(W>=25||X==="Mentor")&&(R=50,Q="Path to Partner (Lead)",J=`Graduated: ${K}/5. Mentor override active.`,te=a.jsx(pE,{size:24}),ue="bg-amber-500");const be=Math.min(100,W/R*100),we=X==="Mentor"&&K>=5;return{percentage:be,label:Q,subtext:J,icon:te,color:ue,canApply:we,graduatedCount:K,level:X}},[y,P]),B=O.useMemo(()=>{const W=(P==null?void 0:P.CommissionRate)??10,K=(e.payments||[]).filter(R=>{const Q=(y||[]).some(te=>te.ClientID===R.ClientID),J=new Date(R.Date);return Q&&J.getMonth()===b&&J.getFullYear()===w}).reduce((R,Q)=>R+Number(Q.Amount)/(Q.MonthsCovered||1),0),X=(e.payments||[]).filter(R=>{const Q=(I||[]).find(te=>String(te.AgentID)===String(R.AgentID)),J=new Date(R.Date);return!!Q&&J.getMonth()===b&&J.getFullYear()===w}).reduce((R,Q)=>R+Number(Q.Amount)/(Q.MonthsCovered||1),0);return K*(W/100)+X*.05},[e.payments,y,I,b,w,P]),M=O.useMemo(()=>{const W=`CLAIM-${x}-${b+1}-${w}`;return(e.notifications||[]).some(K=>K.ID===W)},[e.notifications,x,b,w]),L=[{name:"Partner Hub",path:"/partner-hub",icon:Ty,key:"partner_hub",roles:["Partner"]},{name:"Clients",path:"/clients",icon:Ri,key:"clients"},{name:"Vehicles",path:"/vehicles",icon:yr,key:"vehicles"},{name:"Asset Service",path:"/maintenance",icon:Rl,key:"sim_manager"},{name:"SIM Assets",path:"/sim-maintenance",icon:oa,key:"sim_manager"},{name:"Contracts",path:"/contracts",icon:Cn,key:"contracts"},{name:"Invoices",path:"/invoices",icon:Cn,key:"invoices"},{name:"Payments",path:"/payments",icon:ha,key:"payments"},{name:"Commissions",path:"/commissions",icon:Oy,key:"commissions"},{name:"Support Desk",path:"/support",icon:tr,key:"support"},{name:"Team Access",path:"/agents",icon:qi,key:"agents"},{name:"Reports",path:"/reports",icon:q4,key:"dashboard"},{name:"Settings",path:"/settings",icon:u_,key:"settings"}].filter(W=>{var X,R,Q;if(W.roles&&W.roles.includes(d)||d==="Admin")return!0;const K=["clients","vehicles","sim_manager","contracts","invoices","payments","commissions","support"];return d==="Partner"?W.key==="dashboard"?!1:!!(K.includes(W.key)||W.key==="partner_hub"):d==="Agent"&&(K.includes(W.key)||W.key==="dashboard")?!0:(Q=(R=(X=e.currentUser)==null?void 0:X.permissions)==null?void 0:R[W.key])==null?void 0:Q.view});return a.jsxs("div",{className:"h-full flex flex-col items-center select-none overflow-y-auto no-scrollbar py-12 px-4 animate-in fade-in duration-1000 relative",children:[k&&a.jsx("div",{className:"w-full max-w-4xl mb-8 animate-in slide-in-from-top-4 duration-500",children:a.jsxs("div",{className:"bg-rose-50 border-2 border-rose-200 rounded-[2rem] p-6 flex flex-col md:flex-row items-center justify-between gap-6 shadow-xl shadow-rose-100/50",children:[a.jsxs("div",{className:"flex items-center gap-5 text-rose-900",children:[a.jsx("div",{className:"w-14 h-14 bg-rose-600 rounded-2xl flex items-center justify-center text-white shadow-lg shadow-rose-600/20",children:a.jsx(jy,{size:28})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-base font-black uppercase tracking-tight",children:"Performance Requirement: Onboarding"}),a.jsxs("p",{className:"text-xs font-medium text-rose-700/80 leading-relaxed mt-1",children:["Our service policy requires a minimum of ",a.jsx("span",{className:"font-black text-rose-900",children:"1 client onboarding per month"})," to maintain your current remuneration standing. Your account currently shows 0 activations for ",j.toLocaleString("default",{month:"long"}),"."]}),a.jsxs("p",{className:"text-[10px] font-black uppercase text-rose-600 tracking-widest mt-2 flex items-center gap-1",children:[a.jsx($l,{size:10})," Notice: Remuneration reduction may apply if not attended to."]})]})]}),a.jsx("button",{onClick:()=>i(!0),className:"w-full md:w-auto px-8 py-3 bg-rose-900 text-white rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-black transition-all active:scale-95 shadow-lg",children:"Check My Stats"})]})}),a.jsxs("div",{className:"fixed bottom-24 right-6 z-[60] flex flex-col gap-3 items-end",children:[!u&&a.jsx("button",{onClick:()=>f(!0),className:"w-12 h-12 bg-slate-900 text-white rounded-2xl shadow-xl flex items-center justify-center transition-all hover:scale-110 active:scale-95 border border-white/10 animate-in zoom-in",title:"Expand Tools",children:a.jsx(bE,{size:18})}),u&&a.jsxs("div",{className:"flex flex-col gap-3 items-end animate-in slide-in-from-bottom-5 fade-in duration-300",children:[a.jsxs("div",{className:"flex items-center gap-3 group",children:[a.jsx("span",{className:"hidden md:block opacity-0 group-hover:opacity-100 transition-all -translate-x-2 group-hover:translate-x-0 bg-slate-900 text-white text-[9px] font-black uppercase tracking-widest px-3 py-1.5 rounded-lg shadow-xl border border-white/10 whitespace-nowrap pointer-events-none",children:"Staff Guide"}),a.jsx("button",{onClick:()=>c(!0),className:"w-14 h-14 bg-white text-slate-400 rounded-2xl shadow-xl flex items-center justify-center transition-all hover:scale-110 active:scale-95 hover:text-indigo-600 border border-slate-100",title:"Staff Handbook",children:a.jsx(uE,{size:20})})]}),a.jsxs("div",{className:"flex items-center gap-3 group",children:[a.jsx("span",{className:"hidden md:block opacity-0 group-hover:opacity-100 transition-all -translate-x-2 group-hover:translate-x-0 bg-indigo-600 text-white text-[9px] font-black uppercase tracking-widest px-3 py-1.5 rounded-lg shadow-xl border border-white/10 whitespace-nowrap pointer-events-none",children:"Network Hub"}),a.jsxs("button",{onClick:()=>i(!0),className:"w-14 h-14 bg-slate-900 text-white rounded-2xl shadow-xl flex flex-col items-center justify-center transition-all hover:scale-110 active:scale-95 hover:bg-indigo-600 relative overflow-hidden group/btn",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-indigo-500/20 to-transparent opacity-0 group-hover/btn:opacity-100 transition-opacity"}),a.jsx($l,{size:22,className:"relative z-10"}),a.jsx("span",{className:"text-[7px] font-black uppercase tracking-widest mt-1 relative z-10",children:"Network"}),D.length>0&&h&&a.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-rose-500 border-2 border-white rounded-full flex items-center justify-center text-[8px] font-black animate-bounce",children:D.length})]})]}),a.jsx("button",{onClick:()=>f(!1),className:"w-8 h-8 mr-3 bg-white border border-slate-100 text-slate-300 rounded-full flex items-center justify-center hover:text-slate-600 transition-colors shadow-sm",title:"Hide Tools",children:a.jsx(_i,{size:14})})]})]}),a.jsx(Z_,{tiles:L}),a.jsx(J_,{isOpen:r,onClose:()=>i(!1),isAdmin:h,isAgent:m,myClientsCount:y.length,myTraineesCount:I.length,estimatedEarnings:B,monthActivations:S,referralLeaders:C,agentPerformance:E,questProgress:$,hasClaimed:M,onApplyForPartnership:()=>n==null?void 0:n(x,v,"Promotion to Partner Status Request")}),a.jsx(eM,{isOpen:o,onClose:()=>c(!1)})]})},nM=({client:e,assignedAgent:t,assetCount:n,activityLogs:r=[],onView:i})=>{var x;const o=!e.AssignedAgentID||String(e.AssignedAgentID)==="0"||String(e.AssignedAgentID).trim()==="",c=t?t.AgentName.split(" ")[0]:null,u=((x=t==null?void 0:t.Role)==null?void 0:x.toLowerCase())==="partner",f=r.filter(v=>String(v.ClientID)===String(e.ClientID)),d=f.length>0,h=new Date;h.setHours(0,0,0,0);const m=f==null?void 0:f.some(v=>v.FollowUpDate?new Date(v.FollowUpDate)<=h:!1);return a.jsxs("div",{onClick:()=>i(e),className:"group relative flex flex-col items-center cursor-pointer transition-transform duration-300 hover:-translate-y-1",children:[a.jsx("button",{className:"absolute -right-1 -top-1 p-2 text-slate-200 hover:text-slate-400 transition-colors z-10",children:a.jsx(vf,{size:14})}),o&&a.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 z-20 animate-pulse",children:a.jsx("div",{className:"bg-rose-500 text-white px-2 py-0.5 rounded-full text-[7px] font-black uppercase tracking-widest shadow-xl border border-white",children:"NEEDS AGENT"})}),a.jsxs("div",{className:"relative mb-3 md:mb-5",children:[a.jsx("div",{className:`w-20 h-20 md:w-32 md:h-32 rounded-full border flex items-center justify-center transition-all duration-500 group-hover:scale-105 group-hover:shadow-xl bg-white
          ${o?"border-rose-100 bg-rose-50/10":e.ClientType==="Individual"?e.Gender==="Female"?"border-rose-100 text-rose-300":"border-indigo-100 text-indigo-300":"border-slate-100 text-slate-300"}`,children:o?a.jsx(y_,{className:"w-8 h-8 md:w-12 md:h-12 text-rose-200",strokeWidth:1}):e.ClientType==="Individual"?a.jsx(At,{className:"w-8 h-8 md:w-12 md:h-12",strokeWidth:1}):a.jsx(Ei,{className:"w-8 h-8 md:w-12 md:h-12",strokeWidth:1})}),a.jsx("div",{className:`absolute bottom-0.5 right-0.5 md:bottom-2 md:right-2 w-3.5 h-3.5 md:w-5 md:h-5 rounded-full border-2 md:border-4 border-white shadow-sm
          ${e.Status===ln.Active?"bg-emerald-500":"bg-rose-500"}`}),a.jsxs("div",{className:"absolute top-0 -right-2 flex flex-col gap-1 z-20",children:[m&&a.jsx("div",{className:"bg-rose-600 text-white p-1.5 rounded-full shadow-lg border-2 border-white animate-bounce ring-4 ring-rose-500/20",title:"Follow-up Required Today",children:a.jsx(hd,{size:10,strokeWidth:3})}),d&&a.jsx("div",{className:"bg-indigo-500 text-white p-1.5 rounded-full shadow-lg border-2 border-white",title:"Has Activity History",children:a.jsx(tr,{size:10,strokeWidth:3})})]}),a.jsx("div",{className:`absolute -top-1 -left-1 px-1.5 py-0.5 rounded-md border flex items-center animate-in fade-in duration-1000 ${o?"bg-rose-50 border-rose-100 text-rose-400":"bg-white/40 border-slate-100/30 text-slate-400"} backdrop-blur-[2px]`,children:a.jsx("span",{className:"text-[6px] md:text-[8px] font-black uppercase tracking-tighter truncate max-w-[40px] md:max-w-[70px]",children:o?"Unassigned":c})}),n>0&&a.jsx("div",{className:"absolute -bottom-1 -left-1 w-5 h-5 md:w-7 md:h-7 bg-slate-50/80 backdrop-blur-[2px] text-slate-400 rounded-full border border-slate-100/50 flex items-center justify-center animate-in zoom-in duration-500",children:a.jsx("span",{className:"text-[7px] md:text-[9px] font-black leading-none",children:n})})]}),a.jsxs("div",{className:"text-center space-y-0.5 px-1 w-full",children:[a.jsx("h3",{className:`text-[10px] md:text-xs font-black uppercase tracking-tight transition-colors line-clamp-1 ${o?"text-rose-900":"text-slate-900 group-hover:text-indigo-600"}`,children:e.CompanyName}),a.jsx("p",{className:"text-[7px] md:text-[8px] font-bold text-slate-400 uppercase tracking-[0.2em] leading-none opacity-60",children:e.ClientType})]}),u&&!o&&a.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx("div",{className:"bg-indigo-600 text-white text-[6px] font-black uppercase px-2 py-0.5 rounded-full tracking-widest",children:"Partner"})})]})},rM=({clients:e,agents:t,vehicles:n=[],activityLogs:r=[],onAdd:i,onView:o,onEdit:c})=>{const[u,f]=O.useState(""),[d,h]=O.useState("All"),m=e.filter(v=>{if(!(v.CompanyName.toLowerCase().includes(u.toLowerCase())||v.Phone&&v.Phone.includes(u)||v.NRC&&v.NRC.toLowerCase().includes(u.toLowerCase())))return!1;const b=!v.AssignedAgentID||String(v.AssignedAgentID)==="0"||String(v.AssignedAgentID).trim()==="";return d==="Unassigned"?b:!0}),x=e.filter(v=>!v.AssignedAgentID||String(v.AssignedAgentID)==="0"||String(v.AssignedAgentID).trim()==="").length;return a.jsxs("div",{className:"flex flex-col h-full animate-in fade-in duration-700 overflow-hidden",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 pb-6 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-1.5 p-1 bg-slate-100 border border-slate-200 rounded-2xl w-fit",children:[a.jsx("button",{onClick:()=>h("All"),className:`px-5 py-2 text-[9px] font-black uppercase tracking-widest rounded-xl transition-all ${d==="All"?"bg-slate-900 text-white shadow-md":"text-slate-400 hover:text-slate-600"}`,children:"All Accounts"}),a.jsxs("button",{onClick:()=>h("Unassigned"),className:`px-5 py-2 text-[9px] font-black uppercase tracking-widest rounded-xl transition-all flex items-center gap-2 ${d==="Unassigned"?"bg-rose-50 text-white shadow-md":"text-slate-400 hover:text-slate-600"}`,children:[x>0&&a.jsx(pa,{size:12,className:d==="Unassigned"?"text-white":"text-rose-500"}),"Unassigned (",x,")"]})]}),a.jsxs("div",{className:"flex w-full md:max-w-lg items-center gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(hn,{size:14,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),a.jsx("input",{type:"text",placeholder:"SEARCH REGISTRY...",value:u,onChange:v=>f(v.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-100 rounded-full text-[9px] font-black text-slate-600 placeholder:text-slate-300 outline-none focus:ring-4 focus:ring-slate-100/50 transition-all uppercase tracking-widest"})]}),a.jsx("button",{onClick:i,className:"p-2.5 bg-slate-900 text-white rounded-full hover:bg-slate-800 transition-all shadow-lg active:scale-90 flex-shrink-0",children:a.jsx(zr,{size:16,strokeWidth:3})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-10 pt-2",children:a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-3 md:gap-x-8 gap-y-8 md:gap-y-12",children:m.length>0?m.map(v=>a.jsx(nM,{client:v,assignedAgent:t.find(j=>String(j.AgentID)===String(v.AssignedAgentID)),assetCount:n.filter(j=>String(j.ClientID)===String(v.ClientID)).length,activityLogs:r,onView:o},v.ClientID)):a.jsxs("div",{className:"col-span-full py-20 flex flex-col items-center opacity-10",children:[a.jsx(At,{size:40,className:"mb-2"}),a.jsx("p",{className:"text-[8px] font-black uppercase tracking-[0.5em]",children:"No Data"})]})})})]})},aM=({vehicles:e,agents:t,clients:n,onAdd:r,onView:i,onEdit:o})=>{const[c,u]=O.useState(""),f=e.filter(d=>d.NumberPlate.toLowerCase().includes(c.toLowerCase())||d.ClientName.toLowerCase().includes(c.toLowerCase())||d.Make.toLowerCase().includes(c.toLowerCase())||d.Model.toLowerCase().includes(c.toLowerCase()));return a.jsxs("div",{className:"flex flex-col h-full animate-in fade-in duration-700 overflow-hidden",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-end gap-4 pb-6 shrink-0",children:a.jsxs("div",{className:"flex w-full md:max-w-lg items-center gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(hn,{size:14,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),a.jsx("input",{type:"text",placeholder:"SEARCH FLEET...",value:c,onChange:d=>u(d.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-100 rounded-full text-[9px] font-black text-slate-600 placeholder:text-slate-300 outline-none focus:ring-4 focus:ring-slate-100/50 transition-all uppercase tracking-widest"})]}),a.jsx("button",{onClick:r,className:"p-2.5 bg-slate-900 text-white rounded-full hover:bg-slate-800 transition-all shadow-lg active:scale-90 flex-shrink-0",children:a.jsx(zr,{size:16,strokeWidth:3})})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-10 pt-2",children:a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-3 md:gap-x-8 gap-y-8 md:gap-y-12",children:f.length>0?f.map(d=>a.jsxs("div",{onClick:()=>i(d),className:"group relative flex flex-col items-center cursor-pointer transition-transform duration-300 hover:-translate-y-1",children:[a.jsx("div",{className:"absolute -right-1 -top-1 z-20 flex gap-1",children:a.jsx("button",{onClick:h=>{h.stopPropagation(),o(d)},className:"p-2 bg-white border border-slate-100 text-slate-300 hover:text-indigo-600 rounded-full transition-all shadow-md active:scale-90",children:a.jsx(Dy,{size:14})})}),a.jsxs("div",{className:"relative mb-3 md:mb-5",children:[a.jsx("div",{className:"w-20 h-20 md:w-32 md:h-32 rounded-full border border-slate-100 flex items-center justify-center transition-all duration-500 group-hover:scale-105 group-hover:shadow-xl bg-white text-slate-300",children:a.jsx(yr,{className:"w-8 h-8 md:w-12 md:h-12",strokeWidth:1})}),a.jsx("div",{className:`absolute bottom-0.5 right-0.5 md:bottom-2 md:right-2 w-3.5 h-3.5 md:w-5 md:h-5 rounded-full border-2 md:border-4 border-white shadow-sm
                      ${d.Status===Es.Active?"bg-indigo-500":"bg-orange-500"}`}),a.jsxs("div",{className:"absolute bottom-0 -left-1 px-1.5 py-0.5 bg-white/60 backdrop-blur-[2px] rounded-full border border-slate-100/30 flex items-center gap-1 animate-in slide-in-from-bottom-2 duration-700",children:[a.jsx(At,{size:8,className:"text-slate-400"}),a.jsx("span",{className:"text-[6px] md:text-[7px] font-black text-slate-400 uppercase tracking-tight truncate max-w-[50px] md:max-w-[80px]",children:d.ClientName})]}),a.jsxs("div",{className:"absolute -top-1 -right-1 px-1.5 py-0.5 bg-slate-900/90 backdrop-blur-[2px] text-white rounded-md border border-white/10 flex items-center animate-in zoom-in duration-500",children:[a.jsx(vE,{size:8,className:"text-indigo-400 mr-0.5"}),a.jsx("span",{className:"text-[7px] md:text-[9px] font-black leading-none uppercase tracking-tighter",children:d.NumberPlate})]})]}),a.jsxs("div",{className:"text-center space-y-0.5 px-1 w-full",children:[a.jsxs("h3",{className:"text-[10px] md:text-xs font-black text-slate-900 uppercase tracking-tight group-hover:text-indigo-600 transition-colors line-clamp-1",children:[d.Make," ",d.Model]}),a.jsxs("p",{className:"text-[7px] md:text-[8px] font-bold text-slate-400 uppercase tracking-[0.2em] leading-none opacity-60",children:[d.Year,"  ",d.ServiceType]})]})]},d.VehicleID)):a.jsxs("div",{className:"col-span-full py-20 flex flex-col items-center opacity-10",children:[a.jsx(yr,{size:40,className:"mb-2"}),a.jsx("p",{className:"text-[8px] font-black uppercase tracking-[0.5em]",children:"No Assets"})]})})})]})},iM=({isOpen:e,onClose:t,vehicles:n,agent:r,onSave:i})=>{const[o,c]=O.useState({}),[u,f]=O.useState(!1),[d,h]=O.useState(!0),[m,x]=O.useState("30"),v=n.length>1;O.useEffect(()=>{if(n.length>0&&e){const y=n[0],S=new Date().toISOString().split("T")[0],P=new Date;P.setDate(P.getDate()+30),c({ID:`SIM-${Math.floor(1e4+Math.random()*9e4)}`,Date:S,ExpiryDate:P.toISOString().split("T")[0],AgentID:r.id,Reference:"",Amount:50,VehicleID:y.VehicleID,Plate:y.NumberPlate,SimNumber:y.SimNumber,Network:y.NetworkProvider}),x("30")}},[n,e,r]);const j=(y,S)=>{if(!y||S==="custom")return;const P=new Date(y);P.setDate(P.getDate()+parseInt(S)),c(k=>({...k,ExpiryDate:P.toISOString().split("T")[0]}))},b=y=>{x(y),y!=="custom"&&o.Date&&j(o.Date,y)},w=async y=>{if(y.preventDefault(),!!o.ExpiryDate){f(!0);try{const S=n.map((P,k)=>({ID:`SIM-${Math.floor(1e4+Math.random()*9e4)}-${k}`,VehicleID:P.VehicleID,Plate:P.NumberPlate,SimNumber:P.SimNumber,Network:P.NetworkProvider,Amount:o.Amount||0,Date:o.Date,ExpiryDate:o.ExpiryDate,AgentID:r.id,Reference:o.Reference||"MANUAL-RENEW"}));await i(S,d),t()}catch(S){console.error("Renewal Error:",S)}finally{f(!1)}}};return!e||n.length===0?null:a.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-3 bg-slate-900/40 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"px-5 py-4 border-b border-slate-100 flex items-center justify-between bg-slate-50/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-indigo-600 text-white rounded-lg",children:v?a.jsx(Py,{size:18}):a.jsx(oa,{size:18})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-sm font-semibold text-slate-900 leading-tight",children:v?`Batch Renewal (${n.length})`:"SIM Renewal"}),a.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:"Security Protocol Active"})]})]}),a.jsx("button",{onClick:t,className:"p-1 text-slate-300 hover:text-slate-900",children:a.jsx(jt,{size:20})})]}),a.jsxs("form",{onSubmit:w,className:"p-5 space-y-4",children:[v?a.jsxs("div",{className:"bg-indigo-50 border border-indigo-100 p-3 rounded-xl",children:[a.jsx("p",{className:"text-[10px] font-semibold text-indigo-400 uppercase tracking-tighter",children:"Processing Multi-Node Renewal"}),a.jsxs("p",{className:"text-xs font-semibold text-indigo-700 mt-0.5",children:[n.length," Assets in Queue"]})]}):a.jsxs("div",{className:"bg-slate-50 border border-slate-100 p-3 rounded-xl flex items-center justify-between",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-[10px] font-semibold text-slate-400 uppercase tracking-tighter",children:"Target Plate"}),a.jsx("p",{className:"text-sm font-bold text-slate-900 font-mono tracking-tighter",children:n[0].NumberPlate})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] font-semibold text-slate-400 uppercase tracking-tighter",children:"SIM Provider"}),a.jsx("p",{className:"text-xs font-semibold text-slate-700",children:n[0].NetworkProvider})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-semibold text-slate-400 uppercase",children:"Service Plan"}),a.jsxs("select",{value:m,onChange:y=>b(y.target.value),className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg outline-none text-xs font-medium",children:[a.jsx("option",{value:"30",children:"Monthly"}),a.jsx("option",{value:"180",children:"6 Months"}),a.jsx("option",{value:"365",children:"Annual"}),a.jsx("option",{value:"custom",children:"Custom"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-semibold text-slate-400 uppercase",children:"Cost / SIM"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-slate-400 text-xs",children:"K"}),a.jsx("input",{type:"number",value:o.Amount||0,onChange:y=>c({...o,Amount:parseFloat(y.target.value)}),className:"w-full pl-6 p-2 bg-slate-50 border border-slate-200 rounded-lg text-xs font-semibold"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-semibold text-slate-400 uppercase",children:"Entry Date"}),a.jsx("input",{type:"date",value:o.Date,onChange:y=>{c({...o,Date:y.target.value}),j(y.target.value,m)},className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-xs font-medium"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-semibold text-slate-400 uppercase",children:"Expiry Node"}),a.jsx("input",{type:"date",value:o.ExpiryDate||"",onChange:y=>c({...o,ExpiryDate:y.target.value}),readOnly:m!=="custom",className:`w-full p-2 border rounded-lg text-xs font-semibold ${m==="custom"?"bg-slate-50 border-slate-200":"bg-indigo-50 border-indigo-100 text-indigo-600 cursor-not-allowed"}`})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-semibold text-slate-400 uppercase tracking-widest",children:"Network Transaction ID (Optional)"}),a.jsx("input",{value:o.Reference||"",onChange:y=>c({...o,Reference:y.target.value}),placeholder:"Ref from SMS...",className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-xs font-semibold text-indigo-600 outline-none focus:border-indigo-300"})]}),a.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-slate-900 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(sa,{size:12,className:d?"text-emerald-400":"text-slate-500"}),a.jsx("span",{className:"text-[10px] font-medium text-slate-300",children:"Notify Customer via Email"})]}),a.jsx("button",{type:"button",onClick:()=>h(!d),className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors ${d?"bg-emerald-500":"bg-slate-700"}`,children:a.jsx("span",{className:`inline-block h-3.5 w-3.5 transform rounded-full bg-white transition-transform ${d?"translate-x-4.5":"translate-x-1"}`})})]}),a.jsxs("div",{className:"pt-2 flex gap-3",children:[a.jsx("button",{type:"button",onClick:t,className:"flex-1 py-2 text-xs font-semibold text-slate-400 hover:text-slate-600",children:"Cancel"}),a.jsxs("button",{type:"submit",disabled:u,className:"flex-[2] bg-indigo-600 hover:bg-indigo-500 text-white py-2 rounded-xl text-xs font-semibold shadow-lg transition-all flex items-center justify-center gap-2",children:[u?a.jsx(Dt,{size:14,className:"animate-spin"}):a.jsx($s,{size:14}),v?"Commit Multi-Node":"Record Renewal"]})]})]})]})})},Qj=e=>{if(!e)return-1;const t=new Date(e);if(isNaN(t.getTime()))return-1;const n=new Date,r=t.getTime()-n.getTime();return Math.ceil(r/(1e3*60*60*24))},sM=({vehicles:e,simTopups:t,clients:n,currentUser:r,onTopUp:i})=>{const[o,c]=O.useState(""),[u,f]=O.useState("All"),[d,h]=O.useState([]),[m,x]=O.useState(null),[v,j]=O.useState([]),b=C=>{const E=t.filter(D=>D.VehicleID===C).sort((D,I)=>{const $=new Date(D.ExpiryDate).getTime(),B=new Date(I.ExpiryDate).getTime();return(isNaN(B)?0:B)-(isNaN($)?0:$)});return E.length>0?E[0].ExpiryDate:null},w=C=>{const E=t.filter(D=>D.VehicleID===C).sort((D,I)=>{const $=new Date(D.Date).getTime(),B=new Date(I.Date).getTime();return(isNaN(B)?0:B)-(isNaN($)?0:$)});return E.length>0?E[0].Date:null},y=O.useMemo(()=>{const C={};return e.forEach(E=>{if(u!=="All"&&E.NetworkProvider!==u)return;const D=o.toLowerCase();if(E.NumberPlate.toLowerCase().includes(D)||E.SimNumber&&E.SimNumber.toLowerCase().includes(D)||E.ClientName.toLowerCase().includes(D)){if(!C[E.ClientID]){const $=n.find(B=>B.ClientID===E.ClientID);$&&(C[E.ClientID]={client:$,items:[],stats:{}})}C[E.ClientID]&&C[E.ClientID].items.push(E)}}),Object.values(C).forEach(E=>{const D=E.items.map(L=>L.VehicleID),$=t.filter(L=>D.includes(L.VehicleID)).map(L=>new Date(L.Date).getTime()).filter(L=>!isNaN(L)),B=$.length>0?new Date(Math.max(...$)).toISOString():null,M=E.items.reduce((L,_)=>{const U=b(_.VehicleID);return!U||isNaN(new Date(U).getTime())?L:L?new Date(U)<new Date(L)?U:L:U},null),z=E.items.filter(L=>{const _=b(L.VehicleID);return Qj(_)<=0}).length;E.stats={lastMaintained:B,nextMaintenance:M,dueCount:z}}),Object.values(C).sort((E,D)=>D.stats.dueCount-E.stats.dueCount)},[e,n,t,u,o]),S=C=>x(E=>E===C?null:C),P=(C,E)=>{const D=E.every(I=>d.includes(I));h(D?I=>I.filter($=>!E.includes($)):I=>[...new Set([...I,...E])])},k=C=>{h(E=>E.includes(C)?E.filter(D=>D!==C):[...E,C])};return a.jsxs("div",{className:"flex flex-col h-full animate-in fade-in duration-500",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-3 border-b border-slate-100 mb-2 shrink-0",children:[a.jsx("div",{className:"flex items-center gap-1 p-0.5 bg-slate-100 rounded-lg shrink-0",children:["All","Airtel","MTN"].map(C=>a.jsx("button",{onClick:()=>f(C),className:`px-3 py-1 text-xs font-medium rounded-md transition-all ${u===C?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:C},C))}),a.jsxs("div",{className:"relative flex-1",children:[a.jsx(hn,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300"}),a.jsx("input",{type:"text",placeholder:"Search accounts or sims...",value:o,onChange:C=>c(C.target.value),className:"w-full pl-9 pr-4 py-2 bg-slate-50 border border-slate-100 rounded-lg text-sm font-normal text-slate-600 outline-none focus:border-indigo-200 transition-all"})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar",children:a.jsxs("table",{className:"w-full border-separate border-spacing-y-1",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-xs font-semibold text-slate-400",children:[a.jsx("th",{className:"w-10 px-2 py-2"}),a.jsx("th",{className:"text-left px-2 py-2",children:"Account Entity"}),a.jsx("th",{className:"text-left px-2 py-2 hidden md:table-cell",children:"Last Maintained"}),a.jsx("th",{className:"text-left px-2 py-2",children:"Earliest Expiry"}),a.jsx("th",{className:"text-center px-2 py-2 hidden sm:table-cell",children:"Compliance"}),a.jsx("th",{className:"w-10 px-2 py-2"})]})}),a.jsx("tbody",{children:y.length>0?y.map(({client:C,items:E,stats:D})=>{const I=m===C.ClientID,$=E.map(z=>z.VehicleID),B=$.every(z=>d.includes(z)),M=($==null?void 0:$.some(z=>d.includes(z)))&&!B;return a.jsxs(q.Fragment,{children:[a.jsxs("tr",{className:`group transition-all ${I?"bg-indigo-50/40":"hover:bg-slate-50"}`,children:[a.jsx("td",{className:"px-2 py-2.5 text-center",children:a.jsx("button",{onClick:()=>P(C.ClientID,$),className:`transition-colors ${B?"text-indigo-600":M?"text-indigo-400":"text-slate-300 hover:text-slate-400"}`,children:B?a.jsx(Tl,{size:18}):a.jsx(vd,{size:18})})}),a.jsx("td",{className:"px-2 py-2.5 cursor-pointer",onClick:()=>S(C.ClientID),children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-1.5 rounded-md border transition-colors ${I?"bg-indigo-600 border-indigo-700 text-white":"bg-white border-slate-100 text-slate-400"}`,children:a.jsx(Ei,{size:14})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:`text-sm font-semibold truncate ${I?"text-indigo-900":"text-slate-700"}`,children:C.CompanyName}),a.jsxs("p",{className:"text-[10px] text-slate-400 font-medium",children:[E.length," Assets"]})]})]})}),a.jsx("td",{className:"px-2 py-2.5 hidden md:table-cell text-sm text-slate-500",children:D.lastMaintained?a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx($r,{size:12,className:"text-slate-300"}),a.jsx("span",{children:Ce(D.lastMaintained)})]}):a.jsx("span",{className:"text-slate-300 italic text-[10px] uppercase font-bold tracking-tighter",children:"No Activity Logged"})}),a.jsx("td",{className:"px-2 py-2.5 text-sm font-medium",children:a.jsx("span",{className:D.dueCount>0?"text-rose-500":"text-emerald-600",children:Ce(D.nextMaintenance)})}),a.jsx("td",{className:"px-2 py-2.5 text-center hidden sm:table-cell",children:a.jsxs("div",{className:`inline-flex items-center gap-1.5 px-2 py-0.5 rounded-full text-[10px] font-semibold border ${D.dueCount>0?"bg-rose-50 border-rose-100 text-rose-600":"bg-emerald-50 border-emerald-100 text-emerald-600"}`,children:[D.dueCount>0?a.jsx(pa,{size:10}):a.jsx(kE,{size:10}),D.dueCount>0?`${D.dueCount} Due`:"Healthy"]})}),a.jsx("td",{className:"px-2 py-2.5 text-right",children:a.jsx("button",{onClick:()=>S(C.ClientID),className:`p-1.5 transition-all rounded-full ${I?"bg-indigo-100 text-indigo-600 rotate-180":"text-slate-300 hover:text-slate-600"}`,children:a.jsx(_i,{size:16})})})]}),I&&E.map(z=>{const L=b(z.VehicleID),_=w(z.VehicleID),U=Qj(L),G=U<=0,W=d.includes(z.VehicleID);return a.jsxs("tr",{className:"bg-white border-b border-slate-50 animate-in slide-in-from-top-1",children:[a.jsx("td",{className:"px-2 py-2 text-center pl-6",children:a.jsx("button",{onClick:()=>k(z.VehicleID),className:`transition-colors ${W?"text-indigo-600":"text-slate-200 hover:text-slate-300"}`,children:W?a.jsx(Tl,{size:16}):a.jsx(vd,{size:16})})}),a.jsx("td",{className:"px-2 py-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(oa,{size:12,className:"text-slate-300"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-xs font-semibold text-slate-600 font-mono tracking-tight",children:z.NumberPlate}),a.jsxs("span",{className:"text-[10px] text-slate-400 leading-none",children:["SIM: ",z.SimNumber||"N/A"," ",_&&`  Last Renewal: ${Ce(_)}`]})]})]})}),a.jsx("td",{className:"px-2 py-2 hidden md:table-cell text-xs text-slate-400",children:a.jsx("span",{className:"opacity-0",children:""})}),a.jsx("td",{className:"px-2 py-2",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Wt,{size:10,className:G?"text-rose-400":"text-slate-300"}),a.jsx("span",{className:`text-[11px] font-medium ${G?"text-rose-500 font-black":"text-slate-400"}`,children:G?"Expired":`${U}d left`})]})}),a.jsx("td",{className:"px-2 py-2 text-center hidden sm:table-cell",children:a.jsx("span",{className:`text-[10px] font-medium px-1.5 py-0.5 rounded border ${G?"bg-rose-50 border-rose-100 text-rose-500":"bg-slate-50 border-slate-100 text-slate-400"}`,children:z.NetworkProvider||"Unknown"})}),a.jsx("td",{className:"px-2 py-2 text-right pr-4",children:a.jsx("button",{onClick:()=>j([z]),className:"p-1.5 text-slate-300 hover:text-indigo-600 transition-colors",children:a.jsx(Ml,{size:14})})})]},z.VehicleID)})]},C.ClientID)}):a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"py-24 text-center text-slate-300 text-sm font-medium",children:"Inventory Empty"})})})]})}),d.length>0&&a.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 z-40 animate-in slide-in-from-bottom-5",children:a.jsxs("div",{className:"bg-slate-900 text-white rounded-xl py-2 px-4 flex items-center gap-6 shadow-2xl border border-white/10 backdrop-blur-md",children:[a.jsxs("span",{className:"text-xs font-semibold text-indigo-400",children:[d.length," Items Selected"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>h([]),className:"px-3 py-1.5 text-slate-400 hover:text-white text-xs font-medium",children:"Clear"}),a.jsx("button",{onClick:()=>j(e.filter(C=>d.includes(C.VehicleID))),className:"bg-indigo-600 hover:bg-indigo-500 text-white px-4 py-1.5 rounded-lg text-xs font-semibold shadow-lg flex items-center gap-2",children:"Renew Batch"})]})]})}),v.length>0&&a.jsx(iM,{isOpen:!0,onClose:()=>{j([]),h([])},vehicles:v,agent:r,onSave:i})]})},oM=({logs:e,onAdd:t,onView:n})=>{const[r,i]=O.useState(""),[o,c]=O.useState("All"),u=e.filter(d=>!(!(d.ClientName.toLowerCase().includes(r.toLowerCase())||d.Description.toLowerCase().includes(r.toLowerCase())||d.ID.toLowerCase().includes(r.toLowerCase()))||o!=="All"&&d.Status!==o)).sort((d,h)=>new Date(h.Date).getTime()-new Date(d.Date).getTime()),f=d=>{switch(d){case $n.Completed:return"bg-emerald-50 text-emerald-600 border-emerald-100";case $n.InProgress:return"bg-indigo-50 text-indigo-600 border-indigo-100";default:return"bg-amber-50 text-amber-600 border-amber-100"}};return a.jsxs("div",{className:"flex flex-col h-full animate-in fade-in duration-700 overflow-hidden",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 pb-8 shrink-0",children:[a.jsx("div",{className:"flex items-center gap-1.5 p-1 bg-slate-100 border border-slate-200 rounded-2xl w-fit overflow-x-auto no-scrollbar max-w-full",children:["All",$n.Scheduled,$n.InProgress,$n.Completed].map(d=>a.jsx("button",{onClick:()=>c(d),className:`px-5 py-2 text-[9px] font-black uppercase tracking-widest rounded-xl transition-all whitespace-nowrap ${o===d?"bg-slate-900 text-white shadow-md":"text-slate-400 hover:text-slate-600"}`,children:d},d))}),a.jsxs("div",{className:"flex w-full md:max-w-md items-center gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(hn,{size:14,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),a.jsx("input",{type:"text",placeholder:"SEARCH SERVICE LOGS...",value:r,onChange:d=>i(d.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-100 rounded-full text-[9px] font-black text-slate-600 placeholder:text-slate-300 outline-none focus:ring-4 focus:ring-slate-100/50 transition-all uppercase tracking-widest"})]}),a.jsx("button",{onClick:t,className:"p-2.5 bg-slate-900 text-white rounded-full hover:bg-slate-800 transition-all shadow-lg active:scale-90 flex-shrink-0",children:a.jsx(zr,{size:16,strokeWidth:3})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-10 pt-2",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.length>0?u.map(d=>a.jsxs("div",{onClick:()=>n(d),className:"group bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm hover:shadow-xl transition-all cursor-pointer relative overflow-hidden",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:"p-2.5 bg-slate-50 text-slate-400 rounded-xl group-hover:bg-indigo-50 group-hover:text-indigo-600 transition-colors",children:a.jsx(Rl,{size:18})}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-[8px] font-black uppercase border ${f(d.Status)}`,children:d.Status})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-sm font-black text-slate-900 uppercase truncate leading-tight",children:d.ClientName}),a.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest mt-1",children:["ID: ",d.ID]})]}),a.jsx("div",{className:"bg-slate-50 rounded-xl p-3 mb-4 min-h-[50px] border border-slate-50",children:a.jsx("p",{className:"text-[11px] text-slate-600 line-clamp-2 leading-relaxed",children:d.Description})}),a.jsxs("div",{className:"flex items-center justify-between border-t border-slate-50 pt-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Wt,{size:12,className:"text-slate-300"}),a.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:Ce(d.Date)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(yr,{size:12,className:"text-indigo-300"}),a.jsxs("span",{className:"text-[9px] font-black text-indigo-400 uppercase tracking-widest",children:[d.AssetIDs.length," Units Affected"]})]})]})]},d.ID)):a.jsxs("div",{className:"col-span-full py-24 flex flex-col items-center opacity-10",children:[a.jsx(Rl,{size:50,className:"mb-4"}),a.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.8em]",children:"No Maintenance Logs"})]})})})]})},lM=({contract:e,onView:t})=>{const n=new Date,r=()=>{const d=new Date(e.ExpiryDate),h=Math.ceil((d.getTime()-n.getTime())/(1e3*60*60*24));return h>0&&h<=30},i=()=>new Date(e.ExpiryDate)<n,o=!!e.ProviderSign&&!!e.ClientSign,c=e.ClientName.split(" ")[0],u=r(),f=i();return a.jsxs("div",{onClick:()=>t(e),className:"group relative flex flex-col items-center cursor-pointer transition-transform duration-300 hover:-translate-y-1",children:[a.jsx("button",{className:"absolute -right-1 -top-1 p-2 text-slate-200 hover:text-slate-400 transition-colors z-10",children:a.jsx(vf,{size:14})}),a.jsxs("div",{className:"relative mb-3 md:mb-5",children:[a.jsx("div",{className:`w-20 h-20 md:w-32 md:h-32 rounded-full border flex items-center justify-center transition-all duration-500 group-hover:scale-105 group-hover:shadow-xl bg-white
          ${o?"border-indigo-100 text-indigo-300 ring-4 ring-indigo-50/50":e.ContractStatus===pn.Active?f?"border-rose-100 text-rose-300":"border-emerald-100 text-emerald-300":"border-slate-100 text-slate-300"}`,children:o?a.jsx(ky,{className:"w-8 h-8 md:w-12 md:h-12",strokeWidth:1}):a.jsx(Cn,{className:"w-8 h-8 md:w-12 md:h-12",strokeWidth:1})}),a.jsx("div",{className:`absolute bottom-0.5 right-0.5 md:bottom-2 md:right-2 w-3.5 h-3.5 md:w-5 md:h-5 rounded-full border-2 md:border-4 border-white shadow-sm
          ${o?"bg-indigo-500":e.ContractStatus===pn.Active?f?"bg-rose-500 animate-pulse":"bg-emerald-500":"bg-slate-400"}`}),a.jsxs("div",{className:"absolute bottom-0 -left-1 px-1.5 py-0.5 bg-white/60 backdrop-blur-[2px] rounded-full border border-slate-100/30 flex items-center gap-1",children:[a.jsx(At,{size:8,className:"text-slate-400"}),a.jsx("span",{className:"text-[6px] md:text-[7px] font-black text-slate-400 uppercase tracking-tight truncate max-w-[50px] md:max-w-[80px]",children:c})]}),a.jsxs("div",{className:`absolute -top-1 -right-1 px-2 py-1 text-white rounded-md border border-white/10 flex items-center animate-in zoom-in duration-500 shadow-lg ${o?"bg-indigo-600":"bg-slate-900"}`,children:[a.jsx(ha,{size:8,className:o?"text-indigo-200 mr-1":"text-emerald-400 mr-1"}),a.jsxs("span",{className:"text-[7px] md:text-[9px] font-black leading-none uppercase tracking-tighter",children:["K",De(e.TotalAmount)]})]}),u&&!f&&!o&&e.ContractStatus===pn.Active&&a.jsx("div",{className:"absolute top-1/2 -left-3 -translate-y-1/2 p-1.5 bg-amber-500 text-white rounded-full border-2 border-white shadow-xl animate-pulse",children:a.jsx(Wt,{size:10})})]}),a.jsxs("div",{className:"text-center space-y-0.5 px-1 w-full",children:[a.jsx("h3",{className:`text-[10px] md:text-xs font-black uppercase tracking-tight transition-colors line-clamp-1 ${o?"text-indigo-600":"text-slate-900 group-hover:text-indigo-600"}`,children:e.PlanType}),a.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[a.jsx("p",{className:`text-[7px] md:text-[8px] font-bold uppercase tracking-[0.2em] leading-none ${o?"text-indigo-400":f?"text-rose-400":"text-slate-400 opacity-60"}`,children:o?"FULLY EXECUTED":f?"EXPIRED":`${e.NoOfUnits} UNITS  ${e.BillingCycle}`}),a.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[a.jsx(Wt,{size:8,className:o?"text-indigo-300":f?"text-rose-400":"text-slate-300"}),a.jsxs("span",{className:`text-[6px] md:text-[7px] font-black uppercase tracking-tighter ${o?"text-indigo-400":f?"text-rose-400":"text-slate-300"}`,children:["Exp: ",Ce(e.ExpiryDate)]})]})]})]})]})},cM=({contracts:e,onAdd:t,onView:n})=>{const[r,i]=O.useState(""),[o,c]=O.useState("all"),u=new Date,f=q.useMemo(()=>({active:e.filter(h=>h.ContractStatus==="Active"&&new Date(h.ExpiryDate)>=u).length,expiring:e.filter(h=>{const m=Math.ceil((new Date(h.ExpiryDate).getTime()-u.getTime())/864e5);return h.ContractStatus==="Active"&&m>0&&m<=30}).length,executed:e.filter(h=>!!h.ProviderSign&&!!h.ClientSign).length}),[e,u]),d=e.filter(h=>{if(!(h.ClientName.toLowerCase().includes(r.toLowerCase())||h.PlanType.toLowerCase().includes(r.toLowerCase())||h.ContractID.toLowerCase().includes(r.toLowerCase())))return!1;if(o==="active")return h.ContractStatus===pn.Active&&new Date(h.ExpiryDate)>=u;if(o==="expiring"){const x=Math.ceil((new Date(h.ExpiryDate).getTime()-u.getTime())/864e5);return h.ContractStatus===pn.Active&&x>0&&x<=30}return o==="executed"?!!h.ProviderSign&&!!h.ClientSign:o==="expired"?h.ContractStatus===pn.Active&&new Date(h.ExpiryDate)<u:!0});return a.jsxs("div",{className:"flex flex-col h-full animate-in fade-in duration-700 overflow-hidden",children:[a.jsxs("div",{className:"w-full grid grid-cols-1 sm:grid-cols-3 gap-3 mb-8 shrink-0",children:[a.jsxs("div",{onClick:()=>c("active"),className:`cursor-pointer p-4 rounded-3xl border flex items-center justify-between transition-all ${o==="active"?"bg-emerald-50 border-emerald-600 shadow-lg scale-[1.02]":"bg-white border-slate-100 hover:border-emerald-100"}`,children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:`text-[8px] font-black uppercase tracking-widest mb-1 ${o==="active"?"text-white/70":"text-slate-400"}`,children:"Active Contracts"}),a.jsx("span",{className:`text-xl font-black leading-none ${o==="active"?"text-white":"text-slate-900"}`,children:f.active})]}),a.jsx(mn,{size:18,className:o==="active"?"text-white":"text-emerald-500"})]}),a.jsxs("div",{onClick:()=>c("executed"),className:`cursor-pointer p-4 rounded-3xl border flex items-center justify-between transition-all ${o==="executed"?"bg-indigo-600 border-indigo-700 shadow-lg scale-[1.02]":"bg-white border-slate-100 hover:border-indigo-100"}`,children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:`text-[8px] font-black uppercase tracking-widest mb-1 ${o==="executed"?"text-white/70":"text-slate-400"}`,children:"Fully Executed"}),a.jsx("span",{className:`text-xl font-black leading-none ${o==="executed"?"text-white":"text-slate-900"}`,children:f.executed})]}),a.jsx(ky,{size:18,className:o==="executed"?"text-white":"text-indigo-500"})]}),a.jsxs("div",{onClick:()=>c("expiring"),className:`cursor-pointer p-4 rounded-3xl border flex items-center justify-between transition-all ${o==="expiring"?"bg-amber-500 border-amber-600 shadow-lg scale-[1.02]":"bg-white border-slate-100 hover:border-amber-100"}`,children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:`text-[8px] font-black uppercase tracking-widest mb-1 ${o==="expiring"?"text-white/70":"text-slate-400"}`,children:"Expiring Soon"}),a.jsx("span",{className:`text-xl font-black leading-none ${o==="expiring"?"text-white":"text-slate-900"}`,children:f.expiring})]}),a.jsx(Wt,{size:18,className:o==="expiring"?"text-white":"text-amber-500"})]})]}),a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 pb-6 shrink-0 border-t border-slate-50 pt-6",children:[a.jsx("div",{className:"flex items-center gap-1.5 p-1 bg-slate-100 border border-slate-200 rounded-2xl w-fit overflow-x-auto no-scrollbar max-w-full",children:["all","executed","active","expiring","expired"].map(h=>a.jsx("button",{onClick:()=>c(h),className:`px-4 py-1.5 text-[8px] font-black uppercase tracking-widest rounded-xl transition-all whitespace-nowrap ${o===h?"bg-slate-900 text-white":"text-slate-400 hover:text-slate-600"}`,children:h==="executed"?"Signed Both":h},h))}),a.jsxs("div",{className:"flex w-full md:max-w-lg items-center gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(hn,{size:14,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),a.jsx("input",{type:"text",placeholder:"SEARCH CONTRACTS...",value:r,onChange:h=>i(h.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-100 rounded-full text-[9px] font-black text-slate-600 placeholder:text-slate-300 outline-none focus:ring-4 focus:ring-slate-100/50 transition-all uppercase tracking-widest"})]}),a.jsx("button",{onClick:t,className:"p-2.5 bg-slate-900 text-white rounded-full hover:bg-slate-800 transition-all shadow-lg active:scale-90 flex-shrink-0",children:a.jsx(zr,{size:16,strokeWidth:3})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-10 pt-2",children:a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-3 md:gap-x-8 gap-y-8 md:gap-y-12",children:d.length>0?d.map(h=>a.jsx(lM,{contract:h,onView:n},h.ContractID)):a.jsxs("div",{className:"col-span-full py-20 flex flex-col items-center opacity-10",children:[a.jsx(Cn,{size:40,className:"mb-2"}),a.jsx("p",{className:"text-[8px] font-black uppercase tracking-[0.5em]",children:"No matching contracts"})]})})})]})},uM=({inv:e,lastPayment:t,activeMenu:n,onView:r,onToggleMenu:i,onDelete:o})=>{const c=new Date,u=new Date(e.DueDate),f=e.BalanceDue>0&&u<c&&e.DocType===st.Invoice;t&&new Date().getTime()-new Date(t.Date).getTime()<2880*60*1e3;const d=!f&&u>c&&e.Status!==wt.Paid,h=u.getTime()-c.getTime(),m=Math.ceil(h/(1e3*60*60*24)),x=()=>e.Status===wt.Paid?"bg-emerald-500 text-white ring-4 ring-emerald-500/20":f?"bg-rose-600 text-white ring-4 ring-rose-500/20 animate-pulse":e.Status===wt.Partial?"bg-amber-500 text-white ring-4 ring-amber-500/20":"bg-indigo-400 text-white ring-4 ring-indigo-500/10";return a.jsxs("div",{onClick:()=>r(e),className:"group relative flex flex-col items-center cursor-pointer transition-transform duration-300 hover:-translate-y-1",children:[a.jsxs("div",{className:"absolute -right-1 -top-1 z-20",children:[a.jsx("button",{onClick:v=>{v.stopPropagation(),i(e.InvoiceID)},className:`p-2 rounded-full transition-all ${n===e.InvoiceID?"bg-slate-900 text-white":"text-slate-200 hover:text-slate-900"}`,children:a.jsx(vf,{size:18})}),n===e.InvoiceID&&a.jsx("div",{className:"absolute right-0 mt-1 w-32 bg-white rounded-xl shadow-2xl border border-slate-100 overflow-hidden animate-in fade-in zoom-in-95 duration-150",children:a.jsx("button",{onClick:v=>{v.stopPropagation(),o(e.InvoiceID)},className:"w-full flex items-center gap-2 px-4 py-3 text-rose-600 hover:bg-rose-50 text-[9px] font-black uppercase tracking-widest",children:"Delete"})})]}),f&&a.jsx("div",{className:"absolute -left-2 -top-2 z-30",children:a.jsxs("div",{className:"bg-rose-700 text-white px-2 py-1 rounded-lg text-[8px] font-black uppercase shadow-xl flex items-center gap-1 border border-white/20",children:[a.jsx(pa,{size:10})," ",Math.abs(m)," DAYS OVERDUE"]})}),a.jsxs("div",{className:"relative mb-4 md:mb-6",children:[a.jsx("div",{className:`w-24 h-24 md:w-36 md:h-36 rounded-full border border-slate-100 flex items-center justify-center transition-all duration-500 group-hover:scale-105 group-hover:shadow-xl bg-white text-slate-200 ring-8 ${f?"ring-rose-50":d?"ring-indigo-50/50":"ring-slate-50/50"}`,children:e.DocType===st.Quotation?a.jsx(hE,{size:24}):e.DocType===st.Proforma?a.jsx(mE,{size:24}):a.jsx(Cn,{size:24})}),a.jsx("div",{className:`absolute bottom-0.5 right-0.5 md:bottom-3 md:right-3 px-2.5 py-1 rounded-full text-[8px] font-bold uppercase tracking-widest shadow-lg border-2 border-white ${x()}`,children:f?"OVERDUE":e.Status}),a.jsx("div",{className:`absolute -top-1 -right-2 px-3 py-1.5 text-white rounded-xl border border-white/10 flex items-center shadow-2xl transition-colors ${f?"bg-rose-700":e.Status==="Paid"?"bg-emerald-600":d?"bg-indigo-600":"bg-slate-900"}`,children:a.jsxs("span",{className:"text-[8px] md:text-[10px] font-black leading-none uppercase tracking-tighter",children:["K",De(f?e.BalanceDue:e.TotalAmount)]})}),a.jsxs("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 bg-slate-800 text-white px-2 py-0.5 rounded border border-slate-700 flex items-center gap-1 shadow-sm",children:[a.jsx(dE,{size:10,className:"text-indigo-400"}),a.jsxs("span",{className:"text-[8px] font-black uppercase whitespace-nowrap",children:[e.PeriodMonths||1," Mo Subscription"]})]})]}),a.jsxs("div",{className:"text-center space-y-1 px-1 w-full",children:[a.jsx("h3",{className:`text-[11px] md:text-xs font-black uppercase tracking-widest transition-colors line-clamp-1 ${f?"text-rose-700":"text-slate-900 group-hover:text-indigo-600"}`,children:e.InvoiceID}),a.jsxs("div",{className:"flex flex-col items-center gap-1",children:[a.jsx("p",{className:"text-[8px] md:text-[9px] font-bold uppercase tracking-[0.2em] leading-none text-slate-400 opacity-80",children:e.ClientName}),a.jsxs("div",{className:`flex items-center gap-2 mt-1.5 py-1 px-2 rounded-lg ${f?"bg-rose-50 text-rose-600":d?"bg-indigo-50 text-indigo-500":"bg-slate-50 text-slate-400"}`,children:[a.jsx(Wt,{size:10,className:f?"text-rose-400":d?"text-indigo-300":"text-slate-300"}),a.jsxs("span",{className:"text-[7px] md:text-[8px] font-black uppercase tracking-widest",children:[f?"EXPIRED":d?`DUE IN ${m}D`:"DUE",": ",Ce(e.DueDate)]})]})]})]})]})},dM=({invoices:e,payments:t=[],onAdd:n,onView:r,onDelete:i})=>{const[o,c]=O.useState(""),[u,f]=O.useState("All"),[d,h]=O.useState(null),m=new Date,x=O.useMemo(()=>{const b={};return t.forEach(w=>{!w.InvoiceID||w.InvoiceID==="0"||(!b[w.InvoiceID]||new Date(w.Date)>new Date(b[w.InvoiceID].Date))&&(b[w.InvoiceID]=w)}),b},[t]),v=O.useMemo(()=>{const b=e.filter(w=>{const y=new Date(w.DueDate);return w.BalanceDue>0&&y<m&&w.DocType===st.Invoice});return{count:b.length,total:b.reduce((w,y)=>w+Number(y.BalanceDue),0)}},[e,m]),j=e.filter(b=>{if(!(b.ClientName.toLowerCase().includes(o.toLowerCase())||b.InvoiceID.toLowerCase().includes(o.toLowerCase())))return!1;if(u==="Overdue"){const y=new Date(b.DueDate);return b.BalanceDue>0&&y<m&&b.DocType===st.Invoice}return!(u!=="All"&&b.DocType!==u)});return a.jsxs("div",{className:"flex flex-col h-full animate-in fade-in duration-700 overflow-hidden",onClick:()=>h(null),children:[a.jsxs("div",{className:"w-full bg-rose-50 border border-rose-100 rounded-3xl p-6 mb-8 flex flex-col md:flex-row justify-between items-center gap-4 shadow-sm shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-rose-500 text-white rounded-2xl shadow-lg",children:a.jsx(pa,{size:24})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-[10px] font-black text-rose-900 uppercase tracking-widest",children:"Revenue at Risk"}),a.jsxs("p",{className:"text-2xl font-black text-rose-900 tracking-tighter",children:["K",De(v.total)]})]})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("h4",{className:"text-[9px] font-black text-rose-400 uppercase tracking-widest",children:"Overdue Accounts"}),a.jsxs("p",{className:"text-lg font-black text-rose-900 leading-none",children:[v.count," Items"]})]}),a.jsxs("button",{onClick:()=>f("Overdue"),className:"flex items-center gap-2 bg-rose-900 text-white px-5 py-2.5 rounded-2xl text-[9px] font-black uppercase tracking-widest hover:bg-rose-800 transition-all active:scale-95",children:["Review Delinquency ",a.jsx(U4,{size:14})]})]})]}),a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 pb-8 shrink-0",children:[a.jsx("div",{className:"flex items-center gap-1.5 p-1 bg-slate-100 border border-slate-200 rounded-2xl w-fit overflow-x-auto no-scrollbar max-w-full",children:["All","Overdue",st.Invoice,st.Proforma,st.Quotation].map(b=>a.jsxs("button",{onClick:()=>f(b),className:`px-5 py-2 text-[9px] font-black uppercase tracking-widest rounded-xl transition-all whitespace-nowrap ${u===b?b==="Overdue"?"bg-rose-50 text-white":"bg-white text-slate-900 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:[b,b!=="All"&&b!=="Overdue"?"s":""]},b))}),a.jsxs("div",{className:"flex w-full md:max-w-lg items-center gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(hn,{size:14,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),a.jsx("input",{type:"text",placeholder:"SEARCH REGISTRY...",value:o,onChange:b=>c(b.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-100 rounded-full text-[9px] font-black text-slate-600 placeholder:text-slate-300 outline-none focus:ring-4 focus:ring-slate-100/50 transition-all uppercase tracking-widest"})]}),a.jsx("button",{onClick:()=>n(st.Invoice),className:"p-2.5 bg-slate-900 text-white rounded-full hover:bg-slate-800 transition-all shadow-lg active:scale-90 flex-shrink-0",children:a.jsx(zr,{size:16,strokeWidth:3})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-10 pt-2",children:a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-3 md:gap-x-8 gap-y-10 md:gap-y-16",children:j.length>0?j.map(b=>a.jsx(uM,{inv:b,lastPayment:x[b.InvoiceID],activeMenu:d,onView:r,onToggleMenu:h,onDelete:w=>{confirm(`Delete document ${w}?`)&&i(w)}},b.InvoiceID)):a.jsxs("div",{className:"col-span-full py-24 flex flex-col items-center opacity-10",children:[a.jsx(Cn,{size:50,className:"mb-4"}),a.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.8em]",children:"No records found"})]})})})]})},fM=({pay:e,activeMenu:t,onView:n,onToggleMenu:r,onDelete:i})=>{const o=()=>{switch(e.Status){case Ds.Completed:return"bg-emerald-50 text-emerald-700 border-emerald-100";case Ds.Pending:return"bg-amber-50 text-amber-700 border-amber-100";case Ds.Failed:return"bg-rose-50 text-rose-700 border-rose-100";default:return"bg-slate-400 text-white ring-4 ring-slate-400/20"}},c=()=>{switch(e.Method){case"Bank Transfer":return a.jsx(vE,{size:24});case"Mobile Money":return a.jsx(DE,{size:24});case"Card":return a.jsx(ha,{size:24});default:return a.jsx(Mi,{size:24})}};return a.jsxs("div",{onClick:()=>n(e),className:"group relative flex flex-col items-center cursor-pointer transition-transform duration-300 hover:-translate-y-1",children:[a.jsxs("div",{className:"absolute -right-1 -top-1 z-20",children:[a.jsx("button",{onClick:u=>{u.stopPropagation(),r(e.PaymentID)},className:`p-2 rounded-full transition-all ${t===e.PaymentID?"bg-slate-900 text-white":"text-slate-200 hover:text-slate-900"}`,children:a.jsx(vf,{size:18})}),t===e.PaymentID&&a.jsx("div",{className:"absolute right-0 mt-1 w-32 bg-white rounded-xl shadow-2xl border border-slate-100 overflow-hidden animate-in fade-in zoom-in-95 duration-150",children:a.jsx("button",{onClick:u=>{u.stopPropagation(),i(e.PaymentID)},className:"w-full flex items-center gap-2 px-4 py-3 text-rose-600 hover:bg-rose-50 text-[9px] font-black uppercase tracking-widest transition-colors",children:"Delete"})})]}),a.jsxs("div",{className:"relative mb-4 md:mb-6",children:[a.jsx("div",{className:"w-24 h-24 md:w-36 md:h-36 rounded-full border border-slate-100 flex items-center justify-center transition-all duration-500 group-hover:scale-105 group-hover:shadow-xl bg-white text-slate-200 ring-8 ring-slate-50/50",children:c()}),a.jsxs("div",{className:`absolute bottom-0.5 right-0.5 md:bottom-3 md:right-3 px-2.5 py-1 rounded-full text-[8px] font-bold uppercase tracking-widest shadow-lg border-2 border-white ${o()}`,children:[e.Status===Ds.Completed?a.jsx(wr,{size:10,className:"inline mr-1"}):null,e.Status]}),a.jsx("div",{className:"absolute -top-1 -right-2 px-3 py-1.5 bg-slate-900 text-white rounded-xl border border-white/10 flex items-center shadow-2xl",children:a.jsxs("span",{className:"text-[8px] md:text-[10px] font-bold leading-none uppercase tracking-tighter",children:["K",De(e.Amount)]})}),a.jsxs("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 bg-indigo-50 text-indigo-600 px-2 py-0.5 rounded border border-indigo-100 flex items-center gap-1 shadow-sm",children:[a.jsx(dE,{size:10}),a.jsxs("span",{className:"text-[8px] font-black uppercase tracking-tighter whitespace-nowrap",children:[e.MonthsCovered||1," Mo Paid"]})]})]}),a.jsxs("div",{className:"text-center space-y-1 px-1 w-full",children:[a.jsx("h3",{className:"text-[11px] md:text-xs font-black text-slate-900 uppercase tracking-widest group-hover:text-indigo-600 transition-colors line-clamp-1",children:e.Remarks||e.Reference}),a.jsxs("div",{className:"flex flex-col items-center gap-1",children:[a.jsx("p",{className:"text-[8px] md:text-[9px] font-bold uppercase tracking-[0.2em] leading-none text-slate-400 opacity-80",children:e.ClientName}),a.jsxs("div",{className:"flex items-center gap-2 mt-1.5 py-1 px-2 bg-slate-50 rounded-lg",children:[a.jsx(Wt,{size:10,className:"text-slate-300"}),a.jsx("span",{className:"text-[7px] md:text-[8px] font-bold uppercase tracking-widest text-slate-400",children:Ce(e.Date)})]})]})]})]})},pM=({payments:e,onAdd:t,onView:n,onDelete:r})=>{const[i,o]=O.useState(""),[c,u]=O.useState("All"),[f,d]=O.useState(null),h=e.filter(m=>!(!(m.ClientName.toLowerCase().includes(i.toLowerCase())||m.Reference.toLowerCase().includes(i.toLowerCase())||m.PaymentID.toLowerCase().includes(i.toLowerCase()))||c!=="All"&&m.Method!==c)).sort((m,x)=>new Date(x.Date).getTime()-new Date(m.Date).getTime());return a.jsxs("div",{className:"flex flex-col h-full animate-in fade-in duration-700 overflow-hidden",onClick:()=>d(null),children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 pb-8 shrink-0",children:[a.jsx("div",{className:"flex items-center gap-1.5 p-1 bg-slate-100 border border-slate-200 rounded-2xl w-fit overflow-x-auto no-scrollbar max-w-full",children:["All","Bank Transfer","Mobile Money","Cash","Card"].map(m=>a.jsx("button",{onClick:()=>u(m),className:`px-4 py-1.5 text-[9px] font-bold uppercase tracking-widest rounded-xl transition-all whitespace-nowrap ${c===m?"bg-white text-slate-900 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:m},m))}),a.jsxs("div",{className:"flex w-full md:max-w-lg items-center gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(hn,{size:14,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),a.jsx("input",{type:"text",placeholder:"SEARCH PAYMENTS & REF...",value:i,onChange:m=>o(m.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-100 rounded-full text-[9px] font-bold text-slate-600 placeholder:text-slate-300 outline-none focus:ring-4 focus:ring-slate-100/50 transition-all uppercase tracking-widest"})]}),a.jsx("button",{onClick:t,className:"p-2.5 bg-slate-900 text-white rounded-full hover:bg-slate-800 transition-all shadow-lg active:scale-90 flex-shrink-0",children:a.jsx(zr,{size:16,strokeWidth:3})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-10 pt-2",children:a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-3 md:gap-x-8 gap-y-10 md:gap-y-16",children:h.length>0?h.map(m=>a.jsx(fM,{pay:m,activeMenu:f,onView:()=>n(m),onToggleMenu:d,onDelete:x=>{confirm(`Delete transaction ${x}?`)&&r(x)}},m.PaymentID)):a.jsxs("div",{className:"col-span-full py-24 flex flex-col items-center opacity-10",children:[a.jsx(ha,{size:50,className:"mb-4"}),a.jsx("p",{className:"text-[10px] font-bold uppercase tracking-[0.8em]",children:"No payments recorded"})]})})})]})},hM=({agents:e,clients:t,contracts:n,payments:r,vehicles:i,systemSettings:o,currentUser:c,notifications:u=[]})=>{const[f,d]=O.useState(""),[h,m]=O.useState(null),[x,v]=O.useState("revenue"),j=(c==null?void 0:c.role)==="Admin",b=(c==null?void 0:c.role)==="Agent",w=(c==null?void 0:c.role)==="Partner",y=new Date,S=y.getMonth(),P=y.getFullYear();O.useEffect(()=>{(b||w)&&(c!=null&&c.id)&&!h&&m(c.id)},[b,w,c,h]);const k=O.useMemo(()=>e.map(E=>{const D=t.filter(_=>String(_.AssignedAgentID).trim().toLowerCase()===String(E.AgentID).trim().toLowerCase()),I=Number(E.CommissionRate||10),$=r.filter(_=>{const U=new Date(_.Date);return String(_.AgentID).trim().toLowerCase()===String(E.AgentID).trim().toLowerCase()&&U.getMonth()===S&&U.getFullYear()===P}),B=$.reduce((_,U)=>_+Number(U.Amount),0),z=B*(I/100)+Number(E.BaseSalary||0)+Number(E.PerformanceBonus||0),L=u.filter(_=>_.Type==="PAYOUT_REQUEST"&&String(_.ID).includes(String(E.AgentID))).sort((_,U)=>new Date(U.Time).getTime()-new Date(_.Time).getTime());return{...E,portfolioRevenue:B,totalClientsCount:D.length,effectiveRate:I,currentMonthLogs:$.sort((_,U)=>new Date(U.Date).getTime()-new Date(_.Date).getTime()),payoutHistory:L,payout:z}}).filter(E=>E.AgentName.toLowerCase().includes(f.toLowerCase())),[e,t,r,u,S,P]),C=k.find(E=>String(E.AgentID).trim().toLowerCase()===String(h||"").trim().toLowerCase());return a.jsxs("div",{className:"flex flex-col h-full overflow-hidden animate-in fade-in duration-500 max-w-full",children:[!j&&!C&&a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center opacity-50",children:[a.jsx(Dt,{className:"animate-spin mb-4"}),a.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest",children:"Loading Account Data..."})]}),j&&!C&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"w-full bg-slate-900 rounded-2xl p-4 mb-4 shadow-lg border border-slate-800 shrink-0 flex flex-col sm:flex-row justify-between items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-indigo-500 rounded-lg flex items-center justify-center text-white",children:a.jsx(Mi,{size:16})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-[7px] font-black text-indigo-400 uppercase tracking-widest leading-none mb-1",children:"Payroll Settlement Engine"}),a.jsxs("p",{className:"text-lg font-black text-white tracking-tighter leading-none",children:["K",De(k.reduce((E,D)=>E+D.payout,0))]})]})]}),a.jsxs("div",{className:"relative w-full sm:w-48",children:[a.jsx(hn,{size:12,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500"}),a.jsx("input",{type:"text",placeholder:"SEARCH STAFF...",value:f,onChange:E=>d(E.target.value),className:"w-full pl-9 pr-3 py-1.5 bg-white/5 border border-white/10 rounded-lg text-[8px] font-black text-white uppercase outline-none focus:bg-white/10 transition-all"})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-6 px-1",children:a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3",children:k.map(E=>a.jsxs("div",{onClick:()=>m(E.AgentID),className:"bg-white p-4 rounded-2xl border border-slate-100 shadow-sm hover:border-indigo-200 cursor-pointer transition-all",children:[a.jsx("div",{className:"w-10 h-10 bg-slate-50 rounded-full flex items-center justify-center text-slate-300 mb-3 mx-auto",children:a.jsx(At,{size:20})}),a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-[10px] font-black text-slate-800 uppercase truncate",children:E.AgentName}),a.jsxs("p",{className:"text-xs font-black text-emerald-600 mt-1",children:["K",De(E.payout)]}),a.jsxs("p",{className:"text-[8px] font-bold text-slate-400 uppercase mt-1",children:[E.effectiveRate,"% Rate"]})]})]},E.AgentID))})})]}),C&&a.jsxs("div",{className:"flex-1 bg-white rounded-[1.5rem] border border-slate-100 shadow-xl flex flex-col overflow-hidden animate-in zoom-in duration-300",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-50 bg-slate-50/30 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-xl bg-slate-200 text-slate-500",children:a.jsx(At,{size:16})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h2",{className:"text-sm font-black text-slate-800 uppercase tracking-tight truncate leading-none mb-1",children:C.AgentName}),a.jsxs("p",{className:"text-[8px] font-bold text-slate-400 uppercase tracking-widest leading-none",children:["Fixed Rate: ",C.effectiveRate,"%"]})]})]}),j&&a.jsx("button",{onClick:()=>m(null),className:"p-1.5 text-slate-300 hover:text-slate-900 transition-colors",children:a.jsx(jt,{size:18})})]}),a.jsxs("div",{className:"flex border-b border-slate-100 px-6 bg-white shrink-0",children:[a.jsxs("button",{onClick:()=>v("revenue"),className:`px-4 py-3 text-[9px] font-black uppercase tracking-widest border-b-2 transition-all flex items-center gap-2 ${x==="revenue"?"border-indigo-600 text-indigo-600":"border-transparent text-slate-400 hover:text-slate-600"}`,children:[a.jsx(Ln,{size:14})," Revenue Pool"]}),a.jsxs("button",{onClick:()=>v("payouts"),className:`px-4 py-3 text-[9px] font-black uppercase tracking-widest border-b-2 transition-all flex items-center gap-2 ${x==="payouts"?"border-indigo-600 text-indigo-600":"border-transparent text-slate-400 hover:text-slate-600"}`,children:[a.jsx(_l,{size:14})," Payout Ledger"]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-5 space-y-6 no-scrollbar bg-slate-50/20",children:x==="revenue"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-indigo-600 p-6 rounded-3xl text-white shadow-xl relative overflow-hidden",children:[a.jsx("div",{className:"absolute right-0 top-0 p-8 opacity-10 rotate-12",children:a.jsx(lo,{size:100})}),a.jsx("p",{className:"text-[10px] font-black text-indigo-200 uppercase tracking-widest mb-2",children:"Month Net Earnings"}),a.jsxs("h3",{className:"text-3xl font-black tracking-tighter",children:["K",De(C.payout)]}),a.jsxs("div",{className:"mt-4 flex gap-2",children:[a.jsxs("span",{className:"text-[8px] font-black bg-white/20 px-2 py-0.5 rounded uppercase",children:["Base: K",De(C.BaseSalary||0)]}),a.jsxs("span",{className:"text-[8px] font-black bg-white/20 px-2 py-0.5 rounded uppercase",children:["Comm: ",C.effectiveRate,"%"]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm flex flex-col justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Managed Volume"}),a.jsxs("h3",{className:"text-2xl font-black text-slate-900 tracking-tighter",children:["K",De(C.portfolioRevenue)]})]}),a.jsxs("div",{className:"pt-2 border-t border-slate-50 flex justify-between items-center",children:[a.jsxs("span",{className:"text-[9px] font-bold text-slate-400 uppercase",children:[C.totalClientsCount," Active Clients"]}),a.jsx(AE,{size:14,className:"text-indigo-400"})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2 px-1",children:[a.jsx(Ln,{size:14})," Revenue Log (Current Cycle)"]}),a.jsx("div",{className:"space-y-2",children:C.currentMonthLogs.length>0?C.currentMonthLogs.map(E=>a.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-slate-100 flex items-center justify-between shadow-sm",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-800 uppercase truncate mb-1",children:E.ClientName}),a.jsxs("p",{className:"text-[8px] font-bold text-slate-400 uppercase",children:[Ce(E.Date),"  Ref: ",E.Reference]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-xs font-black text-slate-900 leading-none",children:["K",De(E.Amount)]}),a.jsxs("p",{className:"text-[8px] font-bold text-emerald-600 uppercase mt-1",children:["+",E.MonthsCovered||1," Mo"]})]})]},E.PaymentID)):a.jsx("div",{className:"py-12 text-center opacity-10 text-[10px] font-black uppercase tracking-widest",children:"No matching payments found"})})]})]}):a.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between px-1",children:[a.jsxs("h3",{className:"text-[10px] font-black text-slate-900 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Wt,{size:14})," Historical Settlements"]}),a.jsxs("span",{className:"text-[8px] font-bold text-slate-400 uppercase",children:[C.payoutHistory.length," Records"]})]}),a.jsx("div",{className:"space-y-3",children:C.payoutHistory.length>0?C.payoutHistory.map(E=>{var D;return a.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-slate-100 shadow-sm flex items-center justify-between group hover:border-emerald-200 transition-all",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`p-2.5 rounded-xl ${E.Status==="Read"?"bg-emerald-50 text-emerald-600":"bg-amber-50 text-amber-700"}`,children:E.Status==="Read"?a.jsx(wr,{size:16}):a.jsx(Wt,{size:16})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[11px] font-black text-slate-900 uppercase tracking-tight",children:E.Message.split(": ")[0]}),a.jsxs("p",{className:"text-[9px] font-bold text-slate-500 mt-0.5",children:[Ce(E.Time),"  ",E.Status==="Read"?"Settlement Finalized":"Pending Verification"]})]})]}),a.jsx("div",{className:"text-right",children:a.jsx("p",{className:`text-sm font-black tracking-tighter ${E.Status==="Read"?"text-emerald-600":"text-slate-900"}`,children:(D=E.Message.split("K")[1])!=null&&D.split(" ")[0]?"K"+E.Message.split("K")[1].split(" ")[0]:"View Request"})})]},E.ID)}):a.jsxs("div",{className:"py-20 flex flex-col items-center opacity-20 select-none",children:[a.jsx(_l,{size:48,className:"mb-4"}),a.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em]",children:"No Payout History Found"})]})})]})})]})]})},mM=({currentPartner:e,isPendingReview:t,principal:n,share:r,termMonths:i,monthlyCapital:o,setShowNegotiationModal:c,setShowSigningModal:u})=>{var f;return e.PartnerPayoutModel,na.PrincipalPlusInterest,a.jsx("div",{className:"flex flex-col h-full bg-slate-50 p-6 md:p-12 overflow-y-auto no-scrollbar animate-in fade-in duration-700",children:a.jsxs("div",{className:"max-w-4xl mx-auto w-full space-y-8",children:[a.jsxs("div",{className:"text-center space-y-3",children:[a.jsx("div",{className:"w-16 h-16 bg-white rounded-3xl shadow-xl flex items-center justify-center text-amber-500 mx-auto border border-amber-100",children:a.jsx(Ay,{size:32})}),a.jsx("h1",{className:"text-3xl font-black text-slate-900 uppercase tracking-tighter",children:"Agreement Review"}),a.jsx("p",{className:"text-slate-500 font-medium max-w-md mx-auto",children:"Please review and authorize the professional partnership terms drafted by the Admin."})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-200 shadow-2xl overflow-hidden relative",children:[a.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5",children:a.jsx(Cy,{size:120})}),a.jsxs("div",{className:"p-8 border-b border-slate-100 flex items-center justify-between bg-slate-50/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-2 h-2 rounded-full animate-pulse ${t?"bg-indigo-500":"bg-slate-300"}`}),a.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:["Status: ",t?"Ready for Signature":((f=e.InvestmentStatus)==null?void 0:f.replace(/([A-Z])/g," $1").trim())||"Terms Pending"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase",children:"Registry Reference"}),a.jsxs("p",{className:"text-xs font-black text-slate-900 uppercase",children:["PARTNER-",e.AgentID]})]})]}),a.jsxs("div",{className:"p-10 grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Active Principal"}),a.jsxs("p",{className:"text-3xl font-black text-slate-900 tracking-tighter",children:["K",De(n)]}),a.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase",children:"Capital Commitment"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Equity Allocation"}),a.jsxs("p",{className:"text-3xl font-black text-indigo-600 tracking-tighter",children:[r,"%"]}),a.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase",children:"On Global Sales Volume"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Agreement Term"}),a.jsxs("p",{className:"text-3xl font-black text-slate-900 tracking-tighter",children:[i," Mo"]}),a.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase",children:"Maturity Horizon"})]})]}),a.jsxs("div",{className:"mx-10 mb-8 p-6 bg-slate-900 text-white rounded-3xl grid grid-cols-1 md:grid-cols-2 gap-8 relative overflow-hidden",children:[a.jsx("div",{className:"absolute right-0 top-0 p-8 opacity-5",children:a.jsx(yf,{size:100})}),a.jsxs("div",{className:"space-y-4 relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-indigo-500 rounded-xl text-white shadow-lg",children:a.jsx(Ln,{size:20})}),a.jsx("h4",{className:"text-[11px] font-black uppercase tracking-widest",children:"Yield Mechanism"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-bold text-white uppercase",children:e.PartnerPayoutModel===na.InterestOnly?"Capital Preservation":"Amortized Recovery"}),a.jsx("p",{className:"text-[10px] text-slate-400 leading-relaxed",children:e.PartnerPayoutModel===na.InterestOnly?"Principal remains locked for the duration. Monthly payouts consist of profit share only.":"Monthly payouts include a portion of your principal + profit share for gradual capital exit."})]})]}),a.jsxs("div",{className:"space-y-4 relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-emerald-500 rounded-xl text-white shadow-lg",children:a.jsx(AE,{size:20})}),a.jsx("h4",{className:"text-[11px] font-black uppercase tracking-widest",children:"Risk Mitigation"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-bold text-white uppercase",children:e.SmartYieldActive?"SmartYield Enabled":"Standard Yield"}),a.jsx("p",{className:"text-[10px] text-slate-400 leading-relaxed",children:e.SmartYieldActive?`Stabilized returns capped at ${e.MaxMonthlyROI}% ROI per month to ensure long-term solvency.`:"Variable returns based strictly on monthly unified sales performance."})]})]})]}),a.jsxs("div",{className:"mx-10 mb-8 p-6 bg-slate-50 border border-slate-100 rounded-3xl grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white rounded-2xl shadow-sm text-indigo-600",children:a.jsx(gf,{size:24})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Monthly Principal Exit"}),a.jsxs("p",{className:"text-xl font-black text-slate-900 leading-none mt-1",children:["K",De(o)]})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white rounded-2xl shadow-sm text-emerald-600",children:a.jsx(lo,{size:24})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Guaranteed Draw"}),a.jsxs("p",{className:"text-xl font-black text-slate-900 leading-none mt-1",children:["K",De(e.BaseSalary)]})]})]})]}),e.ProposalNotes&&a.jsxs("div",{className:"mx-10 mb-10 p-6 bg-indigo-50 border border-indigo-100 text-indigo-900 rounded-3xl relative overflow-hidden",children:[a.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10",children:a.jsx(tr,{size:40})}),a.jsx("h4",{className:"text-[10px] font-black uppercase text-indigo-400 mb-2",children:"Internal Proposal Addendum"}),a.jsxs("p",{className:"text-sm font-medium italic leading-relaxed text-indigo-800",children:['"',e.ProposalNotes,'"']})]}),a.jsxs("div",{className:"p-10 bg-slate-100 border-t border-slate-200 flex flex-col md:flex-row gap-4",children:[a.jsxs("button",{onClick:()=>c(!0),className:"flex-1 px-8 py-4 bg-white border-2 border-slate-200 text-slate-600 rounded-2xl text-[10px] font-black uppercase tracking-widest hover:border-amber-400 transition-all flex items-center justify-center gap-2",children:[a.jsx(tr,{size:16})," Negotiate Terms"]}),a.jsxs("button",{onClick:()=>u(!0),disabled:!t,className:`flex-1 px-8 py-4 rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-xl flex items-center justify-center gap-2 transition-all ${t?"bg-slate-900 text-white hover:bg-emerald-600":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:[a.jsx(gd,{size:16})," ",t?"Authorize & Sign Agreement":"Draft Status: Awaiting Publication"]})]})]})]})})},xM=({principal:e,share:t,payoutModel:n,setShowDepositModal:r})=>a.jsxs("div",{className:"bg-slate-900 rounded-[2.5rem] p-8 mb-8 text-white relative overflow-hidden shadow-2xl border border-slate-800",children:[a.jsx("div",{className:"absolute right-0 top-0 p-12 opacity-10 rotate-12",children:a.jsx(Ty,{size:180})}),a.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-center gap-8",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"w-16 h-16 bg-amber-500 rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(Cy,{size:32})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-[10px] font-black text-amber-400 uppercase tracking-[0.3em] mb-1",children:"Active Share Principal"}),a.jsxs("p",{className:"text-4xl font-black tracking-tighter",children:["K",De(e)]}),a.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[a.jsxs("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest flex items-center gap-1",children:[a.jsx(Ln,{size:12,className:"text-emerald-500"})," Share: ",t,"% Revenue Node"]}),a.jsxs("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest flex items-center gap-1",children:[a.jsx(lo,{size:12,className:"text-indigo-400"})," Model: ",n===na.InterestOnly?"Capital Preservation":"Amortized Recovery"]})]})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("button",{onClick:()=>r(!0),className:"px-8 py-3 bg-white text-slate-900 rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-amber-400 transition-all active:scale-95 flex items-center gap-2 shadow-xl",children:[a.jsx(zr,{size:16})," Increase Principal"]}),a.jsxs("div",{className:"px-8 py-3 bg-emerald-500 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest flex items-center gap-2 shadow-xl border border-emerald-400",children:[a.jsx(mn,{size:16})," Authenticated Partner"]})]})]})]}),gM=({monthsRemaining:e,progressPercent:t,endDate:n,baseSalary:r,equityShare:i})=>a.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 animate-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm flex flex-col justify-between h-[160px]",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Maturity Progress"}),a.jsxs("div",{className:"flex items-end justify-between mb-3",children:[a.jsxs("h3",{className:"text-2xl font-black text-slate-900",children:[e," Months Remaining"]}),a.jsxs("span",{className:"text-xs font-bold text-amber-600",children:[t.toFixed(0),"%"]})]}),a.jsx("div",{className:"h-3 w-full bg-slate-100 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-amber-500 transition-all duration-1000",style:{width:`${t}%`}})})]}),a.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase mt-4",children:["Termination Node: ",Ce(n)]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm flex flex-col justify-between h-[160px]",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Operational Draw"}),a.jsxs("h3",{className:"text-2xl font-black text-slate-900 tracking-tighter",children:["K",De(r)]})]}),a.jsx("div",{className:"pt-2 border-t border-slate-50",children:a.jsxs("span",{className:"text-[9px] font-bold text-emerald-600 uppercase tracking-widest flex items-center gap-1",children:[a.jsx($s,{size:10})," Guaranteed Disbursement"]})})]}),a.jsxs("div",{className:"bg-amber-900 p-6 rounded-3xl shadow-xl flex flex-col justify-between relative overflow-hidden h-[160px]",children:[a.jsx("div",{className:"absolute -right-4 -bottom-4 opacity-10",children:a.jsx(lo,{size:120})}),a.jsx("p",{className:"text-[10px] font-black text-amber-200/60 uppercase tracking-widest mb-4",children:"Equity Participation"}),a.jsxs("h3",{className:"text-2xl font-black text-white leading-tight",children:[i,"% Variable Performance Allocation"]})]})]}),a.jsxs("div",{className:"bg-white rounded-[2rem] p-8 border border-slate-100 shadow-sm",children:[a.jsx("div",{className:"flex justify-between items-center mb-8",children:a.jsxs("h3",{className:"text-xs font-black text-slate-900 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Ln,{size:16,className:"text-amber-500"})," Monthly Growth Trend"]})}),a.jsx("div",{className:"h-64 flex items-end justify-between gap-4 px-4",children:[40,45,42,55,60,58,65,75,80,78,85,95].map((o,c)=>a.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2 group",children:[a.jsxs("div",{className:"w-full relative",children:[a.jsx("div",{className:"bg-indigo-500 rounded-t-lg transition-all duration-700 w-full group-hover:bg-indigo-400",style:{height:`${o*.8}px`}}),a.jsx("div",{className:"bg-amber-500 rounded-t-lg transition-all duration-700 w-full absolute bottom-0 opacity-50",style:{height:`${o*.4}px`}})]}),a.jsx("span",{className:"text-[7px] font-black text-slate-300 uppercase",children:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][c]})]},c))})]})]}),vM=({salesForce:e})=>a.jsxs("div",{className:"max-w-6xl mx-auto animate-in slide-in-from-right-4 duration-500",children:[a.jsx("div",{className:"flex items-center justify-between mb-8",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black text-slate-900 uppercase tracking-tight",children:"Active Sales Team"}),a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Personnel contributing to the global revenue pool"})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(t=>a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm hover:shadow-lg transition-all group",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("div",{className:"w-14 h-14 bg-slate-50 rounded-2xl flex items-center justify-center text-slate-300 group-hover:bg-amber-50 transition-colors",children:a.jsx(At,{size:28})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-black text-slate-900 uppercase tracking-tight",children:t.AgentName}),a.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase mt-0.5",children:t.Department})]})]}),a.jsx("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-slate-50",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-[8px] font-black text-slate-300 uppercase mb-1",children:"Status"}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-[7px] font-black uppercase ${t.Status==="Active"?"bg-emerald-50 text-emerald-600":"bg-slate-100 text-slate-400"}`,children:t.Status})]})})]},t.AgentID))})]}),yM=({currentPartner:e})=>a.jsx("div",{className:"max-w-4xl mx-auto animate-in fade-in zoom-in duration-500",children:a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-200 shadow-2xl overflow-hidden p-12",children:[a.jsxs("div",{className:"flex justify-between items-start mb-12 border-b border-slate-100 pb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-black text-slate-900 uppercase tracking-tighter mb-2",children:"Master Shareholder Agreement"}),a.jsxs("p",{className:"text-[10px] font-bold text-amber-600 uppercase tracking-[0.3em]",children:["Binding Partnership Terms  Ref: PARTNER-",e.AgentID]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase",children:"Effective Since"}),a.jsx("p",{className:"text-sm font-black text-slate-900",children:Ce(e.InvestmentSignedDate)})]})]}),a.jsxs("div",{className:"space-y-8 text-slate-600 text-sm leading-relaxed max-h-[600px] overflow-y-auto pr-6 custom-scrollbar",children:[a.jsxs("section",{children:[a.jsxs("h4",{className:"font-black text-slate-900 uppercase text-xs mb-3 flex items-center gap-2",children:[a.jsx("div",{className:"w-1 h-4 bg-amber-500 rounded-full"})," 1. FINANCIAL POSITION"]}),a.jsxs("p",{children:["The Partner maintains an active investment principal of ",a.jsxs("strong",{children:["K",De(e.InvestmentPrincipal)]}),". The company acknowledges receipt of this capital, which grants the Partner a preferential right to ",a.jsxs("strong",{children:[e.EquityShare,"%"]})," of the gross monthly sales revenue generated by the unified sales force."]})]}),a.jsxs("section",{children:[a.jsxs("h4",{className:"font-black text-slate-900 uppercase text-xs mb-3 flex items-center gap-2",children:[a.jsx("div",{className:"w-1 h-4 bg-amber-500 rounded-full"})," 2. DISBURSEMENT PROTOCOL"]}),a.jsx("p",{children:"Profits are calculated based on realized monthly collections. Payouts are dispatched on the company's standard disbursement cycle. In the event of an Amortized Recovery model, the Principal portion of the payout is treated as a return of capital, and the variable portion as investment yield."})]}),a.jsxs("section",{children:[a.jsxs("h4",{className:"font-black text-slate-900 uppercase text-xs mb-3 flex items-center gap-2",children:[a.jsx("div",{className:"w-1 h-4 bg-amber-500 rounded-full"})," 3. GOVERNANCE"]}),a.jsxs("p",{children:["This agreement remains in effect for ",a.jsxs("strong",{children:[e.InvestmentTermMonths," months"]}),". Early termination or withdrawal of principal requires a standard 90-day written notice to ensure fleet operational continuity is not disrupted by capital fluctuations."]})]})]}),a.jsxs("div",{className:"mt-12 pt-8 border-t border-slate-100 grid grid-cols-2 gap-12",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"For Sally Chanza Business Caf"}),a.jsx("div",{className:"h-16 border-b border-slate-200 flex items-end pb-2 italic text-slate-400 font-serif text-lg",children:"Sally Chanza"}),a.jsx("p",{className:"text-[11px] font-bold text-slate-700 uppercase",children:"Director & Administrator"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Shareholder Authorization"}),a.jsx("div",{className:"h-16 border-b border-slate-200 flex items-end pb-2",children:a.jsx("img",{src:e.InvestmentSignature,alt:"Signature",className:"h-14 mix-blend-multiply"})}),a.jsxs("p",{className:"text-[11px] font-bold text-slate-700 uppercase",children:[e.AgentName,"  Partner"]})]})]})]})}),Zj=({showDepositModal:e,setShowDepositModal:t,depositAmount:n,setDepositAmount:r,handleDeposit:i,isProcessing:o,showNegotiationModal:c,setShowNegotiationModal:u,counterShare:f,setCounterShare:d,counterTerm:h,setCounterTerm:m,counterNote:x,setCounterNote:v,handleCounterPropose:j})=>a.jsxs(a.Fragment,{children:[e&&a.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white rounded-[2rem] shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-50 flex justify-between items-center bg-slate-50/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-amber-100 text-amber-600 rounded-xl",children:a.jsx(Zg,{size:20})}),a.jsx("h3",{className:"font-black text-slate-900 uppercase text-sm",children:"Principal Injection"})]}),a.jsx("button",{onClick:()=>t(!1),children:a.jsx(jt,{size:20,className:"text-slate-300"})})]}),a.jsx("div",{className:"p-10 space-y-6",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Contribution (ZMW)"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-xl font-black text-slate-300",children:"K"}),a.jsx("input",{autoFocus:!0,type:"number",value:n,onChange:b=>r(Number(b.target.value)),className:"w-full pl-10 p-5 bg-slate-50 border border-slate-100 rounded-2xl outline-none text-3xl font-black"})]})]})}),a.jsxs("div",{className:"p-8 bg-slate-50 flex gap-4",children:[a.jsx("button",{onClick:()=>t(!1),className:"flex-1 px-6 py-3 text-[10px] font-black uppercase text-slate-400",children:"Cancel"}),a.jsx("button",{onClick:i,disabled:o||n<=0,className:"flex-1 bg-slate-900 text-white px-6 py-3 rounded-2xl text-[10px] font-black uppercase shadow-xl",children:"Confirm Capital"})]})]})}),c&&a.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white rounded-[2rem] shadow-2xl w-full max-w-lg overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-50 flex justify-between items-center",children:[a.jsx("h3",{className:"font-black text-slate-900 uppercase text-sm",children:"Negotiation Panel"}),a.jsx("button",{onClick:()=>u(!1),children:a.jsx(jt,{size:20,className:"text-slate-300"})})]}),a.jsxs("div",{className:"p-10 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Target Share (%)"}),a.jsx("input",{type:"number",step:"0.1",value:f,onChange:b=>d(Number(b.target.value)),className:"w-full p-3 bg-slate-50 border rounded-xl outline-none font-black text-indigo-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Target Term (Mo)"}),a.jsx("input",{type:"number",value:h,onChange:b=>m(Number(b.target.value)),className:"w-full p-3 bg-slate-50 border rounded-xl outline-none font-black text-slate-900"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Rationale"}),a.jsx("textarea",{value:x,onChange:b=>v(b.target.value),placeholder:"Explain your suggested changes...",className:"w-full h-32 p-4 bg-slate-50 border border-slate-100 rounded-2xl outline-none text-sm font-medium resize-none focus:ring-4 focus:ring-indigo-50"})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 flex gap-4",children:[a.jsx("button",{onClick:()=>u(!1),className:"flex-1 px-6 py-3 text-[10px] font-black uppercase text-slate-400",children:"Cancel"}),a.jsx("button",{onClick:j,className:"flex-1 bg-amber-500 text-white px-6 py-3 rounded-2xl text-[10px] font-black uppercase",children:"Submit Counter-Offer"})]})]})})]}),bM=({data:e,onUpdatePartner:t})=>{const[n,r]=O.useState("wealth"),[i,o]=O.useState(!1),[c,u]=O.useState(!1),[f,d]=O.useState(!1),[h,m]=O.useState(0),[x,v]=O.useState(!1),[j,b]=O.useState(0),[w,y]=O.useState(0),[S,P]=O.useState(""),k=e.agents.find(W=>{var K;return W.AgentID===((K=e.currentUser)==null?void 0:K.id)}),C=e.agents.filter(W=>W.Role==="Agent"||W.Role==="Support"),E=O.useMemo(()=>k?(e.notifications||[]).filter(W=>W.Type==="PAYOUT_REQUEST"&&String(W.ID).includes(String(k.AgentID))).sort((W,K)=>new Date(K.Time).getTime()-new Date(W.Time).getTime()):[],[e.notifications,k]);if(!k)return null;const D=k.InvestmentStatus===an.Active,I=k.InvestmentStatus===an.UnderReview,$=Number(k.InvestmentTermMonths||12),B=k.InvestmentDate?new Date(k.InvestmentDate):new Date,M=new Date(B);M.setMonth(M.getMonth()+$);const z=Math.max(0,Math.ceil((M.getTime()-new Date().getTime())/(1e3*60*60*24*30.44))),L=Math.min(100,Math.max(0,($-z)/$*100)),_=async()=>{if(!(!k||h<=0)){v(!0);try{await t({...k,InvestmentPrincipal:(k.InvestmentPrincipal||0)+h}),m(0),o(!1)}finally{v(!1)}}},U=async()=>{v(!0);try{await t({...k,EquityShare:j,InvestmentTermMonths:w,ProposalNotes:`PARTNER SUGGESTION: ${S}`,InvestmentStatus:an.CounterProposed}),d(!1)}finally{v(!1)}},G=async(W,K,X)=>{v(!0);try{await t({...k,InvestmentSignature:X,InvestmentSignedDate:new Date().toISOString(),InvestmentStatus:an.Active}),u(!1)}finally{v(!1)}};return D?a.jsxs("div",{className:"flex flex-col h-full animate-in fade-in duration-500 overflow-hidden",children:[a.jsx(xM,{principal:k.InvestmentPrincipal,share:k.EquityShare,payoutModel:k.PartnerPayoutModel,setShowDepositModal:o}),a.jsx("div",{className:"flex border-b border-gray-100 bg-white px-6 shrink-0",children:[{id:"wealth",label:"Node Performance"},{id:"team",label:"Sales Distribution"},{id:"history",label:"Payout History"},{id:"legal",label:"MSA Record"}].map(W=>a.jsx("button",{onClick:()=>r(W.id),className:`px-6 py-4 text-[10px] font-black tracking-widest border-b-2 transition-colors uppercase ${n===W.id?"border-amber-600 text-amber-600":"border-transparent text-gray-400 hover:text-slate-600"}`,children:W.label},W.id))}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-8 no-scrollbar bg-slate-50/30",children:[n==="wealth"&&a.jsx(gM,{monthsRemaining:z,progressPercent:L,endDate:M.toISOString(),baseSalary:k.BaseSalary,equityShare:k.EquityShare}),n==="team"&&a.jsx(vM,{salesForce:C}),n==="history"&&a.jsxs("div",{className:"max-w-4xl mx-auto animate-in slide-in-from-bottom-4 duration-500 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between px-1",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black text-slate-900 uppercase tracking-tight",children:"Yield Distributions"}),a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Historical ledger of all shareholder draws and capital exits"})]}),a.jsxs("div",{className:"flex items-center gap-2 bg-white px-4 py-2 rounded-2xl border border-slate-100 shadow-sm",children:[a.jsx(Ln,{size:14,className:"text-emerald-500"}),a.jsxs("span",{className:"text-[10px] font-black uppercase text-slate-600",children:[E.length," Total Disbursements"]})]})]}),a.jsx("div",{className:"space-y-3",children:E.length>0?E.map(W=>{var K;return a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-md flex items-center justify-between group hover:border-amber-200 transition-all",children:[a.jsxs("div",{className:"flex items-center gap-5",children:[a.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center shadow-inner ${W.Status==="Read"?"bg-emerald-50 text-emerald-600":"bg-amber-50 text-amber-600"}`,children:W.Status==="Read"?a.jsx(wr,{size:24}):a.jsx(Wt,{size:24})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-black text-slate-900 uppercase tracking-tight",children:W.Message.split(": ")[0]}),a.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[a.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase",children:Ce(W.Time)}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-[8px] font-black uppercase ${W.Status==="Read"?"bg-emerald-50 text-emerald-700":"bg-amber-50 text-amber-700"}`,children:W.Status==="Read"?"Settled":"In Verification"})]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:`text-xl font-black tracking-tighter ${W.Status==="Read"?"text-emerald-600":"text-slate-900"}`,children:(K=W.Message.split("K")[1])!=null&&K.split(" ")[0]?"K"+W.Message.split("K")[1].split(" ")[0]:"View"}),a.jsx("p",{className:"text-[8px] font-bold text-slate-400 uppercase mt-1",children:"Net Proceeds"})]})]},W.ID)}):a.jsxs("div",{className:"py-24 text-center bg-white rounded-[3rem] border border-slate-100 opacity-20 shadow-inner",children:[a.jsx(_l,{size:64,className:"mx-auto mb-4"}),a.jsx("p",{className:"text-xs font-black uppercase tracking-[0.4em]",children:"No Disbursement History Recorded"})]})})]}),n==="legal"&&a.jsx(yM,{currentPartner:k})]}),a.jsx(Zj,{showDepositModal:i,setShowDepositModal:o,depositAmount:h,setDepositAmount:m,handleDeposit:_,isProcessing:x})]}):a.jsxs(a.Fragment,{children:[a.jsx(mM,{currentPartner:k,isPendingReview:I,principal:k.InvestmentPrincipal||0,share:k.EquityShare||0,termMonths:$,monthlyCapital:(k.InvestmentPrincipal||0)/Math.max(1,$),setShowNegotiationModal:d,setShowSigningModal:u}),a.jsx(Zj,{showNegotiationModal:f,setShowNegotiationModal:d,counterShare:j,setCounterShare:b,counterTerm:w,setCounterTerm:y,counterNote:S,setCounterNote:P,handleCounterPropose:U}),a.jsx($y,{isOpen:c,onClose:()=>u(!1),role:"Client",defaultName:k.AgentName,defaultTitle:"Authorized Shareholder",onConfirm:G})]})},wM=({agents:e,onAdd:t,onView:n,onEdit:r})=>{const[i,o]=q.useState(""),c=e.filter(d=>{var h;return d.AgentName.toLowerCase().includes(i.toLowerCase())||d.Role.toLowerCase().includes(i.toLowerCase())||((h=d.Department)==null?void 0:h.toLowerCase().includes(i.toLowerCase()))}),u=d=>{if(d.ExperienceLevel==="Lead")return pE;if(d.ExperienceLevel==="Trainee")return gE;switch(d.Role.toLowerCase()){case"admin":return Di;case"partner":return Cy;default:return qi}},f=d=>{if(d.ExperienceLevel==="Lead")return"border-amber-100 text-amber-500 ring-4 ring-amber-50";if(d.ExperienceLevel==="Independent")return"border-indigo-100 text-indigo-400";switch(d.Role.toLowerCase()){case"admin":return"border-indigo-100 text-indigo-400";case"partner":return"border-amber-100 text-amber-500";default:return"border-slate-100 text-slate-300"}};return a.jsxs("div",{className:"flex flex-col h-full animate-in fade-in duration-700 overflow-hidden",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-end gap-4 pb-8 shrink-0",children:a.jsxs("div",{className:"flex w-full md:max-w-lg items-center gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(hn,{size:14,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),a.jsx("input",{type:"text",placeholder:"SEARCH STAFF...",value:i,onChange:d=>o(d.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-100 rounded-full text-[9px] font-black text-slate-600 placeholder:text-slate-300 outline-none focus:ring-4 focus:ring-slate-100/50 transition-all uppercase tracking-widest"})]}),a.jsx("button",{onClick:t,className:"p-2.5 bg-slate-900 text-white rounded-full hover:bg-slate-800 transition-all shadow-lg active:scale-90 flex-shrink-0",children:a.jsx(zr,{size:16,strokeWidth:3})})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-10 pt-2",children:a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-3 md:gap-x-8 gap-y-8 md:gap-y-12",children:c.length>0?c.map(d=>{const h=u(d),m=d.AgentName.split(" "),x=m.length>1?`${m[0]} ${m[1][0]}.`:d.AgentName,v=e.filter(j=>String(j.ParentAgentID).trim().toLowerCase()===String(d.AgentID).trim().toLowerCase()).length;return a.jsxs("div",{onClick:()=>n(d),className:"group relative flex flex-col items-center cursor-pointer transition-transform duration-300 hover:-translate-y-1",children:[a.jsx("div",{className:"absolute -right-1 -top-1 z-20 flex gap-1",children:a.jsx("button",{onClick:j=>{j.stopPropagation(),r(d)},className:"p-2 bg-white border border-slate-100 text-slate-300 hover:text-indigo-600 rounded-full transition-all shadow-md active:scale-90",children:a.jsx(Dy,{size:14})})}),a.jsxs("div",{className:"relative mb-3 md:mb-5",children:[a.jsx("div",{className:`w-20 h-20 md:w-32 md:h-32 rounded-full border flex items-center justify-center transition-all duration-500 group-hover:scale-105 group-hover:shadow-xl bg-white ${f(d)}`,children:a.jsx(h,{className:"w-8 h-8 md:w-12 md:h-12",strokeWidth:1})}),a.jsx("div",{className:`absolute bottom-0.5 right-0.5 md:bottom-2 md:right-2 w-3.5 h-3.5 md:w-5 md:h-5 rounded-full border-2 md:border-4 border-white shadow-sm
                      ${d.Status==="Active"?"bg-emerald-500":"bg-slate-300"}`}),v>0&&a.jsxs("div",{className:"absolute -top-1 -right-1 px-2 py-1 bg-amber-500 text-white rounded-full border border-white shadow-lg flex items-center gap-1 animate-in zoom-in duration-500",children:[a.jsx(EE,{size:10}),a.jsx("span",{className:"text-[8px] font-black leading-none",children:v})]}),a.jsx("div",{className:`absolute -top-1 -left-1 px-1.5 py-0.5 rounded-md border flex items-center shadow-sm animate-in zoom-in duration-500 bg-white/80 backdrop-blur-[2px] ${d.Role==="Partner"?"border-amber-100 text-amber-600":"border-slate-100 text-slate-400"}`,children:a.jsx("span",{className:"text-[6px] md:text-[7px] font-black uppercase tracking-tighter",children:d.ExperienceLevel||d.Role})}),a.jsx("div",{className:"absolute bottom-0 -left-1 px-1.5 py-0.5 bg-slate-900/90 backdrop-blur-[2px] text-white rounded-md border border-white/10 flex items-center animate-in slide-in-from-bottom-2 duration-700",children:a.jsx("span",{className:"text-[6px] md:text-[7px] font-black leading-none uppercase tracking-tighter",children:d.AgentID})})]}),a.jsxs("div",{className:"text-center space-y-0.5 px-1 w-full",children:[a.jsx("h3",{className:"text-[10px] md:text-xs font-black text-slate-900 uppercase tracking-tight group-hover:text-indigo-600 transition-colors line-clamp-1",children:x}),a.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[a.jsx("p",{className:"text-[7px] md:text-[8px] font-bold text-slate-400 uppercase tracking-[0.2em] leading-none opacity-60",children:d.Department||"Operations"}),v>0&&a.jsx("p",{className:"text-[6px] font-black text-amber-600 uppercase tracking-widest mt-1",children:"Leading Team"})]})]})]},d.AgentID)}):a.jsxs("div",{className:"col-span-full py-20 flex flex-col items-center opacity-10",children:[a.jsx(At,{size:40,className:"mb-2"}),a.jsx("p",{className:"text-[8px] font-black uppercase tracking-[0.5em]",children:"No Staff Members Found"})]})})})]})},jM="https://www.overseetracking.com/index.aspx",NM="https://play.google.com/store/apps/details?id=com.myrope.icruises2&hl=en",SM=({client:e,invoices:t=[]})=>{const n=(t==null?void 0:t.some(i=>i.Status===wt.Overdue||i.BalanceDue>0&&new Date(i.DueDate)<new Date))||!1,r=t.reduce((i,o)=>i+(o.BalanceDue||0),0);return a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:["Welcome, ",e==null?void 0:e.CompanyName]}),a.jsx("div",{className:"flex items-center gap-4",children:r>0?a.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-lg border text-[10px] font-black uppercase tracking-widest ${n?"bg-rose-50 border-rose-100 text-rose-600 animate-pulse":"bg-amber-50 border-amber-100 text-amber-600"}`,children:[a.jsx(pa,{size:12})," ",n?"Action Required: Payment Overdue":"Balance Due"]}):a.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 rounded-lg bg-emerald-50 border border-emerald-100 text-emerald-600 text-[10px] font-black uppercase tracking-widest",children:[a.jsx($s,{size:12})," Account in Good Standing"]})})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:flex sm:flex-row items-center gap-2 w-full lg:w-auto",children:[a.jsxs("a",{href:jM,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-1.5 px-3 py-2.5 bg-slate-900 text-white rounded-xl text-[10px] sm:text-xs font-bold hover:bg-slate-800 transition-all shadow-md active:scale-95 text-center",children:[a.jsx(Jg,{size:14,className:"shrink-0"})," Tracking Web"]}),a.jsxs("a",{href:NM,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-1.5 px-3 py-2.5 bg-indigo-600 text-white rounded-xl text-[10px] sm:text-xs font-bold hover:bg-indigo-700 transition-all shadow-md active:scale-95 text-center",children:[a.jsx(oa,{size:14,className:"shrink-0"})," Tracking App"]})]})]})},kM=({ticketTab:e,setTicketTab:t,displayedTickets:n,allCurrentTabTickets:r,showAllTickets:i,setShowAllTickets:o,onNewTicket:c})=>a.jsxs("div",{className:"lg:col-span-1 flex flex-col bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden h-fit",children:[a.jsxs("div",{className:"p-5 border-b border-slate-100 flex items-center justify-between bg-slate-50/30",children:[a.jsxs("div",{className:"flex items-center gap-2 font-bold text-slate-800",children:[a.jsx(tr,{size:18,className:"text-indigo-600"}),a.jsx("span",{className:"text-xs uppercase tracking-widest",children:"Support Center"})]}),a.jsx("button",{onClick:c,className:"p-1.5 bg-slate-900 text-white rounded-full hover:scale-105 transition-transform",children:a.jsx(zr,{size:14})})]}),a.jsxs("div",{className:"p-4 space-y-3",children:[n.map(u=>a.jsxs("div",{className:"p-3 bg-slate-50 rounded-xl border border-slate-100 space-y-1.5",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("p",{className:"text-[11px] font-bold text-slate-900 truncate pr-2",children:u.Subject}),a.jsx("span",{className:"text-[9px] font-bold text-indigo-600 bg-indigo-50 px-1.5 py-0.5 rounded-full border border-indigo-100 shrink-0",children:u.Status})]}),a.jsxs("div",{className:"flex items-center justify-between text-[9px] text-slate-400 font-medium",children:[a.jsxs("span",{children:["#",u.TicketID]}),a.jsx("span",{children:Ce(u.CreatedAt)})]})]},u.TicketID)),r.length>3&&a.jsx("button",{onClick:()=>o(!i),className:"w-full py-2 flex items-center justify-center gap-1.5 text-[10px] font-bold text-slate-400 hover:text-indigo-600 transition-colors",children:i?a.jsxs(a.Fragment,{children:["Collapse History ",a.jsx(md,{size:14})]}):a.jsxs(a.Fragment,{children:["View All Activity ",a.jsx(_i,{size:14})]})}),r.length===0&&a.jsxs("div",{className:"py-8 text-center text-slate-400 space-y-1",children:[a.jsx(kc,{size:24,className:"mx-auto opacity-20"}),a.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest",children:"No active tickets"})]})]}),a.jsxs("div",{className:"flex p-1.5 gap-1.5 bg-slate-50 border-t border-slate-100",children:[a.jsx("button",{onClick:()=>{t("active"),o(!1)},className:`flex-1 py-1.5 text-[9px] font-bold uppercase rounded-lg transition-all ${e==="active"?"bg-white text-indigo-600 shadow-sm":"text-slate-400"}`,children:"Active"}),a.jsx("button",{onClick:()=>{t("history"),o(!1)},className:`flex-1 py-1.5 text-[9px] font-bold uppercase rounded-lg transition-all ${e==="history"?"bg-white text-indigo-600 shadow-sm":"text-slate-400"}`,children:"History"})]})]}),Jj=({activeContract:e,vehicles:t})=>a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm flex flex-col justify-between h-[160px]",children:[a.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:[a.jsx(bE,{size:14})," My Service Plan"]}),e?a.jsxs("div",{className:"py-1",children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 uppercase tracking-tight",children:e.PlanType}),a.jsxs("p",{className:"text-[11px] text-slate-500 mt-0.5",children:[e.NoOfUnits," Assets  ",e.BillingCycle," Cycle"]})]}):a.jsx("p",{className:"text-sm text-slate-400 italic",children:"No active plan"}),a.jsx("div",{className:"pt-2 border-t border-slate-50",children:a.jsxs("span",{className:"text-lg font-bold text-emerald-600",children:["K",De((e==null?void 0:e.TotalAmount)||0)]})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm flex flex-col justify-between h-[160px]",children:[a.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:[a.jsx(yr,{size:14})," Fleet Size"]}),a.jsxs("div",{className:"py-1",children:[a.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:t.length}),a.jsx("p",{className:"text-[11px] text-slate-500 mt-0.5",children:"Active Registered Assets"})]}),a.jsx("div",{className:"pt-2 border-t border-slate-50 text-[9px] font-bold text-slate-400 uppercase",children:"Verified Inventory"})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden flex flex-col",children:[a.jsx("div",{className:"p-4 bg-slate-50 border-b border-slate-200 flex justify-between items-center",children:a.jsx("span",{className:"text-[10px] font-bold text-slate-800 uppercase tracking-widest",children:"Fleet Inventory"})}),a.jsx("div",{className:"divide-y divide-slate-100",children:t.map(n=>a.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 transition-colors group",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 shadow-sm group-hover:scale-125 transition-transform"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-slate-900 font-mono tracking-tight",children:n.NumberPlate}),a.jsxs("p",{className:"text-[10px] text-slate-500 uppercase tracking-wide",children:[n.Make," ",n.Model,"  ",n.Year]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-tighter",children:"Status"}),a.jsx("p",{className:"text-[10px] font-black text-emerald-600 uppercase",children:n.Status})]})]},n.VehicleID))})]})]}),CM=({invoices:e,displayedInvoices:t,showAllInvoices:n,setShowAllInvoices:r,payments:i,displayedPayments:o,showAllPayments:c,setShowAllPayments:u})=>a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden h-fit flex flex-col",children:[a.jsxs("div",{className:"p-4 bg-slate-50 border-b border-slate-200 flex items-center gap-2",children:[a.jsx(_y,{size:18,className:"text-slate-400"}),a.jsx("span",{className:"text-[10px] font-bold text-slate-800 uppercase tracking-widest",children:"Invoices"})]}),a.jsx("div",{className:"divide-y divide-slate-100",children:t.map(f=>a.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 transition-colors",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-[11px] font-bold text-slate-900",children:["INV #",f.InvoiceID]}),a.jsxs("p",{className:"text-[9px] text-slate-400 mt-0.5",children:["Due: ",Ce(f.DueDate)]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-bold text-slate-900",children:["K",De(f.TotalAmount)]}),a.jsx("span",{className:`text-[9px] font-bold uppercase ${f.Status==="Paid"?"text-emerald-500":"text-amber-500"}`,children:f.Status})]})]},f.InvoiceID))}),e.length>5&&a.jsx("button",{onClick:()=>r(!n),className:"p-3 bg-slate-50/50 border-t border-slate-100 flex items-center justify-center gap-1.5 text-[10px] font-bold text-slate-400 hover:text-indigo-600 transition-all",children:n?a.jsxs(a.Fragment,{children:["Show Recent ",a.jsx(md,{size:14})]}):a.jsxs(a.Fragment,{children:["View All Documents ",a.jsx(_i,{size:14})]})})]}),a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden h-fit flex flex-col",children:[a.jsxs("div",{className:"p-4 bg-slate-50 border-b border-slate-200 flex items-center gap-2",children:[a.jsx(_l,{size:18,className:"text-slate-400"}),a.jsx("span",{className:"text-[10px] font-bold text-slate-800 uppercase tracking-widest",children:"Payment History"})]}),a.jsx("div",{className:"divide-y divide-slate-100",children:o.map(f=>a.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-1.5 bg-slate-100 rounded-lg text-slate-400",children:a.jsx(ha,{size:14})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[11px] font-bold text-slate-900",children:f.Method}),a.jsx("p",{className:"text-[9px] text-slate-400 mt-0.5",children:Ce(f.Date)})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-bold text-emerald-600",children:["K",De(f.Amount)]}),a.jsx("span",{className:"text-[9px] font-bold text-slate-300 uppercase",children:"Success"})]})]},f.PaymentID))}),i.length>5&&a.jsx("button",{onClick:()=>u(!c),className:"p-3 bg-slate-50/50 border-t border-slate-100 flex items-center justify-center gap-1.5 text-[10px] font-bold text-slate-400 hover:text-indigo-600 transition-all",children:c?a.jsxs(a.Fragment,{children:["Show Recent ",a.jsx(md,{size:14})]}):a.jsxs(a.Fragment,{children:["View All Transactions ",a.jsx(_i,{size:14})]})})]})]}),AM=({activeTab:e,setActiveTab:t})=>{const[n,r]=O.useState(!1),i=[{id:"home",label:"Home",icon:Q4},{id:"fleet",label:"Fleet",icon:yr},{id:"billing",label:"Billing",icon:_y},{id:"support",label:"Support",icon:kc},{id:"services",label:"Services",icon:Ry}],o=i.find(c=>c.id===e)||i[0];return a.jsxs("nav",{className:"relative z-30",children:[a.jsx("div",{className:"hidden md:grid grid-cols-5 bg-slate-100/80 p-1.5 rounded-[1.25rem] border border-slate-200/60 backdrop-blur-sm shadow-inner",children:i.map(({id:c,label:u,icon:f})=>{const d=e===c;return a.jsxs("button",{onClick:()=>t(c),className:`flex items-center justify-center gap-2.5 py-3.5 px-2 rounded-xl transition-all duration-300 group
                ${d?"bg-white text-indigo-600 shadow-md shadow-slate-200/50 transform scale-[1.02]":"text-slate-500 hover:text-slate-800 hover:bg-white/40"}`,children:[a.jsx(f,{size:16,className:`transition-colors duration-300 ${d?"text-indigo-600":"text-slate-400 group-hover:text-slate-600"}`}),a.jsx("span",{className:`text-[11px] font-black uppercase tracking-[0.1em] transition-all
                ${d?"opacity-100":"opacity-70 group-hover:opacity-100"}`,children:u})]},c)})}),a.jsxs("div",{className:"md:hidden flex flex-col gap-2",children:[a.jsxs("button",{onClick:()=>r(!n),className:"flex items-center justify-between w-full px-6 py-4 bg-white rounded-2xl shadow-sm border-2 border-indigo-50 text-indigo-600 active:scale-[0.98] transition-all",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-indigo-50 rounded-lg",children:a.jsx(o.icon,{size:20})}),a.jsxs("div",{className:"flex flex-col items-start",children:[a.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest leading-none mb-1",children:"Active Section"}),a.jsx("span",{className:"font-black text-xs uppercase tracking-widest leading-none",children:o.label})]})]}),a.jsx("div",{className:`p-1 rounded-full transition-all duration-300 ${n?"bg-indigo-600 text-white rotate-180":"bg-slate-50 text-slate-400"}`,children:a.jsx(_i,{size:18})})]}),n&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-3 bg-white rounded-[2rem] shadow-2xl border border-slate-100 overflow-hidden animate-in fade-in zoom-in-95 duration-200 ring-4 ring-slate-900/5",children:a.jsxs("div",{className:"flex flex-col p-2",children:[a.jsx("div",{className:"px-5 py-3 border-b border-slate-50",children:a.jsx("span",{className:"text-[9px] font-black text-slate-300 uppercase tracking-[0.3em]",children:"Select Destination"})}),i.map(({id:c,label:u,icon:f})=>{const d=e===c;return a.jsxs("button",{onClick:()=>{t(c),r(!1)},className:`flex items-center gap-4 px-5 py-4 text-left transition-all rounded-xl my-0.5
                      ${d?"bg-indigo-600 text-white shadow-lg shadow-indigo-200":"text-slate-500 hover:bg-slate-50"}`,children:[a.jsx(f,{size:18,className:d?"text-white":"text-slate-400"}),a.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:u}),d&&a.jsx("div",{className:"ml-auto w-2 h-2 rounded-full bg-white animate-pulse"})]},c)})]})})]})]})},PM=({isEligible:e,onClaim:t})=>e?a.jsxs("div",{className:"bg-gradient-to-r from-emerald-600 to-indigo-600 rounded-[2rem] p-8 text-white shadow-2xl relative overflow-hidden",children:[a.jsx("div",{className:"absolute right-0 top-0 p-8 opacity-10 rotate-12",children:a.jsx(o_,{size:120})}),a.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center justify-between gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:a.jsx(r_,{size:24,className:"text-amber-300"})}),a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Professional Opportunity"})]}),a.jsxs("p",{className:"text-sm font-medium text-emerald-50 leading-relaxed max-w-xl",children:["Based on your exceptional referral record and timely payment history, you are eligible to become a ",a.jsx("strong",{children:"Trainee Agent"}),". Start earning commissions while managing your fleet."]})]}),a.jsx("button",{onClick:t,className:"px-8 py-4 bg-white text-indigo-700 rounded-2xl text-[10px] font-black uppercase tracking-[0.2em] shadow-xl hover:scale-105 transition-all active:scale-95",children:"Claim My Offer"})]})]}):null,EM=({contracts:e,onView:t})=>a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-4 bg-slate-50 border-b border-slate-200 flex items-center gap-2",children:[a.jsx(mn,{size:18,className:"text-slate-400"}),a.jsx("span",{className:"text-[10px] font-bold text-slate-800 uppercase tracking-widest",children:"Official Contracts"})]}),a.jsx("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(n=>a.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl flex items-center justify-between border border-slate-100 group hover:border-indigo-200 transition-all",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-2 bg-white rounded-lg border border-slate-200 text-slate-400 group-hover:text-indigo-600 transition-colors",children:a.jsx(Cn,{size:20})}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-[11px] font-bold text-slate-900 uppercase tracking-tight",children:[n.PlanType," (",n.NoOfUnits," Units)"]}),a.jsxs("p",{className:"text-[9px] text-slate-400 uppercase font-medium",children:["ID: ",n.ContractID,"  Exp: ",Ce(n.ExpiryDate)]})]})]}),a.jsx("button",{onClick:()=>t(n),className:"px-3 py-1.5 bg-white border border-slate-200 rounded-lg text-[10px] font-bold text-slate-600 hover:border-indigo-600 hover:text-indigo-600 transition-all",children:"View"})]},n.ContractID))})]}),DM=({isOpen:e,onClose:t,subject:n,setSubject:r,description:i,setDescription:o,isSubmitting:c,onSubmit:u})=>e?a.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white rounded-[2rem] shadow-2xl w-full max-w-lg overflow-hidden animate-in zoom-in duration-300",children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[a.jsxs("div",{className:"flex items-center gap-2 font-bold text-slate-800",children:[a.jsx(kc,{size:20}),a.jsx("span",{className:"text-sm uppercase tracking-widest",children:"Support Request"})]}),a.jsx("button",{onClick:t,children:a.jsx(jt,{size:20,className:"text-slate-300 hover:text-slate-900 transition-colors"})})]}),a.jsxs("form",{onSubmit:u,className:"p-8 space-y-5",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest ml-1",children:"Subject"}),a.jsx("input",{required:!0,value:n,onChange:f=>r(f.target.value),placeholder:"How can we assist you?",className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-xl outline-none font-bold text-sm focus:ring-2 focus:ring-indigo-100 transition-all"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest ml-1",children:"Message"}),a.jsx("textarea",{required:!0,value:i,onChange:f=>o(f.target.value),placeholder:"Describe your request in detail...",className:"w-full h-32 p-4 bg-slate-50 border border-slate-200 rounded-xl outline-none text-sm font-medium resize-none focus:ring-2 focus:ring-indigo-100 transition-all"})]}),a.jsxs("button",{type:"submit",disabled:c,className:"w-full bg-slate-900 text-white py-4 rounded-xl text-xs font-bold uppercase tracking-widest shadow-lg flex items-center justify-center gap-3 active:scale-95 transition-all",children:[c?a.jsx(Dt,{size:16,className:"animate-spin"}):a.jsx(sa,{size:16}),"Submit Request"]})]})]})}):null,OM=({isOpen:e,onClose:t,name:n,setName:r,company:i,setCompany:o,phone:c,setPhone:u,isSubmitting:f,onSubmit:d})=>e?a.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white rounded-[2rem] shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in duration-300",children:[a.jsxs("div",{className:"p-6 border-b border-indigo-100 flex justify-between items-center bg-indigo-50/30",children:[a.jsxs("div",{className:"flex items-center gap-2 font-bold text-indigo-900",children:[a.jsx(PE,{size:20}),a.jsx("span",{className:"text-sm uppercase tracking-widest",children:"Refer a Friend"})]}),a.jsx("button",{onClick:t,children:a.jsx(jt,{size:20,className:"text-slate-300 hover:text-slate-900 transition-colors"})})]}),a.jsx("div",{className:"px-8 pt-6 pb-2 text-center",children:a.jsxs("p",{className:"text-xs text-slate-500",children:["Provide their details below. Once they join our platform, we will automatically credit your account with ",a.jsx("strong",{className:"text-indigo-600",children:"1 month of free service"}),"."]})}),a.jsxs("form",{onSubmit:d,className:"p-8 space-y-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest ml-1",children:"Contact Person Name"}),a.jsx("input",{required:!0,value:n,onChange:h=>r(h.target.value),placeholder:"Full name of your friend/contact...",className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-xl outline-none font-bold text-sm focus:ring-2 focus:ring-indigo-100 transition-all"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest ml-1",children:"Company Name"}),a.jsx("input",{required:!0,value:i,onChange:h=>o(h.target.value),placeholder:"Business or entity name...",className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-xl outline-none font-bold text-sm focus:ring-2 focus:ring-indigo-100 transition-all"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest ml-1",children:"Phone Number"}),a.jsx("input",{required:!0,value:c,onChange:h=>u(h.target.value),placeholder:"09XX XXX XXX",className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-xl outline-none font-bold text-sm focus:ring-2 focus:ring-indigo-100 transition-all"})]}),a.jsxs("button",{type:"submit",disabled:f,className:"w-full bg-indigo-600 text-white py-4 rounded-xl text-xs font-bold uppercase tracking-widest shadow-lg flex items-center justify-center gap-3 active:scale-95 transition-all mt-4",children:[f?a.jsx(Dt,{size:16,className:"animate-spin"}):a.jsx(yE,{size:16}),"Submit Referral"]})]})]})}):null,IM=[{id:"push",label:"Push to Start Conversion",icon:X4,desc:"Upgrade from traditional key ignition to a modern push-button start system with proximity sensing."},{id:"dash",label:"Dashcams",icon:b_,desc:"High-definition video recording solutions for incident documentation and safety."},{id:"alarm",label:"Vehicle Alarm System",icon:hd,desc:"Advanced anti-theft protection with precision sensors and remote monitoring integration."},{id:"rec",label:"Tracking Officer",icon:Di,desc:"Professional personnel dedicated to active monitoring of your high-value assets."}],TM=({data:e,onSignContract:t,onReportIssue:n,onSaveReferral:r})=>{var xt,zt;const[i,o]=O.useState("home"),[c,u]=O.useState(null),[f,d]=O.useState(!1),[h,m]=O.useState(!1),[x,v]=O.useState(null),[j,b]=O.useState(!1),[w,y]=O.useState(!1),[S,P]=O.useState(""),[k,C]=O.useState(""),[E,D]=O.useState(!1),[I,$]=O.useState("active"),[B,M]=O.useState(""),[z,L]=O.useState(""),[_,U]=O.useState(""),[G,W]=O.useState(!1),[K,X]=O.useState(!1),[R,Q]=O.useState(!1),J=(xt=e.currentUser)==null?void 0:xt.id,te=e.clients.find(me=>me.ClientID===J),ue=O.useMemo(()=>J?e.contracts.filter(me=>String(me.ClientID).trim()===String(J).trim()).sort((me,rt)=>new Date(rt.StartDate).getTime()-new Date(me.StartDate).getTime()):[],[e.contracts,J]),be=O.useMemo(()=>e.vehicles.filter(me=>me.ClientID===J).sort((me,rt)=>me.NumberPlate.localeCompare(rt.NumberPlate)),[e.vehicles,J]),we=O.useMemo(()=>e.invoices.filter(me=>me.ClientID===J).sort((me,rt)=>new Date(rt.InvoiceDate).getTime()-new Date(me.InvoiceDate).getTime()),[e.invoices,J]),$e=O.useMemo(()=>e.payments.filter(me=>me.ClientID===J).sort((me,rt)=>new Date(rt.Date).getTime()-new Date(me.Date).getTime()),[e.payments,J]),Oe=O.useMemo(()=>e.referrals.filter(me=>me.ReferrerID===J),[e.referrals,J]),oe=Oe.filter(me=>me.Status==="Successful"),Ae=O.useMemo(()=>{const me=oe.length>=2,rt=!(we!=null&&we.some(Ot=>Ot.Status==="Overdue")),Vt=we.filter(Ot=>Ot.Status==="Paid").length>=3;return me&&rt&&Vt},[oe,we]),ke=ue.find(me=>me.ContractStatus==="Active"),ie=O.useMemo(()=>e.tickets.filter(me=>me.ClientID===J).sort((me,rt)=>new Date(rt.CreatedAt).getTime()-new Date(me.CreatedAt).getTime()),[e.tickets,J]),He=ie.filter(me=>me.Status!=="Resolved"),Re=ie.filter(me=>me.Status==="Resolved"),Ze=O.useMemo(()=>{if(J)return ue.find(me=>!!!(me.ClientSign||me.ClientSignImage)&&me.ContractStatus==="Active")},[ue,J]),de=me=>{const rt=e.clients.find(Ot=>Ot.ClientID===J),Vt=Os(me,rt,e.vehicles,e.systemSettings,e.agents);v(Vt),u(me),d(!0)},Te=async(me,rt,Vt)=>{if(!c)return;const Ot={...c,ClientSignName:me,ClientSignTitle:rt,ClientSignDate:new Date().toISOString(),ClientSign:Vt,ClientSignImage:Vt};await t(Ot),m(!1),d(!1),v(null),u(null)},Ne=async me=>{if(me.preventDefault(),!(!n||!J)){D(!0);try{const rt={TicketID:`TKT-${Math.floor(1e3+Math.random()*9e3)}`,ClientID:J,Subject:S,Description:k,Status:Qn.Open,Priority:"Normal",CreatedAt:new Date().toISOString(),UpdatedAt:new Date().toISOString()};await n(rt),P(""),C(""),b(!1),$("active")}finally{D(!1)}}},ze=async me=>{if(me.preventDefault(),!(!n||!r||!J)){D(!0);try{const rt=`REF-${Math.floor(1e3+Math.random()*9e3)}`,Vt={ID:rt,ReferrerID:J,ReferrerName:(te==null?void 0:te.CompanyName)||"Unknown",FriendName:B,FriendCompany:z,FriendPhone:_,Date:new Date().toISOString(),Status:"Pending"};await r(Vt);const Ot={TicketID:rt,ClientID:J,Subject:`REFERRAL RECORD: ${B}`,Description:`CLIENT REFERRAL PROGRAM
Referred: ${B}
Company: ${z}
Phone: ${_}

Client ${te==null?void 0:te.CompanyName} is requesting 1 month free credit upon activation.`,Status:Qn.Open,Priority:"High",CreatedAt:new Date().toISOString(),UpdatedAt:new Date().toISOString()};await n(Ot),M(""),L(""),U(""),y(!1)}finally{D(!1)}}},We=(te==null?void 0:te.ClientType)==="Corporate"||(te==null?void 0:te.ClientType)==="SME"?(te==null?void 0:te.PrimaryContactName)||(te==null?void 0:te.CompanyName)||"":(te==null?void 0:te.CompanyName)||"";return a.jsxs("div",{className:"flex flex-col h-full bg-slate-50 overflow-hidden font-sans",children:[a.jsxs("div",{className:"max-w-7xl mx-auto w-full p-4 md:p-8 space-y-6 flex-1 flex flex-col min-h-0",children:[a.jsx(SM,{client:te,invoices:we}),a.jsx(AM,{activeTab:i,setActiveTab:o}),a.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-24",children:a.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[i==="home"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx(PM,{isEligible:Ae,onClaim:()=>{P("Application: Trainee Agent Status"),C("I have met the eligibility criteria for Trainee Agent status and would like to apply."),b(!0)}}),Ze&&a.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-2xl p-4 flex flex-col md:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4 text-amber-800",children:[a.jsx(pa,{size:24}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-sm",children:"Signature Required"}),a.jsxs("p",{className:"text-xs",children:["Please review and sign your service agreement for ",Ze.ContractID,"."]})]})]}),a.jsx("button",{onClick:()=>de(Ze),className:"w-full md:w-auto px-6 py-2 bg-amber-600 text-white rounded-lg text-xs font-bold hover:bg-amber-700 transition-all",children:"Sign Document"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-slate-100 flex items-center gap-2 bg-slate-50/30",children:[a.jsx(xE,{size:14,className:"text-indigo-600"}),a.jsx("span",{className:"text-[10px] uppercase font-black tracking-widest text-slate-700",children:"Growth Tracker"})]}),a.jsxs("div",{className:"p-3 grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"bg-slate-50 p-2.5 rounded-xl text-center border border-slate-100",children:[a.jsx("p",{className:"text-[7px] font-black text-slate-400 uppercase mb-1",children:"Referrals"}),a.jsx("p",{className:"text-lg font-black text-slate-900 leading-none",children:Oe.length})]}),a.jsxs("div",{className:"bg-emerald-50 p-2.5 rounded-xl text-center border border-emerald-100",children:[a.jsx("p",{className:"text-[7px] font-black text-emerald-500 uppercase mb-1",children:"Activated"}),a.jsx("p",{className:"text-lg font-black text-emerald-700 leading-none",children:oe.length})]})]}),a.jsxs("div",{className:"px-4 pb-4",children:[a.jsxs("div",{className:"flex items-center justify-between text-[7px] font-black uppercase text-slate-400 mb-1.5",children:[a.jsx("span",{children:"Rank Progression"}),a.jsx("span",{className:Ae?"text-indigo-600":"text-slate-500",children:Ae?"Elite Tier":"Standard Tier"})]}),a.jsx("div",{className:"h-1 w-full bg-slate-100 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-indigo-600 transition-all duration-1000",style:{width:`${Math.min(100,oe.length/2*100)}%`}})})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm flex flex-col justify-between h-[160px]",children:[a.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:[a.jsx(mn,{size:14})," Account Status"]}),a.jsxs("div",{className:"py-1",children:[a.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:(te==null?void 0:te.Status)||"Active"}),a.jsx("p",{className:"text-[11px] text-slate-500 mt-0.5",children:"Verified Client Member"})]}),a.jsxs("div",{className:"pt-2 border-t border-slate-50 text-[9px] font-bold text-slate-400 uppercase",children:["Member Since ",Ce(te==null?void 0:te.OnboardingDate)]})]})]}),a.jsxs("div",{className:"lg:col-span-2",children:[a.jsx(Jj,{activeContract:ke,vehicles:be.slice(0,3)}),a.jsx("button",{onClick:()=>o("fleet"),className:"w-full mt-4 py-3 bg-white border border-slate-200 rounded-xl text-[10px] font-bold text-slate-400 hover:text-indigo-600 transition-all uppercase tracking-widest",children:"View Full Fleet Inventory"})]})]})]}),i==="fleet"&&a.jsx("div",{className:"space-y-6",children:a.jsx(Jj,{activeContract:ke,vehicles:be})}),i==="billing"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx(CM,{invoices:we,displayedInvoices:K?we:we.slice(0,5),showAllInvoices:K,setShowAllInvoices:X,payments:$e,displayedPayments:R?$e:$e.slice(0,5),showAllPayments:R,setShowAllPayments:Q}),a.jsx(EM,{contracts:ue,onView:de})]}),i==="support"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2",children:[a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-8 flex flex-col items-center text-center space-y-4 mb-6",children:[a.jsx("div",{className:"w-16 h-16 bg-indigo-50 rounded-full flex items-center justify-center text-indigo-600",children:a.jsx(kc,{size:32})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"How can we help today?"}),a.jsx("p",{className:"text-sm text-slate-500 max-w-sm mx-auto",children:"Our technical team is ready to assist you with any service or hardware inquiries."})]}),a.jsx("button",{onClick:()=>b(!0),className:"px-8 py-3 bg-slate-900 text-white rounded-xl text-xs font-bold uppercase tracking-widest shadow-xl hover:scale-105 transition-all",children:"Create New Ticket"})]}),a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-4 bg-slate-50 border-b border-slate-100 flex items-center gap-2",children:a.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Common Support Tasks"})}),a.jsx("div",{className:"p-2 grid grid-cols-1 sm:grid-cols-2 gap-2",children:[{label:"Technical Malfunction",sub:"GPS or Dashcam offline"},{label:"Asset Transfer",sub:"Moving hardware to new vehicle"},{label:"Plan Upgrade",sub:"Switching to higher service tier"},{label:"Billing Inquiry",sub:"Question about an invoice"}].map(me=>a.jsxs("button",{onClick:()=>{P(me.label),C(`Inquiry regarding ${me.label.toLowerCase()}...`),b(!0)},className:"p-4 text-left bg-slate-50 rounded-xl hover:bg-indigo-50 transition-colors group",children:[a.jsx("p",{className:"text-xs font-bold text-slate-900 group-hover:text-indigo-600",children:me.label}),a.jsx("p",{className:"text-[10px] text-slate-400",children:me.sub})]},me.label))})]})]}),a.jsx("div",{className:"lg:col-span-1",children:a.jsx(kM,{ticketTab:I,setTicketTab:$,displayedTickets:G?I==="active"?He:Re:I==="active"?He.slice(0,3):Re.slice(0,3),allCurrentTabTickets:I==="active"?He:Re,showAllTickets:G,setShowAllTickets:W,onNewTicket:()=>b(!0)})})]}),i==="services"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[IM.map(me=>a.jsx("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-200 shadow-sm hover:shadow-xl transition-all group",children:a.jsxs("div",{className:"flex items-start gap-6",children:[a.jsx("div",{className:"p-4 bg-slate-50 text-slate-400 rounded-3xl group-hover:bg-indigo-600 group-hover:text-white transition-all duration-500 group-hover:scale-110",children:a.jsx(me.icon,{size:32})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-lg font-black text-slate-900 uppercase tracking-tight",children:me.label}),a.jsx("p",{className:"text-sm text-slate-500 leading-relaxed",children:me.desc}),a.jsxs("button",{onClick:()=>{P(`Inquiry: ${me.label}`),C(`I am interested in the ${me.label} service. Please provide more details.`),b(!0)},className:"pt-4 flex items-center gap-2 text-[10px] font-black text-indigo-600 uppercase tracking-widest hover:translate-x-1 transition-transform",children:["Request Information ",a.jsx(md,{className:"rotate-90",size:14})]})]})]})},me.id)),a.jsxs("div",{className:"md:col-span-2 bg-indigo-900 rounded-[2.5rem] p-10 text-white relative overflow-hidden shadow-2xl",children:[a.jsx("div",{className:"absolute right-0 top-0 p-10 opacity-10 rotate-12",children:a.jsx(mn,{size:140})}),a.jsxs("div",{className:"relative z-10 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white/20 rounded-2xl",children:a.jsx(yE,{size:24,className:"fill-white"})}),a.jsx("h3",{className:"text-2xl font-black uppercase tracking-tight",children:"Refer & Earn"})]}),a.jsxs("p",{className:"text-lg text-indigo-100 max-w-2xl leading-relaxed",children:["Refer a friend or business partner to our tracking solutions. For every successful activation, you'll receive ",a.jsx("span",{className:"text-white font-bold underline decoration-indigo-400",children:"one full month of service credit"})," absolutely free."]}),a.jsx("button",{onClick:()=>y(!0),className:"px-10 py-4 bg-white text-indigo-900 rounded-2xl text-xs font-black uppercase tracking-[0.2em] shadow-xl hover:scale-105 transition-all active:scale-95",children:"Register Referral"})]})]})]})]})})]}),a.jsx(OM,{isOpen:w,onClose:()=>y(!1),name:B,setName:M,company:z,setCompany:L,phone:_,setPhone:U,isSubmitting:E,onSubmit:ze}),a.jsx(DM,{isOpen:j,onClose:()=>b(!1),subject:S,setSubject:P,description:k,setDescription:C,isSubmitting:E,onSubmit:Ne}),f&&x&&a.jsx(TE,{isOpen:f,onClose:()=>d(!1),previewHtml:x,contract:c,userRole:"Client",onInitiateSigning:()=>m(!0),onDownload:()=>{const me=window.open("","_blank");me&&(me.document.write(x),me.document.close(),me.onload=()=>me.print())},onShare:()=>{},onDispatch:()=>{}}),h&&a.jsx($y,{isOpen:h,onClose:()=>m(!1),role:"Client",defaultName:We||((zt=e.currentUser)==null?void 0:zt.name)||"",defaultTitle:"Authorized Representative",onConfirm:Te})]})},_M=({tickets:e,clients:t,agents:n,onUpdateTicket:r,currentUser:i})=>{const[o,c]=O.useState(""),[u,f]=O.useState("All"),[d,h]=O.useState(null),[m,x]=O.useState(""),[v,j]=O.useState(!1),b=e.filter(S=>{const P=t.find(C=>C.ClientID===S.ClientID);return!(!(S.Subject.toLowerCase().includes(o.toLowerCase())||(P==null?void 0:P.CompanyName.toLowerCase().includes(o.toLowerCase()))||S.TicketID.toLowerCase().includes(o.toLowerCase()))||u!=="All"&&S.Status!==u)}).sort((S,P)=>new Date(P.CreatedAt).getTime()-new Date(S.CreatedAt).getTime()),w=async S=>{if(d){j(!0);try{const P={...d,Status:S,Resolution:m,AssignedAgentID:i.id,UpdatedAt:new Date().toISOString()};await r(P),h(null),x("")}finally{j(!1)}}},y=S=>{switch(S){case Qn.Resolved:return"bg-emerald-50 text-emerald-600 border-emerald-100";case Qn.InProgress:return"bg-indigo-50 text-indigo-600 border-indigo-100";default:return"bg-amber-50 text-amber-700 border-amber-100"}};return a.jsxs("div",{className:"flex flex-col h-full animate-in fade-in duration-700 overflow-hidden",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 pb-8 shrink-0",children:[a.jsx("div",{className:"flex items-center gap-1.5 p-1 bg-slate-100 border border-slate-200 rounded-2xl w-fit overflow-x-auto no-scrollbar max-w-full",children:["All",Qn.Open,Qn.InProgress,Qn.Resolved].map(S=>a.jsx("button",{onClick:()=>f(S),className:`px-5 py-2 text-[9px] font-black uppercase tracking-widest rounded-xl transition-all whitespace-nowrap ${u===S?"bg-slate-900 text-white shadow-md":"text-slate-400 hover:text-slate-600"}`,children:S},S))}),a.jsxs("div",{className:"relative w-full md:max-w-md",children:[a.jsx(hn,{size:14,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),a.jsx("input",{type:"text",placeholder:"SEARCH TICKETS OR CLIENTS...",value:o,onChange:S=>c(S.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-100 rounded-full text-[9px] font-black text-slate-600 placeholder:text-slate-300 outline-none focus:ring-4 focus:ring-slate-100/50 transition-all uppercase tracking-widest"})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-10 pt-2",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.length>0?b.map(S=>{const P=t.find(C=>C.ClientID===S.ClientID),k=n.find(C=>C.AgentID===S.AssignedAgentID);return a.jsxs("div",{onClick:()=>{h(S),x(S.Resolution||"")},className:"group bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm hover:shadow-xl transition-all cursor-pointer relative overflow-hidden",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:"p-2 bg-slate-50 text-slate-400 rounded-xl group-hover:bg-indigo-50 group-hover:text-indigo-600 transition-colors",children:a.jsx(tr,{size:18})}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-[8px] font-black uppercase border ${y(S.Status)}`,children:S.Status})]}),a.jsx("h3",{className:"text-sm font-bold text-slate-900 mb-1 truncate uppercase",children:S.Subject}),a.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-1",children:[a.jsx(At,{size:10})," ",(P==null?void 0:P.CompanyName)||"Unknown Client"]}),a.jsx("div",{className:"bg-slate-50 rounded-xl p-3 mb-4 min-h-[60px]",children:a.jsx("p",{className:"text-[11px] text-slate-600 line-clamp-2 leading-relaxed",children:S.Description})}),a.jsxs("div",{className:"flex flex-col gap-2 border-t border-slate-50 pt-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Wt,{size:10,className:"text-slate-300"}),a.jsxs("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-tighter",children:["Reported: ",Ce(S.CreatedAt)]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ln,{size:10,className:"text-indigo-300"}),a.jsxs("span",{className:"text-[8px] font-black text-indigo-400 uppercase tracking-tighter",children:["Update: ",Ce(S.UpdatedAt)]})]})]}),k&&a.jsx("div",{className:"flex justify-end",children:a.jsxs("span",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest bg-slate-50 px-2 py-0.5 rounded",children:["Owner: ",k.AgentName.split(" ")[0]]})})]})]},S.TicketID)}):a.jsxs("div",{className:"col-span-full py-24 flex flex-col items-center opacity-10",children:[a.jsx(tr,{size:50,className:"mb-4"}),a.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.8em]",children:"No support tickets found"})]})})}),d&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-2xl w-full max-w-lg overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-50 flex justify-between items-center bg-slate-50/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-indigo-100 text-indigo-600 rounded-xl",children:a.jsx(pa,{size:20})}),a.jsx("h3",{className:"font-bold text-slate-800 uppercase tracking-tight",children:"Resolution Manager"})]}),a.jsx("button",{onClick:()=>h(null),children:a.jsx(jt,{size:20,className:"text-slate-300 hover:text-slate-900 transition-colors"})})]}),a.jsxs("div",{className:"p-10 space-y-6",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-[0.2em] block mb-2",children:"Original Ticket Submission"}),a.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl border border-slate-100",children:[a.jsx("p",{className:"text-sm font-bold text-slate-800 mb-1",children:d.Subject}),a.jsx("p",{className:"text-xs text-slate-500 leading-relaxed",children:d.Description}),a.jsxs("div",{className:"mt-3 flex gap-4 text-[7px] font-black uppercase text-slate-400",children:[a.jsxs("span",{children:["Reported: ",Ce(d.CreatedAt)]}),a.jsxs("span",{children:["Last Activity: ",Ce(d.UpdatedAt)]})]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Your Professional Response"}),a.jsx("textarea",{required:!0,autoFocus:!0,value:m,onChange:S=>x(S.target.value),placeholder:"Explain the technical resolution or provide a progress update...",className:"w-full h-32 p-4 bg-slate-50 border border-slate-100 rounded-2xl outline-none text-sm font-medium resize-none focus:ring-4 focus:ring-indigo-50 transition-all"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[a.jsx("button",{onClick:()=>w(Qn.InProgress),disabled:v,className:"w-full bg-slate-100 text-slate-600 py-3.5 rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-sm flex items-center justify-center gap-2 hover:bg-slate-200 transition-all active:scale-95 disabled:opacity-50",children:"Set to Pending"}),a.jsxs("button",{onClick:()=>w(Qn.Resolved),disabled:v||!m,className:"w-full bg-emerald-600 text-white py-3.5 rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-xl flex items-center justify-center gap-2 hover:bg-emerald-700 transition-all active:scale-95 disabled:opacity-50",children:[v?a.jsx(Dt,{size:16,className:"animate-spin"}):a.jsx($s,{size:16}),"Mark Resolved"]})]})]})]})})]})};function _E(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=_E(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ye(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=_E(e))&&(r&&(r+=" "),r+=t);return r}var Uh,e2;function An(){if(e2)return Uh;e2=1;var e=Array.isArray;return Uh=e,Uh}var qh,t2;function ME(){if(t2)return qh;t2=1;var e=typeof Hu=="object"&&Hu&&Hu.Object===Object&&Hu;return qh=e,qh}var Wh,n2;function Lr(){if(n2)return Wh;n2=1;var e=ME(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Wh=n,Wh}var Hh,r2;function Pc(){if(r2)return Hh;r2=1;var e=Lr(),t=e.Symbol;return Hh=t,Hh}var Vh,a2;function MM(){if(a2)return Vh;a2=1;var e=Pc(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function o(c){var u=n.call(c,i),f=c[i];try{c[i]=void 0;var d=!0}catch{}var h=r.call(c);return d&&(u?c[i]=f:delete c[i]),h}return Vh=o,Vh}var Kh,i2;function RM(){if(i2)return Kh;i2=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Kh=n,Kh}var Gh,s2;function ma(){if(s2)return Gh;s2=1;var e=Pc(),t=MM(),n=RM(),r="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function c(u){return u==null?u===void 0?i:r:o&&o in Object(u)?t(u):n(u)}return Gh=c,Gh}var Yh,o2;function xa(){if(o2)return Yh;o2=1;function e(t){return t!=null&&typeof t=="object"}return Yh=e,Yh}var Xh,l2;function co(){if(l2)return Xh;l2=1;var e=ma(),t=xa(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return Xh=r,Xh}var Qh,c2;function Ly(){if(c2)return Qh;c2=1;var e=An(),t=co(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,c){if(e(o))return!1;var u=typeof o;return u=="number"||u=="symbol"||u=="boolean"||o==null||t(o)?!0:r.test(o)||!n.test(o)||c!=null&&o in Object(c)}return Qh=i,Qh}var Zh,u2;function Za(){if(u2)return Zh;u2=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Zh=e,Zh}var Jh,d2;function By(){if(d2)return Jh;d2=1;var e=ma(),t=Za(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function c(u){if(!t(u))return!1;var f=e(u);return f==r||f==i||f==n||f==o}return Jh=c,Jh}var em,f2;function $M(){if(f2)return em;f2=1;var e=Lr(),t=e["__core-js_shared__"];return em=t,em}var tm,p2;function zM(){if(p2)return tm;p2=1;var e=$M(),t=(function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!t&&t in r}return tm=n,tm}var nm,h2;function RE(){if(h2)return nm;h2=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return nm=n,nm}var rm,m2;function LM(){if(m2)return rm;m2=1;var e=By(),t=zM(),n=Za(),r=RE(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,f=c.toString,d=u.hasOwnProperty,h=RegExp("^"+f.call(d).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(x){if(!n(x)||t(x))return!1;var v=e(x)?h:o;return v.test(r(x))}return rm=m,rm}var am,x2;function BM(){if(x2)return am;x2=1;function e(t,n){return t==null?void 0:t[n]}return am=e,am}var im,g2;function Hi(){if(g2)return im;g2=1;var e=LM(),t=BM();function n(r,i){var o=t(r,i);return e(o)?o:void 0}return im=n,im}var sm,v2;function bf(){if(v2)return sm;v2=1;var e=Hi(),t=e(Object,"create");return sm=t,sm}var om,y2;function FM(){if(y2)return om;y2=1;var e=bf();function t(){this.__data__=e?e(null):{},this.size=0}return om=t,om}var lm,b2;function UM(){if(b2)return lm;b2=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return lm=e,lm}var cm,w2;function qM(){if(w2)return cm;w2=1;var e=bf(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var c=this.__data__;if(e){var u=c[o];return u===t?void 0:u}return r.call(c,o)?c[o]:void 0}return cm=i,cm}var um,j2;function WM(){if(j2)return um;j2=1;var e=bf(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var o=this.__data__;return e?o[i]!==void 0:n.call(o,i)}return um=r,um}var dm,N2;function HM(){if(N2)return dm;N2=1;var e=bf(),t="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=e&&i===void 0?t:i,this}return dm=n,dm}var fm,S2;function VM(){if(S2)return fm;S2=1;var e=FM(),t=UM(),n=qM(),r=WM(),i=HM();function o(c){var u=-1,f=c==null?0:c.length;for(this.clear();++u<f;){var d=c[u];this.set(d[0],d[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,fm=o,fm}var pm,k2;function KM(){if(k2)return pm;k2=1;function e(){this.__data__=[],this.size=0}return pm=e,pm}var hm,C2;function Fy(){if(C2)return hm;C2=1;function e(t,n){return t===n||t!==t&&n!==n}return hm=e,hm}var mm,A2;function wf(){if(A2)return mm;A2=1;var e=Fy();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return mm=t,mm}var xm,P2;function GM(){if(P2)return xm;P2=1;var e=wf(),t=Array.prototype,n=t.splice;function r(i){var o=this.__data__,c=e(o,i);if(c<0)return!1;var u=o.length-1;return c==u?o.pop():n.call(o,c,1),--this.size,!0}return xm=r,xm}var gm,E2;function YM(){if(E2)return gm;E2=1;var e=wf();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return gm=t,gm}var vm,D2;function XM(){if(D2)return vm;D2=1;var e=wf();function t(n){return e(this.__data__,n)>-1}return vm=t,vm}var ym,O2;function QM(){if(O2)return ym;O2=1;var e=wf();function t(n,r){var i=this.__data__,o=e(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return ym=t,ym}var bm,I2;function jf(){if(I2)return bm;I2=1;var e=KM(),t=GM(),n=YM(),r=XM(),i=QM();function o(c){var u=-1,f=c==null?0:c.length;for(this.clear();++u<f;){var d=c[u];this.set(d[0],d[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,bm=o,bm}var wm,T2;function Uy(){if(T2)return wm;T2=1;var e=Hi(),t=Lr(),n=e(t,"Map");return wm=n,wm}var jm,_2;function ZM(){if(_2)return jm;_2=1;var e=VM(),t=jf(),n=Uy();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return jm=r,jm}var Nm,M2;function JM(){if(M2)return Nm;M2=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return Nm=e,Nm}var Sm,R2;function Nf(){if(R2)return Sm;R2=1;var e=JM();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Sm=t,Sm}var km,$2;function e3(){if($2)return km;$2=1;var e=Nf();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return km=t,km}var Cm,z2;function t3(){if(z2)return Cm;z2=1;var e=Nf();function t(n){return e(this,n).get(n)}return Cm=t,Cm}var Am,L2;function n3(){if(L2)return Am;L2=1;var e=Nf();function t(n){return e(this,n).has(n)}return Am=t,Am}var Pm,B2;function r3(){if(B2)return Pm;B2=1;var e=Nf();function t(n,r){var i=e(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return Pm=t,Pm}var Em,F2;function qy(){if(F2)return Em;F2=1;var e=ZM(),t=e3(),n=t3(),r=n3(),i=r3();function o(c){var u=-1,f=c==null?0:c.length;for(this.clear();++u<f;){var d=c[u];this.set(d[0],d[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Em=o,Em}var Dm,U2;function $E(){if(U2)return Dm;U2=1;var e=qy(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var c=arguments,u=i?i.apply(this,c):c[0],f=o.cache;if(f.has(u))return f.get(u);var d=r.apply(this,c);return o.cache=f.set(u,d)||f,d};return o.cache=new(n.Cache||e),o}return n.Cache=e,Dm=n,Dm}var Om,q2;function a3(){if(q2)return Om;q2=1;var e=$E(),t=500;function n(r){var i=e(r,function(c){return o.size===t&&o.clear(),c}),o=i.cache;return i}return Om=n,Om}var Im,W2;function i3(){if(W2)return Im;W2=1;var e=a3(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(c,u,f,d){o.push(f?d.replace(n,"$1"):u||c)}),o});return Im=r,Im}var Tm,H2;function Wy(){if(H2)return Tm;H2=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=Array(i);++r<i;)o[r]=n(t[r],r,t);return o}return Tm=e,Tm}var _m,V2;function s3(){if(V2)return _m;V2=1;var e=Pc(),t=Wy(),n=An(),r=co(),i=e?e.prototype:void 0,o=i?i.toString:void 0;function c(u){if(typeof u=="string")return u;if(n(u))return t(u,c)+"";if(r(u))return o?o.call(u):"";var f=u+"";return f=="0"&&1/u==-1/0?"-0":f}return _m=c,_m}var Mm,K2;function zE(){if(K2)return Mm;K2=1;var e=s3();function t(n){return n==null?"":e(n)}return Mm=t,Mm}var Rm,G2;function LE(){if(G2)return Rm;G2=1;var e=An(),t=Ly(),n=i3(),r=zE();function i(o,c){return e(o)?o:t(o,c)?[o]:n(r(o))}return Rm=i,Rm}var $m,Y2;function Sf(){if(Y2)return $m;Y2=1;var e=co();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return $m=t,$m}var zm,X2;function Hy(){if(X2)return zm;X2=1;var e=LE(),t=Sf();function n(r,i){i=e(i,r);for(var o=0,c=i.length;r!=null&&o<c;)r=r[t(i[o++])];return o&&o==c?r:void 0}return zm=n,zm}var Lm,Q2;function BE(){if(Q2)return Lm;Q2=1;var e=Hy();function t(n,r,i){var o=n==null?void 0:e(n,r);return o===void 0?i:o}return Lm=t,Lm}var o3=BE();const er=lt(o3);var Bm,Z2;function l3(){if(Z2)return Bm;Z2=1;function e(t){return t==null}return Bm=e,Bm}var c3=l3();const Be=lt(c3);var Fm,J2;function u3(){if(J2)return Fm;J2=1;var e=ma(),t=An(),n=xa(),r="[object String]";function i(o){return typeof o=="string"||!t(o)&&n(o)&&e(o)==r}return Fm=i,Fm}var d3=u3();const Ec=lt(d3);var f3=By();const Fe=lt(f3);var p3=Za();const uo=lt(p3);var Um={exports:{}},Je={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eN;function h3(){if(eN)return Je;eN=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,c=e?Symbol.for("react.provider"):60109,u=e?Symbol.for("react.context"):60110,f=e?Symbol.for("react.async_mode"):60111,d=e?Symbol.for("react.concurrent_mode"):60111,h=e?Symbol.for("react.forward_ref"):60112,m=e?Symbol.for("react.suspense"):60113,x=e?Symbol.for("react.suspense_list"):60120,v=e?Symbol.for("react.memo"):60115,j=e?Symbol.for("react.lazy"):60116,b=e?Symbol.for("react.block"):60121,w=e?Symbol.for("react.fundamental"):60117,y=e?Symbol.for("react.responder"):60118,S=e?Symbol.for("react.scope"):60119;function P(C){if(typeof C=="object"&&C!==null){var E=C.$$typeof;switch(E){case t:switch(C=C.type,C){case f:case d:case r:case o:case i:case m:return C;default:switch(C=C&&C.$$typeof,C){case u:case h:case j:case v:case c:return C;default:return E}}case n:return E}}}function k(C){return P(C)===d}return Je.AsyncMode=f,Je.ConcurrentMode=d,Je.ContextConsumer=u,Je.ContextProvider=c,Je.Element=t,Je.ForwardRef=h,Je.Fragment=r,Je.Lazy=j,Je.Memo=v,Je.Portal=n,Je.Profiler=o,Je.StrictMode=i,Je.Suspense=m,Je.isAsyncMode=function(C){return k(C)||P(C)===f},Je.isConcurrentMode=k,Je.isContextConsumer=function(C){return P(C)===u},Je.isContextProvider=function(C){return P(C)===c},Je.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===t},Je.isForwardRef=function(C){return P(C)===h},Je.isFragment=function(C){return P(C)===r},Je.isLazy=function(C){return P(C)===j},Je.isMemo=function(C){return P(C)===v},Je.isPortal=function(C){return P(C)===n},Je.isProfiler=function(C){return P(C)===o},Je.isStrictMode=function(C){return P(C)===i},Je.isSuspense=function(C){return P(C)===m},Je.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===r||C===d||C===o||C===i||C===m||C===x||typeof C=="object"&&C!==null&&(C.$$typeof===j||C.$$typeof===v||C.$$typeof===c||C.$$typeof===u||C.$$typeof===h||C.$$typeof===w||C.$$typeof===y||C.$$typeof===S||C.$$typeof===b)},Je.typeOf=P,Je}var tN;function m3(){return tN||(tN=1,Um.exports=h3()),Um.exports}var tv=m3(),qm,nN;function FE(){if(nN)return qm;nN=1;var e=ma(),t=xa(),n="[object Number]";function r(i){return typeof i=="number"||t(i)&&e(i)==n}return qm=r,qm}var Wm,rN;function x3(){if(rN)return Wm;rN=1;var e=FE();function t(n){return e(n)&&n!=+n}return Wm=t,Wm}var g3=x3();const fo=lt(g3);var v3=FE();const y3=lt(v3);var vr=function(t){return t===0?0:t>0?1:-1},Si=function(t){return Ec(t)&&t.indexOf("%")===t.length-1},he=function(t){return y3(t)&&!fo(t)},Mt=function(t){return he(t)||Ec(t)},b3=0,Vi=function(t){var n=++b3;return"".concat(t||"").concat(n)},zs=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!he(t)&&!Ec(t))return r;var o;if(Si(t)){var c=t.indexOf("%");o=n*parseFloat(t.slice(0,c))/100}else o=+t;return fo(o)&&(o=r),i&&o>n&&(o=n),o},Ua=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},w3=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},i=0;i<n;i++)if(!r[t[i]])r[t[i]]=!0;else return!0;return!1},kt=function(t,n){return he(t)&&he(n)?function(r){return t+r*(n-t)}:function(){return n}};function yd(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):er(r,t))===n})}var j3=function(t){if(!t||!t.length)return null;for(var n=t.length,r=0,i=0,o=0,c=0,u=1/0,f=-1/0,d=0,h=0,m=0;m<n;m++)d=t[m].cx||0,h=t[m].cy||0,r+=d,i+=h,o+=d*h,c+=d*d,u=Math.min(u,d),f=Math.max(f,d);var x=n*c!==r*r?(n*o-r*i)/(n*c-r*r):0;return{xmin:u,xmax:f,a:x,b:(i-x*r)/n}};function _s(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function nv(e){"@babel/helpers - typeof";return nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nv(e)}var N3=["viewBox","children"],S3=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],aN=["points","pathLength"],Hm={svg:N3,polygon:aN,polyline:aN},Vy=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],bd=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(O.isValidElement(t)&&(r=t.props),!uo(r))return null;var i={};return Object.keys(r).forEach(function(o){Vy.includes(o)&&(i[o]=n||function(c){return r[o](r,c)})}),i},k3=function(t,n,r){return function(i){return t(n,r,i),null}},Ll=function(t,n,r){if(!uo(t)||nv(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(o){var c=t[o];Vy.includes(o)&&typeof c=="function"&&(i||(i={}),i[o]=k3(c,n,r))}),i},C3=["children"],A3=["children"];function iN(e,t){if(e==null)return{};var n=P3(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function P3(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function rv(e){"@babel/helpers - typeof";return rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rv(e)}var sN={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},ra=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},oN=null,Vm=null,Ky=function e(t){if(t===oN&&Array.isArray(Vm))return Vm;var n=[];return O.Children.forEach(t,function(r){Be(r)||(tv.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),Vm=n,oN=t,n};function kn(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(i){return ra(i)}):r=[ra(t)],Ky(e).forEach(function(i){var o=er(i,"type.displayName")||er(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Mn(e,t){var n=kn(e,t);return n&&n[0]}var lN=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,i=n.height;return!(!he(r)||r<=0||!he(i)||i<=0)},E3=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],D3=function(t){return t&&t.type&&Ec(t.type)&&E3.indexOf(t.type)>=0},UE=function(t){return t&&rv(t)==="object"&&"cx"in t&&"cy"in t&&"r"in t},O3=function(t,n,r,i){var o,c=(o=Hm==null?void 0:Hm[i])!==null&&o!==void 0?o:[];return!Fe(t)&&(i&&c.includes(n)||S3.includes(n))||r&&Vy.includes(n)},Le=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(O.isValidElement(t)&&(i=t.props),!uo(i))return null;var o={};return Object.keys(i).forEach(function(c){var u;O3((u=i)===null||u===void 0?void 0:u[c],c,n,r)&&(o[c]=i[c])}),o},av=function e(t,n){if(t===n)return!0;var r=O.Children.count(t);if(r!==O.Children.count(n))return!1;if(r===0)return!0;if(r===1)return cN(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=t[i],c=n[i];if(Array.isArray(o)||Array.isArray(c)){if(!e(o,c))return!1}else if(!cN(o,c))return!1}return!0},cN=function(t,n){if(Be(t)&&Be(n))return!0;if(!Be(t)&&!Be(n)){var r=t.props||{},i=r.children,o=iN(r,C3),c=n.props||{},u=c.children,f=iN(c,A3);return i&&u?_s(o,f)&&av(i,u):!i&&!u?_s(o,f):!1}return!1},uN=function(t,n){var r=[],i={};return Ky(t).forEach(function(o,c){if(D3(o))r.push(o);else if(o){var u=ra(o.type),f=n[u]||{},d=f.handler,h=f.once;if(d&&(!h||!i[u])){var m=d(o,u,c);r.push(m),i[u]=!0}}}),r},I3=function(t){var n=t&&t.type;return n&&sN[n]?sN[n]:null},T3=function(t,n){return Ky(n).indexOf(t)},_3=["children","width","height","viewBox","className","style","title","desc"];function iv(){return iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iv.apply(this,arguments)}function M3(e,t){if(e==null)return{};var n=R3(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function R3(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function sv(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,o=e.className,c=e.style,u=e.title,f=e.desc,d=M3(e,_3),h=i||{width:n,height:r,x:0,y:0},m=Ye("recharts-surface",o);return q.createElement("svg",iv({},Le(d,!0,"svg"),{className:m,width:n,height:r,style:c,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),q.createElement("title",null,u),q.createElement("desc",null,f),t)}var $3=["children","className"];function ov(){return ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ov.apply(this,arguments)}function z3(e,t){if(e==null)return{};var n=L3(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function L3(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Qe=q.forwardRef(function(e,t){var n=e.children,r=e.className,i=z3(e,$3),o=Ye("recharts-layer",r);return q.createElement("g",ov({className:o},Le(i,!0),{ref:t}),n)}),aa=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]},Km,dN;function B3(){if(dN)return Km;dN=1;function e(t,n,r){var i=-1,o=t.length;n<0&&(n=-n>o?0:o+n),r=r>o?o:r,r<0&&(r+=o),o=n>r?0:r-n>>>0,n>>>=0;for(var c=Array(o);++i<o;)c[i]=t[i+n];return c}return Km=e,Km}var Gm,fN;function F3(){if(fN)return Gm;fN=1;var e=B3();function t(n,r,i){var o=n.length;return i=i===void 0?o:i,!r&&i>=o?n:e(n,r,i)}return Gm=t,Gm}var Ym,pN;function qE(){if(pN)return Ym;pN=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",c="\\u200d",u=RegExp("["+c+e+i+o+"]");function f(d){return u.test(d)}return Ym=f,Ym}var Xm,hN;function U3(){if(hN)return Xm;hN=1;function e(t){return t.split("")}return Xm=e,Xm}var Qm,mN;function q3(){if(mN)return Qm;mN=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",c="["+e+"]",u="["+i+"]",f="\\ud83c[\\udffb-\\udfff]",d="(?:"+u+"|"+f+")",h="[^"+e+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",x="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",j=d+"?",b="["+o+"]?",w="(?:"+v+"(?:"+[h,m,x].join("|")+")"+b+j+")*",y=b+j+w,S="(?:"+[h+u+"?",u,m,x,c].join("|")+")",P=RegExp(f+"(?="+f+")|"+S+y,"g");function k(C){return C.match(P)||[]}return Qm=k,Qm}var Zm,xN;function W3(){if(xN)return Zm;xN=1;var e=U3(),t=qE(),n=q3();function r(i){return t(i)?n(i):e(i)}return Zm=r,Zm}var Jm,gN;function H3(){if(gN)return Jm;gN=1;var e=F3(),t=qE(),n=W3(),r=zE();function i(o){return function(c){c=r(c);var u=t(c)?n(c):void 0,f=u?u[0]:c.charAt(0),d=u?e(u,1).join(""):c.slice(1);return f[o]()+d}}return Jm=i,Jm}var e0,vN;function V3(){if(vN)return e0;vN=1;var e=H3(),t=e("toUpperCase");return e0=t,e0}var K3=V3();const kf=lt(K3);function ut(e){return function(){return e}}const WE=Math.cos,wd=Math.sin,jr=Math.sqrt,jd=Math.PI,Cf=2*jd,lv=Math.PI,cv=2*lv,ji=1e-6,G3=cv-ji;function HE(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Y3(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return HE;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class X3{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?HE:Y3(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,c){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+c}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let c=this._x1,u=this._y1,f=r-t,d=i-n,h=c-t,m=u-n,x=h*h+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(x>ji)if(!(Math.abs(m*f-d*h)>ji)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let v=r-c,j=i-u,b=f*f+d*d,w=v*v+j*j,y=Math.sqrt(b),S=Math.sqrt(x),P=o*Math.tan((lv-Math.acos((b+x-w)/(2*y*S)))/2),k=P/S,C=P/y;Math.abs(k-1)>ji&&this._append`L${t+k*h},${n+k*m}`,this._append`A${o},${o},0,0,${+(m*v>h*j)},${this._x1=t+C*f},${this._y1=n+C*d}`}}arc(t,n,r,i,o,c){if(t=+t,n=+n,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),f=r*Math.sin(i),d=t+u,h=n+f,m=1^c,x=c?i-o:o-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>ji||Math.abs(this._y1-h)>ji)&&this._append`L${d},${h}`,r&&(x<0&&(x=x%cv+cv),x>G3?this._append`A${r},${r},0,1,${m},${t-u},${n-f}A${r},${r},0,1,${m},${this._x1=d},${this._y1=h}`:x>ji&&this._append`A${r},${r},0,${+(x>=lv)},${m},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Gy(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new X3(t)}function Yy(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function VE(e){this._context=e}VE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Af(e){return new VE(e)}function KE(e){return e[0]}function GE(e){return e[1]}function YE(e,t){var n=ut(!0),r=null,i=Af,o=null,c=Gy(u);e=typeof e=="function"?e:e===void 0?KE:ut(e),t=typeof t=="function"?t:t===void 0?GE:ut(t);function u(f){var d,h=(f=Yy(f)).length,m,x=!1,v;for(r==null&&(o=i(v=c())),d=0;d<=h;++d)!(d<h&&n(m=f[d],d,f))===x&&((x=!x)?o.lineStart():o.lineEnd()),x&&o.point(+e(m,d,f),+t(m,d,f));if(v)return o=null,v+""||null}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:ut(+f),u):e},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:ut(+f),u):t},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:ut(!!f),u):n},u.curve=function(f){return arguments.length?(i=f,r!=null&&(o=i(r)),u):i},u.context=function(f){return arguments.length?(f==null?r=o=null:o=i(r=f),u):r},u}function Xu(e,t,n){var r=null,i=ut(!0),o=null,c=Af,u=null,f=Gy(d);e=typeof e=="function"?e:e===void 0?KE:ut(+e),t=typeof t=="function"?t:ut(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?GE:ut(+n);function d(m){var x,v,j,b=(m=Yy(m)).length,w,y=!1,S,P=new Array(b),k=new Array(b);for(o==null&&(u=c(S=f())),x=0;x<=b;++x){if(!(x<b&&i(w=m[x],x,m))===y)if(y=!y)v=x,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),j=x-1;j>=v;--j)u.point(P[j],k[j]);u.lineEnd(),u.areaEnd()}y&&(P[x]=+e(w,x,m),k[x]=+t(w,x,m),u.point(r?+r(w,x,m):P[x],n?+n(w,x,m):k[x]))}if(S)return u=null,S+""||null}function h(){return YE().defined(i).curve(c).context(o)}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:ut(+m),r=null,d):e},d.x0=function(m){return arguments.length?(e=typeof m=="function"?m:ut(+m),d):e},d.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:ut(+m),d):r},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:ut(+m),n=null,d):t},d.y0=function(m){return arguments.length?(t=typeof m=="function"?m:ut(+m),d):t},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:ut(+m),d):n},d.lineX0=d.lineY0=function(){return h().x(e).y(t)},d.lineY1=function(){return h().x(e).y(n)},d.lineX1=function(){return h().x(r).y(t)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:ut(!!m),d):i},d.curve=function(m){return arguments.length?(c=m,o!=null&&(u=c(o)),d):c},d.context=function(m){return arguments.length?(m==null?o=u=null:u=c(o=m),d):o},d}class XE{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Q3(e){return new XE(e,!0)}function Z3(e){return new XE(e,!1)}const Xy={draw(e,t){const n=jr(t/jd);e.moveTo(n,0),e.arc(0,0,n,0,Cf)}},J3={draw(e,t){const n=jr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},QE=jr(1/3),e6=QE*2,t6={draw(e,t){const n=jr(t/e6),r=n*QE;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},n6={draw(e,t){const n=jr(t),r=-n/2;e.rect(r,r,n,n)}},r6=.8908130915292852,ZE=wd(jd/10)/wd(7*jd/10),a6=wd(Cf/10)*ZE,i6=-WE(Cf/10)*ZE,s6={draw(e,t){const n=jr(t*r6),r=a6*n,i=i6*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const c=Cf*o/5,u=WE(c),f=wd(c);e.lineTo(f*n,-u*n),e.lineTo(u*r-f*i,f*r+u*i)}e.closePath()}},t0=jr(3),o6={draw(e,t){const n=-jr(t/(t0*3));e.moveTo(0,n*2),e.lineTo(-t0*n,-n),e.lineTo(t0*n,-n),e.closePath()}},Vn=-.5,Kn=jr(3)/2,uv=1/jr(12),l6=(uv/2+1)*3,c6={draw(e,t){const n=jr(t/l6),r=n/2,i=n*uv,o=r,c=n*uv+n,u=-o,f=c;e.moveTo(r,i),e.lineTo(o,c),e.lineTo(u,f),e.lineTo(Vn*r-Kn*i,Kn*r+Vn*i),e.lineTo(Vn*o-Kn*c,Kn*o+Vn*c),e.lineTo(Vn*u-Kn*f,Kn*u+Vn*f),e.lineTo(Vn*r+Kn*i,Vn*i-Kn*r),e.lineTo(Vn*o+Kn*c,Vn*c-Kn*o),e.lineTo(Vn*u+Kn*f,Vn*f-Kn*u),e.closePath()}};function u6(e,t){let n=null,r=Gy(i);e=typeof e=="function"?e:ut(e||Xy),t=typeof t=="function"?t:ut(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:ut(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:ut(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Nd(){}function Sd(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function JE(e){this._context=e}JE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Sd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Sd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function d6(e){return new JE(e)}function eD(e){this._context=e}eD.prototype={areaStart:Nd,areaEnd:Nd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Sd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function f6(e){return new eD(e)}function tD(e){this._context=e}tD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Sd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function p6(e){return new tD(e)}function nD(e){this._context=e}nD.prototype={areaStart:Nd,areaEnd:Nd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function h6(e){return new nD(e)}function yN(e){return e<0?-1:1}function bN(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),c=(n-e._y1)/(i||r<0&&-0),u=(o*i+c*r)/(r+i);return(yN(o)+yN(c))*Math.min(Math.abs(o),Math.abs(c),.5*Math.abs(u))||0}function wN(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function n0(e,t,n){var r=e._x0,i=e._y0,o=e._x1,c=e._y1,u=(o-r)/3;e._context.bezierCurveTo(r+u,i+u*t,o-u,c-u*n,o,c)}function kd(e){this._context=e}kd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:n0(this,this._t0,wN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,n0(this,wN(this,n=bN(this,e,t)),n);break;default:n0(this,this._t0,n=bN(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function rD(e){this._context=new aD(e)}(rD.prototype=Object.create(kd.prototype)).point=function(e,t){kd.prototype.point.call(this,t,e)};function aD(e){this._context=e}aD.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function m6(e){return new kd(e)}function x6(e){return new rD(e)}function iD(e){this._context=e}iD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=jN(e),i=jN(t),o=0,c=1;c<n;++o,++c)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[c],t[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function jN(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),c=new Array(n);for(i[0]=0,o[0]=2,c[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,c[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,c[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,c[t]-=r*c[t-1];for(i[n-1]=c[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(c[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function g6(e){return new iD(e)}function Pf(e,t){this._context=e,this._t=t}Pf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function v6(e){return new Pf(e,.5)}function y6(e){return new Pf(e,0)}function b6(e){return new Pf(e,1)}function Ls(e,t){if((c=e.length)>1)for(var n=1,r,i,o=e[t[0]],c,u=o.length;n<c;++n)for(i=o,o=e[t[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function dv(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function w6(e,t){return e[t]}function j6(e){const t=[];return t.key=e,t}function N6(){var e=ut([]),t=dv,n=Ls,r=w6;function i(o){var c=Array.from(e.apply(this,arguments),j6),u,f=c.length,d=-1,h;for(const m of o)for(u=0,++d;u<f;++u)(c[u][d]=[0,+r(m,c[u].key,d,o)]).data=m;for(u=0,h=Yy(t(c));u<f;++u)c[h[u]].index=u;return n(c,h),c}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:ut(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:ut(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?dv:typeof o=="function"?o:ut(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??Ls,i):n},i}function S6(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,c;i<o;++i){for(c=n=0;n<r;++n)c+=e[n][i][1]||0;if(c)for(n=0;n<r;++n)e[n][i][1]/=c}Ls(e,t)}}function k6(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var c=0,u=0;c<i;++c)u+=e[c][n][1]||0;r[n][1]+=r[n][0]=-u/2}Ls(e,t)}}function C6(e,t){if(!(!((c=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,c;r<o;++r){for(var u=0,f=0,d=0;u<c;++u){for(var h=e[t[u]],m=h[r][1]||0,x=h[r-1][1]||0,v=(m-x)/2,j=0;j<u;++j){var b=e[t[j]],w=b[r][1]||0,y=b[r-1][1]||0;v+=w-y}f+=m,d+=v*m}i[r-1][1]+=i[r-1][0]=n,f&&(n-=d/f)}i[r-1][1]+=i[r-1][0]=n,Ls(e,t)}}function Bl(e){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bl(e)}var A6=["type","size","sizeType"];function fv(){return fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fv.apply(this,arguments)}function NN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function SN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NN(Object(n),!0).forEach(function(r){P6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function P6(e,t,n){return t=E6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E6(e){var t=D6(e,"string");return Bl(t)=="symbol"?t:String(t)}function D6(e,t){if(Bl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O6(e,t){if(e==null)return{};var n=I6(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function I6(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var sD={symbolCircle:Xy,symbolCross:J3,symbolDiamond:t6,symbolSquare:n6,symbolStar:s6,symbolTriangle:o6,symbolWye:c6},T6=Math.PI/180,_6=function(t){var n="symbol".concat(kf(t));return sD[n]||Xy},M6=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*T6;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},R6=function(t,n){sD["symbol".concat(kf(t))]=n},Ef=function(t){var n=t.type,r=n===void 0?"circle":n,i=t.size,o=i===void 0?64:i,c=t.sizeType,u=c===void 0?"area":c,f=O6(t,A6),d=SN(SN({},f),{},{type:r,size:o,sizeType:u}),h=function(){var w=_6(r),y=u6().type(w).size(M6(o,u,r));return y()},m=d.className,x=d.cx,v=d.cy,j=Le(d,!0);return x===+x&&v===+v&&o===+o?q.createElement("path",fv({},j,{className:Ye("recharts-symbols",m),transform:"translate(".concat(x,", ").concat(v,")"),d:h()})):null};Ef.registerSymbol=R6;function Bs(e){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(e)}function pv(){return pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pv.apply(this,arguments)}function kN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kN(Object(n),!0).forEach(function(r){Fl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function z6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lD(r.key),r)}}function B6(e,t,n){return t&&L6(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function F6(e,t,n){return t=Cd(t),U6(e,oD()?Reflect.construct(t,n||[],Cd(e).constructor):t.apply(e,n))}function U6(e,t){if(t&&(Bs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q6(e)}function q6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oD=function(){return!!e})()}function Cd(e){return Cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cd(e)}function W6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hv(e,t)}function hv(e,t){return hv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hv(e,t)}function Fl(e,t,n){return t=lD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lD(e){var t=H6(e,"string");return Bs(t)=="symbol"?t:String(t)}function H6(e,t){if(Bs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Bs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Gn=32,Qy=(function(e){W6(t,e);function t(){return z6(this,t),F6(this,t,arguments)}return B6(t,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Gn/2,c=Gn/6,u=Gn/3,f=r.inactive?i:r.color;if(r.type==="plainline")return q.createElement("line",{strokeWidth:4,fill:"none",stroke:f,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Gn,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return q.createElement("path",{strokeWidth:4,fill:"none",stroke:f,d:"M0,".concat(o,"h").concat(u,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(2*u,",").concat(o,`
            H`).concat(Gn,"M").concat(2*u,",").concat(o,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(u,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return q.createElement("path",{stroke:"none",fill:f,d:"M0,".concat(Gn/8,"h").concat(Gn,"v").concat(Gn*3/4,"h").concat(-Gn,"z"),className:"recharts-legend-icon"});if(q.isValidElement(r.legendIcon)){var d=$6({},r);return delete d.legendIcon,q.cloneElement(r.legendIcon,d)}return q.createElement(Ef,{fill:f,cx:o,cy:o,size:Gn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,c=i.iconSize,u=i.layout,f=i.formatter,d=i.inactiveColor,h={x:0,y:0,width:Gn,height:Gn},m={display:u==="horizontal"?"inline-block":"block",marginRight:10},x={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(v,j){var b=v.formatter||f,w=Ye(Fl(Fl({"recharts-legend-item":!0},"legend-item-".concat(j),!0),"inactive",v.inactive));if(v.type==="none")return null;var y=Fe(v.value)?null:v.value;aa(!Fe(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var S=v.inactive?d:v.color;return q.createElement("li",pv({className:w,style:m,key:"legend-item-".concat(j)},Ll(r.props,v,j)),q.createElement(sv,{width:c,height:c,viewBox:h,style:x},r.renderIcon(v)),q.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},b?b(y,v,j):y))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,c=r.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:o==="horizontal"?c:"left"};return q.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}]),t})(O.PureComponent);Fl(Qy,"displayName","Legend");Fl(Qy,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var r0,CN;function V6(){if(CN)return r0;CN=1;var e=jf();function t(){this.__data__=new e,this.size=0}return r0=t,r0}var a0,AN;function K6(){if(AN)return a0;AN=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return a0=e,a0}var i0,PN;function G6(){if(PN)return i0;PN=1;function e(t){return this.__data__.get(t)}return i0=e,i0}var s0,EN;function Y6(){if(EN)return s0;EN=1;function e(t){return this.__data__.has(t)}return s0=e,s0}var o0,DN;function X6(){if(DN)return o0;DN=1;var e=jf(),t=Uy(),n=qy(),r=200;function i(o,c){var u=this.__data__;if(u instanceof e){var f=u.__data__;if(!t||f.length<r-1)return f.push([o,c]),this.size=++u.size,this;u=this.__data__=new n(f)}return u.set(o,c),this.size=u.size,this}return o0=i,o0}var l0,ON;function cD(){if(ON)return l0;ON=1;var e=jf(),t=V6(),n=K6(),r=G6(),i=Y6(),o=X6();function c(u){var f=this.__data__=new e(u);this.size=f.size}return c.prototype.clear=t,c.prototype.delete=n,c.prototype.get=r,c.prototype.has=i,c.prototype.set=o,l0=c,l0}var c0,IN;function Q6(){if(IN)return c0;IN=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return c0=t,c0}var u0,TN;function Z6(){if(TN)return u0;TN=1;function e(t){return this.__data__.has(t)}return u0=e,u0}var d0,_N;function uD(){if(_N)return d0;_N=1;var e=qy(),t=Q6(),n=Z6();function r(i){var o=-1,c=i==null?0:i.length;for(this.__data__=new e;++o<c;)this.add(i[o])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,d0=r,d0}var f0,MN;function dD(){if(MN)return f0;MN=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return f0=e,f0}var p0,RN;function fD(){if(RN)return p0;RN=1;function e(t,n){return t.has(n)}return p0=e,p0}var h0,$N;function pD(){if($N)return h0;$N=1;var e=uD(),t=dD(),n=fD(),r=1,i=2;function o(c,u,f,d,h,m){var x=f&r,v=c.length,j=u.length;if(v!=j&&!(x&&j>v))return!1;var b=m.get(c),w=m.get(u);if(b&&w)return b==u&&w==c;var y=-1,S=!0,P=f&i?new e:void 0;for(m.set(c,u),m.set(u,c);++y<v;){var k=c[y],C=u[y];if(d)var E=x?d(C,k,y,u,c,m):d(k,C,y,c,u,m);if(E!==void 0){if(E)continue;S=!1;break}if(P){if(!t(u,function(D,I){if(!n(P,I)&&(k===D||h(k,D,f,d,m)))return P.push(I)})){S=!1;break}}else if(!(k===C||h(k,C,f,d,m))){S=!1;break}}return m.delete(c),m.delete(u),S}return h0=o,h0}var m0,zN;function J6(){if(zN)return m0;zN=1;var e=Lr(),t=e.Uint8Array;return m0=t,m0}var x0,LN;function eR(){if(LN)return x0;LN=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,o){r[++n]=[o,i]}),r}return x0=e,x0}var g0,BN;function Zy(){if(BN)return g0;BN=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return g0=e,g0}var v0,FN;function tR(){if(FN)return v0;FN=1;var e=Pc(),t=J6(),n=Fy(),r=pD(),i=eR(),o=Zy(),c=1,u=2,f="[object Boolean]",d="[object Date]",h="[object Error]",m="[object Map]",x="[object Number]",v="[object RegExp]",j="[object Set]",b="[object String]",w="[object Symbol]",y="[object ArrayBuffer]",S="[object DataView]",P=e?e.prototype:void 0,k=P?P.valueOf:void 0;function C(E,D,I,$,B,M,z){switch(I){case S:if(E.byteLength!=D.byteLength||E.byteOffset!=D.byteOffset)return!1;E=E.buffer,D=D.buffer;case y:return!(E.byteLength!=D.byteLength||!M(new t(E),new t(D)));case f:case d:case x:return n(+E,+D);case h:return E.name==D.name&&E.message==D.message;case v:case b:return E==D+"";case m:var L=i;case j:var _=$&c;if(L||(L=o),E.size!=D.size&&!_)return!1;var U=z.get(E);if(U)return U==D;$|=u,z.set(E,D);var G=r(L(E),L(D),$,B,M,z);return z.delete(E),G;case w:if(k)return k.call(E)==k.call(D)}return!1}return v0=C,v0}var y0,UN;function hD(){if(UN)return y0;UN=1;function e(t,n){for(var r=-1,i=n.length,o=t.length;++r<i;)t[o+r]=n[r];return t}return y0=e,y0}var b0,qN;function nR(){if(qN)return b0;qN=1;var e=hD(),t=An();function n(r,i,o){var c=i(r);return t(r)?c:e(c,o(r))}return b0=n,b0}var w0,WN;function rR(){if(WN)return w0;WN=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=0,c=[];++r<i;){var u=t[r];n(u,r,t)&&(c[o++]=u)}return c}return w0=e,w0}var j0,HN;function aR(){if(HN)return j0;HN=1;function e(){return[]}return j0=e,j0}var N0,VN;function iR(){if(VN)return N0;VN=1;var e=rR(),t=aR(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(c){return c==null?[]:(c=Object(c),e(i(c),function(u){return r.call(c,u)}))}:t;return N0=o,N0}var S0,KN;function sR(){if(KN)return S0;KN=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return S0=e,S0}var k0,GN;function oR(){if(GN)return k0;GN=1;var e=ma(),t=xa(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return k0=r,k0}var C0,YN;function Jy(){if(YN)return C0;YN=1;var e=oR(),t=xa(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=e((function(){return arguments})())?e:function(c){return t(c)&&r.call(c,"callee")&&!i.call(c,"callee")};return C0=o,C0}var xl={exports:{}},A0,XN;function lR(){if(XN)return A0;XN=1;function e(){return!1}return A0=e,A0}xl.exports;var QN;function mD(){return QN||(QN=1,(function(e,t){var n=Lr(),r=lR(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,c=o&&o.exports===i,u=c?n.Buffer:void 0,f=u?u.isBuffer:void 0,d=f||r;e.exports=d})(xl,xl.exports)),xl.exports}var P0,ZN;function eb(){if(ZN)return P0;ZN=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??e,!!i&&(o=="number"||o!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return P0=n,P0}var E0,JN;function tb(){if(JN)return E0;JN=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return E0=t,E0}var D0,eS;function cR(){if(eS)return D0;eS=1;var e=ma(),t=tb(),n=xa(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",c="[object Date]",u="[object Error]",f="[object Function]",d="[object Map]",h="[object Number]",m="[object Object]",x="[object RegExp]",v="[object Set]",j="[object String]",b="[object WeakMap]",w="[object ArrayBuffer]",y="[object DataView]",S="[object Float32Array]",P="[object Float64Array]",k="[object Int8Array]",C="[object Int16Array]",E="[object Int32Array]",D="[object Uint8Array]",I="[object Uint8ClampedArray]",$="[object Uint16Array]",B="[object Uint32Array]",M={};M[S]=M[P]=M[k]=M[C]=M[E]=M[D]=M[I]=M[$]=M[B]=!0,M[r]=M[i]=M[w]=M[o]=M[y]=M[c]=M[u]=M[f]=M[d]=M[h]=M[m]=M[x]=M[v]=M[j]=M[b]=!1;function z(L){return n(L)&&t(L.length)&&!!M[e(L)]}return D0=z,D0}var O0,tS;function xD(){if(tS)return O0;tS=1;function e(t){return function(n){return t(n)}}return O0=e,O0}var gl={exports:{}};gl.exports;var nS;function uR(){return nS||(nS=1,(function(e,t){var n=ME(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,c=o&&n.process,u=(function(){try{var f=i&&i.require&&i.require("util").types;return f||c&&c.binding&&c.binding("util")}catch{}})();e.exports=u})(gl,gl.exports)),gl.exports}var I0,rS;function gD(){if(rS)return I0;rS=1;var e=cR(),t=xD(),n=uR(),r=n&&n.isTypedArray,i=r?t(r):e;return I0=i,I0}var T0,aS;function dR(){if(aS)return T0;aS=1;var e=sR(),t=Jy(),n=An(),r=mD(),i=eb(),o=gD(),c=Object.prototype,u=c.hasOwnProperty;function f(d,h){var m=n(d),x=!m&&t(d),v=!m&&!x&&r(d),j=!m&&!x&&!v&&o(d),b=m||x||v||j,w=b?e(d.length,String):[],y=w.length;for(var S in d)(h||u.call(d,S))&&!(b&&(S=="length"||v&&(S=="offset"||S=="parent")||j&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||i(S,y)))&&w.push(S);return w}return T0=f,T0}var _0,iS;function fR(){if(iS)return _0;iS=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return _0=t,_0}var M0,sS;function vD(){if(sS)return M0;sS=1;function e(t,n){return function(r){return t(n(r))}}return M0=e,M0}var R0,oS;function pR(){if(oS)return R0;oS=1;var e=vD(),t=e(Object.keys,Object);return R0=t,R0}var $0,lS;function hR(){if(lS)return $0;lS=1;var e=fR(),t=pR(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!e(o))return t(o);var c=[];for(var u in Object(o))r.call(o,u)&&u!="constructor"&&c.push(u);return c}return $0=i,$0}var z0,cS;function Dc(){if(cS)return z0;cS=1;var e=By(),t=tb();function n(r){return r!=null&&t(r.length)&&!e(r)}return z0=n,z0}var L0,uS;function Df(){if(uS)return L0;uS=1;var e=dR(),t=hR(),n=Dc();function r(i){return n(i)?e(i):t(i)}return L0=r,L0}var B0,dS;function mR(){if(dS)return B0;dS=1;var e=nR(),t=iR(),n=Df();function r(i){return e(i,n,t)}return B0=r,B0}var F0,fS;function xR(){if(fS)return F0;fS=1;var e=mR(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,c,u,f,d,h){var m=u&t,x=e(o),v=x.length,j=e(c),b=j.length;if(v!=b&&!m)return!1;for(var w=v;w--;){var y=x[w];if(!(m?y in c:r.call(c,y)))return!1}var S=h.get(o),P=h.get(c);if(S&&P)return S==c&&P==o;var k=!0;h.set(o,c),h.set(c,o);for(var C=m;++w<v;){y=x[w];var E=o[y],D=c[y];if(f)var I=m?f(D,E,y,c,o,h):f(E,D,y,o,c,h);if(!(I===void 0?E===D||d(E,D,u,f,h):I)){k=!1;break}C||(C=y=="constructor")}if(k&&!C){var $=o.constructor,B=c.constructor;$!=B&&"constructor"in o&&"constructor"in c&&!(typeof $=="function"&&$ instanceof $&&typeof B=="function"&&B instanceof B)&&(k=!1)}return h.delete(o),h.delete(c),k}return F0=i,F0}var U0,pS;function gR(){if(pS)return U0;pS=1;var e=Hi(),t=Lr(),n=e(t,"DataView");return U0=n,U0}var q0,hS;function vR(){if(hS)return q0;hS=1;var e=Hi(),t=Lr(),n=e(t,"Promise");return q0=n,q0}var W0,mS;function yD(){if(mS)return W0;mS=1;var e=Hi(),t=Lr(),n=e(t,"Set");return W0=n,W0}var H0,xS;function yR(){if(xS)return H0;xS=1;var e=Hi(),t=Lr(),n=e(t,"WeakMap");return H0=n,H0}var V0,gS;function bR(){if(gS)return V0;gS=1;var e=gR(),t=Uy(),n=vR(),r=yD(),i=yR(),o=ma(),c=RE(),u="[object Map]",f="[object Object]",d="[object Promise]",h="[object Set]",m="[object WeakMap]",x="[object DataView]",v=c(e),j=c(t),b=c(n),w=c(r),y=c(i),S=o;return(e&&S(new e(new ArrayBuffer(1)))!=x||t&&S(new t)!=u||n&&S(n.resolve())!=d||r&&S(new r)!=h||i&&S(new i)!=m)&&(S=function(P){var k=o(P),C=k==f?P.constructor:void 0,E=C?c(C):"";if(E)switch(E){case v:return x;case j:return u;case b:return d;case w:return h;case y:return m}return k}),V0=S,V0}var K0,vS;function wR(){if(vS)return K0;vS=1;var e=cD(),t=pD(),n=tR(),r=xR(),i=bR(),o=An(),c=mD(),u=gD(),f=1,d="[object Arguments]",h="[object Array]",m="[object Object]",x=Object.prototype,v=x.hasOwnProperty;function j(b,w,y,S,P,k){var C=o(b),E=o(w),D=C?h:i(b),I=E?h:i(w);D=D==d?m:D,I=I==d?m:I;var $=D==m,B=I==m,M=D==I;if(M&&c(b)){if(!c(w))return!1;C=!0,$=!1}if(M&&!$)return k||(k=new e),C||u(b)?t(b,w,y,S,P,k):n(b,w,D,y,S,P,k);if(!(y&f)){var z=$&&v.call(b,"__wrapped__"),L=B&&v.call(w,"__wrapped__");if(z||L){var _=z?b.value():b,U=L?w.value():w;return k||(k=new e),P(_,U,y,S,k)}}return M?(k||(k=new e),r(b,w,y,S,P,k)):!1}return K0=j,K0}var G0,yS;function nb(){if(yS)return G0;yS=1;var e=wR(),t=xa();function n(r,i,o,c,u){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,o,c,n,u)}return G0=n,G0}var Y0,bS;function jR(){if(bS)return Y0;bS=1;var e=cD(),t=nb(),n=1,r=2;function i(o,c,u,f){var d=u.length,h=d,m=!f;if(o==null)return!h;for(o=Object(o);d--;){var x=u[d];if(m&&x[2]?x[1]!==o[x[0]]:!(x[0]in o))return!1}for(;++d<h;){x=u[d];var v=x[0],j=o[v],b=x[1];if(m&&x[2]){if(j===void 0&&!(v in o))return!1}else{var w=new e;if(f)var y=f(j,b,v,o,c,w);if(!(y===void 0?t(b,j,n|r,f,w):y))return!1}}return!0}return Y0=i,Y0}var X0,wS;function bD(){if(wS)return X0;wS=1;var e=Za();function t(n){return n===n&&!e(n)}return X0=t,X0}var Q0,jS;function NR(){if(jS)return Q0;jS=1;var e=bD(),t=Df();function n(r){for(var i=t(r),o=i.length;o--;){var c=i[o],u=r[c];i[o]=[c,u,e(u)]}return i}return Q0=n,Q0}var Z0,NS;function wD(){if(NS)return Z0;NS=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return Z0=e,Z0}var J0,SS;function SR(){if(SS)return J0;SS=1;var e=jR(),t=NR(),n=wD();function r(i){var o=t(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(c){return c===i||e(c,i,o)}}return J0=r,J0}var ex,kS;function kR(){if(kS)return ex;kS=1;function e(t,n){return t!=null&&n in Object(t)}return ex=e,ex}var tx,CS;function CR(){if(CS)return tx;CS=1;var e=LE(),t=Jy(),n=An(),r=eb(),i=tb(),o=Sf();function c(u,f,d){f=e(f,u);for(var h=-1,m=f.length,x=!1;++h<m;){var v=o(f[h]);if(!(x=u!=null&&d(u,v)))break;u=u[v]}return x||++h!=m?x:(m=u==null?0:u.length,!!m&&i(m)&&r(v,m)&&(n(u)||t(u)))}return tx=c,tx}var nx,AS;function AR(){if(AS)return nx;AS=1;var e=kR(),t=CR();function n(r,i){return r!=null&&t(r,i,e)}return nx=n,nx}var rx,PS;function PR(){if(PS)return rx;PS=1;var e=nb(),t=BE(),n=AR(),r=Ly(),i=bD(),o=wD(),c=Sf(),u=1,f=2;function d(h,m){return r(h)&&i(m)?o(c(h),m):function(x){var v=t(x,h);return v===void 0&&v===m?n(x,h):e(m,v,u|f)}}return rx=d,rx}var ax,ES;function po(){if(ES)return ax;ES=1;function e(t){return t}return ax=e,ax}var ix,DS;function ER(){if(DS)return ix;DS=1;function e(t){return function(n){return n==null?void 0:n[t]}}return ix=e,ix}var sx,OS;function DR(){if(OS)return sx;OS=1;var e=Hy();function t(n){return function(r){return e(r,n)}}return sx=t,sx}var ox,IS;function OR(){if(IS)return ox;IS=1;var e=ER(),t=DR(),n=Ly(),r=Sf();function i(o){return n(o)?e(r(o)):t(o)}return ox=i,ox}var lx,TS;function Ja(){if(TS)return lx;TS=1;var e=SR(),t=PR(),n=po(),r=An(),i=OR();function o(c){return typeof c=="function"?c:c==null?n:typeof c=="object"?r(c)?t(c[0],c[1]):e(c):i(c)}return lx=o,lx}var cx,_S;function jD(){if(_S)return cx;_S=1;function e(t,n,r,i){for(var o=t.length,c=r+(i?1:-1);i?c--:++c<o;)if(n(t[c],c,t))return c;return-1}return cx=e,cx}var ux,MS;function IR(){if(MS)return ux;MS=1;function e(t){return t!==t}return ux=e,ux}var dx,RS;function TR(){if(RS)return dx;RS=1;function e(t,n,r){for(var i=r-1,o=t.length;++i<o;)if(t[i]===n)return i;return-1}return dx=e,dx}var fx,$S;function _R(){if($S)return fx;$S=1;var e=jD(),t=IR(),n=TR();function r(i,o,c){return o===o?n(i,o,c):e(i,t,c)}return fx=r,fx}var px,zS;function MR(){if(zS)return px;zS=1;var e=_R();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return px=t,px}var hx,LS;function RR(){if(LS)return hx;LS=1;function e(t,n,r){for(var i=-1,o=t==null?0:t.length;++i<o;)if(r(n,t[i]))return!0;return!1}return hx=e,hx}var mx,BS;function $R(){if(BS)return mx;BS=1;function e(){}return mx=e,mx}var xx,FS;function zR(){if(FS)return xx;FS=1;var e=yD(),t=$R(),n=Zy(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(o){return new e(o)}:t;return xx=i,xx}var gx,US;function LR(){if(US)return gx;US=1;var e=uD(),t=MR(),n=RR(),r=fD(),i=zR(),o=Zy(),c=200;function u(f,d,h){var m=-1,x=t,v=f.length,j=!0,b=[],w=b;if(h)j=!1,x=n;else if(v>=c){var y=d?null:i(f);if(y)return o(y);j=!1,x=r,w=new e}else w=d?[]:b;e:for(;++m<v;){var S=f[m],P=d?d(S):S;if(S=h||S!==0?S:0,j&&P===P){for(var k=w.length;k--;)if(w[k]===P)continue e;d&&w.push(P),b.push(S)}else x(w,P,h)||(w!==b&&w.push(P),b.push(S))}return b}return gx=u,gx}var vx,qS;function BR(){if(qS)return vx;qS=1;var e=Ja(),t=LR();function n(r,i){return r&&r.length?t(r,e(i,2)):[]}return vx=n,vx}var FR=BR();const WS=lt(FR);function ND(e,t,n){return t===!0?WS(e,n):Fe(t)?WS(e,t):e}function Fs(e){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fs(e)}var UR=["ref"];function HS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HS(Object(n),!0).forEach(function(r){Of(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,CD(r.key),r)}}function WR(e,t,n){return t&&VS(e.prototype,t),n&&VS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function HR(e,t,n){return t=Ad(t),VR(e,SD()?Reflect.construct(t,n||[],Ad(e).constructor):t.apply(e,n))}function VR(e,t){if(t&&(Fs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kD(e)}function SD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SD=function(){return!!e})()}function Ad(e){return Ad=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ad(e)}function kD(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KR(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mv(e,t)}function mv(e,t){return mv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mv(e,t)}function Of(e,t,n){return t=CD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CD(e){var t=GR(e,"string");return Fs(t)=="symbol"?t:String(t)}function GR(e,t){if(Fs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Fs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YR(e,t){if(e==null)return{};var n=XR(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function XR(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function QR(e){return e.value}function ZR(e,t){if(q.isValidElement(e))return q.cloneElement(e,t);if(typeof e=="function")return q.createElement(e,t);t.ref;var n=YR(t,UR);return q.createElement(Qy,n)}var KS=1,Ul=(function(e){KR(t,e);function t(){var n;qR(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=HR(this,t,[].concat(i)),Of(kD(n),"lastBoundingBox",{width:-1,height:-1}),n}return WR(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){return this.wrapperNode&&this.wrapperNode.getBoundingClientRect?this.wrapperNode.getBoundingClientRect():null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var i=this.wrapperNode.getBoundingClientRect();(Math.abs(i.width-this.lastBoundingBox.width)>KS||Math.abs(i.height-this.lastBoundingBox.height)>KS)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i))}else(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?yi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,c=i.align,u=i.verticalAlign,f=i.margin,d=i.chartWidth,h=i.chartHeight,m,x;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(c==="center"&&o==="vertical"){var v=this.getBBoxSnapshot();m={left:((d||0)-v.width)/2}}else m=c==="right"?{right:f&&f.right||0}:{left:f&&f.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(u==="middle"){var j=this.getBBoxSnapshot();x={top:((h||0)-j.height)/2}}else x=u==="bottom"?{bottom:f&&f.bottom||0}:{top:f&&f.top||0};return yi(yi({},m),x)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,c=i.width,u=i.height,f=i.wrapperStyle,d=i.payloadUniqBy,h=i.payload,m=yi(yi({position:"absolute",width:c||"auto",height:u||"auto"},this.getDefaultPosition(f)),f);return q.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(v){r.wrapperNode=v}},ZR(o,yi(yi({},this.props),{},{payload:ND(h,d,QR)})))}}],[{key:"getWithHeight",value:function(r,i){var o=r.props.layout;return o==="vertical"&&he(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}]),t})(O.PureComponent);Of(Ul,"displayName","Legend");Of(Ul,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var yx,GS;function JR(){if(GS)return yx;GS=1;var e=Pc(),t=Jy(),n=An(),r=e?e.isConcatSpreadable:void 0;function i(o){return n(o)||t(o)||!!(r&&o&&o[r])}return yx=i,yx}var bx,YS;function AD(){if(YS)return bx;YS=1;var e=hD(),t=JR();function n(r,i,o,c,u){var f=-1,d=r.length;for(o||(o=t),u||(u=[]);++f<d;){var h=r[f];i>0&&o(h)?i>1?n(h,i-1,o,c,u):e(u,h):c||(u[u.length]=h)}return u}return bx=n,bx}var wx,XS;function e$(){if(XS)return wx;XS=1;function e(t){return function(n,r,i){for(var o=-1,c=Object(n),u=i(n),f=u.length;f--;){var d=u[t?f:++o];if(r(c[d],d,c)===!1)break}return n}}return wx=e,wx}var jx,QS;function t$(){if(QS)return jx;QS=1;var e=e$(),t=e();return jx=t,jx}var Nx,ZS;function PD(){if(ZS)return Nx;ZS=1;var e=t$(),t=Df();function n(r,i){return r&&e(r,i,t)}return Nx=n,Nx}var Sx,JS;function n$(){if(JS)return Sx;JS=1;var e=Dc();function t(n,r){return function(i,o){if(i==null)return i;if(!e(i))return n(i,o);for(var c=i.length,u=r?c:-1,f=Object(i);(r?u--:++u<c)&&o(f[u],u,f)!==!1;);return i}}return Sx=t,Sx}var kx,ek;function rb(){if(ek)return kx;ek=1;var e=PD(),t=n$(),n=t(e);return kx=n,kx}var Cx,tk;function ED(){if(tk)return Cx;tk=1;var e=rb(),t=Dc();function n(r,i){var o=-1,c=t(r)?Array(r.length):[];return e(r,function(u,f,d){c[++o]=i(u,f,d)}),c}return Cx=n,Cx}var Ax,nk;function r$(){if(nk)return Ax;nk=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return Ax=e,Ax}var Px,rk;function a$(){if(rk)return Px;rk=1;var e=co();function t(n,r){if(n!==r){var i=n!==void 0,o=n===null,c=n===n,u=e(n),f=r!==void 0,d=r===null,h=r===r,m=e(r);if(!d&&!m&&!u&&n>r||u&&f&&h&&!d&&!m||o&&f&&h||!i&&h||!c)return 1;if(!o&&!u&&!m&&n<r||m&&i&&c&&!o&&!u||d&&i&&c||!f&&c||!h)return-1}return 0}return Px=t,Px}var Ex,ak;function i$(){if(ak)return Ex;ak=1;var e=a$();function t(n,r,i){for(var o=-1,c=n.criteria,u=r.criteria,f=c.length,d=i.length;++o<f;){var h=e(c[o],u[o]);if(h){if(o>=d)return h;var m=i[o];return h*(m=="desc"?-1:1)}}return n.index-r.index}return Ex=t,Ex}var Dx,ik;function s$(){if(ik)return Dx;ik=1;var e=Wy(),t=Hy(),n=Ja(),r=ED(),i=r$(),o=xD(),c=i$(),u=po(),f=An();function d(h,m,x){m.length?m=e(m,function(b){return f(b)?function(w){return t(w,b.length===1?b[0]:b)}:b}):m=[u];var v=-1;m=e(m,o(n));var j=r(h,function(b,w,y){var S=e(m,function(P){return P(b)});return{criteria:S,index:++v,value:b}});return i(j,function(b,w){return c(b,w,x)})}return Dx=d,Dx}var Ox,sk;function o$(){if(sk)return Ox;sk=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return Ox=e,Ox}var Ix,ok;function l$(){if(ok)return Ix;ok=1;var e=o$(),t=Math.max;function n(r,i,o){return i=t(i===void 0?r.length-1:i,0),function(){for(var c=arguments,u=-1,f=t(c.length-i,0),d=Array(f);++u<f;)d[u]=c[i+u];u=-1;for(var h=Array(i+1);++u<i;)h[u]=c[u];return h[i]=o(d),e(r,this,h)}}return Ix=n,Ix}var Tx,lk;function c$(){if(lk)return Tx;lk=1;function e(t){return function(){return t}}return Tx=e,Tx}var _x,ck;function DD(){if(ck)return _x;ck=1;var e=Hi(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}})();return _x=t,_x}var Mx,uk;function u$(){if(uk)return Mx;uk=1;var e=c$(),t=DD(),n=po(),r=t?function(i,o){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:n;return Mx=r,Mx}var Rx,dk;function d$(){if(dk)return Rx;dk=1;var e=800,t=16,n=Date.now;function r(i){var o=0,c=0;return function(){var u=n(),f=t-(u-c);if(c=u,f>0){if(++o>=e)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return Rx=r,Rx}var $x,fk;function f$(){if(fk)return $x;fk=1;var e=u$(),t=d$(),n=t(e);return $x=n,$x}var zx,pk;function p$(){if(pk)return zx;pk=1;var e=po(),t=l$(),n=f$();function r(i,o){return n(t(i,o,e),i+"")}return zx=r,zx}var Lx,hk;function If(){if(hk)return Lx;hk=1;var e=Fy(),t=Dc(),n=eb(),r=Za();function i(o,c,u){if(!r(u))return!1;var f=typeof c;return(f=="number"?t(u)&&n(c,u.length):f=="string"&&c in u)?e(u[c],o):!1}return Lx=i,Lx}var Bx,mk;function h$(){if(mk)return Bx;mk=1;var e=AD(),t=s$(),n=p$(),r=If(),i=n(function(o,c){if(o==null)return[];var u=c.length;return u>1&&r(o,c[0],c[1])?c=[]:u>2&&r(c[0],c[1],c[2])&&(c=[c[0]]),t(o,e(c,1),[])});return Bx=i,Bx}var m$=h$();const ab=lt(m$);function ql(e){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ql(e)}function xv(){return xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xv.apply(this,arguments)}function x$(e,t){return b$(e)||y$(e,t)||v$(e,t)||g$()}function g$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v$(e,t){if(e){if(typeof e=="string")return xk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xk(e,t)}}function xk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y$(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,c,u=[],f=!0,d=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(f=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);f=!0);}catch(h){d=!0,i=h}finally{try{if(!f&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(d)throw i}}return u}}function b$(e){if(Array.isArray(e))return e}function gk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gk(Object(n),!0).forEach(function(r){w$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function w$(e,t,n){return t=j$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j$(e){var t=N$(e,"string");return ql(t)=="symbol"?t:String(t)}function N$(e,t){if(ql(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S$(e){return Array.isArray(e)&&Mt(e[0])&&Mt(e[1])?e.join(" ~ "):e}var k$=function(t){var n=t.separator,r=n===void 0?" : ":n,i=t.contentStyle,o=i===void 0?{}:i,c=t.itemStyle,u=c===void 0?{}:c,f=t.labelStyle,d=f===void 0?{}:f,h=t.payload,m=t.formatter,x=t.itemSorter,v=t.wrapperClassName,j=t.labelClassName,b=t.label,w=t.labelFormatter,y=t.accessibilityLayer,S=y===void 0?!1:y,P=function(){if(h&&h.length){var z={padding:0,margin:0},L=(x?ab(h,x):h).map(function(_,U){if(_.type==="none")return null;var G=Fx({display:"block",paddingTop:4,paddingBottom:4,color:_.color||"#000"},u),W=_.formatter||m||S$,K=_.value,X=_.name,R=K,Q=X;if(W&&R!=null&&Q!=null){var J=W(K,X,_,U,h);if(Array.isArray(J)){var te=x$(J,2);R=te[0],Q=te[1]}else R=J}return q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:G},Mt(Q)?q.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,Mt(Q)?q.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,q.createElement("span",{className:"recharts-tooltip-item-value"},R),q.createElement("span",{className:"recharts-tooltip-item-unit"},_.unit||""))});return q.createElement("ul",{className:"recharts-tooltip-item-list",style:z},L)}return null},k=Fx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),C=Fx({margin:0},d),E=!Be(b),D=E?b:"",I=Ye("recharts-default-tooltip",v),$=Ye("recharts-tooltip-label",j);E&&w&&h!==void 0&&h!==null&&(D=w(b,h));var B=S?{role:"status","aria-live":"assertive"}:{};return q.createElement("div",xv({className:I,style:k},B),q.createElement("p",{className:$,style:C},q.isValidElement(D)?D:"".concat(D)),P())};function Wl(e){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wl(e)}function Qu(e,t,n){return t=C$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C$(e){var t=A$(e,"string");return Wl(t)=="symbol"?t:String(t)}function A$(e,t){if(Wl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sl="recharts-tooltip-wrapper",P$={visibility:"hidden"};function E$(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Ye(sl,Qu(Qu(Qu(Qu({},"".concat(sl,"-right"),he(n)&&t&&he(t.x)&&n>=t.x),"".concat(sl,"-left"),he(n)&&t&&he(t.x)&&n<t.x),"".concat(sl,"-bottom"),he(r)&&t&&he(t.y)&&r>=t.y),"".concat(sl,"-top"),he(r)&&t&&he(t.y)&&r<t.y))}function vk(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,o=e.position,c=e.reverseDirection,u=e.tooltipDimension,f=e.viewBox,d=e.viewBoxDimension;if(o&&he(o[r]))return o[r];var h=n[r]-u-i,m=n[r]+i;if(t[r])return c[r]?h:m;if(c[r]){var x=h,v=f[r];return x<v?Math.max(m,f[r]):Math.max(h,f[r])}var j=m+u,b=f[r]+d;return j>b?Math.max(h,f[r]):Math.max(m,f[r])}function D$(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function O$(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,i=e.position,o=e.reverseDirection,c=e.tooltipBox,u=e.useTranslate3d,f=e.viewBox,d,h,m;return c.height>0&&c.width>0&&n?(h=vk({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:c.width,viewBox:f,viewBoxDimension:f.width}),m=vk({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:c.height,viewBox:f,viewBoxDimension:f.height}),d=D$({translateX:h,translateY:m,useTranslate3d:u})):d=P$,{cssProperties:d,cssClasses:E$({translateX:h,translateY:m,coordinate:n})}}function Us(e){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Us(e)}function yk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yk(Object(n),!0).forEach(function(r){fd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ID(r.key),r)}}function _$(e,t,n){return t&&T$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function M$(e,t,n){return t=Pd(t),R$(e,OD()?Reflect.construct(t,n||[],Pd(e).constructor):t.apply(e,n))}function R$(e,t){if(t&&(Us(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dd(e)}function OD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OD=function(){return!!e})()}function Pd(e){return Pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pd(e)}function dd(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gv(e,t)}function gv(e,t){return gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gv(e,t)}function fd(e,t,n){return t=ID(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ID(e){var t=z$(e,"string");return Us(t)=="symbol"?t:String(t)}function z$(e,t){if(Us(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Us(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wk=1,L$=(function(e){$$(t,e);function t(){var n;I$(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=M$(this,t,[].concat(i)),fd(dd(n),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),fd(dd(n),"lastBoundingBox",{width:-1,height:-1}),fd(dd(n),"handleKeyDown",function(c){if(c.key==="Escape"){var u,f,d,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(f=n.props.coordinate)===null||f===void 0?void 0:f.x)!==null&&u!==void 0?u:0,y:(d=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&d!==void 0?d:0}})}}),n}return _$(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.lastBoundingBox.width)>wk||Math.abs(r.height-this.lastBoundingBox.height)>wk)&&(this.lastBoundingBox.width=r.width,this.lastBoundingBox.height=r.height)}else(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1)}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,c=i.allowEscapeViewBox,u=i.animationDuration,f=i.animationEasing,d=i.children,h=i.coordinate,m=i.hasPayload,x=i.isAnimationActive,v=i.offset,j=i.position,b=i.reverseDirection,w=i.useTranslate3d,y=i.viewBox,S=i.wrapperStyle,P=O$({allowEscapeViewBox:c,coordinate:h,offsetTopLeft:v,position:j,reverseDirection:b,tooltipBox:{height:this.lastBoundingBox.height,width:this.lastBoundingBox.width},useTranslate3d:w,viewBox:y}),k=P.cssClasses,C=P.cssProperties,E=bk(bk({transition:x&&o?"transform ".concat(u,"ms ").concat(f):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&m?"visible":"hidden",position:"absolute",top:0,left:0},S);return q.createElement("div",{tabIndex:-1,className:k,style:E,ref:function(I){r.wrapperNode=I}},d)}}]),t})(O.PureComponent),B$=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ei={isSsr:B$()};function qs(e){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qs(e)}function jk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jk(Object(n),!0).forEach(function(r){ib(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_D(r.key),r)}}function q$(e,t,n){return t&&U$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function W$(e,t,n){return t=Ed(t),H$(e,TD()?Reflect.construct(t,n||[],Ed(e).constructor):t.apply(e,n))}function H$(e,t){if(t&&(qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V$(e)}function V$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TD=function(){return!!e})()}function Ed(e){return Ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ed(e)}function K$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vv(e,t)}function vv(e,t){return vv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vv(e,t)}function ib(e,t,n){return t=_D(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _D(e){var t=G$(e,"string");return qs(t)=="symbol"?t:String(t)}function G$(e,t){if(qs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(qs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Y$(e){return e.dataKey}function X$(e,t){return q.isValidElement(e)?q.cloneElement(e,t):typeof e=="function"?q.createElement(e,t):q.createElement(k$,t)}var pr=(function(e){K$(t,e);function t(){return F$(this,t),W$(this,t,arguments)}return q$(t,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,c=i.allowEscapeViewBox,u=i.animationDuration,f=i.animationEasing,d=i.content,h=i.coordinate,m=i.filterNull,x=i.isAnimationActive,v=i.offset,j=i.payload,b=i.payloadUniqBy,w=i.position,y=i.reverseDirection,S=i.useTranslate3d,P=i.viewBox,k=i.wrapperStyle,C=j??[];m&&C.length&&(C=ND(j.filter(function(D){return D.value!=null&&(D.hide!==!0||r.props.includeHidden)}),b,Y$));var E=C.length>0;return q.createElement(L$,{allowEscapeViewBox:c,animationDuration:u,animationEasing:f,isAnimationActive:x,active:o,coordinate:h,hasPayload:E,offset:v,position:w,reverseDirection:y,useTranslate3d:S,viewBox:P,wrapperStyle:k},X$(d,Nk(Nk({},this.props),{},{payload:C})))}}]),t})(O.PureComponent);ib(pr,"displayName","Tooltip");ib(pr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ei.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Ux,Sk;function Q$(){if(Sk)return Ux;Sk=1;var e=Lr(),t=function(){return e.Date.now()};return Ux=t,Ux}var qx,kk;function Z$(){if(kk)return qx;kk=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return qx=t,qx}var Wx,Ck;function J$(){if(Ck)return Wx;Ck=1;var e=Z$(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return Wx=n,Wx}var Hx,Ak;function MD(){if(Ak)return Hx;Ak=1;var e=J$(),t=Za(),n=co(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;function f(d){if(typeof d=="number")return d;if(n(d))return r;if(t(d)){var h=typeof d.valueOf=="function"?d.valueOf():d;d=t(h)?h+"":h}if(typeof d!="string")return d===0?d:+d;d=e(d);var m=o.test(d);return m||c.test(d)?u(d.slice(2),m?2:8):i.test(d)?r:+d}return Hx=f,Hx}var Vx,Pk;function e8(){if(Pk)return Vx;Pk=1;var e=Za(),t=Q$(),n=MD(),r="Expected a function",i=Math.max,o=Math.min;function c(u,f,d){var h,m,x,v,j,b,w=0,y=!1,S=!1,P=!0;if(typeof u!="function")throw new TypeError(r);f=n(f)||0,e(d)&&(y=!!d.leading,S="maxWait"in d,x=S?i(n(d.maxWait)||0,f):x,P="trailing"in d?!!d.trailing:P);function k(L){var _=h,U=m;return h=m=void 0,w=L,v=u.apply(U,_),v}function C(L){return w=L,j=setTimeout(I,f),y?k(L):v}function E(L){var _=L-b,U=L-w,G=f-_;return S?o(G,x-U):G}function D(L){var _=L-b,U=L-w;return b===void 0||_>=f||_<0||S&&U>=x}function I(){var L=t();if(D(L))return $(L);j=setTimeout(I,E(L))}function $(L){return j=void 0,P&&h?k(L):(h=m=void 0,v)}function B(){j!==void 0&&clearTimeout(j),w=0,h=b=m=j=void 0}function M(){return j===void 0?v:$(t())}function z(){var L=t(),_=D(L);if(h=arguments,m=this,b=L,_){if(j===void 0)return C(b);if(S)return clearTimeout(j),j=setTimeout(I,f),k(b)}return j===void 0&&(j=setTimeout(I,f)),v}return z.cancel=B,z.flush=M,z}return Vx=c,Vx}var Kx,Ek;function t8(){if(Ek)return Kx;Ek=1;var e=e8(),t=Za(),n="Expected a function";function r(i,o,c){var u=!0,f=!0;if(typeof i!="function")throw new TypeError(n);return t(c)&&(u="leading"in c?!!c.leading:u,f="trailing"in c?!!c.trailing:f),e(i,o,{leading:u,maxWait:o,trailing:f})}return Kx=r,Kx}var n8=t8();const RD=lt(n8);function Hl(e){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(e)}function Dk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dk(Object(n),!0).forEach(function(r){r8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function r8(e,t,n){return t=a8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a8(e){var t=i8(e,"string");return Hl(t)=="symbol"?t:String(t)}function i8(e,t){if(Hl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s8(e,t){return u8(e)||c8(e,t)||l8(e,t)||o8()}function o8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l8(e,t){if(e){if(typeof e=="string")return Ok(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ok(e,t)}}function Ok(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c8(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,c,u=[],f=!0,d=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(f=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);f=!0);}catch(h){d=!0,i=h}finally{try{if(!f&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(d)throw i}}return u}}function u8(e){if(Array.isArray(e))return e}var Ik=O.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=e.width,c=o===void 0?"100%":o,u=e.height,f=u===void 0?"100%":u,d=e.minWidth,h=d===void 0?0:d,m=e.minHeight,x=e.maxHeight,v=e.children,j=e.debounce,b=j===void 0?0:j,w=e.id,y=e.className,S=e.onResize,P=e.style,k=P===void 0?{}:P,C=O.useRef(null),E=O.useRef();E.current=S,O.useImperativeHandle(t,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var D=O.useState({containerWidth:i.width,containerHeight:i.height}),I=s8(D,2),$=I[0],B=I[1],M=O.useCallback(function(L,_){B(function(U){var G=Math.round(L),W=Math.round(_);return U.containerWidth===G&&U.containerHeight===W?U:{containerWidth:G,containerHeight:W}})},[]);O.useEffect(function(){var L=function(X){var R,Q=X[0].contentRect,J=Q.width,te=Q.height;M(J,te),(R=E.current)===null||R===void 0||R.call(E,J,te)};b>0&&(L=RD(L,b,{trailing:!0,leading:!1}));var _=new ResizeObserver(L),U=C.current.getBoundingClientRect(),G=U.width,W=U.height;return M(G,W),_.observe(C.current),function(){_.disconnect()}},[M,b]);var z=O.useMemo(function(){var L=$.containerWidth,_=$.containerHeight;if(L<0||_<0)return null;aa(Si(c)||Si(f),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,c,f),aa(!n||n>0,"The aspect(%s) must be greater than zero.",n);var U=Si(c)?L:c,G=Si(f)?_:f;n&&n>0&&(U?G=U/n:G&&(U=G*n),x&&G>x&&(G=x)),aa(U>0||G>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,G,c,f,h,m,n);var W=!Array.isArray(v)&&tv.isElement(v)&&ra(v.type).endsWith("Chart");return q.Children.map(v,function(K){return tv.isElement(K)?O.cloneElement(K,Zu({width:U,height:G},W?{style:Zu({height:"100%",width:"100%",maxHeight:G,maxWidth:U},K.props.style)}:{})):K})},[n,v,f,x,m,h,$,c]);return q.createElement("div",{id:w?"".concat(w):void 0,className:Ye("recharts-responsive-container",y),style:Zu(Zu({},k),{},{width:c,height:f,minWidth:h,minHeight:m,maxHeight:x}),ref:C},z)}),sb=function(t){return null};sb.displayName="Cell";function Vl(e){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vl(e)}function Tk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tk(Object(n),!0).forEach(function(r){d8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function d8(e,t,n){return t=f8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f8(e){var t=p8(e,"string");return Vl(t)=="symbol"?t:String(t)}function p8(e,t){if(Vl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ss={widthCache:{},cacheCount:0},h8=2e3,m8={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},_k="recharts_measurement_span";function x8(e){var t=yv({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Nl=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ei.isSsr)return{width:0,height:0};var r=x8(n),i=JSON.stringify({text:t,copyStyle:r});if(Ss.widthCache[i])return Ss.widthCache[i];try{var o=document.getElementById(_k);o||(o=document.createElement("span"),o.setAttribute("id",_k),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var c=yv(yv({},m8),r);Object.assign(o.style,c),o.textContent="".concat(t);var u=o.getBoundingClientRect(),f={width:u.width,height:u.height};return Ss.widthCache[i]=f,++Ss.cacheCount>h8&&(Ss.cacheCount=0,Ss.widthCache={}),f}catch{return{width:0,height:0}}},g8=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Kl(e){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kl(e)}function Dd(e,t){return w8(e)||b8(e,t)||y8(e,t)||v8()}function v8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y8(e,t){if(e){if(typeof e=="string")return Mk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mk(e,t)}}function Mk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b8(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,c,u=[],f=!0,d=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);f=!0);}catch(h){d=!0,i=h}finally{try{if(!f&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(d)throw i}}return u}}function w8(e){if(Array.isArray(e))return e}function j8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,S8(r.key),r)}}function N8(e,t,n){return t&&Rk(e.prototype,t),n&&Rk(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function S8(e){var t=k8(e,"string");return Kl(t)=="symbol"?t:String(t)}function k8(e,t){if(Kl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $k=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,C8=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,A8=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,$D={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},P8=Object.keys($D),Is="NaN";function E8(e,t){return e*$D[t]}var Ju=(function(){function e(t,n){j8(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!C8.test(n)&&(this.num=NaN,this.unit=""),P8.includes(n)&&(this.num=E8(t,n),this.unit="px")}return N8(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=A8.exec(n))!==null&&r!==void 0?r:[],o=Dd(i,3),c=o[1],u=o[2];return new e(parseFloat(c),u??"")}}]),e})();function zD(e){if(e.includes(Is))return Is;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=$k.exec(t))!==null&&n!==void 0?n:[],i=Dd(r,4),o=i[1],c=i[2],u=i[3],f=Ju.parse(o??""),d=Ju.parse(u??""),h=c==="*"?f.multiply(d):f.divide(d);if(h.isNaN())return Is;t=t.replace($k,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,x=(m=zk.exec(t))!==null&&m!==void 0?m:[],v=Dd(x,4),j=v[1],b=v[2],w=v[3],y=Ju.parse(j??""),S=Ju.parse(w??""),P=b==="+"?y.add(S):y.subtract(S);if(P.isNaN())return Is;t=t.replace(zk,P.toString())}return t}var Lk=/\(([^()]*)\)/;function D8(e){for(var t=e;t.includes("(");){var n=Lk.exec(t),r=Dd(n,2),i=r[1];t=t.replace(Lk,zD(i))}return t}function O8(e){var t=e.replace(/\s+/g,"");return t=D8(t),t=zD(t),t}function I8(e){try{return O8(e)}catch{return Is}}function Gx(e){var t=I8(e.slice(5,-1));return t===Is?"":t}var T8=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_8=["dx","dy","angle","className","breakAll"];function bv(){return bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bv.apply(this,arguments)}function Bk(e,t){if(e==null)return{};var n=M8(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function M8(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Fk(e,t){return L8(e)||z8(e,t)||$8(e,t)||R8()}function R8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $8(e,t){if(e){if(typeof e=="string")return Uk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uk(e,t)}}function Uk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z8(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,c,u=[],f=!0,d=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);f=!0);}catch(h){d=!0,i=h}finally{try{if(!f&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(d)throw i}}return u}}function L8(e){if(Array.isArray(e))return e}var LD=/[ \f\n\r\t\v\u2028\u2029]+/,BD=function(t){var n=t.children,r=t.breakAll,i=t.style;try{var o=[];Be(n)||(r?o=n.toString().split(""):o=n.toString().split(LD));var c=o.map(function(f){return{word:f,width:Nl(f,i).width}}),u=r?0:Nl("",i).width;return{wordsWithComputedWidth:c,spaceWidth:u}}catch{return null}},B8=function(t,n,r,i,o){var c=t.maxLines,u=t.children,f=t.style,d=t.breakAll,h=he(c),m=u,x=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function(G,W){var K=W.word,X=W.width,R=G[G.length-1];if(R&&(i==null||o||R.width+X+r<Number(i)))R.words.push(K),R.width+=X+r;else{var Q={words:[K],width:X};G.push(Q)}return G},[])},v=x(n),j=function(U){return U.reduce(function(G,W){return G.width>W.width?G:W})};if(!h)return v;for(var b="",w=function(U){var G=m.slice(0,U),W=BD({breakAll:d,style:f,children:G+b}).wordsWithComputedWidth,K=x(W),X=K.length>c||j(K).width>Number(i);return[X,K]},y=0,S=m.length-1,P=0,k;y<=S&&P<=m.length-1;){var C=Math.floor((y+S)/2),E=C-1,D=w(E),I=Fk(D,2),$=I[0],B=I[1],M=w(C),z=Fk(M,1),L=z[0];if(!$&&!L&&(y=C+1),$&&L&&(S=C-1),!$&&L){k=B;break}P++}return k||v},qk=function(t){var n=Be(t)?[]:t.toString().split(LD);return[{words:n}]},F8=function(t){var n=t.width,r=t.scaleToFit,i=t.children,o=t.style,c=t.breakAll,u=t.maxLines;if((n||r)&&!ei.isSsr){var f,d,h=BD({breakAll:c,children:i,style:o});if(h){var m=h.wordsWithComputedWidth,x=h.spaceWidth;f=m,d=x}else return qk(i);return B8({breakAll:c,children:i,maxLines:u,style:o},f,d,n,r)}return qk(i)},Wk="#808080",Od=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,o=i===void 0?0:i,c=t.lineHeight,u=c===void 0?"1em":c,f=t.capHeight,d=f===void 0?"0.71em":f,h=t.scaleToFit,m=h===void 0?!1:h,x=t.textAnchor,v=x===void 0?"start":x,j=t.verticalAnchor,b=j===void 0?"end":j,w=t.fill,y=w===void 0?Wk:w,S=Bk(t,T8),P=O.useMemo(function(){return F8({breakAll:S.breakAll,children:S.children,maxLines:S.maxLines,scaleToFit:m,style:S.style,width:S.width})},[S.breakAll,S.children,S.maxLines,m,S.style,S.width]),k=S.dx,C=S.dy,E=S.angle,D=S.className,I=S.breakAll,$=Bk(S,_8);if(!Mt(r)||!Mt(o))return null;var B=r+(he(k)?k:0),M=o+(he(C)?C:0),z;switch(b){case"start":z=Gx("calc(".concat(d,")"));break;case"middle":z=Gx("calc(".concat((P.length-1)/2," * -").concat(u," + (").concat(d," / 2))"));break;default:z=Gx("calc(".concat(P.length-1," * -").concat(u,")"));break}var L=[];if(m){var _=P[0].width,U=S.width;L.push("scale(".concat((he(U)?U/_:1)/_,")"))}return E&&L.push("rotate(".concat(E,", ").concat(B,", ").concat(M,")")),L.length&&($.transform=L.join(" ")),q.createElement("text",bv({},Le($,!0),{x:B,y:M,className:Ye("recharts-text",D),textAnchor:v,fill:y.includes("url")?Wk:y}),P.map(function(G,W){var K=G.words.join(I?"":" ");return q.createElement("tspan",{x:B,dy:W===0?z:u,key:K},K)}))};function Ya(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function U8(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ob(e){let t,n,r;e.length!==2?(t=Ya,n=(u,f)=>Ya(e(u),f),r=(u,f)=>e(u)-f):(t=e===Ya||e===U8?e:q8,n=e,r=e);function i(u,f,d=0,h=u.length){if(d<h){if(t(f,f)!==0)return h;do{const m=d+h>>>1;n(u[m],f)<0?d=m+1:h=m}while(d<h)}return d}function o(u,f,d=0,h=u.length){if(d<h){if(t(f,f)!==0)return h;do{const m=d+h>>>1;n(u[m],f)<=0?d=m+1:h=m}while(d<h)}return d}function c(u,f,d=0,h=u.length){const m=i(u,f,d,h-1);return m>d&&r(u[m-1],f)>-r(u[m],f)?m-1:m}return{left:i,center:c,right:o}}function q8(){return 0}function FD(e){return e===null?NaN:+e}function*W8(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const H8=ob(Ya),Oc=H8.right;ob(FD).center;class Hk extends Map{constructor(t,n=G8){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Vk(this,t))}has(t){return super.has(Vk(this,t))}set(t,n){return super.set(V8(this,t),n)}delete(t){return super.delete(K8(this,t))}}function Vk({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function V8({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function K8({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function G8(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Y8(e=Ya){if(e===Ya)return UD;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function UD(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const X8=Math.sqrt(50),Q8=Math.sqrt(10),Z8=Math.sqrt(2);function Id(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),c=o>=X8?10:o>=Q8?5:o>=Z8?2:1;let u,f,d;return i<0?(d=Math.pow(10,-i)/c,u=Math.round(e*d),f=Math.round(t*d),u/d<e&&++u,f/d>t&&--f,d=-d):(d=Math.pow(10,i)*c,u=Math.round(e/d),f=Math.round(t/d),u*d<e&&++u,f*d>t&&--f),f<u&&.5<=n&&n<2?Id(e,t,n*2):[u,f,d]}function wv(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,c]=r?Id(t,e,n):Id(e,t,n);if(!(o>=i))return[];const u=o-i+1,f=new Array(u);if(r)if(c<0)for(let d=0;d<u;++d)f[d]=(o-d)/-c;else for(let d=0;d<u;++d)f[d]=(o-d)*c;else if(c<0)for(let d=0;d<u;++d)f[d]=(i+d)/-c;else for(let d=0;d<u;++d)f[d]=(i+d)*c;return f}function jv(e,t,n){return t=+t,e=+e,n=+n,Id(e,t,n)[2]}function Nv(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?jv(t,e,n):jv(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Kk(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Gk(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function qD(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?UD:Y8(i);r>n;){if(r-n>600){const f=r-n+1,d=t-n+1,h=Math.log(f),m=.5*Math.exp(2*h/3),x=.5*Math.sqrt(h*m*(f-m)/f)*(d-f/2<0?-1:1),v=Math.max(n,Math.floor(t-d*m/f+x)),j=Math.min(r,Math.floor(t+(f-d)*m/f+x));qD(e,t,v,j,i)}const o=e[t];let c=n,u=r;for(ol(e,n,t),i(e[r],o)>0&&ol(e,n,r);c<u;){for(ol(e,c,u),++c,--u;i(e[c],o)<0;)++c;for(;i(e[u],o)>0;)--u}i(e[n],o)===0?ol(e,n,u):(++u,ol(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function ol(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function J8(e,t,n){if(e=Float64Array.from(W8(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Gk(e);if(t>=1)return Kk(e);var r,i=(r-1)*t,o=Math.floor(i),c=Kk(qD(e,o).subarray(0,o+1)),u=Gk(e.subarray(o+1));return c+(u-c)*(i-o)}}function ez(e,t,n=FD){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),c=+n(e[o],o,e),u=+n(e[o+1],o+1,e);return c+(u-c)*(i-o)}}function tz(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function rr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ga(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Sv=Symbol("implicit");function lb(){var e=new Hk,t=[],n=[],r=Sv;function i(o){let c=e.get(o);if(c===void 0){if(r!==Sv)return r;e.set(o,c=t.push(o)-1)}return n[c%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Hk;for(const c of o)e.has(c)||e.set(c,t.push(c)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return lb(t,n).unknown(r)},rr.apply(i,arguments),i}function Gl(){var e=lb().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,c,u=!1,f=0,d=0,h=.5;delete e.unknown;function m(){var x=t().length,v=i<r,j=v?i:r,b=v?r:i;o=(b-j)/Math.max(1,x-f+d*2),u&&(o=Math.floor(o)),j+=(b-j-o*(x-f))*h,c=o*(1-f),u&&(j=Math.round(j),c=Math.round(c));var w=tz(x).map(function(y){return j+o*y});return n(v?w.reverse():w)}return e.domain=function(x){return arguments.length?(t(x),m()):t()},e.range=function(x){return arguments.length?([r,i]=x,r=+r,i=+i,m()):[r,i]},e.rangeRound=function(x){return[r,i]=x,r=+r,i=+i,u=!0,m()},e.bandwidth=function(){return c},e.step=function(){return o},e.round=function(x){return arguments.length?(u=!!x,m()):u},e.padding=function(x){return arguments.length?(f=Math.min(1,d=+x),m()):f},e.paddingInner=function(x){return arguments.length?(f=Math.min(1,x),m()):f},e.paddingOuter=function(x){return arguments.length?(d=+x,m()):d},e.align=function(x){return arguments.length?(h=Math.max(0,Math.min(1,x)),m()):h},e.copy=function(){return Gl(t(),[r,i]).round(u).paddingInner(f).paddingOuter(d).align(h)},rr.apply(m(),arguments)}function WD(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return WD(t())},e}function Sl(){return WD(Gl.apply(null,arguments).paddingInner(1))}function cb(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function HD(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ic(){}var Yl=.7,Td=1/Yl,Ms="\\s*([+-]?\\d+)\\s*",Xl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Tr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nz=/^#([0-9a-f]{3,8})$/,rz=new RegExp(`^rgb\\(${Ms},${Ms},${Ms}\\)$`),az=new RegExp(`^rgb\\(${Tr},${Tr},${Tr}\\)$`),iz=new RegExp(`^rgba\\(${Ms},${Ms},${Ms},${Xl}\\)$`),sz=new RegExp(`^rgba\\(${Tr},${Tr},${Tr},${Xl}\\)$`),oz=new RegExp(`^hsl\\(${Xl},${Tr},${Tr}\\)$`),lz=new RegExp(`^hsla\\(${Xl},${Tr},${Tr},${Xl}\\)$`),Yk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cb(Ic,Ql,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Xk,formatHex:Xk,formatHex8:cz,formatHsl:uz,formatRgb:Qk,toString:Qk});function Xk(){return this.rgb().formatHex()}function cz(){return this.rgb().formatHex8()}function uz(){return VD(this).formatHsl()}function Qk(){return this.rgb().formatRgb()}function Ql(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=nz.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Zk(t):n===3?new Sn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ed(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ed(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=rz.exec(e))?new Sn(t[1],t[2],t[3],1):(t=az.exec(e))?new Sn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=iz.exec(e))?ed(t[1],t[2],t[3],t[4]):(t=sz.exec(e))?ed(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=oz.exec(e))?tC(t[1],t[2]/100,t[3]/100,1):(t=lz.exec(e))?tC(t[1],t[2]/100,t[3]/100,t[4]):Yk.hasOwnProperty(e)?Zk(Yk[e]):e==="transparent"?new Sn(NaN,NaN,NaN,0):null}function Zk(e){return new Sn(e>>16&255,e>>8&255,e&255,1)}function ed(e,t,n,r){return r<=0&&(e=t=n=NaN),new Sn(e,t,n,r)}function dz(e){return e instanceof Ic||(e=Ql(e)),e?(e=e.rgb(),new Sn(e.r,e.g,e.b,e.opacity)):new Sn}function kv(e,t,n,r){return arguments.length===1?dz(e):new Sn(e,t,n,r??1)}function Sn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}cb(Sn,kv,HD(Ic,{brighter(e){return e=e==null?Td:Math.pow(Td,e),new Sn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Yl:Math.pow(Yl,e),new Sn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Sn(Oi(this.r),Oi(this.g),Oi(this.b),_d(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Jk,formatHex:Jk,formatHex8:fz,formatRgb:eC,toString:eC}));function Jk(){return`#${ki(this.r)}${ki(this.g)}${ki(this.b)}`}function fz(){return`#${ki(this.r)}${ki(this.g)}${ki(this.b)}${ki((isNaN(this.opacity)?1:this.opacity)*255)}`}function eC(){const e=_d(this.opacity);return`${e===1?"rgb(":"rgba("}${Oi(this.r)}, ${Oi(this.g)}, ${Oi(this.b)}${e===1?")":`, ${e})`}`}function _d(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Oi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ki(e){return e=Oi(e),(e<16?"0":"")+e.toString(16)}function tC(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new xr(e,t,n,r)}function VD(e){if(e instanceof xr)return new xr(e.h,e.s,e.l,e.opacity);if(e instanceof Ic||(e=Ql(e)),!e)return new xr;if(e instanceof xr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),c=NaN,u=o-i,f=(o+i)/2;return u?(t===o?c=(n-r)/u+(n<r)*6:n===o?c=(r-t)/u+2:c=(t-n)/u+4,u/=f<.5?o+i:2-o-i,c*=60):u=f>0&&f<1?0:c,new xr(c,u,f,e.opacity)}function pz(e,t,n,r){return arguments.length===1?VD(e):new xr(e,t,n,r??1)}function xr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}cb(xr,pz,HD(Ic,{brighter(e){return e=e==null?Td:Math.pow(Td,e),new xr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Yl:Math.pow(Yl,e),new xr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Sn(Yx(e>=240?e-240:e+120,i,r),Yx(e,i,r),Yx(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new xr(nC(this.h),td(this.s),td(this.l),_d(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_d(this.opacity);return`${e===1?"hsl(":"hsla("}${nC(this.h)}, ${td(this.s)*100}%, ${td(this.l)*100}%${e===1?")":`, ${e})`}`}}));function nC(e){return e=(e||0)%360,e<0?e+360:e}function td(e){return Math.max(0,Math.min(1,e||0))}function Yx(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const ub=e=>()=>e;function hz(e,t){return function(n){return e+n*t}}function mz(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function xz(e){return(e=+e)==1?KD:function(t,n){return n-t?mz(t,n,e):ub(isNaN(t)?n:t)}}function KD(e,t){var n=t-e;return n?hz(e,n):ub(isNaN(e)?t:e)}const rC=(function e(t){var n=xz(t);function r(i,o){var c=n((i=kv(i)).r,(o=kv(o)).r),u=n(i.g,o.g),f=n(i.b,o.b),d=KD(i.opacity,o.opacity);return function(h){return i.r=c(h),i.g=u(h),i.b=f(h),i.opacity=d(h),i+""}}return r.gamma=e,r})(1);function gz(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function vz(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function yz(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),c;for(c=0;c<r;++c)i[c]=ho(e[c],t[c]);for(;c<n;++c)o[c]=t[c];return function(u){for(c=0;c<r;++c)o[c]=i[c](u);return o}}function bz(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Md(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function wz(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=ho(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Cv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xx=new RegExp(Cv.source,"g");function jz(e){return function(){return e}}function Nz(e){return function(t){return e(t)+""}}function Sz(e,t){var n=Cv.lastIndex=Xx.lastIndex=0,r,i,o,c=-1,u=[],f=[];for(e=e+"",t=t+"";(r=Cv.exec(e))&&(i=Xx.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),u[c]?u[c]+=o:u[++c]=o),(r=r[0])===(i=i[0])?u[c]?u[c]+=i:u[++c]=i:(u[++c]=null,f.push({i:c,x:Md(r,i)})),n=Xx.lastIndex;return n<t.length&&(o=t.slice(n),u[c]?u[c]+=o:u[++c]=o),u.length<2?f[0]?Nz(f[0].x):jz(t):(t=f.length,function(d){for(var h=0,m;h<t;++h)u[(m=f[h]).i]=m.x(d);return u.join("")})}function ho(e,t){var n=typeof t,r;return t==null||n==="boolean"?ub(t):(n==="number"?Md:n==="string"?(r=Ql(t))?(t=r,rC):Sz:t instanceof Ql?rC:t instanceof Date?bz:vz(t)?gz:Array.isArray(t)?yz:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?wz:Md)(e,t)}function db(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function kz(e,t){t===void 0&&(t=e,e=ho);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(c){var u=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return o[u](c-u)}}function Cz(e){return function(){return e}}function Rd(e){return+e}var aC=[0,1];function fn(e){return e}function Av(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Cz(isNaN(t)?NaN:.5)}function Az(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Pz(e,t,n){var r=e[0],i=e[1],o=t[0],c=t[1];return i<r?(r=Av(i,r),o=n(c,o)):(r=Av(r,i),o=n(o,c)),function(u){return o(r(u))}}function Ez(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),c=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<r;)i[c]=Av(e[c],e[c+1]),o[c]=n(t[c],t[c+1]);return function(u){var f=Oc(e,u,1,r)-1;return o[f](i[f](u))}}function Tc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Tf(){var e=aC,t=aC,n=ho,r,i,o,c=fn,u,f,d;function h(){var x=Math.min(e.length,t.length);return c!==fn&&(c=Az(e[0],e[x-1])),u=x>2?Ez:Pz,f=d=null,m}function m(x){return x==null||isNaN(x=+x)?o:(f||(f=u(e.map(r),t,n)))(r(c(x)))}return m.invert=function(x){return c(i((d||(d=u(t,e.map(r),Md)))(x)))},m.domain=function(x){return arguments.length?(e=Array.from(x,Rd),h()):e.slice()},m.range=function(x){return arguments.length?(t=Array.from(x),h()):t.slice()},m.rangeRound=function(x){return t=Array.from(x),n=db,h()},m.clamp=function(x){return arguments.length?(c=x?!0:fn,h()):c!==fn},m.interpolate=function(x){return arguments.length?(n=x,h()):n},m.unknown=function(x){return arguments.length?(o=x,m):o},function(x,v){return r=x,i=v,h()}}function fb(){return Tf()(fn,fn)}function Dz(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function $d(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ws(e){return e=$d(Math.abs(e)),e?e[1]:NaN}function Oz(e,t){return function(n,r){for(var i=n.length,o=[],c=0,u=e[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),o.push(n.substring(i-=u,i+u)),!((f+=u+1)>r));)u=e[c=(c+1)%e.length];return o.reverse().join(t)}}function Iz(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Tz=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zl(e){if(!(t=Tz.exec(e)))throw new Error("invalid format: "+e);var t;return new pb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Zl.prototype=pb.prototype;function pb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}pb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _z(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var zd;function Mz(e,t){var n=$d(e,t);if(!n)return zd=void 0,e.toPrecision(t);var r=n[0],i=n[1],o=i-(zd=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,c=r.length;return o===c?r:o>c?r+new Array(o-c+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+$d(e,Math.max(0,t+o-1))[0]}function iC(e,t){var n=$d(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const sC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Dz,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>iC(e*100,t),r:iC,s:Mz,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function oC(e){return e}var lC=Array.prototype.map,cC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Rz(e){var t=e.grouping===void 0||e.thousands===void 0?oC:Oz(lC.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?oC:Iz(lC.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function d(m,x){m=Zl(m);var v=m.fill,j=m.align,b=m.sign,w=m.symbol,y=m.zero,S=m.width,P=m.comma,k=m.precision,C=m.trim,E=m.type;E==="n"?(P=!0,E="g"):sC[E]||(k===void 0&&(k=12),C=!0,E="g"),(y||v==="0"&&j==="=")&&(y=!0,v="0",j="=");var D=(x&&x.prefix!==void 0?x.prefix:"")+(w==="$"?n:w==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():""),I=(w==="$"?r:/[%p]/.test(E)?c:"")+(x&&x.suffix!==void 0?x.suffix:""),$=sC[E],B=/[defgprs%]/.test(E);k=k===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function M(z){var L=D,_=I,U,G,W;if(E==="c")_=$(z)+_,z="";else{z=+z;var K=z<0||1/z<0;if(z=isNaN(z)?f:$(Math.abs(z),k),C&&(z=_z(z)),K&&+z==0&&b!=="+"&&(K=!1),L=(K?b==="("?b:u:b==="-"||b==="("?"":b)+L,_=(E==="s"&&!isNaN(z)&&zd!==void 0?cC[8+zd/3]:"")+_+(K&&b==="("?")":""),B){for(U=-1,G=z.length;++U<G;)if(W=z.charCodeAt(U),48>W||W>57){_=(W===46?i+z.slice(U+1):z.slice(U))+_,z=z.slice(0,U);break}}}P&&!y&&(z=t(z,1/0));var X=L.length+z.length+_.length,R=X<S?new Array(S-X+1).join(v):"";switch(P&&y&&(z=t(R+z,R.length?S-_.length:1/0),R=""),j){case"<":z=L+z+_+R;break;case"=":z=L+R+z+_;break;case"^":z=R.slice(0,X=R.length>>1)+L+z+_+R.slice(X);break;default:z=R+L+z+_;break}return o(z)}return M.toString=function(){return m+""},M}function h(m,x){var v=Math.max(-8,Math.min(8,Math.floor(Ws(x)/3)))*3,j=Math.pow(10,-v),b=d((m=Zl(m),m.type="f",m),{suffix:cC[8+v/3]});return function(w){return b(j*w)}}return{format:d,formatPrefix:h}}var nd,hb,GD;$z({thousands:",",grouping:[3],currency:["$",""]});function $z(e){return nd=Rz(e),hb=nd.format,GD=nd.formatPrefix,nd}function zz(e){return Math.max(0,-Ws(Math.abs(e)))}function Lz(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ws(t)/3)))*3-Ws(Math.abs(e)))}function Bz(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ws(t)-Ws(e))+1}function YD(e,t,n,r){var i=Nv(e,t,n),o;switch(r=Zl(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=Lz(i,c))&&(r.precision=o),GD(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Bz(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=zz(i))&&(r.precision=o-(r.type==="%")*2);break}}return hb(r)}function ti(e){var t=e.domain;return e.ticks=function(n){var r=t();return wv(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return YD(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,c=r[i],u=r[o],f,d,h=10;for(u<c&&(d=c,c=u,u=d,d=i,i=o,o=d);h-- >0;){if(d=jv(c,u,n),d===f)return r[i]=c,r[o]=u,t(r);if(d>0)c=Math.floor(c/d)*d,u=Math.ceil(u/d)*d;else if(d<0)c=Math.ceil(c*d)/d,u=Math.floor(u*d)/d;else break;f=d}return e},e}function Ld(){var e=fb();return e.copy=function(){return Tc(e,Ld())},rr.apply(e,arguments),ti(e)}function XD(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Rd),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return XD(e).unknown(t)},e=arguments.length?Array.from(e,Rd):[0,1],ti(n)}function QD(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],c;return o<i&&(c=n,n=r,r=c,c=i,i=o,o=c),e[n]=t.floor(i),e[r]=t.ceil(o),e}function uC(e){return Math.log(e)}function dC(e){return Math.exp(e)}function Fz(e){return-Math.log(-e)}function Uz(e){return-Math.exp(-e)}function qz(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Wz(e){return e===10?qz:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Hz(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function fC(e){return(t,n)=>-e(-t,n)}function mb(e){const t=e(uC,dC),n=t.domain;let r=10,i,o;function c(){return i=Hz(r),o=Wz(r),n()[0]<0?(i=fC(i),o=fC(o),e(Fz,Uz)):e(uC,dC),t}return t.base=function(u){return arguments.length?(r=+u,c()):r},t.domain=function(u){return arguments.length?(n(u),c()):n()},t.ticks=u=>{const f=n();let d=f[0],h=f[f.length-1];const m=h<d;m&&([d,h]=[h,d]);let x=i(d),v=i(h),j,b;const w=u==null?10:+u;let y=[];if(!(r%1)&&v-x<w){if(x=Math.floor(x),v=Math.ceil(v),d>0){for(;x<=v;++x)for(j=1;j<r;++j)if(b=x<0?j/o(-x):j*o(x),!(b<d)){if(b>h)break;y.push(b)}}else for(;x<=v;++x)for(j=r-1;j>=1;--j)if(b=x>0?j/o(-x):j*o(x),!(b<d)){if(b>h)break;y.push(b)}y.length*2<w&&(y=wv(d,h,w))}else y=wv(x,v,Math.min(v-x,w)).map(o);return m?y.reverse():y},t.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Zl(f)).precision==null&&(f.trim=!0),f=hb(f)),u===1/0)return f;const d=Math.max(1,r*u/t.ticks().length);return h=>{let m=h/o(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=d?f(h):""}},t.nice=()=>n(QD(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),t}function ZD(){const e=mb(Tf()).domain([1,10]);return e.copy=()=>Tc(e,ZD()).base(e.base()),rr.apply(e,arguments),e}function pC(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function hC(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function xb(e){var t=1,n=e(pC(t),hC(t));return n.constant=function(r){return arguments.length?e(pC(t=+r),hC(t)):t},ti(n)}function JD(){var e=xb(Tf());return e.copy=function(){return Tc(e,JD()).constant(e.constant())},rr.apply(e,arguments)}function mC(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Vz(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Kz(e){return e<0?-e*e:e*e}function gb(e){var t=e(fn,fn),n=1;function r(){return n===1?e(fn,fn):n===.5?e(Vz,Kz):e(mC(n),mC(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},ti(t)}function vb(){var e=gb(Tf());return e.copy=function(){return Tc(e,vb()).exponent(e.exponent())},rr.apply(e,arguments),e}function Gz(){return vb.apply(null,arguments).exponent(.5)}function xC(e){return Math.sign(e)*e*e}function Yz(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function eO(){var e=fb(),t=[0,1],n=!1,r;function i(o){var c=Yz(e(o));return isNaN(c)?r:n?Math.round(c):c}return i.invert=function(o){return e.invert(xC(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,Rd)).map(xC)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return eO(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},rr.apply(i,arguments),ti(i)}function tO(){var e=[],t=[],n=[],r;function i(){var c=0,u=Math.max(1,t.length);for(n=new Array(u-1);++c<u;)n[c-1]=ez(e,c/u);return o}function o(c){return c==null||isNaN(c=+c)?r:t[Oc(n,c)]}return o.invertExtent=function(c){var u=t.indexOf(c);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},o.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let u of c)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Ya),i()},o.range=function(c){return arguments.length?(t=Array.from(c),i()):t.slice()},o.unknown=function(c){return arguments.length?(r=c,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return tO().domain(e).range(t).unknown(r)},rr.apply(o,arguments)}function nO(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function c(f){return f!=null&&f<=f?i[Oc(r,f,0,n)]:o}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*t-(f-n)*e)/(n+1);return c}return c.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,u()):[e,t]},c.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,u()):i.slice()},c.invertExtent=function(f){var d=i.indexOf(f);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=n?[r[n-1],t]:[r[d-1],r[d]]},c.unknown=function(f){return arguments.length&&(o=f),c},c.thresholds=function(){return r.slice()},c.copy=function(){return nO().domain([e,t]).range(i).unknown(o)},rr.apply(ti(c),arguments)}function rO(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[Oc(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var c=t.indexOf(o);return[e[c-1],e[c]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return rO().domain(e).range(t).unknown(n)},rr.apply(i,arguments)}const Qx=new Date,Zx=new Date;function $t(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const c=i(o),u=i.ceil(o);return o-c<u-o?c:u},i.offset=(o,c)=>(t(o=new Date(+o),c==null?1:Math.floor(c)),o),i.range=(o,c,u)=>{const f=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<c)||!(u>0))return f;let d;do f.push(d=new Date(+o)),t(o,u),e(o);while(d<o&&o<c);return f},i.filter=o=>$t(c=>{if(c>=c)for(;e(c),!o(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;t(c,-1),!o(c););else for(;--u>=0;)for(;t(c,1),!o(c););}),n&&(i.count=(o,c)=>(Qx.setTime(+o),Zx.setTime(+c),e(Qx),e(Zx),Math.floor(n(Qx,Zx))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?c=>r(c)%o===0:c=>i.count(0,c)%o===0):i)),i}const Bd=$t(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Bd.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?$t(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Bd);Bd.range;const Jr=1e3,Jn=Jr*60,ea=Jn*60,ca=ea*24,yb=ca*7,gC=ca*30,Jx=ca*365,Ci=$t(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Jr)},(e,t)=>(t-e)/Jr,e=>e.getUTCSeconds());Ci.range;const bb=$t(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Jr)},(e,t)=>{e.setTime(+e+t*Jn)},(e,t)=>(t-e)/Jn,e=>e.getMinutes());bb.range;const wb=$t(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Jn)},(e,t)=>(t-e)/Jn,e=>e.getUTCMinutes());wb.range;const jb=$t(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Jr-e.getMinutes()*Jn)},(e,t)=>{e.setTime(+e+t*ea)},(e,t)=>(t-e)/ea,e=>e.getHours());jb.range;const Nb=$t(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ea)},(e,t)=>(t-e)/ea,e=>e.getUTCHours());Nb.range;const _c=$t(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Jn)/ca,e=>e.getDate()-1);_c.range;const _f=$t(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ca,e=>e.getUTCDate()-1);_f.range;const aO=$t(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ca,e=>Math.floor(e/ca));aO.range;function Ki(e){return $t(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Jn)/yb)}const Mf=Ki(0),Fd=Ki(1),Xz=Ki(2),Qz=Ki(3),Hs=Ki(4),Zz=Ki(5),Jz=Ki(6);Mf.range;Fd.range;Xz.range;Qz.range;Hs.range;Zz.range;Jz.range;function Gi(e){return $t(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/yb)}const Rf=Gi(0),Ud=Gi(1),eL=Gi(2),tL=Gi(3),Vs=Gi(4),nL=Gi(5),rL=Gi(6);Rf.range;Ud.range;eL.range;tL.range;Vs.range;nL.range;rL.range;const Sb=$t(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Sb.range;const kb=$t(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());kb.range;const ua=$t(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ua.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$t(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ua.range;const da=$t(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());da.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$t(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});da.range;function iO(e,t,n,r,i,o){const c=[[Ci,1,Jr],[Ci,5,5*Jr],[Ci,15,15*Jr],[Ci,30,30*Jr],[o,1,Jn],[o,5,5*Jn],[o,15,15*Jn],[o,30,30*Jn],[i,1,ea],[i,3,3*ea],[i,6,6*ea],[i,12,12*ea],[r,1,ca],[r,2,2*ca],[n,1,yb],[t,1,gC],[t,3,3*gC],[e,1,Jx]];function u(d,h,m){const x=h<d;x&&([d,h]=[h,d]);const v=m&&typeof m.range=="function"?m:f(d,h,m),j=v?v.range(d,+h+1):[];return x?j.reverse():j}function f(d,h,m){const x=Math.abs(h-d)/m,v=ob(([,,w])=>w).right(c,x);if(v===c.length)return e.every(Nv(d/Jx,h/Jx,m));if(v===0)return Bd.every(Math.max(Nv(d,h,m),1));const[j,b]=c[x/c[v-1][2]<c[v][2]/x?v-1:v];return j.every(b)}return[u,f]}const[aL,iL]=iO(da,kb,Rf,aO,Nb,wb),[sL,oL]=iO(ua,Sb,Mf,_c,jb,bb);function eg(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function tg(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ll(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function lL(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,c=e.shortDays,u=e.months,f=e.shortMonths,d=cl(i),h=ul(i),m=cl(o),x=ul(o),v=cl(c),j=ul(c),b=cl(u),w=ul(u),y=cl(f),S=ul(f),P={a:W,A:K,b:X,B:R,c:null,d:NC,e:NC,f:OL,g:FL,G:qL,H:PL,I:EL,j:DL,L:sO,m:IL,M:TL,p:Q,q:J,Q:CC,s:AC,S:_L,u:ML,U:RL,V:$L,w:zL,W:LL,x:null,X:null,y:BL,Y:UL,Z:WL,"%":kC},k={a:te,A:ue,b:be,B:we,c:null,d:SC,e:SC,f:GL,g:a9,G:s9,H:HL,I:VL,j:KL,L:lO,m:YL,M:XL,p:$e,q:Oe,Q:CC,s:AC,S:QL,u:ZL,U:JL,V:e9,w:t9,W:n9,x:null,X:null,y:r9,Y:i9,Z:o9,"%":kC},C={a:B,A:M,b:z,B:L,c:_,d:wC,e:wC,f:SL,g:bC,G:yC,H:jC,I:jC,j:bL,L:NL,m:yL,M:wL,p:$,q:vL,Q:CL,s:AL,S:jL,u:pL,U:hL,V:mL,w:fL,W:xL,x:U,X:G,y:bC,Y:yC,Z:gL,"%":kL};P.x=E(n,P),P.X=E(r,P),P.c=E(t,P),k.x=E(n,k),k.X=E(r,k),k.c=E(t,k);function E(oe,Ae){return function(ke){var ie=[],He=-1,Re=0,Ze=oe.length,de,Te,Ne;for(ke instanceof Date||(ke=new Date(+ke));++He<Ze;)oe.charCodeAt(He)===37&&(ie.push(oe.slice(Re,He)),(Te=vC[de=oe.charAt(++He)])!=null?de=oe.charAt(++He):Te=de==="e"?" ":"0",(Ne=Ae[de])&&(de=Ne(ke,Te)),ie.push(de),Re=He+1);return ie.push(oe.slice(Re,He)),ie.join("")}}function D(oe,Ae){return function(ke){var ie=ll(1900,void 0,1),He=I(ie,oe,ke+="",0),Re,Ze;if(He!=ke.length)return null;if("Q"in ie)return new Date(ie.Q);if("s"in ie)return new Date(ie.s*1e3+("L"in ie?ie.L:0));if(Ae&&!("Z"in ie)&&(ie.Z=0),"p"in ie&&(ie.H=ie.H%12+ie.p*12),ie.m===void 0&&(ie.m="q"in ie?ie.q:0),"V"in ie){if(ie.V<1||ie.V>53)return null;"w"in ie||(ie.w=1),"Z"in ie?(Re=tg(ll(ie.y,0,1)),Ze=Re.getUTCDay(),Re=Ze>4||Ze===0?Ud.ceil(Re):Ud(Re),Re=_f.offset(Re,(ie.V-1)*7),ie.y=Re.getUTCFullYear(),ie.m=Re.getUTCMonth(),ie.d=Re.getUTCDate()+(ie.w+6)%7):(Re=eg(ll(ie.y,0,1)),Ze=Re.getDay(),Re=Ze>4||Ze===0?Fd.ceil(Re):Fd(Re),Re=_c.offset(Re,(ie.V-1)*7),ie.y=Re.getFullYear(),ie.m=Re.getMonth(),ie.d=Re.getDate()+(ie.w+6)%7)}else("W"in ie||"U"in ie)&&("w"in ie||(ie.w="u"in ie?ie.u%7:"W"in ie?1:0),Ze="Z"in ie?tg(ll(ie.y,0,1)).getUTCDay():eg(ll(ie.y,0,1)).getDay(),ie.m=0,ie.d="W"in ie?(ie.w+6)%7+ie.W*7-(Ze+5)%7:ie.w+ie.U*7-(Ze+6)%7);return"Z"in ie?(ie.H+=ie.Z/100|0,ie.M+=ie.Z%100,tg(ie)):eg(ie)}}function I(oe,Ae,ke,ie){for(var He=0,Re=Ae.length,Ze=ke.length,de,Te;He<Re;){if(ie>=Ze)return-1;if(de=Ae.charCodeAt(He++),de===37){if(de=Ae.charAt(He++),Te=C[de in vC?Ae.charAt(He++):de],!Te||(ie=Te(oe,ke,ie))<0)return-1}else if(de!=ke.charCodeAt(ie++))return-1}return ie}function $(oe,Ae,ke){var ie=d.exec(Ae.slice(ke));return ie?(oe.p=h.get(ie[0].toLowerCase()),ke+ie[0].length):-1}function B(oe,Ae,ke){var ie=v.exec(Ae.slice(ke));return ie?(oe.w=j.get(ie[0].toLowerCase()),ke+ie[0].length):-1}function M(oe,Ae,ke){var ie=m.exec(Ae.slice(ke));return ie?(oe.w=x.get(ie[0].toLowerCase()),ke+ie[0].length):-1}function z(oe,Ae,ke){var ie=y.exec(Ae.slice(ke));return ie?(oe.m=S.get(ie[0].toLowerCase()),ke+ie[0].length):-1}function L(oe,Ae,ke){var ie=b.exec(Ae.slice(ke));return ie?(oe.m=w.get(ie[0].toLowerCase()),ke+ie[0].length):-1}function _(oe,Ae,ke){return I(oe,t,Ae,ke)}function U(oe,Ae,ke){return I(oe,n,Ae,ke)}function G(oe,Ae,ke){return I(oe,r,Ae,ke)}function W(oe){return c[oe.getDay()]}function K(oe){return o[oe.getDay()]}function X(oe){return f[oe.getMonth()]}function R(oe){return u[oe.getMonth()]}function Q(oe){return i[+(oe.getHours()>=12)]}function J(oe){return 1+~~(oe.getMonth()/3)}function te(oe){return c[oe.getUTCDay()]}function ue(oe){return o[oe.getUTCDay()]}function be(oe){return f[oe.getUTCMonth()]}function we(oe){return u[oe.getUTCMonth()]}function $e(oe){return i[+(oe.getUTCHours()>=12)]}function Oe(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var Ae=E(oe+="",P);return Ae.toString=function(){return oe},Ae},parse:function(oe){var Ae=D(oe+="",!1);return Ae.toString=function(){return oe},Ae},utcFormat:function(oe){var Ae=E(oe+="",k);return Ae.toString=function(){return oe},Ae},utcParse:function(oe){var Ae=D(oe+="",!0);return Ae.toString=function(){return oe},Ae}}}var vC={"-":"",_:" ",0:"0"},Ht=/^\s*\d+/,cL=/^%/,uL=/[\\^$*+?|[\]().{}]/g;function Xe(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function dL(e){return e.replace(uL,"\\$&")}function cl(e){return new RegExp("^(?:"+e.map(dL).join("|")+")","i")}function ul(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function fL(e,t,n){var r=Ht.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function pL(e,t,n){var r=Ht.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function hL(e,t,n){var r=Ht.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function mL(e,t,n){var r=Ht.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function xL(e,t,n){var r=Ht.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function yC(e,t,n){var r=Ht.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function bC(e,t,n){var r=Ht.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function gL(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function vL(e,t,n){var r=Ht.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function yL(e,t,n){var r=Ht.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function wC(e,t,n){var r=Ht.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function bL(e,t,n){var r=Ht.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function jC(e,t,n){var r=Ht.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function wL(e,t,n){var r=Ht.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function jL(e,t,n){var r=Ht.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function NL(e,t,n){var r=Ht.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function SL(e,t,n){var r=Ht.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function kL(e,t,n){var r=cL.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function CL(e,t,n){var r=Ht.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function AL(e,t,n){var r=Ht.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function NC(e,t){return Xe(e.getDate(),t,2)}function PL(e,t){return Xe(e.getHours(),t,2)}function EL(e,t){return Xe(e.getHours()%12||12,t,2)}function DL(e,t){return Xe(1+_c.count(ua(e),e),t,3)}function sO(e,t){return Xe(e.getMilliseconds(),t,3)}function OL(e,t){return sO(e,t)+"000"}function IL(e,t){return Xe(e.getMonth()+1,t,2)}function TL(e,t){return Xe(e.getMinutes(),t,2)}function _L(e,t){return Xe(e.getSeconds(),t,2)}function ML(e){var t=e.getDay();return t===0?7:t}function RL(e,t){return Xe(Mf.count(ua(e)-1,e),t,2)}function oO(e){var t=e.getDay();return t>=4||t===0?Hs(e):Hs.ceil(e)}function $L(e,t){return e=oO(e),Xe(Hs.count(ua(e),e)+(ua(e).getDay()===4),t,2)}function zL(e){return e.getDay()}function LL(e,t){return Xe(Fd.count(ua(e)-1,e),t,2)}function BL(e,t){return Xe(e.getFullYear()%100,t,2)}function FL(e,t){return e=oO(e),Xe(e.getFullYear()%100,t,2)}function UL(e,t){return Xe(e.getFullYear()%1e4,t,4)}function qL(e,t){var n=e.getDay();return e=n>=4||n===0?Hs(e):Hs.ceil(e),Xe(e.getFullYear()%1e4,t,4)}function WL(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Xe(t/60|0,"0",2)+Xe(t%60,"0",2)}function SC(e,t){return Xe(e.getUTCDate(),t,2)}function HL(e,t){return Xe(e.getUTCHours(),t,2)}function VL(e,t){return Xe(e.getUTCHours()%12||12,t,2)}function KL(e,t){return Xe(1+_f.count(da(e),e),t,3)}function lO(e,t){return Xe(e.getUTCMilliseconds(),t,3)}function GL(e,t){return lO(e,t)+"000"}function YL(e,t){return Xe(e.getUTCMonth()+1,t,2)}function XL(e,t){return Xe(e.getUTCMinutes(),t,2)}function QL(e,t){return Xe(e.getUTCSeconds(),t,2)}function ZL(e){var t=e.getUTCDay();return t===0?7:t}function JL(e,t){return Xe(Rf.count(da(e)-1,e),t,2)}function cO(e){var t=e.getUTCDay();return t>=4||t===0?Vs(e):Vs.ceil(e)}function e9(e,t){return e=cO(e),Xe(Vs.count(da(e),e)+(da(e).getUTCDay()===4),t,2)}function t9(e){return e.getUTCDay()}function n9(e,t){return Xe(Ud.count(da(e)-1,e),t,2)}function r9(e,t){return Xe(e.getUTCFullYear()%100,t,2)}function a9(e,t){return e=cO(e),Xe(e.getUTCFullYear()%100,t,2)}function i9(e,t){return Xe(e.getUTCFullYear()%1e4,t,4)}function s9(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Vs(e):Vs.ceil(e),Xe(e.getUTCFullYear()%1e4,t,4)}function o9(){return"+0000"}function kC(){return"%"}function CC(e){return+e}function AC(e){return Math.floor(+e/1e3)}var ks,uO,dO;l9({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function l9(e){return ks=lL(e),uO=ks.format,ks.parse,dO=ks.utcFormat,ks.utcParse,ks}function c9(e){return new Date(e)}function u9(e){return e instanceof Date?+e:+new Date(+e)}function Cb(e,t,n,r,i,o,c,u,f,d){var h=fb(),m=h.invert,x=h.domain,v=d(".%L"),j=d(":%S"),b=d("%I:%M"),w=d("%I %p"),y=d("%a %d"),S=d("%b %d"),P=d("%B"),k=d("%Y");function C(E){return(f(E)<E?v:u(E)<E?j:c(E)<E?b:o(E)<E?w:r(E)<E?i(E)<E?y:S:n(E)<E?P:k)(E)}return h.invert=function(E){return new Date(m(E))},h.domain=function(E){return arguments.length?x(Array.from(E,u9)):x().map(c9)},h.ticks=function(E){var D=x();return e(D[0],D[D.length-1],E??10)},h.tickFormat=function(E,D){return D==null?C:d(D)},h.nice=function(E){var D=x();return(!E||typeof E.range!="function")&&(E=t(D[0],D[D.length-1],E??10)),E?x(QD(D,E)):h},h.copy=function(){return Tc(h,Cb(e,t,n,r,i,o,c,u,f,d))},h}function d9(){return rr.apply(Cb(sL,oL,ua,Sb,Mf,_c,jb,bb,Ci,uO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function f9(){return rr.apply(Cb(aL,iL,da,kb,Rf,_f,Nb,wb,Ci,dO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function $f(){var e=0,t=1,n,r,i,o,c=fn,u=!1,f;function d(m){return m==null||isNaN(m=+m)?f:c(i===0?.5:(m=(o(m)-n)*i,u?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t]=m,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),d):[e,t]},d.clamp=function(m){return arguments.length?(u=!!m,d):u},d.interpolator=function(m){return arguments.length?(c=m,d):c};function h(m){return function(x){var v,j;return arguments.length?([v,j]=x,c=m(v,j),d):[c(0),c(1)]}}return d.range=h(ho),d.rangeRound=h(db),d.unknown=function(m){return arguments.length?(f=m,d):f},function(m){return o=m,n=m(e),r=m(t),i=n===r?0:1/(r-n),d}}function ni(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function fO(){var e=ti($f()(fn));return e.copy=function(){return ni(e,fO())},ga.apply(e,arguments)}function pO(){var e=mb($f()).domain([1,10]);return e.copy=function(){return ni(e,pO()).base(e.base())},ga.apply(e,arguments)}function hO(){var e=xb($f());return e.copy=function(){return ni(e,hO()).constant(e.constant())},ga.apply(e,arguments)}function Ab(){var e=gb($f());return e.copy=function(){return ni(e,Ab()).exponent(e.exponent())},ga.apply(e,arguments)}function p9(){return Ab.apply(null,arguments).exponent(.5)}function mO(){var e=[],t=fn;function n(r){if(r!=null&&!isNaN(r=+r))return t((Oc(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ya),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>J8(e,o/r))},n.copy=function(){return mO(t).domain(e)},ga.apply(n,arguments)}function zf(){var e=0,t=.5,n=1,r=1,i,o,c,u,f,d=fn,h,m=!1,x;function v(b){return isNaN(b=+b)?x:(b=.5+((b=+h(b))-o)*(r*b<r*o?u:f),d(m?Math.max(0,Math.min(1,b)):b))}v.domain=function(b){return arguments.length?([e,t,n]=b,i=h(e=+e),o=h(t=+t),c=h(n=+n),u=i===o?0:.5/(o-i),f=o===c?0:.5/(c-o),r=o<i?-1:1,v):[e,t,n]},v.clamp=function(b){return arguments.length?(m=!!b,v):m},v.interpolator=function(b){return arguments.length?(d=b,v):d};function j(b){return function(w){var y,S,P;return arguments.length?([y,S,P]=w,d=kz(b,[y,S,P]),v):[d(0),d(.5),d(1)]}}return v.range=j(ho),v.rangeRound=j(db),v.unknown=function(b){return arguments.length?(x=b,v):x},function(b){return h=b,i=b(e),o=b(t),c=b(n),u=i===o?0:.5/(o-i),f=o===c?0:.5/(c-o),r=o<i?-1:1,v}}function xO(){var e=ti(zf()(fn));return e.copy=function(){return ni(e,xO())},ga.apply(e,arguments)}function gO(){var e=mb(zf()).domain([.1,1,10]);return e.copy=function(){return ni(e,gO()).base(e.base())},ga.apply(e,arguments)}function vO(){var e=xb(zf());return e.copy=function(){return ni(e,vO()).constant(e.constant())},ga.apply(e,arguments)}function Pb(){var e=gb(zf());return e.copy=function(){return ni(e,Pb()).exponent(e.exponent())},ga.apply(e,arguments)}function h9(){return Pb.apply(null,arguments).exponent(.5)}const PC=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Gl,scaleDiverging:xO,scaleDivergingLog:gO,scaleDivergingPow:Pb,scaleDivergingSqrt:h9,scaleDivergingSymlog:vO,scaleIdentity:XD,scaleImplicit:Sv,scaleLinear:Ld,scaleLog:ZD,scaleOrdinal:lb,scalePoint:Sl,scalePow:vb,scaleQuantile:tO,scaleQuantize:nO,scaleRadial:eO,scaleSequential:fO,scaleSequentialLog:pO,scaleSequentialPow:Ab,scaleSequentialQuantile:mO,scaleSequentialSqrt:p9,scaleSequentialSymlog:hO,scaleSqrt:Gz,scaleSymlog:JD,scaleThreshold:rO,scaleTime:d9,scaleUtc:f9,tickFormat:YD},Symbol.toStringTag,{value:"Module"}));var ng,EC;function yO(){if(EC)return ng;EC=1;var e=co();function t(n,r,i){for(var o=-1,c=n.length;++o<c;){var u=n[o],f=r(u);if(f!=null&&(d===void 0?f===f&&!e(f):i(f,d)))var d=f,h=u}return h}return ng=t,ng}var rg,DC;function m9(){if(DC)return rg;DC=1;function e(t,n){return t>n}return rg=e,rg}var ag,OC;function x9(){if(OC)return ag;OC=1;var e=yO(),t=m9(),n=po();function r(i){return i&&i.length?e(i,n,t):void 0}return ag=r,ag}var g9=x9();const Ha=lt(g9);var ig,IC;function v9(){if(IC)return ig;IC=1;function e(t,n){return t<n}return ig=e,ig}var sg,TC;function y9(){if(TC)return sg;TC=1;var e=yO(),t=v9(),n=po();function r(i){return i&&i.length?e(i,n,t):void 0}return sg=r,sg}var b9=y9();const Lf=lt(b9);var og,_C;function w9(){if(_C)return og;_C=1;var e=Wy(),t=Ja(),n=ED(),r=An();function i(o,c){var u=r(o)?e:n;return u(o,t(c,3))}return og=i,og}var lg,MC;function j9(){if(MC)return lg;MC=1;var e=AD(),t=w9();function n(r,i){return e(t(r,i),1)}return lg=n,lg}var N9=j9();const S9=lt(N9);var cg,RC;function k9(){if(RC)return cg;RC=1;var e=nb();function t(n,r){return e(n,r)}return cg=t,cg}var C9=k9();const $i=lt(C9);var mo=1e9,A9={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Db,mt=!0,nr="[DecimalError] ",Ii=nr+"Invalid argument: ",Eb=nr+"Exponent out of range: ",xo=Math.floor,Ni=Math.pow,P9=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,zn,qt=1e7,pt=7,bO=9007199254740991,qd=xo(bO/pt),ve={};ve.absoluteValue=ve.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ve.comparedTo=ve.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ve.decimalPlaces=ve.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*pt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};ve.dividedBy=ve.div=function(e){return ia(this,new this.constructor(e))};ve.dividedToIntegerBy=ve.idiv=function(e){var t=this,n=t.constructor;return ot(ia(t,new n(e),0,1),n.precision)};ve.equals=ve.eq=function(e){return!this.cmp(e)};ve.exponent=function(){return Et(this)};ve.greaterThan=ve.gt=function(e){return this.cmp(e)>0};ve.greaterThanOrEqualTo=ve.gte=function(e){return this.cmp(e)>=0};ve.isInteger=ve.isint=function(){return this.e>this.d.length-2};ve.isNegative=ve.isneg=function(){return this.s<0};ve.isPositive=ve.ispos=function(){return this.s>0};ve.isZero=function(){return this.s===0};ve.lessThan=ve.lt=function(e){return this.cmp(e)<0};ve.lessThanOrEqualTo=ve.lte=function(e){return this.cmp(e)<1};ve.logarithm=ve.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(zn))throw Error(nr+"NaN");if(n.s<1)throw Error(nr+(n.s?"NaN":"-Infinity"));return n.eq(zn)?new r(0):(mt=!1,t=ia(Jl(n,o),Jl(e,o),o),mt=!0,ot(t,i))};ve.minus=ve.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?NO(t,e):wO(t,(e.s=-e.s,e))};ve.modulo=ve.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(nr+"NaN");return n.s?(mt=!1,t=ia(n,e,0,1).times(e),mt=!0,n.minus(t)):ot(new r(n),i)};ve.naturalExponential=ve.exp=function(){return jO(this)};ve.naturalLogarithm=ve.ln=function(){return Jl(this)};ve.negated=ve.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ve.plus=ve.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?wO(t,e):NO(t,(e.s=-e.s,e))};ve.precision=ve.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ii+e);if(t=Et(i)+1,r=i.d.length-1,n=r*pt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};ve.squareRoot=ve.sqrt=function(){var e,t,n,r,i,o,c,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(nr+"NaN")}for(e=Et(u),mt=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=Or(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=xo((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new f(t)):r=new f(i.toString()),n=f.precision,i=c=n+3;;)if(o=r,r=o.plus(ia(u,o,c+2)).times(.5),Or(o.d).slice(0,c)===(t=Or(r.d)).slice(0,c)){if(t=t.slice(c-3,c+1),i==c&&t=="4999"){if(ot(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(t!="9999")break;c+=4}return mt=!0,ot(r,n)};ve.times=ve.mul=function(e){var t,n,r,i,o,c,u,f,d,h=this,m=h.constructor,x=h.d,v=(e=new m(e)).d;if(!h.s||!e.s)return new m(0);for(e.s*=h.s,n=h.e+e.e,f=x.length,d=v.length,f<d&&(o=x,x=v,v=o,c=f,f=d,d=c),o=[],c=f+d,r=c;r--;)o.push(0);for(r=d;--r>=0;){for(t=0,i=f+r;i>r;)u=o[i]+v[r]*x[i-r-1]+t,o[i--]=u%qt|0,t=u/qt|0;o[i]=(o[i]+t)%qt|0}for(;!o[--c];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,mt?ot(e,m.precision):e};ve.toDecimalPlaces=ve.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Rr(e,0,mo),t===void 0?t=r.rounding:Rr(t,0,8),ot(n,e+Et(n)+1,t))};ve.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=zi(r,!0):(Rr(e,0,mo),t===void 0?t=i.rounding:Rr(t,0,8),r=ot(new i(r),e+1,t),n=zi(r,!0,e+1)),n};ve.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?zi(i):(Rr(e,0,mo),t===void 0?t=o.rounding:Rr(t,0,8),r=ot(new o(i),e+Et(i)+1,t),n=zi(r.abs(),!1,e+Et(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ve.toInteger=ve.toint=function(){var e=this,t=e.constructor;return ot(new t(e),Et(e)+1,t.rounding)};ve.toNumber=function(){return+this};ve.toPower=ve.pow=function(e){var t,n,r,i,o,c,u=this,f=u.constructor,d=12,h=+(e=new f(e));if(!e.s)return new f(zn);if(u=new f(u),!u.s){if(e.s<1)throw Error(nr+"Infinity");return u}if(u.eq(zn))return u;if(r=f.precision,e.eq(zn))return ot(u,r);if(t=e.e,n=e.d.length-1,c=t>=n,o=u.s,c){if((n=h<0?-h:h)<=bO){for(i=new f(zn),t=Math.ceil(r/pt+4),mt=!1;n%2&&(i=i.times(u),zC(i.d,t)),n=xo(n/2),n!==0;)u=u.times(u),zC(u.d,t);return mt=!0,e.s<0?new f(zn).div(i):ot(i,r)}}else if(o<0)throw Error(nr+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,mt=!1,i=e.times(Jl(u,r+d)),mt=!0,i=jO(i),i.s=o,i};ve.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=Et(i),r=zi(i,n<=o.toExpNeg||n>=o.toExpPos)):(Rr(e,1,mo),t===void 0?t=o.rounding:Rr(t,0,8),i=ot(new o(i),e,t),n=Et(i),r=zi(i,e<=n||n<=o.toExpNeg,e)),r};ve.toSignificantDigits=ve.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Rr(e,1,mo),t===void 0?t=r.rounding:Rr(t,0,8)),ot(new r(n),e,t)};ve.toString=ve.valueOf=ve.val=ve.toJSON=ve[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Et(e),n=e.constructor;return zi(e,t<=n.toExpNeg||t>=n.toExpPos)};function wO(e,t){var n,r,i,o,c,u,f,d,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),mt?ot(t,m):t;if(f=e.d,d=t.d,c=e.e,i=t.e,f=f.slice(),o=c-i,o){for(o<0?(r=f,o=-o,u=d.length):(r=d,i=c,u=f.length),c=Math.ceil(m/pt),u=c>u?c+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=f.length,o=d.length,u-o<0&&(o=u,r=d,d=f,f=r),n=0;o;)n=(f[--o]=f[o]+d[o]+n)/qt|0,f[o]%=qt;for(n&&(f.unshift(n),++i),u=f.length;f[--u]==0;)f.pop();return t.d=f,t.e=i,mt?ot(t,m):t}function Rr(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Ii+e)}function Or(e){var t,n,r,i=e.length-1,o="",c=e[0];if(i>0){for(o+=c,t=1;t<i;t++)r=e[t]+"",n=pt-r.length,n&&(o+=Fa(n)),o+=r;c=e[t],r=c+"",n=pt-r.length,n&&(o+=Fa(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return o+c}var ia=(function(){function e(r,i){var o,c=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+c,r[u]=o%qt|0,c=o/qt|0;return c&&r.unshift(c),r}function t(r,i,o,c){var u,f;if(o!=c)f=o>c?1:-1;else for(u=f=0;u<o;u++)if(r[u]!=i[u]){f=r[u]>i[u]?1:-1;break}return f}function n(r,i,o){for(var c=0;o--;)r[o]-=c,c=r[o]<i[o]?1:0,r[o]=c*qt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,c){var u,f,d,h,m,x,v,j,b,w,y,S,P,k,C,E,D,I,$=r.constructor,B=r.s==i.s?1:-1,M=r.d,z=i.d;if(!r.s)return new $(r);if(!i.s)throw Error(nr+"Division by zero");for(f=r.e-i.e,D=z.length,C=M.length,v=new $(B),j=v.d=[],d=0;z[d]==(M[d]||0);)++d;if(z[d]>(M[d]||0)&&--f,o==null?S=o=$.precision:c?S=o+(Et(r)-Et(i))+1:S=o,S<0)return new $(0);if(S=S/pt+2|0,d=0,D==1)for(h=0,z=z[0],S++;(d<C||h)&&S--;d++)P=h*qt+(M[d]||0),j[d]=P/z|0,h=P%z|0;else{for(h=qt/(z[0]+1)|0,h>1&&(z=e(z,h),M=e(M,h),D=z.length,C=M.length),k=D,b=M.slice(0,D),w=b.length;w<D;)b[w++]=0;I=z.slice(),I.unshift(0),E=z[0],z[1]>=qt/2&&++E;do h=0,u=t(z,b,D,w),u<0?(y=b[0],D!=w&&(y=y*qt+(b[1]||0)),h=y/E|0,h>1?(h>=qt&&(h=qt-1),m=e(z,h),x=m.length,w=b.length,u=t(m,b,x,w),u==1&&(h--,n(m,D<x?I:z,x))):(h==0&&(u=h=1),m=z.slice()),x=m.length,x<w&&m.unshift(0),n(b,m,w),u==-1&&(w=b.length,u=t(z,b,D,w),u<1&&(h++,n(b,D<w?I:z,w))),w=b.length):u===0&&(h++,b=[0]),j[d++]=h,u&&b[0]?b[w++]=M[k]||0:(b=[M[k]],w=1);while((k++<C||b[0]!==void 0)&&S--)}return j[0]||j.shift(),v.e=f,ot(v,c?o+Et(v)+1:o)}})();function jO(e,t){var n,r,i,o,c,u,f=0,d=0,h=e.constructor,m=h.precision;if(Et(e)>16)throw Error(Eb+Et(e));if(!e.s)return new h(zn);for(mt=!1,u=m,c=new h(.03125);e.abs().gte(.1);)e=e.times(c),d+=5;for(r=Math.log(Ni(2,d))/Math.LN10*2+5|0,u+=r,n=i=o=new h(zn),h.precision=u;;){if(i=ot(i.times(e),u),n=n.times(++f),c=o.plus(ia(i,n,u)),Or(c.d).slice(0,u)===Or(o.d).slice(0,u)){for(;d--;)o=ot(o.times(o),u);return h.precision=m,t==null?(mt=!0,ot(o,m)):o}o=c}}function Et(e){for(var t=e.e*pt,n=e.d[0];n>=10;n/=10)t++;return t}function ug(e,t,n){if(t>e.LN10.sd())throw mt=!0,n&&(e.precision=n),Error(nr+"LN10 precision limit exceeded");return ot(new e(e.LN10),t)}function Fa(e){for(var t="";e--;)t+="0";return t}function Jl(e,t){var n,r,i,o,c,u,f,d,h,m=1,x=10,v=e,j=v.d,b=v.constructor,w=b.precision;if(v.s<1)throw Error(nr+(v.s?"NaN":"-Infinity"));if(v.eq(zn))return new b(0);if(t==null?(mt=!1,d=w):d=t,v.eq(10))return t==null&&(mt=!0),ug(b,d);if(d+=x,b.precision=d,n=Or(j),r=n.charAt(0),o=Et(v),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(e),n=Or(v.d),r=n.charAt(0),m++;o=Et(v),r>1?(v=new b("0."+n),o++):v=new b(r+"."+n.slice(1))}else return f=ug(b,d+2,w).times(o+""),v=Jl(new b(r+"."+n.slice(1)),d-x).plus(f),b.precision=w,t==null?(mt=!0,ot(v,w)):v;for(u=c=v=ia(v.minus(zn),v.plus(zn),d),h=ot(v.times(v),d),i=3;;){if(c=ot(c.times(h),d),f=u.plus(ia(c,new b(i),d)),Or(f.d).slice(0,d)===Or(u.d).slice(0,d))return u=u.times(2),o!==0&&(u=u.plus(ug(b,d+2,w).times(o+""))),u=ia(u,new b(m),d),b.precision=w,t==null?(mt=!0,ot(u,w)):u;u=f,i+=2}}function $C(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=xo(n/pt),e.d=[],r=(n+1)%pt,n<0&&(r+=pt),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=pt;r<i;)e.d.push(+t.slice(r,r+=pt));t=t.slice(r),r=pt-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),mt&&(e.e>qd||e.e<-qd))throw Error(Eb+n)}else e.s=0,e.e=0,e.d=[0];return e}function ot(e,t,n){var r,i,o,c,u,f,d,h,m=e.d;for(c=1,o=m[0];o>=10;o/=10)c++;if(r=t-c,r<0)r+=pt,i=t,d=m[h=0];else{if(h=Math.ceil((r+1)/pt),o=m.length,h>=o)return e;for(d=o=m[h],c=1;o>=10;o/=10)c++;r%=pt,i=r-pt+c}if(n!==void 0&&(o=Ni(10,c-i-1),u=d/o%10|0,f=t<0||m[h+1]!==void 0||d%o,f=n<4?(u||f)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?i>0?d/Ni(10,c-i):0:m[h-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return f?(o=Et(e),m.length=1,t=t-o-1,m[0]=Ni(10,(pt-t%pt)%pt),e.e=xo(-t/pt)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(r==0?(m.length=h,o=1,h--):(m.length=h+1,o=Ni(10,pt-r),m[h]=i>0?(d/Ni(10,c-i)%Ni(10,i)|0)*o:0),f)for(;;)if(h==0){(m[0]+=o)==qt&&(m[0]=1,++e.e);break}else{if(m[h]+=o,m[h]!=qt)break;m[h--]=0,o=1}for(r=m.length;m[--r]===0;)m.pop();if(mt&&(e.e>qd||e.e<-qd))throw Error(Eb+Et(e));return e}function NO(e,t){var n,r,i,o,c,u,f,d,h,m,x=e.constructor,v=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),mt?ot(t,v):t;if(f=e.d,m=t.d,r=t.e,d=e.e,f=f.slice(),c=d-r,c){for(h=c<0,h?(n=f,c=-c,u=m.length):(n=m,r=d,u=f.length),i=Math.max(Math.ceil(v/pt),u)+2,c>i&&(c=i,n.length=1),n.reverse(),i=c;i--;)n.push(0);n.reverse()}else{for(i=f.length,u=m.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(f[i]!=m[i]){h=f[i]<m[i];break}c=0}for(h&&(n=f,f=m,m=n,t.s=-t.s),u=f.length,i=m.length-u;i>0;--i)f[u++]=0;for(i=m.length;i>c;){if(f[--i]<m[i]){for(o=i;o&&f[--o]===0;)f[o]=qt-1;--f[o],f[i]+=qt}f[i]-=m[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(t.d=f,t.e=r,mt?ot(t,v):t):new x(0)}function zi(e,t,n){var r,i=Et(e),o=Or(e.d),c=o.length;return t?(n&&(r=n-c)>0?o=o.charAt(0)+"."+o.slice(1)+Fa(r):c>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Fa(-i-1)+o,n&&(r=n-c)>0&&(o+=Fa(r))):i>=c?(o+=Fa(i+1-c),n&&(r=n-i-1)>0&&(o=o+"."+Fa(r))):((r=i+1)<c&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-c)>0&&(i+1===c&&(o+="."),o+=Fa(r))),e.s<0?"-"+o:o}function zC(e,t){if(e.length>t)return e.length=t,!0}function SO(e){var t,n,r;function i(o){var c=this;if(!(c instanceof i))return new i(o);if(c.constructor=i,o instanceof i){c.s=o.s,c.e=o.e,c.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ii+o);if(o>0)c.s=1;else if(o<0)o=-o,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(o===~~o&&o<1e7){c.e=0,c.d=[o];return}return $C(c,o.toString())}else if(typeof o!="string")throw Error(Ii+o);if(o.charCodeAt(0)===45?(o=o.slice(1),c.s=-1):c.s=1,P9.test(o))$C(c,o);else throw Error(Ii+o)}if(i.prototype=ve,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=SO,i.config=i.set=E9,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function E9(e){if(!e||typeof e!="object")throw Error(nr+"Object expected");var t,n,r,i=["precision",1,mo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(xo(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Ii+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ii+n+": "+r);return this}var Db=SO(A9);zn=new Db(1);const it=Db;function D9(e){return _9(e)||T9(e)||I9(e)||O9()}function O9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I9(e,t){if(e){if(typeof e=="string")return Pv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pv(e,t)}}function T9(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function _9(e){if(Array.isArray(e))return Pv(e)}function Pv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var M9=function(t){return t},kO={},CO=function(t){return t===kO},LC=function(t){return function n(){return arguments.length===0||arguments.length===1&&CO(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},R9=function e(t,n){return t===1?n:LC(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var c=i.filter(function(u){return u!==kO}).length;return c>=t?n.apply(void 0,i):e(t-c,LC(function(){for(var u=arguments.length,f=new Array(u),d=0;d<u;d++)f[d]=arguments[d];var h=i.map(function(m){return CO(m)?f.shift():m});return n.apply(void 0,D9(h).concat(f))}))})},Bf=function(t){return R9(t.length,t)},Ev=function(t,n){for(var r=[],i=t;i<n;++i)r[i-t]=i;return r},$9=Bf(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),z9=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return M9;var i=n.reverse(),o=i[0],c=i.slice(1);return function(){return c.reduce(function(u,f){return f(u)},o.apply(void 0,arguments))}},Dv=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},AO=function(t){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return n&&o.every(function(u,f){return u===n[f]})||(n=o,r=t.apply(void 0,o)),r}};function L9(e){var t;return e===0?t=1:t=Math.floor(new it(e).abs().log(10).toNumber())+1,t}function B9(e,t,n){for(var r=new it(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var F9=Bf(function(e,t,n){var r=+e,i=+t;return r+n*(i-r)}),U9=Bf(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),q9=Bf(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const Ff={rangeStep:B9,getDigitCount:L9,interpolateNumber:F9,uninterpolateNumber:U9,uninterpolateTruncation:q9};function Ov(e){return V9(e)||H9(e)||PO(e)||W9()}function W9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H9(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function V9(e){if(Array.isArray(e))return Iv(e)}function ec(e,t){return Y9(e)||G9(e,t)||PO(e,t)||K9()}function K9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PO(e,t){if(e){if(typeof e=="string")return Iv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Iv(e,t)}}function Iv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function G9(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,o=void 0;try{for(var c=e[Symbol.iterator](),u;!(r=(u=c.next()).done)&&(n.push(u.value),!(t&&n.length===t));r=!0);}catch(f){i=!0,o=f}finally{try{!r&&c.return!=null&&c.return()}finally{if(i)throw o}}return n}}function Y9(e){if(Array.isArray(e))return e}function EO(e){var t=ec(e,2),n=t[0],r=t[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function DO(e,t,n){if(e.lte(0))return new it(0);var r=Ff.getDigitCount(e.toNumber()),i=new it(10).pow(r),o=e.div(i),c=r!==1?.05:.1,u=new it(Math.ceil(o.div(c).toNumber())).add(n).mul(c),f=u.mul(i);return t?f:new it(Math.ceil(f))}function X9(e,t,n){var r=1,i=new it(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new it(10).pow(Ff.getDigitCount(e)-1),i=new it(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new it(Math.floor(e)))}else e===0?i=new it(Math.floor((t-1)/2)):n||(i=new it(Math.floor(e)));var c=Math.floor((t-1)/2),u=z9($9(function(f){return i.add(new it(f-c).mul(r)).toNumber()}),Ev);return u(0,t)}function OO(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new it(0),tickMin:new it(0),tickMax:new it(0)};var o=DO(new it(t).sub(e).div(n-1),r,i),c;e<=0&&t>=0?c=new it(0):(c=new it(e).add(t).div(2),c=c.sub(new it(c).mod(o)));var u=Math.ceil(c.sub(e).div(o).toNumber()),f=Math.ceil(new it(t).sub(c).div(o).toNumber()),d=u+f+1;return d>n?OO(e,t,n,r,i+1):(d<n&&(f=t>0?f+(n-d):f,u=t>0?u:u+(n-d)),{step:o,tickMin:c.sub(new it(u).mul(o)),tickMax:c.add(new it(f).mul(o))})}function Q9(e){var t=ec(e,2),n=t[0],r=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(i,2),u=EO([n,r]),f=ec(u,2),d=f[0],h=f[1];if(d===-1/0||h===1/0){var m=h===1/0?[d].concat(Ov(Ev(0,i-1).map(function(){return 1/0}))):[].concat(Ov(Ev(0,i-1).map(function(){return-1/0})),[h]);return n>r?Dv(m):m}if(d===h)return X9(d,i,o);var x=OO(d,h,c,o),v=x.step,j=x.tickMin,b=x.tickMax,w=Ff.rangeStep(j,b.add(new it(.1).mul(v)),v);return n>r?Dv(w):w}function Z9(e,t){var n=ec(e,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=EO([r,i]),u=ec(c,2),f=u[0],d=u[1];if(f===-1/0||d===1/0)return[r,i];if(f===d)return[f];var h=Math.max(t,2),m=DO(new it(d).sub(f).div(h-1),o,0),x=[].concat(Ov(Ff.rangeStep(new it(f),new it(d).sub(new it(.99).mul(m)),m)),[d]);return r>i?Dv(x):x}var J9=AO(Q9),e7=AO(Z9),t7="Invariant failed";function Li(e,t){throw new Error(t7)}var n7=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Wd(){return Wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wd.apply(this,arguments)}function r7(e,t){return o7(e)||s7(e,t)||i7(e,t)||a7()}function a7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i7(e,t){if(e){if(typeof e=="string")return BC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BC(e,t)}}function BC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s7(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,c,u=[],f=!0,d=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(f=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);f=!0);}catch(h){d=!0,i=h}finally{try{if(!f&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(d)throw i}}return u}}function o7(e){if(Array.isArray(e))return e}function l7(e,t){if(e==null)return{};var n=c7(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function c7(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function go(e){var t=e.offset,n=e.layout,r=e.width,i=e.dataKey,o=e.data,c=e.dataPointFormatter,u=e.xAxis,f=e.yAxis,d=l7(e,n7),h=Le(d,!1);e.direction==="x"&&u.type!=="number"&&Li();var m=o.map(function(x){var v=c(x,i),j=v.x,b=v.y,w=v.value,y=v.errorVal;if(!y)return null;var S=[],P,k;if(Array.isArray(y)){var C=r7(y,2);P=C[0],k=C[1]}else P=k=y;if(n==="vertical"){var E=u.scale,D=b+t,I=D+r,$=D-r,B=E(w-P),M=E(w+k);S.push({x1:M,y1:I,x2:M,y2:$}),S.push({x1:B,y1:D,x2:M,y2:D}),S.push({x1:B,y1:I,x2:B,y2:$})}else if(n==="horizontal"){var z=f.scale,L=j+t,_=L-r,U=L+r,G=z(w-P),W=z(w+k);S.push({x1:_,y1:W,x2:U,y2:W}),S.push({x1:L,y1:G,x2:L,y2:W}),S.push({x1:_,y1:G,x2:U,y2:G})}return q.createElement(Qe,Wd({className:"recharts-errorBar",key:"bar-".concat(S.map(function(K){return"".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))},h),S.map(function(K){return q.createElement("line",Wd({},K,{key:"line-".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))}))});return q.createElement(Qe,{className:"recharts-errorBars"},m)}go.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};go.displayName="ErrorBar";function tc(e){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tc(e)}function FC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FC(Object(n),!0).forEach(function(r){u7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function u7(e,t,n){return t=d7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d7(e){var t=f7(e,"string");return tc(t)=="symbol"?t:String(t)}function f7(e,t){if(tc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IO=function(t){var n=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,o=t.legendContent,c=Mn(n,Ul);if(!c)return null;var u;return c.props&&c.props.payload?u=c.props&&c.props.payload:o==="children"?u=(r||[]).reduce(function(f,d){var h=d.item,m=d.props,x=m.sectors||m.data||[];return f.concat(x.map(function(v){return{type:c.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(r||[]).map(function(f){var d=f.item,h=d.props,m=h.dataKey,x=h.name,v=h.legendType,j=h.hide;return{inactive:j,dataKey:m,type:c.props.iconType||v||"square",color:Ob(d),value:x||m,payload:d.props}}),dg(dg(dg({},c.props),Ul.getWithHeight(c,i)),{},{payload:u,item:c})};function nc(e){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(e)}function UC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UC(Object(n),!0).forEach(function(r){Rs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rs(e,t,n){return t=p7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p7(e){var t=h7(e,"string");return nc(t)=="symbol"?t:String(t)}function h7(e,t){if(nc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qC(e){return v7(e)||g7(e)||x7(e)||m7()}function m7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x7(e,t){if(e){if(typeof e=="string")return Tv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tv(e,t)}}function g7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function v7(e){if(Array.isArray(e))return Tv(e)}function Tv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rt(e,t,n){return Be(e)||Be(t)?n:Mt(t)?er(e,t,n):Fe(t)?t(e):n}function kl(e,t,n,r){var i=S9(e,function(u){return Rt(u,t)});if(n==="number"){var o=i.filter(function(u){return he(u)||parseFloat(u)});return o.length?[Lf(o),Ha(o)]:[1/0,-1/0]}var c=r?i.filter(function(u){return!Be(u)}):i;return c.map(function(u){return Mt(u)||u instanceof Date?u:""})}var y7=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,c=-1,u=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(u<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var f=o.range,d=0;d<u;d++){var h=d>0?i[d-1].coordinate:i[u-1].coordinate,m=i[d].coordinate,x=d>=u-1?i[0].coordinate:i[d+1].coordinate,v=void 0;if(vr(m-h)!==vr(x-m)){var j=[];if(vr(x-m)===vr(f[1]-f[0])){v=x;var b=m+f[1]-f[0];j[0]=Math.min(b,(b+h)/2),j[1]=Math.max(b,(b+h)/2)}else{v=h;var w=x+f[1]-f[0];j[0]=Math.min(m,(w+m)/2),j[1]=Math.max(m,(w+m)/2)}var y=[Math.min(m,(v+m)/2),Math.max(m,(v+m)/2)];if(t>y[0]&&t<=y[1]||t>=j[0]&&t<=j[1]){c=i[d].index;break}}else{var S=Math.min(h,x),P=Math.max(h,x);if(t>(S+m)/2&&t<=(P+m)/2){c=i[d].index;break}}}else for(var k=0;k<u;k++)if(k===0&&t<=(r[k].coordinate+r[k+1].coordinate)/2||k>0&&k<u-1&&t>(r[k].coordinate+r[k-1].coordinate)/2&&t<=(r[k].coordinate+r[k+1].coordinate)/2||k===u-1&&t>(r[k].coordinate+r[k-1].coordinate)/2){c=r[k].index;break}return c},Ob=function(t){var n=t,r=n.type.displayName,i=t.props,o=i.stroke,c=i.fill,u;switch(r){case"Line":u=o;break;case"Area":case"Radar":u=o&&o!=="none"?o:c;break;default:u=c;break}return u},b7=function(t){var n=t.barSize,r=t.stackGroups,i=r===void 0?{}:r;if(!i)return{};for(var o={},c=Object.keys(i),u=0,f=c.length;u<f;u++)for(var d=i[c[u]].stackGroups,h=Object.keys(d),m=0,x=h.length;m<x;m++){var v=d[h[m]],j=v.items,b=v.cateAxisId,w=j.filter(function(P){return ra(P.type).indexOf("Bar")>=0});if(w&&w.length){var y=w[0].props.barSize,S=w[0].props[b];o[S]||(o[S]=[]),o[S].push({item:w[0],stackList:w.slice(1),barSize:Be(y)?n:y})}}return o},w7=function(t){var n=t.barGap,r=t.barCategoryGap,i=t.bandSize,o=t.sizeList,c=o===void 0?[]:o,u=t.maxBarSize,f=c.length;if(f<1)return null;var d=zs(n,i,0,!0),h,m=[];if(c[0].barSize===+c[0].barSize){var x=!1,v=i/f,j=c.reduce(function(k,C){return k+C.barSize||0},0);j+=(f-1)*d,j>=i&&(j-=(f-1)*d,d=0),j>=i&&v>0&&(x=!0,v*=.9,j=f*v);var b=(i-j)/2>>0,w={offset:b-d,size:0};h=c.reduce(function(k,C){var E={item:C.item,position:{offset:w.offset+w.size+d,size:x?v:C.barSize}},D=[].concat(qC(k),[E]);return w=D[D.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(I){D.push({item:I,position:w})}),D},m)}else{var y=zs(r,i,0,!0);i-2*y-(f-1)*d<=0&&(d=0);var S=(i-2*y-(f-1)*d)/f;S>1&&(S>>=0);var P=u===+u?Math.min(S,u):S;h=c.reduce(function(k,C,E){var D=[].concat(qC(k),[{item:C.item,position:{offset:y+(S+d)*E+(S-P)/2,size:P}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(I){D.push({item:I,position:D[D.length-1].position})}),D},m)}return h},j7=function(t,n,r,i){var o=r.children,c=r.width,u=r.margin,f=c-(u.left||0)-(u.right||0),d=IO({children:o,legendWidth:f});if(d){var h=i||{},m=h.width,x=h.height,v=d.align,j=d.verticalAlign,b=d.layout;if((b==="vertical"||b==="horizontal"&&j==="middle")&&v!=="center"&&he(t[v]))return Zn(Zn({},t),{},Rs({},v,t[v]+(m||0)));if((b==="horizontal"||b==="vertical"&&v==="center")&&j!=="middle"&&he(t[j]))return Zn(Zn({},t),{},Rs({},j,t[j]+(x||0)))}return t},N7=function(t,n,r){return Be(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},TO=function(t,n,r,i,o){var c=n.props.children,u=kn(c,go).filter(function(d){return N7(i,o,d.props.direction)});if(u&&u.length){var f=u.map(function(d){return d.props.dataKey});return t.reduce(function(d,h){var m=Rt(h,r,0),x=Array.isArray(m)?[Lf(m),Ha(m)]:[m,m],v=f.reduce(function(j,b){var w=Rt(h,b,0),y=x[0]-Math.abs(Array.isArray(w)?w[0]:w),S=x[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(y,j[0]),Math.max(S,j[1])]},[1/0,-1/0]);return[Math.min(v[0],d[0]),Math.max(v[1],d[1])]},[1/0,-1/0])}return null},S7=function(t,n,r,i,o){var c=n.map(function(u){return TO(t,u,r,o,i)}).filter(function(u){return!Be(u)});return c&&c.length?c.reduce(function(u,f){return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]):null},_O=function(t,n,r,i,o){var c=n.map(function(f){var d=f.props.dataKey;return r==="number"&&d&&TO(t,f,d,i)||kl(t,d,r,o)});if(r==="number")return c.reduce(function(f,d){return[Math.min(f[0],d[0]),Math.max(f[1],d[1])]},[1/0,-1/0]);var u={};return c.reduce(function(f,d){for(var h=0,m=d.length;h<m;h++)u[d[h]]||(u[d[h]]=!0,f.push(d[h]));return f},[])},MO=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},RO=function(t,n,r,i){if(i)return t.map(function(f){return f.coordinate});var o,c,u=t.map(function(f){return f.coordinate===n&&(o=!0),f.coordinate===r&&(c=!0),f.coordinate});return o||u.push(n),c||u.push(r),u},ta=function(t,n,r){if(!t)return null;var i=t.scale,o=t.duplicateDomain,c=t.type,u=t.range,f=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,d=(n||r)&&c==="category"&&i.bandwidth?i.bandwidth()/f:0;if(d=t.axisType==="angleAxis"&&(u==null?void 0:u.length)>=2?vr(u[0]-u[1])*2*d:d,n&&(t.ticks||t.niceTicks)){var h=(t.ticks||t.niceTicks).map(function(m){var x=o?o.indexOf(m):m;return{coordinate:i(x)+d,value:m,offset:d}});return h.filter(function(m){return!fo(m.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(m,x){return{coordinate:i(m)+d,value:m,index:x,offset:d}}):i.ticks&&!r?i.ticks(t.tickCount).map(function(m){return{coordinate:i(m)+d,value:m,offset:d}}):i.domain().map(function(m,x){return{coordinate:i(m)+d,value:o?o[m]:m,index:x,offset:d}})},fg=new WeakMap,rd=function(t,n){if(typeof n!="function")return t;fg.has(t)||fg.set(t,new WeakMap);var r=fg.get(t);if(r.has(n))return r.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},k7=function(t,n,r){var i=t.scale,o=t.type,c=t.layout,u=t.axisType;if(i==="auto")return c==="radial"&&u==="radiusAxis"?{scale:Gl(),realScaleType:"band"}:c==="radial"&&u==="angleAxis"?{scale:Ld(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Sl(),realScaleType:"point"}:o==="category"?{scale:Gl(),realScaleType:"band"}:{scale:Ld(),realScaleType:"linear"};if(Ec(i)){var f="scale".concat(kf(i));return{scale:(PC[f]||Sl)(),realScaleType:PC[f]?f:"point"}}return Fe(i)?{scale:i}:{scale:Sl(),realScaleType:"point"}},WC=1e-4,C7=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,i=t.range(),o=Math.min(i[0],i[1])-WC,c=Math.max(i[0],i[1])+WC,u=t(n[0]),f=t(n[r-1]);(u<o||u>c||f<o||f>c)&&t.domain([n[0],n[r-1]])}},A7=function(t,n){if(!t)return null;for(var r=0,i=t.length;r<i;r++)if(t[r].item===n)return t[r].position;return null},P7=function(t,n){if(!n||n.length!==2||!he(n[0])||!he(n[1]))return t;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[t[0],t[1]];return(!he(t[0])||t[0]<r)&&(o[0]=r),(!he(t[1])||t[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},E7=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var o=0,c=0,u=0;u<n;++u){var f=fo(t[u][r][1])?t[u][r][0]:t[u][r][1];f>=0?(t[u][r][0]=o,t[u][r][1]=o+f,o=t[u][r][1]):(t[u][r][0]=c,t[u][r][1]=c+f,c=t[u][r][1])}},D7=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var o=0,c=0;c<n;++c){var u=fo(t[c][r][1])?t[c][r][0]:t[c][r][1];u>=0?(t[c][r][0]=o,t[c][r][1]=o+u,o=t[c][r][1]):(t[c][r][0]=0,t[c][r][1]=0)}},O7={sign:E7,expand:S6,none:Ls,silhouette:k6,wiggle:C6,positive:D7},I7=function(t,n,r){var i=n.map(function(u){return u.props.dataKey}),o=O7[r],c=N6().keys(i).value(function(u,f){return+Rt(u,f,0)}).order(dv).offset(o);return c(t)},T7=function(t,n,r,i,o,c){if(!t)return null;var u=c?n.reverse():n,f={},d=u.reduce(function(m,x){var v=x.props,j=v.stackId,b=v.hide;if(b)return m;var w=x.props[r],y=m[w]||{hasStack:!1,stackGroups:{}};if(Mt(j)){var S=y.stackGroups[j]||{numericAxisId:r,cateAxisId:i,items:[]};S.items.push(x),y.hasStack=!0,y.stackGroups[j]=S}else y.stackGroups[Vi("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[x]};return Zn(Zn({},m),{},Rs({},w,y))},f),h={};return Object.keys(d).reduce(function(m,x){var v=d[x];if(v.hasStack){var j={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(b,w){var y=v.stackGroups[w];return Zn(Zn({},b),{},Rs({},w,{numericAxisId:r,cateAxisId:i,items:y.items,stackedData:I7(t,y.items,o)}))},j)}return Zn(Zn({},m),{},Rs({},x,v))},h)},_7=function(t,n){var r=n.realScaleType,i=n.type,o=n.tickCount,c=n.originalDomain,u=n.allowDecimals,f=r||n.scale;if(f!=="auto"&&f!=="linear")return null;if(o&&i==="number"&&c&&(c[0]==="auto"||c[1]==="auto")){var d=t.domain();if(!d.length)return null;var h=J9(d,o,u);return t.domain([Lf(h),Ha(h)]),{niceTicks:h}}if(o&&i==="number"){var m=t.domain(),x=e7(m,o,u);return{niceTicks:x}}return null};function Ks(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,o=e.index,c=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Be(i[t.dataKey])){var u=yd(n,"value",i[t.dataKey]);if(u)return u.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var f=Rt(i,Be(c)?t.dataKey:c);return Be(f)?null:t.scale(f)}var HC=function(t){var n=t.axis,r=t.ticks,i=t.offset,o=t.bandSize,c=t.entry,u=t.index;if(n.type==="category")return r[u]?r[u].coordinate+i:null;var f=Rt(c,n.dataKey,n.domain[u]);return Be(f)?null:n.scale(f)-o/2+i},M7=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},R7=function(t,n){var r=t.props.stackId;if(Mt(r)){var i=n[r];if(i){var o=i.items.indexOf(t);return o>=0?i.stackedData[o]:null}}return null},$7=function(t){return t.reduce(function(n,r){return[Lf(r.concat([n[0]]).filter(he)),Ha(r.concat([n[1]]).filter(he))]},[1/0,-1/0])},$O=function(t,n,r){return Object.keys(t).reduce(function(i,o){var c=t[o],u=c.stackedData,f=u.reduce(function(d,h){var m=$7(h.slice(n,r+1));return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(f[0],i[0]),Math.max(f[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},VC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,KC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_v=function(t,n,r){if(Fe(t))return t(n,r);if(!Array.isArray(t))return n;var i=[];if(he(t[0]))i[0]=r?t[0]:Math.min(t[0],n[0]);else if(VC.test(t[0])){var o=+VC.exec(t[0])[1];i[0]=n[0]-o}else Fe(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(he(t[1]))i[1]=r?t[1]:Math.max(t[1],n[1]);else if(KC.test(t[1])){var c=+KC.exec(t[1])[1];i[1]=n[1]+c}else Fe(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},Hd=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!r||i>0)return i}if(t&&n&&n.length>=2){for(var o=ab(n,function(m){return m.coordinate}),c=1/0,u=1,f=o.length;u<f;u++){var d=o[u],h=o[u-1];c=Math.min((d.coordinate||0)-(h.coordinate||0),c)}return c===1/0?0:c}return r?void 0:0},GC=function(t,n,r){return!t||!t.length||$i(t,er(r,"type.defaultProps.domain"))?n:t},zO=function(t,n){var r=t.props,i=r.dataKey,o=r.name,c=r.unit,u=r.formatter,f=r.tooltipType,d=r.chartType,h=r.hide;return Zn(Zn({},Le(t,!1)),{},{dataKey:i,unit:c,formatter:u,name:o||i,color:Ob(t),value:Rt(n,i),type:f,payload:n,chartType:d,hide:h})};function rc(e){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rc(e)}function YC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function XC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YC(Object(n),!0).forEach(function(r){z7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function z7(e,t,n){return t=L7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L7(e){var t=B7(e,"string");return rc(t)=="symbol"?t:String(t)}function B7(e,t){if(rc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vd=Math.PI/180,F7=function(t){return t*180/Math.PI},Xt=function(t,n,r,i){return{x:t+Math.cos(-Vd*i)*r,y:n+Math.sin(-Vd*i)*r}},U7=function(t,n){var r=t.x,i=t.y,o=n.x,c=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-c,2))},q7=function(t,n){var r=t.x,i=t.y,o=n.cx,c=n.cy,u=U7({x:r,y:i},{x:o,y:c});if(u<=0)return{radius:u};var f=(r-o)/u,d=Math.acos(f);return i>c&&(d=2*Math.PI-d),{radius:u,angle:F7(d),angleInRadian:d}},W7=function(t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),c=Math.min(i,o);return{startAngle:n-c*360,endAngle:r-c*360}},H7=function(t,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),c=Math.floor(i/360),u=Math.min(o,c);return t+u*360},QC=function(t,n){var r=t.x,i=t.y,o=q7({x:r,y:i},n),c=o.radius,u=o.angle,f=n.innerRadius,d=n.outerRadius;if(c<f||c>d)return!1;if(c===0)return!0;var h=W7(n),m=h.startAngle,x=h.endAngle,v=u,j;if(m<=x){for(;v>x;)v-=360;for(;v<m;)v+=360;j=v>=m&&v<=x}else{for(;v>m;)v-=360;for(;v<x;)v+=360;j=v>=x&&v<=m}return j?XC(XC({},n),{},{radius:c,angle:H7(v,n)}):null};function ac(e){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ac(e)}var V7=["offset"];function K7(e){return Q7(e)||X7(e)||Y7(e)||G7()}function G7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y7(e,t){if(e){if(typeof e=="string")return Mv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mv(e,t)}}function X7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Q7(e){if(Array.isArray(e))return Mv(e)}function Mv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z7(e,t){if(e==null)return{};var n=J7(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function J7(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function ZC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZC(Object(n),!0).forEach(function(r){eB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eB(e,t,n){return t=tB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tB(e){var t=nB(e,"string");return ac(t)=="symbol"?t:String(t)}function nB(e,t){if(ac(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ic(){return ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ic.apply(this,arguments)}var rB=function(t){var n=t.value,r=t.formatter,i=Be(t.children)?n:t.children;return Fe(r)?r(i):i},aB=function(t,n){var r=vr(n-t),i=Math.min(Math.abs(n-t),360);return r*i},iB=function(t,n,r){var i=t.position,o=t.viewBox,c=t.offset,u=t.className,f=o,d=f.cx,h=f.cy,m=f.innerRadius,x=f.outerRadius,v=f.startAngle,j=f.endAngle,b=f.clockWise,w=(m+x)/2,y=aB(v,j),S=y>=0?1:-1,P,k;i==="insideStart"?(P=v+S*c,k=b):i==="insideEnd"?(P=j-S*c,k=!b):i==="end"&&(P=j+S*c,k=b),k=y<=0?k:!k;var C=Xt(d,h,w,P),E=Xt(d,h,w,P+(k?1:-1)*359),D="M".concat(C.x,",").concat(C.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(k?0:1,`,
    `).concat(E.x,",").concat(E.y),I=Be(t.id)?Vi("recharts-radial-line-"):t.id;return q.createElement("text",ic({},r,{dominantBaseline:"central",className:Ye("recharts-radial-bar-label",u)}),q.createElement("defs",null,q.createElement("path",{id:I,d:D})),q.createElement("textPath",{xlinkHref:"#".concat(I)},n))},sB=function(t){var n=t.viewBox,r=t.offset,i=t.position,o=n,c=o.cx,u=o.cy,f=o.innerRadius,d=o.outerRadius,h=o.startAngle,m=o.endAngle,x=(h+m)/2;if(i==="outside"){var v=Xt(c,u,d+r,x),j=v.x,b=v.y;return{x:j,y:b,textAnchor:j>=c?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:c,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:c,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:c,y:u,textAnchor:"middle",verticalAnchor:"end"};var w=(f+d)/2,y=Xt(c,u,w,x),S=y.x,P=y.y;return{x:S,y:P,textAnchor:"middle",verticalAnchor:"middle"}},oB=function(t){var n=t.viewBox,r=t.parentViewBox,i=t.offset,o=t.position,c=n,u=c.x,f=c.y,d=c.width,h=c.height,m=h>=0?1:-1,x=m*i,v=m>0?"end":"start",j=m>0?"start":"end",b=d>=0?1:-1,w=b*i,y=b>0?"end":"start",S=b>0?"start":"end";if(o==="top"){var P={x:u+d/2,y:f-m*i,textAnchor:"middle",verticalAnchor:v};return _t(_t({},P),r?{height:Math.max(f-r.y,0),width:d}:{})}if(o==="bottom"){var k={x:u+d/2,y:f+h+x,textAnchor:"middle",verticalAnchor:j};return _t(_t({},k),r?{height:Math.max(r.y+r.height-(f+h),0),width:d}:{})}if(o==="left"){var C={x:u-w,y:f+h/2,textAnchor:y,verticalAnchor:"middle"};return _t(_t({},C),r?{width:Math.max(C.x-r.x,0),height:h}:{})}if(o==="right"){var E={x:u+d+w,y:f+h/2,textAnchor:S,verticalAnchor:"middle"};return _t(_t({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:h}:{})}var D=r?{width:d,height:h}:{};return o==="insideLeft"?_t({x:u+w,y:f+h/2,textAnchor:S,verticalAnchor:"middle"},D):o==="insideRight"?_t({x:u+d-w,y:f+h/2,textAnchor:y,verticalAnchor:"middle"},D):o==="insideTop"?_t({x:u+d/2,y:f+x,textAnchor:"middle",verticalAnchor:j},D):o==="insideBottom"?_t({x:u+d/2,y:f+h-x,textAnchor:"middle",verticalAnchor:v},D):o==="insideTopLeft"?_t({x:u+w,y:f+x,textAnchor:S,verticalAnchor:j},D):o==="insideTopRight"?_t({x:u+d-w,y:f+x,textAnchor:y,verticalAnchor:j},D):o==="insideBottomLeft"?_t({x:u+w,y:f+h-x,textAnchor:S,verticalAnchor:v},D):o==="insideBottomRight"?_t({x:u+d-w,y:f+h-x,textAnchor:y,verticalAnchor:v},D):uo(o)&&(he(o.x)||Si(o.x))&&(he(o.y)||Si(o.y))?_t({x:u+zs(o.x,d),y:f+zs(o.y,h),textAnchor:"end",verticalAnchor:"end"},D):_t({x:u+d/2,y:f+h/2,textAnchor:"middle",verticalAnchor:"middle"},D)},lB=function(t){return"cx"in t&&he(t.cx)};function sn(e){var t=e.offset,n=t===void 0?5:t,r=Z7(e,V7),i=_t({offset:n},r),o=i.viewBox,c=i.position,u=i.value,f=i.children,d=i.content,h=i.className,m=h===void 0?"":h,x=i.textBreakAll;if(!o||Be(u)&&Be(f)&&!O.isValidElement(d)&&!Fe(d))return null;if(O.isValidElement(d))return O.cloneElement(d,i);var v;if(Fe(d)){if(v=O.createElement(d,i),O.isValidElement(v))return v}else v=rB(i);var j=lB(o),b=Le(i,!0);if(j&&(c==="insideStart"||c==="insideEnd"||c==="end"))return iB(i,v,b);var w=j?sB(i):oB(i);return q.createElement(Od,ic({className:Ye("recharts-label",m)},b,w,{breakAll:x}),v)}sn.displayName="Label";var LO=function(t){var n=t.cx,r=t.cy,i=t.angle,o=t.startAngle,c=t.endAngle,u=t.r,f=t.radius,d=t.innerRadius,h=t.outerRadius,m=t.x,x=t.y,v=t.top,j=t.left,b=t.width,w=t.height,y=t.clockWise,S=t.labelViewBox;if(S)return S;if(he(b)&&he(w)){if(he(m)&&he(x))return{x:m,y:x,width:b,height:w};if(he(v)&&he(j))return{x:v,y:j,width:b,height:w}}return he(m)&&he(x)?{x:m,y:x,width:0,height:0}:he(n)&&he(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:c||i||0,innerRadius:d||0,outerRadius:h||f||u||0,clockWise:y}:t.viewBox?t.viewBox:{}},cB=function(t,n){return t?t===!0?q.createElement(sn,{key:"label-implicit",viewBox:n}):Mt(t)?q.createElement(sn,{key:"label-implicit",viewBox:n,value:t}):O.isValidElement(t)?t.type===sn?O.cloneElement(t,{key:"label-implicit",viewBox:n}):q.createElement(sn,{key:"label-implicit",content:t,viewBox:n}):Fe(t)?q.createElement(sn,{key:"label-implicit",content:t,viewBox:n}):uo(t)?q.createElement(sn,ic({viewBox:n},t,{key:"label-implicit"})):null:null},uB=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var i=t.children,o=LO(t),c=kn(i,sn).map(function(f,d){return O.cloneElement(f,{viewBox:n||o,key:"label-".concat(d)})});if(!r)return c;var u=cB(t.label,n||o);return[u].concat(K7(c))};sn.parseViewBox=LO;sn.renderCallByParent=uB;var pg,JC;function dB(){if(JC)return pg;JC=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return pg=e,pg}var fB=dB();const pB=lt(fB);function sc(e){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sc(e)}var hB=["valueAccessor"],mB=["data","dataKey","clockWise","id","textBreakAll"];function xB(e){return bB(e)||yB(e)||vB(e)||gB()}function gB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vB(e,t){if(e){if(typeof e=="string")return Rv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rv(e,t)}}function yB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bB(e){if(Array.isArray(e))return Rv(e)}function Rv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kd(){return Kd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kd.apply(this,arguments)}function eA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eA(Object(n),!0).forEach(function(r){wB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wB(e,t,n){return t=jB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jB(e){var t=NB(e,"string");return sc(t)=="symbol"?t:String(t)}function NB(e,t){if(sc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nA(e,t){if(e==null)return{};var n=SB(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function SB(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var kB=function(t){return Array.isArray(t.value)?pB(t.value):t.value};function _r(e){var t=e.valueAccessor,n=t===void 0?kB:t,r=nA(e,hB),i=r.data,o=r.dataKey,c=r.clockWise,u=r.id,f=r.textBreakAll,d=nA(r,mB);return!i||!i.length?null:q.createElement(Qe,{className:"recharts-label-list"},i.map(function(h,m){var x=Be(o)?n(h,m):Rt(h&&h.payload,o),v=Be(u)?{}:{id:"".concat(u,"-").concat(m)};return q.createElement(sn,Kd({},Le(h,!0),d,v,{parentViewBox:h.parentViewBox,value:x,textBreakAll:f,viewBox:sn.parseViewBox(Be(c)?h:tA(tA({},h),{},{clockWise:c})),key:"label-".concat(m),index:m}))}))}_r.displayName="LabelList";function CB(e,t){return e?e===!0?q.createElement(_r,{key:"labelList-implicit",data:t}):q.isValidElement(e)||Fe(e)?q.createElement(_r,{key:"labelList-implicit",data:t,content:e}):uo(e)?q.createElement(_r,Kd({data:t},e,{key:"labelList-implicit"})):null:null}function AB(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=kn(r,_r).map(function(c,u){return O.cloneElement(c,{data:t,key:"labelList-".concat(u)})});if(!n)return i;var o=CB(e.label,t);return[o].concat(xB(i))}_r.renderCallByParent=AB;function oc(e){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oc(e)}function $v(){return $v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$v.apply(this,arguments)}function rA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rA(Object(n),!0).forEach(function(r){PB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PB(e,t,n){return t=EB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EB(e){var t=DB(e,"string");return oc(t)=="symbol"?t:String(t)}function DB(e,t){if(oc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OB=function(t,n){var r=vr(n-t),i=Math.min(Math.abs(n-t),359.999);return r*i},ad=function(t){var n=t.cx,r=t.cy,i=t.radius,o=t.angle,c=t.sign,u=t.isExternal,f=t.cornerRadius,d=t.cornerIsExternal,h=f*(u?1:-1)+i,m=Math.asin(f/h)/Vd,x=d?o:o+c*m,v=Xt(n,r,h,x),j=Xt(n,r,i,x),b=d?o-c*m:o,w=Xt(n,r,h*Math.cos(m*Vd),b);return{center:v,circleTangency:j,lineTangency:w,theta:m}},BO=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,c=t.startAngle,u=t.endAngle,f=OB(c,u),d=c+f,h=Xt(n,r,o,c),m=Xt(n,r,o,d),x="M ".concat(h.x,",").concat(h.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(f)>180),",").concat(+(c>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var v=Xt(n,r,i,c),j=Xt(n,r,i,d);x+="L ".concat(j.x,",").concat(j.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(f)>180),",").concat(+(c<=d),`,
            `).concat(v.x,",").concat(v.y," Z")}else x+="L ".concat(n,",").concat(r," Z");return x},IB=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,c=t.cornerRadius,u=t.forceCornerRadius,f=t.cornerIsExternal,d=t.startAngle,h=t.endAngle,m=vr(h-d),x=ad({cx:n,cy:r,radius:o,angle:d,sign:m,cornerRadius:c,cornerIsExternal:f}),v=x.circleTangency,j=x.lineTangency,b=x.theta,w=ad({cx:n,cy:r,radius:o,angle:h,sign:-m,cornerRadius:c,cornerIsExternal:f}),y=w.circleTangency,S=w.lineTangency,P=w.theta,k=f?Math.abs(d-h):Math.abs(d-h)-b-P;if(k<0)return u?"M ".concat(j.x,",").concat(j.y,`
        a`).concat(c,",").concat(c,",0,0,1,").concat(c*2,`,0
        a`).concat(c,",").concat(c,",0,0,1,").concat(-c*2,`,0
      `):BO({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:d,endAngle:h});var C="M ".concat(j.x,",").concat(j.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(m<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(k>180),",").concat(+(m<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(m<0),",").concat(S.x,",").concat(S.y,`
  `);if(i>0){var E=ad({cx:n,cy:r,radius:i,angle:d,sign:m,isExternal:!0,cornerRadius:c,cornerIsExternal:f}),D=E.circleTangency,I=E.lineTangency,$=E.theta,B=ad({cx:n,cy:r,radius:i,angle:h,sign:-m,isExternal:!0,cornerRadius:c,cornerIsExternal:f}),M=B.circleTangency,z=B.lineTangency,L=B.theta,_=f?Math.abs(d-h):Math.abs(d-h)-$-L;if(_<0&&c===0)return"".concat(C,"L").concat(n,",").concat(r,"Z");C+="L".concat(z.x,",").concat(z.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(m<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(m>0),",").concat(D.x,",").concat(D.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(m<0),",").concat(I.x,",").concat(I.y,"Z")}else C+="L".concat(n,",").concat(r,"Z");return C},TB={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},FO=function(t){var n=aA(aA({},TB),t),r=n.cx,i=n.cy,o=n.innerRadius,c=n.outerRadius,u=n.cornerRadius,f=n.forceCornerRadius,d=n.cornerIsExternal,h=n.startAngle,m=n.endAngle,x=n.className;if(c<o||h===m)return null;var v=Ye("recharts-sector",x),j=c-o,b=zs(u,j,0,!0),w;return b>0&&Math.abs(h-m)<360?w=IB({cx:r,cy:i,innerRadius:o,outerRadius:c,cornerRadius:Math.min(b,j/2),forceCornerRadius:f,cornerIsExternal:d,startAngle:h,endAngle:m}):w=BO({cx:r,cy:i,innerRadius:o,outerRadius:c,startAngle:h,endAngle:m}),q.createElement("path",$v({},Le(n,!0),{className:v,d:w,role:"img"}))};function lc(e){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lc(e)}function zv(){return zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zv.apply(this,arguments)}function iA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iA(Object(n),!0).forEach(function(r){_B(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _B(e,t,n){return t=MB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MB(e){var t=RB(e,"string");return lc(t)=="symbol"?t:String(t)}function RB(e,t){if(lc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oA={curveBasisClosed:f6,curveBasisOpen:p6,curveBasis:d6,curveBumpX:Q3,curveBumpY:Z3,curveLinearClosed:h6,curveLinear:Af,curveMonotoneX:m6,curveMonotoneY:x6,curveNatural:g6,curveStep:v6,curveStepAfter:b6,curveStepBefore:y6},id=function(t){return t.x===+t.x&&t.y===+t.y},dl=function(t){return t.x},fl=function(t){return t.y},$B=function(t,n){if(Fe(t))return t;var r="curve".concat(kf(t));return(r==="curveMonotone"||r==="curveBump")&&n?oA["".concat(r).concat(n==="vertical"?"Y":"X")]:oA[r]||Af},zB=function(t){var n=t.type,r=n===void 0?"linear":n,i=t.points,o=i===void 0?[]:i,c=t.baseLine,u=t.layout,f=t.connectNulls,d=f===void 0?!1:f,h=$B(r,u),m=d?o.filter(function(b){return id(b)}):o,x;if(Array.isArray(c)){var v=d?c.filter(function(b){return id(b)}):c,j=m.map(function(b,w){return sA(sA({},b),{},{base:v[w]})});return u==="vertical"?x=Xu().y(fl).x1(dl).x0(function(b){return b.base.x}):x=Xu().x(dl).y1(fl).y0(function(b){return b.base.y}),x.defined(id).curve(h),x(j)}return u==="vertical"&&he(c)?x=Xu().y(fl).x1(dl).x0(c):he(c)?x=Xu().x(dl).y1(fl).y0(c):x=YE().x(dl).y(fl),x.defined(id).curve(h),x(m)},Ti=function(t){var n=t.className,r=t.points,i=t.path,o=t.pathRef;if((!r||!r.length)&&!i)return null;var c=r&&r.length?zB(t):i;return q.createElement("path",zv({},Le(t,!1),bd(t),{className:Ye("recharts-curve",n),d:c,ref:o}))},hg={exports:{}},mg,lA;function LB(){if(lA)return mg;lA=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return mg=e,mg}var xg,cA;function BB(){if(cA)return xg;cA=1;var e=LB();function t(){}function n(){}return n.resetWarningCache=t,xg=function(){function r(c,u,f,d,h,m){if(m!==e){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o},xg}var uA;function FB(){return uA||(uA=1,hg.exports=BB()()),hg.exports}var UB=FB();const et=lt(UB),{getOwnPropertyNames:qB,getOwnPropertySymbols:WB}=Object,{hasOwnProperty:HB}=Object.prototype;function gg(e,t){return function(r,i,o){return e(r,i,o)&&t(r,i,o)}}function sd(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);const{cache:o}=i,c=o.get(n),u=o.get(r);if(c&&u)return c===r&&u===n;o.set(n,r),o.set(r,n);const f=e(n,r,i);return o.delete(n),o.delete(r),f}}function VB(e){return e!=null?e[Symbol.toStringTag]:void 0}function dA(e){return qB(e).concat(WB(e))}const KB=Object.hasOwn||((e,t)=>HB.call(e,t));function Yi(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const GB="__v",YB="__o",XB="_owner",{getOwnPropertyDescriptor:fA,keys:pA}=Object;function QB(e,t){return e.byteLength===t.byteLength&&Gd(new Uint8Array(e),new Uint8Array(t))}function ZB(e,t,n){let r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function JB(e,t){return e.byteLength===t.byteLength&&Gd(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function eF(e,t){return Yi(e.getTime(),t.getTime())}function tF(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function nF(e,t){return e===t}function hA(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const i=new Array(r),o=e.entries();let c,u,f=0;for(;(c=o.next())&&!c.done;){const d=t.entries();let h=!1,m=0;for(;(u=d.next())&&!u.done;){if(i[m]){m++;continue}const x=c.value,v=u.value;if(n.equals(x[0],v[0],f,m,e,t,n)&&n.equals(x[1],v[1],x[0],v[0],e,t,n)){h=i[m]=!0;break}m++}if(!h)return!1;f++}return!0}const rF=Yi;function aF(e,t,n){const r=pA(e);let i=r.length;if(pA(t).length!==i)return!1;for(;i-- >0;)if(!UO(e,t,n,r[i]))return!1;return!0}function pl(e,t,n){const r=dA(e);let i=r.length;if(dA(t).length!==i)return!1;let o,c,u;for(;i-- >0;)if(o=r[i],!UO(e,t,n,o)||(c=fA(e,o),u=fA(t,o),(c||u)&&(!c||!u||c.configurable!==u.configurable||c.enumerable!==u.enumerable||c.writable!==u.writable)))return!1;return!0}function iF(e,t){return Yi(e.valueOf(),t.valueOf())}function sF(e,t){return e.source===t.source&&e.flags===t.flags}function mA(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const i=new Array(r),o=e.values();let c,u;for(;(c=o.next())&&!c.done;){const f=t.values();let d=!1,h=0;for(;(u=f.next())&&!u.done;){if(!i[h]&&n.equals(c.value,u.value,c.value,u.value,e,t,n)){d=i[h]=!0;break}h++}if(!d)return!1}return!0}function Gd(e,t){let n=e.byteLength;if(t.byteLength!==n||e.byteOffset!==t.byteOffset)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function oF(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function UO(e,t,n,r){return(r===XB||r===YB||r===GB)&&(e.$$typeof||t.$$typeof)?!0:KB(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}const lF="[object ArrayBuffer]",cF="[object Arguments]",uF="[object Boolean]",dF="[object DataView]",fF="[object Date]",pF="[object Error]",hF="[object Map]",mF="[object Number]",xF="[object Object]",gF="[object RegExp]",vF="[object Set]",yF="[object String]",bF={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},wF="[object URL]",jF=Object.prototype.toString;function NF({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:c,areNumbersEqual:u,areObjectsEqual:f,arePrimitiveWrappersEqual:d,areRegExpsEqual:h,areSetsEqual:m,areTypedArraysEqual:x,areUrlsEqual:v,unknownTagComparators:j}){return function(w,y,S){if(w===y)return!0;if(w==null||y==null)return!1;const P=typeof w;if(P!==typeof y)return!1;if(P!=="object")return P==="number"?u(w,y,S):P==="function"?o(w,y,S):!1;const k=w.constructor;if(k!==y.constructor)return!1;if(k===Object)return f(w,y,S);if(Array.isArray(w))return t(w,y,S);if(k===Date)return r(w,y,S);if(k===RegExp)return h(w,y,S);if(k===Map)return c(w,y,S);if(k===Set)return m(w,y,S);const C=jF.call(w);if(C===fF)return r(w,y,S);if(C===gF)return h(w,y,S);if(C===hF)return c(w,y,S);if(C===vF)return m(w,y,S);if(C===xF)return typeof w.then!="function"&&typeof y.then!="function"&&f(w,y,S);if(C===wF)return v(w,y,S);if(C===pF)return i(w,y,S);if(C===cF)return f(w,y,S);if(bF[C])return x(w,y,S);if(C===lF)return e(w,y,S);if(C===dF)return n(w,y,S);if(C===uF||C===mF||C===yF)return d(w,y,S);if(j){let E=j[C];if(!E){const D=VB(w);D&&(E=j[D])}if(E)return E(w,y,S)}return!1}}function SF({circular:e,createCustomConfig:t,strict:n}){let r={areArrayBuffersEqual:QB,areArraysEqual:n?pl:ZB,areDataViewsEqual:JB,areDatesEqual:eF,areErrorsEqual:tF,areFunctionsEqual:nF,areMapsEqual:n?gg(hA,pl):hA,areNumbersEqual:rF,areObjectsEqual:n?pl:aF,arePrimitiveWrappersEqual:iF,areRegExpsEqual:sF,areSetsEqual:n?gg(mA,pl):mA,areTypedArraysEqual:n?gg(Gd,pl):Gd,areUrlsEqual:oF,unknownTagComparators:void 0};if(t&&(r=Object.assign({},r,t(r))),e){const i=sd(r.areArraysEqual),o=sd(r.areMapsEqual),c=sd(r.areObjectsEqual),u=sd(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:c,areSetsEqual:u})}return r}function kF(e){return function(t,n,r,i,o,c,u){return e(t,n,u)}}function CF({circular:e,comparator:t,createState:n,equals:r,strict:i}){if(n)return function(u,f){const{cache:d=e?new WeakMap:void 0,meta:h}=n();return t(u,f,{cache:d,equals:r,meta:h,strict:i})};if(e)return function(u,f){return t(u,f,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(u,f){return t(u,f,o)}}const AF=ri();ri({strict:!0});ri({circular:!0});ri({circular:!0,strict:!0});ri({createInternalComparator:()=>Yi});ri({strict:!0,createInternalComparator:()=>Yi});ri({circular:!0,createInternalComparator:()=>Yi});ri({circular:!0,createInternalComparator:()=>Yi,strict:!0});function ri(e={}){const{circular:t=!1,createInternalComparator:n,createState:r,strict:i=!1}=e,o=SF(e),c=NF(o),u=n?n(c):kF(c);return CF({circular:t,comparator:c,createState:r,equals:u,strict:i})}function PF(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function xA(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>t?(e(o),n=-1):PF(i)};requestAnimationFrame(r)}function Lv(e){"@babel/helpers - typeof";return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lv(e)}function EF(e){return TF(e)||IF(e)||OF(e)||DF()}function DF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OF(e,t){if(e){if(typeof e=="string")return gA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gA(e,t)}}function gA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function IF(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TF(e){if(Array.isArray(e))return e}function _F(){var e={},t=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var c=o,u=EF(c),f=u[0],d=u.slice(1);if(typeof f=="number"){xA(i.bind(null,d),f);return}i(f),xA(i.bind(null,d));return}Lv(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function cc(e){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cc(e)}function vA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(n),!0).forEach(function(r){qO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qO(e,t,n){return t=MF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MF(e){var t=RF(e,"string");return cc(t)==="symbol"?t:String(t)}function RF(e,t){if(cc(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(cc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $F=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},zF=function(t){return t},LF=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Cl=function(t,n){return Object.keys(n).reduce(function(r,i){return yA(yA({},r),{},qO({},i,t(i,n[i])))},{})},bA=function(t,n,r){return t.map(function(i){return"".concat(LF(i)," ").concat(n,"ms ").concat(r)}).join(",")};function BF(e,t){return qF(e)||UF(e,t)||WO(e,t)||FF()}function FF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UF(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,c,u=[],f=!0,d=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(f=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);f=!0);}catch(h){d=!0,i=h}finally{try{if(!f&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(d)throw i}}return u}}function qF(e){if(Array.isArray(e))return e}function WF(e){return KF(e)||VF(e)||WO(e)||HF()}function HF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WO(e,t){if(e){if(typeof e=="string")return Bv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bv(e,t)}}function VF(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KF(e){if(Array.isArray(e))return Bv(e)}function Bv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Yd=1e-4,HO=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},VO=function(t,n){return t.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},wA=function(t,n){return function(r){var i=HO(t,n);return VO(i,r)}},GF=function(t,n){return function(r){var i=HO(t,n),o=[].concat(WF(i.map(function(c,u){return c*u}).slice(1)),[0]);return VO(o,r)}},jA=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],o=n[1],c=n[2],u=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,c=1,u=1;break;case"ease":i=.25,o=.1,c=.25,u=1;break;case"ease-in":i=.42,o=0,c=1,u=1;break;case"ease-out":i=.42,o=0,c=.58,u=1;break;case"ease-in-out":i=0,o=0,c=.58,u=1;break;default:{var f=n[0].split("(");if(f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4){var d=f[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),h=BF(d,4);i=h[0],o=h[1],c=h[2],u=h[3]}}}var m=wA(i,c),x=wA(o,u),v=GF(i,c),j=function(y){return y>1?1:y<0?0:y},b=function(y){for(var S=y>1?1:y,P=S,k=0;k<8;++k){var C=m(P)-S,E=v(P);if(Math.abs(C-S)<Yd||E<Yd)return x(P);P=j(P-C/E)}return x(P)};return b.isStepper=!1,b},YF=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,i=t.damping,o=i===void 0?8:i,c=t.dt,u=c===void 0?17:c,f=function(h,m,x){var v=-(h-m)*r,j=x*o,b=x+(v-j)*u/1e3,w=x*u/1e3+h;return Math.abs(w-m)<Yd&&Math.abs(b)<Yd?[m,0]:[w,b]};return f.isStepper=!0,f.dt=u,f},XF=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return jA(i);case"spring":return YF();default:if(i.split("(")[0]==="cubic-bezier")return jA(i)}return typeof i=="function"?i:null};function uc(e){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uc(e)}function NA(e){return JF(e)||ZF(e)||KO(e)||QF()}function QF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZF(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function JF(e){if(Array.isArray(e))return Uv(e)}function SA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(n),!0).forEach(function(r){Fv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fv(e,t,n){return t=eU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eU(e){var t=tU(e,"string");return uc(t)==="symbol"?t:String(t)}function tU(e,t){if(uc(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(uc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nU(e,t){return iU(e)||aU(e,t)||KO(e,t)||rU()}function rU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KO(e,t){if(e){if(typeof e=="string")return Uv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uv(e,t)}}function Uv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aU(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,c,u=[],f=!0,d=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(f=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);f=!0);}catch(h){d=!0,i=h}finally{try{if(!f&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(d)throw i}}return u}}function iU(e){if(Array.isArray(e))return e}var Xd=function(t,n,r){return t+(n-t)*r},qv=function(t){var n=t.from,r=t.to;return n!==r},sU=function e(t,n,r){var i=Cl(function(o,c){if(qv(c)){var u=t(c.from,c.to,c.velocity),f=nU(u,2),d=f[0],h=f[1];return Yt(Yt({},c),{},{from:d,velocity:h})}return c},n);return r<1?Cl(function(o,c){return qv(c)?Yt(Yt({},c),{},{velocity:Xd(c.velocity,i[o].velocity,r),from:Xd(c.from,i[o].from,r)}):c},n):e(t,i,r-1)};const oU=(function(e,t,n,r,i){var o=$F(e,t),c=o.reduce(function(w,y){return Yt(Yt({},w),{},Fv({},y,[e[y],t[y]]))},{}),u=o.reduce(function(w,y){return Yt(Yt({},w),{},Fv({},y,{from:e[y],velocity:0,to:t[y]}))},{}),f=-1,d,h,m=function(){return null},x=function(){return Cl(function(y,S){return S.from},u)},v=function(){return!Object.values(u).filter(qv).length},j=function(y){d||(d=y);var S=y-d,P=S/n.dt;u=sU(n,u,P),i(Yt(Yt(Yt({},e),t),x())),d=y,v()||(f=requestAnimationFrame(m))},b=function(y){h||(h=y);var S=(y-h)/r,P=Cl(function(C,E){return Xd.apply(void 0,NA(E).concat([n(S)]))},c);if(i(Yt(Yt(Yt({},e),t),P)),S<1)f=requestAnimationFrame(m);else{var k=Cl(function(C,E){return Xd.apply(void 0,NA(E).concat([n(1)]))},c);i(Yt(Yt(Yt({},e),t),k))}};return m=n.isStepper?j:b,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(f)}}});function Gs(e){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(e)}var lU=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function cU(e,t){if(e==null)return{};var n=uU(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function uU(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function vg(e){return hU(e)||pU(e)||fU(e)||dU()}function dU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fU(e,t){if(e){if(typeof e=="string")return Wv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wv(e,t)}}function pU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hU(e){if(Array.isArray(e))return Wv(e)}function Wv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kA(Object(n),!0).forEach(function(r){vl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vl(e,t,n){return t=GO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,GO(r.key),r)}}function gU(e,t,n){return t&&xU(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function GO(e){var t=vU(e,"string");return Gs(t)==="symbol"?t:String(t)}function vU(e,t){if(Gs(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Gs(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hv(e,t)}function Hv(e,t){return Hv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Hv(e,t)}function bU(e){var t=wU();return function(){var r=Qd(e),i;if(t){var o=Qd(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Vv(this,i)}}function Vv(e,t){if(t&&(Gs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kv(e)}function Kv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wU(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qd(e){return Qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qd(e)}var br=(function(e){yU(n,e);var t=bU(n);function n(r,i){var o;mU(this,n),o=t.call(this,r,i);var c=o.props,u=c.isActive,f=c.attributeName,d=c.from,h=c.to,m=c.steps,x=c.children,v=c.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Kv(o)),o.changeStyle=o.changeStyle.bind(Kv(o)),!u||v<=0)return o.state={style:{}},typeof x=="function"&&(o.state={style:h}),Vv(o);if(m&&m.length)o.state={style:m[0].style};else if(d){if(typeof x=="function")return o.state={style:d},Vv(o);o.state={style:f?vl({},f,d):d}}else o.state={style:{}};return o}return gU(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,c=i.canBegin;this.mounted=!0,!(!o||!c)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,c=o.isActive,u=o.canBegin,f=o.attributeName,d=o.shouldReAnimate,h=o.to,m=o.from,x=this.state.style;if(u){if(!c){var v={style:f?vl({},f,h):h};this.state&&x&&(f&&x[f]!==h||!f&&x!==h)&&this.setState(v);return}if(!(AF(i.to,h)&&i.canBegin&&i.isActive)){var j=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=j||d?m:i.to;if(this.state&&x){var w={style:f?vl({},f,b):b};(f&&x[f]!==b||!f&&x!==b)&&this.setState(w)}this.runAnimation(dr(dr({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,c=i.from,u=i.to,f=i.duration,d=i.easing,h=i.begin,m=i.onAnimationEnd,x=i.onAnimationStart,v=oU(c,u,XF(d),f,this.changeStyle),j=function(){o.stopJSAnimation=v()};this.manager.start([x,h,j,f,m])}},{key:"runStepAnimation",value:function(i){var o=this,c=i.steps,u=i.begin,f=i.onAnimationStart,d=c[0],h=d.style,m=d.duration,x=m===void 0?0:m,v=function(b,w,y){if(y===0)return b;var S=w.duration,P=w.easing,k=P===void 0?"ease":P,C=w.style,E=w.properties,D=w.onAnimationEnd,I=y>0?c[y-1]:w,$=E||Object.keys(C);if(typeof k=="function"||k==="spring")return[].concat(vg(b),[o.runJSAnimation.bind(o,{from:I.style,to:C,duration:S,easing:k}),S]);var B=bA($,S,k),M=dr(dr(dr({},I.style),C),{},{transition:B});return[].concat(vg(b),[M,S,D]).filter(zF)};return this.manager.start([f].concat(vg(c.reduce(v,[h,Math.max(x,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=_F());var o=i.begin,c=i.duration,u=i.attributeName,f=i.to,d=i.easing,h=i.onAnimationStart,m=i.onAnimationEnd,x=i.steps,v=i.children,j=this.manager;if(this.unSubscribe=j.subscribe(this.handleStyleChange),typeof d=="function"||typeof v=="function"||d==="spring"){this.runJSAnimation(i);return}if(x.length>1){this.runStepAnimation(i);return}var b=u?vl({},u,f):f,w=bA(Object.keys(b),c,d);j.start([h,o,dr(dr({},b),{},{transition:w}),c,m])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var c=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var f=cU(i,lU),d=O.Children.count(o),h=this.state.style;if(typeof o=="function")return o(h);if(!u||d===0||c<=0)return o;var m=function(v){var j=v.props,b=j.style,w=b===void 0?{}:b,y=j.className,S=O.cloneElement(v,dr(dr({},f),{},{style:dr(dr({},w),h),className:y}));return S};return d===1?m(O.Children.only(o)):q.createElement("div",null,O.Children.map(o,function(x){return m(x)}))}}]),n})(O.PureComponent);br.displayName="Animate";br.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};br.propTypes={from:et.oneOfType([et.object,et.string]),to:et.oneOfType([et.object,et.string]),attributeName:et.string,duration:et.number,begin:et.number,easing:et.oneOfType([et.string,et.func]),steps:et.arrayOf(et.shape({duration:et.number.isRequired,style:et.object.isRequired,easing:et.oneOfType([et.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),et.func]),properties:et.arrayOf("string"),onAnimationEnd:et.func})),children:et.oneOfType([et.node,et.func]),isActive:et.bool,canBegin:et.bool,onAnimationEnd:et.func,shouldReAnimate:et.bool,onAnimationStart:et.func,onAnimationReStart:et.func};function dc(e){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(e)}function Zd(){return Zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zd.apply(this,arguments)}function jU(e,t){return CU(e)||kU(e,t)||SU(e,t)||NU()}function NU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SU(e,t){if(e){if(typeof e=="string")return CA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CA(e,t)}}function CA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kU(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,c,u=[],f=!0,d=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(f=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);f=!0);}catch(h){d=!0,i=h}finally{try{if(!f&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(d)throw i}}return u}}function CU(e){if(Array.isArray(e))return e}function AA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AA(Object(n),!0).forEach(function(r){AU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AU(e,t,n){return t=PU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PU(e){var t=EU(e,"string");return dc(t)=="symbol"?t:String(t)}function EU(e,t){if(dc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EA=function(t,n,r,i,o){var c=Math.min(Math.abs(r)/2,Math.abs(i)/2),u=i>=0?1:-1,f=r>=0?1:-1,d=i>=0&&r>=0||i<0&&r<0?1:0,h;if(c>0&&o instanceof Array){for(var m=[0,0,0,0],x=0,v=4;x<v;x++)m[x]=o[x]>c?c:o[x];h="M".concat(t,",").concat(n+u*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(t+f*m[0],",").concat(n)),h+="L ".concat(t+r-f*m[1],",").concat(n),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(t+r,",").concat(n+u*m[1])),h+="L ".concat(t+r,",").concat(n+i-u*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(t+r-f*m[2],",").concat(n+i)),h+="L ".concat(t+f*m[3],",").concat(n+i),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(n+i-u*m[3])),h+="Z"}else if(c>0&&o===+o&&o>0){var j=Math.min(c,o);h="M ".concat(t,",").concat(n+u*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(d,",").concat(t+f*j,",").concat(n,`
            L `).concat(t+r-f*j,",").concat(n,`
            A `).concat(j,",").concat(j,",0,0,").concat(d,",").concat(t+r,",").concat(n+u*j,`
            L `).concat(t+r,",").concat(n+i-u*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(d,",").concat(t+r-f*j,",").concat(n+i,`
            L `).concat(t+f*j,",").concat(n+i,`
            A `).concat(j,",").concat(j,",0,0,").concat(d,",").concat(t,",").concat(n+i-u*j," Z")}else h="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return h},DU=function(t,n){if(!t||!n)return!1;var r=t.x,i=t.y,o=n.x,c=n.y,u=n.width,f=n.height;if(Math.abs(u)>0&&Math.abs(f)>0){var d=Math.min(o,o+u),h=Math.max(o,o+u),m=Math.min(c,c+f),x=Math.max(c,c+f);return r>=d&&r<=h&&i>=m&&i<=x}return!1},OU={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ib=function(t){var n=PA(PA({},OU),t),r=O.useRef(),i=O.useState(-1),o=jU(i,2),c=o[0],u=o[1];O.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var k=r.current.getTotalLength();k&&u(k)}catch{}},[]);var f=n.x,d=n.y,h=n.width,m=n.height,x=n.radius,v=n.className,j=n.animationEasing,b=n.animationDuration,w=n.animationBegin,y=n.isAnimationActive,S=n.isUpdateAnimationActive;if(f!==+f||d!==+d||h!==+h||m!==+m||h===0||m===0)return null;var P=Ye("recharts-rectangle",v);return S?q.createElement(br,{canBegin:c>0,from:{width:h,height:m,x:f,y:d},to:{width:h,height:m,x:f,y:d},duration:b,animationEasing:j,isActive:S},function(k){var C=k.width,E=k.height,D=k.x,I=k.y;return q.createElement(br,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:b,isActive:y,easing:j},q.createElement("path",Zd({},Le(n,!0),{className:P,d:EA(D,I,C,E,x),ref:r})))}):q.createElement("path",Zd({},Le(n,!0),{className:P,d:EA(f,d,h,m,x)}))};function Gv(){return Gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gv.apply(this,arguments)}var Uf=function(t){var n=t.cx,r=t.cy,i=t.r,o=t.className,c=Ye("recharts-dot",o);return n===+n&&r===+r&&i===+i?q.createElement("circle",Gv({},Le(t,!1),bd(t),{className:c,cx:n,cy:r,r:i})):null};function fc(e){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}var IU=["x","y","top","left","width","height","className"];function Yv(){return Yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yv.apply(this,arguments)}function DA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function TU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DA(Object(n),!0).forEach(function(r){_U(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _U(e,t,n){return t=MU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MU(e){var t=RU(e,"string");return fc(t)=="symbol"?t:String(t)}function RU(e,t){if(fc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $U(e,t){if(e==null)return{};var n=zU(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function zU(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var LU=function(t,n,r,i,o,c){return"M".concat(t,",").concat(o,"v").concat(i,"M").concat(c,",").concat(n,"h").concat(r)},BU=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,o=i===void 0?0:i,c=t.top,u=c===void 0?0:c,f=t.left,d=f===void 0?0:f,h=t.width,m=h===void 0?0:h,x=t.height,v=x===void 0?0:x,j=t.className,b=$U(t,IU),w=TU({x:r,y:o,top:u,left:d,width:m,height:v},b);return!he(r)||!he(o)||!he(m)||!he(v)||!he(u)||!he(d)?null:q.createElement("path",Yv({},Le(w,!0),{className:Ye("recharts-cross",j),d:LU(r,o,m,v,u,d)}))},yg,OA;function FU(){if(OA)return yg;OA=1;var e=vD(),t=e(Object.getPrototypeOf,Object);return yg=t,yg}var bg,IA;function UU(){if(IA)return bg;IA=1;var e=ma(),t=FU(),n=xa(),r="[object Object]",i=Function.prototype,o=Object.prototype,c=i.toString,u=o.hasOwnProperty,f=c.call(Object);function d(h){if(!n(h)||e(h)!=r)return!1;var m=t(h);if(m===null)return!0;var x=u.call(m,"constructor")&&m.constructor;return typeof x=="function"&&x instanceof x&&c.call(x)==f}return bg=d,bg}var qU=UU();const WU=lt(qU);var wg,TA;function HU(){if(TA)return wg;TA=1;var e=ma(),t=xa(),n="[object Boolean]";function r(i){return i===!0||i===!1||t(i)&&e(i)==n}return wg=r,wg}var VU=HU();const KU=lt(VU);function pc(e){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(e)}function Jd(){return Jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jd.apply(this,arguments)}function GU(e,t){return ZU(e)||QU(e,t)||XU(e,t)||YU()}function YU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XU(e,t){if(e){if(typeof e=="string")return _A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _A(e,t)}}function _A(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function QU(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,c,u=[],f=!0,d=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(f=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);f=!0);}catch(h){d=!0,i=h}finally{try{if(!f&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(d)throw i}}return u}}function ZU(e){if(Array.isArray(e))return e}function MA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function RA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MA(Object(n),!0).forEach(function(r){JU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JU(e,t,n){return t=eq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eq(e){var t=tq(e,"string");return pc(t)=="symbol"?t:String(t)}function tq(e,t){if(pc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $A=function(t,n,r,i,o){var c=r-i,u;return u="M ".concat(t,",").concat(n),u+="L ".concat(t+r,",").concat(n),u+="L ".concat(t+r-c/2,",").concat(n+o),u+="L ".concat(t+r-c/2-i,",").concat(n+o),u+="L ".concat(t,",").concat(n," Z"),u},nq={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rq=function(t){var n=RA(RA({},nq),t),r=O.useRef(),i=O.useState(-1),o=GU(i,2),c=o[0],u=o[1];O.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var P=r.current.getTotalLength();P&&u(P)}catch{}},[]);var f=n.x,d=n.y,h=n.upperWidth,m=n.lowerWidth,x=n.height,v=n.className,j=n.animationEasing,b=n.animationDuration,w=n.animationBegin,y=n.isUpdateAnimationActive;if(f!==+f||d!==+d||h!==+h||m!==+m||x!==+x||h===0&&m===0||x===0)return null;var S=Ye("recharts-trapezoid",v);return y?q.createElement(br,{canBegin:c>0,from:{upperWidth:0,lowerWidth:0,height:x,x:f,y:d},to:{upperWidth:h,lowerWidth:m,height:x,x:f,y:d},duration:b,animationEasing:j,isActive:y},function(P){var k=P.upperWidth,C=P.lowerWidth,E=P.height,D=P.x,I=P.y;return q.createElement(br,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:b,easing:j},q.createElement("path",Jd({},Le(n,!0),{className:S,d:$A(D,I,k,C,E),ref:r})))}):q.createElement("g",null,q.createElement("path",Jd({},Le(n,!0),{className:S,d:$A(f,d,h,m,x)})))},aq=["option","shapeType","propTransformer","activeClassName","isActive"];function hc(e){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(e)}function iq(e,t){if(e==null)return{};var n=sq(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function sq(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function zA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ef(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(n),!0).forEach(function(r){oq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oq(e,t,n){return t=lq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lq(e){var t=cq(e,"string");return hc(t)=="symbol"?t:String(t)}function cq(e,t){if(hc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uq(e,t){return ef(ef({},t),e)}function dq(e,t){return e==="symbols"}function LA(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return q.createElement(Ib,n);case"trapezoid":return q.createElement(rq,n);case"sector":return q.createElement(FO,n);case"symbols":if(dq(t))return q.createElement(Ef,n);break;default:return null}}function fq(e){return O.isValidElement(e)?e.props:e}function Xv(e){var t=e.option,n=e.shapeType,r=e.propTransformer,i=r===void 0?uq:r,o=e.activeClassName,c=o===void 0?"recharts-active-shape":o,u=e.isActive,f=iq(e,aq),d;if(O.isValidElement(t))d=O.cloneElement(t,ef(ef({},f),fq(t)));else if(Fe(t))d=t(f);else if(WU(t)&&!KU(t)){var h=i(t,f);d=q.createElement(LA,{shapeType:n,elementProps:h})}else{var m=f;d=q.createElement(LA,{shapeType:n,elementProps:m})}return u?q.createElement(Qe,{className:c},d):d}function qf(e,t){return t!=null&&"trapezoids"in e.props}function Wf(e,t){return t!=null&&"sectors"in e.props}function mc(e,t){return t!=null&&"points"in e.props}function pq(e,t){var n,r,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,o=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return i&&o}function hq(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function mq(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function xq(e,t){var n;return qf(e,t)?n=pq:Wf(e,t)?n=hq:mc(e,t)&&(n=mq),n}function gq(e,t){var n;return qf(e,t)?n="trapezoids":Wf(e,t)?n="sectors":mc(e,t)&&(n="points"),n}function vq(e,t){if(qf(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Wf(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return mc(e,t)?t.payload:{}}function yq(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=gq(n,t),o=vq(n,t),c=r.filter(function(f,d){var h=$i(o,f),m=n.props[i].filter(function(j){var b=xq(n,t);return b(j,t)}),x=n.props[i].indexOf(m[m.length-1]),v=d===x;return h&&v}),u=r.indexOf(c[c.length-1]);return u}var jg,BA;function bq(){if(BA)return jg;BA=1;var e=Math.ceil,t=Math.max;function n(r,i,o,c){for(var u=-1,f=t(e((i-r)/(o||1)),0),d=Array(f);f--;)d[c?f:++u]=r,r+=o;return d}return jg=n,jg}var Ng,FA;function YO(){if(FA)return Ng;FA=1;var e=MD(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var o=i<0?-1:1;return o*n}return i===i?i:0}return Ng=r,Ng}var Sg,UA;function wq(){if(UA)return Sg;UA=1;var e=bq(),t=If(),n=YO();function r(i){return function(o,c,u){return u&&typeof u!="number"&&t(o,c,u)&&(c=u=void 0),o=n(o),c===void 0?(c=o,o=0):c=n(c),u=u===void 0?o<c?1:-1:n(u),e(o,c,u,i)}}return Sg=r,Sg}var kg,qA;function jq(){if(qA)return kg;qA=1;var e=wq(),t=e();return kg=t,kg}var Nq=jq();const tf=lt(Nq);function xc(e){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(e)}function WA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function HA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WA(Object(n),!0).forEach(function(r){XO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XO(e,t,n){return t=Sq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sq(e){var t=kq(e,"string");return xc(t)=="symbol"?t:String(t)}function kq(e,t){if(xc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cq=["Webkit","Moz","O","ms"],Aq=function(t,n){var r=t.replace(/(\w)/,function(o){return o.toUpperCase()}),i=Cq.reduce(function(o,c){return HA(HA({},o),{},XO({},c+r,n))},{});return i[t]=n,i};function Ys(e){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ys(e)}function nf(){return nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nf.apply(this,arguments)}function VA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VA(Object(n),!0).forEach(function(r){_n(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ZO(r.key),r)}}function Eq(e,t,n){return t&&KA(e.prototype,t),n&&KA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dq(e,t,n){return t=rf(t),Oq(e,QO()?Reflect.construct(t,n||[],rf(e).constructor):t.apply(e,n))}function Oq(e,t){if(t&&(Ys(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dr(e)}function QO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QO=function(){return!!e})()}function rf(e){return rf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rf(e)}function Dr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Iq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qv(e,t)}function Qv(e,t){return Qv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qv(e,t)}function _n(e,t,n){return t=ZO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZO(e){var t=Tq(e,"string");return Ys(t)=="symbol"?t:String(t)}function Tq(e,t){if(Ys(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ys(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _q=function(t){var n=t.data,r=t.startIndex,i=t.endIndex,o=t.x,c=t.width,u=t.travellerWidth;if(!n||!n.length)return{};var f=n.length,d=Sl().domain(tf(0,f)).range([o,o+c-u]),h=d.domain().map(function(m){return d(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(r),endX:d(i),scale:d,scaleValues:h}},GA=function(t){return t.changedTouches&&!!t.changedTouches.length},Xs=(function(e){Iq(t,e);function t(n){var r;return Pq(this,t),r=Dq(this,t,[n]),_n(Dr(r),"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),_n(Dr(r),"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),_n(Dr(r),"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,c=i.onDragEnd,u=i.startIndex;c==null||c({endIndex:o,startIndex:u})}),r.detachDragEndListener()}),_n(Dr(r),"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),_n(Dr(r),"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),_n(Dr(r),"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),_n(Dr(r),"handleSlideDragStart",function(i){var o=GA(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(Dr(r),"startX"),endX:r.handleTravellerDragStart.bind(Dr(r),"endX")},r.state={},r}return Eq(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,c=this.state.scaleValues,u=this.props,f=u.gap,d=u.data,h=d.length-1,m=Math.min(i,o),x=Math.max(i,o),v=t.getIndexInRange(c,m),j=t.getIndexInRange(c,x);return{startIndex:v-v%f,endIndex:j===h?h:j-j%f}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,c=i.tickFormatter,u=i.dataKey,f=Rt(o[r],u,r);return Fe(c)?c(f,r):f}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,c=i.startX,u=i.endX,f=this.props,d=f.x,h=f.width,m=f.travellerWidth,x=f.startIndex,v=f.endIndex,j=f.onChange,b=r.pageX-o;b>0?b=Math.min(b,d+h-m-u,d+h-m-c):b<0&&(b=Math.max(b,d-c,d-u));var w=this.getIndex({startX:c+b,endX:u+b});(w.startIndex!==x||w.endIndex!==v)&&j&&j(w),this.setState({startX:c+b,endX:u+b,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=GA(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,c=i.movingTravellerId,u=i.endX,f=i.startX,d=this.state[c],h=this.props,m=h.x,x=h.width,v=h.travellerWidth,j=h.onChange,b=h.gap,w=h.data,y={startX:this.state.startX,endX:this.state.endX},S=r.pageX-o;S>0?S=Math.min(S,m+x-v-d):S<0&&(S=Math.max(S,m-d)),y[c]=d+S;var P=this.getIndex(y),k=P.startIndex,C=P.endIndex,E=function(){var I=w.length-1;return c==="startX"&&(u>f?k%b===0:C%b===0)||u<f&&C===I||c==="endX"&&(u>f?C%b===0:k%b===0)||u>f&&C===I};this.setState(_n(_n({},c,d+S),"brushMoveStartX",r.pageX),function(){j&&E()&&j(P)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,c=this.state,u=c.scaleValues,f=c.startX,d=c.endX,h=this.state[i],m=u.indexOf(h);if(m!==-1){var x=m+r;if(!(x===-1||x>=u.length)){var v=u[x];i==="startX"&&v>=d||i==="endX"&&v<=f||this.setState(_n({},i,v),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,c=r.width,u=r.height,f=r.fill,d=r.stroke;return q.createElement("rect",{stroke:d,fill:f,x:i,y:o,width:c,height:u})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,c=r.width,u=r.height,f=r.data,d=r.children,h=r.padding,m=O.Children.only(d);return m?q.cloneElement(m,{x:i,y:o,width:c,height:u,margin:h,compact:!0,data:f}):null}},{key:"renderTravellerLayer",value:function(r,i){var o=this,c=this.props,u=c.y,f=c.travellerWidth,d=c.height,h=c.traveller,m=c.ariaLabel,x=c.data,v=c.startIndex,j=c.endIndex,b=Math.max(r,this.props.x),w=Cg(Cg({},Le(this.props,!1)),{},{x:b,y:u,width:f,height:d}),y=m||"Min value: ".concat(x[v].name,", Max value: ").concat(x[j].name);return q.createElement(Qe,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),o.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,w))}},{key:"renderSlide",value:function(r,i){var o=this.props,c=o.y,u=o.height,f=o.stroke,d=o.travellerWidth,h=Math.min(r,i)+d,m=Math.max(Math.abs(i-r)-d,0);return q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:f,fillOpacity:.2,x:h,y:c,width:m,height:u})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,c=r.y,u=r.height,f=r.travellerWidth,d=r.stroke,h=this.state,m=h.startX,x=h.endX,v=5,j={pointerEvents:"none",fill:d};return q.createElement(Qe,{className:"recharts-brush-texts"},q.createElement(Od,nf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,x)-v,y:c+u/2},j),this.getTextOfTick(i)),q.createElement(Od,nf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,x)+f+v,y:c+u/2},j),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,c=r.children,u=r.x,f=r.y,d=r.width,h=r.height,m=r.alwaysShowText,x=this.state,v=x.startX,j=x.endX,b=x.isTextActive,w=x.isSlideMoving,y=x.isTravellerMoving,S=x.isTravellerFocused;if(!i||!i.length||!he(u)||!he(f)||!he(d)||!he(h)||d<=0||h<=0)return null;var P=Ye("recharts-brush",o),k=q.Children.count(c)===1,C=Aq("userSelect","none");return q.createElement(Qe,{className:P,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(v,j),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(j,"endX"),(b||w||y||S||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,c=r.width,u=r.height,f=r.stroke,d=Math.floor(o+u/2)-1;return q.createElement(q.Fragment,null,q.createElement("rect",{x:i,y:o,width:c,height:u,fill:f,stroke:"none"}),q.createElement("line",{x1:i+1,y1:d,x2:i+c-1,y2:d,fill:"none",stroke:"#fff"}),q.createElement("line",{x1:i+1,y1:d+2,x2:i+c-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return q.isValidElement(r)?o=q.cloneElement(r,i):Fe(r)?o=r(i):o=t.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,c=r.width,u=r.x,f=r.travellerWidth,d=r.updateId,h=r.startIndex,m=r.endIndex;if(o!==i.prevData||d!==i.prevUpdateId)return Cg({prevData:o,prevTravellerWidth:f,prevUpdateId:d,prevX:u,prevWidth:c},o&&o.length?_q({data:o,width:c,x:u,travellerWidth:f,startIndex:h,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(c!==i.prevWidth||u!==i.prevX||f!==i.prevTravellerWidth)){i.scale.range([u,u+c-f]);var x=i.scale.domain().map(function(v){return i.scale(v)});return{prevData:o,prevTravellerWidth:f,prevUpdateId:d,prevX:u,prevWidth:c,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:x}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,c=0,u=o-1;u-c>1;){var f=Math.floor((c+u)/2);r[f]>i?u=f:c=f}return i>=r[u]?u:c}}]),t})(O.PureComponent);_n(Xs,"displayName","Brush");_n(Xs,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Ag,YA;function Mq(){if(YA)return Ag;YA=1;var e=rb();function t(n,r){var i;return e(n,function(o,c,u){return i=r(o,c,u),!i}),!!i}return Ag=t,Ag}var Pg,XA;function Rq(){if(XA)return Pg;XA=1;var e=dD(),t=Ja(),n=Mq(),r=An(),i=If();function o(c,u,f){var d=r(c)?e:n;return f&&i(c,u,f)&&(u=void 0),d(c,t(u,3))}return Pg=o,Pg}var $q=Rq();const zq=lt($q);var Mr=function(t,n){var r=t.alwaysShow,i=t.ifOverflow;return r&&(i="extendDomain"),i===n},Eg,QA;function Lq(){if(QA)return Eg;QA=1;var e=DD();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return Eg=t,Eg}var Dg,ZA;function Bq(){if(ZA)return Dg;ZA=1;var e=Lq(),t=PD(),n=Ja();function r(i,o){var c={};return o=n(o,3),t(i,function(u,f,d){e(c,f,o(u,f,d))}),c}return Dg=r,Dg}var Fq=Bq();const Uq=lt(Fq);var Og,JA;function qq(){if(JA)return Og;JA=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(!n(t[r],r,t))return!1;return!0}return Og=e,Og}var Ig,eP;function Wq(){if(eP)return Ig;eP=1;var e=rb();function t(n,r){var i=!0;return e(n,function(o,c,u){return i=!!r(o,c,u),i}),i}return Ig=t,Ig}var Tg,tP;function Hq(){if(tP)return Tg;tP=1;var e=qq(),t=Wq(),n=Ja(),r=An(),i=If();function o(c,u,f){var d=r(c)?e:t;return f&&i(c,u,f)&&(u=void 0),d(c,n(u,3))}return Tg=o,Tg}var Vq=Hq();const JO=lt(Vq);var Kq=["x","y"];function gc(e){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}function Zv(){return Zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zv.apply(this,arguments)}function nP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nP(Object(n),!0).forEach(function(r){Gq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gq(e,t,n){return t=Yq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yq(e){var t=Xq(e,"string");return gc(t)=="symbol"?t:String(t)}function Xq(e,t){if(gc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qq(e,t){if(e==null)return{};var n=Zq(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Zq(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Jq(e,t){var n=e.x,r=e.y,i=Qq(e,Kq),o="".concat(n),c=parseInt(o,10),u="".concat(r),f=parseInt(u,10),d="".concat(t.height||i.height),h=parseInt(d,10),m="".concat(t.width||i.width),x=parseInt(m,10);return hl(hl(hl(hl(hl({},t),i),c?{x:c}:{}),f?{y:f}:{}),{},{height:h,width:x,name:t.name,radius:t.radius})}function rP(e){return q.createElement(Xv,Zv({shapeType:"rectangle",propTransformer:Jq,activeClassName:"recharts-active-bar"},e))}var eW=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof t=="number")return t;var o=typeof r=="number";return o?t(r,i):(o||Li(),n)}},tW=["value","background"],eI;function Qs(e){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qs(e)}function nW(e,t){if(e==null)return{};var n=rW(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function rW(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function af(){return af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},af.apply(this,arguments)}function aP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aP(Object(n),!0).forEach(function(r){Va(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nI(r.key),r)}}function iW(e,t,n){return t&&iP(e.prototype,t),n&&iP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function sW(e,t,n){return t=sf(t),oW(e,tI()?Reflect.construct(t,n||[],sf(e).constructor):t.apply(e,n))}function oW(e,t){if(t&&(Qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yl(e)}function tI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tI=function(){return!!e})()}function sf(e){return sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sf(e)}function yl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jv(e,t)}function Jv(e,t){return Jv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jv(e,t)}function Va(e,t,n){return t=nI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nI(e){var t=cW(e,"string");return Qs(t)=="symbol"?t:String(t)}function cW(e,t){if(Qs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Qs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fa=(function(e){lW(t,e);function t(){var n;aW(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=sW(this,t,[].concat(i)),Va(yl(n),"state",{isAnimationFinished:!1}),Va(yl(n),"id",Vi("recharts-bar-")),Va(yl(n),"handleAnimationEnd",function(){var c=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),c&&c()}),Va(yl(n),"handleAnimationStart",function(){var c=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),c&&c()}),n}return iW(t,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,c=o.shape,u=o.dataKey,f=o.activeIndex,d=o.activeBar,h=Le(this.props,!1);return r&&r.map(function(m,x){var v=x===f,j=v?d:c,b=Ut(Ut(Ut({},h),m),{},{isActive:v,option:j,index:x,dataKey:u,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return q.createElement(Qe,af({className:"recharts-bar-rectangle"},Ll(i.props,m,x),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value)}),q.createElement(rP,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,c=i.layout,u=i.isAnimationActive,f=i.animationBegin,d=i.animationDuration,h=i.animationEasing,m=i.animationId,x=this.state.prevData;return q.createElement(br,{begin:f,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var j=v.t,b=o.map(function(w,y){var S=x&&x[y];if(S){var P=kt(S.x,w.x),k=kt(S.y,w.y),C=kt(S.width,w.width),E=kt(S.height,w.height);return Ut(Ut({},w),{},{x:P(j),y:k(j),width:C(j),height:E(j)})}if(c==="horizontal"){var D=kt(0,w.height),I=D(j);return Ut(Ut({},w),{},{y:w.y+w.height-I,height:I})}var $=kt(0,w.width),B=$(j);return Ut(Ut({},w),{},{width:B})});return q.createElement(Qe,null,r.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,c=this.state.prevData;return o&&i&&i.length&&(!c||!$i(c,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,c=i.dataKey,u=i.activeIndex,f=Le(this.props.background,!1);return o.map(function(d,h){d.value;var m=d.background,x=nW(d,tW);if(!m)return null;var v=Ut(Ut(Ut(Ut(Ut({},x),{},{fill:"#eee"},m),f),Ll(r.props,d,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:c,index:h,key:"background-bar-".concat(h),className:"recharts-bar-background-rectangle"});return q.createElement(rP,af({option:r.props.background,isActive:h===u},v))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,c=o.data,u=o.xAxis,f=o.yAxis,d=o.layout,h=o.children,m=kn(h,go);if(!m)return null;var x=d==="vertical"?c[0].height/2:c[0].width/2,v=function(w,y){var S=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:S,errorVal:Rt(w,y)}},j={clipPath:r?"url(#clipPath-".concat(i,")"):null};return q.createElement(Qe,j,m.map(function(b){return q.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:c,xAxis:u,yAxis:f,layout:d,offset:x,dataPointFormatter:v})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,c=r.className,u=r.xAxis,f=r.yAxis,d=r.left,h=r.top,m=r.width,x=r.height,v=r.isAnimationActive,j=r.background,b=r.id;if(i||!o||!o.length)return null;var w=this.state.isAnimationFinished,y=Ye("recharts-bar",c),S=u&&u.allowDataOverflow,P=f&&f.allowDataOverflow,k=S||P,C=Be(b)?this.id:b;return q.createElement(Qe,{className:y},S||P?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(C)},q.createElement("rect",{x:S?d:d-m/2,y:P?h:h-x/2,width:S?m:m*2,height:P?x:x*2}))):null,q.createElement(Qe,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(C,")"):null},j?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,C),(!v||w)&&_r.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}]),t})(O.PureComponent);eI=fa;Va(fa,"displayName","Bar");Va(fa,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ei.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Va(fa,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,o=e.xAxis,c=e.yAxis,u=e.xAxisTicks,f=e.yAxisTicks,d=e.stackedData,h=e.dataStartIndex,m=e.displayedData,x=e.offset,v=A7(r,n);if(!v)return null;var j=t.layout,b=n.props,w=b.dataKey,y=b.children,S=b.minPointSize,P=j==="horizontal"?c:o,k=d?P.scale.domain():null,C=M7({numericAxis:P}),E=kn(y,sb),D=m.map(function(I,$){var B,M,z,L,_,U;d?B=P7(d[h+$],k):(B=Rt(I,w),Array.isArray(B)||(B=[C,B]));var G=eW(S,eI.defaultProps.minPointSize)(B[1],$);if(j==="horizontal"){var W,K=[c.scale(B[0]),c.scale(B[1])],X=K[0],R=K[1];M=HC({axis:o,ticks:u,bandSize:i,offset:v.offset,entry:I,index:$}),z=(W=R??X)!==null&&W!==void 0?W:void 0,L=v.size;var Q=X-R;if(_=Number.isNaN(Q)?0:Q,U={x:M,y:c.y,width:L,height:c.height},Math.abs(G)>0&&Math.abs(_)<Math.abs(G)){var J=vr(_||G)*(Math.abs(G)-Math.abs(_));z-=J,_+=J}}else{var te=[o.scale(B[0]),o.scale(B[1])],ue=te[0],be=te[1];if(M=ue,z=HC({axis:c,ticks:f,bandSize:i,offset:v.offset,entry:I,index:$}),L=be-ue,_=v.size,U={x:o.x,y:z,width:o.width,height:_},Math.abs(G)>0&&Math.abs(L)<Math.abs(G)){var we=vr(L||G)*(Math.abs(G)-Math.abs(L));L+=we}}return Ut(Ut(Ut({},I),{},{x:M,y:z,width:L,height:_,value:d?B:B[1],payload:I,background:U},E&&E[$]&&E[$].props),{},{tooltipPayload:[zO(n,I)],tooltipPosition:{x:M+L/2,y:z+_/2}})});return Ut({data:D,layout:j},x)});function vc(e){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vc(e)}function uW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rI(r.key),r)}}function dW(e,t,n){return t&&sP(e.prototype,t),n&&sP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function oP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oP(Object(n),!0).forEach(function(r){Hf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hf(e,t,n){return t=rI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rI(e){var t=fW(e,"string");return vc(t)=="symbol"?t:String(t)}function fW(e,t){if(vc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aI=function(t,n,r,i,o){var c=t.width,u=t.height,f=t.layout,d=t.children,h=Object.keys(n),m={left:r.left,leftMirror:r.left,right:c-r.right,rightMirror:c-r.right,top:r.top,topMirror:r.top,bottom:u-r.bottom,bottomMirror:u-r.bottom},x=!!Mn(d,fa);return h.reduce(function(v,j){var b=n[j],w=b.orientation,y=b.domain,S=b.padding,P=S===void 0?{}:S,k=b.mirror,C=b.reversed,E="".concat(w).concat(k?"Mirror":""),D,I,$,B,M;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var z=y[1]-y[0],L=1/0,_=b.categoricalDomain.sort();_.forEach(function(ue,be){be>0&&(L=Math.min((ue||0)-(_[be-1]||0),L))});var U=L/z,G=b.layout==="vertical"?r.height:r.width;if(b.padding==="gap"&&(D=U*G/2),b.padding==="no-gap"){var W=zs(t.barCategoryGap,U*G),K=U*G/2;D=K-W-(K-W)/G*W}}i==="xAxis"?I=[r.left+(P.left||0)+(D||0),r.left+r.width-(P.right||0)-(D||0)]:i==="yAxis"?I=f==="horizontal"?[r.top+r.height-(P.bottom||0),r.top+(P.top||0)]:[r.top+(P.top||0)+(D||0),r.top+r.height-(P.bottom||0)-(D||0)]:I=b.range,C&&(I=[I[1],I[0]]);var X=k7(b,o,x),R=X.scale,Q=X.realScaleType;R.domain(y).range(I),C7(R);var J=_7(R,hr(hr({},b),{},{realScaleType:Q}));i==="xAxis"?(M=w==="top"&&!k||w==="bottom"&&k,$=r.left,B=m[E]-M*b.height):i==="yAxis"&&(M=w==="left"&&!k||w==="right"&&k,$=m[E]-M*b.width,B=r.top);var te=hr(hr(hr({},b),J),{},{realScaleType:Q,x:$,y:B,scale:R,width:i==="xAxis"?r.width:b.width,height:i==="yAxis"?r.height:b.height});return te.bandSize=Hd(te,J),!b.hide&&i==="xAxis"?m[E]+=(M?-1:1)*te.height:b.hide||(m[E]+=(M?-1:1)*te.width),hr(hr({},v),{},Hf({},j,te))},{})},iI=function(t,n){var r=t.x,i=t.y,o=n.x,c=n.y;return{x:Math.min(r,o),y:Math.min(i,c),width:Math.abs(o-r),height:Math.abs(c-i)}},pW=function(t){var n=t.x1,r=t.y1,i=t.x2,o=t.y2;return iI({x:n,y:r},{x:i,y:o})},sI=(function(){function e(t){uW(this,e),this.scale=t}return dW(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(n)+u}default:return this.scale(n)}if(i){var f=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+f}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}]),e})();Hf(sI,"EPS",1e-4);var Tb=function(t){var n=Object.keys(t).reduce(function(r,i){return hr(hr({},r),{},Hf({},i,sI.create(t[i])))},{});return hr(hr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=o.bandAware,u=o.position;return Uq(i,function(f,d){return n[d].apply(f,{bandAware:c,position:u})})},isInRange:function(i){return JO(i,function(o,c){return n[c].isInRange(o)})}})};function hW(e){return(e%180+180)%180}var mW=function(t){var n=t.width,r=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=hW(i),c=o*Math.PI/180,u=Math.atan(r/n),f=c>u&&c<Math.PI-u?r/Math.sin(c):n/Math.cos(c);return Math.abs(f)},_g,lP;function xW(){if(lP)return _g;lP=1;var e=Ja(),t=Dc(),n=Df();function r(i){return function(o,c,u){var f=Object(o);if(!t(o)){var d=e(c,3);o=n(o),c=function(m){return d(f[m],m,f)}}var h=i(o,c,u);return h>-1?f[d?o[h]:h]:void 0}}return _g=r,_g}var Mg,cP;function gW(){if(cP)return Mg;cP=1;var e=YO();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return Mg=t,Mg}var Rg,uP;function vW(){if(uP)return Rg;uP=1;var e=jD(),t=Ja(),n=gW(),r=Math.max;function i(o,c,u){var f=o==null?0:o.length;if(!f)return-1;var d=u==null?0:n(u);return d<0&&(d=r(f+d,0)),e(o,t(c,3),d)}return Rg=i,Rg}var $g,dP;function yW(){if(dP)return $g;dP=1;var e=xW(),t=vW(),n=e(t);return $g=n,$g}var bW=yW();const wW=lt(bW);var jW=$E();const NW=lt(jW);var SW=NW(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),_b=O.createContext(void 0),Mb=O.createContext(void 0),oI=O.createContext(void 0),lI=O.createContext({}),cI=O.createContext(void 0),uI=O.createContext(0),dI=O.createContext(0),fP=function(t){var n=t.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,c=t.clipPathId,u=t.children,f=t.width,d=t.height,h=SW(o);return q.createElement(_b.Provider,{value:r},q.createElement(Mb.Provider,{value:i},q.createElement(lI.Provider,{value:o},q.createElement(oI.Provider,{value:h},q.createElement(cI.Provider,{value:c},q.createElement(uI.Provider,{value:d},q.createElement(dI.Provider,{value:f},u)))))))},kW=function(){return O.useContext(cI)},fI=function(t){var n=O.useContext(_b);n==null&&Li();var r=n[t];return r==null&&Li(),r},CW=function(){var t=O.useContext(_b);return Ua(t)},AW=function(){var t=O.useContext(Mb),n=wW(t,function(r){return JO(r.domain,Number.isFinite)});return n||Ua(t)},pI=function(t){var n=O.useContext(Mb);n==null&&Li();var r=n[t];return r==null&&Li(),r},PW=function(){var t=O.useContext(oI);return t},EW=function(){return O.useContext(lI)},Rb=function(){return O.useContext(dI)},$b=function(){return O.useContext(uI)};function yc(e){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(e)}function pP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pP(Object(n),!0).forEach(function(r){DW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DW(e,t,n){return t=OW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OW(e){var t=IW(e,"string");return yc(t)=="symbol"?t:String(t)}function IW(e,t){if(yc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TW(e,t){return $W(e)||RW(e,t)||MW(e,t)||_W()}function _W(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MW(e,t){if(e){if(typeof e=="string")return mP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mP(e,t)}}function mP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function RW(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,c,u=[],f=!0,d=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(f=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);f=!0);}catch(h){d=!0,i=h}finally{try{if(!f&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(d)throw i}}return u}}function $W(e){if(Array.isArray(e))return e}function ey(){return ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ey.apply(this,arguments)}var zW=function(t,n){var r;return q.isValidElement(t)?r=q.cloneElement(t,n):Fe(t)?r=t(n):r=q.createElement("line",ey({},n,{className:"recharts-reference-line-line"})),r},LW=function(t,n,r,i,o,c,u,f,d){var h=o.x,m=o.y,x=o.width,v=o.height;if(r){var j=d.y,b=t.y.apply(j,{position:c});if(Mr(d,"discard")&&!t.y.isInRange(b))return null;var w=[{x:h+x,y:b},{x:h,y:b}];return f==="left"?w.reverse():w}if(n){var y=d.x,S=t.x.apply(y,{position:c});if(Mr(d,"discard")&&!t.x.isInRange(S))return null;var P=[{x:S,y:m+v},{x:S,y:m}];return u==="top"?P.reverse():P}if(i){var k=d.segment,C=k.map(function(E){return t.apply(E,{position:c})});return Mr(d,"discard")&&zq(C,function(E){return!t.isInRange(E)})?null:C}return null};function zb(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,o=e.yAxisId,c=e.shape,u=e.className,f=e.alwaysShow,d=kW(),h=fI(i),m=pI(o),x=PW();if(!d||!x)return null;aa(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=Tb({x:h.scale,y:m.scale}),j=Mt(t),b=Mt(n),w=r&&r.length===2,y=LW(v,j,b,w,x,e.position,h.orientation,m.orientation,e);if(!y)return null;var S=TW(y,2),P=S[0],k=P.x,C=P.y,E=S[1],D=E.x,I=E.y,$=Mr(e,"hidden")?"url(#".concat(d,")"):void 0,B=hP(hP({clipPath:$},Le(e,!0)),{},{x1:k,y1:C,x2:D,y2:I});return q.createElement(Qe,{className:Ye("recharts-reference-line",u)},zW(c,B),sn.renderCallByParent(e,pW({x1:k,y1:C,x2:D,y2:I})))}zb.displayName="ReferenceLine";zb.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function bc(e){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(e)}function ty(){return ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ty.apply(this,arguments)}function xP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xP(Object(n),!0).forEach(function(r){BW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BW(e,t,n){return t=FW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FW(e){var t=UW(e,"string");return bc(t)=="symbol"?t:String(t)}function UW(e,t){if(bc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qW=function(t){var n=t.x,r=t.y,i=t.xAxis,o=t.yAxis,c=Tb({x:i.scale,y:o.scale}),u=c.apply({x:n,y:r},{bandAware:!0});return Mr(t,"discard")&&!c.isInRange(u)?null:u};function Mc(e){var t=e.x,n=e.y,r=e.r,i=e.alwaysShow,o=e.clipPathId,c=Mt(t),u=Mt(n);if(aa(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=qW(e);if(!f)return null;var d=f.x,h=f.y,m=e.shape,x=e.className,v=Mr(e,"hidden")?"url(#".concat(o,")"):void 0,j=gP(gP({clipPath:v},Le(e,!0)),{},{cx:d,cy:h});return q.createElement(Qe,{className:Ye("recharts-reference-dot",x)},Mc.renderDot(m,j),sn.renderCallByParent(e,{x:d-r,y:h-r,width:2*r,height:2*r}))}Mc.displayName="ReferenceDot";Mc.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};Mc.renderDot=function(e,t){var n;return q.isValidElement(e)?n=q.cloneElement(e,t):Fe(e)?n=e(t):n=q.createElement(Uf,ty({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n};function wc(e){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wc(e)}function ny(){return ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ny.apply(this,arguments)}function vP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vP(Object(n),!0).forEach(function(r){WW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WW(e,t,n){return t=HW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HW(e){var t=VW(e,"string");return wc(t)=="symbol"?t:String(t)}function VW(e,t){if(wc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KW=function(t,n,r,i,o){var c=o.x1,u=o.x2,f=o.y1,d=o.y2,h=o.xAxis,m=o.yAxis;if(!h||!m)return null;var x=Tb({x:h.scale,y:m.scale}),v={x:t?x.x.apply(c,{position:"start"}):x.x.rangeMin,y:r?x.y.apply(f,{position:"start"}):x.y.rangeMin},j={x:n?x.x.apply(u,{position:"end"}):x.x.rangeMax,y:i?x.y.apply(d,{position:"end"}):x.y.rangeMax};return Mr(o,"discard")&&(!x.isInRange(v)||!x.isInRange(j))?null:iI(v,j)};function Rc(e){var t=e.x1,n=e.x2,r=e.y1,i=e.y2,o=e.className,c=e.alwaysShow,u=e.clipPathId;aa(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Mt(t),d=Mt(n),h=Mt(r),m=Mt(i),x=e.shape;if(!f&&!d&&!h&&!m&&!x)return null;var v=KW(f,d,h,m,e);if(!v&&!x)return null;var j=Mr(e,"hidden")?"url(#".concat(u,")"):void 0;return q.createElement(Qe,{className:Ye("recharts-reference-area",o)},Rc.renderRect(x,yP(yP({clipPath:j},Le(e,!0)),v)),sn.renderCallByParent(e,v))}Rc.displayName="ReferenceArea";Rc.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};Rc.renderRect=function(e,t){var n;return q.isValidElement(e)?n=q.cloneElement(e,t):Fe(e)?n=e(t):n=q.createElement(Ib,ny({},t,{className:"recharts-reference-area-rect"})),n};function hI(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function GW(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return mW(r,n)}function YW(e,t,n){var r=n==="width",i=e.x,o=e.y,c=e.width,u=e.height;return t===1?{start:r?i:o,end:r?i+c:o+u}:{start:r?i+c:o+u,end:r?i:o}}function of(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function XW(e,t){return hI(e,t+1)}function QW(e,t,n,r,i){for(var o=(r||[]).slice(),c=t.start,u=t.end,f=0,d=1,h=c,m=function(){var j=r==null?void 0:r[f];if(j===void 0)return{v:hI(r,d)};var b=f,w,y=function(){return w===void 0&&(w=n(j,b)),w},S=j.coordinate,P=f===0||of(e,S,y,h,u);P||(f=0,h=c,d+=1),P&&(h=S+e*(y()/2+i),f+=d)},x;d<=o.length;)if(x=m(),x)return x.v;return[]}function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}function bP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bP(Object(n),!0).forEach(function(r){ZW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZW(e,t,n){return t=JW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JW(e){var t=eH(e,"string");return jc(t)=="symbol"?t:String(t)}function eH(e,t){if(jc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tH(e,t,n,r,i){for(var o=(r||[]).slice(),c=o.length,u=t.start,f=t.end,d=function(x){var v=o[x],j,b=function(){return j===void 0&&(j=n(v,x)),j};if(x===c-1){var w=e*(v.coordinate+e*b()/2-f);o[x]=v=rn(rn({},v),{},{tickCoord:w>0?v.coordinate-w*e:v.coordinate})}else o[x]=v=rn(rn({},v),{},{tickCoord:v.coordinate});var y=of(e,v.tickCoord,b,u,f);y&&(f=v.tickCoord-e*(b()/2+i),o[x]=rn(rn({},v),{},{isShow:!0}))},h=c-1;h>=0;h--)d(h);return o}function nH(e,t,n,r,i,o){var c=(r||[]).slice(),u=c.length,f=t.start,d=t.end;if(o){var h=r[u-1],m=n(h,u-1),x=e*(h.coordinate+e*m/2-d);c[u-1]=h=rn(rn({},h),{},{tickCoord:x>0?h.coordinate-x*e:h.coordinate});var v=of(e,h.tickCoord,function(){return m},f,d);v&&(d=h.tickCoord-e*(m/2+i),c[u-1]=rn(rn({},h),{},{isShow:!0}))}for(var j=o?u-1:u,b=function(S){var P=c[S],k,C=function(){return k===void 0&&(k=n(P,S)),k};if(S===0){var E=e*(P.coordinate-e*C()/2-f);c[S]=P=rn(rn({},P),{},{tickCoord:E<0?P.coordinate-E*e:P.coordinate})}else c[S]=P=rn(rn({},P),{},{tickCoord:P.coordinate});var D=of(e,P.tickCoord,C,f,d);D&&(f=P.tickCoord+e*(C()/2+i),c[S]=rn(rn({},P),{},{isShow:!0}))},w=0;w<j;w++)b(w);return c}function Lb(e,t,n){var r=e.tick,i=e.ticks,o=e.viewBox,c=e.minTickGap,u=e.orientation,f=e.interval,d=e.tickFormatter,h=e.unit,m=e.angle;if(!i||!i.length||!r)return[];if(he(f)||ei.isSsr)return XW(i,typeof f=="number"&&he(f)?f:0);var x=[],v=u==="top"||u==="bottom"?"width":"height",j=h&&v==="width"?Nl(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},b=function(P,k){var C=Fe(d)?d(P.value,k):P.value;return v==="width"?GW(Nl(C,{fontSize:t,letterSpacing:n}),j,m):Nl(C,{fontSize:t,letterSpacing:n})[v]},w=i.length>=2?vr(i[1].coordinate-i[0].coordinate):1,y=YW(o,w,v);return f==="equidistantPreserveStart"?QW(w,y,b,i,c):(f==="preserveStart"||f==="preserveStartEnd"?x=nH(w,y,b,i,c,f==="preserveStartEnd"):x=tH(w,y,b,i,c),x.filter(function(S){return S.isShow}))}var rH=["viewBox"],aH=["viewBox"],iH=["ticks"];function Zs(e){"@babel/helpers - typeof";return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zs(e)}function Ts(){return Ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ts.apply(this,arguments)}function wP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wP(Object(n),!0).forEach(function(r){Bb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zg(e,t){if(e==null)return{};var n=sH(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function sH(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function oH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xI(r.key),r)}}function lH(e,t,n){return t&&jP(e.prototype,t),n&&jP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cH(e,t,n){return t=lf(t),uH(e,mI()?Reflect.construct(t,n||[],lf(e).constructor):t.apply(e,n))}function uH(e,t){if(t&&(Zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dH(e)}function dH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mI=function(){return!!e})()}function lf(e){return lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lf(e)}function fH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ry(e,t)}function ry(e,t){return ry=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ry(e,t)}function Bb(e,t,n){return t=xI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xI(e){var t=pH(e,"string");return Zs(t)=="symbol"?t:String(t)}function pH(e,t){if(Zs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Zs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vo=(function(e){fH(t,e);function t(n){var r;return oH(this,t),r=cH(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return lH(t,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,c=zg(r,rH),u=this.props,f=u.viewBox,d=zg(u,aH);return!_s(o,f)||!_s(c,d)||!_s(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,c=i.y,u=i.width,f=i.height,d=i.orientation,h=i.tickSize,m=i.mirror,x=i.tickMargin,v,j,b,w,y,S,P=m?-1:1,k=r.tickSize||h,C=he(r.tickCoord)?r.tickCoord:r.coordinate;switch(d){case"top":v=j=r.coordinate,w=c+ +!m*f,b=w-P*k,S=b-P*x,y=C;break;case"left":b=w=r.coordinate,j=o+ +!m*u,v=j-P*k,y=v-P*x,S=C;break;case"right":b=w=r.coordinate,j=o+ +m*u,v=j+P*k,y=v+P*x,S=C;break;default:v=j=r.coordinate,w=c+ +m*f,b=w+P*k,S=b+P*x,y=C;break}return{line:{x1:v,y1:b,x2:j,y2:w},tick:{x:y,y:S}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,c;switch(i){case"left":c=o?"start":"end";break;case"right":c=o?"end":"start";break;default:c="middle";break}return c}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,c="end";switch(i){case"left":case"right":c="middle";break;case"top":c=o?"start":"end";break;default:c=o?"end":"start";break}return c}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,c=r.width,u=r.height,f=r.orientation,d=r.mirror,h=r.axisLine,m=dn(dn(dn({},Le(this.props,!1)),Le(h,!1)),{},{fill:"none"});if(f==="top"||f==="bottom"){var x=+(f==="top"&&!d||f==="bottom"&&d);m=dn(dn({},m),{},{x1:i,y1:o+x*u,x2:i+c,y2:o+x*u})}else{var v=+(f==="left"&&!d||f==="right"&&d);m=dn(dn({},m),{},{x1:i+v*c,y1:o,x2:i+v*c,y2:o+u})}return q.createElement("line",Ts({},m,{className:Ye("recharts-cartesian-axis-line",er(h,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var c=this,u=this.props,f=u.tickLine,d=u.stroke,h=u.tick,m=u.tickFormatter,x=u.unit,v=Lb(dn(dn({},this.props),{},{ticks:r}),i,o),j=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),w=Le(this.props,!1),y=Le(h,!1),S=dn(dn({},w),{},{fill:"none"},Le(f,!1)),P=v.map(function(k,C){var E=c.getTickLineCoord(k),D=E.line,I=E.tick,$=dn(dn(dn(dn({textAnchor:j,verticalAnchor:b},w),{},{stroke:"none",fill:d},y),I),{},{index:C,payload:k,visibleTicksCount:v.length,tickFormatter:m});return q.createElement(Qe,Ts({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},Ll(c.props,k,C)),f&&q.createElement("line",Ts({},S,D,{className:Ye("recharts-cartesian-axis-tick-line",er(f,"className"))})),h&&t.renderTickItem(h,$,"".concat(Fe(m)?m(k.value,C):k.value).concat(x||"")))});return q.createElement("g",{className:"recharts-cartesian-axis-ticks"},P)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,c=i.width,u=i.height,f=i.ticksGenerator,d=i.className,h=i.hide;if(h)return null;var m=this.props,x=m.ticks,v=zg(m,iH),j=x;return Fe(f)&&(j=x&&x.length>0?f(this.props):f(v)),c<=0||u<=0||!j||!j.length?null:q.createElement(Qe,{className:Ye("recharts-cartesian-axis",d),ref:function(w){r.layerReference=w}},o&&this.renderAxisLine(),this.renderTicks(j,this.state.fontSize,this.state.letterSpacing),sn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var c;return q.isValidElement(r)?c=q.cloneElement(r,i):Fe(r)?c=r(i):c=q.createElement(Od,Ts({},i,{className:"recharts-cartesian-axis-tick-value"}),o),c}}]),t})(O.Component);Bb(vo,"displayName","CartesianAxis");Bb(vo,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var hH=["x1","y1","x2","y2","key"],mH=["offset"];function Bi(e){"@babel/helpers - typeof";return Bi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bi(e)}function NP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function on(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NP(Object(n),!0).forEach(function(r){xH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xH(e,t,n){return t=gH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gH(e){var t=vH(e,"string");return Bi(t)=="symbol"?t:String(t)}function vH(e,t){if(Bi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Bi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ai(){return Ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ai.apply(this,arguments)}function SP(e,t){if(e==null)return{};var n=yH(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function yH(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var bH=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,i=t.x,o=t.y,c=t.width,u=t.height;return q.createElement("rect",{x:i,y:o,width:c,height:u,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function gI(e,t){var n;if(q.isValidElement(e))n=q.cloneElement(e,t);else if(Fe(e))n=e(t);else{var r=t.x1,i=t.y1,o=t.x2,c=t.y2,u=t.key,f=SP(t,hH),d=Le(f,!1);d.offset;var h=SP(d,mH);n=q.createElement("line",Ai({},h,{x1:r,y1:i,x2:o,y2:c,fill:"none",key:u}))}return n}function wH(e){var t=e.x,n=e.width,r=e.horizontal,i=r===void 0?!0:r,o=e.horizontalPoints;if(!i||!o||!o.length)return null;var c=o.map(function(u,f){var d=on(on({},e),{},{x1:t,y1:u,x2:t+n,y2:u,key:"line-".concat(f),index:f});return gI(i,d)});return q.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function jH(e){var t=e.y,n=e.height,r=e.vertical,i=r===void 0?!0:r,o=e.verticalPoints;if(!i||!o||!o.length)return null;var c=o.map(function(u,f){var d=on(on({},e),{},{x1:u,y1:t,x2:u,y2:t+n,key:"line-".concat(f),index:f});return gI(i,d)});return q.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function NH(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,i=e.y,o=e.width,c=e.height,u=e.horizontalPoints,f=e.horizontal,d=f===void 0?!0:f;if(!d||!t||!t.length)return null;var h=u.map(function(x){return Math.round(x+i-i)}).sort(function(x,v){return x-v});i!==h[0]&&h.unshift(0);var m=h.map(function(x,v){var j=!h[v+1],b=j?i+c-x:h[v+1]-x;if(b<=0)return null;var w=v%t.length;return q.createElement("rect",{key:"react-".concat(v),y:x,x:r,height:b,width:o,stroke:"none",fill:t[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function SH(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,i=e.fillOpacity,o=e.x,c=e.y,u=e.width,f=e.height,d=e.verticalPoints;if(!n||!r||!r.length)return null;var h=d.map(function(x){return Math.round(x+o-o)}).sort(function(x,v){return x-v});o!==h[0]&&h.unshift(0);var m=h.map(function(x,v){var j=!h[v+1],b=j?o+u-x:h[v+1]-x;if(b<=0)return null;var w=v%r.length;return q.createElement("rect",{key:"react-".concat(v),x,y:c,width:b,height:f,stroke:"none",fill:r[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var kH=function(t,n){var r=t.xAxis,i=t.width,o=t.height,c=t.offset;return RO(Lb(on(on(on({},vo.defaultProps),r),{},{ticks:ta(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),c.left,c.left+c.width,n)},CH=function(t,n){var r=t.yAxis,i=t.width,o=t.height,c=t.offset;return RO(Lb(on(on(on({},vo.defaultProps),r),{},{ticks:ta(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),c.top,c.top+c.height,n)},Cs={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ay(e){var t,n,r,i,o,c,u=Rb(),f=$b(),d=EW(),h=on(on({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Cs.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:Cs.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:Cs.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Cs.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:Cs.vertical,verticalFill:(c=e.verticalFill)!==null&&c!==void 0?c:Cs.verticalFill,x:he(e.x)?e.x:d.left,y:he(e.y)?e.y:d.top,width:he(e.width)?e.width:d.width,height:he(e.height)?e.height:d.height}),m=h.x,x=h.y,v=h.width,j=h.height,b=h.syncWithTicks,w=h.horizontalValues,y=h.verticalValues,S=CW(),P=AW();if(!he(v)||v<=0||!he(j)||j<=0||!he(m)||m!==+m||!he(x)||x!==+x)return null;var k=h.verticalCoordinatesGenerator||kH,C=h.horizontalCoordinatesGenerator||CH,E=h.horizontalPoints,D=h.verticalPoints;if((!E||!E.length)&&Fe(C)){var I=w&&w.length,$=C({yAxis:P?on(on({},P),{},{ticks:I?w:P.ticks}):void 0,width:u,height:f,offset:d},I?!0:b);aa(Array.isArray($),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Bi($),"]")),Array.isArray($)&&(E=$)}if((!D||!D.length)&&Fe(k)){var B=y&&y.length,M=k({xAxis:S?on(on({},S),{},{ticks:B?y:S.ticks}):void 0,width:u,height:f,offset:d},B?!0:b);aa(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Bi(M),"]")),Array.isArray(M)&&(D=M)}return q.createElement("g",{className:"recharts-cartesian-grid"},q.createElement(bH,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height}),q.createElement(wH,Ai({},h,{offset:d,horizontalPoints:E,xAxis:S,yAxis:P})),q.createElement(jH,Ai({},h,{offset:d,verticalPoints:D,xAxis:S,yAxis:P})),q.createElement(NH,Ai({},h,{horizontalPoints:E})),q.createElement(SH,Ai({},h,{verticalPoints:D})))}ay.displayName="CartesianGrid";var AH=["type","layout","connectNulls","ref"];function Js(e){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Js(e)}function PH(e,t){if(e==null)return{};var n=EH(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function EH(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Al(){return Al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Al.apply(this,arguments)}function kP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kP(Object(n),!0).forEach(function(r){mr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function As(e){return TH(e)||IH(e)||OH(e)||DH()}function DH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OH(e,t){if(e){if(typeof e=="string")return iy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iy(e,t)}}function IH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TH(e){if(Array.isArray(e))return iy(e)}function iy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yI(r.key),r)}}function MH(e,t,n){return t&&CP(e.prototype,t),n&&CP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function RH(e,t,n){return t=cf(t),$H(e,vI()?Reflect.construct(t,n||[],cf(e).constructor):t.apply(e,n))}function $H(e,t){if(t&&(Js(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return La(e)}function vI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vI=function(){return!!e})()}function cf(e){return cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cf(e)}function La(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sy(e,t)}function sy(e,t){return sy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sy(e,t)}function mr(e,t,n){return t=yI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yI(e){var t=LH(e,"string");return Js(t)=="symbol"?t:String(t)}function LH(e,t){if(Js(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vf=(function(e){zH(t,e);function t(){var n;_H(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=RH(this,t,[].concat(i)),mr(La(n),"state",{isAnimationFinished:!0,totalLength:0}),mr(La(n),"generateSimpleStrokeDasharray",function(c,u){return"".concat(u,"px ").concat(c-u,"px")}),mr(La(n),"getStrokeDasharray",function(c,u,f){var d=f.reduce(function(y,S){return y+S});if(!d)return n.generateSimpleStrokeDasharray(u,c);for(var h=Math.floor(c/d),m=c%d,x=u-c,v=[],j=0,b=0;j<f.length;b+=f[j],++j)if(b+f[j]>m){v=[].concat(As(f.slice(0,j)),[m-b]);break}var w=v.length%2===0?[0,x]:[x];return[].concat(As(t.repeat(f,h)),As(v),w).map(function(y){return"".concat(y,"px")}).join(", ")}),mr(La(n),"id",Vi("recharts-line-")),mr(La(n),"pathRef",function(c){n.mainCurve=c}),mr(La(n),"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),mr(La(n),"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return MH(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,c=o.points,u=o.xAxis,f=o.yAxis,d=o.layout,h=o.children,m=kn(h,go);if(!m)return null;var x=function(b,w){return{x:b.x,y:b.y,value:b.value,errorVal:Rt(b.payload,w)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return q.createElement(Qe,v,m.map(function(j){return q.cloneElement(j,{key:"bar-".concat(j.props.dataKey),data:c,xAxis:u,yAxis:f,layout:d,dataPointFormatter:x})}))}},{key:"renderDots",value:function(r,i,o){var c=this.props.isAnimationActive;if(c&&!this.state.isAnimationFinished)return null;var u=this.props,f=u.dot,d=u.points,h=u.dataKey,m=Le(this.props,!1),x=Le(f,!0),v=d.map(function(b,w){var y=Tn(Tn(Tn({key:"dot-".concat(w),r:3},m),x),{},{value:b.value,dataKey:h,cx:b.x,cy:b.y,index:w,payload:b.payload});return t.renderDotItem(f,y)}),j={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return q.createElement(Qe,Al({className:"recharts-line-dots",key:"dots"},j),v)}},{key:"renderCurveStatically",value:function(r,i,o,c){var u=this.props,f=u.type,d=u.layout,h=u.connectNulls;u.ref;var m=PH(u,AH),x=Tn(Tn(Tn({},Le(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},c),{},{type:f,layout:d,connectNulls:h});return q.createElement(Ti,Al({},x,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,c=this.props,u=c.points,f=c.strokeDasharray,d=c.isAnimationActive,h=c.animationBegin,m=c.animationDuration,x=c.animationEasing,v=c.animationId,j=c.animateNewValues,b=c.width,w=c.height,y=this.state,S=y.prevPoints,P=y.totalLength;return q.createElement(br,{begin:h,duration:m,isActive:d,easing:x,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var C=k.t;if(S){var E=S.length/u.length,D=u.map(function(z,L){var _=Math.floor(L*E);if(S[_]){var U=S[_],G=kt(U.x,z.x),W=kt(U.y,z.y);return Tn(Tn({},z),{},{x:G(C),y:W(C)})}if(j){var K=kt(b*2,z.x),X=kt(w/2,z.y);return Tn(Tn({},z),{},{x:K(C),y:X(C)})}return Tn(Tn({},z),{},{x:z.x,y:z.y})});return o.renderCurveStatically(D,r,i)}var I=kt(0,P),$=I(C),B;if(f){var M="".concat(f).split(/[,\s]+/gim).map(function(z){return parseFloat(z)});B=o.getStrokeDasharray($,P,M)}else B=o.generateSimpleStrokeDasharray(P,$);return o.renderCurveStatically(u,r,i,{strokeDasharray:B})})}},{key:"renderCurve",value:function(r,i){var o=this.props,c=o.points,u=o.isAnimationActive,f=this.state,d=f.prevPoints,h=f.totalLength;return u&&c&&c.length&&(!d&&h>0||!$i(d,c))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(c,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,c=i.dot,u=i.points,f=i.className,d=i.xAxis,h=i.yAxis,m=i.top,x=i.left,v=i.width,j=i.height,b=i.isAnimationActive,w=i.id;if(o||!u||!u.length)return null;var y=this.state.isAnimationFinished,S=u.length===1,P=Ye("recharts-line",f),k=d&&d.allowDataOverflow,C=h&&h.allowDataOverflow,E=k||C,D=Be(w)?this.id:w,I=(r=Le(c,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},$=I.r,B=$===void 0?3:$,M=I.strokeWidth,z=M===void 0?2:M,L=UE(c)?c:{},_=L.clipDot,U=_===void 0?!0:_,G=B*2+z;return q.createElement(Qe,{className:P},k||C?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(D)},q.createElement("rect",{x:k?x:x-v/2,y:C?m:m-j/2,width:k?v:v*2,height:C?j:j*2})),!U&&q.createElement("clipPath",{id:"clipPath-dots-".concat(D)},q.createElement("rect",{x:x-G/2,y:m-G/2,width:v+G,height:j+G}))):null,!S&&this.renderCurve(E,D),this.renderErrorBar(E,D),(S||c)&&this.renderDots(E,U,D),(!b||y)&&_r.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(As(r),[0]):r,c=[],u=0;u<i;++u)c=[].concat(As(c),As(o));return c}},{key:"renderDotItem",value:function(r,i){var o;if(q.isValidElement(r))o=q.cloneElement(r,i);else if(Fe(r))o=r(i);else{var c=Ye("recharts-line-dot",r?r.className:"");o=q.createElement(Uf,Al({},i,{className:c}))}return o}}]),t})(O.PureComponent);mr(Vf,"displayName","Line");mr(Vf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ei.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});mr(Vf,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,c=e.dataKey,u=e.bandSize,f=e.displayedData,d=e.offset,h=t.layout,m=f.map(function(x,v){var j=Rt(x,c);return h==="horizontal"?{x:Ks({axis:n,ticks:i,bandSize:u,entry:x,index:v}),y:Be(j)?null:r.scale(j),value:j,payload:x}:{x:Be(j)?null:n.scale(j),y:Ks({axis:r,ticks:o,bandSize:u,entry:x,index:v}),value:j,payload:x}});return Tn({points:m,layout:h},d)});var BH=["layout","type","stroke","connectNulls","isRange","ref"],bI;function eo(e){"@babel/helpers - typeof";return eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(e)}function FH(e,t){if(e==null)return{};var n=UH(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function UH(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Pi(){return Pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pi.apply(this,arguments)}function AP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ba(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AP(Object(n),!0).forEach(function(r){Ir(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jI(r.key),r)}}function WH(e,t,n){return t&&PP(e.prototype,t),n&&PP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function HH(e,t,n){return t=uf(t),VH(e,wI()?Reflect.construct(t,n||[],uf(e).constructor):t.apply(e,n))}function VH(e,t){if(t&&(eo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bl(e)}function wI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wI=function(){return!!e})()}function uf(e){return uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uf(e)}function bl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oy(e,t)}function oy(e,t){return oy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oy(e,t)}function Ir(e,t,n){return t=jI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jI(e){var t=GH(e,"string");return eo(t)=="symbol"?t:String(t)}function GH(e,t){if(eo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(eo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ai=(function(e){KH(t,e);function t(){var n;qH(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=HH(this,t,[].concat(i)),Ir(bl(n),"state",{isAnimationFinished:!0}),Ir(bl(n),"id",Vi("recharts-area-")),Ir(bl(n),"handleAnimationEnd",function(){var c=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Fe(c)&&c()}),Ir(bl(n),"handleAnimationStart",function(){var c=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Fe(c)&&c()}),n}return WH(t,[{key:"renderDots",value:function(r,i,o){var c=this.props.isAnimationActive,u=this.state.isAnimationFinished;if(c&&!u)return null;var f=this.props,d=f.dot,h=f.points,m=f.dataKey,x=Le(this.props,!1),v=Le(d,!0),j=h.map(function(w,y){var S=Ba(Ba(Ba({key:"dot-".concat(y),r:3},x),v),{},{dataKey:m,cx:w.x,cy:w.y,index:y,value:w.value,payload:w.payload});return t.renderDotItem(d,S)}),b={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return q.createElement(Qe,Pi({className:"recharts-area-dots"},b),j)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,c=i.points,u=i.strokeWidth,f=c[0].x,d=c[c.length-1].x,h=r*Math.abs(f-d),m=Ha(c.map(function(x){return x.y||0}));return he(o)&&typeof o=="number"?m=Math.max(o,m):o&&Array.isArray(o)&&o.length&&(m=Math.max(Ha(o.map(function(x){return x.y||0})),m)),he(m)?q.createElement("rect",{x:f<d?f:f-h,y:0,width:h,height:Math.floor(m+(u?parseInt("".concat(u),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,c=i.points,u=i.strokeWidth,f=c[0].y,d=c[c.length-1].y,h=r*Math.abs(f-d),m=Ha(c.map(function(x){return x.x||0}));return he(o)&&typeof o=="number"?m=Math.max(o,m):o&&Array.isArray(o)&&o.length&&(m=Math.max(Ha(o.map(function(x){return x.x||0})),m)),he(m)?q.createElement("rect",{x:0,y:f<d?f:f-h,width:m+(u?parseInt("".concat(u),10):1),height:Math.floor(h)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,c){var u=this.props,f=u.layout,d=u.type,h=u.stroke,m=u.connectNulls,x=u.isRange;u.ref;var v=FH(u,BH);return q.createElement(Qe,{clipPath:o?"url(#clipPath-".concat(c,")"):null},q.createElement(Ti,Pi({},Le(v,!0),{points:r,connectNulls:m,type:d,baseLine:i,layout:f,stroke:"none",className:"recharts-area-area"})),h!=="none"&&q.createElement(Ti,Pi({},Le(this.props,!1),{className:"recharts-area-curve",layout:f,type:d,connectNulls:m,fill:"none",points:r})),h!=="none"&&x&&q.createElement(Ti,Pi({},Le(this.props,!1),{className:"recharts-area-curve",layout:f,type:d,connectNulls:m,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,c=this.props,u=c.points,f=c.baseLine,d=c.isAnimationActive,h=c.animationBegin,m=c.animationDuration,x=c.animationEasing,v=c.animationId,j=this.state,b=j.prevPoints,w=j.prevBaseLine;return q.createElement(br,{begin:h,duration:m,isActive:d,easing:x,from:{t:0},to:{t:1},key:"area-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var S=y.t;if(b){var P=b.length/u.length,k=u.map(function(I,$){var B=Math.floor($*P);if(b[B]){var M=b[B],z=kt(M.x,I.x),L=kt(M.y,I.y);return Ba(Ba({},I),{},{x:z(S),y:L(S)})}return I}),C;if(he(f)&&typeof f=="number"){var E=kt(w,f);C=E(S)}else if(Be(f)||fo(f)){var D=kt(w,0);C=D(S)}else C=f.map(function(I,$){var B=Math.floor($*P);if(w[B]){var M=w[B],z=kt(M.x,I.x),L=kt(M.y,I.y);return Ba(Ba({},I),{},{x:z(S),y:L(S)})}return I});return o.renderAreaStatically(k,C,r,i)}return q.createElement(Qe,null,q.createElement("defs",null,q.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(S))),q.createElement(Qe,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(u,f,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,c=o.points,u=o.baseLine,f=o.isAnimationActive,d=this.state,h=d.prevPoints,m=d.prevBaseLine,x=d.totalLength;return f&&c&&c.length&&(!h&&x>0||!$i(h,c)||!$i(m,u))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(c,u,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,c=i.dot,u=i.points,f=i.className,d=i.top,h=i.left,m=i.xAxis,x=i.yAxis,v=i.width,j=i.height,b=i.isAnimationActive,w=i.id;if(o||!u||!u.length)return null;var y=this.state.isAnimationFinished,S=u.length===1,P=Ye("recharts-area",f),k=m&&m.allowDataOverflow,C=x&&x.allowDataOverflow,E=k||C,D=Be(w)?this.id:w,I=(r=Le(c,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},$=I.r,B=$===void 0?3:$,M=I.strokeWidth,z=M===void 0?2:M,L=UE(c)?c:{},_=L.clipDot,U=_===void 0?!0:_,G=B*2+z;return q.createElement(Qe,{className:P},k||C?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(D)},q.createElement("rect",{x:k?h:h-v/2,y:C?d:d-j/2,width:k?v:v*2,height:C?j:j*2})),!U&&q.createElement("clipPath",{id:"clipPath-dots-".concat(D)},q.createElement("rect",{x:h-G/2,y:d-G/2,width:v+G,height:j+G}))):null,S?null:this.renderArea(E,D),(c||S)&&this.renderDots(E,U,D),(!b||y)&&_r.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}]),t})(O.PureComponent);bI=ai;Ir(ai,"displayName","Area");Ir(ai,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ei.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ir(ai,"getBaseValue",function(e,t,n,r){var i=e.layout,o=e.baseValue,c=t.props.baseValue,u=c??o;if(he(u)&&typeof u=="number")return u;var f=i==="horizontal"?r:n,d=f.scale.domain();if(f.type==="number"){var h=Math.max(d[0],d[1]),m=Math.min(d[0],d[1]);return u==="dataMin"?m:u==="dataMax"||h<0?h:Math.max(Math.min(d[0],d[1]),0)}return u==="dataMin"?d[0]:u==="dataMax"?d[1]:d[0]});Ir(ai,"getComposedData",function(e){var t=e.props,n=e.item,r=e.xAxis,i=e.yAxis,o=e.xAxisTicks,c=e.yAxisTicks,u=e.bandSize,f=e.dataKey,d=e.stackedData,h=e.dataStartIndex,m=e.displayedData,x=e.offset,v=t.layout,j=d&&d.length,b=bI.getBaseValue(t,n,r,i),w=v==="horizontal",y=!1,S=m.map(function(k,C){var E;j?E=d[h+C]:(E=Rt(k,f),Array.isArray(E)?y=!0:E=[b,E]);var D=E[1]==null||j&&Rt(k,f)==null;return w?{x:Ks({axis:r,ticks:o,bandSize:u,entry:k,index:C}),y:D?null:i.scale(E[1]),value:E,payload:k}:{x:D?null:r.scale(E[1]),y:Ks({axis:i,ticks:c,bandSize:u,entry:k,index:C}),value:E,payload:k}}),P;return j||y?P=S.map(function(k){var C=Array.isArray(k.value)?k.value[0]:null;return w?{x:k.x,y:C!=null&&k.y!=null?i.scale(C):null}:{x:C!=null?r.scale(C):null,y:k.y}}):P=w?i.scale(b):r.scale(b),Ba({points:S,baseLine:P,layout:v,isRange:y},x)});Ir(ai,"renderDotItem",function(e,t){var n;return q.isValidElement(e)?n=q.cloneElement(e,t):Fe(e)?n=e(t):n=q.createElement(Uf,Pi({},t,{className:"recharts-area-dot"})),n});var Kf=function(){return null};Kf.displayName="ZAxis";Kf.defaultProps={zAxisId:0,range:[64,64],scale:"auto",type:"number"};var YH=["option","isActive"];function Pl(){return Pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pl.apply(this,arguments)}function XH(e,t){if(e==null)return{};var n=QH(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function QH(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function ZH(e){var t=e.option,n=e.isActive,r=XH(e,YH);return typeof t=="string"?q.createElement(Xv,Pl({option:q.createElement(Ef,Pl({type:t},r)),isActive:n,shapeType:"symbols"},r)):q.createElement(Xv,Pl({option:t,isActive:n,shapeType:"symbols"},r))}function to(e){"@babel/helpers - typeof";return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(e)}function El(){return El=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},El.apply(this,arguments)}function EP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(n),!0).forEach(function(r){Ka(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,SI(r.key),r)}}function eV(e,t,n){return t&&DP(e.prototype,t),n&&DP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tV(e,t,n){return t=df(t),nV(e,NI()?Reflect.construct(t,n||[],df(e).constructor):t.apply(e,n))}function nV(e,t){if(t&&(to(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wl(e)}function NI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NI=function(){return!!e})()}function df(e){return df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},df(e)}function wl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ly(e,t)}function ly(e,t){return ly=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ly(e,t)}function Ka(e,t,n){return t=SI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SI(e){var t=aV(e,"string");return to(t)=="symbol"?t:String(t)}function aV(e,t){if(to(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(to(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gf=(function(e){rV(t,e);function t(){var n;JH(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=tV(this,t,[].concat(i)),Ka(wl(n),"state",{isAnimationFinished:!1}),Ka(wl(n),"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),Ka(wl(n),"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),Ka(wl(n),"id",Vi("recharts-scatter-")),n}return eV(t,[{key:"renderSymbolsStatically",value:function(r){var i=this,o=this.props,c=o.shape,u=o.activeShape,f=o.activeIndex,d=Le(this.props,!1);return r.map(function(h,m){var x=f===m,v=x?u:c,j=Xn(Xn({key:"symbol-".concat(m)},d),h);return q.createElement(Qe,El({className:"recharts-scatter-symbol"},Ll(i.props,h,m),{key:"symbol-".concat(h==null?void 0:h.cx,"-").concat(h==null?void 0:h.cy,"-").concat(h==null?void 0:h.size,"-").concat(m),role:"img"}),q.createElement(ZH,El({option:v,isActive:x},j)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,i=this.props,o=i.points,c=i.isAnimationActive,u=i.animationBegin,f=i.animationDuration,d=i.animationEasing,h=i.animationId,m=this.state.prevPoints;return q.createElement(br,{begin:u,duration:f,isActive:c,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var v=x.t,j=o.map(function(b,w){var y=m&&m[w];if(y){var S=kt(y.cx,b.cx),P=kt(y.cy,b.cy),k=kt(y.size,b.size);return Xn(Xn({},b),{},{cx:S(v),cy:P(v),size:k(v)})}var C=kt(0,b.size);return Xn(Xn({},b),{},{size:C(v)})});return q.createElement(Qe,null,r.renderSymbolsStatically(j))})}},{key:"renderSymbols",value:function(){var r=this.props,i=r.points,o=r.isAnimationActive,c=this.state.prevPoints;return o&&i&&i.length&&(!c||!$i(c,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,c=i.xAxis,u=i.yAxis,f=i.children,d=kn(f,go);return d?d.map(function(h,m){var x=h.props,v=x.direction,j=x.dataKey;return q.cloneElement(h,{key:"".concat(v,"-").concat(j,"-").concat(o[m]),data:o,xAxis:c,yAxis:u,layout:v==="x"?"vertical":"horizontal",dataPointFormatter:function(w,y){return{x:w.cx,y:w.cy,value:v==="x"?+w.node.x:+w.node.y,errorVal:Rt(w,y)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,i=r.points,o=r.line,c=r.lineType,u=r.lineJointType,f=Le(this.props,!1),d=Le(o,!1),h,m;if(c==="joint")h=i.map(function(P){return{x:P.cx,y:P.cy}});else if(c==="fitting"){var x=j3(i),v=x.xmin,j=x.xmax,b=x.a,w=x.b,y=function(k){return b*k+w};h=[{x:v,y:y(v)},{x:j,y:y(j)}]}var S=Xn(Xn(Xn({},f),{},{fill:"none",stroke:f&&f.fill},d),{},{points:h});return q.isValidElement(o)?m=q.cloneElement(o,S):Fe(o)?m=o(S):m=q.createElement(Ti,El({},S,{type:u})),q.createElement(Qe,{className:"recharts-scatter-line",key:"recharts-scatter-line"},m)}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.points,c=r.line,u=r.className,f=r.xAxis,d=r.yAxis,h=r.left,m=r.top,x=r.width,v=r.height,j=r.id,b=r.isAnimationActive;if(i||!o||!o.length)return null;var w=this.state.isAnimationFinished,y=Ye("recharts-scatter",u),S=f&&f.allowDataOverflow,P=d&&d.allowDataOverflow,k=S||P,C=Be(j)?this.id:j;return q.createElement(Qe,{className:y,clipPath:k?"url(#clipPath-".concat(C,")"):null},S||P?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(C)},q.createElement("rect",{x:S?h:h-x/2,y:P?m:m-v/2,width:S?x:x*2,height:P?v:v*2}))):null,c&&this.renderLine(),this.renderErrorBar(),q.createElement(Qe,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!b||w)&&_r.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}}]),t})(O.PureComponent);Ka(Gf,"displayName","Scatter");Ka(Gf,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!ei.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Ka(Gf,"getComposedData",function(e){var t=e.xAxis,n=e.yAxis,r=e.zAxis,i=e.item,o=e.displayedData,c=e.xAxisTicks,u=e.yAxisTicks,f=e.offset,d=i.props.tooltipType,h=kn(i.props.children,sb),m=Be(t.dataKey)?i.props.dataKey:t.dataKey,x=Be(n.dataKey)?i.props.dataKey:n.dataKey,v=r&&r.dataKey,j=r?r.range:Kf.defaultProps.range,b=j&&j[0],w=t.scale.bandwidth?t.scale.bandwidth():0,y=n.scale.bandwidth?n.scale.bandwidth():0,S=o.map(function(P,k){var C=Rt(P,m),E=Rt(P,x),D=!Be(v)&&Rt(P,v)||"-",I=[{name:Be(t.dataKey)?i.props.name:t.name||t.dataKey,unit:t.unit||"",value:C,payload:P,dataKey:m,type:d},{name:Be(n.dataKey)?i.props.name:n.name||n.dataKey,unit:n.unit||"",value:E,payload:P,dataKey:x,type:d}];D!=="-"&&I.push({name:r.name||r.dataKey,unit:r.unit||"",value:D,payload:P,dataKey:v,type:d});var $=Ks({axis:t,ticks:c,bandSize:w,entry:P,index:k,dataKey:m}),B=Ks({axis:n,ticks:u,bandSize:y,entry:P,index:k,dataKey:x}),M=D!=="-"?r.scale(D):b,z=Math.sqrt(Math.max(M,0)/Math.PI);return Xn(Xn({},P),{},{cx:$,cy:B,x:$-z,y:B-z,xAxis:t,yAxis:n,zAxis:r,width:2*z,height:2*z,size:M,node:{x:C,y:E,z:D},tooltipPayload:I,tooltipPosition:{x:$,y:B},payload:P},h&&h[k]&&h[k].props)});return Xn({points:S},f)});function cy(){return cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cy.apply(this,arguments)}var no=function(t){var n=t.xAxisId,r=Rb(),i=$b(),o=fI(n);return o==null?null:q.createElement(vo,cy({},o,{className:Ye("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(u){return ta(u,!0)}}))};no.displayName="XAxis";no.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};function uy(){return uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uy.apply(this,arguments)}var ro=function(t){var n=t.yAxisId,r=Rb(),i=$b(),o=pI(n);return o==null?null:q.createElement(vo,uy({},o,{className:Ye("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(u){return ta(u,!0)}}))};ro.displayName="YAxis";ro.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};function OP(e){return lV(e)||oV(e)||sV(e)||iV()}function iV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sV(e,t){if(e){if(typeof e=="string")return dy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dy(e,t)}}function oV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lV(e){if(Array.isArray(e))return dy(e)}function dy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fy=function(t,n,r,i,o){var c=kn(t,zb),u=kn(t,Mc),f=[].concat(OP(c),OP(u)),d=kn(t,Rc),h="".concat(i,"Id"),m=i[0],x=n;if(f.length&&(x=f.reduce(function(b,w){if(w.props[h]===r&&Mr(w.props,"extendDomain")&&he(w.props[m])){var y=w.props[m];return[Math.min(b[0],y),Math.max(b[1],y)]}return b},x)),d.length){var v="".concat(m,"1"),j="".concat(m,"2");x=d.reduce(function(b,w){if(w.props[h]===r&&Mr(w.props,"extendDomain")&&he(w.props[v])&&he(w.props[j])){var y=w.props[v],S=w.props[j];return[Math.min(b[0],y,S),Math.max(b[1],y,S)]}return b},x)}return o&&o.length&&(x=o.reduce(function(b,w){return he(w)?[Math.min(b[0],w),Math.max(b[1],w)]:b},x)),x},Lg={exports:{}},IP;function cV(){return IP||(IP=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,d,h){this.fn=f,this.context=d,this.once=h||!1}function o(f,d,h,m,x){if(typeof h!="function")throw new TypeError("The listener must be a function");var v=new i(h,m||f,x),j=n?n+d:d;return f._events[j]?f._events[j].fn?f._events[j]=[f._events[j],v]:f._events[j].push(v):(f._events[j]=v,f._eventsCount++),f}function c(f,d){--f._eventsCount===0?f._events=new r:delete f._events[d]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)t.call(h,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},u.prototype.listeners=function(d){var h=n?n+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var x=0,v=m.length,j=new Array(v);x<v;x++)j[x]=m[x].fn;return j},u.prototype.listenerCount=function(d){var h=n?n+d:d,m=this._events[h];return m?m.fn?1:m.length:0},u.prototype.emit=function(d,h,m,x,v,j){var b=n?n+d:d;if(!this._events[b])return!1;var w=this._events[b],y=arguments.length,S,P;if(w.fn){switch(w.once&&this.removeListener(d,w.fn,void 0,!0),y){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,h),!0;case 3:return w.fn.call(w.context,h,m),!0;case 4:return w.fn.call(w.context,h,m,x),!0;case 5:return w.fn.call(w.context,h,m,x,v),!0;case 6:return w.fn.call(w.context,h,m,x,v,j),!0}for(P=1,S=new Array(y-1);P<y;P++)S[P-1]=arguments[P];w.fn.apply(w.context,S)}else{var k=w.length,C;for(P=0;P<k;P++)switch(w[P].once&&this.removeListener(d,w[P].fn,void 0,!0),y){case 1:w[P].fn.call(w[P].context);break;case 2:w[P].fn.call(w[P].context,h);break;case 3:w[P].fn.call(w[P].context,h,m);break;case 4:w[P].fn.call(w[P].context,h,m,x);break;default:if(!S)for(C=1,S=new Array(y-1);C<y;C++)S[C-1]=arguments[C];w[P].fn.apply(w[P].context,S)}}return!0},u.prototype.on=function(d,h,m){return o(this,d,h,m,!1)},u.prototype.once=function(d,h,m){return o(this,d,h,m,!0)},u.prototype.removeListener=function(d,h,m,x){var v=n?n+d:d;if(!this._events[v])return this;if(!h)return c(this,v),this;var j=this._events[v];if(j.fn)j.fn===h&&(!x||j.once)&&(!m||j.context===m)&&c(this,v);else{for(var b=0,w=[],y=j.length;b<y;b++)(j[b].fn!==h||x&&!j[b].once||m&&j[b].context!==m)&&w.push(j[b]);w.length?this._events[v]=w.length===1?w[0]:w:c(this,v)}return this},u.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&c(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(Lg)),Lg.exports}var uV=cV();const dV=lt(uV);var Bg=new dV,Fg="recharts.syncMouseEvents";function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function fV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kI(r.key),r)}}function hV(e,t,n){return t&&pV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ug(e,t,n){return t=kI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kI(e){var t=mV(e,"string");return Nc(t)=="symbol"?t:String(t)}function mV(e,t){if(Nc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xV=(function(){function e(){fV(this,e),Ug(this,"activeIndex",0),Ug(this,"coordinateList",[]),Ug(this,"layout","horizontal")}return hV(e,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,c=n.container,u=c===void 0?null:c,f=n.layout,d=f===void 0?null:f,h=n.offset,m=h===void 0?null:h,x=n.mouseHandlerCallback,v=x===void 0?null:x;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=u??this.container,this.layout=d??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,c=i.y,u=i.height,f=this.coordinateList[this.activeIndex].coordinate,d=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,m=o+f+d,x=c+this.offset.top+u/2+h;this.mouseHandlerCallback({pageX:m,pageY:x})}}}]),e})();function gV(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],i=e==null?void 0:e[1];if(r&&i&&he(r)&&he(i))return!0}return!1}function vV(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function CI(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,o=e.endAngle,c=Xt(t,n,r,i),u=Xt(t,n,r,o);return{points:[c,u],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function yV(e,t,n){var r,i,o,c;if(e==="horizontal")r=t.x,o=r,i=n.top,c=n.top+n.height;else if(e==="vertical")i=t.y,c=i,r=n.left,o=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var u=t.cx,f=t.cy,d=t.innerRadius,h=t.outerRadius,m=t.angle,x=Xt(u,f,d,m),v=Xt(u,f,h,m);r=x.x,i=x.y,o=v.x,c=v.y}else return CI(t);return[{x:r,y:i},{x:o,y:c}]}function Sc(e){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(e)}function TP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function od(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(n),!0).forEach(function(r){bV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bV(e,t,n){return t=wV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wV(e){var t=jV(e,"string");return Sc(t)=="symbol"?t:String(t)}function jV(e,t){if(Sc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NV(e){var t=e.element,n=e.tooltipEventType,r=e.isActive,i=e.activeCoordinate,o=e.activePayload,c=e.offset,u=e.activeTooltipIndex,f=e.tooltipAxisBandSize,d=e.layout,h=e.chartName;if(!t||!t.props.cursor||!r||!i||h!=="ScatterChart"&&n!=="axis")return null;var m,x=Ti;if(h==="ScatterChart")m=i,x=BU;else if(h==="BarChart")m=vV(d,i,c,f),x=Ib;else if(d==="radial"){var v=CI(i),j=v.cx,b=v.cy,w=v.radius,y=v.startAngle,S=v.endAngle;m={cx:j,cy:b,startAngle:y,endAngle:S,innerRadius:w,outerRadius:w},x=FO}else m={points:yV(d,i,c)},x=Ti;var P=od(od(od(od({stroke:"#ccc",pointerEvents:"none"},c),m),Le(t.props.cursor,!1)),{},{payload:o,payloadIndex:u,className:"recharts-tooltip-cursor"});return O.isValidElement(t.props.cursor)?O.cloneElement(t.props.cursor,P):O.createElement(x,P)}var SV=["item"],kV=["children","className","width","height","style","compact","title","desc"];function ao(e){"@babel/helpers - typeof";return ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ao(e)}function Dl(){return Dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dl.apply(this,arguments)}function _P(e,t){return PV(e)||AV(e,t)||PI(e,t)||CV()}function CV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AV(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,c,u=[],f=!0,d=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(f=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);f=!0);}catch(h){d=!0,i=h}finally{try{if(!f&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(d)throw i}}return u}}function PV(e){if(Array.isArray(e))return e}function MP(e,t){if(e==null)return{};var n=EV(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function EV(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function DV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,EI(r.key),r)}}function IV(e,t,n){return t&&OV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TV(e,t,n){return t=ff(t),_V(e,AI()?Reflect.construct(t,n||[],ff(e).constructor):t.apply(e,n))}function _V(e,t){if(t&&(ao(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ke(e)}function AI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AI=function(){return!!e})()}function ff(e){return ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ff(e)}function Ke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&py(e,t)}function py(e,t){return py=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},py(e,t)}function io(e){return zV(e)||$V(e)||PI(e)||RV()}function RV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PI(e,t){if(e){if(typeof e=="string")return hy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hy(e,t)}}function $V(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zV(e){if(Array.isArray(e))return hy(e)}function hy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function RP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RP(Object(n),!0).forEach(function(r){_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _e(e,t,n){return t=EI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EI(e){var t=LV(e,"string");return ao(t)=="symbol"?t:String(t)}function LV(e,t){if(ao(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ao(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BV={xAxis:["bottom","top"],yAxis:["left","right"]},FV={width:"100%",height:"100%"},DI={x:0,y:0};function ld(e){return e}var UV=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},qV=function(t,n,r,i){var o=n.find(function(h){return h&&h.index===r});if(o){if(t==="horizontal")return{x:o.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:o.coordinate};if(t==="centric"){var c=o.coordinate,u=i.radius;return ae(ae(ae({},i),Xt(i.cx,i.cy,u,c)),{},{angle:c,radius:u})}var f=o.coordinate,d=i.angle;return ae(ae(ae({},i),Xt(i.cx,i.cy,f,d)),{},{angle:d,radius:f})}return DI},Yf=function(t,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,c=(r??[]).reduce(function(u,f){var d=f.props.data;return d&&d.length?[].concat(io(u),io(d)):u},[]);return c.length>0?c:t&&t.length&&he(i)&&he(o)?t.slice(i,o+1):[]};function OI(e){return e==="number"?[0,"auto"]:void 0}var my=function(t,n,r,i){var o=t.graphicalItems,c=t.tooltipAxis,u=Yf(n,t);return r<0||!o||!o.length||r>=u.length?null:o.reduce(function(f,d){var h,m=(h=d.props.data)!==null&&h!==void 0?h:n;m&&t.dataStartIndex+t.dataEndIndex!==0&&(m=m.slice(t.dataStartIndex,t.dataEndIndex+1));var x;if(c.dataKey&&!c.allowDuplicatedCategory){var v=m===void 0?u:m;x=yd(v,c.dataKey,i)}else x=m&&m[r]||u[r];return x?[].concat(io(f),[zO(d,x)]):f},[])},$P=function(t,n,r,i){var o=i||{x:t.chartX,y:t.chartY},c=UV(o,r),u=t.orderedTooltipTicks,f=t.tooltipAxis,d=t.tooltipTicks,h=y7(c,u,d,f);if(h>=0&&d){var m=d[h]&&d[h].value,x=my(t,n,h,m),v=qV(r,u,h,o);return{activeTooltipIndex:h,activeLabel:m,activePayload:x,activeCoordinate:v}}return null},WV=function(t,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,c=n.axisIdKey,u=n.stackGroups,f=n.dataStartIndex,d=n.dataEndIndex,h=t.layout,m=t.children,x=t.stackOffset,v=MO(h,o);return r.reduce(function(j,b){var w,y=b.props,S=y.type,P=y.dataKey,k=y.allowDataOverflow,C=y.allowDuplicatedCategory,E=y.scale,D=y.ticks,I=y.includeHidden,$=b.props[c];if(j[$])return j;var B=Yf(t.data,{graphicalItems:i.filter(function(J){return J.props[c]===$}),dataStartIndex:f,dataEndIndex:d}),M=B.length,z,L,_;gV(b.props.domain,k,S)&&(z=_v(b.props.domain,null,k),v&&(S==="number"||E!=="auto")&&(_=kl(B,P,"category")));var U=OI(S);if(!z||z.length===0){var G,W=(G=b.props.domain)!==null&&G!==void 0?G:U;if(P){if(z=kl(B,P,S),S==="category"&&v){var K=w3(z);C&&K?(L=z,z=tf(0,M)):C||(z=GC(W,z,b).reduce(function(J,te){return J.indexOf(te)>=0?J:[].concat(io(J),[te])},[]))}else if(S==="category")C?z=z.filter(function(J){return J!==""&&!Be(J)}):z=GC(W,z,b).reduce(function(J,te){return J.indexOf(te)>=0||te===""||Be(te)?J:[].concat(io(J),[te])},[]);else if(S==="number"){var X=S7(B,i.filter(function(J){return J.props[c]===$&&(I||!J.props.hide)}),P,o,h);X&&(z=X)}v&&(S==="number"||E!=="auto")&&(_=kl(B,P,"category"))}else v?z=tf(0,M):u&&u[$]&&u[$].hasStack&&S==="number"?z=x==="expand"?[0,1]:$O(u[$].stackGroups,f,d):z=_O(B,i.filter(function(J){return J.props[c]===$&&(I||!J.props.hide)}),S,h,!0);if(S==="number")z=fy(m,z,$,o,D),W&&(z=_v(W,z,k));else if(S==="category"&&W){var R=W,Q=z.every(function(J){return R.indexOf(J)>=0});Q&&(z=R)}}return ae(ae({},j),{},_e({},$,ae(ae({},b.props),{},{axisType:o,domain:z,categoricalDomain:_,duplicateDomain:L,originalDomain:(w=b.props.domain)!==null&&w!==void 0?w:U,isCategorical:v,layout:h})))},{})},HV=function(t,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,c=n.axisIdKey,u=n.stackGroups,f=n.dataStartIndex,d=n.dataEndIndex,h=t.layout,m=t.children,x=Yf(t.data,{graphicalItems:r,dataStartIndex:f,dataEndIndex:d}),v=x.length,j=MO(h,o),b=-1;return r.reduce(function(w,y){var S=y.props[c],P=OI("number");if(!w[S]){b++;var k;return j?k=tf(0,v):u&&u[S]&&u[S].hasStack?(k=$O(u[S].stackGroups,f,d),k=fy(m,k,S,o)):(k=_v(P,_O(x,r.filter(function(C){return C.props[c]===S&&!C.props.hide}),"number",h),i.defaultProps.allowDataOverflow),k=fy(m,k,S,o)),ae(ae({},w),{},_e({},S,ae(ae({axisType:o},i.defaultProps),{},{hide:!0,orientation:er(BV,"".concat(o,".").concat(b%2),null),domain:k,originalDomain:P,isCategorical:j,layout:h})))}return w},{})},VV=function(t,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,c=n.graphicalItems,u=n.stackGroups,f=n.dataStartIndex,d=n.dataEndIndex,h=t.children,m="".concat(i,"Id"),x=kn(h,o),v={};return x&&x.length?v=WV(t,{axes:x,graphicalItems:c,axisType:i,axisIdKey:m,stackGroups:u,dataStartIndex:f,dataEndIndex:d}):c&&c.length&&(v=HV(t,{Axis:o,graphicalItems:c,axisType:i,axisIdKey:m,stackGroups:u,dataStartIndex:f,dataEndIndex:d})),v},KV=function(t){var n=Ua(t),r=ta(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:ab(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Hd(n,r)}},zP=function(t){var n=t.children,r=t.defaultShowTooltip,i=Mn(n,Xs),o=0,c=0;return t.data&&t.data.length!==0&&(c=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(c=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:c,activeTooltipIndex:-1,isTooltipActive:!!r}},GV=function(t){return!t||!t.length?!1:t.some(function(n){var r=ra(n&&n.type);return r&&r.indexOf("Bar")>=0})},LP=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},YV=function(t,n){var r=t.props,i=t.graphicalItems,o=t.xAxisMap,c=o===void 0?{}:o,u=t.yAxisMap,f=u===void 0?{}:u,d=r.width,h=r.height,m=r.children,x=r.margin||{},v=Mn(m,Xs),j=Mn(m,Ul),b=Object.keys(f).reduce(function(C,E){var D=f[E],I=D.orientation;return!D.mirror&&!D.hide?ae(ae({},C),{},_e({},I,C[I]+D.width)):C},{left:x.left||0,right:x.right||0}),w=Object.keys(c).reduce(function(C,E){var D=c[E],I=D.orientation;return!D.mirror&&!D.hide?ae(ae({},C),{},_e({},I,er(C,"".concat(I))+D.height)):C},{top:x.top||0,bottom:x.bottom||0}),y=ae(ae({},w),b),S=y.bottom;v&&(y.bottom+=v.props.height||Xs.defaultProps.height),j&&n&&(y=j7(y,i,r,n));var P=d-y.left-y.right,k=h-y.top-y.bottom;return ae(ae({brushBottom:S},y),{},{width:Math.max(P,0),height:Math.max(k,0)})},II=function(t){var n,r=t.chartName,i=t.GraphicalChild,o=t.defaultTooltipEventType,c=o===void 0?"axis":o,u=t.validateTooltipEventTypes,f=u===void 0?["axis"]:u,d=t.axisComponents,h=t.legendContent,m=t.formatAxisMap,x=t.defaultProps,v=function(w,y){var S=y.graphicalItems,P=y.stackGroups,k=y.offset,C=y.updateId,E=y.dataStartIndex,D=y.dataEndIndex,I=w.barSize,$=w.layout,B=w.barGap,M=w.barCategoryGap,z=w.maxBarSize,L=LP($),_=L.numericAxisName,U=L.cateAxisName,G=GV(S),W=G&&b7({barSize:I,stackGroups:P}),K=[];return S.forEach(function(X,R){var Q=Yf(w.data,{graphicalItems:[X],dataStartIndex:E,dataEndIndex:D}),J=X.props,te=J.dataKey,ue=J.maxBarSize,be=X.props["".concat(_,"Id")],we=X.props["".concat(U,"Id")],$e={},Oe=d.reduce(function(qe,We){var xt=y["".concat(We.axisType,"Map")],zt=X.props["".concat(We.axisType,"Id")];xt&&xt[zt]||We.axisType==="zAxis"||Li();var me=xt[zt];return ae(ae({},qe),{},_e(_e({},We.axisType,me),"".concat(We.axisType,"Ticks"),ta(me)))},$e),oe=Oe[U],Ae=Oe["".concat(U,"Ticks")],ke=P&&P[be]&&P[be].hasStack&&R7(X,P[be].stackGroups),ie=ra(X.type).indexOf("Bar")>=0,He=Hd(oe,Ae),Re=[];if(ie){var Ze,de,Te=Be(ue)?z:ue,Ne=(Ze=(de=Hd(oe,Ae,!0))!==null&&de!==void 0?de:Te)!==null&&Ze!==void 0?Ze:0;Re=w7({barGap:B,barCategoryGap:M,bandSize:Ne!==He?Ne:He,sizeList:W[we],maxBarSize:Te}),Ne!==He&&(Re=Re.map(function(qe){return ae(ae({},qe),{},{position:ae(ae({},qe.position),{},{offset:qe.position.offset-Ne/2})})}))}var ze=X&&X.type&&X.type.getComposedData;ze&&K.push({props:ae(ae({},ze(ae(ae({},Oe),{},{displayedData:Q,props:w,dataKey:te,item:X,bandSize:He,barPosition:Re,offset:k,stackedData:ke,layout:$,dataStartIndex:E,dataEndIndex:D}))),{},_e(_e(_e({key:X.key||"item-".concat(R)},_,Oe[_]),U,Oe[U]),"animationId",C)),childIndex:T3(X,w.children),item:X})}),K},j=function(w,y){var S=w.props,P=w.dataStartIndex,k=w.dataEndIndex,C=w.updateId;if(!lN({props:S}))return null;var E=S.children,D=S.layout,I=S.stackOffset,$=S.data,B=S.reverseStackOrder,M=LP(D),z=M.numericAxisName,L=M.cateAxisName,_=kn(E,i),U=T7($,_,"".concat(z,"Id"),"".concat(L,"Id"),I,B),G=d.reduce(function(Q,J){var te="".concat(J.axisType,"Map");return ae(ae({},Q),{},_e({},te,VV(S,ae(ae({},J),{},{graphicalItems:_,stackGroups:J.axisType===z&&U,dataStartIndex:P,dataEndIndex:k}))))},{}),W=YV(ae(ae({},G),{},{props:S,graphicalItems:_}),y==null?void 0:y.legendBBox);Object.keys(G).forEach(function(Q){G[Q]=m(S,G[Q],W,Q.replace("Map",""),r)});var K=G["".concat(L,"Map")],X=KV(K),R=v(S,ae(ae({},G),{},{dataStartIndex:P,dataEndIndex:k,updateId:C,graphicalItems:_,stackGroups:U,offset:W}));return ae(ae({formattedGraphicalItems:R,graphicalItems:_,offset:W,stackGroups:U},X),G)};return n=(function(b){MV(w,b);function w(y){var S,P,k;return DV(this,w),k=TV(this,w,[y]),_e(Ke(k),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),_e(Ke(k),"accessibilityManager",new xV),_e(Ke(k),"handleLegendBBoxUpdate",function(C){if(C){var E=k.state,D=E.dataStartIndex,I=E.dataEndIndex,$=E.updateId;k.setState(ae({legendBBox:C},j({props:k.props,dataStartIndex:D,dataEndIndex:I,updateId:$},ae(ae({},k.state),{},{legendBBox:C}))))}}),_e(Ke(k),"handleReceiveSyncEvent",function(C,E,D){if(k.props.syncId===C){if(D===k.eventEmitterSymbol&&typeof k.props.syncMethod!="function")return;k.applySyncEvent(E)}}),_e(Ke(k),"handleBrushChange",function(C){var E=C.startIndex,D=C.endIndex;if(E!==k.state.dataStartIndex||D!==k.state.dataEndIndex){var I=k.state.updateId;k.setState(function(){return ae({dataStartIndex:E,dataEndIndex:D},j({props:k.props,dataStartIndex:E,dataEndIndex:D,updateId:I},k.state))}),k.triggerSyncEvent({dataStartIndex:E,dataEndIndex:D})}}),_e(Ke(k),"handleMouseEnter",function(C){var E=k.getMouseInfo(C);if(E){var D=ae(ae({},E),{},{isTooltipActive:!0});k.setState(D),k.triggerSyncEvent(D);var I=k.props.onMouseEnter;Fe(I)&&I(D,C)}}),_e(Ke(k),"triggeredAfterMouseMove",function(C){var E=k.getMouseInfo(C),D=E?ae(ae({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};k.setState(D),k.triggerSyncEvent(D);var I=k.props.onMouseMove;Fe(I)&&I(D,C)}),_e(Ke(k),"handleItemMouseEnter",function(C){k.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),_e(Ke(k),"handleItemMouseLeave",function(){k.setState(function(){return{isTooltipActive:!1}})}),_e(Ke(k),"handleMouseMove",function(C){C.persist(),k.throttleTriggeredAfterMouseMove(C)}),_e(Ke(k),"handleMouseLeave",function(C){k.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};k.setState(E),k.triggerSyncEvent(E);var D=k.props.onMouseLeave;Fe(D)&&D(E,C)}),_e(Ke(k),"handleOuterEvent",function(C){var E=I3(C),D=er(k.props,"".concat(E));if(E&&Fe(D)){var I,$;/.*touch.*/i.test(E)?$=k.getMouseInfo(C.changedTouches[0]):$=k.getMouseInfo(C),D((I=$)!==null&&I!==void 0?I:{},C)}}),_e(Ke(k),"handleClick",function(C){var E=k.getMouseInfo(C);if(E){var D=ae(ae({},E),{},{isTooltipActive:!0});k.setState(D),k.triggerSyncEvent(D);var I=k.props.onClick;Fe(I)&&I(D,C)}}),_e(Ke(k),"handleMouseDown",function(C){var E=k.props.onMouseDown;if(Fe(E)){var D=k.getMouseInfo(C);E(D,C)}}),_e(Ke(k),"handleMouseUp",function(C){var E=k.props.onMouseUp;if(Fe(E)){var D=k.getMouseInfo(C);E(D,C)}}),_e(Ke(k),"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&k.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),_e(Ke(k),"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&k.handleMouseDown(C.changedTouches[0])}),_e(Ke(k),"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&k.handleMouseUp(C.changedTouches[0])}),_e(Ke(k),"triggerSyncEvent",function(C){k.props.syncId!==void 0&&Bg.emit(Fg,k.props.syncId,C,k.eventEmitterSymbol)}),_e(Ke(k),"applySyncEvent",function(C){var E=k.props,D=E.layout,I=E.syncMethod,$=k.state.updateId,B=C.dataStartIndex,M=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)k.setState(ae({dataStartIndex:B,dataEndIndex:M},j({props:k.props,dataStartIndex:B,dataEndIndex:M,updateId:$},k.state)));else if(C.activeTooltipIndex!==void 0){var z=C.chartX,L=C.chartY,_=C.activeTooltipIndex,U=k.state,G=U.offset,W=U.tooltipTicks;if(!G)return;if(typeof I=="function")_=I(W,C);else if(I==="value"){_=-1;for(var K=0;K<W.length;K++)if(W[K].value===C.activeLabel){_=K;break}}var X=ae(ae({},G),{},{x:G.left,y:G.top}),R=Math.min(z,X.x+X.width),Q=Math.min(L,X.y+X.height),J=W[_]&&W[_].value,te=my(k.state,k.props.data,_),ue=W[_]?{x:D==="horizontal"?W[_].coordinate:R,y:D==="horizontal"?Q:W[_].coordinate}:DI;k.setState(ae(ae({},C),{},{activeLabel:J,activeCoordinate:ue,activePayload:te,activeTooltipIndex:_}))}else k.setState(C)}),_e(Ke(k),"renderCursor",function(C){var E,D=k.state,I=D.isTooltipActive,$=D.activeCoordinate,B=D.activePayload,M=D.offset,z=D.activeTooltipIndex,L=D.tooltipAxisBandSize,_=k.getTooltipEventType(),U=(E=C.props.active)!==null&&E!==void 0?E:I,G=k.props.layout,W=C.key||"_recharts-cursor";return q.createElement(NV,{key:W,activeCoordinate:$,activePayload:B,activeTooltipIndex:z,chartName:r,element:C,isActive:U,layout:G,offset:M,tooltipAxisBandSize:L,tooltipEventType:_})}),_e(Ke(k),"renderPolarAxis",function(C,E,D){var I=er(C,"type.axisType"),$=er(k.state,"".concat(I,"Map")),B=$&&$[C.props["".concat(I,"Id")]];return O.cloneElement(C,ae(ae({},B),{},{className:I,key:C.key||"".concat(E,"-").concat(D),ticks:ta(B,!0)}))}),_e(Ke(k),"renderPolarGrid",function(C){var E=C.props,D=E.radialLines,I=E.polarAngles,$=E.polarRadius,B=k.state,M=B.radiusAxisMap,z=B.angleAxisMap,L=Ua(M),_=Ua(z),U=_.cx,G=_.cy,W=_.innerRadius,K=_.outerRadius;return O.cloneElement(C,{polarAngles:Array.isArray(I)?I:ta(_,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray($)?$:ta(L,!0).map(function(X){return X.coordinate}),cx:U,cy:G,innerRadius:W,outerRadius:K,key:C.key||"polar-grid",radialLines:D})}),_e(Ke(k),"renderLegend",function(){var C=k.state.formattedGraphicalItems,E=k.props,D=E.children,I=E.width,$=E.height,B=k.props.margin||{},M=I-(B.left||0)-(B.right||0),z=IO({children:D,formattedGraphicalItems:C,legendWidth:M,legendContent:h});if(!z)return null;var L=z.item,_=MP(z,SV);return O.cloneElement(L,ae(ae({},_),{},{chartWidth:I,chartHeight:$,margin:B,onBBoxUpdate:k.handleLegendBBoxUpdate}))}),_e(Ke(k),"renderTooltip",function(){var C,E=k.props,D=E.children,I=E.accessibilityLayer,$=Mn(D,pr);if(!$)return null;var B=k.state,M=B.isTooltipActive,z=B.activeCoordinate,L=B.activePayload,_=B.activeLabel,U=B.offset,G=(C=$.props.active)!==null&&C!==void 0?C:M;return O.cloneElement($,{viewBox:ae(ae({},U),{},{x:U.left,y:U.top}),active:G,label:_,payload:G?L:[],coordinate:z,accessibilityLayer:I})}),_e(Ke(k),"renderBrush",function(C){var E=k.props,D=E.margin,I=E.data,$=k.state,B=$.offset,M=$.dataStartIndex,z=$.dataEndIndex,L=$.updateId;return O.cloneElement(C,{key:C.key||"_recharts-brush",onChange:rd(k.handleBrushChange,C.props.onChange),data:I,x:he(C.props.x)?C.props.x:B.left,y:he(C.props.y)?C.props.y:B.top+B.height+B.brushBottom-(D.bottom||0),width:he(C.props.width)?C.props.width:B.width,startIndex:M,endIndex:z,updateId:"brush-".concat(L)})}),_e(Ke(k),"renderReferenceElement",function(C,E,D){if(!C)return null;var I=Ke(k),$=I.clipPathId,B=k.state,M=B.xAxisMap,z=B.yAxisMap,L=B.offset,_=C.props,U=_.xAxisId,G=_.yAxisId;return O.cloneElement(C,{key:C.key||"".concat(E,"-").concat(D),xAxis:M[U],yAxis:z[G],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:$})}),_e(Ke(k),"renderActivePoints",function(C){var E=C.item,D=C.activePoint,I=C.basePoint,$=C.childIndex,B=C.isRange,M=[],z=E.props.key,L=E.item.props,_=L.activeDot,U=L.dataKey,G=ae(ae({index:$,dataKey:U,cx:D.x,cy:D.y,r:4,fill:Ob(E.item),strokeWidth:2,stroke:"#fff",payload:D.payload,value:D.value,key:"".concat(z,"-activePoint-").concat($)},Le(_,!1)),bd(_));return M.push(w.renderActiveDot(_,G)),I?M.push(w.renderActiveDot(_,ae(ae({},G),{},{cx:I.x,cy:I.y,key:"".concat(z,"-basePoint-").concat($)}))):B&&M.push(null),M}),_e(Ke(k),"renderGraphicChild",function(C,E,D){var I=k.filterFormatItem(C,E,D);if(!I)return null;var $=k.getTooltipEventType(),B=k.state,M=B.isTooltipActive,z=B.tooltipAxis,L=B.activeTooltipIndex,_=B.activeLabel,U=k.props.children,G=Mn(U,pr),W=I.props,K=W.points,X=W.isRange,R=W.baseLine,Q=I.item.props,J=Q.activeDot,te=Q.hide,ue=Q.activeBar,be=Q.activeShape,we=!!(!te&&M&&G&&(J||ue||be)),$e={};$!=="axis"&&G&&G.props.trigger==="click"?$e={onClick:rd(k.handleItemMouseEnter,C.props.onClick)}:$!=="axis"&&($e={onMouseLeave:rd(k.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:rd(k.handleItemMouseEnter,C.props.onMouseEnter)});var Oe=O.cloneElement(C,ae(ae({},I.props),$e));function oe(We){return typeof z.dataKey=="function"?z.dataKey(We.payload):null}if(we)if(L>=0){var Ae,ke;if(z.dataKey&&!z.allowDuplicatedCategory){var ie=typeof z.dataKey=="function"?oe:"payload.".concat(z.dataKey.toString());Ae=yd(K,ie,_),ke=X&&R&&yd(R,ie,_)}else Ae=K==null?void 0:K[L],ke=X&&R&&R[L];if(be||ue){var He=C.props.activeIndex!==void 0?C.props.activeIndex:L;return[O.cloneElement(C,ae(ae(ae({},I.props),$e),{},{activeIndex:He})),null,null]}if(!Be(Ae))return[Oe].concat(io(k.renderActivePoints({item:I,activePoint:Ae,basePoint:ke,childIndex:L,isRange:X})))}else{var Re,Ze=(Re=k.getItemByXY(k.state.activeCoordinate))!==null&&Re!==void 0?Re:{graphicalItem:Oe},de=Ze.graphicalItem,Te=de.item,Ne=Te===void 0?C:Te,ze=de.childIndex,qe=ae(ae(ae({},I.props),$e),{},{activeIndex:ze});return[O.cloneElement(Ne,qe),null,null]}return X?[Oe,null,null]:[Oe,null]}),_e(Ke(k),"renderCustomized",function(C,E,D){return O.cloneElement(C,ae(ae({key:"recharts-customized-".concat(D)},k.props),k.state))}),_e(Ke(k),"renderMap",{CartesianGrid:{handler:ld,once:!0},ReferenceArea:{handler:k.renderReferenceElement},ReferenceLine:{handler:ld},ReferenceDot:{handler:k.renderReferenceElement},XAxis:{handler:ld},YAxis:{handler:ld},Brush:{handler:k.renderBrush,once:!0},Bar:{handler:k.renderGraphicChild},Line:{handler:k.renderGraphicChild},Area:{handler:k.renderGraphicChild},Radar:{handler:k.renderGraphicChild},RadialBar:{handler:k.renderGraphicChild},Scatter:{handler:k.renderGraphicChild},Pie:{handler:k.renderGraphicChild},Funnel:{handler:k.renderGraphicChild},Tooltip:{handler:k.renderCursor,once:!0},PolarGrid:{handler:k.renderPolarGrid,once:!0},PolarAngleAxis:{handler:k.renderPolarAxis},PolarRadiusAxis:{handler:k.renderPolarAxis},Customized:{handler:k.renderCustomized}}),k.clipPathId="".concat((S=y.id)!==null&&S!==void 0?S:Vi("recharts"),"-clip"),k.throttleTriggeredAfterMouseMove=RD(k.triggeredAfterMouseMove,(P=y.throttleDelay)!==null&&P!==void 0?P:1e3/60),k.state={},k}return IV(w,[{key:"componentDidMount",value:function(){var S,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,P=S.children,k=S.data,C=S.height,E=S.layout,D=Mn(P,pr);if(D){var I=D.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length)){var $=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,B=my(this.state,k,I,$),M=this.state.tooltipTicks[I].coordinate,z=(this.state.offset.top+C)/2,L=E==="horizontal",_=L?{x:M,y:z}:{y:M,x:z},U=this.state.formattedGraphicalItems.find(function(W){var K=W.item;return K.type.name==="Scatter"});U&&(_=ae(ae({},_),U.props.points[I].tooltipPosition),B=U.props.points[I].tooltipPayload);var G={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:$,activePayload:B,activeCoordinate:_};this.setState(G),this.renderCursor(D),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var k,C;this.accessibilityManager.setDetails({offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(S){av([Mn(S.children,pr)],[Mn(this.props.children,pr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=Mn(this.props.children,pr);if(S&&typeof S.props.shared=="boolean"){var P=S.props.shared?"axis":"item";return f.indexOf(P)>=0?P:c}return c}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var P=this.container,k=P.getBoundingClientRect(),C=g8(k),E={chartX:Math.round(S.pageX-C.left),chartY:Math.round(S.pageY-C.top)},D=k.width/P.offsetWidth||1,I=this.inRange(E.chartX,E.chartY,D);if(!I)return null;var $=this.state,B=$.xAxisMap,M=$.yAxisMap,z=this.getTooltipEventType();if(z!=="axis"&&B&&M){var L=Ua(B).scale,_=Ua(M).scale,U=L&&L.invert?L.invert(E.chartX):null,G=_&&_.invert?_.invert(E.chartY):null;return ae(ae({},E),{},{xValue:U,yValue:G})}var W=$P(this.state,this.props.data,this.props.layout,I);return W?ae(ae({},E),W):null}},{key:"inRange",value:function(S,P){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,E=S/k,D=P/k;if(C==="horizontal"||C==="vertical"){var I=this.state.offset,$=E>=I.left&&E<=I.left+I.width&&D>=I.top&&D<=I.top+I.height;return $?{x:E,y:D}:null}var B=this.state,M=B.angleAxisMap,z=B.radiusAxisMap;if(M&&z){var L=Ua(M);return QC({x:E,y:D},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,P=this.getTooltipEventType(),k=Mn(S,pr),C={};k&&P==="axis"&&(k.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var E=bd(this.props,this.handleOuterEvent);return ae(ae({},E),C)}},{key:"addListener",value:function(){Bg.on(Fg,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Bg.removeListener(Fg,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,P,k){for(var C=this.state.formattedGraphicalItems,E=0,D=C.length;E<D;E++){var I=C[E];if(I.item===S||I.props.key===S.key||P===ra(I.item.type)&&k===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,P=this.state.offset,k=P.left,C=P.top,E=P.height,D=P.width;return q.createElement("defs",null,q.createElement("clipPath",{id:S},q.createElement("rect",{x:k,y:C,height:E,width:D})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(P,k){var C=_P(k,2),E=C[0],D=C[1];return ae(ae({},P),{},_e({},E,D.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(P,k){var C=_P(k,2),E=C[0],D=C[1];return ae(ae({},P),{},_e({},E,D.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[S])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(S){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[S])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(S){var P=this.state,k=P.formattedGraphicalItems,C=P.activeItem;if(k&&k.length)for(var E=0,D=k.length;E<D;E++){var I=k[E],$=I.props,B=I.item,M=ra(B.type);if(M==="Bar"){var z=($.data||[]).find(function(G){return DU(S,G)});if(z)return{graphicalItem:I,payload:z}}else if(M==="RadialBar"){var L=($.data||[]).find(function(G){return QC(S,G)});if(L)return{graphicalItem:I,payload:L}}else if(qf(I,C)||Wf(I,C)||mc(I,C)){var _=yq({graphicalItem:I,activeTooltipItem:C,itemData:B.props.data}),U=B.props.activeIndex===void 0?_:B.props.activeIndex;return{graphicalItem:ae(ae({},I),{},{childIndex:U}),payload:mc(I,C)?B.props.data[_]:I.props.data[_]}}}return null}},{key:"render",value:function(){var S=this,P;if(!lN(this))return null;var k=this.props,C=k.children,E=k.className,D=k.width,I=k.height,$=k.style,B=k.compact,M=k.title,z=k.desc,L=MP(k,kV),_=Le(L,!1);if(B)return q.createElement(fP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement(sv,Dl({},_,{width:D,height:I,title:M,desc:z}),this.renderClipPath(),uN(C,this.renderMap)));if(this.props.accessibilityLayer){var U,G;_.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,_.role=(G=this.props.role)!==null&&G!==void 0?G:"application",_.onKeyDown=function(K){S.accessibilityManager.keyboardEvent(K)},_.onFocus=function(){S.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return q.createElement(fP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement("div",Dl({className:Ye("recharts-wrapper",E),style:ae({position:"relative",cursor:"default",width:D,height:I},$)},W,{ref:function(X){S.container=X},role:(P=_.role)!==null&&P!==void 0?P:"region"}),q.createElement(sv,Dl({},_,{width:D,height:I,title:M,desc:z,style:FV}),this.renderClipPath(),uN(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}]),w})(O.Component),_e(n,"displayName",r),_e(n,"defaultProps",ae({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},x)),_e(n,"getDerivedStateFromProps",function(b,w){var y=b.dataKey,S=b.data,P=b.children,k=b.width,C=b.height,E=b.layout,D=b.stackOffset,I=b.margin,$=w.dataStartIndex,B=w.dataEndIndex;if(w.updateId===void 0){var M=zP(b);return ae(ae(ae({},M),{},{updateId:0},j(ae(ae({props:b},M),{},{updateId:0}),w)),{},{prevDataKey:y,prevData:S,prevWidth:k,prevHeight:C,prevLayout:E,prevStackOffset:D,prevMargin:I,prevChildren:P})}if(y!==w.prevDataKey||S!==w.prevData||k!==w.prevWidth||C!==w.prevHeight||E!==w.prevLayout||D!==w.prevStackOffset||!_s(I,w.prevMargin)){var z=zP(b),L={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},_=ae(ae({},$P(w,S,E)),{},{updateId:w.updateId+1}),U=ae(ae(ae({},z),L),_);return ae(ae(ae({},U),j(ae({props:b},U),w)),{},{prevDataKey:y,prevData:S,prevWidth:k,prevHeight:C,prevLayout:E,prevStackOffset:D,prevMargin:I,prevChildren:P})}if(!av(P,w.prevChildren)){var G,W,K,X,R=Mn(P,Xs),Q=R&&(G=(W=R.props)===null||W===void 0?void 0:W.startIndex)!==null&&G!==void 0?G:$,J=R&&(K=(X=R.props)===null||X===void 0?void 0:X.endIndex)!==null&&K!==void 0?K:B,te=Q!==$||J!==B,ue=!Be(S),be=ue&&!te?w.updateId:w.updateId+1;return ae(ae({updateId:be},j(ae(ae({props:b},w),{},{updateId:be,dataStartIndex:Q,dataEndIndex:J}),w)),{},{prevChildren:P,dataStartIndex:Q,dataEndIndex:J})}return null}),_e(n,"renderActiveDot",function(b,w){var y;return O.isValidElement(b)?y=O.cloneElement(b,w):Fe(b)?y=b(w):y=q.createElement(Uf,w),q.createElement(Qe,{className:"recharts-active-dot",key:w.key},y)}),n},XV=II({chartName:"BarChart",GraphicalChild:fa,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:no},{axisType:"yAxis",AxisComp:ro}],formatAxisMap:aI}),QV=II({chartName:"ComposedChart",GraphicalChild:[Vf,ai,fa,Gf],axisComponents:[{axisType:"xAxis",AxisComp:no},{axisType:"yAxis",AxisComp:ro},{axisType:"zAxis",AxisComp:Kf}],formatAxisMap:aI});const cd=({label:e,value:t,subtext:n,icon:r,variant:i="light"})=>{const o=()=>{switch(i){case"dark":return"bg-slate-900 text-white border-slate-800";case"indigo":return"bg-indigo-600 text-white border-indigo-500";case"emerald":return"bg-emerald-600 text-white border-emerald-500";case"rose":return"bg-rose-600 text-white border-rose-500";default:return"bg-white text-slate-900 border-slate-100 hover:border-indigo-200"}},c=()=>{switch(i){case"dark":return"bg-white/10 text-white";case"indigo":return"bg-white/20 text-white";case"emerald":return"bg-white/20 text-white";case"rose":return"bg-white/20 text-white";default:return"bg-slate-50 text-slate-600"}};return a.jsxs("div",{className:`p-5 rounded-[2rem] border shadow-sm flex flex-col justify-between group transition-all ${o()}`,children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("div",{className:`p-2.5 rounded-xl transition-colors ${c()}`,children:a.jsx(r,{size:18})}),n&&a.jsx("span",{className:`text-[8px] font-black uppercase tracking-widest px-2 py-0.5 rounded-full ${i==="light"?"bg-indigo-50 text-indigo-400":"bg-white/10 text-white"}`,children:n})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("p",{className:`text-[8px] font-black uppercase tracking-widest mb-1 ${i==="light"?"text-slate-400":"text-white/60"}`,children:e}),a.jsx("h3",{className:"text-2xl font-black tracking-tighter leading-tight",children:t})]})]})},ZV=({data:e})=>{const{payments:t,clients:n,vehicles:r,invoices:i,agents:o,simTopups:c}=e,u=O.useMemo(()=>{const v=[],j=new Date;for(let b=5;b>=0;b--){const w=new Date(j.getFullYear(),j.getMonth()-b,1),y=w.toLocaleString("en-US",{month:"short"}),S=t.filter(P=>{const k=new Date(P.Date);return k.getMonth()===w.getMonth()&&k.getFullYear()===w.getFullYear()});v.push({name:y,revenue:S.reduce((P,k)=>P+Number(k.Amount),0),txCount:S.length})}return v},[t]),f=O.useMemo(()=>{const v=new Date,j={current:0,late1_30:0,late31_60:0,late61Plus:0};return i.forEach(b=>{if(b.Status===wt.Paid||b.DocType!==st.Invoice)return;const w=new Date(b.DueDate),y=Math.ceil((v.getTime()-w.getTime())/(1e3*60*60*24));y<=0?j.current+=Number(b.BalanceDue):y<=30?j.late1_30+=Number(b.BalanceDue):y<=60?j.late31_60+=Number(b.BalanceDue):j.late61Plus+=Number(b.BalanceDue)}),[{category:"Current",value:j.current,fill:"#10b981"},{category:"1-30 Days",value:j.late1_30,fill:"#f59e0b"},{category:"31-60 Days",value:j.late31_60,fill:"#f97316"},{category:"61+ Days",value:j.late61Plus,fill:"#ef4444"}]},[i]);O.useMemo(()=>{const v=new Date,j=new Date;j.setDate(v.getDate()+30);let b=0,w=0,y=0;return r.forEach(S=>{const P=c.filter(C=>String(C.VehicleID).toLowerCase()===String(S.VehicleID).toLowerCase()).sort((C,E)=>new Date(E.ExpiryDate).getTime()-new Date(C.ExpiryDate).getTime()),k=P.length>0?new Date(P[0].ExpiryDate):null;!k||k<v?w++:k<j?y++:b++}),[{name:"Operational",value:b,color:"#10b981"},{name:"Renewal Due",value:y,color:"#f59e0b"},{name:"Offline/Expired",value:w,color:"#ef4444"}]},[r,c]);const d=u.reduce((v,j)=>v+j.revenue,0),h=f.reduce((v,j)=>j.category!=="Current"?v+j.value:v,0),m=r.length>0?d/6/r.length:0,x=d/(d+h)*100;return a.jsxs("div",{className:"h-full flex flex-col space-y-4 animate-in fade-in duration-1000 overflow-y-auto no-scrollbar pb-20",children:[a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 shrink-0",children:[a.jsx(cd,{variant:"dark",icon:lo,label:"Total Sales Pool",value:`K${De(d)}`,subtext:"6-Month Trend"}),a.jsx(cd,{variant:"light",icon:$l,label:"Unit Yield (ARPU)",value:`K${De(m)}`,subtext:"SaaS Metric"}),a.jsx(cd,{variant:"light",icon:i_,label:"Collection Efficiency",value:`${x.toFixed(1)}%`,subtext:"Liquidity"}),a.jsx(cd,{variant:"light",icon:SE,label:"Total Receivables",value:`K${De(h)}`,subtext:"Exposure"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] border border-slate-100 shadow-sm flex flex-col h-[400px]",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("h4",{className:"text-xs font-black text-slate-900 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Ln,{size:16,className:"text-indigo-500"})," Revenue Flow Cycle"]})}),a.jsx("div",{className:"flex-1 w-full",children:a.jsx(Ik,{width:"100%",height:"100%",children:a.jsxs(QV,{data:u,children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"revGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"#6366f1",stopOpacity:.1}),a.jsx("stop",{offset:"95%",stopColor:"#6366f1",stopOpacity:0})]})}),a.jsx(ay,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),a.jsx(no,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:9,fontWeight:900,fill:"#94a3b8"},dy:10}),a.jsx(ro,{axisLine:!1,tickLine:!1,tick:{fontSize:9,fontWeight:900,fill:"#94a3b8"}}),a.jsx(pr,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)",padding:"12px"},labelStyle:{fontWeight:900,fontSize:"10px",textTransform:"uppercase",color:"#64748b"}}),a.jsx(ai,{type:"monotone",dataKey:"revenue",fill:"url(#revGrad)",stroke:"#6366f1",strokeWidth:4}),a.jsx(fa,{dataKey:"txCount",fill:"#10b981",radius:[4,4,0,0],barSize:20})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] border border-slate-100 shadow-sm flex flex-col h-[400px]",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("h4",{className:"text-xs font-black text-slate-900 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Wt,{size:16,className:"text-rose-500"})," Accounts Receivable Aging"]})}),a.jsx("div",{className:"flex-1 w-full",children:a.jsx(Ik,{width:"100%",height:"100%",children:a.jsxs(XV,{data:f,layout:"vertical",margin:{left:20},children:[a.jsx(ay,{strokeDasharray:"3 3",horizontal:!1,stroke:"#f1f5f9"}),a.jsx(no,{type:"number",hide:!0}),a.jsx(ro,{dataKey:"category",type:"category",axisLine:!1,tickLine:!1,tick:{fontSize:9,fontWeight:900,fill:"#64748b"}}),a.jsx(pr,{formatter:v=>[`K${De(v)}`,"Total Balance"],contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"}}),a.jsx(fa,{dataKey:"value",radius:[0,8,8,0],barSize:32})]})})})]})]})]})},qg=[],jl=(e,t,n,r,i)=>{qg.unshift({time:new Date().toLocaleTimeString(),sheet:e,action:t,status:n,details:r,payload:i}),qg.length>30&&qg.pop()},H=(e,t)=>{if(!e||typeof e!="object")return"";const n=Object.keys(e);for(const r of t){const i=e[r];if(i!=null&&i!=="")return String(i).trim();const o=r.toLowerCase().replace(/\s+/g,""),c=n.find(u=>u.toLowerCase().replace(/\s+/g,"")===o);if(c){const u=e[c];if(u!=null&&u!=="")return String(u).trim()}}return""},tn=e=>{if(!Array.isArray(e)||e.length<1)return[];const t=e[0].map(n=>String(n||"").trim());return e.length<2?[]:e.slice(1).map(n=>{const r={};return Array.isArray(n)&&t.forEach((i,o)=>{i&&(r[i]=n[o]!==void 0?n[o]:"")}),r})},at=e=>{if(e==null||e==="")return 0;if(typeof e=="number")return e;const t=String(e).replace(/[^0-9.-]+/g,""),n=Number(t);return isNaN(n)?0:n},fr=e=>{if(e==null)return!1;const t=String(e).toUpperCase().trim();return t==="TRUE"||t==="YES"||e===!0||e===1||t==="ACTIVE"||t==="ENABLED"},TI=e=>{if(!e)return"";const t=e.trim();return t.startsWith("https://script.google.com")?t:""},JV=e=>{const t=tn(e.Clients||[]).map(y=>({ClientID:H(y,["ClientID","ID"]),ClientAccountID:H(y,["ClientAccountID","AccountID"]),CompanyName:H(y,["Company","CompanyName","Client Name"]),PrimaryContactName:H(y,["PrimaryContactName","Contact Name"]),Phone:H(y,["Phone"]),AltPhone:H(y,["Alternative Phone","AltPhone","Secondary Phone"]),Email:H(y,["Email"]),BillingAddress:H(y,["Address","BillingAddress","Full Address"]),Gender:H(y,["Gender"])||"N/A",NRC:H(y,["NRC Number","NRC","ID Number"]),ClientType:H(y,["ClientType","Type"])||"Corporate",OnboardingDate:H(y,["OnboardingDate","Date"]),AssignedAgentID:H(y,["AssignedAgentID","AgentID"]),AgentCommissionRate:at(H(y,["AgentCommissionRate","CommRate"])),Status:H(y,["Status"])||"Active",PortalEnabled:fr(H(y,["PortalEnabled"])),ForcePasswordChange:fr(H(y,["ForcePasswordChange"])),ShowWalkthrough:fr(H(y,["ShowWalkthrough"]))})),n=tn(e.Vehicles||[]).map(y=>({VehicleID:H(y,["VehicleID","ID"]),ClientID:H(y,["ClientID"]),ClientName:H(y,["ClientName","Client"]),NumberPlate:H(y,["Plate","NumberPlate"]),Make:H(y,["Make"]),Model:H(y,["Model"]),Year:H(y,["Year"]),DeviceSerial:H(y,["DeviceSerial","IMEI"]),SimNumber:H(y,["SimNumber"]),NetworkProvider:H(y,["Network","NetworkProvider"]),ServiceType:H(y,["Service","ServiceType"]),InstallationDate:H(y,["InstallDate"]),Status:H(y,["Status"])||"Active",Photo:H(y,["Photo"])})),r=tn(e.ActivityLogs||[]).map(y=>({ID:H(y,["ID","LogID"]),ClientID:H(y,["ClientID"]),AgentID:H(y,["AgentID"]),AgentName:H(y,["AgentName"]),Date:H(y,["Date"]),Category:H(y,["Category"]),Note:H(y,["Note","Comment"]),FollowUpDate:H(y,["FollowUpDate","ReminderDate"]),Status:H(y,["Status"])||"Closed"})),i=tn(e.Messages||[]).map(y=>({ID:H(y,["ID"]),SenderID:H(y,["SenderID"]),SenderName:H(y,["SenderName"]),ReceiverID:H(y,["ReceiverID"]),Message:H(y,["Message"]),Timestamp:H(y,["Timestamp","Time"]),Status:H(y,["Status"])||"Sent"})),o=tn(e.Maintenance||[]).map(y=>({ID:H(y,["ID","MaintenanceID"]),ClientID:H(y,["ClientID"]),ClientName:H(y,["ClientName"]),AssetIDs:String(H(y,["AssetIDs","Assets"])||"").split(",").map(S=>S.trim()).filter(Boolean),Description:H(y,["Description","WorkDone"]),TechnicianID:H(y,["TechnicianID","AgentID"]),Date:H(y,["Date","ServiceDate"]),Status:H(y,["Status"])||$n.Scheduled,Cost:at(H(y,["Cost"])),Notes:H(y,["Notes"])})),c=tn(e.SimTopups||[]).map(y=>({ID:H(y,["ID","TopupID"]),VehicleID:H(y,["VehicleID"]),Plate:H(y,["Plate","NumberPlate"]),SimNumber:H(y,["SimNumber"]),Network:H(y,["Network","Provider"]),Amount:at(H(y,["Amount"])),Date:H(y,["Date","TopupDate"]),ExpiryDate:H(y,["ExpiryDate","DueDate"]),AgentID:H(y,["AgentID"]),Reference:H(y,["Reference","Ref"]),Email:H(y,["Email"])})),u=tn(e.Contracts||[]).map(y=>{const S=H(y,["AssetIDs","Vehicles","Assets","Asset IDs"]),P=S?String(S).split(",").map(k=>k.trim()).filter(k=>k&&k!=="0"):[];return{ContractID:H(y,["ContractID","ID"]),ClientID:H(y,["ClientID"]),ClientName:H(y,["Name","ClientName","Client"]),PlanType:H(y,["Plan","PlanType","Plan Tier"]),ServiceType:H(y,["ServiceType","Service"]),NoOfUnits:at(H(y,["Units","Units Count","Count"])),UnitPrice:at(H(y,["Price","Unit Price"])),AdditionalCost:at(H(y,["Extra","Maint Fee"])),Discount:at(H(y,["Discount"])),SubTotal:at(H(y,["SubTotal"])),TotalAmount:at(H(y,["Total","Total Amount"])),StartDate:H(y,["Start","Date","Start Date"]),DurationMonths:at(H(y,["Duration","Term"])),ExpiryDate:H(y,["Expiry","Expiry Date"]),BillingCycle:H(y,["Cycle","Billing Cycle"])||"Monthly",PaymentMethod:H(y,["PaymentMethod","Method"]),PaymentDueDate:H(y,["PaymentDueDate","DueDate"]),ContractStatus:H(y,["ContractStatus","Status","Contract Status"])||"Active",AssignedAgentID:H(y,["AgentID","AssignedAgentID","ID"]),AssetIDs:P,ProviderSignName:H(y,["ProviderSignName"]),ProviderSignDate:H(y,["ProviderSignDate"]),ProviderSign:H(y,["ProviderSign"]),ProviderSignImage:H(y,["ProviderSignImage"]),ClientSignName:H(y,["ClientSignName"]),ClientSignDate:H(y,["ClientSignDate"]),ClientSign:H(y,["ClientSign"]),ClientSignImage:H(y,["ClientSignImage"])}}),f=tn(e.Referrals||[]).map(y=>({ID:H(y,["ID","ReferralID"]),ReferrerID:H(y,["ReferrerID","ClientID"]),ReferrerName:H(y,["ReferrerName"]),FriendName:H(y,["FriendName","LeadName"]),FriendCompany:H(y,["FriendCompany","Company"]),FriendPhone:H(y,["FriendPhone","Phone"]),Date:H(y,["Date"]),Status:H(y,["Status"])||"Pending"})),d=tn(e.Invoices||[]).map(y=>({InvoiceID:H(y,["InvoiceID","ID","Number"]),InvoiceDate:H(y,["InvoiceDate","Date","Issued"]),DueDate:H(y,["DueDate","Due","Expiry"]),ClientID:H(y,["ClientID","Client"]),ClientName:H(y,["ClientName","Name"]),ContractID:H(y,["ContractID","Contract"]),Description:H(y,["Description","Service","Notes"]),PeriodMonths:at(H(y,["PeriodMonths","Months","Period"])),UnitPrice:at(H(y,["UnitPrice","Rate","Price"])),NoOfUnits:at(H(y,["NoOfUnits","Units","Qty"])),TotalAmount:at(H(y,["TotalAmount","Total","Sum"])),AmountPaid:at(H(y,["AmountPaid","Paid"])),BalanceDue:at(H(y,["BalanceDue","Balance","Due"])),Status:H(y,["Status"])||"Pending",DocType:H(y,["DocType","Type"])||st.Invoice,Notes:H(y,["Notes"])})),h=tn(e.Payments||[]).map(y=>({PaymentID:H(y,["PaymentID","ID"]),Date:H(y,["Date","PaymentDate"]),InvoiceID:H(y,["InvoiceID","Invoice"]),ClientID:H(y,["ClientID","Client"]),ClientName:H(y,["ClientName","Name"]),ContractID:H(y,["ContractID","Contract"]),Amount:at(H(y,["Amount","Value"])),Method:H(y,["Method"])||"Bank Transfer",MonthsCovered:at(H(y,["MonthsCovered","Months","Cycle"])),AgentID:H(y,["AgentID","Agent"]),Status:H(y,["Status"])||"Completed",Reference:H(y,["Reference","Ref","TransactionID"]),Remarks:H(y,["Remarks","Description","Notes"]),NoOfUnits:at(H(y,["NoOfUnits","Units","Qty"])),UnitPrice:at(H(y,["UnitPrice","Rate","Price"]))})),m=tn(e.Notifications||[]).map(y=>({ID:H(y,["ID","NotificationID"]),Time:H(y,["Time","Timestamp","Date"]),Type:H(y,["Type","Category"]),Priority:H(y,["Priority"])||"Normal",ClientID:H(y,["ClientID"]),ClientName:H(y,["ClientName"]),ContractID:H(y,["ContractID"]),Message:H(y,["Message","Alert","Content"]),DueDate:H(y,["DueDate","ExpiryDate"]),Status:H(y,["Status"])||"Unread",AssignedTo:H(y,["AssignedTo","AgentID"]),Sent:fr(H(y,["Sent","IsSent"])),ActionTaken:H(y,["ActionTaken"]),ActionTime:H(y,["ActionTime"]),Notes:H(y,["Notes"]),Email:H(y,["Email"])})),x=tn(e.Tickets||[]).map(y=>({TicketID:H(y,["TicketID","ID"]),ClientID:H(y,["ClientID"]),Email:H(y,["Email"]),Subject:H(y,["Subject"]),Description:H(y,["Description"]),Resolution:H(y,["Resolution","Response"]),AssignedAgentID:H(y,["AgentID","AssignedAgentID"]),Status:H(y,["Status"])||"Open",Priority:H(y,["Priority"])||"Normal",CreatedAt:H(y,["CreatedAt","Date"]),UpdatedAt:H(y,["UpdatedAt","LastUpdated","Updated"])})),v=tn(e.Logins||[]).map(y=>({Email:H(y,["Email","User","email","user"]),Password:H(y,["Password","Pass","password","pass"]),AgentID:H(y,["AgentID","ID","agentid","id"]),Role:H(y,["Role","role","Type","type"]),LastLogin:H(y,["LastLogin","lastlogin"]),TypingTo:H(y,["TypingTo","typingto"]),Status:H(y,["Status","status"])||"Active",LoginAttempts:at(H(y,["LoginAttempts","attempts"]))})),j=tn(e.SystemSettings||e.Settings||[]).map(y=>({ID:H(y,["ID","SettingID"]),CompanyName:H(y,["CompanyName","Company"]),Address:H(y,["Address"]),Phone:H(y,["Phone"]),Email:H(y,["Email"]),Website:H(y,["Website"]),Logo:H(y,["Logo"]),DisbursementDay:at(H(y,["DisbursementDay","PayDay"]))||5,DefaultCommissionRate:at(H(y,["DefaultCommissionRate","BaseComm"])),DefaultBonusRate:at(H(y,["DefaultBonusRate","BaseBonus"])),IncentivesActive:fr(H(y,["IncentivesActive","RewardsActive"])),EmailInvoicesEnabled:fr(H(y,["EmailInvoicesEnabled"])),EmailPaymentsEnabled:fr(H(y,["EmailPaymentsEnabled"])),EmailContractsEnabled:fr(H(y,["EmailContractsEnabled"])),EmailTicketNewEnabled:fr(H(y,["EmailTicketNewEnabled"])),EmailTicketUpdateEnabled:fr(H(y,["EmailTicketUpdateEnabled"])),EmailTicketResolvedEnabled:fr(H(y,["EmailTicketResolvedEnabled"])),MobileAppLink:H(y,["MobileAppLink","AppLink"]),PortalUrl:H(y,["PortalUrl","Portal"])}))[0]||null,b=tn(e.Agents||[]).map(y=>({AgentID:H(y,["ID","AgentID","id","agentid"]),AgentName:H(y,["Name","AgentName","name","agentname"]),Phone:H(y,["Phone","phone"]),Email:H(y,["Email","email"]),Role:H(y,["Role","role"])||"Agent",Department:H(y,["Department","Dept","dept"]),BaseSalary:at(H(y,["Salary","salary"])),CommissionRate:at(H(y,["CommRate","commrate"])),Status:H(y,["Status"])||"Active",Privileges:H(y,["Privileges","previleges","permissions"]),BankName:H(y,["BankName","bank"]),AccountNumber:H(y,["AccountNumber","account"]),StartDate:H(y,["StartDate","startdate"]),EndDate:H(y,["EndDate","enddate"]),Notes:H(y,["Notes","notes","OtherInfo"]),Scope:H(y,["Scope","scope"])})),w=tn(e.ServicePlans||e.Plans||[]).map(y=>({PlanID:H(y,["PlanID","ID"]),Category:H(y,["Category"]),Type:H(y,["Type"]),Class:H(y,["Class"]),BasePrice:at(H(y,["BasePrice","Price"])),MaintenanceFee:at(H(y,["MaintenanceFee","MaintFee"])),LastUpdated:H(y,["LastUpdated","Updated"])}));return{activityLogs:r,referrals:f,clients:t,vehicles:n,maintenance:o,simTopups:c,contracts:u,invoices:d,payments:h,notifications:m,tickets:x,loginRecords:v,systemSettings:j,agents:b,servicePlans:w,messages:i}},eK=async e=>{const t=TI(e);if(!t)throw new Error("Invalid or empty Database URL configured. Please check your settings.");try{const n=await fetch(t,{method:"GET",mode:"cors",cache:"no-cache",redirect:"follow",referrerPolicy:"no-referrer"});if(!n.ok)throw new Error(`Database Error (${n.status}): ${n.statusText||"Connection refused"}`);const r=await n.json();return JV(r)}catch(n){let r=n.message||"Unknown Network Error";throw console.error("VillageVault Sync Failure:",r),jl("System","FetchData","ERROR",r),new Error(r)}},nt=async(e,t,n,r,i,o)=>{const c=TI(e);if(!c)throw new Error("Invalid or empty Database URL configured. Operation cancelled.");const u={...r};o!=null&&o.recipientEmail&&!u.Email&&(u.Email=o.recipientEmail);const f={sheet:t,action:n,idKey:i,id:r[i]};(n==="create"||n==="update")&&(f.data=u),o!=null&&o.sendEmail&&(f.triggerEmail=!0,f.emailSubject=o.emailSubject,f.emailHtml=o.emailHtml,f.emailCc=o.emailCc,f.replyTo=o.replyTo,f.senderName=o.senderName,f.senderEmail=o.senderEmail,o.pdfAttachmentHtml&&(f.pdfAttachmentHtml=o.pdfAttachmentHtml,f.pdfFileName=o.pdfFileName||"Document.pdf"));try{const d=await fetch(c,{method:"POST",body:JSON.stringify(f),headers:{"Content-Type":"text/plain;charset=utf-8"},mode:"cors",redirect:"follow",referrerPolicy:"no-referrer"});if(!d.ok)throw new Error(`Sync Server Error (${d.status}): ${d.statusText||"Operation failed"}`);const h=await d.text();let m;try{m=JSON.parse(h),jl(t,n,"SUCCESS","Row synchronized successfully",f)}catch{throw jl(t,n,"CRITICAL","Server returned invalid response format.",f),new Error("Server Response Error: Data received was not in valid JSON format.")}if(m.status==="error")throw jl(t,n,"ERROR",m.message||"Operation failed on server",f),new Error(m.message);return m}catch(d){let h=d.message||"Network Failure";throw console.error("VillageVault POST Failure:",h),jl(t,n,"FATAL",h,f),new Error(h)}},ud=({active:e,onClick:t,icon:n,label:r})=>a.jsxs("button",{onClick:t,className:`flex items-center gap-2.5 px-6 py-4 text-xs font-semibold uppercase tracking-wider transition-all border-b-2 whitespace-nowrap
      ${e?"border-indigo-600 text-indigo-600 bg-white":"border-transparent text-slate-400 hover:text-slate-600 hover:bg-slate-50/50"}`,children:[a.jsx(n,{size:14}),r]}),bi=({icon:e,title:t,subtitle:n})=>a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-indigo-50 text-indigo-600 rounded-xl",children:a.jsx(e,{size:18})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900 uppercase tracking-tight leading-none",children:t}),a.jsx("p",{className:"text-[10px] text-slate-400 font-medium uppercase tracking-widest mt-1",children:n})]})]}),Yn=({label:e,icon:t,children:n})=>a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("label",{className:"text-[10px] font-semibold text-slate-500 uppercase tracking-wider flex items-center gap-1.5 ml-1",children:[t&&a.jsx(t,{size:12})," ",e]}),n]}),wi=({label:e,icon:t,value:n,onChange:r,color:i})=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100 group hover:border-indigo-200 transition-all",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${i} shadow-sm group-hover:scale-110 transition-transform`,children:a.jsx(t,{size:16})}),a.jsx("span",{className:"text-xs font-semibold text-slate-700",children:e})]}),a.jsx("button",{onClick:()=>r(!n),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n?"bg-indigo-600":"bg-slate-300"}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n?"translate-x-6":"translate-x-1"}`})})]}),tK=({onSave:e,onSync:t,lastSyncTime:n,appData:r})=>{const[i,o]=O.useState("profile"),[c,u]=O.useState(Rn),[f,d]=O.useState(!1),h=O.useRef(null),[m,x]=O.useState({ID:"1",CompanyName:"",Address:"",Phone:"",Email:"",Website:"",Logo:"",DisbursementDay:5,DefaultCommissionRate:10,DefaultBonusRate:500,IncentivesActive:!0,EmailInvoicesEnabled:!0,EmailPaymentsEnabled:!0,EmailContractsEnabled:!0,EmailTicketNewEnabled:!0,EmailTicketUpdateEnabled:!0,EmailTicketResolvedEnabled:!0,PortalUrl:"",MobileAppLink:""});O.useEffect(()=>{const S=localStorage.getItem("omni_script_url");u(S||Rn),r!=null&&r.systemSettings&&x({...r.systemSettings})},[r]);const v=(S,P)=>{x(k=>({...k,[S]:P}))},j=S=>{var k;const P=(k=S.target.files)==null?void 0:k[0];if(P){const C=new FileReader;C.onloadend=()=>{v("Logo",C.result)},C.readAsDataURL(P)}},b=async()=>{d(!0);try{const S=(c||localStorage.getItem("omni_script_url")||Rn).trim();await nt(S,"SystemSettings","update",m,"ID"),localStorage.setItem("omni_script_url",S),e(),alert("Settings updated successfully.")}catch(S){console.error(S),alert(`Update failed: ${S.message}`)}finally{d(!1)}},w=()=>{confirm("Reset to default database connection?")&&(u(Rn),localStorage.setItem("omni_script_url",Rn),e())},y=n&&!isNaN(n.getTime())?n.toLocaleTimeString():"Not Synced";return a.jsxs("div",{className:"flex flex-col h-full overflow-hidden animate-in fade-in duration-500",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6 shrink-0 px-2",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-slate-900 text-white rounded-2xl shadow-xl",children:a.jsx(c_,{size:24})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-slate-900 tracking-tight leading-none",children:"System Settings"}),a.jsxs("p",{className:"text-[10px] text-slate-400 font-semibold uppercase tracking-widest mt-1.5 flex items-center gap-2",children:["Configure Organization & Automation ",a.jsx("div",{className:"w-1 h-1 rounded-full bg-slate-200"}),"Last Synced: ",y]})]})]}),a.jsxs("button",{onClick:b,disabled:f,className:"w-full sm:w-auto px-8 py-3.5 bg-indigo-600 text-white rounded-2xl font-bold text-xs uppercase tracking-widest shadow-xl flex items-center justify-center gap-3 hover:bg-indigo-700 transition-all active:scale-95 disabled:opacity-50",children:[f?a.jsx(Dt,{size:16,className:"animate-spin"}):a.jsx(My,{size:16}),"Save Configuration"]})]}),a.jsxs("div",{className:"flex-1 min-h-0 bg-white rounded-[2rem] border border-slate-100 shadow-sm flex flex-col overflow-hidden",children:[a.jsxs("div",{className:"flex items-center border-b border-slate-50 bg-slate-50/30 px-6 overflow-x-auto no-scrollbar shrink-0",children:[a.jsx(ud,{active:i==="profile",onClick:()=>o("profile"),icon:Ei,label:"Company Profile"}),a.jsx(ud,{active:i==="finance",onClick:()=>o("finance"),icon:Zg,label:"Finance & Rates"}),a.jsx(ud,{active:i==="notifications",onClick:()=>o("notifications"),icon:Vj,label:"Email Notifications"}),a.jsx(ud,{active:i==="integration",onClick:()=>o("integration"),icon:ev,label:"Connectivity"})]}),a.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar p-8 bg-slate-50/10",children:a.jsxs("div",{className:"max-w-5xl mx-auto",children:[i==="profile"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 animate-in slide-in-from-bottom-2 duration-300",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsx(bi,{icon:Ei,title:"Organization Identity",subtitle:"Primary business details"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(Yn,{label:"System ID (Auto)",icon:Di,children:a.jsx("input",{type:"text",value:m.ID,readOnly:!0,className:"w-full p-3.5 bg-slate-100 border border-slate-200 rounded-xl text-xs font-mono font-bold text-slate-500 outline-none cursor-not-allowed"})}),a.jsx(Yn,{label:"Company Name",icon:Ei,children:a.jsx("input",{type:"text",value:m.CompanyName,onChange:S=>v("CompanyName",S.target.value),className:"w-full p-3.5 bg-white border border-slate-200 rounded-xl text-sm font-semibold outline-none focus:ring-2 focus:ring-indigo-100 transition-all"})})]}),a.jsx(Yn,{label:"Business Address",icon:wE,children:a.jsx("input",{type:"text",value:m.Address,onChange:S=>v("Address",S.target.value),className:"w-full p-3.5 bg-white border border-slate-200 rounded-xl text-sm font-medium outline-none focus:ring-2 focus:ring-indigo-100 transition-all"})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(Yn,{label:"Support Email",icon:Cc,children:a.jsx("input",{type:"email",value:m.Email,onChange:S=>v("Email",S.target.value),className:"w-full p-3.5 bg-white border border-slate-200 rounded-xl text-sm font-medium outline-none focus:ring-2 focus:ring-indigo-100 transition-all"})}),a.jsx(Yn,{label:"Contact Phone",icon:Iy,children:a.jsx("input",{type:"text",value:m.Phone,onChange:S=>v("Phone",S.target.value),className:"w-full p-3.5 bg-white border border-slate-200 rounded-xl text-sm font-medium outline-none focus:ring-2 focus:ring-indigo-100 transition-all"})})]}),a.jsx(Yn,{label:"Website",icon:Jg,children:a.jsx("input",{type:"text",value:m.Website,onChange:S=>v("Website",S.target.value),className:"w-full p-3.5 bg-white border border-slate-200 rounded-xl text-sm font-medium outline-none focus:ring-2 focus:ring-indigo-100 transition-all"})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(bi,{icon:Y4,title:"Company Branding",subtitle:"Logo for documents and emails"}),a.jsxs("div",{className:"p-8 bg-white rounded-3xl border border-slate-100 shadow-sm flex flex-col items-center gap-6",children:[a.jsx("div",{onClick:()=>{var S;return(S=h.current)==null?void 0:S.click()},className:"w-40 h-40 bg-slate-50 rounded-[2.5rem] border-2 border-dashed border-slate-200 flex items-center justify-center overflow-hidden shadow-inner group cursor-pointer hover:border-indigo-300 transition-all",children:m.Logo?a.jsxs("div",{className:"relative w-full h-full group",children:[a.jsx("img",{src:m.Logo,className:"w-full h-full object-contain p-4",alt:"Logo"}),a.jsxs("div",{className:"absolute inset-0 bg-indigo-600/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[a.jsx(Qg,{size:24,className:"text-white"}),a.jsx("span",{className:"text-[10px] font-bold text-white uppercase",children:"Upload New"})]})]}):a.jsxs("div",{className:"flex flex-col items-center gap-2 text-slate-300 group-hover:text-indigo-400 transition-colors",children:[a.jsx(v_,{size:40}),a.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Click to Upload"})]})}),a.jsx("input",{type:"file",ref:h,onChange:j,accept:"image/*",className:"hidden"}),a.jsxs("div",{className:"p-4 bg-indigo-50/50 rounded-2xl border border-indigo-100 flex items-start gap-3",children:[a.jsx(xd,{size:16,className:"text-indigo-500 shrink-0 mt-0.5"}),a.jsx("p",{className:"text-[11px] text-indigo-700 font-medium leading-relaxed",children:"Your logo will be automatically embedded in all generated Invoices, Quotations, and Service Agreements."})]})]})]})]}),i==="finance"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 animate-in slide-in-from-bottom-2 duration-300",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsx(bi,{icon:Zg,title:"Payment Cycles",subtitle:"Standard disbursement settings"}),a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm space-y-6",children:[a.jsx(Yn,{label:"Monthly Pay Day",icon:$r,children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("input",{type:"number",min:"1",max:"31",value:m.DisbursementDay,onChange:S=>v("DisbursementDay",Number(S.target.value)),className:"w-24 p-3.5 bg-slate-50 border border-slate-200 rounded-xl text-lg font-bold text-center text-indigo-600 outline-none"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs font-semibold text-slate-700 leading-none",children:"Accounting Day"}),a.jsx("p",{className:"text-[10px] text-slate-400 font-medium mt-1",children:"The date each month when commissions are finalized for payout."})]})]})}),a.jsx(Yn,{label:"Default Commission Rate (%)",icon:Oy,children:a.jsx("input",{type:"number",value:m.DefaultCommissionRate,onChange:S=>v("DefaultCommissionRate",Number(S.target.value)),className:"w-full p-3.5 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold text-emerald-600 outline-none focus:ring-2 focus:ring-emerald-100 transition-all"})}),a.jsx(Yn,{label:"Base Performance Bonus",icon:$l,children:a.jsx("input",{type:"number",value:m.DefaultBonusRate,onChange:S=>v("DefaultBonusRate",Number(S.target.value)),className:"w-full p-3.5 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold text-indigo-600 outline-none focus:ring-2 focus:ring-indigo-100 transition-all"})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(bi,{icon:Di,title:"Rewards Engine",subtitle:"Automated performance incentives"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(wi,{label:"Enable Performance Incentives",icon:Ln,value:m.IncentivesActive,onChange:S=>v("IncentivesActive",S),color:"bg-emerald-50 text-emerald-600"}),a.jsxs("div",{className:"p-8 bg-slate-900 rounded-[2.5rem] text-white relative overflow-hidden shadow-xl border border-slate-800",children:[a.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 rotate-12",children:a.jsx(Ln,{size:100})}),a.jsx("h4",{className:"text-[11px] font-bold uppercase tracking-widest text-indigo-400 mb-2",children:"Policy"}),a.jsx("p",{className:"text-xs text-slate-400 leading-relaxed font-medium",children:"When enabled, the system automatically calculates bonus overrides for staff members exceeding their monthly activation targets."})]})]})]})]}),i==="notifications"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 animate-in slide-in-from-bottom-2 duration-300",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsx(bi,{icon:Vj,title:"Customer Notifications",subtitle:"Automated email trigger rules"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(wi,{label:"Send New Ticket Confirmations",icon:tr,value:m.EmailTicketNewEnabled,onChange:S=>v("EmailTicketNewEnabled",S),color:"bg-indigo-50 text-indigo-600"}),a.jsx(wi,{label:"Send Ticket Update Alerts",icon:Ln,value:m.EmailTicketUpdateEnabled,onChange:S=>v("EmailTicketUpdateEnabled",S),color:"bg-amber-50 text-amber-600"}),a.jsx(wi,{label:"Send Resolution Notifications",icon:wr,value:m.EmailTicketResolvedEnabled,onChange:S=>v("EmailTicketResolvedEnabled",S),color:"bg-emerald-50 text-emerald-600"})]})]}),a.jsx("div",{className:"space-y-6 pt-12 md:pt-14",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx(wi,{label:"Dispatch Invoices via Email",icon:Cn,value:m.EmailInvoicesEnabled,onChange:S=>v("EmailInvoicesEnabled",S),color:"bg-slate-100 text-slate-600"}),a.jsx(wi,{label:"Dispatch Payment Receipts",icon:ha,value:m.EmailPaymentsEnabled,onChange:S=>v("EmailPaymentsEnabled",S),color:"bg-emerald-50 text-emerald-600"}),a.jsx(wi,{label:"Dispatch Contract Dispatches",icon:Di,value:m.EmailContractsEnabled,onChange:S=>v("EmailContractsEnabled",S),color:"bg-indigo-50 text-indigo-600"})]})})]}),i==="integration"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 animate-in slide-in-from-bottom-2 duration-300",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsx(bi,{icon:ev,title:"External Access",subtitle:"Client portal and app links"}),a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm space-y-6",children:[a.jsx(Yn,{label:"Client Portal URL",icon:Jg,children:a.jsx("input",{type:"text",value:m.PortalUrl,onChange:S=>v("PortalUrl",S.target.value),placeholder:"https://portal.company.com",className:"w-full p-3.5 bg-slate-50 border border-slate-200 rounded-xl text-sm font-medium outline-none focus:ring-2 focus:ring-indigo-100 transition-all"})}),a.jsx(Yn,{label:"Mobile App Store Link",icon:oa,children:a.jsx("input",{type:"text",value:m.MobileAppLink,onChange:S=>v("MobileAppLink",S.target.value),placeholder:"https://play.google.com/store/...",className:"w-full p-3.5 bg-slate-50 border border-slate-200 rounded-xl text-sm font-medium outline-none focus:ring-2 focus:ring-indigo-100 transition-all"})}),a.jsxs("div",{className:"p-4 bg-amber-50 rounded-2xl border border-amber-100 flex items-start gap-3",children:[a.jsx(pa,{size:16,className:"text-amber-500 shrink-0 mt-0.5"}),a.jsx("p",{className:"text-[11px] text-amber-800 font-semibold leading-relaxed",children:"Ensure these links are correct as they are included in all automated customer correspondence and signature requests."})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(bi,{icon:Kj,title:"Database Connection",subtitle:"Google Sheets Registry Settings"}),a.jsx("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm space-y-6",children:a.jsx(Yn,{label:"Google Script URL",icon:Kj,children:a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:c,onChange:S=>u(S.target.value),className:"w-full p-4 pr-12 bg-slate-50 border border-slate-200 rounded-xl outline-none font-mono text-[10px] text-slate-500 focus:ring-2 focus:ring-indigo-100 transition-all"}),a.jsx("div",{className:"absolute right-2 top-2",children:a.jsx("button",{onClick:w,className:"p-2 text-slate-300 hover:text-slate-900 transition-colors",title:"Reset to Default",children:a.jsx(l_,{size:16})})})]})})})]})]})]})})]})]})},nK=({appState:e,visibleData:t,modals:n,handlers:r,lastSync:i,setSyncing:o})=>{var u,f,d;const c=h=>{var v,j;const m=e.currentUser;if(!m)return!1;if(m.role==="Admin")return!0;const x=["clients","vehicles","sim_manager","contracts","invoices","payments","commissions","support"];if(m.role==="Partner")return h==="dashboard"?!1:!!(h==="partner_hub"||x.includes(h));if(m.role==="Agent"&&(x.includes(h)||h==="dashboard"))return!0;if(m.role==="Agent"&&h==="agents"){const b=e.agents.find(w=>String(w.AgentID)===String(m.id));if((b==null?void 0:b.ExperienceLevel)==="Lead"||(b==null?void 0:b.ExperienceLevel)==="Mentor")return!0}return m.role==="Client"?!1:((j=(v=m.permissions)==null?void 0:v[h])==null?void 0:j.view)||!1};return a.jsxs(P4,{children:[a.jsx(nn,{path:"/",element:((u=e.currentUser)==null?void 0:u.role)==="Client"?a.jsx(TM,{data:e,onSignContract:r.handleSaveContract,onReportIssue:r.handleSaveTicket}):a.jsx(tM,{data:e,onClaimPayout:r.handleClaimPayout,onApplyForPartnership:r.handleApplyForPartnership})}),a.jsx(nn,{path:"/clients",element:c("clients")?a.jsx(rM,{clients:t.clients,agents:e.agents,vehicles:t.vehicles,activityLogs:e.activityLogs,onAdd:()=>{n.client.setSelected(null),n.client.setMode("add"),n.client.setOpen(!0)},onView:h=>{n.client.setSelected(h),n.client.setMode("view"),n.client.setOpen(!0)},onEdit:h=>{n.client.setSelected(h),n.client.setMode("edit"),n.client.setOpen(!0)}}):a.jsx(Nn,{to:"/"})}),a.jsx(nn,{path:"/vehicles",element:c("vehicles")?a.jsx(aM,{vehicles:t.vehicles,agents:e.agents,clients:e.clients,onAdd:()=>{n.vehicle.setSelected(null),n.vehicle.setMode("add"),n.vehicle.setOpen(!0)},onView:h=>{n.vehicle.setSelected(h),n.vehicle.setMode("view"),n.vehicle.setOpen(!0)},onEdit:h=>{n.vehicle.setSelected(h),n.vehicle.setMode("edit"),n.vehicle.setOpen(!0)}}):a.jsx(Nn,{to:"/"})}),a.jsx(nn,{path:"/sim-maintenance",element:c("sim_manager")?a.jsx(sM,{vehicles:t.vehicles,simTopups:e.simTopups,clients:e.clients,currentUser:e.currentUser,onTopUp:r.handleBulkSimTopUpAction}):a.jsx(Nn,{to:"/"})}),a.jsx(nn,{path:"/maintenance",element:c("sim_manager")?a.jsx(oM,{logs:e.maintenance,onAdd:()=>{n.maintenance.setSelected(null),n.maintenance.setMode("add"),n.maintenance.setOpen(!0)},onView:h=>{n.maintenance.setSelected(h),n.maintenance.setMode("view"),n.maintenance.setOpen(!0)}}):a.jsx(Nn,{to:"/"})}),a.jsx(nn,{path:"/contracts",element:c("contracts")?a.jsx(cM,{contracts:t.contracts,onAdd:()=>{n.contract.setSelected(null),n.contract.setMode("add"),n.contract.setOpen(!0)},onView:h=>{n.contract.setSelected(h),n.contract.setMode("view"),n.contract.setOpen(!0)},onEdit:h=>{n.contract.setSelected(h),n.contract.setMode("edit"),n.contract.setOpen(!0)}}):a.jsx(Nn,{to:"/"})}),a.jsx(nn,{path:"/invoices",element:c("invoices")?a.jsx(dM,{invoices:t.invoices,onAdd:h=>{n.invoice.setType(h),n.invoice.setSelected(null),n.invoice.setMode("add"),n.invoice.setOpen(!0)},onView:h=>{n.invoice.setSelected(h),n.invoice.setMode("view"),n.invoice.setOpen(!0)},onEdit:h=>{n.invoice.setSelected(h),n.invoice.setMode("edit"),n.invoice.setOpen(!0)},onDelete:async h=>{o(!0),await nt(localStorage.getItem("omni_script_url")||Rn,"Invoices","delete",{InvoiceID:h},"InvoiceID"),await r.loadData(!1),o(!1)}}):a.jsx(Nn,{to:"/"})}),a.jsx(nn,{path:"/payments",element:c("payments")?a.jsx(pM,{payments:t.payments,onAdd:()=>{n.payment.setSelected(null),n.payment.setMode("add"),n.payment.setOpen(!0)},onView:h=>{n.payment.setSelected(h),n.payment.setMode("view"),n.payment.setOpen(!0)},onEdit:h=>{n.payment.setSelected(h),n.payment.setMode("edit"),n.payment.setOpen(!0)},onDelete:async h=>{o(!0),await nt(localStorage.getItem("omni_script_url")||Rn,"Payments","delete",{PaymentID:h},"PaymentID"),await r.loadData(!1),o(!1)}}):a.jsx(Nn,{to:"/"})}),a.jsx(nn,{path:"/commissions",element:c("commissions")?a.jsx(hM,{agents:t.agents.length>0?t.agents:e.agents,clients:e.clients,contracts:e.contracts,payments:e.payments,vehicles:e.vehicles,systemSettings:e.systemSettings,currentUser:e.currentUser,notifications:e.notifications}):a.jsx(Nn,{to:"/"})}),a.jsx(nn,{path:"/support",element:c("support")?a.jsx(_M,{tickets:t.tickets,clients:e.clients,agents:e.agents,onUpdateTicket:r.handleSaveTicket,currentUser:e.currentUser}):a.jsx(Nn,{to:"/"})}),a.jsx(nn,{path:"/partner-hub",element:((f=e.currentUser)==null?void 0:f.role)==="Partner"?a.jsx(bM,{data:e,onUpdatePartner:r.handleSaveAgent}):a.jsx(Nn,{to:"/"})}),a.jsx(nn,{path:"/agents",element:c("agents")?a.jsx(wM,{agents:t.agents.length>0?t.agents:e.agents,onAdd:()=>{n.agent.setSelected(null),n.agent.setMode("add"),n.agent.setOpen(!0)},onView:h=>{n.agent.setSelected(h),n.agent.setMode("view"),n.agent.setOpen(!0)},onEdit:h=>{n.agent.setSelected(h),n.agent.setMode("edit"),n.agent.setOpen(!0)}}):a.jsx(Nn,{to:"/"})}),a.jsx(nn,{path:"/reports",element:c("dashboard")?a.jsx(ZV,{data:e}):a.jsx(Nn,{to:"/"})}),a.jsx(nn,{path:"/settings",element:((d=e.currentUser)==null?void 0:d.role)==="Admin"?a.jsx(tK,{onSave:()=>r.loadData(!1),onSync:()=>r.loadData(!1),lastSyncTime:i,appData:e}):a.jsx(Nn,{to:"/"})}),a.jsx(nn,{path:"*",element:a.jsx(Nn,{to:"/",replace:!0})})]})},rK=({user:e,profile:t,onComplete:n,onFinalize:r})=>{const[i,o]=O.useState(!1),[c,u]=O.useState(!1),[f,d]=O.useState(null),[h,m]=O.useState(""),[x,v]=O.useState(""),j=e.role.toLowerCase()==="client",b=j?"bg-indigo-600":"bg-slate-900",w=j?"text-indigo-600":"text-slate-900",y=async()=>{if(d(null),h.length<6){d("Required: Minimum 6 characters.");return}if(h!==x){d("Error: Passwords do not match.");return}o(!0);try{await n(h),u(!0)}catch(S){d(S.message||"Synchronization error.")}finally{o(!1)}};return a.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-50 flex items-center justify-center p-3 sm:p-4 overflow-hidden select-none font-sans",children:a.jsx("div",{className:"w-full max-w-md bg-white rounded-[2rem] shadow-2xl overflow-hidden flex flex-col animate-in fade-in zoom-in-95 duration-500 border border-slate-100",children:a.jsx("div",{className:"p-6 md:p-8 flex-1 flex flex-col",children:c?a.jsxs("div",{className:"space-y-6 animate-in zoom-in duration-500 text-center py-6",children:[a.jsx("div",{className:"mx-auto w-16 h-16 bg-emerald-50 rounded-full flex items-center justify-center text-emerald-500 border border-emerald-100 shadow-inner",children:a.jsx(wr,{size:36,strokeWidth:2.5})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("h2",{className:"text-xl font-black text-slate-900 uppercase tracking-tight",children:"Access Secured"}),a.jsxs("p",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest leading-relaxed",children:["Credentials updated successfully.",a.jsx("br",{}),"Return to the login screen to sign in."]})]}),a.jsxs("button",{onClick:r,className:`w-full py-4 ${b} text-white rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] shadow-2xl hover:opacity-95 transition-all active:scale-95 flex items-center justify-center gap-3`,children:["Return to Login ",a.jsx(e_,{size:14})]})]}):a.jsxs("div",{className:"space-y-5 animate-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex flex-col items-center text-center",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-white mb-4 shadow-lg ${b}`,children:a.jsx(Ey,{size:22})}),a.jsx("h1",{className:"text-xl font-black text-slate-900 uppercase tracking-tight",children:"Security Activation"}),a.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-[0.2em] mt-1",children:["Hello, ",e.name]})]}),a.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100 flex items-center gap-3",children:[a.jsx(mn,{className:w,size:16}),a.jsx("p",{className:"text-[10px] font-bold text-slate-500 leading-tight uppercase",children:"Please update your password to secure your account and gain access."})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"New Password"}),a.jsx("input",{type:"password",value:h,onChange:S=>m(S.target.value),disabled:i,className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-indigo-500/20 transition-all font-black text-sm tracking-widest text-slate-900",placeholder:""})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Verify Password"}),a.jsx("input",{type:"password",value:x,onChange:S=>v(S.target.value),disabled:i,className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-indigo-500/20 transition-all font-black text-sm tracking-widest text-slate-900",placeholder:""})]})]}),f&&a.jsxs("div",{className:"p-2 bg-rose-50 border border-rose-100 rounded-lg text-[8px] font-black text-rose-600 uppercase tracking-widest text-center flex items-center justify-center gap-2",children:[a.jsx(yf,{size:12})," ",f]}),a.jsxs("button",{onClick:y,disabled:i||!h||!x,className:`w-full py-4 ${b} text-white rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] shadow-xl hover:opacity-90 transition-all active:scale-95 disabled:opacity-50 flex items-center justify-center gap-3`,children:[i?a.jsx(Dt,{size:14,className:"animate-spin"}):a.jsx($l,{size:14}),i?"Saving Credentials...":"Activate Account"]})]})})})})},aK=({appState:e,onSendMessage:t,onMarkAsRead:n,onUpdateTyping:r,onRefresh:i})=>{var L;const[o,c]=O.useState(!1),[u,f]=O.useState(null),[d,h]=O.useState(""),[m,x]=O.useState(""),[v,j]=O.useState(!1),b=O.useRef(null),w=O.useRef(null),y=O.useRef(null),S=O.useRef(!1),P=e.currentUser;if(!P)return null;const k=_=>String(_||"").trim().toLowerCase(),C=(_="smooth")=>{b.current&&b.current.scrollIntoView({behavior:_,block:"end"})};O.useEffect(()=>(o&&(w.current=window.setInterval(()=>{document.visibilityState==="visible"&&i(!1,!0,!0)},7e3)),()=>{w.current&&clearInterval(w.current)}),[o,i]);const E=_=>{h(_.target.value),u&&(S.current||(S.current=!0,r(u)),y.current&&clearTimeout(y.current),y.current=window.setTimeout(()=>{r(null),S.current=!1},3e3))};O.useEffect(()=>{if(u&&o){const _=k(P.id),U=k(u),G=(e.messages||[]).filter(W=>k(W.SenderID)===U&&k(W.ReceiverID)===_&&W.Status==="Sent").map(W=>W.ID);G.length>0&&n(G)}},[u,o,e.messages.length,P.id]),O.useEffect(()=>{o&&u&&C("auto")},[u,o]),O.useEffect(()=>{o&&u&&C("smooth")},[(L=e.messages)==null?void 0:L.length]);const D=_=>{const U=e.messages.find(X=>X.ID===`PRESENCE-${_}`);if(!U)return{online:!1,isTyping:!1,lastSeen:"N/A"};const G=new Date(U.Timestamp),W=Date.now()-G.getTime()<300*1e3,K=W&&k(U.Message)===k(P.id);return{online:W,isTyping:K,lastSeen:Ce(U.Timestamp)}},I=O.useMemo(()=>{const _=k(P.id),U=new Map,G=X=>(e.messages||[]).filter(R=>k(R.SenderID)===k(X)&&k(R.ReceiverID)===_&&R.Status==="Sent"&&!R.ID.startsWith("PRESENCE-")).length,W=X=>{const R=(e.messages||[]).filter(te=>!te.ID.startsWith("PRESENCE-")&&(k(te.SenderID)===_&&k(te.ReceiverID)===k(X)||k(te.SenderID)===k(X)&&k(te.ReceiverID)===_));if(R.length===0)return null;const Q=R[R.length-1];return(k(Q.SenderID)===_?"You: ":"")+Q.Message},K=X=>{const R=(e.messages||[]).filter(Q=>!Q.ID.startsWith("PRESENCE-")&&(k(Q.SenderID)===_&&k(Q.ReceiverID)===k(X)||k(Q.SenderID)===k(X)&&k(Q.ReceiverID)===_));return R.length===0?0:new Date(R[R.length-1].Timestamp).getTime()};return e.agents.forEach(X=>{if(k(X.AgentID)!==_){const R=D(X.AgentID);U.set(k(X.AgentID),{id:X.AgentID,name:X.AgentName,type:X.Role,...R,unreadCount:G(X.AgentID),lastInteraction:K(X.AgentID),lastMessage:W(X.AgentID)})}}),P.role!=="Client"&&e.clients.forEach(X=>{const R=D(X.ClientID);U.set(k(X.ClientID),{id:X.ClientID,name:X.CompanyName,type:"Client Account",...R,unreadCount:G(X.ClientID),lastInteraction:K(X.ClientID),lastMessage:W(X.ClientID)})}),Array.from(U.values()).filter(X=>X.name.toLowerCase().includes(m.toLowerCase())).sort((X,R)=>R.lastInteraction-X.lastInteraction||R.unreadCount-X.unreadCount)},[e.agents,e.clients,e.messages,P,m]),$=I.find(_=>k(_.id)===k(u)),B=O.useMemo(()=>{if(!u)return[];const _=k(P.id),U=k(u);return(e.messages||[]).filter(G=>!G.ID.startsWith("PRESENCE-")&&(k(G.SenderID)===_&&k(G.ReceiverID)===U||k(G.SenderID)===U&&k(G.ReceiverID)===_))},[e.messages,u,P.id]),M=async _=>{if(_.preventDefault(),!d.trim()||!u||v)return;j(!0);const U={ID:`MSG-${Date.now()}-${Math.random().toString(36).substring(2,7)}`,SenderID:P.id,SenderName:P.name,ReceiverID:u,Message:d.trim(),Timestamp:new Date().toISOString(),Status:"Sent"},G=d;h("");try{await t(U),C()}catch{h(G)}finally{j(!1)}},z=(e.messages||[]).filter(_=>!_.ID.startsWith("PRESENCE-")&&k(_.ReceiverID)===k(P.id)&&_.Status==="Sent").length;return a.jsxs("div",{className:"fixed bottom-6 right-6 z-[100] flex flex-col items-end pointer-events-none",children:[o&&a.jsxs("div",{className:"mb-4 w-[340px] sm:w-[400px] h-[640px] max-h-[calc(100vh-140px)] bg-white rounded-[2.5rem] border border-slate-200 shadow-[0_32px_64px_-16px_rgba(15,23,42,0.3)] overflow-hidden flex flex-col animate-in fade-in slide-in-from-bottom-12 duration-500 pointer-events-auto",children:[a.jsxs("div",{className:"p-6 bg-slate-900 text-white flex items-center justify-between shrink-0 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5",children:a.jsx(Ry,{size:80})}),a.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[u?a.jsx("button",{onClick:()=>f(null),className:"p-2 bg-white/10 hover:bg-white/20 rounded-xl transition-all",children:a.jsx(xf,{size:16})}):a.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-600 flex items-center justify-center shadow-lg",children:a.jsx(Yj,{size:20,className:"fill-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-bold truncate max-w-[160px] leading-tight",children:$?$.name:"Team Comms"}),$&&a.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest mt-0.5",children:$.isTyping?a.jsx("span",{className:"text-indigo-400 animate-pulse font-black",children:"Typing..."}):$.online?"Online":`Seen ${$.lastSeen}`})]})]}),a.jsxs("div",{className:"flex items-center gap-2 relative z-[110]",children:[!u&&P.role!=="Client"&&a.jsx("button",{onClick:_=>{var U,G;_.stopPropagation(),(G=(U=e.modals)==null?void 0:U.broadcast)==null||G.setOpen(!0)},className:"p-2 bg-white/10 hover:bg-indigo-600 rounded-xl transition-all group",title:"Broadcast Message",children:a.jsx(jE,{size:18,className:"group-hover:animate-bounce"})}),a.jsx("button",{onClick:_=>{_.stopPropagation(),c(!1)},className:"p-2 hover:bg-white/10 rounded-full transition-colors pointer-events-auto",children:a.jsx(jt,{size:20})})]})]}),u?a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden bg-white",children:[a.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-5 space-y-4",children:[B.length>0?B.map((_,U)=>{const G=k(_.SenderID)===k(P.id),W=U===0||Ce(_.Timestamp)!==Ce(B[U-1].Timestamp),K=B[U+1],X=!K||k(K.SenderID)!==k(_.SenderID)||new Date(K.Timestamp).getTime()-new Date(_.Timestamp).getTime()>3e5;return a.jsxs(q.Fragment,{children:[W&&a.jsx("div",{className:"flex justify-center my-6",children:a.jsx("span",{className:"px-4 py-1.5 bg-slate-50 border border-slate-100 rounded-full text-[7px] font-black text-slate-400 uppercase tracking-[0.2em] shadow-sm",children:Ce(_.Timestamp)})}),a.jsxs("div",{className:`flex flex-col ${G?"items-end":"items-start"} ${X?"mb-2":"mb-0.5"}`,children:[a.jsx("div",{className:`max-w-[85%] px-4 py-2.5 rounded-2xl text-[13px] font-medium shadow-sm leading-tight border relative transition-all duration-300 ${G?"bg-slate-900 text-white border-slate-900 "+(X?"rounded-tr-none":""):"bg-slate-100 border-slate-100 text-slate-800 "+(X?"rounded-tl-none":"")}`,children:_.Message}),X&&a.jsxs("div",{className:"flex items-center gap-1.5 mt-1.5 px-1",children:[a.jsx("span",{className:"text-[7px] font-black text-slate-400 uppercase tracking-tighter",children:new Date(_.Timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),G&&(_.Status==="Read"?a.jsx(fE,{size:11,strokeWidth:3,className:"text-sky-400"}):a.jsx(Ny,{size:11,strokeWidth:3,className:"text-slate-300"}))]})]})]},_.ID)}):a.jsxs("div",{className:"py-24 text-center opacity-10",children:[a.jsx(Wt,{size:40,className:"mx-auto mb-4"}),a.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.4em]",children:"Start encrypted flow"})]}),($==null?void 0:$.isTyping)&&a.jsx("div",{className:"flex items-start gap-2 animate-in fade-in slide-in-from-bottom-2 duration-300",children:a.jsxs("div",{className:"px-4 py-3 bg-slate-100 rounded-2xl rounded-tl-none flex gap-1 items-center border border-slate-200",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),a.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),a.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})}),a.jsx("div",{ref:b,className:"h-4 shrink-0"})]}),a.jsx("div",{className:"p-4 bg-slate-50 border-t border-slate-100 shrink-0",children:a.jsxs("form",{onSubmit:M,className:"flex items-center gap-3",children:[a.jsx("input",{autoFocus:!0,type:"text",value:d,onChange:E,disabled:v,placeholder:"Secure message...",className:"flex-1 bg-white border border-slate-200 p-3.5 rounded-2xl text-sm font-semibold outline-none focus:ring-4 focus:ring-indigo-50/5 focus:border-indigo-600/30 transition-all placeholder:text-slate-300 shadow-sm"}),a.jsx("button",{type:"submit",disabled:!d.trim()||v,className:`w-12 h-12 rounded-2xl shadow-xl flex items-center justify-center transition-all active:scale-90 shrink-0 ${d.trim()&&!v?"bg-slate-900 text-white hover:bg-black shadow-slate-900/20":"bg-slate-200 text-slate-400 cursor-not-allowed shadow-none"}`,children:v?a.jsx(Dt,{size:18,className:"animate-spin"}):a.jsx(sa,{size:18})})]})})]}):a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden bg-slate-50/30",children:[a.jsx("div",{className:"p-4 bg-white border-b border-slate-100",children:a.jsxs("div",{className:"relative",children:[a.jsx(hn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:14}),a.jsx("input",{type:"text",placeholder:"Search team or clients...",value:m,onChange:_=>x(_.target.value),className:"w-full pl-9 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-xs outline-none focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium"})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar py-2",children:I.length>0?a.jsx("div",{className:"px-2 space-y-1",children:I.map(_=>a.jsxs("div",{onClick:()=>f(_.id),className:`px-4 py-3.5 flex items-center justify-between rounded-2xl hover:bg-white hover:shadow-sm cursor-pointer group transition-all ${_.unreadCount>0?"bg-indigo-50/50":""}`,children:[a.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[a.jsxs("div",{className:"relative shrink-0",children:[a.jsx("div",{className:"w-11 h-11 rounded-2xl bg-white border border-slate-200 flex items-center justify-center text-slate-400 group-hover:bg-indigo-50 group-hover:text-indigo-600 transition-all",children:a.jsx(At,{size:20})}),a.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 w-3 h-3 rounded-full border-2 border-white ${_.online?"bg-emerald-500 shadow-sm":"bg-slate-300"}`})]}),a.jsxs("div",{className:"flex flex-col min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`text-[11px] font-black uppercase tracking-tight truncate ${_.unreadCount>0?"text-indigo-900":"text-slate-800"}`,children:_.name}),_.unreadCount>0&&a.jsx("span",{className:"px-1.5 py-0.5 rounded-md bg-indigo-600 text-white text-[8px] font-black animate-bounce",children:_.unreadCount})]}),a.jsx("p",{className:"text-[10px] text-slate-500 truncate mt-0.5 max-w-[180px] font-medium italic",children:_.lastMessage||"No recent history"})]})]}),a.jsx(W4,{size:14,className:"text-slate-200 group-hover:text-indigo-600 transition-colors shrink-0"})]},_.id))}):a.jsxs("div",{className:"py-24 text-center opacity-20",children:[a.jsx(At,{size:40,className:"mx-auto mb-4"}),a.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.4em]",children:"No Active Sessions"})]})})]})]}),a.jsxs("button",{onClick:()=>c(!o),className:`w-16 h-16 rounded-[2rem] shadow-2xl flex items-center justify-center transition-all active:scale-90 relative pointer-events-auto overflow-hidden group ${o?"bg-rose-600 text-white hover:bg-rose-700":"bg-slate-900 text-white hover:bg-black hover:-translate-y-1"}`,children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),o?a.jsx(jt,{size:28}):a.jsx(Yj,{size:28,className:"fill-white"}),!o&&z>0&&a.jsx("span",{className:"absolute top-0.5 right-0.5 w-6 h-6 bg-indigo-500 border-2 border-slate-900 rounded-full animate-bounce flex items-center justify-center text-[10px] font-black text-white shadow-lg z-20",children:z>9?"9+":z}),!o&&z>0&&a.jsx("div",{className:"absolute inset-0 bg-indigo-500/20 animate-pulse"})]})]})},Wg="sally_chanza_db_cache",Hg="sally_chanza_last_fetch",iK=1e4,BP=(e,t,n,r)=>{const i=new Map;Array.isArray(e)&&e.forEach(c=>i.set(String(c[n]),c)),Array.isArray(t)&&t.forEach(c=>{const u=String(c[n]);i.set(u,c)});const o=Array.from(i.values());return r&&o.sort((c,u)=>{const f=new Date(c[r]||0).getTime(),d=new Date(u[r]||0).getTime();return f-d}),o},sK=()=>{var d;const[e,t]=O.useState(()=>{const h=localStorage.getItem(Wg);return h?JSON.parse(h):{clients:[],assets:[],vehicles:[],maintenance:[],simTopups:[],contracts:[],invoices:[],payments:[],commissions:[],notifications:[],tickets:[],agents:[],servicePlans:[],loginRecords:[],activityLogs:[],messages:[],systemSettings:null,currentUser:null}}),[n,r]=O.useState(!localStorage.getItem(Wg)),[i,o]=O.useState(!1),[c,u]=O.useState(()=>{const h=localStorage.getItem(Hg);return h&&h!=="null"?new Date(Number(h)):null});O.useEffect(()=>{localStorage.setItem(Wg,JSON.stringify(e))},[e]);const f=O.useCallback(async(h=!1,m=!1,x=!1)=>{const v=Date.now(),j=Number(localStorage.getItem(Hg)||0);if(!h&&!m&&v-j<iK)return;if(!navigator.onLine){r(!1),o(!1);return}h&&(!e.clients||!e.clients.length)?r(!0):x||o(!0);const b=(localStorage.getItem("omni_script_url")||Rn).trim();try{const w=await eK(b);if(w){t(S=>{const P=BP(S.messages||[],w.messages||[],"ID","Timestamp"),k=BP(S.activityLogs||[],w.activityLogs||[],"ID","Date");return{...S,...w,messages:P,activityLogs:k}});const y=new Date;u(y),localStorage.setItem(Hg,String(y.getTime()))}}catch(w){console.error("Ledger Sync Failure:",w.message)}finally{r(!1),o(!1)}},[(d=e.clients)==null?void 0:d.length]);return{appState:e,setAppState:t,loading:n,syncing:i,setSyncing:o,lastSync:c,loadData:f}},oK=5,lK=6e4,cK=1800*1e3,uK=3600*1e3,za=e=>String(e||"").trim().toLowerCase(),dK={dashboard:{view:!0,create:!0,update:!0,delete:!0},clients:{view:!0,create:!0,update:!0,delete:!0},vehicles:{view:!0,create:!0,update:!0,delete:!0},sim_manager:{view:!0,create:!0,update:!0,delete:!0},contracts:{view:!0,create:!0,update:!0,delete:!0},invoices:{view:!0,create:!0,update:!0,delete:!0},payments:{view:!0,create:!0,update:!0,delete:!0},commissions:{view:!0,create:!0,update:!0,delete:!0},support:{view:!0,create:!0,update:!0,delete:!0},agents:{view:!0,create:!0,update:!0,delete:!0},settings:{view:!0,create:!0,update:!0,delete:!0}},FP={dashboard:{view:!0,create:!1,update:!1,delete:!1},clients:{view:!0,create:!0,update:!0,delete:!1},vehicles:{view:!0,create:!0,update:!0,delete:!1},sim_manager:{view:!0,create:!0,update:!0,delete:!1},contracts:{view:!0,create:!0,update:!0,delete:!1},invoices:{view:!0,create:!0,update:!0,delete:!1},payments:{view:!0,create:!0,update:!0,delete:!1},commissions:{view:!0,create:!1,update:!1,delete:!1},support:{view:!0,create:!0,update:!0,delete:!1},agents:{view:!1,create:!1,update:!1,delete:!1},settings:{view:!1,create:!1,update:!1,delete:!1}},fK=(e,t)=>{var h;const[n,r]=O.useState(!1),[i,o]=O.useState(0),[c,u]=O.useState(null),f=()=>t(m=>({...m,currentUser:null}));return O.useEffect(()=>{if(!e.currentUser)return;let m=Date.now(),x;const v=()=>{m=Date.now()},j=()=>{Date.now()-m>cK&&(console.warn("Security: Session expired due to inactivity."),f())},b=()=>{document.visibilityState==="visible"&&Date.now()-m>uK&&(console.warn("Security: Session expired during background period."),f())},w=["mousedown","keydown","scroll","touchstart","mousemove"];return w.forEach(y=>window.addEventListener(y,v)),document.addEventListener("visibilitychange",b),x=window.setInterval(j,6e4),()=>{w.forEach(y=>window.removeEventListener(y,v)),document.removeEventListener("visibilitychange",b),clearInterval(x)}},[(h=e.currentUser)==null?void 0:h.id]),O.useEffect(()=>{c&&Date.now()>=c&&(u(null),o(0))},[c]),{authLoading:n,handleLogin:async(m,x)=>{if(c)return`Security Lock: Try again in ${Math.ceil((c-Date.now())/1e3)}s.`;r(!0);try{await new Promise(C=>setTimeout(C,800));const v=e.loginRecords.find(C=>za(C.Email)===za(m));if(!v||String(v.Password).trim()!==String(x).trim()){const C=i+1;return o(C),C>=oK&&u(Date.now()+lK),r(!1),"Invalid credentials."}if(za(v.Status)==="inactive")return r(!1),"Account restricted.";const j=e.agents.find(C=>za(C.AgentID)===za(v.AgentID)),b=e.clients.find(C=>za(C.ClientID)===za(v.AgentID)),w=za(v.Role||(j?j.Role:"agent"));let y="Agent",S={dashboard:{view:!0,create:!1,update:!1,delete:!1}},P=(j==null?void 0:j.AgentName)||(b==null?void 0:b.CompanyName)||v.Email.split("@")[0];w.includes("admin")?(y="Admin",S={...dK}):w.includes("partner")?(y="Partner",S={...FP}):w.includes("client")?(y="Client",S={dashboard:{view:!0,create:!1,update:!1,delete:!1}}):S={...FP};const k=v.LastLogin?String(v.LastLogin).trim():null;return t(C=>({...C,currentUser:{id:v.AgentID,name:P,role:y,permissions:S,lastLogin:k||void 0}})),r(!1),o(0),null}catch{return r(!1),"Terminal connection error."}},handleLogout:f,lockoutTime:c?Math.ceil((c-Date.now())/1e3):0}},Er=e=>String(e||"").trim().toLowerCase(),pK=(e,t,n)=>{var d;const[r,i]=O.useState([]),o=O.useRef(new Set),c=O.useMemo(()=>{const{currentUser:h,notifications:m}=e;if(!h)return[];const x=h.role==="Admin",v=h.role==="Client",j=Er(h.id),b=w=>{const y=`${w}_${j}`;return r.includes(y)?!0:m.some(S=>(Er(S.ID)===Er(y)||Er(S.ID)===Er(w))&&S.Status==="Read"&&Er(S.AssignedTo)===j)};return m.filter(w=>{if(w.Status==="Read")return!1;const y=Er(w.AssignedTo),S=Er(w.ClientID);return(y===j||!v&&y==="global"||x&&y==="admin"||v&&S===j)&&!b(w.ID)}).sort((w,y)=>new Date(y.Time).getTime()-new Date(w.Time).getTime())},[e.notifications,e.currentUser,r]);O.useEffect(()=>{if(!e.currentUser||Notification.permission!=="granted")return;const h=Er(e.currentUser.id);c.forEach(x=>{var v;if(!o.current.has(x.ID)&&(o.current.add(x.ID),x.Priority===la.Critical||x.Priority===la.High)){const j=new Notification("Sally Chanza - System Alert",{body:x.Message,icon:((v=e.systemSettings)==null?void 0:v.Logo)||void 0,tag:x.ID,requireInteraction:!0});j.onclick=()=>{window.focus()}}}),(e.messages||[]).filter(x=>Er(x.ReceiverID)===h&&x.Status==="Sent"&&!x.ID.startsWith("PRESENCE-")).forEach(x=>{var v;if(!o.current.has(x.ID)){o.current.add(x.ID);const j=new Notification(`Message from ${x.SenderName}`,{body:x.Message.length>70?x.Message.substring(0,70)+"...":x.Message,icon:((v=e.systemSettings)==null?void 0:v.Logo)||void 0,tag:"chat-"+x.SenderID,silent:!1});j.onclick=()=>{window.focus()}}})},[c,e.messages,(d=e.currentUser)==null?void 0:d.id]);const u=async h=>{var j;const m=localStorage.getItem("omni_script_url")||Rn,x=((j=e.currentUser)==null?void 0:j.id)||"SYSTEM",v=h.includes("_")?h:`${h}_${x}`;n(!0),i(b=>[...b,v]);try{await nt(m,"Notifications","create",{ID:v,Status:"Read",Time:new Date().toISOString(),Message:"User Dismissed",Type:"DISMISSAL",Priority:"Low",ClientID:"SYSTEM",AssignedTo:x,Sent:!0},"ID"),await t(!1)}catch(b){console.error("Dismissal Error:",b)}finally{n(!1)}};return{augmentedNotifications:c,handleDismissNotification:u,handleClearNotifications:async()=>{if(e.currentUser)for(const h of c)await u(h.ID)}}},Fb=(e,t)=>{const n=(t==null?void 0:t.CompanyName)||"Sally Chanza Business Caf",r=(t==null?void 0:t.Email)||"info@sallychanza.com";return`
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    * { box-sizing: border-box; }
    body { margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background-color: #f8fafc; color: #334155; }
    .wrapper { width: 100%; table-layout: fixed; background-color: #f8fafc; padding: 20px 0; }
    .container { width: 95%; max-width: 600px; margin: 0 auto; background-color: #ffffff; border-radius: 12px; border: 1px solid #e2e8f0; overflow: hidden; }
    .header { padding: 30px; background-color: #ffffff; text-align: center; border-bottom: 1px solid #f1f5f9; }
    .content { padding: 30px; }
    .footer { padding: 25px; text-align: center; font-size: 11px; color: #94a3b8; border-top: 1px solid #f1f5f9; background-color: #fafafa; }
    .button { display: inline-block; background-color: #0f172a; color: #ffffff !important; padding: 16px 30px; border-radius: 8px; text-decoration: none; font-weight: bold; font-size: 14px; margin-top: 10px; }
    .details-box { background-color: #f1f5f9; border-radius: 10px; padding: 20px; margin: 20px 0; }
    .feature-item { margin-bottom: 15px; }
    @media only screen and (max-width: 600px) {
       .button { width: 100%; text-align: center; padding: 16px 0; }
    }
  </style>
</head>
<body>
  <div class="wrapper">
    <div class="container">
      <div class="header">
        <div style="font-size: 18px; font-weight: 800; color: #0f172a; text-transform: uppercase;">${n}</div>
      </div>
      <div class="content">
        ${e}
      </div>
      <div class="footer">
        ${n}<br>
        Email: ${r}<br>
        &copy; ${new Date().getFullYear()} All rights reserved.
      </div>
    </div>
  </div>
</body>
</html>
`},hK=(e,t,n)=>{const r=(n==null?void 0:n.PortalUrl)||"https://sallychanza.com/portal",i=t?t.AgentName:"Operations Team",o=`
    <h2 style="margin: 0 0 16px 0; color: #0f172a; font-size: 20px;">Welcome to the Platform</h2>
    <p style="font-size: 15px; line-height: 1.6; margin-bottom: 20px;">Dear ${e.CompanyName},</p>
    <p style="font-size: 15px; line-height: 1.6; margin-bottom: 20px;">Your account is now active. We have assigned <strong>${i}</strong> as your dedicated account manager.</p>

    <div class="details-box">
      <h3 style="margin: 0 0 15px 0; font-size: 14px; color: #0f172a;">What is in your portal?</h3>
      <div class="feature-item"><strong> Fleet Registry:</strong> View and track all your registered vehicles.</div>
      <div class="feature-item"><strong> Digital Contracts:</strong> Sign and download your service agreements.</div>
      <div class="feature-item"><strong> Billing & History:</strong> View invoices and payment receipts.</div>
      <div class="feature-item"><strong> Support Desk:</strong> Report issues and get quick help.</div>
    </div>

    ${e.PortalEnabled?`
      <div style="background-color: #f8fafc; border: 1px solid #e2e8f0; border-radius: 10px; padding: 20px; margin: 20px 0;">
        <p style="margin: 0 0 8px 0; font-size: 13px;"><strong>Login Email:</strong> ${e.Email}</p>
        <p style="margin: 0; font-size: 13px;"><strong>Temporary Password:</strong> ${e.TempPassword||"Already configured"}</p>
      </div>
      <div style="text-align: center;">
        <a href="${r}" class="button">Log In to Portal</a>
      </div>
    `:""}
  `;return Fb(o,n)},mK=(e,t)=>{const n=`
    <h2 style="margin: 0 0 16px 0; color: #0f172a; font-size: 20px;">Profile Update Notice</h2>
    <p style="font-size: 15px; line-height: 1.6;">Dear ${e.CompanyName},</p>
    <p style="font-size: 15px; line-height: 1.6;">This is to notify you that your client profile details have been updated in our system by an administrator.</p>
    <p style="font-size: 15px; line-height: 1.6;">Please log in to your portal to review your information and ensure everything is correct.</p>
  `;return Fb(n,t)},xK=(e,t,n)=>{const r=`
    <h2 style="margin: 0 0 16px 0; color: #0f172a; font-size: 20px;">New Account Manager Assigned</h2>
    <p style="font-size: 15px; line-height: 1.6;">Dear ${e.CompanyName},</p>
    <p style="font-size: 15px; line-height: 1.6;">We have assigned a new Account Manager to your profile to provide you with better service.</p>
    <div class="details-box">
      <p style="margin: 0; font-size: 14px;"><strong>Manager Name:</strong> ${t.AgentName}</p>
      <p style="margin: 5px 0 0 0; font-size: 14px;"><strong>Contact Email:</strong> ${t.Email}</p>
      <p style="margin: 5px 0 0 0; font-size: 14px;"><strong>Contact Phone:</strong> ${t.Phone}</p>
    </div>
    <p style="font-size: 15px; line-height: 1.6;">Your new manager is ready to assist you with any questions.</p>
  `;return Fb(r,n)},gK=(e,t,n)=>{const r=(n==null?void 0:n.CompanyName)||"Sally Chanza Business Caf",i=(n==null?void 0:n.PortalUrl)||"https://sallychanza.com/portal";return`
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body style="margin: 0; padding: 0; background-color: #f8fafc; font-family: -apple-system, sans-serif; color: #334155;">
      <table border="0" cellpadding="0" cellspacing="0" width="100%" style="background-color: #f8fafc; padding: 20px;">
        <tr>
          <td align="center">
            <table border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width: 600px; background-color: #ffffff; border-radius: 8px; border: 1px solid #e2e8f0;">
              <tr>
                <td style="padding: 30px;">
                  <h2 style="margin: 0 0 20px 0; color: #0f172a; font-size: 18px;">Account Assignment</h2>
                  
                  <p style="font-size: 14px; line-height: 1.5; margin-bottom: 20px;">
                    Hello <strong>${t.AgentName}</strong>,<br><br>
                    The following client record has been assigned to your portfolio for management.
                  </p>

                  <div style="background-color: #f1f5f9; border-radius: 8px; padding: 20px; margin-bottom: 25px;">
                    <p style="margin: 5px 0; font-size: 13px;"><strong>Entity:</strong> ${e.CompanyName}</p>
                    <p style="margin: 5px 0; font-size: 13px;"><strong>Classification:</strong> ${e.ClientType}</p>
                    <p style="margin: 5px 0; font-size: 13px;"><strong>Contact:</strong> ${e.Phone}</p>
                    <p style="margin: 5px 0; font-size: 13px;"><strong>Email:</strong> ${e.Email}</p>
                  </div>

                  <div style="text-align: center;">
                    <a href="${i}" style="display: inline-block; background-color: #0f172a; color: #ffffff; padding: 12px 24px; border-radius: 6px; text-decoration: none; font-weight: bold; font-size: 13px;">Open Portal</a>
                  </div>

                  <p style="margin-top: 30px; font-size: 10px; color: #94a3b8; text-align: center; text-transform: uppercase; letter-spacing: 1px;">
                    System Notice &bull; ${r}
                  </p>
                </td>
              </tr>
            </table>
          </td>
        </tr>
      </table>
    </body>
    </html>
  `},vK=(e,t)=>{const n=(t==null?void 0:t.CompanyName)||"Sally Chanza Business Caf",r=(t==null?void 0:t.PortalUrl)||"https://sallychanza.com/portal";return`
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <style>
        body { margin: 0; padding: 0; width: 100% !important; background-color: #f8fafc; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; }
        .wrapper { width: 100%; table-layout: fixed; background-color: #f8fafc; padding: 20px 0; }
        .container { width: 95%; max-width: 600px; margin: 0 auto; background-color: #ffffff; border: 1px solid #e2e8f0; border-radius: 12px; overflow: hidden; }
        .header { padding: 30px; background-color: #0f172a; text-align: center; color: #ffffff; }
        .content { padding: 30px; color: #334155; line-height: 1.6; }
        .footer { padding: 20px; text-align: center; font-size: 11px; color: #94a3b8; border-top: 1px solid #f1f5f9; }
        .btn { display: inline-block; background-color: #4f46e5; color: #ffffff !important; padding: 14px 28px; border-radius: 8px; text-decoration: none; font-weight: bold; font-size: 14px; margin: 20px 0; }
        .info-box { background-color: #f1f5f9; border-radius: 10px; padding: 20px; margin: 20px 0; }
        .label { font-size: 10px; font-weight: bold; color: #64748b; text-transform: uppercase; display: block; margin-bottom: 4px; }
        .value { font-size: 14px; font-weight: 600; color: #0f172a; }
        @media only screen and (max-width: 600px) {
          .container { width: 100% !important; border-radius: 0; border-left: 0; border-right: 0; }
          .btn { display: block; text-align: center; }
        }
      </style>
    </head>
    <body>
      <div class="wrapper">
        <div class="container">
          <div class="header">
            <h2 style="margin: 0; font-size: 18px; text-transform: uppercase; letter-spacing: 1px;">Account Access Ready</h2>
          </div>
          <div class="content">
            <p>Hello ${e.AgentName},</p>
            <p>Your account on the <strong>${n}</strong> management portal has been created. You can now log in to manage your portfolio and view performance reports.</p>
            
            <div class="info-box">
              <div style="margin-bottom: 15px;">
                <span class="label">Access Link</span>
                <span class="value">${r}</span>
              </div>
              <div style="margin-bottom: 15px;">
                <span class="label">Your Email</span>
                <span class="value">${e.Email}</span>
              </div>
              <div>
                <span class="label">Temporary Password</span>
                <span class="value" style="font-family: monospace; letter-spacing: 1px;">${e.Password}</span>
              </div>
            </div>

            <p><strong>Note:</strong> You will be asked to change this temporary password during your first login for security purposes.</p>
            
            <div style="text-align: center;">
              <a href="${r}" class="btn">Log In Now</a>
            </div>
          </div>
          <div class="footer">
            &copy; ${new Date().getFullYear()} ${n}<br>
            Automated System Notification
          </div>
        </div>
      </div>
    </body>
    </html>
  `},yK=(e,t,n,r)=>async(i,o)=>{var c,u,f;try{n(!0);const d=e.clients.find(w=>pe(w.ClientID)===pe(i.ClientID)),h=!d,m=d&&pe(d.AssignedAgentID)!==pe(i.AssignedAgentID),x=o||m,v=e.agents.find(w=>pe(w.AgentID)===pe(i.AssignedAgentID)),j=Zr(e.agents,i.AssignedAgentID);let b={recipientEmail:i.Email};if(x&&i.Email&&(b.sendEmail=!0,b.senderName=((c=e.systemSettings)==null?void 0:c.CompanyName)||Wa,b.senderEmail=((u=e.systemSettings)==null?void 0:u.Email)||gr,b.emailSubject=h?`Welcome to ${((f=e.systemSettings)==null?void 0:f.CompanyName)||"Our Platform"}`:m?`Account Manager Update: ${(v==null?void 0:v.AgentName)||"New Assignment"}`:"Profile Updated",b.emailHtml=h?hK(i,v,e.systemSettings):m&&v?xK(i,v,e.systemSettings):mK(i,e.systemSettings)),await nt(r,"Clients",h?"create":"update",i,"ClientID",b),i.PortalEnabled&&i.Email){const w={Email:i.Email.trim(),Password:i.TempPassword||(d==null?void 0:d.TempPassword)||"Client123",AgentID:i.ClientID,Role:"client",Status:i.Status===ln.Active?"Active":"Inactive",LoginAttempts:0,LastLogin:new Date().toISOString()};await nt(r,"Logins",e.loginRecords.some(y=>pe(y.Email)===pe(i.Email))?"update":"create",w,"Email")}if(x&&(h||m)&&v){const w={sendEmail:!0,recipientEmail:j,emailSubject:m?`URGENT: Client Reassigned to You - ${i.CompanyName}`:`New Client Assignment: ${i.CompanyName}`,emailHtml:gK(i,v,e.systemSettings)},y={ID:`ASSIGN-${i.ClientID}-${Date.now()}`,Time:new Date().toISOString(),Type:"ASSIGNMENT",Priority:la.Normal,ClientID:i.ClientID,ClientName:i.CompanyName,ContractID:"",Message:m?`Reassignment: You have taken over management for ${i.CompanyName}.`:`New assignment: ${i.CompanyName} (${i.ClientType})`,DueDate:new Date().toISOString(),Status:"Unread",AssignedTo:i.AssignedAgentID,Sent:!0};await nt(r,"Notifications","create",y,"ID",w)}await t(!1,!0)}catch(d){throw console.error("Client Sync Error:",d),d}finally{n(!1)}},bK=(e,t)=>{const n=(t==null?void 0:t.CompanyName)||"Sally Chanza Business Caf",r=(t==null?void 0:t.Email)||"info@sallychanza.com";return`
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    * { box-sizing: border-box; }
    body { margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; background-color: #f8fafc; color: #334155; }
    .wrapper { width: 100%; table-layout: fixed; background-color: #f8fafc; padding: 20px 0; }
    .container { width: 95%; max-width: 600px; margin: 0 auto; background-color: #ffffff; border-radius: 12px; border: 1px solid #e2e8f0; overflow: hidden; }
    .header { padding: 30px; background-color: #ffffff; border-bottom: 1px solid #f1f5f9; text-align: center; }
    .content { padding: 30px; }
    .footer { padding: 25px; background-color: #f8fafc; text-align: center; font-size: 12px; color: #94a3b8; border-top: 1px solid #f1f5f9; }
    .button { display: inline-block; padding: 16px 30px; background-color: #0f172a; color: #ffffff !important; text-decoration: none; border-radius: 8px; font-weight: bold; font-size: 14px; margin-top: 10px; }
    .details-box { background-color: #f1f5f9; border-radius: 10px; padding: 20px; margin: 20px 0; }
    @media only screen and (max-width: 600px) {
      .content, .header, .footer { padding: 20px; }
      .button { width: 100%; text-align: center; padding: 16px 0; }
    }
  </style>
</head>
<body>
  <div class="wrapper">
    <div class="container">
      <div class="header">
        <div style="font-size: 18px; font-weight: 800; color: #0f172a; text-transform: uppercase; letter-spacing: -0.5px;">${n}</div>
      </div>
      <div class="content">
        ${e}
      </div>
      <div class="footer">
        ${n}<br>
        Email: ${r}<br>
        &copy; ${new Date().getFullYear()} All rights reserved.
      </div>
    </div>
  </div>
</body>
</html>
`},wK=(e,t,n)=>{const r=(n==null?void 0:n.PortalUrl)||"https://sallychanza.com/portal",i=`
    <h2 style="margin: 0 0 16px 0; color: #0f172a; font-size: 20px;">Review and Sign Your Contract</h2>
    <p style="font-size: 15px; line-height: 1.6; margin-bottom: 20px;">Dear ${t.CompanyName},</p>
    <p style="font-size: 15px; line-height: 1.6; margin-bottom: 20px;">A new service contract has been created for you. Please log in to your portal to review and sign the document.</p>
    
    <div class="details-box">
      <p style="margin: 0; font-size: 13px; color: #64748b;"><strong>Contract ID:</strong> ${e.ContractID}</p>
      <p style="margin: 5px 0 0 0; font-size: 13px; color: #64748b;"><strong>Plan Type:</strong> ${e.PlanType} (${e.NoOfUnits} Units)</p>
    </div>

    <div style="text-align: center;">
      <a href="${r}" class="button">Log In and Sign</a>
    </div>
    <p style="font-size: 13px; color: #94a3b8; text-align: center; margin-top: 20px;">Service starts as soon as the contract is signed and payment is received.</p>
  `;return bK(i,n)},jK=(e,t,n,r)=>async(i,o)=>{var c,u;try{n(!0);const f=!e.contracts.some(x=>pe(x.ContractID)===pe(i.ContractID)),d=e.clients.find(x=>pe(x.ClientID)===pe(i.ClientID)),h=Zr(e.agents,i.AssignedAgentID||(d==null?void 0:d.AssignedAgentID));let m={recipientEmail:d==null?void 0:d.Email,senderName:((c=e.systemSettings)==null?void 0:c.CompanyName)||Wa,senderEmail:((u=e.systemSettings)==null?void 0:u.Email)||gr,emailCc:`${h},${Qr}`};o&&(d!=null&&d.Email)&&(m.sendEmail=!0,m.pdfAttachmentHtml=Os(i,d,e.vehicles,e.systemSettings,e.agents),m.pdfFileName=`Agreement_${i.ContractID}.pdf`,m.emailSubject=`Service Agreement: ${i.ContractID}`,m.emailHtml=wK(i,d,e.systemSettings)),await nt(r,"Contracts",f?"create":"update",i,"ContractID",m),await t(!1,!0)}catch(f){console.error("Contract Sync Error:",f)}finally{n(!1)}},NK=e=>`
  <div style="width: 100%; overflow-x: auto; margin: 20px 0;">
    <table width="100%" cellpadding="0" cellspacing="0" style="border-collapse: collapse; min-width: 300px; font-family: sans-serif;">
      <thead>
        <tr style="background-color: #f8fafc; border-bottom: 2px solid #e2e8f0;">
          <th align="left" style="padding: 12px 8px; font-size: 9px; color: #64748b; text-transform: uppercase; letter-spacing: 1px; width: 40%;">Description of Service</th>
          <th align="right" style="padding: 12px 8px; font-size: 9px; color: #64748b; text-transform: uppercase; width: 15%;">Rate</th>
          <th align="center" style="padding: 12px 8px; font-size: 9px; color: #64748b; text-transform: uppercase; width: 10%;">Qty</th>
          <th align="center" style="padding: 12px 8px; font-size: 9px; color: #64748b; text-transform: uppercase; width: 15%;">Months</th>
          <th align="right" style="padding: 12px 8px; font-size: 9px; color: #64748b; text-transform: uppercase; width: 20%;">Total</th>
        </tr>
      </thead>
      <tbody style="color: #1e293b;">
        <tr>
          <td style="padding: 15px 8px; font-size: 11px; font-weight: bold; border-bottom: 1px solid #f1f5f9; vertical-align: top;">${e.Description||"Fleet Services"}</td>
          <td align="right" style="padding: 15px 8px; font-size: 11px; border-bottom: 1px solid #f1f5f9; vertical-align: top;">K ${De(e.UnitPrice)}</td>
          <td align="center" style="padding: 15px 8px; font-size: 11px; font-weight: bold; border-bottom: 1px solid #f1f5f9; vertical-align: top;">${e.NoOfUnits}</td>
          <td align="center" style="padding: 15px 8px; font-size: 11px; font-weight: bold; color: #4f46e5; border-bottom: 1px solid #f1f5f9; vertical-align: top;">${e.PeriodMonths||1}</td>
          <td align="right" style="padding: 15px 8px; font-size: 11px; font-weight: 800; border-bottom: 1px solid #f1f5f9; vertical-align: top;">K ${De(e.TotalAmount)}</td>
        </tr>
      </tbody>
      <tfoot>
        <tr>
          <td colspan="4" align="right" style="padding: 15px 8px 5px 8px; font-size: 10px; color: #94a3b8; text-transform: uppercase; font-weight: bold;">Grand Total</td>
          <td align="right" style="padding: 15px 8px 5px 8px; font-size: 12px; color: #0f172a; font-weight: 800;">K ${De(e.TotalAmount)}</td>
        </tr>
        <tr>
          <td colspan="4" align="right" style="padding: 5px 8px; font-size: 10px; color: #10b981; text-transform: uppercase; font-weight: bold;">Amount Paid</td>
          <td align="right" style="padding: 5px 8px; font-size: 12px; color: #10b981; font-weight: 800;">- K ${De(e.AmountPaid)}</td>
        </tr>
        <tr>
          <td colspan="4" align="right" style="padding: 10px 8px; font-size: 11px; color: #0f172a; text-transform: uppercase; font-weight: 800; border-top: 1px solid #e2e8f0;">Unsettled Balance</td>
          <td align="right" style="padding: 10px 8px; font-size: 16px; color: #4f46e5; font-weight: 900; border-top: 1px solid #e2e8f0;">K ${De(e.BalanceDue)}</td>
        </tr>
      </tfoot>
    </table>
  </div>
`,Ub=(e,t,n)=>{const r=(n==null?void 0:n.CompanyName)||"Sally Chanza Business Caf";return n!=null&&n.Email,`
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background-color: #f1f5f9; color: #1e293b; width: 100% !important; -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; }
    .wrapper { width: 100%; background-color: #f1f5f9; padding: 20px 0; }
    .container { width: 95%; max-width: 600px; margin: 0 auto; background-color: #ffffff; border-radius: 20px; border: 1px solid #e2e8f0; overflow: hidden; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05); }
    .header { padding: 30px 20px; background-color: #0f172a; text-align: center; color: #ffffff; }
    .content { padding: 30px 20px; }
    .footer { padding: 25px; text-align: center; font-size: 10px; color: #94a3b8; border-top: 1px solid #f1f5f9; background-color: #fafafa; }
    .button { display: inline-block; background-color: #4f46e5; color: #ffffff !important; padding: 16px 32px; border-radius: 12px; text-decoration: none; font-weight: bold; font-size: 14px; margin-top: 20px; text-align: center; }
    @media only screen and (max-width: 480px) {
      .content { padding: 20px 15px; }
      .button { width: 100%; box-sizing: border-box; }
    }
  </style>
</head>
<body>
  <div class="wrapper">
    <div class="container">
      <div class="header">
        <div style="font-size: 10px; font-weight: 800; text-transform: uppercase; letter-spacing: 2px; color: #6366f1; margin-bottom: 5px;">Digital Document Dispatch</div>
        <div style="font-size: 20px; font-weight: 900; text-transform: uppercase;">${r}</div>
      </div>
      <div class="content">
        <h2 style="margin: 0 0 16px 0; color: #0f172a; font-size: 18px; font-weight: 800; letter-spacing: -0.5px;">${t}</h2>
        ${e}
      </div>
      <div class="footer">
        <strong>${r}</strong><br>
        Zambia Operations  Registry Dispatch Hub<br>
        &copy; ${new Date().getFullYear()} All rights reserved.
      </div>
    </div>
  </div>
</body>
</html>
`},SK=(e,t,n)=>{const r=`
    <p style="font-size: 14px; line-height: 1.6;">Dear ${t.CompanyName},</p>
    <p style="font-size: 14px; line-height: 1.6;">A new service invoice <strong>#${e.InvoiceID}</strong> has been issued for your fleet management account. Please review the itemized breakdown below.</p>

    ${NK(e)}

    <div style="background-color: #fef2f2; border: 1px solid #fee2e2; border-radius: 12px; padding: 20px; margin-top: 20px; text-align: center;">
       <div style="font-size: 9px; color: #991b1b; font-weight: 800; text-transform: uppercase; margin-bottom: 5px;">Settlement Due By</div>
       <div style="font-size: 18px; color: #991b1b; font-weight: 900;">${Ce(e.DueDate)}</div>
       <div style="font-size: 10px; color: #ef4444; font-weight: 700; margin-top: 5px;">Cycle Coverage: ${e.PeriodMonths||1} Month(s)</div>
    </div>

    <div style="text-align: center;">
      <a href="${(n==null?void 0:n.PortalUrl)||"#"}" class="button">View & Pay Online</a>
    </div>
  `;return Ub(r,"New Invoice Notification",n)},kK=(e,t,n)=>CK(e,t,n),CK=(e,t,n)=>{const r=`
    <p style="font-size: 14px; line-height: 1.6;">Dear ${t.CompanyName},</p>
    <p style="font-size: 14px; line-height: 1.6;">We have successfully processed your payment. Your service period has been updated as follows:</p>

    <div style="background-color: #f8fafc; border-radius: 16px; padding: 20px; margin: 20px 0; border: 1px solid #e2e8f0;">
      <table width="100%">
        <tr>
          <td style="font-size: 10px; color: #94a3b8; text-transform: uppercase; font-weight: bold;">Amount Paid</td>
          <td align="right" style="font-size: 16px; color: #10b981; font-weight: 800;">K ${De(e.AmountPaid)}</td>
        </tr>
        <tr>
          <td style="padding-top: 10px; font-size: 10px; color: #94a3b8; font-weight: bold; text-transform: uppercase;">Duration Covered</td>
          <td align="right" style="padding-top: 10px; font-size: 12px; color: #0f172a; font-weight: 800;">${e.PeriodMonths||1} Month(s)</td>
        </tr>
      </table>
    </div>

    <div style="background-color: #eff6ff; border: 1px solid #dbeafe; border-radius: 12px; padding: 20px; text-align: center;">
       <div style="font-size: 9px; color: #1e40af; font-weight: 800; text-transform: uppercase; margin-bottom: 5px;">Next Payment Schedule</div>
       <div style="font-size: 18px; color: #1e3a8a; font-weight: 900;">${Ce(e.DueDate)}</div>
    </div>

    <p style="font-size: 13px; line-height: 1.6; color: #64748b; margin-top: 25px;">Thank you for choosing our fleet solutions. A PDF version of this receipt is attached for your records.</p>
  `;return Ub(r,"Payment Receipt Confirmation",n)},AK=(e,t,n,r)=>{const i=`
    <p style="font-size: 14px; line-height: 1.6;">Dear ${t.CompanyName},</p>
    <p style="font-size: 14px; line-height: 1.6;">
      ${`Our records show that invoice <strong>#${e.InvoiceID}</strong> is now past its due date. Please settle the balance immediately to avoid service restrictions.`}
    </p>
    
    <div style="background-color: #fef2f2; border: 1px solid #fee2e2; padding: 20px; border-radius: 12px; margin: 20px 0; text-align: center;">
       <div style="font-size: 9px; color: #991b1b; font-weight: 800; text-transform: uppercase;">Outstanding Amount</div>
       <div style="font-size: 22px; color: #991b1b; font-weight: 900;">K ${De(e.BalanceDue)}</div>
       <div style="font-size: 10px; font-weight: bold; margin-top: 5px;">Due Date: ${Ce(e.DueDate)}</div>
    </div>

    <p style="font-size: 13px; color: #64748b; text-align: center;">If you have already made this payment, please disregard this notice.</p>
  `;return Ub(i,"Overdue Payment Notice",r)},PK=(e,t,n,r)=>async(i,o)=>{var c,u;try{n(!0);const f=!e.invoices.some(v=>pe(v.InvoiceID)===pe(i.InvoiceID)),d=e.clients.find(v=>pe(v.ClientID)===pe(i.ClientID)),m=[Zr(e.agents,d==null?void 0:d.AssignedAgentID),Qr].filter(Boolean).join(",");let x={recipientEmail:d==null?void 0:d.Email,senderName:((c=e.systemSettings)==null?void 0:c.CompanyName)||Wa,senderEmail:((u=e.systemSettings)==null?void 0:u.Email)||gr,emailCc:m};o&&(d!=null&&d.Email)&&(x.sendEmail=!0,x.pdfAttachmentHtml=zy(i,d,e.systemSettings),x.pdfFileName=`Invoice_${i.InvoiceID}.pdf`,x.emailSubject=`Invoice: ${i.InvoiceID}`,x.emailHtml=SK(i,d,e.systemSettings)),await nt(r,"Invoices",f?"create":"update",{...i,Email:d==null?void 0:d.Email},"InvoiceID",x),await t(!1,!0)}catch(f){console.error("Invoice Sync Error:",f)}finally{n(!1)}},EK=(e,t,n,r)=>async(i,o)=>{var c,u,f;try{n(!0);const d=e.clients.find(y=>pe(y.ClientID)===pe(i.ClientID)),h=Zr(e.agents,i.AgentID||(d==null?void 0:d.AssignedAgentID));if(!i.Reference||i.Reference.trim()===""){const y=Date.now().toString().slice(-6);i.Reference=`AUTO-REF-${i.PaymentID.split("-")[1]||y}`}const m=Number(i.MonthsCovered)||1,x=new Date(i.Date),v=!isNaN(x.getTime());let j=i.NextDueDate;if(!j&&v){const y=new Date(x);y.setMonth(y.getMonth()+m),j=y.toISOString().split("T")[0]}let b=e.invoices.find(y=>pe(y.InvoiceID)===pe(i.InvoiceID));if(b){const y=Number(b.AmountPaid)+Number(i.Amount),S=Math.max(0,Number(b.TotalAmount)-y);b={...b,AmountPaid:y,BalanceDue:S,Status:S<=0?wt.Paid:wt.Partial,DueDate:j||b.DueDate},await nt(r,"Invoices","update",b,"InvoiceID")}else{const y=i.NoOfUnits||1,S=e.contracts.find(C=>pe(C.ClientID)===pe(i.ClientID)&&C.ContractStatus==="Active"),P=`Fleet Management Service (${y} Units) for ${m} Month(s) - ${i.ClientName}`,k={InvoiceID:`INV-AUTO-${i.PaymentID}`,InvoiceDate:i.Date,DueDate:j||i.Date,ClientID:i.ClientID,ClientName:i.ClientName,ContractID:i.ContractID||"ADHOC",ServiceType:(S==null?void 0:S.ServiceType)||"Unified Managed Fleet",Description:i.Remarks||P,PeriodMonths:m,UnitPrice:i.Amount/(m*y),NoOfUnits:y,TotalAmount:Number(i.Amount),AmountPaid:Number(i.Amount),BalanceDue:0,Status:wt.Paid,DocType:st.Invoice};await nt(r,"Invoices","create",k,"InvoiceID"),b=k,i.InvoiceID=k.InvoiceID}let w={recipientEmail:d==null?void 0:d.Email,emailCc:`${h},${Qr},${((c=e.systemSettings)==null?void 0:c.Email)||gr}`};o&&(d!=null&&d.Email)&&b&&(w.sendEmail=!0,w.senderName=((u=e.systemSettings)==null?void 0:u.CompanyName)||Wa,w.senderEmail=((f=e.systemSettings)==null?void 0:f.Email)||gr,w.emailSubject=`Official Receipt: ${i.Reference||i.PaymentID}`,w.emailHtml=kK(b,d,e.systemSettings),w.pdfAttachmentHtml=zy(b,d,e.systemSettings),w.pdfFileName=`Receipt_${i.PaymentID}.pdf`),await nt(r,"Notifications","create",{ID:`PAY-LOG-${i.PaymentID}`,Time:new Date().toISOString(),Type:"PAYMENT_RECEIVED",Priority:la.Normal,ClientID:i.ClientID,ClientName:i.ClientName,Message:`Payment Processed: K${i.Amount.toLocaleString()} from ${i.ClientName}. Next billing cycle due: ${j}.`,Status:"Unread",AssignedTo:"ADMIN",Sent:!0},"ID"),await nt(r,"Payments","create",{...i,NextDueDate:j,Email:(d==null?void 0:d.Email)||""},"PaymentID",w),await t(!1,!0)}catch(d){console.error("Payment Sync Error:",d)}finally{n(!1)}},DK=(e,t,n)=>{const r=(n==null?void 0:n.CompanyName)||"Sally Chanza Business Caf",i=(n==null?void 0:n.PortalUrl)||"https://sallychanza.com/portal";return`
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <style>
        body { margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background-color: #fef2f2; color: #334155; }
        .wrapper { width: 100%; table-layout: fixed; background-color: #fef2f2; padding: 20px 0; }
        .container { width: 95%; max-width: 600px; margin: 0 auto; background-color: #ffffff; border-radius: 12px; border: 1px solid #fee2e2; overflow: hidden; }
        .header { padding: 30px; background-color: #ffffff; text-align: center; border-bottom: 1px solid #f1f5f9; }
        .content { padding: 30px; }
        .footer { padding: 25px; text-align: center; font-size: 11px; color: #94a3b8; border-top: 1px solid #f1f5f9; background-color: #fafafa; }
        .button { display: inline-block; background-color: #0f172a; color: #ffffff !important; padding: 16px 30px; border-radius: 8px; text-decoration: none; font-weight: bold; font-size: 14px; margin-top: 10px; }
        .details-box { background-color: #f8fafc; border-radius: 10px; padding: 20px; margin: 20px 0; border: 1px solid #e2e8f0; }
        @media only screen and (max-width: 600px) {
           .button { width: 100%; text-align: center; padding: 16px 0; }
        }
      </style>
    </head>
    <body>
      <div class="wrapper">
        <div class="container">
          <div class="header">
             <h2 style="margin: 0; color: #ef4444; font-size: 22px;">Your Contract Has Expired</h2>
          </div>
          <div class="content">
            <p style="font-size: 15px; line-height: 1.6;">Dear ${t.CompanyName},</p>
            <p style="font-size: 15px; line-height: 1.6; color: #64748b;">This is a notice that your service contract has expired. To keep your assets protected and your service active, please renew your contract as soon as possible.</p>

            <div class="details-box">
              <p style="margin: 0; font-size: 13px; color: #64748b;"><strong>Contract:</strong> ${e.ContractID}</p>
              <p style="margin: 5px 0 0 0; font-size: 13px; color: #ef4444;"><strong>Expired On:</strong> ${Ce(e.ExpiryDate)}</p>
            </div>

            <p style="font-size: 14px; line-height: 1.6;">You can renew your contract by logging into your portal or by contacting your account manager.</p>
            
            <div style="text-align: center;">
              <a href="${i}" class="button">Renew Now</a>
            </div>
          </div>
          <div class="footer">
            ${r}<br>
            Official Expiration Notice<br>
            Contact: info@sallychanza.com
          </div>
        </div>
      </div>
    </body>
    </html>
  `},OK=(e,t,n)=>async()=>{const r=new Date,i=e.systemSettings;for(const o of e.invoices){if(o.DocType!==st.Invoice||o.Status===wt.Paid)continue;const c=new Date(o.DueDate);if(isNaN(c.getTime()))continue;const u=Math.ceil((c.getTime()-r.getTime())/(1e3*60*60*24)),f=e.clients.find(h=>pe(h.ClientID)===pe(o.ClientID)),d=Zr(e.agents,f==null?void 0:f.AssignedAgentID);if(u<0){const h=`OVERDUE-${o.InvoiceID}`;if(!e.notifications.some(m=>m.ID===h)){const m=[d,Qr].filter(Boolean).join(","),x={sendEmail:!0,recipientEmail:f==null?void 0:f.Email,emailCc:m,emailSubject:`URGENT: Invoice #${o.InvoiceID} is OVERDUE`,emailHtml:AK(o,f,!0,i)};await nt(n,"Notifications","create",{ID:h,Time:r.toISOString(),Type:"OVERDUE_ALERT",Priority:la.Critical,ClientID:o.ClientID,ClientName:o.ClientName,Message:`URGENT: Invoice #${o.InvoiceID} is OVERDUE.`,DueDate:o.DueDate,Status:"Unread",AssignedTo:"GLOBAL",Sent:!0},"ID",x)}}}for(const o of e.contracts){if(o.ContractStatus!==pn.Active)continue;const c=new Date(o.ExpiryDate);if(isNaN(c.getTime()))continue;const u=Math.ceil((c.getTime()-r.getTime())/(1e3*60*60*24)),f=e.clients.find(d=>pe(d.ClientID)===pe(o.ClientID));if(u<=0){const d=`EXP-MAIL-${o.ContractID}-${o.ExpiryDate}`;let h={};f!=null&&f.Email&&!e.notifications.some(m=>m.ID===d)&&(h={sendEmail:!0,recipientEmail:f.Email,emailCc:[Qr].filter(Boolean).join(","),emailSubject:`Service Agreement Expired: ${o.ContractID}`,emailHtml:DK(o,f,i)}),await nt(n,"Contracts","update",{...o,ContractStatus:pn.Expired},"ContractID",h),h.sendEmail&&await nt(n,"Notifications","create",{ID:d,Time:r.toISOString(),Type:"CONTRACT_EXPIRED",Priority:la.High,ClientID:o.ClientID,ClientName:o.ClientName,Message:`Expiration notice sent to ${o.ClientName}.`,DueDate:o.ExpiryDate,Status:"Read",AssignedTo:"SYSTEM",Sent:!0},"ID")}}},IK=(e,t,n)=>{const r=localStorage.getItem("omni_script_url")||Rn,i=yK(e,t,n,r),o=jK(e,t,n,r),c=PK(e,t,n,r),u=EK(e,t,n,r),f=OK(e,t,r);return{handleSaveClient:i,handleSaveContract:o,handleSaveInvoice:c,handleSavePayment:u,handleAutomationWorkflows:f}},qb=(e,t)=>{const n=(t==null?void 0:t.CompanyName)||"Sally Chanza Business Caf",r=(t==null?void 0:t.Email)||"support@sallychanza.com";return`
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { margin: 0; padding: 0; font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; background-color: #f4f7f9; color: #374151; -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; }
    table { border-collapse: collapse !important; }
    .wrapper { width: 100% !important; max-width: 100%; background-color: #f4f7f9; padding: 20px 0; }
    .container { width: 100%; max-width: 600px; margin: 0 auto; background-color: #ffffff; border: 1px solid #e5e7eb; border-radius: 8px; overflow: hidden; }
    .header { padding: 25px; background-color: #0f172a; text-align: center; }
    .header-text { color: #ffffff; font-size: 16px; font-weight: 800; text-transform: uppercase; letter-spacing: 2px; margin: 0; }
    .content { padding: 30px; line-height: 1.6; }
    .footer { padding: 20px; text-align: center; font-size: 11px; color: #9ca3af; border-top: 1px solid #f3f4f6; }
    .important-notice { background-color: #f9fafb; border-left: 4px solid #6366f1; padding: 15px; margin: 20px 0; border-radius: 4px; }
    .important-title { font-weight: 800; font-size: 11px; color: #4338ca; text-transform: uppercase; margin-bottom: 5px; display: block; }
    .data-box { background-color: #f3f4f6; border-radius: 6px; padding: 15px; margin: 15px 0; }
    .data-row { font-size: 13px; margin-bottom: 4px; }
    .data-label { font-weight: 700; color: #4b5563; }
    h2 { font-size: 18px; color: #111827; margin: 0 0 15px 0; font-weight: 800; }
    p { margin-bottom: 15px; font-size: 14px; }
    @media only screen and (max-width: 600px) {
      .content { padding: 20px; }
      .container { width: 95% !important; }
    }
  </style>
</head>
<body>
  <div class="wrapper">
    <div class="container">
      <div class="header">
        <p class="header-text">Support Division</p>
      </div>
      <div class="content">
        ${e}
        <div class="important-notice">
          <span class="important-title">Important Notice</span>
          <p style="margin: 0; font-size: 12px;">This is an official communication regarding your technical service account. Please preserve the Ticket ID for all future inquiries related to this specific request.</p>
        </div>
      </div>
      <div class="footer">
        ${n} &bull; Lusaka, Zambia<br>
        Direct Support Line: ${r}<br>
        &copy; ${new Date().getFullYear()} Automated System Dispatch.
      </div>
    </div>
  </div>
</body>
</html>
`},TK=(e,t,n)=>{const r=`
    <h2>Support Request Recorded</h2>
    <p>Dear ${t.CompanyName},</p>
    <p>This email confirms that your support request has been successfully recorded in our system. Our technical team has been notified and will review your submission shortly.</p>
    <div class="data-box">
      <div class="data-row"><span class="data-label">Ticket ID:</span> #${e.TicketID}</div>
      <div class="data-row"><span class="data-label">Subject:</span> ${e.Subject}</div>
      <div class="data-row"><span class="data-label">Status:</span> Open / Queued</div>
    </div>
    <p>You may monitor the progress of this request through your client portal.</p>
  `;return qb(r,n)},_K=(e,t,n)=>{const r=`
    <h2>Update: Support Ticket #${e.TicketID}</h2>
    <p>Dear ${t.CompanyName},</p>
    <p>The status of your support request has been updated by our technical department. Please review the details below:</p>
    <div class="data-box">
      <div class="data-row"><span class="data-label">Current Status:</span> ${e.Status}</div>
      <div class="data-row"><span class="data-label">Recent Activity:</span> ${e.Resolution||"Technical investigation in progress."}</div>
    </div>
    <p>Further updates will be dispatched as more information becomes available.</p>
  `;return qb(r,n)},MK=(e,t,n)=>{const r=(n==null?void 0:n.Email)||"support@sallychanza.com",i=`
    <h2>Resolution: Support Ticket #${e.TicketID}</h2>
    <p>Dear ${t.CompanyName},</p>
    <p>Our technical team has marked your support request as resolved. We trust the solution provided meets your requirements.</p>
    <div class="data-box">
      <div class="data-row" style="color: #059669; font-weight: 700;">Final Status: Case Resolved</div>
      <div class="data-row" style="margin-top: 10px;"><span class="data-label">Outcome Details:</span></div>
      <p style="font-size: 13px; color: #4b5563; margin-top: 5px;">${e.Resolution||"The requested action has been completed."}</p>
    </div>
    <p>If you require additional assistance with this specific issue, please do not hesitate to contact us at ${r}.</p>
  `;return qb(i,n)},UP=e=>String(e||"").trim().toLowerCase().replace(/\s+/g,""),RK=(e,t,n,r)=>{const i=(r==null?void 0:r.CompanyName)||"Sally Chanza Business Caf",o=(r==null?void 0:r.Email)||"support@sallychanza.com",c=n.length>0?n.map(u=>`
      <div style="background: #ffffff; padding: 12px; border-radius: 8px; margin-bottom: 8px; border: 1px solid #f1f5f9;">
        <span style="font-weight: 800; color: #0f172a; font-size: 14px; text-transform: uppercase;">${u.NumberPlate}</span><br>
        <span style="font-size: 11px; color: #64748b; font-weight: 500;">${u.Make} ${u.Model}</span>
      </div>
    `).join(""):'<p style="font-size: 12px; color: #94a3b8; font-style: italic;">Note: General System Maintenance</p>';return`
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <style>
        body { margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background-color: #f8fafc; color: #1e293b; -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; }
        table { border-collapse: collapse !important; table-layout: fixed; width: 100%; }
        .wrapper { width: 100%; background-color: #f8fafc; padding: 20px 0; }
        .container { width: 95%; max-width: 600px; margin: 0 auto; background: #ffffff; border-radius: 12px; overflow: hidden; border: 1px solid #e2e8f0; }
        .header { background: #0f172a; padding: 30px; text-align: center; color: #ffffff; }
        .content { padding: 30px; line-height: 1.5; word-wrap: break-word; }
        .footer { padding: 20px; background: #f8fafc; border-top: 1px solid #e2e8f0; text-align: center; font-size: 11px; color: #94a3b8; }
        .details { background: #f8fafc; border-radius: 10px; padding: 20px; margin: 20px 0; border: 1px solid #f1f5f9; }
        h1 { margin: 0; font-size: 20px; font-weight: 800; text-transform: uppercase; letter-spacing: 0.05em; }
        h2 { font-size: 16px; color: #0f172a; margin-top: 0; font-weight: 700; }
        .section-label { font-size: 10px; font-weight: 800; color: #94a3b8; text-transform: uppercase; letter-spacing: 0.1em; margin-bottom: 8px; display: block; }
        @media only screen and (max-width: 600px) {
          .content { padding: 20px !important; }
          .container { width: 95% !important; }
        }
      </style>
    </head>
    <body>
      <div class="wrapper">
        <div class="container">
          <div class="header">
            <h1>Service Accomplished</h1>
            <p style="opacity: 0.7; font-size: 12px; margin-top: 5px; font-weight: 600;">Official Maintenance Record</p>
          </div>
          <div class="content">
            <h2>Dear ${t.CompanyName},</h2>
            <p>This is to confirm that maintenance on your tracking hardware has been finished. Our technicians have verified that the following assets are fully operational.</p>
            
            <div class="details">
              <span class="section-label">Work Done</span>
              <p style="font-size: 14px; font-weight: 600; color: #334155; margin: 0;">${e.Description}</p>
              <p style="font-size: 11px; color: #64748b; margin-top: 4px;">Completed: ${Ce(e.Date)}</p>
            </div>

            <span class="section-label">Assets Serviced</span>
            <div style="width: 100%;">${c}</div>

            <p style="margin-top: 25px; font-size: 13px; color: #64748b;">No further action is required from you. Your fleet monitoring continues as usual.</p>
          </div>
          <div class="footer">
            ${i} &bull; Lusaka, Zambia<br>
            Support: ${o}<br>
            &copy; ${new Date().getFullYear()} Official Communication
          </div>
        </div>
      </div>
    </body>
    </html>
  `},$K=(e,t,n,r)=>{const i=(r==null?void 0:r.CompanyName)||"Internal System";return`
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <style>
        body { margin: 0; padding: 0; font-family: sans-serif; background-color: #f8fafc; color: #1e293b; -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; }
        .wrapper { width: 100%; padding: 20px 0; }
        .container { width: 95%; max-width: 600px; margin: 0 auto; background: #ffffff; border-radius: 12px; border: 1px solid #e2e8f0; overflow: hidden; }
        .header { background: #1e1b4b; padding: 25px; text-align: center; color: #ffffff; }
        .content { padding: 30px; word-wrap: break-word; }
        .card { background: #f8fafc; padding: 20px; border-radius: 10px; margin: 20px 0; border: 1px solid #f1f5f9; }
        .badge { display: inline-block; padding: 4px 12px; background: #dcfce7; color: #166534; border-radius: 99px; font-weight: 800; font-size: 11px; text-transform: uppercase; }
        h1 { margin: 0; font-size: 18px; font-weight: 800; text-transform: uppercase; }
        @media only screen and (max-width: 600px) {
          .container { width: 95% !important; }
        }
      </style>
    </head>
    <body>
      <div class="wrapper">
        <div class="container">
          <div class="header">
            <h1>Connectivity Record</h1>
            <p style="opacity: 0.7; font-size: 11px; margin-top: 4px;">Internal Team Update</p>
          </div>
          <div class="content">
            <h2 style="font-size: 16px;">Renewal Logged</h2>
            <p style="font-size: 14px;">The following service has been renewed for <strong>${t.CompanyName}</strong>.</p>
            
            <div class="card">
              <span style="font-size: 10px; font-weight: 800; color: #94a3b8; text-transform: uppercase;">Asset Details</span>
              <p style="font-size: 15px; font-weight: 800; margin: 5px 0;">${n.NumberPlate}</p>
              <p style="font-size: 12px; color: #64748b; margin: 0;">${n.Make} ${n.Model} (${n.NetworkProvider})</p>
              
              <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #e2e8f0;">
                <span style="font-size: 10px; font-weight: 800; color: #94a3b8; text-transform: uppercase;">Next Service Expiry</span><br>
                <div class="badge" style="margin-top: 5px;">${Ce(e.ExpiryDate)}</div>
              </div>
            </div>

            <p style="font-size: 13px; color: #64748b; font-style: italic;">Sync successful with database.</p>
          </div>
          <div style="padding: 15px; text-align: center; border-top: 1px solid #f1f5f9; font-size: 10px; color: #94a3b8;">
            ${i} Automated Notice
          </div>
        </div>
      </div>
    </body>
    </html>
  `},zK=(e,t,n,r)=>{const i=(r==null?void 0:r.CompanyName)||"Internal System",o=n.map(c=>{const u=e.find(f=>UP(f.VehicleID)===UP(c.VehicleID));return`
      <div style="background: #ffffff; padding: 12px; border-radius: 8px; margin-bottom: 8px; border: 1px solid #f1f5f9; display: flex; justify-content: space-between; align-items: center;">
        <div style="flex: 1; min-width: 0;">
          <span style="font-weight: 800; color: #0f172a; font-size: 13px; font-family: monospace; word-break: break-all;">${c.NumberPlate}</span><br>
          <span style="font-size: 10px; color: #94a3b8; text-transform: uppercase;">${c.Make} ${c.Model}</span>
        </div>
        <div style="text-align: right; min-width: 80px; margin-left: 10px;">
          <span style="font-size: 11px; color: #10b981; font-weight: 800;">${Ce(u==null?void 0:u.ExpiryDate)}</span>
        </div>
      </div>
    `}).join("");return`
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <style>
        body { margin: 0; padding: 0; font-family: sans-serif; background-color: #f1f5f9; color: #1e293b; -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; }
        .wrapper { width: 100%; padding: 20px 0; }
        .container { width: 95%; max-width: 600px; margin: 0 auto; background: #ffffff; border-radius: 15px; border: 1px solid #e2e8f0; overflow: hidden; }
        .header { background: #0f172a; padding: 35px; text-align: center; color: #ffffff; }
        .content { padding: 30px; word-wrap: break-word; }
        .list-box { background: #f8fafc; padding: 15px; border-radius: 12px; margin: 20px 0; border: 1px solid #f1f5f9; }
        @media only screen and (max-width: 600px) {
          .container { width: 95% !important; }
        }
      </style>
    </head>
    <body>
      <div class="wrapper">
        <div class="container">
          <div class="header">
            <h1 style="margin:0; font-size: 18px; text-transform: uppercase; letter-spacing: 1px;">Fleet Service Notice</h1>
            <p style="opacity: 0.6; font-size: 11px; margin-top: 5px;">Internal Record</p>
          </div>
          <div class="content">
            <h2 style="font-size: 16px; margin-top: 0;">Service Update Report</h2>
            <p style="font-size: 14px;">Connectivity has been renewed for <strong>${t.CompanyName}</strong>.</p>
            
            <div class="list-box">
              <span style="font-size: 10px; font-weight: 800; color: #94a3b8; text-transform: uppercase; letter-spacing: 0.1em; display: block; margin-bottom: 12px;">Renewed Assets (${n.length})</span>
              <div style="width: 100%;">${o}</div>
            </div>

            <p style="font-size: 13px; color: #64748b; line-height: 1.5;">This batch is now active. No further internal actions required.</p>
          </div>
          <div style="padding: 15px; text-align: center; border-top: 1px solid #f1f5f9; font-size: 10px; color: #94a3b8;">
            ${i} &bull; Internal Dispatch
          </div>
        </div>
      </div>
    </body>
    </html>
  `},LK=(e,t,n)=>{const r=localStorage.getItem("omni_script_url")||Rn;return{handleSaveTicket:async f=>{const d=e.systemSettings,h=new Date().toISOString();try{n(!0);const m=e.tickets.find(y=>pe(y.TicketID)===pe(f.TicketID)),x=!m,v=e.clients.find(y=>pe(y.ClientID)===pe(f.ClientID)),j={...f,Email:(v==null?void 0:v.Email)||f.Email,UpdatedAt:h,CreatedAt:x?h:m.CreatedAt||h};let b={senderName:(d==null?void 0:d.CompanyName)||Wa,senderEmail:(d==null?void 0:d.Email)||gr,replyTo:(d==null?void 0:d.Email)||gr};const w=String((v==null?void 0:v.Email)||f.Email||"").trim();if(w.includes("@")){b.recipientEmail=w;const y=Zr(e.agents,f.AssignedAgentID||(v==null?void 0:v.AssignedAgentID));b.emailCc=`${(d==null?void 0:d.Email)||gr},${Qr},${y}`,x?(d==null?void 0:d.EmailTicketNewEnabled)!==!1&&(b.sendEmail=!0,b.emailSubject=`Support Acknowledgment: Ticket #${f.TicketID}`,b.emailHtml=TK(j,v,d)):f.Status===Qn.Resolved&&m.Status!==Qn.Resolved?(d==null?void 0:d.EmailTicketResolvedEnabled)!==!1&&(b.sendEmail=!0,b.emailSubject=`Resolution Confirmation: Ticket #${f.TicketID}`,b.emailHtml=MK(j,v,d)):(d==null?void 0:d.EmailTicketUpdateEnabled)!==!1&&(b.sendEmail=!0,b.emailSubject=`Ticket Activity Update: #${f.TicketID}`,b.emailHtml=_K(j,v,d))}await nt(r,"Tickets",x?"create":"update",j,"TicketID",b),await t(!1,!0)}catch(m){console.error("Save Ticket Dispatch Error:",m)}finally{n(!1)}},handleSaveMaintenance:async(f,d=!1)=>{const h=e.systemSettings;try{n(!0);const m=!e.maintenance.find(b=>pe(b.ID)===pe(f.ID)),x=e.clients.find(b=>pe(b.ClientID)===pe(f.ClientID));let v={};const j={...f,AssetIDs:f.AssetIDs.join(", "),Email:(x==null?void 0:x.Email)||f.Email};if(d&&f.Status===$n.Completed&&x){const b=Zr(e.agents,x.AssignedAgentID),w=e.vehicles.filter(y=>f.AssetIDs.some(S=>pe(S)===pe(y.VehicleID)));v.sendEmail=!0,v.recipientEmail=x.Email,v.senderName=(h==null?void 0:h.CompanyName)||Wa,v.senderEmail=(h==null?void 0:h.Email)||gr,v.emailCc=`${b},${Qr}`,v.emailSubject=`Maintenance Completed: Assets for ${x.CompanyName}`,v.emailHtml=RK(f,x,w,h)}await nt(r,"Maintenance",m?"create":"update",j,"ID",v),await t(!1,!0)}catch(m){console.error("Save Maintenance Error:",m)}finally{n(!1)}},handleSimTopUpAction:async(f,d=!1)=>{var m;const h=e.systemSettings;try{n(!0);const x=e.vehicles.find(w=>pe(w.VehicleID)===pe(f.VehicleID))||e.vehicles.find(w=>pe(w.NumberPlate)===pe(f.Plate));if(!x)return;const v=e.clients.find(w=>pe(w.ClientID)===pe(x.ClientID)),j=Zr(e.agents,(v==null?void 0:v.AssignedAgentID)||((m=e.currentUser)==null?void 0:m.id));let b={};d&&v&&v.Email&&(b.sendEmail=!0,b.recipientEmail=v.Email,b.emailCc=`${j},${Qr}`,b.senderName=(h==null?void 0:h.CompanyName)||Wa,b.emailSubject=`Connectivity Renewed: ${x.NumberPlate}`,b.emailHtml=$K(f,v,x,h)),await nt(r,"SimTopups","create",{...f,Email:(v==null?void 0:v.Email)||""},"ID",b),await t(!1,!0)}catch(x){console.error("SIM Maintenance Error:",x)}finally{n(!1)}},handleBulkSimTopUpAction:async(f,d=!1)=>{var m;const h=e.systemSettings;if(f.length!==0)try{n(!0);const x=f[0],v=e.vehicles.find(y=>pe(y.VehicleID)===pe(x.VehicleID))||e.vehicles.find(y=>pe(y.NumberPlate)===pe(x.Plate)),j=v?e.clients.find(y=>pe(y.ClientID)===pe(v.ClientID)):null,b=Zr(e.agents,(j==null?void 0:j.AssignedAgentID)||((m=e.currentUser)==null?void 0:m.id)),w=e.vehicles.filter(y=>f.some(S=>pe(S.VehicleID)===pe(y.VehicleID)||pe(S.Plate)===pe(y.NumberPlate)));for(let y=0;y<f.length;y++){const S=f[y];let P={};y===f.length-1&&d&&j&&j.Email&&(P.sendEmail=!0,P.recipientEmail=j.Email,P.emailCc=`${b},${Qr}`,P.senderName=(h==null?void 0:h.CompanyName)||Wa,P.emailSubject=`Fleet Connectivity Service Notice: ${j.CompanyName}`,P.emailHtml=zK(f,j,w,h));const k=e.vehicles.find(E=>pe(E.VehicleID)===pe(S.VehicleID))||e.vehicles.find(E=>pe(E.NumberPlate)===pe(S.Plate)),C=k?e.clients.find(E=>pe(E.ClientID)===pe(k.ClientID)):null;await nt(r,"SimTopups","create",{...S,Email:(C==null?void 0:C.Email)||""},"ID",P)}await t(!1,!0)}catch(x){console.error("Bulk SIM Maintenance Error:",x)}finally{n(!1)}}}},BK=(e,t,n)=>{const r=localStorage.getItem("omni_script_url")||Rn;return{handleApplyForPartnership:async(u,f,d)=>{try{n(!0);const h={ID:`PARTNER-APP-${u}`,Time:new Date().toISOString(),Type:"PARTNERSHIP_APPLICATION",Priority:la.Critical,ClientID:"SYSTEM",ClientName:f,ContractID:"",Message:`SHAREHOLDER CANDIDACY: ${f} has applied for Partnership status. Pitch: ${d.substring(0,50)}...`,DueDate:new Date(new Date().getTime()+2880*60*1e3).toISOString(),Status:"Unread",AssignedTo:"ADMIN",Sent:!0,Notes:d};await nt(r,"Notifications","create",h,"ID"),await t(!1,!0)}catch(h){console.error("Partnership Application Error:",h)}finally{n(!1)}},handleClaimPayout:async(u,f,d,h)=>{try{n(!0);const m=new Date().getMonth()+1,x=new Date().getFullYear(),v={ID:`CLAIM-${u}-${m}-${x}`,Time:new Date().toISOString(),Type:"PAYOUT_REQUEST",Priority:la.High,ClientID:"SYSTEM",ClientName:f,ContractID:"",Message:`PAYOUT REQUEST: K${d.toFixed(2)} to MoMo ${h} (Agt: ${f})`,DueDate:new Date(new Date().getTime()+1440*60*1e3).toISOString(),Status:"Unread",AssignedTo:"ADMIN",Sent:!0};await nt(r,"Notifications","create",v,"ID"),await t(!1,!0)}catch(m){console.error("Payout Request Error:",m)}finally{n(!1)}},handleSaveAgent:async(u,f)=>{var d;try{if(n(!0),!u.AgentID)throw new Error("Unique AgentID is missing.");const h=pe(u.AgentID),m=e.agents.find(j=>pe(j.AgentID)===h),x=!m;let v={};if(f&&u.Email&&(v.sendEmail=!0,v.recipientEmail=u.Email,v.emailSubject=`Access Invitation: ${((d=e.systemSettings)==null?void 0:d.CompanyName)||"Sally Chanza Terminal"}`,v.emailHtml=vK(u,e.systemSettings)),await nt(r,"Agents",x?"create":"update",u,"AgentID",v),u.Email){const j=u.Email.trim().toLowerCase(),b={Email:u.Email.trim(),Password:u.Password||(m==null?void 0:m.Password)||"Sally123",AgentID:u.AgentID,Role:u.Role.toLowerCase(),Status:u.Status,LoginAttempts:0,LastLogin:new Date().toISOString()},w=e.loginRecords.find(y=>y.Email.trim().toLowerCase()===j);await nt(r,"Logins",w?"update":"create",b,"Email")}await t(!1,!0)}catch(h){throw console.error("Save Agent Sync Error:",h),h}finally{n(!1)}}}},FK=(e,t,n,r)=>{const i=localStorage.getItem("omni_script_url")||Rn,o=IK(e,n,r),c=LK(e,n,r);return{...BK(e,n,r),...c,...o,handleSaveVehicle:async b=>{try{r(!0),await nt(i,"Vehicles","update",b,"VehicleID"),await n(!1,!0)}catch(w){console.error("Save Vehicle Error:",w)}finally{r(!1)}},handleSaveReferral:async b=>{try{r(!0),await nt(i,"Referrals","create",b,"ID"),await n(!1,!0)}catch(w){console.error("Save Referral Error:",w)}finally{r(!1)}},handleSaveActivityLog:async b=>{try{r(!0),await nt(i,"ActivityLogs","create",b,"ID"),await n(!1,!0)}catch(w){console.error("Save Activity Log Error:",w)}finally{r(!1)}},handleSendMessage:async b=>{t(w=>({...w,messages:[...w.messages||[],b]}));try{await nt(i,"Messages","create",b,"ID"),setTimeout(()=>n(!1,!0),500)}catch(w){console.error("Send Message Sync Error:",w)}},handleTypingStatus:async b=>{var y,S;const w=(y=e.currentUser)==null?void 0:y.id;if(w)try{const P={ID:`PRESENCE-${w}`,SenderID:w,SenderName:((S=e.currentUser)==null?void 0:S.name)||"User",ReceiverID:"SYSTEM",Message:b||"ONLINE",Timestamp:new Date().toISOString(),Status:"Read"};fetch(i,{method:"POST",mode:"no-cors",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({sheet:"Messages",action:"update",idKey:"ID",id:P.ID,data:P})})}catch{}},handleReadMessages:async b=>{if(b.length!==0){t(w=>({...w,messages:w.messages.map(y=>b.includes(y.ID)?{...y,Status:"Read"}:y)}));try{for(const w of b){const y=e.messages.find(S=>S.ID===w);y&&await nt(i,"Messages","update",{...y,Status:"Read"},"ID")}}catch(w){console.error("Mark as read sync error:",w)}}},handleLogout:()=>t(b=>({...b,currentUser:null})),handleAutomationWorkflows:o.handleAutomationWorkflows}},yt=e=>String(e||"").trim().toLowerCase(),UK=()=>{const{appState:e,setAppState:t,loading:n,syncing:r,setSyncing:i,lastSync:o,loadData:c}=sK(),{authLoading:u,handleLogin:f,handleLogout:d,lockoutTime:h}=fK(e,t),{augmentedNotifications:m,handleDismissNotification:x,handleClearNotifications:v}=pK(e,c,i),j=FK(e,t,c,i);O.useEffect(()=>{c(!0).then(()=>{j.handleAutomationWorkflows()})},[c]);const[b,w]=O.useState(!1),[y,S]=O.useState("view"),[P,k]=O.useState(null),[C,E]=O.useState(!1),[D,I]=O.useState("view"),[$,B]=O.useState(null),[M,z]=O.useState(!1),[L,_]=O.useState("view"),[U,G]=O.useState(null),[W,K]=O.useState(st.Invoice),[X,R]=O.useState(!1),[Q,J]=O.useState("view"),[te,ue]=O.useState(null),[be,we]=O.useState(!1),[$e,Oe]=O.useState("view"),[oe,Ae]=O.useState(null),[ke,ie]=O.useState(!1),[He,Re]=O.useState("view"),[Ze,de]=O.useState(null),[Te,Ne]=O.useState(!1),[ze,qe]=O.useState("view"),[We,xt]=O.useState(null),[zt,me]=O.useState(!1),rt=O.useMemo(()=>{const{currentUser:Vt,clients:Ot,contracts:va,vehicles:Xi,invoices:Br,payments:Fr,tickets:yo,agents:Qi,servicePlans:Zi}=e;if(!Vt)return{clients:[],contracts:[],vehicles:[],invoices:[],payments:[],tickets:[],agents:[],servicePlans:[]};if(Vt.role==="Admin")return{clients:Ot,contracts:va,vehicles:Xi,invoices:Br,payments:Fr,tickets:yo,agents:Qi,servicePlans:Zi};const xn=yt(Vt.id);if(Vt.role==="Client")return{clients:Ot.filter(Ie=>yt(Ie.ClientID)===xn),contracts:va.filter(Ie=>yt(Ie.ClientID)===xn),vehicles:Xi.filter(Ie=>yt(Ie.ClientID)===xn),invoices:Br.filter(Ie=>yt(Ie.ClientID)===xn),payments:Fr.filter(Ie=>yt(Ie.ClientID)===xn),tickets:yo.filter(Ie=>yt(Ie.ClientID)===xn),agents:[],servicePlans:Zi};const bo=Qi.filter(Ie=>yt(Ie.ParentAgentID)===xn).filter(Ie=>Ie.ExperienceLevel==="Trainee"||!Ie.ExperienceLevel).map(Ie=>yt(Ie.AgentID)),wo=Ot.filter(Ie=>yt(Ie.AssignedAgentID)===xn).map(Ie=>yt(Ie.ClientID)),jo=Ot.filter(Ie=>bo.includes(yt(Ie.AssignedAgentID))).map(Ie=>yt(Ie.ClientID)),Nr=[...new Set([...wo,...jo])];return{clients:Ot.filter(Ie=>Nr.includes(yt(Ie.ClientID))),contracts:va.filter(Ie=>Nr.includes(yt(Ie.ClientID))),vehicles:Xi.filter(Ie=>Nr.includes(yt(Ie.ClientID))),invoices:Br.filter(Ie=>Nr.includes(yt(Ie.ClientID))),payments:Fr.filter(Ie=>yt(Ie.AgentID)===xn||Nr.includes(yt(Ie.ClientID))),tickets:yo.filter(Ie=>Nr.includes(yt(Ie.ClientID))||yt(Ie.AssignedAgentID)===xn),agents:Qi.filter(Ie=>yt(Ie.AgentID)===xn||yt(Ie.ParentAgentID)===xn),servicePlans:Zi}},[e]);return{appState:e,setAppState:t,loading:n,authLoading:u,syncing:r,lastSync:o,augmentedNotifications:m,visibleData:rt,lockoutTime:h,modals:{client:{isOpen:b,mode:y,selected:P,setOpen:w,setMode:S,setSelected:k},contract:{isOpen:C,mode:D,selected:$,setOpen:E,setMode:I,setSelected:B},invoice:{isOpen:M,mode:L,selected:U,type:W,setOpen:z,setMode:_,setSelected:G,setType:K},vehicle:{isOpen:X,mode:Q,selected:te,setOpen:R,setMode:J,setSelected:ue},payment:{isOpen:be,mode:$e,selected:oe,setOpen:we,setMode:Oe,setSelected:Ae},agent:{isOpen:ke,mode:He,selected:Ze,setOpen:ie,setMode:Re,setSelected:de},maintenance:{isOpen:Te,mode:ze,selected:We,setOpen:Ne,setMode:qe,setSelected:xt},broadcast:{isOpen:zt,setOpen:me}},handlers:{loadData:c,handleLogin:f,handleLogout:d,handleDismissNotification:x,handleClearNotifications:v,...j}}},qK=({appState:e,setAppState:t,augmentedNotifications:n,syncing:r,visibleData:i,modals:o,handlers:c,lastSync:u})=>{var m,x,v,j,b;const f=mf(),d=Ui();if(O.useEffect(()=>{e.currentUser&&"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission()},[(m=e.currentUser)==null?void 0:m.id]),O.useEffect(()=>{var w;e.currentUser&&!((w=e.currentUser)!=null&&w.lastLogin)||e.currentUser&&(d.pathname==="/login"||d.pathname==="*"?f("/",{replace:!0}):f("/",{replace:!0}))},[(x=e.currentUser)==null?void 0:x.id]),!((v=e.currentUser)!=null&&v.lastLogin)){const y=String(((j=e.currentUser)==null?void 0:j.role)||"").toLowerCase()==="client",S=y?e.clients.find(P=>{var k;return String(P.ClientID)===String((k=e.currentUser)==null?void 0:k.id)}):e.agents.find(P=>{var k;return String(P.AgentID)===String((k=e.currentUser)==null?void 0:k.id)});return a.jsx(rK,{user:e.currentUser,profile:S||{},onComplete:async P=>{var k,C;y?await c.handleSaveClient({...S||{},ClientID:(k=e.currentUser)==null?void 0:k.id,TempPassword:P,PortalEnabled:!0},!1):await c.handleSaveAgent({...S||{},AgentID:(C=e.currentUser)==null?void 0:C.id,Password:P},!1)},onFinalize:c.handleLogout})}return a.jsxs(w_,{userRole:e.currentUser.role,userName:e.currentUser.name,notifications:n,permissions:e.currentUser.permissions,logo:(b=e.systemSettings)==null?void 0:b.Logo,onLogout:c.handleLogout,onClearNotifications:c.handleClearNotifications,onDismissNotification:c.handleDismissNotification,onRefresh:()=>c.loadData(!1),isSyncing:r,children:[a.jsx(N_,{isVisible:r}),a.jsx(nK,{appState:e,visibleData:i,modals:o,handlers:c,lastSync:u,setSyncing:()=>{}}),a.jsx(Q_,{appState:e,modals:{client:{isOpen:o.client.isOpen,mode:o.client.mode,selected:o.client.selected,close:()=>o.client.setOpen(!1)},contract:{isOpen:o.contract.isOpen,mode:o.contract.mode,selected:o.contract.selected,close:()=>o.contract.setOpen(!1)},invoice:{isOpen:o.invoice.isOpen,mode:o.invoice.mode,selected:o.invoice.selected,type:o.invoice.type,close:()=>o.invoice.setOpen(!1)},vehicle:{isOpen:o.vehicle.isOpen,mode:o.vehicle.mode,selected:o.vehicle.selected,close:()=>o.vehicle.setOpen(!1)},payment:{isOpen:o.payment.isOpen,mode:o.payment.mode,selected:o.payment.selected,close:()=>o.payment.setOpen(!1)},agent:{isOpen:o.agent.isOpen,mode:o.agent.mode,selected:o.agent.selected,close:()=>o.agent.setOpen(!1)},maintenance:{isOpen:o.maintenance.isOpen,mode:o.maintenance.mode,selected:o.maintenance.selected,close:()=>o.maintenance.setOpen(!1)},broadcast:{isOpen:o.broadcast.isOpen,setOpen:o.broadcast.setOpen}},handlers:{onSaveClient:c.handleSaveClient,onSaveContract:c.handleSaveContract,onSaveInvoice:c.handleSaveInvoice,onSaveVehicle:c.handleSaveVehicle,onSavePayment:c.handleSavePayment,onSaveAgent:c.handleSaveAgent,onSaveMaintenance:c.handleSaveMaintenance,onSaveActivityLog:c.handleSaveActivityLog,onSendMessage:c.handleSendMessage}}),a.jsx(aK,{appState:e,onSendMessage:c.handleSendMessage,onMarkAsRead:c.handleReadMessages,onUpdateTyping:c.handleTypingStatus,onRefresh:c.loadData})]})},WK=()=>{var m;const{appState:e,setAppState:t,loading:n,authLoading:r,syncing:i,lastSync:o,augmentedNotifications:c,visibleData:u,modals:f,handlers:d,lockoutTime:h}=UK();return a.jsx(M4,{children:e.currentUser?a.jsx(qK,{appState:e,setAppState:t,augmentedNotifications:c,syncing:i,visibleData:u,modals:f,handlers:d,lastSync:o}):a.jsx(j_,{onLogin:d.handleLogin,isConnecting:n,isAuthenticating:r,logo:(m=e.systemSettings)==null?void 0:m.Logo,systemName:"Sally Chanza Caf",lockoutTime:h,isConnected:!n})})};let ml;const HK=()=>{const e=document.createElement("div");e.id="update-toast",e.style.cssText=`
    position: fixed;
    bottom: 140px;
    right: 24px;
    background: white;
    color: #0f172a;
    padding: 14px 20px;
    border-radius: 12px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.12);
    display: flex;
    align-items: center;
    gap: 16px;
    z-index: 9998;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    border-left: 4px solid #3b82f6;
    animation: slideIn 0.3s ease;
    max-width: 360px;
    backdrop-filter: blur(8px);
    border: 1px solid #e2e8f0;
  `;const t=document.createElement("span");t.textContent=" New version available",t.style.cssText=`
    font-size: 14px;
    font-weight: 500;
  `;const n=document.createElement("button");n.textContent="Update now",n.style.cssText=`
    background: #0f172a;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 20px;
    font-size: 13px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
    letter-spacing: 0.3px;
  `,n.onmouseover=()=>{n.style.background="#1e293b",n.style.transform="scale(1.02)"},n.onmouseout=()=>{n.style.background="#0f172a",n.style.transform="scale(1)"};const r=document.createElement("button");return r.innerHTML="",r.style.cssText=`
    background: none;
    border: none;
    color: #64748b;
    font-size: 18px;
    cursor: pointer;
    padding: 0 4px;
    transition: color 0.2s;
  `,r.onmouseover=()=>r.style.color="#0f172a",r.onmouseout=()=>r.style.color="#64748b",e.appendChild(t),e.appendChild(n),e.appendChild(r),{toast:e,updateBtn:n,closeBtn:r}};function VK(e="1.0.6"){const t=document.getElementById("pwa-version-badge");t&&t.remove();const r=new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"2-digit"}).replace(/ /g," "),i=document.createElement("div");i.id="pwa-version-badge",i.textContent=`v${e}  ${r}`,i.style.cssText=`
    position: fixed;
    bottom: 4px;
    right: 6px;
    background: rgba(15, 23, 42, 0.06);
    color: #94a3b8;
    font-size: 9px;
    padding: 3px 8px;
    border-radius: 12px;
    font-family: -apple-system, BlinkMacSystemFont, 'SF Mono', monospace;
    letter-spacing: 0.2px;
    backdrop-filter: blur(2px);
    z-index: 9999;
    pointer-events: none;
    opacity: 0.55;
    line-height: 1;
    border: none;
    font-weight: 400;
    transition: opacity 0.2s;
  `,i.onmouseover=()=>i.style.opacity="0.8",i.onmouseout=()=>i.style.opacity="0.55",document.body.appendChild(i)}function KK(){if(window.matchMedia("(display-mode: standalone)").matches||window.matchMedia("(display-mode: fullscreen)").matches||window.navigator.standalone===!0){console.log(" App is installed - running in standalone mode");return}if(localStorage.getItem("pwa-installed")==="true"){const n=document.createElement("button");n.id="pwa-open-button",n.innerHTML=" Open in app",n.style.cssText=`
      position: fixed;
      bottom: 80px;
      right: 24px;
      background: #0f172a;
      color: white;
      padding: 10px 20px;
      border-radius: 30px;
      border: none;
      font-weight: 500;
      font-size: 14px;
      cursor: pointer;
      z-index: 9999;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      display: flex;
      align-items: center;
      gap: 8px;
      border: 1px solid rgba(255,255,255,0.1);
      letter-spacing: 0.3px;
      backdrop-filter: blur(4px);
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      animation: slideIn 0.3s ease;
      opacity: 0.95;
      transition: all 0.2s;
    `,n.onmouseover=()=>{n.style.background="#1e293b",n.style.transform="scale(1.02)"},n.onmouseout=()=>{n.style.background="#0f172a",n.style.transform="scale(1)"},n.onclick=()=>{/android/i.test(navigator.userAgent)?(window.location.href="intent://scbc-app.github.io/Scbc-Suite/#Intent;scheme=https;package=com.scbc.suite;end;",setTimeout(()=>{window.location.href="https://scbc-app.github.io/Scbc-Suite/"},500)):window.location.href="https://scbc-app.github.io/Scbc-Suite/"},document.body.appendChild(n),setTimeout(()=>{document.body.contains(n)&&(n.style.animation="slideOut 0.3s ease",setTimeout(()=>n.remove(),300))},3e4)}}const _I=document.createElement("style");_I.textContent=`
  @keyframes slideIn {
    from {
      transform: translateX(100%);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }
  @keyframes slideOut {
    from {
      transform: translateX(0);
      opacity: 1;
    }
    to {
      transform: translateX(100%);
      opacity: 0;
    }
  }
`;document.head.appendChild(_I);function GK(){"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/Scbc-Suite/sw.js").then(e=>{console.log(" SW registered:",e),VK("1.0.6"),KK(),navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"KEEP_ALIVE"}),setInterval(()=>{navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"KEEP_ALIVE"})},2e4),e.addEventListener("updatefound",()=>{const t=e.installing;t&&t.addEventListener("statechange",()=>{if(t.state==="installed"&&navigator.serviceWorker.controller){const{toast:n,updateBtn:r,closeBtn:i}=HK();document.body.appendChild(n),r.onclick=()=>{n.style.animation="slideOut 0.3s ease",setTimeout(()=>{n.remove(),window.location.reload()},200)},i.onclick=()=>{n.style.animation="slideOut 0.3s ease",setTimeout(()=>n.remove(),200)},setTimeout(()=>{document.body.contains(n)&&(n.style.animation="slideOut 0.3s ease",setTimeout(()=>n.remove(),200))},1e4)}})})}).catch(e=>{console.error(" SW registration failed:",e)})})}window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),ml=e;const t=document.getElementById("pwa-install-button");t&&t.remove();const n=document.createElement("button");n.id="pwa-install-button",n.innerHTML=" Install App",n.style.cssText=`
    position: fixed;
    bottom: 24px;
    right: 24px;
    background: #0f172a;
    color: white;
    padding: 14px 28px;
    border-radius: 40px;
    border: none;
    font-weight: 600;
    font-size: 15px;
    cursor: pointer;
    z-index: 999999;
    box-shadow: 0 10px 30px -5px rgba(15, 23, 42, 0.3);
    display: flex;
    align-items: center;
    gap: 10px;
    transition: all 0.25s ease;
    border: 1px solid rgba(255,255,255,0.15);
    letter-spacing: 0.5px;
    backdrop-filter: blur(8px);
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  `,n.onmouseover=()=>{n.style.background="#1e293b",n.style.transform="scale(1.03)",n.style.boxShadow="0 15px 35px -5px rgba(15, 23, 42, 0.4)"},n.onmouseout=()=>{n.style.background="#0f172a",n.style.transform="scale(1)",n.style.boxShadow="0 10px 30px -5px rgba(15, 23, 42, 0.3)"},n.onclick=async()=>{if(!ml){n.remove();return}ml.prompt();const{outcome:r}=await ml.userChoice;console.log(` Install result: ${r}`),ml=null,n.remove()},document.body.appendChild(n)});window.addEventListener("appinstalled",()=>{console.log(" PWA installed successfully"),localStorage.setItem("pwa-installed","true");const e=document.getElementById("pwa-install-button");e&&e.remove();const t=document.getElementById("pwa-open-button");t&&t.remove()});const YK="modulepreload",XK=function(e){return"/Scbc-Suite/"+e},qP={},QK=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let c=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=c(n.map(d=>{if(d=XK(d),d in qP)return;qP[d]=!0;const h=d.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const x=document.createElement("link");if(x.rel=h?"stylesheet":YK,h||(x.as="script"),x.crossOrigin="",x.href=d,f&&x.setAttribute("nonce",f),document.head.appendChild(x),h)return new Promise((v,j)=>{x.addEventListener("load",v),x.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return i.then(c=>{for(const u of c||[])u.status==="rejected"&&o(u.reason);return t().catch(o)})};/*! Capacitor: https://capacitorjs.com/ - MIT License */var so;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(so||(so={}));class Vg extends Error{constructor(t,n,r){super(t),this.message=t,this.code=n,this.data=r}}const ZK=e=>{var t,n;return e!=null&&e.androidBridge?"android":!((n=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},JK=e=>{const t=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},r=n.Plugins=n.Plugins||{},i=()=>t!==null?t.name:ZK(e),o=()=>i()!=="web",c=m=>{const x=d.get(m);return!!(x!=null&&x.platforms.has(i())||u(m))},u=m=>{var x;return(x=n.PluginHeaders)===null||x===void 0?void 0:x.find(v=>v.name===m)},f=m=>e.console.error(m),d=new Map,h=(m,x={})=>{const v=d.get(m);if(v)return console.warn(`Capacitor plugin "${m}" already registered. Cannot register plugins twice.`),v.proxy;const j=i(),b=u(m);let w;const y=async()=>(!w&&j in x?w=typeof x[j]=="function"?w=await x[j]():w=x[j]:t!==null&&!w&&"web"in x&&(w=typeof x.web=="function"?w=await x.web():w=x.web),w),S=(I,$)=>{var B,M;if(b){const z=b==null?void 0:b.methods.find(L=>$===L.name);if(z)return z.rtype==="promise"?L=>n.nativePromise(m,$.toString(),L):(L,_)=>n.nativeCallback(m,$.toString(),L,_);if(I)return(B=I[$])===null||B===void 0?void 0:B.bind(I)}else{if(I)return(M=I[$])===null||M===void 0?void 0:M.bind(I);throw new Vg(`"${m}" plugin is not implemented on ${j}`,so.Unimplemented)}},P=I=>{let $;const B=(...M)=>{const z=y().then(L=>{const _=S(L,I);if(_){const U=_(...M);return $=U==null?void 0:U.remove,U}else throw new Vg(`"${m}.${I}()" is not implemented on ${j}`,so.Unimplemented)});return I==="addListener"&&(z.remove=async()=>$()),z};return B.toString=()=>`${I.toString()}() { [capacitor code] }`,Object.defineProperty(B,"name",{value:I,writable:!1,configurable:!1}),B},k=P("addListener"),C=P("removeListener"),E=(I,$)=>{const B=k({eventName:I},$),M=async()=>{const L=await B;C({eventName:I,callbackId:L},$)},z=new Promise(L=>B.then(()=>L({remove:M})));return z.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await M()},z},D=new Proxy({},{get(I,$){switch($){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return b?E:k;case"removeListener":return C;default:return P($)}}});return r[m]=D,d.set(m,{name:m,proxy:D,platforms:new Set([...Object.keys(x),...b?[j]:[]])}),D};return n.convertFileSrc||(n.convertFileSrc=m=>m),n.getPlatform=i,n.handleError=f,n.isNativePlatform=o,n.isPluginAvailable=c,n.registerPlugin=h,n.Exception=Vg,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},eG=e=>e.Capacitor=JK(e),pf=eG(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Xf=pf.registerPlugin;class Wb{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,n){let r=!1;this.listeners[t]||(this.listeners[t]=[],r=!0),this.listeners[t].push(n);const o=this.windowListeners[t];o&&!o.registered&&this.addWindowListener(o),r&&this.sendRetainedArgumentsForEvent(t);const c=async()=>this.removeListener(t,n);return Promise.resolve({remove:c})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,n,r){const i=this.listeners[t];if(!i){if(r){let o=this.retainedEventArguments[t];o||(o=[]),o.push(n),this.retainedEventArguments[t]=o}return}i.forEach(o=>o(n))}hasListeners(t){var n;return!!(!((n=this.listeners[t])===null||n===void 0)&&n.length)}registerWindowListener(t,n){this.windowListeners[n]={registered:!1,windowEventName:t,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(t="not implemented"){return new pf.Exception(t,so.Unimplemented)}unavailable(t="not available"){return new pf.Exception(t,so.Unavailable)}async removeListener(t,n){const r=this.listeners[t];if(!r)return;const i=r.indexOf(n);this.listeners[t].splice(i,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const n=this.retainedEventArguments[t];n&&(delete this.retainedEventArguments[t],n.forEach(r=>{this.notifyListeners(t,r)}))}}const WP=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),HP=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class tG extends Wb{async getCookies(){const t=document.cookie,n={};return t.split(";").forEach(r=>{if(r.length<=0)return;let[i,o]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=HP(i).trim(),o=HP(o).trim(),n[i]=o}),n}async setCookie(t){try{const n=WP(t.key),r=WP(t.value),i=t.expires?`; expires=${t.expires.replace("expires=","")}`:"",o=(t.path||"/").replace("path=",""),c=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${n}=${r||""}${i}; path=${o}; ${c};`}catch(n){return Promise.reject(n)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const n of t)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}Xf("CapacitorCookies",{web:()=>new tG});const nG=async e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{const i=r.result;t(i.indexOf(",")>=0?i.split(",")[1]:i)},r.onerror=i=>n(i),r.readAsDataURL(e)}),rG=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(i=>i.toLocaleLowerCase()).reduce((i,o,c)=>(i[o]=e[t[c]],i),{})},aG=(e,t=!0)=>e?Object.entries(e).reduce((r,i)=>{const[o,c]=i;let u,f;return Array.isArray(c)?(f="",c.forEach(d=>{u=t?encodeURIComponent(d):d,f+=`${o}=${u}&`}),f.slice(0,-1)):(u=t?encodeURIComponent(c):c,f=`${o}=${u}`),`${r}&${f}`},"").substr(1):null,iG=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),i=rG(e.headers)["content-type"]||"";if(typeof e.data=="string")n.body=e.data;else if(i.includes("application/x-www-form-urlencoded")){const o=new URLSearchParams;for(const[c,u]of Object.entries(e.data||{}))o.set(c,u);n.body=o.toString()}else if(i.includes("multipart/form-data")||e.data instanceof FormData){const o=new FormData;if(e.data instanceof FormData)e.data.forEach((u,f)=>{o.append(f,u)});else for(const u of Object.keys(e.data))o.append(u,e.data[u]);n.body=o;const c=new Headers(n.headers);c.delete("content-type"),n.headers=c}else(i.includes("application/json")||typeof e.data=="object")&&(n.body=JSON.stringify(e.data));return n};class sG extends Wb{async request(t){const n=iG(t,t.webFetchExtra),r=aG(t.params,t.shouldEncodeUrlParams),i=r?`${t.url}?${r}`:t.url,o=await fetch(i,n),c=o.headers.get("content-type")||"";let{responseType:u="text"}=o.ok?t:{};c.includes("application/json")&&(u="json");let f,d;switch(u){case"arraybuffer":case"blob":d=await o.blob(),f=await nG(d);break;case"json":f=await o.json();break;case"document":case"text":default:f=await o.text()}const h={};return o.headers.forEach((m,x)=>{h[x]=m}),{data:f,headers:h,status:o.status,url:o.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}Xf("CapacitorHttp",{web:()=>new sG});var VP;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(VP||(VP={}));var KP;(function(e){e.StatusBar="StatusBar",e.NavigationBar="NavigationBar"})(KP||(KP={}));class oG extends Wb{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}Xf("SystemBars",{web:()=>new oG});const lG="__capgo_keep_url_path_after_reload",Kg="__capgo_history_stack__",GP=100,cG=typeof window<"u"&&typeof document<"u"&&typeof history<"u";if(cG){const e=window;if(!e.__capgoHistoryPatched){e.__capgoHistoryPatched=!0;const t=()=>{try{if(e.__capgoKeepUrlPathAfterReload)return!0}catch{}try{return window.localStorage.getItem(lG)==="1"}catch{return!1}},n=()=>{try{const C=window.sessionStorage.getItem(Kg);if(!C)return{stack:[],index:-1};const E=JSON.parse(C);return!E||!Array.isArray(E.stack)||typeof E.index!="number"?{stack:[],index:-1}:E}catch{return{stack:[],index:-1}}},r=(C,E)=>{try{window.sessionStorage.setItem(Kg,JSON.stringify({stack:C,index:E}))}catch{}},i=()=>{try{window.sessionStorage.removeItem(Kg)}catch{}},o=C=>{try{const E=C??window.location.href,D=new URL(E instanceof URL?E.toString():E,window.location.href);return`${D.pathname}${D.search}${D.hash}`}catch{return null}},c=(C,E)=>{if(C.length<=GP)return{stack:C,index:E};const D=C.length-GP,I=C.slice(D),$=Math.max(0,E-D);return{stack:I,index:$}},u=C=>{document.readyState==="complete"||document.readyState==="interactive"?C():window.addEventListener("DOMContentLoaded",C,{once:!0})};let f=!1,d=!1,h=!1;const m=()=>{if(!f)return;const C=n(),E=o();if(E){if(C.stack.length===0){C.stack.push(E),C.index=0,r(C.stack,C.index);return}(C.index<0||C.index>=C.stack.length)&&(C.index=C.stack.length-1),C.stack[C.index]!==E&&(C.stack[C.index]=E,r(C.stack,C.index))}},x=(C,E)=>{if(!f||d)return;const D=o(C);if(!D)return;let{stack:I,index:$}=n();I.length===0?(I.push(D),$=I.length-1):E?(($<0||$>=I.length)&&($=I.length-1),I[$]=D):$>=I.length-1?(I.push(D),$=I.length-1):(I=I.slice(0,$+1),I.push(D),$=I.length-1),{stack:I,index:$}=c(I,$),r(I,$)},v=()=>{if(!f||d)return;const C=n();if(C.stack.length===0){m();return}const E=C.index>=0&&C.index<C.stack.length?C.index:C.stack.length-1,D=o();if(C.stack.length===1&&D===C.stack[0])return;const I=C.stack[0];if(!I)return;d=!0;try{history.replaceState(history.state,document.title,I);for(let M=1;M<C.stack.length;M+=1)history.pushState(history.state,document.title,C.stack[M])}catch{d=!1;return}d=!1;const $=C.stack.length-1,B=E-$;B!==0?history.go(B):(history.replaceState(history.state,document.title,C.stack[E]),window.dispatchEvent(new PopStateEvent("popstate")))},j=()=>{!f||h||(h=!0,u(()=>{h=!1,v()}))};let b=null,w=null;const y=()=>{if(!f||d)return;const C=o();if(!C)return;const E=n(),D=E.stack.lastIndexOf(C);D>=0?E.index=D:(E.stack.push(C),E.index=E.stack.length-1);const I=c(E.stack,E.index);r(I.stack,I.index)},S=()=>{b&&w||(b=history.pushState,w=history.replaceState,history.pushState=function(E,D,I){const $=b==null?void 0:b.call(history,E,D,I);return x(I,!1),$},history.replaceState=function(E,D,I){const $=w==null?void 0:w.call(history,E,D,I);return x(I,!0),$},window.addEventListener("popstate",y))},P=()=>{b&&(history.pushState=b,b=null),w&&(history.replaceState=w,w=null),window.removeEventListener("popstate",y)},k=C=>{if(f===C){f&&(m(),j());return}f=C,f?(S(),m(),j()):(P(),i())};window.addEventListener("CapacitorUpdaterKeepUrlPathAfterReload",C=>{var E;const D=C,I=(E=D==null?void 0:D.detail)===null||E===void 0?void 0:E.enabled;typeof I=="boolean"?(e.__capgoKeepUrlPathAfterReload=I,k(I)):(e.__capgoKeepUrlPathAfterReload=!0,k(!0))}),k(t())}}var YP;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.UPDATE_NOT_AVAILABLE=1]="UPDATE_NOT_AVAILABLE",e[e.UPDATE_AVAILABLE=2]="UPDATE_AVAILABLE",e[e.UPDATE_IN_PROGRESS=3]="UPDATE_IN_PROGRESS"})(YP||(YP={}));var XP;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.PENDING=1]="PENDING",e[e.DOWNLOADING=2]="DOWNLOADING",e[e.INSTALLING=3]="INSTALLING",e[e.INSTALLED=4]="INSTALLED",e[e.FAILED=5]="FAILED",e[e.CANCELED=6]="CANCELED",e[e.DOWNLOADED=11]="DOWNLOADED"})(XP||(XP={}));var QP;(function(e){e[e.OK=0]="OK",e[e.CANCELED=1]="CANCELED",e[e.FAILED=2]="FAILED",e[e.NOT_AVAILABLE=3]="NOT_AVAILABLE",e[e.NOT_ALLOWED=4]="NOT_ALLOWED",e[e.INFO_MISSING=5]="INFO_MISSING"})(QP||(QP={}));const Ps=Xf("CapacitorUpdater",{web:()=>QK(()=>import("./web-9OoB2oNu.js"),[]).then(e=>new e.CapacitorUpdaterWeb)});async function uG(){if(pf.isNativePlatform()){Ps.addListener("updateAvailable",e=>{console.log("Update available:",e.version),Ps.set(e.version).catch(console.error)});try{await Ps.notifyAppReady(),await Ps.setUrl("https://scbc-app.github.io/Scbc-Suite/app-versions.json"),await Ps.check();const t=await Ps.getCurrent();dG(t.version)}catch(e){console.log("Update check failed:",e)}}}function dG(e){const t=document.getElementById("cap-version-indicator");t&&t.remove();const n=document.createElement("div");n.id="cap-version-indicator",n.style.cssText="position:fixed;bottom:8px;left:8px;background:rgba(15,23,42,0.08);color:#64748b;font-size:10px;padding:4px 8px;border-radius:12px;z-index:9999;",n.textContent=`v${e}`,document.body.appendChild(n)}class fG{constructor(){this.dbName="SCBCSuiteDB",this.dbVersion=1,this.storeName="appData"}async openDB(){return new Promise((t,n)=>{const r=indexedDB.open(this.dbName,this.dbVersion);r.onupgradeneeded=i=>{const o=i.target.result;if(!o.objectStoreNames.contains(this.storeName)){const c=o.createObjectStore(this.storeName,{keyPath:"id"});c.createIndex("timestamp","timestamp",{unique:!1}),c.createIndex("type","type",{unique:!1}),console.log(" IndexedDB store created")}},r.onsuccess=i=>t(i.target.result),r.onerror=i=>n(i.target.error)})}async setItem(t,n,r){try{const i=await this.openDB(),o=i.transaction([this.storeName],"readwrite"),c=o.objectStore(this.storeName),u={id:t,value:n,timestamp:Date.now(),expiry:r?Date.now()+r:null};return new Promise((f,d)=>{const h=c.put(u);h.onsuccess=()=>{console.log(` Saved: ${t}`),f()},h.onerror=m=>d(m.target.error),o.oncomplete=()=>i.close()})}catch(i){console.error(" Storage set error:",i)}}async getItem(t){try{const n=await this.openDB(),o=n.transaction([this.storeName],"readonly").objectStore(this.storeName).get(t);return new Promise((c,u)=>{o.onsuccess=f=>{const d=f.target.result;n.close(),d?d.expiry&&Date.now()>d.expiry?(console.log(` Cache expired for: ${t}`),this.removeItem(t),c(null)):(console.log(` Read from cache: ${t}`),c(d.value)):c(null)},o.onerror=f=>{n.close(),u(f.target.error)}})}catch(n){return console.error(" Storage get error:",n),null}}async removeItem(t){const n=await this.openDB(),r=n.transaction([this.storeName],"readwrite");r.objectStore(this.storeName).delete(t),r.oncomplete=()=>n.close(),console.log(` Removed: ${t}`)}async clear(){const t=await this.openDB(),n=t.transaction([this.storeName],"readwrite");n.objectStore(this.storeName).clear(),n.oncomplete=()=>t.close(),console.log(" Storage cleared")}async prune(t){const n=await this.openDB(),r=n.transaction([this.storeName],"readwrite"),i=r.objectStore(this.storeName),o=i.index("timestamp"),c=Date.now()-t,u=IDBKeyRange.upperBound(c);let f=0;return new Promise((d,h)=>{const m=o.openCursor(u);m.onsuccess=x=>{const v=x.target.result;v?(i.delete(v.primaryKey),f++,v.continue()):(console.log(` Pruned ${f} old records`),d(f))},m.onerror=h,r.oncomplete=()=>n.close()})}}const pG=new fG,MI=document.getElementById("root");if(!MI)throw new Error("Could not find root element to mount to");const hG=LT.createRoot(MI);hG.render(a.jsx(q.StrictMode,{children:a.jsx(WK,{})}));if(localStorage.getItem("appState"))try{const e=JSON.parse(localStorage.getItem("appState")||"{}");(!e.messages||!e.notifications)&&(console.log(" Clearing old app state from localStorage (missing messages/notifications)"),localStorage.removeItem("appState"))}catch{console.log(" Clearing corrupted app state from localStorage"),localStorage.removeItem("appState")}GK();uG();"indexedDB"in window&&setTimeout(()=>{pG.prune(6048e5).catch(e=>console.error("Storage cleanup failed:",e)),console.log(" Professional PWA Storage initialized")},5e3);export{YP as A,Wb as W};
