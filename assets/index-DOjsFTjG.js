function IT(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Vu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zh={exports:{}},sl={},Lh={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ij;function TT(){if(Ij)return Ue;Ij=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function x(_){return _===null||typeof _!="object"?null:(_=m&&_[m]||_["@@iterator"],typeof _=="function"?_:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,b={};function w(_,q,X){this.props=_,this.context=q,this.refs=b,this.updater=X||v}w.prototype.isReactComponent={},w.prototype.setState=function(_,q){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,q,"setState")},w.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function y(){}y.prototype=w.prototype;function k(_,q,X){this.props=_,this.context=q,this.refs=b,this.updater=X||v}var P=k.prototype=new y;P.constructor=k,j(P,w.prototype),P.isPureReactComponent=!0;var C=Array.isArray,S=Object.prototype.hasOwnProperty,E={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function T(_,q,X){var J,le={},ge=null,xe=null;if(q!=null)for(J in q.ref!==void 0&&(xe=q.ref),q.key!==void 0&&(ge=""+q.key),q)S.call(q,J)&&!D.hasOwnProperty(J)&&(le[J]=q[J]);var Ie=arguments.length-2;if(Ie===1)le.children=X;else if(1<Ie){for(var Pe=Array(Ie),ie=0;ie<Ie;ie++)Pe[ie]=arguments[ie+2];le.children=Pe}if(_&&_.defaultProps)for(J in Ie=_.defaultProps,Ie)le[J]===void 0&&(le[J]=Ie[J]);return{$$typeof:e,type:_,key:ge,ref:xe,props:le,_owner:E.current}}function M(_,q){return{$$typeof:e,type:_.type,key:q,ref:_.ref,props:_.props,_owner:_._owner}}function z(_){return typeof _=="object"&&_!==null&&_.$$typeof===e}function R(_){var q={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(X){return q[X]})}var $=/\/+/g;function B(_,q){return typeof _=="object"&&_!==null&&_.key!=null?R(""+_.key):q.toString(36)}function L(_,q,X,J,le){var ge=typeof _;(ge==="undefined"||ge==="boolean")&&(_=null);var xe=!1;if(_===null)xe=!0;else switch(ge){case"string":case"number":xe=!0;break;case"object":switch(_.$$typeof){case e:case t:xe=!0}}if(xe)return xe=_,le=le(xe),_=J===""?"."+B(xe,0):J,C(le)?(X="",_!=null&&(X=_.replace($,"$&/")+"/"),L(le,q,X,"",function(ie){return ie})):le!=null&&(z(le)&&(le=M(le,X+(!le.key||xe&&xe.key===le.key?"":(""+le.key).replace($,"$&/")+"/")+_)),q.push(le)),1;if(xe=0,J=J===""?".":J+":",C(_))for(var Ie=0;Ie<_.length;Ie++){ge=_[Ie];var Pe=J+B(ge,Ie);xe+=L(ge,q,X,Pe,le)}else if(Pe=x(_),typeof Pe=="function")for(_=Pe.call(_),Ie=0;!(ge=_.next()).done;)ge=ge.value,Pe=J+B(ge,Ie++),xe+=L(ge,q,X,Pe,le);else if(ge==="object")throw q=String(_),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return xe}function F(_,q,X){if(_==null)return _;var J=[],le=0;return L(_,J,"","",function(ge){return q.call(X,ge,le++)}),J}function Y(_){if(_._status===-1){var q=_._result;q=q(),q.then(function(X){(_._status===0||_._status===-1)&&(_._status=1,_._result=X)},function(X){(_._status===0||_._status===-1)&&(_._status=2,_._result=X)}),_._status===-1&&(_._status=0,_._result=q)}if(_._status===1)return _._result.default;throw _._result}var W={current:null},V={transition:null},ee={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:V,ReactCurrentOwner:E};return Ue.Children={map:F,forEach:function(_,q,X){F(_,function(){q.apply(this,arguments)},X)},count:function(_){var q=0;return F(_,function(){q++}),q},toArray:function(_){return F(_,function(q){return q})||[]},only:function(_){if(!z(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},Ue.Component=w,Ue.Fragment=n,Ue.Profiler=i,Ue.PureComponent=k,Ue.StrictMode=r,Ue.Suspense=d,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,Ue.cloneElement=function(_,q,X){if(_==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_+".");var J=j({},_.props),le=_.key,ge=_.ref,xe=_._owner;if(q!=null){if(q.ref!==void 0&&(ge=q.ref,xe=E.current),q.key!==void 0&&(le=""+q.key),_.type&&_.type.defaultProps)var Ie=_.type.defaultProps;for(Pe in q)S.call(q,Pe)&&!D.hasOwnProperty(Pe)&&(J[Pe]=q[Pe]===void 0&&Ie!==void 0?Ie[Pe]:q[Pe])}var Pe=arguments.length-2;if(Pe===1)J.children=X;else if(1<Pe){Ie=Array(Pe);for(var ie=0;ie<Pe;ie++)Ie[ie]=arguments[ie+2];J.children=Ie}return{$$typeof:e,type:_.type,key:le,ref:ge,props:J,_owner:xe}},Ue.createContext=function(_){return _={$$typeof:c,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_.Provider={$$typeof:o,_context:_},_.Consumer=_},Ue.createElement=T,Ue.createFactory=function(_){var q=T.bind(null,_);return q.type=_,q},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(_){return{$$typeof:u,render:_}},Ue.isValidElement=z,Ue.lazy=function(_){return{$$typeof:h,_payload:{_status:-1,_result:_},_init:Y}},Ue.memo=function(_,q){return{$$typeof:f,type:_,compare:q===void 0?null:q}},Ue.startTransition=function(_){var q=V.transition;V.transition={};try{_()}finally{V.transition=q}},Ue.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Ue.useCallback=function(_,q){return W.current.useCallback(_,q)},Ue.useContext=function(_){return W.current.useContext(_)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(_){return W.current.useDeferredValue(_)},Ue.useEffect=function(_,q){return W.current.useEffect(_,q)},Ue.useId=function(){return W.current.useId()},Ue.useImperativeHandle=function(_,q,X){return W.current.useImperativeHandle(_,q,X)},Ue.useInsertionEffect=function(_,q){return W.current.useInsertionEffect(_,q)},Ue.useLayoutEffect=function(_,q){return W.current.useLayoutEffect(_,q)},Ue.useMemo=function(_,q){return W.current.useMemo(_,q)},Ue.useReducer=function(_,q,X){return W.current.useReducer(_,q,X)},Ue.useRef=function(_){return W.current.useRef(_)},Ue.useState=function(_){return W.current.useState(_)},Ue.useSyncExternalStore=function(_,q,X){return W.current.useSyncExternalStore(_,q,X)},Ue.useTransition=function(){return W.current.useTransition()},Ue.version="18.2.0",Ue}var Tj;function yy(){return Tj||(Tj=1,Lh.exports=TT()),Lh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _j;function _T(){if(_j)return sl;_j=1;var e=yy(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(u,d,f){var h,m={},x=null,v=null;f!==void 0&&(x=""+f),d.key!==void 0&&(x=""+d.key),d.ref!==void 0&&(v=d.ref);for(h in d)r.call(d,h)&&!o.hasOwnProperty(h)&&(m[h]=d[h]);if(u&&u.defaultProps)for(h in d=u.defaultProps,d)m[h]===void 0&&(m[h]=d[h]);return{$$typeof:t,type:u,key:x,ref:v,props:m,_owner:i.current}}return sl.Fragment=n,sl.jsx=c,sl.jsxs=c,sl}var Mj;function MT(){return Mj||(Mj=1,zh.exports=_T()),zh.exports}var a=MT(),O=yy();const H=lt(O),RT=IT({__proto__:null,default:H},[O]);var Ku={},Bh={exports:{}},wn={},Fh={exports:{}},Uh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rj;function $T(){return Rj||(Rj=1,(function(e){function t(V,ee){var _=V.length;V.push(ee);e:for(;0<_;){var q=_-1>>>1,X=V[q];if(0<i(X,ee))V[q]=ee,V[_]=X,_=q;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var ee=V[0],_=V.pop();if(_!==ee){V[0]=_;e:for(var q=0,X=V.length,J=X>>>1;q<J;){var le=2*(q+1)-1,ge=V[le],xe=le+1,Ie=V[xe];if(0>i(ge,_))xe<X&&0>i(Ie,ge)?(V[q]=Ie,V[xe]=_,q=xe):(V[q]=ge,V[le]=_,q=le);else if(xe<X&&0>i(Ie,_))V[q]=Ie,V[xe]=_,q=xe;else break e}}return ee}function i(V,ee){var _=V.sortIndex-ee.sortIndex;return _!==0?_:V.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var d=[],f=[],h=1,m=null,x=3,v=!1,j=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(V){for(var ee=n(f);ee!==null;){if(ee.callback===null)r(f);else if(ee.startTime<=V)r(f),ee.sortIndex=ee.expirationTime,t(d,ee);else break;ee=n(f)}}function C(V){if(b=!1,P(V),!j)if(n(d)!==null)j=!0,Y(S);else{var ee=n(f);ee!==null&&W(C,ee.startTime-V)}}function S(V,ee){j=!1,b&&(b=!1,y(T),T=-1),v=!0;var _=x;try{for(P(ee),m=n(d);m!==null&&(!(m.expirationTime>ee)||V&&!R());){var q=m.callback;if(typeof q=="function"){m.callback=null,x=m.priorityLevel;var X=q(m.expirationTime<=ee);ee=e.unstable_now(),typeof X=="function"?m.callback=X:m===n(d)&&r(d),P(ee)}else r(d);m=n(d)}if(m!==null)var J=!0;else{var le=n(f);le!==null&&W(C,le.startTime-ee),J=!1}return J}finally{m=null,x=_,v=!1}}var E=!1,D=null,T=-1,M=5,z=-1;function R(){return!(e.unstable_now()-z<M)}function $(){if(D!==null){var V=e.unstable_now();z=V;var ee=!0;try{ee=D(!0,V)}finally{ee?B():(E=!1,D=null)}}else E=!1}var B;if(typeof k=="function")B=function(){k($)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,F=L.port2;L.port1.onmessage=$,B=function(){F.postMessage(null)}}else B=function(){w($,0)};function Y(V){D=V,E||(E=!0,B())}function W(V,ee){T=w(function(){V(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){j||v||(j=!0,Y(S))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(V){switch(x){case 1:case 2:case 3:var ee=3;break;default:ee=x}var _=x;x=ee;try{return V()}finally{x=_}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,ee){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var _=x;x=V;try{return ee()}finally{x=_}},e.unstable_scheduleCallback=function(V,ee,_){var q=e.unstable_now();switch(typeof _=="object"&&_!==null?(_=_.delay,_=typeof _=="number"&&0<_?q+_:q):_=q,V){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=_+X,V={id:h++,callback:ee,priorityLevel:V,startTime:_,expirationTime:X,sortIndex:-1},_>q?(V.sortIndex=_,t(f,V),n(d)===null&&V===n(f)&&(b?(y(T),T=-1):b=!0,W(C,_-q))):(V.sortIndex=X,t(d,V),j||v||(j=!0,Y(S))),V},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(V){var ee=x;return function(){var _=x;x=ee;try{return V.apply(this,arguments)}finally{x=_}}}})(Uh)),Uh}var $j;function zT(){return $j||($j=1,Fh.exports=$T()),Fh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zj;function LT(){if(zj)return wn;zj=1;var e=yy(),t=zT();function n(s){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+s,p=1;p<arguments.length;p++)l+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,l){c(s,l),c(s+"Capture",l)}function c(s,l){for(i[s]=l,s=0;s<l.length;s++)r.add(l[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function x(s){return d.call(m,s)?!0:d.call(h,s)?!1:f.test(s)?m[s]=!0:(h[s]=!0,!1)}function v(s,l,p,g){if(p!==null&&p.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:p!==null?!p.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function j(s,l,p,g){if(l===null||typeof l>"u"||v(s,l,p,g))return!0;if(g)return!1;if(p!==null)switch(p.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function b(s,l,p,g,N,A,I){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=N,this.mustUseProperty=p,this.propertyName=s,this.type=l,this.sanitizeURL=A,this.removeEmptyString=I}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){w[s]=new b(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var l=s[0];w[l]=new b(l,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){w[s]=new b(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){w[s]=new b(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){w[s]=new b(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){w[s]=new b(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){w[s]=new b(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){w[s]=new b(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){w[s]=new b(s,5,!1,s.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function k(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var l=s.replace(y,k);w[l]=new b(l,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var l=s.replace(y,k);w[l]=new b(l,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var l=s.replace(y,k);w[l]=new b(l,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){w[s]=new b(s,1,!1,s.toLowerCase(),null,!1,!1)}),w.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){w[s]=new b(s,1,!1,s.toLowerCase(),null,!0,!0)});function P(s,l,p,g){var N=w.hasOwnProperty(l)?w[l]:null;(N!==null?N.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(j(l,p,N,g)&&(p=null),g||N===null?x(l)&&(p===null?s.removeAttribute(l):s.setAttribute(l,""+p)):N.mustUseProperty?s[N.propertyName]=p===null?N.type===3?!1:"":p:(l=N.attributeName,g=N.attributeNamespace,p===null?s.removeAttribute(l):(N=N.type,p=N===3||N===4&&p===!0?"":""+p,g?s.setAttributeNS(g,l,p):s.setAttribute(l,p))))}var C=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),E=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),R=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),V=Symbol.iterator;function ee(s){return s===null||typeof s!="object"?null:(s=V&&s[V]||s["@@iterator"],typeof s=="function"?s:null)}var _=Object.assign,q;function X(s){if(q===void 0)try{throw Error()}catch(p){var l=p.stack.trim().match(/\n( *(at )?)/);q=l&&l[1]||""}return`
`+q+s}var J=!1;function le(s,l){if(!s||J)return"";J=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(ne){var g=ne}Reflect.construct(s,[],l)}else{try{l.call()}catch(ne){g=ne}s.call(l.prototype)}else{try{throw Error()}catch(ne){g=ne}s()}}catch(ne){if(ne&&g&&typeof ne.stack=="string"){for(var N=ne.stack.split(`
`),A=g.stack.split(`
`),I=N.length-1,U=A.length-1;1<=I&&0<=U&&N[I]!==A[U];)U--;for(;1<=I&&0<=U;I--,U--)if(N[I]!==A[U]){if(I!==1||U!==1)do if(I--,U--,0>U||N[I]!==A[U]){var G=`
`+N[I].replace(" at new "," at ");return s.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",s.displayName)),G}while(1<=I&&0<=U);break}}}finally{J=!1,Error.prepareStackTrace=p}return(s=s?s.displayName||s.name:"")?X(s):""}function ge(s){switch(s.tag){case 5:return X(s.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return s=le(s.type,!1),s;case 11:return s=le(s.type.render,!1),s;case 1:return s=le(s.type,!0),s;default:return""}}function xe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case E:return"Portal";case M:return"Profiler";case T:return"StrictMode";case B:return"Suspense";case L:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case R:return(s.displayName||"Context")+".Consumer";case z:return(s._context.displayName||"Context")+".Provider";case $:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case F:return l=s.displayName||null,l!==null?l:xe(s.type)||"Memo";case Y:l=s._payload,s=s._init;try{return xe(s(l))}catch{}}return null}function Ie(s){var l=s.type;switch(s.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=l.render,s=s.displayName||s.name||"",l.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(l);case 8:return l===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Pe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ie(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ce(s){var l=ie(s)?"checked":"value",p=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),g=""+s[l];if(!s.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var N=p.get,A=p.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return N.call(this)},set:function(I){g=""+I,A.call(this,I)}}),Object.defineProperty(s,l,{enumerable:p.enumerable}),{getValue:function(){return g},setValue:function(I){g=""+I},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function Se(s){s._valueTracker||(s._valueTracker=Ce(s))}function se(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var p=l.getValue(),g="";return s&&(g=ie(s)?s.checked?"true":"false":s.value),s=g,s!==p?(l.setValue(s),!0):!1}function He(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function $e(s,l){var p=l.checked;return _({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??s._wrapperState.initialChecked})}function Ze(s,l){var p=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;p=Pe(l.value!=null?l.value:p),s._wrapperState={initialChecked:g,initialValue:p,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function de(s,l){l=l.checked,l!=null&&P(s,"checked",l,!1)}function _e(s,l){de(s,l);var p=Pe(l.value),g=l.type;if(p!=null)g==="number"?(p===0&&s.value===""||s.value!=p)&&(s.value=""+p):s.value!==""+p&&(s.value=""+p);else if(g==="submit"||g==="reset"){s.removeAttribute("value");return}l.hasOwnProperty("value")?ze(s,l.type,p):l.hasOwnProperty("defaultValue")&&ze(s,l.type,Pe(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(s.defaultChecked=!!l.defaultChecked)}function Ne(s,l,p){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+s._wrapperState.initialValue,p||l===s.value||(s.value=l),s.defaultValue=l}p=s.name,p!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,p!==""&&(s.name=p)}function ze(s,l,p){(l!=="number"||He(s.ownerDocument)!==s)&&(p==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+p&&(s.defaultValue=""+p))}var qe=Array.isArray;function We(s,l,p,g){if(s=s.options,l){l={};for(var N=0;N<p.length;N++)l["$"+p[N]]=!0;for(p=0;p<s.length;p++)N=l.hasOwnProperty("$"+s[p].value),s[p].selected!==N&&(s[p].selected=N),N&&g&&(s[p].defaultSelected=!0)}else{for(p=""+Pe(p),l=null,N=0;N<s.length;N++){if(s[N].value===p){s[N].selected=!0,g&&(s[N].defaultSelected=!0);return}l!==null||s[N].disabled||(l=s[N])}l!==null&&(l.selected=!0)}}function xt(s,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return _({},l,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Lt(s,l){var p=l.value;if(p==null){if(p=l.children,l=l.defaultValue,p!=null){if(l!=null)throw Error(n(92));if(qe(p)){if(1<p.length)throw Error(n(93));p=p[0]}l=p}l==null&&(l=""),p=l}s._wrapperState={initialValue:Pe(p)}}function me(s,l){var p=Pe(l.value),g=Pe(l.defaultValue);p!=null&&(p=""+p,p!==s.value&&(s.value=p),l.defaultValue==null&&s.defaultValue!==p&&(s.defaultValue=p)),g!=null&&(s.defaultValue=""+g)}function rt(s){var l=s.textContent;l===s._wrapperState.initialValue&&l!==""&&l!==null&&(s.value=l)}function Vt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ot(s,l){return s==null||s==="http://www.w3.org/1999/xhtml"?Vt(l):s==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var va,Qi=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,p,g,N){MSApp.execUnsafeLocalFunction(function(){return s(l,p,g,N)})}:s})(function(s,l){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=l;else{for(va=va||document.createElement("div"),va.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=va.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;l.firstChild;)s.appendChild(l.firstChild)}});function Fr(s,l){if(l){var p=s.firstChild;if(p&&p===s.lastChild&&p.nodeType===3){p.nodeValue=l;return}}s.textContent=l}var Ur={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bo=["Webkit","ms","Moz","O"];Object.keys(Ur).forEach(function(s){bo.forEach(function(l){l=l+s.charAt(0).toUpperCase()+s.substring(1),Ur[l]=Ur[s]})});function Zi(s,l,p){return l==null||typeof l=="boolean"||l===""?"":p||typeof l!="number"||l===0||Ur.hasOwnProperty(s)&&Ur[s]?(""+l).trim():l+"px"}function Ji(s,l){s=s.style;for(var p in l)if(l.hasOwnProperty(p)){var g=p.indexOf("--")===0,N=Zi(p,l[p],g);p==="float"&&(p="cssFloat"),g?s.setProperty(p,N):s[p]=N}}var mn=_({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zc(s,l){if(l){if(mn[s]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function wo(s,l){if(s.indexOf("-")===-1)return typeof l.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jo=null;function No(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Nr=null,Te=null,es=null;function Gb(s){if(s=Ho(s)){if(typeof Nr!="function")throw Error(n(280));var l=s.stateNode;l&&(l=ou(l),Nr(s.stateNode,s.type,l))}}function Yb(s){Te?es?es.push(s):es=[s]:Te=s}function Xb(){if(Te){var s=Te,l=es;if(es=Te=null,Gb(s),l)for(s=0;s<l.length;s++)Gb(l[s])}}function Qb(s,l){return s(l)}function Zb(){}var tp=!1;function Jb(s,l,p){if(tp)return s(l,p);tp=!0;try{return Qb(s,l,p)}finally{tp=!1,(Te!==null||es!==null)&&(Zb(),Xb())}}function So(s,l){var p=s.stateNode;if(p===null)return null;var g=ou(p);if(g===null)return null;p=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(p&&typeof p!="function")throw Error(n(231,l,typeof p));return p}var np=!1;if(u)try{var ko={};Object.defineProperty(ko,"passive",{get:function(){np=!0}}),window.addEventListener("test",ko,ko),window.removeEventListener("test",ko,ko)}catch{np=!1}function zI(s,l,p,g,N,A,I,U,G){var ne=Array.prototype.slice.call(arguments,3);try{l.apply(p,ne)}catch(ce){this.onError(ce)}}var Co=!1,Lc=null,Bc=!1,rp=null,LI={onError:function(s){Co=!0,Lc=s}};function BI(s,l,p,g,N,A,I,U,G){Co=!1,Lc=null,zI.apply(LI,arguments)}function FI(s,l,p,g,N,A,I,U,G){if(BI.apply(this,arguments),Co){if(Co){var ne=Lc;Co=!1,Lc=null}else throw Error(n(198));Bc||(Bc=!0,rp=ne)}}function ii(s){var l=s,p=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(p=l.return),s=l.return;while(s)}return l.tag===3?p:null}function e1(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function t1(s){if(ii(s)!==s)throw Error(n(188))}function UI(s){var l=s.alternate;if(!l){if(l=ii(s),l===null)throw Error(n(188));return l!==s?null:s}for(var p=s,g=l;;){var N=p.return;if(N===null)break;var A=N.alternate;if(A===null){if(g=N.return,g!==null){p=g;continue}break}if(N.child===A.child){for(A=N.child;A;){if(A===p)return t1(N),s;if(A===g)return t1(N),l;A=A.sibling}throw Error(n(188))}if(p.return!==g.return)p=N,g=A;else{for(var I=!1,U=N.child;U;){if(U===p){I=!0,p=N,g=A;break}if(U===g){I=!0,g=N,p=A;break}U=U.sibling}if(!I){for(U=A.child;U;){if(U===p){I=!0,p=A,g=N;break}if(U===g){I=!0,g=A,p=N;break}U=U.sibling}if(!I)throw Error(n(189))}}if(p.alternate!==g)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?s:l}function n1(s){return s=UI(s),s!==null?r1(s):null}function r1(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var l=r1(s);if(l!==null)return l;s=s.sibling}return null}var a1=t.unstable_scheduleCallback,i1=t.unstable_cancelCallback,qI=t.unstable_shouldYield,WI=t.unstable_requestPaint,St=t.unstable_now,HI=t.unstable_getCurrentPriorityLevel,ap=t.unstable_ImmediatePriority,s1=t.unstable_UserBlockingPriority,Fc=t.unstable_NormalPriority,VI=t.unstable_LowPriority,o1=t.unstable_IdlePriority,Uc=null,Sr=null;function KI(s){if(Sr&&typeof Sr.onCommitFiberRoot=="function")try{Sr.onCommitFiberRoot(Uc,s,void 0,(s.current.flags&128)===128)}catch{}}var ar=Math.clz32?Math.clz32:XI,GI=Math.log,YI=Math.LN2;function XI(s){return s>>>=0,s===0?32:31-(GI(s)/YI|0)|0}var qc=64,Wc=4194304;function Ao(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Hc(s,l){var p=s.pendingLanes;if(p===0)return 0;var g=0,N=s.suspendedLanes,A=s.pingedLanes,I=p&268435455;if(I!==0){var U=I&~N;U!==0?g=Ao(U):(A&=I,A!==0&&(g=Ao(A)))}else I=p&~N,I!==0?g=Ao(I):A!==0&&(g=Ao(A));if(g===0)return 0;if(l!==0&&l!==g&&(l&N)===0&&(N=g&-g,A=l&-l,N>=A||N===16&&(A&4194240)!==0))return l;if((g&4)!==0&&(g|=p&16),l=s.entangledLanes,l!==0)for(s=s.entanglements,l&=g;0<l;)p=31-ar(l),N=1<<p,g|=s[p],l&=~N;return g}function QI(s,l){switch(s){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZI(s,l){for(var p=s.suspendedLanes,g=s.pingedLanes,N=s.expirationTimes,A=s.pendingLanes;0<A;){var I=31-ar(A),U=1<<I,G=N[I];G===-1?((U&p)===0||(U&g)!==0)&&(N[I]=QI(U,l)):G<=l&&(s.expiredLanes|=U),A&=~U}}function ip(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function l1(){var s=qc;return qc<<=1,(qc&4194240)===0&&(qc=64),s}function sp(s){for(var l=[],p=0;31>p;p++)l.push(s);return l}function Po(s,l,p){s.pendingLanes|=l,l!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,l=31-ar(l),s[l]=p}function JI(s,l){var p=s.pendingLanes&~l;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=l,s.mutableReadLanes&=l,s.entangledLanes&=l,l=s.entanglements;var g=s.eventTimes;for(s=s.expirationTimes;0<p;){var N=31-ar(p),A=1<<N;l[N]=0,g[N]=-1,s[N]=-1,p&=~A}}function op(s,l){var p=s.entangledLanes|=l;for(s=s.entanglements;p;){var g=31-ar(p),N=1<<g;N&l|s[g]&l&&(s[g]|=l),p&=~N}}var tt=0;function c1(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var u1,lp,d1,f1,p1,cp=!1,Vc=[],ya=null,ba=null,wa=null,Eo=new Map,Do=new Map,ja=[],e5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function h1(s,l){switch(s){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":ba=null;break;case"mouseover":case"mouseout":wa=null;break;case"pointerover":case"pointerout":Eo.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Do.delete(l.pointerId)}}function Oo(s,l,p,g,N,A){return s===null||s.nativeEvent!==A?(s={blockedOn:l,domEventName:p,eventSystemFlags:g,nativeEvent:A,targetContainers:[N]},l!==null&&(l=Ho(l),l!==null&&lp(l)),s):(s.eventSystemFlags|=g,l=s.targetContainers,N!==null&&l.indexOf(N)===-1&&l.push(N),s)}function t5(s,l,p,g,N){switch(l){case"focusin":return ya=Oo(ya,s,l,p,g,N),!0;case"dragenter":return ba=Oo(ba,s,l,p,g,N),!0;case"mouseover":return wa=Oo(wa,s,l,p,g,N),!0;case"pointerover":var A=N.pointerId;return Eo.set(A,Oo(Eo.get(A)||null,s,l,p,g,N)),!0;case"gotpointercapture":return A=N.pointerId,Do.set(A,Oo(Do.get(A)||null,s,l,p,g,N)),!0}return!1}function m1(s){var l=si(s.target);if(l!==null){var p=ii(l);if(p!==null){if(l=p.tag,l===13){if(l=e1(p),l!==null){s.blockedOn=l,p1(s.priority,function(){d1(p)});return}}else if(l===3&&p.stateNode.current.memoizedState.isDehydrated){s.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Kc(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var p=dp(s.domEventName,s.eventSystemFlags,l[0],s.nativeEvent);if(p===null){p=s.nativeEvent;var g=new p.constructor(p.type,p);jo=g,p.target.dispatchEvent(g),jo=null}else return l=Ho(p),l!==null&&lp(l),s.blockedOn=p,!1;l.shift()}return!0}function x1(s,l,p){Kc(s)&&p.delete(l)}function n5(){cp=!1,ya!==null&&Kc(ya)&&(ya=null),ba!==null&&Kc(ba)&&(ba=null),wa!==null&&Kc(wa)&&(wa=null),Eo.forEach(x1),Do.forEach(x1)}function Io(s,l){s.blockedOn===l&&(s.blockedOn=null,cp||(cp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,n5)))}function To(s){function l(N){return Io(N,s)}if(0<Vc.length){Io(Vc[0],s);for(var p=1;p<Vc.length;p++){var g=Vc[p];g.blockedOn===s&&(g.blockedOn=null)}}for(ya!==null&&Io(ya,s),ba!==null&&Io(ba,s),wa!==null&&Io(wa,s),Eo.forEach(l),Do.forEach(l),p=0;p<ja.length;p++)g=ja[p],g.blockedOn===s&&(g.blockedOn=null);for(;0<ja.length&&(p=ja[0],p.blockedOn===null);)m1(p),p.blockedOn===null&&ja.shift()}var ts=C.ReactCurrentBatchConfig,Gc=!0;function r5(s,l,p,g){var N=tt,A=ts.transition;ts.transition=null;try{tt=1,up(s,l,p,g)}finally{tt=N,ts.transition=A}}function a5(s,l,p,g){var N=tt,A=ts.transition;ts.transition=null;try{tt=4,up(s,l,p,g)}finally{tt=N,ts.transition=A}}function up(s,l,p,g){if(Gc){var N=dp(s,l,p,g);if(N===null)Pp(s,l,g,Yc,p),h1(s,g);else if(t5(N,s,l,p,g))g.stopPropagation();else if(h1(s,g),l&4&&-1<e5.indexOf(s)){for(;N!==null;){var A=Ho(N);if(A!==null&&u1(A),A=dp(s,l,p,g),A===null&&Pp(s,l,g,Yc,p),A===N)break;N=A}N!==null&&g.stopPropagation()}else Pp(s,l,g,null,p)}}var Yc=null;function dp(s,l,p,g){if(Yc=null,s=No(g),s=si(s),s!==null)if(l=ii(s),l===null)s=null;else if(p=l.tag,p===13){if(s=e1(l),s!==null)return s;s=null}else if(p===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null);return Yc=s,null}function g1(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HI()){case ap:return 1;case s1:return 4;case Fc:case VI:return 16;case o1:return 536870912;default:return 16}default:return 16}}var Na=null,fp=null,Xc=null;function v1(){if(Xc)return Xc;var s,l=fp,p=l.length,g,N="value"in Na?Na.value:Na.textContent,A=N.length;for(s=0;s<p&&l[s]===N[s];s++);var I=p-s;for(g=1;g<=I&&l[p-g]===N[A-g];g++);return Xc=N.slice(s,1<g?1-g:void 0)}function Qc(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Zc(){return!0}function y1(){return!1}function En(s){function l(p,g,N,A,I){this._reactName=p,this._targetInst=N,this.type=g,this.nativeEvent=A,this.target=I,this.currentTarget=null;for(var U in s)s.hasOwnProperty(U)&&(p=s[U],this[U]=p?p(A):A[U]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Zc:y1,this.isPropagationStopped=y1,this}return _(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Zc)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Zc)},persist:function(){},isPersistent:Zc}),l}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pp=En(ns),_o=_({},ns,{view:0,detail:0}),i5=En(_o),hp,mp,Mo,Jc=_({},_o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gp,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Mo&&(Mo&&s.type==="mousemove"?(hp=s.screenX-Mo.screenX,mp=s.screenY-Mo.screenY):mp=hp=0,Mo=s),hp)},movementY:function(s){return"movementY"in s?s.movementY:mp}}),b1=En(Jc),s5=_({},Jc,{dataTransfer:0}),o5=En(s5),l5=_({},_o,{relatedTarget:0}),xp=En(l5),c5=_({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),u5=En(c5),d5=_({},ns,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),f5=En(d5),p5=_({},ns,{data:0}),w1=En(p5),h5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},m5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},x5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function g5(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=x5[s])?!!l[s]:!1}function gp(){return g5}var v5=_({},_o,{key:function(s){if(s.key){var l=h5[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=Qc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?m5[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gp,charCode:function(s){return s.type==="keypress"?Qc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Qc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),y5=En(v5),b5=_({},Jc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),j1=En(b5),w5=_({},_o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gp}),j5=En(w5),N5=_({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),S5=En(N5),k5=_({},Jc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),C5=En(k5),A5=[9,13,27,32],vp=u&&"CompositionEvent"in window,Ro=null;u&&"documentMode"in document&&(Ro=document.documentMode);var P5=u&&"TextEvent"in window&&!Ro,N1=u&&(!vp||Ro&&8<Ro&&11>=Ro),S1=" ",k1=!1;function C1(s,l){switch(s){case"keyup":return A5.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function A1(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var rs=!1;function E5(s,l){switch(s){case"compositionend":return A1(l);case"keypress":return l.which!==32?null:(k1=!0,S1);case"textInput":return s=l.data,s===S1&&k1?null:s;default:return null}}function D5(s,l){if(rs)return s==="compositionend"||!vp&&C1(s,l)?(s=v1(),Xc=fp=Na=null,rs=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return N1&&l.locale!=="ko"?null:l.data;default:return null}}var O5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function P1(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!O5[s.type]:l==="textarea"}function E1(s,l,p,g){Yb(g),l=au(l,"onChange"),0<l.length&&(p=new pp("onChange","change",null,p,g),s.push({event:p,listeners:l}))}var $o=null,zo=null;function I5(s){K1(s,0)}function eu(s){var l=ls(s);if(se(l))return s}function T5(s,l){if(s==="change")return l}var D1=!1;if(u){var yp;if(u){var bp="oninput"in document;if(!bp){var O1=document.createElement("div");O1.setAttribute("oninput","return;"),bp=typeof O1.oninput=="function"}yp=bp}else yp=!1;D1=yp&&(!document.documentMode||9<document.documentMode)}function I1(){$o&&($o.detachEvent("onpropertychange",T1),zo=$o=null)}function T1(s){if(s.propertyName==="value"&&eu(zo)){var l=[];E1(l,zo,s,No(s)),Jb(I5,l)}}function _5(s,l,p){s==="focusin"?(I1(),$o=l,zo=p,$o.attachEvent("onpropertychange",T1)):s==="focusout"&&I1()}function M5(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return eu(zo)}function R5(s,l){if(s==="click")return eu(l)}function $5(s,l){if(s==="input"||s==="change")return eu(l)}function z5(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var ir=typeof Object.is=="function"?Object.is:z5;function Lo(s,l){if(ir(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var p=Object.keys(s),g=Object.keys(l);if(p.length!==g.length)return!1;for(g=0;g<p.length;g++){var N=p[g];if(!d.call(l,N)||!ir(s[N],l[N]))return!1}return!0}function _1(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function M1(s,l){var p=_1(s);s=0;for(var g;p;){if(p.nodeType===3){if(g=s+p.textContent.length,s<=l&&g>=l)return{node:p,offset:l-s};s=g}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=_1(p)}}function R1(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?R1(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function $1(){for(var s=window,l=He();l instanceof s.HTMLIFrameElement;){try{var p=typeof l.contentWindow.location.href=="string"}catch{p=!1}if(p)s=l.contentWindow;else break;l=He(s.document)}return l}function wp(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}function L5(s){var l=$1(),p=s.focusedElem,g=s.selectionRange;if(l!==p&&p&&p.ownerDocument&&R1(p.ownerDocument.documentElement,p)){if(g!==null&&wp(p)){if(l=g.start,s=g.end,s===void 0&&(s=l),"selectionStart"in p)p.selectionStart=l,p.selectionEnd=Math.min(s,p.value.length);else if(s=(l=p.ownerDocument||document)&&l.defaultView||window,s.getSelection){s=s.getSelection();var N=p.textContent.length,A=Math.min(g.start,N);g=g.end===void 0?A:Math.min(g.end,N),!s.extend&&A>g&&(N=g,g=A,A=N),N=M1(p,A);var I=M1(p,g);N&&I&&(s.rangeCount!==1||s.anchorNode!==N.node||s.anchorOffset!==N.offset||s.focusNode!==I.node||s.focusOffset!==I.offset)&&(l=l.createRange(),l.setStart(N.node,N.offset),s.removeAllRanges(),A>g?(s.addRange(l),s.extend(I.node,I.offset)):(l.setEnd(I.node,I.offset),s.addRange(l)))}}for(l=[],s=p;s=s.parentNode;)s.nodeType===1&&l.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<l.length;p++)s=l[p],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var B5=u&&"documentMode"in document&&11>=document.documentMode,as=null,jp=null,Bo=null,Np=!1;function z1(s,l,p){var g=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Np||as==null||as!==He(g)||(g=as,"selectionStart"in g&&wp(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Bo&&Lo(Bo,g)||(Bo=g,g=au(jp,"onSelect"),0<g.length&&(l=new pp("onSelect","select",null,l,p),s.push({event:l,listeners:g}),l.target=as)))}function tu(s,l){var p={};return p[s.toLowerCase()]=l.toLowerCase(),p["Webkit"+s]="webkit"+l,p["Moz"+s]="moz"+l,p}var is={animationend:tu("Animation","AnimationEnd"),animationiteration:tu("Animation","AnimationIteration"),animationstart:tu("Animation","AnimationStart"),transitionend:tu("Transition","TransitionEnd")},Sp={},L1={};u&&(L1=document.createElement("div").style,"AnimationEvent"in window||(delete is.animationend.animation,delete is.animationiteration.animation,delete is.animationstart.animation),"TransitionEvent"in window||delete is.transitionend.transition);function nu(s){if(Sp[s])return Sp[s];if(!is[s])return s;var l=is[s],p;for(p in l)if(l.hasOwnProperty(p)&&p in L1)return Sp[s]=l[p];return s}var B1=nu("animationend"),F1=nu("animationiteration"),U1=nu("animationstart"),q1=nu("transitionend"),W1=new Map,H1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sa(s,l){W1.set(s,l),o(l,[s])}for(var kp=0;kp<H1.length;kp++){var Cp=H1[kp],F5=Cp.toLowerCase(),U5=Cp[0].toUpperCase()+Cp.slice(1);Sa(F5,"on"+U5)}Sa(B1,"onAnimationEnd"),Sa(F1,"onAnimationIteration"),Sa(U1,"onAnimationStart"),Sa("dblclick","onDoubleClick"),Sa("focusin","onFocus"),Sa("focusout","onBlur"),Sa(q1,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q5=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fo));function V1(s,l,p){var g=s.type||"unknown-event";s.currentTarget=p,FI(g,l,void 0,s),s.currentTarget=null}function K1(s,l){l=(l&4)!==0;for(var p=0;p<s.length;p++){var g=s[p],N=g.event;g=g.listeners;e:{var A=void 0;if(l)for(var I=g.length-1;0<=I;I--){var U=g[I],G=U.instance,ne=U.currentTarget;if(U=U.listener,G!==A&&N.isPropagationStopped())break e;V1(N,U,ne),A=G}else for(I=0;I<g.length;I++){if(U=g[I],G=U.instance,ne=U.currentTarget,U=U.listener,G!==A&&N.isPropagationStopped())break e;V1(N,U,ne),A=G}}}if(Bc)throw s=rp,Bc=!1,rp=null,s}function dt(s,l){var p=l[_p];p===void 0&&(p=l[_p]=new Set);var g=s+"__bubble";p.has(g)||(G1(l,s,2,!1),p.add(g))}function Ap(s,l,p){var g=0;l&&(g|=4),G1(p,s,g,l)}var ru="_reactListening"+Math.random().toString(36).slice(2);function Uo(s){if(!s[ru]){s[ru]=!0,r.forEach(function(p){p!=="selectionchange"&&(q5.has(p)||Ap(p,!1,s),Ap(p,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[ru]||(l[ru]=!0,Ap("selectionchange",!1,l))}}function G1(s,l,p,g){switch(g1(l)){case 1:var N=r5;break;case 4:N=a5;break;default:N=up}p=N.bind(null,l,p,s),N=void 0,!np||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(N=!0),g?N!==void 0?s.addEventListener(l,p,{capture:!0,passive:N}):s.addEventListener(l,p,!0):N!==void 0?s.addEventListener(l,p,{passive:N}):s.addEventListener(l,p,!1)}function Pp(s,l,p,g,N){var A=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var I=g.tag;if(I===3||I===4){var U=g.stateNode.containerInfo;if(U===N||U.nodeType===8&&U.parentNode===N)break;if(I===4)for(I=g.return;I!==null;){var G=I.tag;if((G===3||G===4)&&(G=I.stateNode.containerInfo,G===N||G.nodeType===8&&G.parentNode===N))return;I=I.return}for(;U!==null;){if(I=si(U),I===null)return;if(G=I.tag,G===5||G===6){g=A=I;continue e}U=U.parentNode}}g=g.return}Jb(function(){var ne=A,ce=No(p),ue=[];e:{var oe=W1.get(s);if(oe!==void 0){var ve=pp,we=s;switch(s){case"keypress":if(Qc(p)===0)break e;case"keydown":case"keyup":ve=y5;break;case"focusin":we="focus",ve=xp;break;case"focusout":we="blur",ve=xp;break;case"beforeblur":case"afterblur":ve=xp;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=b1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=o5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=j5;break;case B1:case F1:case U1:ve=u5;break;case q1:ve=S5;break;case"scroll":ve=i5;break;case"wheel":ve=C5;break;case"copy":case"cut":case"paste":ve=f5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=j1}var je=(l&4)!==0,kt=!je&&s==="scroll",Z=je?oe!==null?oe+"Capture":null:oe;je=[];for(var Q=ne,te;Q!==null;){te=Q;var fe=te.stateNode;if(te.tag===5&&fe!==null&&(te=fe,Z!==null&&(fe=So(Q,Z),fe!=null&&je.push(qo(Q,fe,te)))),kt)break;Q=Q.return}0<je.length&&(oe=new ve(oe,we,null,p,ce),ue.push({event:oe,listeners:je}))}}if((l&7)===0){e:{if(oe=s==="mouseover"||s==="pointerover",ve=s==="mouseout"||s==="pointerout",oe&&p!==jo&&(we=p.relatedTarget||p.fromElement)&&(si(we)||we[qr]))break e;if((ve||oe)&&(oe=ce.window===ce?ce:(oe=ce.ownerDocument)?oe.defaultView||oe.parentWindow:window,ve?(we=p.relatedTarget||p.toElement,ve=ne,we=we?si(we):null,we!==null&&(kt=ii(we),we!==kt||we.tag!==5&&we.tag!==6)&&(we=null)):(ve=null,we=ne),ve!==we)){if(je=b1,fe="onMouseLeave",Z="onMouseEnter",Q="mouse",(s==="pointerout"||s==="pointerover")&&(je=j1,fe="onPointerLeave",Z="onPointerEnter",Q="pointer"),kt=ve==null?oe:ls(ve),te=we==null?oe:ls(we),oe=new je(fe,Q+"leave",ve,p,ce),oe.target=kt,oe.relatedTarget=te,fe=null,si(ce)===ne&&(je=new je(Z,Q+"enter",we,p,ce),je.target=te,je.relatedTarget=kt,fe=je),kt=fe,ve&&we)t:{for(je=ve,Z=we,Q=0,te=je;te;te=ss(te))Q++;for(te=0,fe=Z;fe;fe=ss(fe))te++;for(;0<Q-te;)je=ss(je),Q--;for(;0<te-Q;)Z=ss(Z),te--;for(;Q--;){if(je===Z||Z!==null&&je===Z.alternate)break t;je=ss(je),Z=ss(Z)}je=null}else je=null;ve!==null&&Y1(ue,oe,ve,je,!1),we!==null&&kt!==null&&Y1(ue,kt,we,je,!0)}}e:{if(oe=ne?ls(ne):window,ve=oe.nodeName&&oe.nodeName.toLowerCase(),ve==="select"||ve==="input"&&oe.type==="file")var ke=T5;else if(P1(oe))if(D1)ke=$5;else{ke=M5;var Ee=_5}else(ve=oe.nodeName)&&ve.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(ke=R5);if(ke&&(ke=ke(s,ne))){E1(ue,ke,p,ce);break e}Ee&&Ee(s,oe,ne),s==="focusout"&&(Ee=oe._wrapperState)&&Ee.controlled&&oe.type==="number"&&ze(oe,"number",oe.value)}switch(Ee=ne?ls(ne):window,s){case"focusin":(P1(Ee)||Ee.contentEditable==="true")&&(as=Ee,jp=ne,Bo=null);break;case"focusout":Bo=jp=as=null;break;case"mousedown":Np=!0;break;case"contextmenu":case"mouseup":case"dragend":Np=!1,z1(ue,p,ce);break;case"selectionchange":if(B5)break;case"keydown":case"keyup":z1(ue,p,ce)}var De;if(vp)e:{switch(s){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else rs?C1(s,p)&&(Re="onCompositionEnd"):s==="keydown"&&p.keyCode===229&&(Re="onCompositionStart");Re&&(N1&&p.locale!=="ko"&&(rs||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&rs&&(De=v1()):(Na=ce,fp="value"in Na?Na.value:Na.textContent,rs=!0)),Ee=au(ne,Re),0<Ee.length&&(Re=new w1(Re,s,null,p,ce),ue.push({event:Re,listeners:Ee}),De?Re.data=De:(De=A1(p),De!==null&&(Re.data=De)))),(De=P5?E5(s,p):D5(s,p))&&(ne=au(ne,"onBeforeInput"),0<ne.length&&(ce=new w1("onBeforeInput","beforeinput",null,p,ce),ue.push({event:ce,listeners:ne}),ce.data=De))}K1(ue,l)})}function qo(s,l,p){return{instance:s,listener:l,currentTarget:p}}function au(s,l){for(var p=l+"Capture",g=[];s!==null;){var N=s,A=N.stateNode;N.tag===5&&A!==null&&(N=A,A=So(s,p),A!=null&&g.unshift(qo(s,A,N)),A=So(s,l),A!=null&&g.push(qo(s,A,N))),s=s.return}return g}function ss(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Y1(s,l,p,g,N){for(var A=l._reactName,I=[];p!==null&&p!==g;){var U=p,G=U.alternate,ne=U.stateNode;if(G!==null&&G===g)break;U.tag===5&&ne!==null&&(U=ne,N?(G=So(p,A),G!=null&&I.unshift(qo(p,G,U))):N||(G=So(p,A),G!=null&&I.push(qo(p,G,U)))),p=p.return}I.length!==0&&s.push({event:l,listeners:I})}var W5=/\r\n?/g,H5=/\u0000|\uFFFD/g;function X1(s){return(typeof s=="string"?s:""+s).replace(W5,`
`).replace(H5,"")}function iu(s,l,p){if(l=X1(l),X1(s)!==l&&p)throw Error(n(425))}function su(){}var Ep=null,Dp=null;function Op(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Ip=typeof setTimeout=="function"?setTimeout:void 0,V5=typeof clearTimeout=="function"?clearTimeout:void 0,Q1=typeof Promise=="function"?Promise:void 0,K5=typeof queueMicrotask=="function"?queueMicrotask:typeof Q1<"u"?function(s){return Q1.resolve(null).then(s).catch(G5)}:Ip;function G5(s){setTimeout(function(){throw s})}function Tp(s,l){var p=l,g=0;do{var N=p.nextSibling;if(s.removeChild(p),N&&N.nodeType===8)if(p=N.data,p==="/$"){if(g===0){s.removeChild(N),To(l);return}g--}else p!=="$"&&p!=="$?"&&p!=="$!"||g++;p=N}while(p);To(l)}function ka(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return s}function Z1(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var p=s.data;if(p==="$"||p==="$!"||p==="$?"){if(l===0)return s;l--}else p==="/$"&&l++}s=s.previousSibling}return null}var os=Math.random().toString(36).slice(2),kr="__reactFiber$"+os,Wo="__reactProps$"+os,qr="__reactContainer$"+os,_p="__reactEvents$"+os,Y5="__reactListeners$"+os,X5="__reactHandles$"+os;function si(s){var l=s[kr];if(l)return l;for(var p=s.parentNode;p;){if(l=p[qr]||p[kr]){if(p=l.alternate,l.child!==null||p!==null&&p.child!==null)for(s=Z1(s);s!==null;){if(p=s[kr])return p;s=Z1(s)}return l}s=p,p=s.parentNode}return null}function Ho(s){return s=s[kr]||s[qr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ls(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function ou(s){return s[Wo]||null}var Mp=[],cs=-1;function Ca(s){return{current:s}}function ft(s){0>cs||(s.current=Mp[cs],Mp[cs]=null,cs--)}function ct(s,l){cs++,Mp[cs]=s.current,s.current=l}var Aa={},Qt=Ca(Aa),xn=Ca(!1),oi=Aa;function us(s,l){var p=s.type.contextTypes;if(!p)return Aa;var g=s.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var N={},A;for(A in p)N[A]=l[A];return g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=l,s.__reactInternalMemoizedMaskedChildContext=N),N}function gn(s){return s=s.childContextTypes,s!=null}function lu(){ft(xn),ft(Qt)}function J1(s,l,p){if(Qt.current!==Aa)throw Error(n(168));ct(Qt,l),ct(xn,p)}function ew(s,l,p){var g=s.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return p;g=g.getChildContext();for(var N in g)if(!(N in l))throw Error(n(108,Ie(s)||"Unknown",N));return _({},p,g)}function cu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Aa,oi=Qt.current,ct(Qt,s),ct(xn,xn.current),!0}function tw(s,l,p){var g=s.stateNode;if(!g)throw Error(n(169));p?(s=ew(s,l,oi),g.__reactInternalMemoizedMergedChildContext=s,ft(xn),ft(Qt),ct(Qt,s)):ft(xn),ct(xn,p)}var Wr=null,uu=!1,Rp=!1;function nw(s){Wr===null?Wr=[s]:Wr.push(s)}function Q5(s){uu=!0,nw(s)}function Pa(){if(!Rp&&Wr!==null){Rp=!0;var s=0,l=tt;try{var p=Wr;for(tt=1;s<p.length;s++){var g=p[s];do g=g(!0);while(g!==null)}Wr=null,uu=!1}catch(N){throw Wr!==null&&(Wr=Wr.slice(s+1)),a1(ap,Pa),N}finally{tt=l,Rp=!1}}return null}var ds=[],fs=0,du=null,fu=0,Bn=[],Fn=0,li=null,Hr=1,Vr="";function ci(s,l){ds[fs++]=fu,ds[fs++]=du,du=s,fu=l}function rw(s,l,p){Bn[Fn++]=Hr,Bn[Fn++]=Vr,Bn[Fn++]=li,li=s;var g=Hr;s=Vr;var N=32-ar(g)-1;g&=~(1<<N),p+=1;var A=32-ar(l)+N;if(30<A){var I=N-N%5;A=(g&(1<<I)-1).toString(32),g>>=I,N-=I,Hr=1<<32-ar(l)+N|p<<N|g,Vr=A+s}else Hr=1<<A|p<<N|g,Vr=s}function $p(s){s.return!==null&&(ci(s,1),rw(s,1,0))}function zp(s){for(;s===du;)du=ds[--fs],ds[fs]=null,fu=ds[--fs],ds[fs]=null;for(;s===li;)li=Bn[--Fn],Bn[Fn]=null,Vr=Bn[--Fn],Bn[Fn]=null,Hr=Bn[--Fn],Bn[Fn]=null}var Dn=null,On=null,ht=!1,sr=null;function aw(s,l){var p=Hn(5,null,null,0);p.elementType="DELETED",p.stateNode=l,p.return=s,l=s.deletions,l===null?(s.deletions=[p],s.flags|=16):l.push(p)}function iw(s,l){switch(s.tag){case 5:var p=s.type;return l=l.nodeType!==1||p.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(s.stateNode=l,Dn=s,On=ka(l.firstChild),!0):!1;case 6:return l=s.pendingProps===""||l.nodeType!==3?null:l,l!==null?(s.stateNode=l,Dn=s,On=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(p=li!==null?{id:Hr,overflow:Vr}:null,s.memoizedState={dehydrated:l,treeContext:p,retryLane:1073741824},p=Hn(18,null,null,0),p.stateNode=l,p.return=s,s.child=p,Dn=s,On=null,!0):!1;default:return!1}}function Lp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Bp(s){if(ht){var l=On;if(l){var p=l;if(!iw(s,l)){if(Lp(s))throw Error(n(418));l=ka(p.nextSibling);var g=Dn;l&&iw(s,l)?aw(g,p):(s.flags=s.flags&-4097|2,ht=!1,Dn=s)}}else{if(Lp(s))throw Error(n(418));s.flags=s.flags&-4097|2,ht=!1,Dn=s}}}function sw(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Dn=s}function pu(s){if(s!==Dn)return!1;if(!ht)return sw(s),ht=!0,!1;var l;if((l=s.tag!==3)&&!(l=s.tag!==5)&&(l=s.type,l=l!=="head"&&l!=="body"&&!Op(s.type,s.memoizedProps)),l&&(l=On)){if(Lp(s))throw ow(),Error(n(418));for(;l;)aw(s,l),l=ka(l.nextSibling)}if(sw(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8){var p=s.data;if(p==="/$"){if(l===0){On=ka(s.nextSibling);break e}l--}else p!=="$"&&p!=="$!"&&p!=="$?"||l++}s=s.nextSibling}On=null}}else On=Dn?ka(s.stateNode.nextSibling):null;return!0}function ow(){for(var s=On;s;)s=ka(s.nextSibling)}function ps(){On=Dn=null,ht=!1}function Fp(s){sr===null?sr=[s]:sr.push(s)}var Z5=C.ReactCurrentBatchConfig;function or(s,l){if(s&&s.defaultProps){l=_({},l),s=s.defaultProps;for(var p in s)l[p]===void 0&&(l[p]=s[p]);return l}return l}var hu=Ca(null),mu=null,hs=null,Up=null;function qp(){Up=hs=mu=null}function Wp(s){var l=hu.current;ft(hu),s._currentValue=l}function Hp(s,l,p){for(;s!==null;){var g=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),s===p)break;s=s.return}}function ms(s,l){mu=s,Up=hs=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&l)!==0&&(vn=!0),s.firstContext=null)}function Un(s){var l=s._currentValue;if(Up!==s)if(s={context:s,memoizedValue:l,next:null},hs===null){if(mu===null)throw Error(n(308));hs=s,mu.dependencies={lanes:0,firstContext:s}}else hs=hs.next=s;return l}var ui=null;function Vp(s){ui===null?ui=[s]:ui.push(s)}function lw(s,l,p,g){var N=l.interleaved;return N===null?(p.next=p,Vp(l)):(p.next=N.next,N.next=p),l.interleaved=p,Kr(s,g)}function Kr(s,l){s.lanes|=l;var p=s.alternate;for(p!==null&&(p.lanes|=l),p=s,s=s.return;s!==null;)s.childLanes|=l,p=s.alternate,p!==null&&(p.childLanes|=l),p=s,s=s.return;return p.tag===3?p.stateNode:null}var Ea=!1;function Kp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cw(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Gr(s,l){return{eventTime:s,lane:l,tag:0,payload:null,callback:null,next:null}}function Da(s,l,p){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(Ve&2)!==0){var N=g.pending;return N===null?l.next=l:(l.next=N.next,N.next=l),g.pending=l,Kr(s,p)}return N=g.interleaved,N===null?(l.next=l,Vp(g)):(l.next=N.next,N.next=l),g.interleaved=l,Kr(s,p)}function xu(s,l,p){if(l=l.updateQueue,l!==null&&(l=l.shared,(p&4194240)!==0)){var g=l.lanes;g&=s.pendingLanes,p|=g,l.lanes=p,op(s,p)}}function uw(s,l){var p=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,p===g)){var N=null,A=null;if(p=p.firstBaseUpdate,p!==null){do{var I={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};A===null?N=A=I:A=A.next=I,p=p.next}while(p!==null);A===null?N=A=l:A=A.next=l}else N=A=l;p={baseState:g.baseState,firstBaseUpdate:N,lastBaseUpdate:A,shared:g.shared,effects:g.effects},s.updateQueue=p;return}s=p.lastBaseUpdate,s===null?p.firstBaseUpdate=l:s.next=l,p.lastBaseUpdate=l}function gu(s,l,p,g){var N=s.updateQueue;Ea=!1;var A=N.firstBaseUpdate,I=N.lastBaseUpdate,U=N.shared.pending;if(U!==null){N.shared.pending=null;var G=U,ne=G.next;G.next=null,I===null?A=ne:I.next=ne,I=G;var ce=s.alternate;ce!==null&&(ce=ce.updateQueue,U=ce.lastBaseUpdate,U!==I&&(U===null?ce.firstBaseUpdate=ne:U.next=ne,ce.lastBaseUpdate=G))}if(A!==null){var ue=N.baseState;I=0,ce=ne=G=null,U=A;do{var oe=U.lane,ve=U.eventTime;if((g&oe)===oe){ce!==null&&(ce=ce.next={eventTime:ve,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var we=s,je=U;switch(oe=l,ve=p,je.tag){case 1:if(we=je.payload,typeof we=="function"){ue=we.call(ve,ue,oe);break e}ue=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=je.payload,oe=typeof we=="function"?we.call(ve,ue,oe):we,oe==null)break e;ue=_({},ue,oe);break e;case 2:Ea=!0}}U.callback!==null&&U.lane!==0&&(s.flags|=64,oe=N.effects,oe===null?N.effects=[U]:oe.push(U))}else ve={eventTime:ve,lane:oe,tag:U.tag,payload:U.payload,callback:U.callback,next:null},ce===null?(ne=ce=ve,G=ue):ce=ce.next=ve,I|=oe;if(U=U.next,U===null){if(U=N.shared.pending,U===null)break;oe=U,U=oe.next,oe.next=null,N.lastBaseUpdate=oe,N.shared.pending=null}}while(!0);if(ce===null&&(G=ue),N.baseState=G,N.firstBaseUpdate=ne,N.lastBaseUpdate=ce,l=N.shared.interleaved,l!==null){N=l;do I|=N.lane,N=N.next;while(N!==l)}else A===null&&(N.shared.lanes=0);pi|=I,s.lanes=I,s.memoizedState=ue}}function dw(s,l,p){if(s=l.effects,l.effects=null,s!==null)for(l=0;l<s.length;l++){var g=s[l],N=g.callback;if(N!==null){if(g.callback=null,g=p,typeof N!="function")throw Error(n(191,N));N.call(g)}}}var fw=new e.Component().refs;function Gp(s,l,p,g){l=s.memoizedState,p=p(g,l),p=p==null?l:_({},l,p),s.memoizedState=p,s.lanes===0&&(s.updateQueue.baseState=p)}var vu={isMounted:function(s){return(s=s._reactInternals)?ii(s)===s:!1},enqueueSetState:function(s,l,p){s=s._reactInternals;var g=un(),N=_a(s),A=Gr(g,N);A.payload=l,p!=null&&(A.callback=p),l=Da(s,A,N),l!==null&&(ur(l,s,N,g),xu(l,s,N))},enqueueReplaceState:function(s,l,p){s=s._reactInternals;var g=un(),N=_a(s),A=Gr(g,N);A.tag=1,A.payload=l,p!=null&&(A.callback=p),l=Da(s,A,N),l!==null&&(ur(l,s,N,g),xu(l,s,N))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var p=un(),g=_a(s),N=Gr(p,g);N.tag=2,l!=null&&(N.callback=l),l=Da(s,N,g),l!==null&&(ur(l,s,g,p),xu(l,s,g))}};function pw(s,l,p,g,N,A,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,A,I):l.prototype&&l.prototype.isPureReactComponent?!Lo(p,g)||!Lo(N,A):!0}function hw(s,l,p){var g=!1,N=Aa,A=l.contextType;return typeof A=="object"&&A!==null?A=Un(A):(N=gn(l)?oi:Qt.current,g=l.contextTypes,A=(g=g!=null)?us(s,N):Aa),l=new l(p,A),s.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=vu,s.stateNode=l,l._reactInternals=s,g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=N,s.__reactInternalMemoizedMaskedChildContext=A),l}function mw(s,l,p,g){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(p,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(p,g),l.state!==s&&vu.enqueueReplaceState(l,l.state,null)}function Yp(s,l,p,g){var N=s.stateNode;N.props=p,N.state=s.memoizedState,N.refs=fw,Kp(s);var A=l.contextType;typeof A=="object"&&A!==null?N.context=Un(A):(A=gn(l)?oi:Qt.current,N.context=us(s,A)),N.state=s.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(Gp(s,l,A,p),N.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(l=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),l!==N.state&&vu.enqueueReplaceState(N,N.state,null),gu(s,p,N,g),N.state=s.memoizedState),typeof N.componentDidMount=="function"&&(s.flags|=4194308)}function Vo(s,l,p){if(s=p.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(n(309));var g=p.stateNode}if(!g)throw Error(n(147,s));var N=g,A=""+s;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===A?l.ref:(l=function(I){var U=N.refs;U===fw&&(U=N.refs={}),I===null?delete U[A]:U[A]=I},l._stringRef=A,l)}if(typeof s!="string")throw Error(n(284));if(!p._owner)throw Error(n(290,s))}return s}function yu(s,l){throw s=Object.prototype.toString.call(l),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s))}function xw(s){var l=s._init;return l(s._payload)}function gw(s){function l(Z,Q){if(s){var te=Z.deletions;te===null?(Z.deletions=[Q],Z.flags|=16):te.push(Q)}}function p(Z,Q){if(!s)return null;for(;Q!==null;)l(Z,Q),Q=Q.sibling;return null}function g(Z,Q){for(Z=new Map;Q!==null;)Q.key!==null?Z.set(Q.key,Q):Z.set(Q.index,Q),Q=Q.sibling;return Z}function N(Z,Q){return Z=Ra(Z,Q),Z.index=0,Z.sibling=null,Z}function A(Z,Q,te){return Z.index=te,s?(te=Z.alternate,te!==null?(te=te.index,te<Q?(Z.flags|=2,Q):te):(Z.flags|=2,Q)):(Z.flags|=1048576,Q)}function I(Z){return s&&Z.alternate===null&&(Z.flags|=2),Z}function U(Z,Q,te,fe){return Q===null||Q.tag!==6?(Q=Ih(te,Z.mode,fe),Q.return=Z,Q):(Q=N(Q,te),Q.return=Z,Q)}function G(Z,Q,te,fe){var ke=te.type;return ke===D?ce(Z,Q,te.props.children,fe,te.key):Q!==null&&(Q.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===Y&&xw(ke)===Q.type)?(fe=N(Q,te.props),fe.ref=Vo(Z,Q,te),fe.return=Z,fe):(fe=zu(te.type,te.key,te.props,null,Z.mode,fe),fe.ref=Vo(Z,Q,te),fe.return=Z,fe)}function ne(Z,Q,te,fe){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==te.containerInfo||Q.stateNode.implementation!==te.implementation?(Q=Th(te,Z.mode,fe),Q.return=Z,Q):(Q=N(Q,te.children||[]),Q.return=Z,Q)}function ce(Z,Q,te,fe,ke){return Q===null||Q.tag!==7?(Q=gi(te,Z.mode,fe,ke),Q.return=Z,Q):(Q=N(Q,te),Q.return=Z,Q)}function ue(Z,Q,te){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Q=Ih(""+Q,Z.mode,te),Q.return=Z,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case S:return te=zu(Q.type,Q.key,Q.props,null,Z.mode,te),te.ref=Vo(Z,null,Q),te.return=Z,te;case E:return Q=Th(Q,Z.mode,te),Q.return=Z,Q;case Y:var fe=Q._init;return ue(Z,fe(Q._payload),te)}if(qe(Q)||ee(Q))return Q=gi(Q,Z.mode,te,null),Q.return=Z,Q;yu(Z,Q)}return null}function oe(Z,Q,te,fe){var ke=Q!==null?Q.key:null;if(typeof te=="string"&&te!==""||typeof te=="number")return ke!==null?null:U(Z,Q,""+te,fe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case S:return te.key===ke?G(Z,Q,te,fe):null;case E:return te.key===ke?ne(Z,Q,te,fe):null;case Y:return ke=te._init,oe(Z,Q,ke(te._payload),fe)}if(qe(te)||ee(te))return ke!==null?null:ce(Z,Q,te,fe,null);yu(Z,te)}return null}function ve(Z,Q,te,fe,ke){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return Z=Z.get(te)||null,U(Q,Z,""+fe,ke);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case S:return Z=Z.get(fe.key===null?te:fe.key)||null,G(Q,Z,fe,ke);case E:return Z=Z.get(fe.key===null?te:fe.key)||null,ne(Q,Z,fe,ke);case Y:var Ee=fe._init;return ve(Z,Q,te,Ee(fe._payload),ke)}if(qe(fe)||ee(fe))return Z=Z.get(te)||null,ce(Q,Z,fe,ke,null);yu(Q,fe)}return null}function we(Z,Q,te,fe){for(var ke=null,Ee=null,De=Q,Re=Q=0,Ut=null;De!==null&&Re<te.length;Re++){De.index>Re?(Ut=De,De=null):Ut=De.sibling;var Ge=oe(Z,De,te[Re],fe);if(Ge===null){De===null&&(De=Ut);break}s&&De&&Ge.alternate===null&&l(Z,De),Q=A(Ge,Q,Re),Ee===null?ke=Ge:Ee.sibling=Ge,Ee=Ge,De=Ut}if(Re===te.length)return p(Z,De),ht&&ci(Z,Re),ke;if(De===null){for(;Re<te.length;Re++)De=ue(Z,te[Re],fe),De!==null&&(Q=A(De,Q,Re),Ee===null?ke=De:Ee.sibling=De,Ee=De);return ht&&ci(Z,Re),ke}for(De=g(Z,De);Re<te.length;Re++)Ut=ve(De,Z,Re,te[Re],fe),Ut!==null&&(s&&Ut.alternate!==null&&De.delete(Ut.key===null?Re:Ut.key),Q=A(Ut,Q,Re),Ee===null?ke=Ut:Ee.sibling=Ut,Ee=Ut);return s&&De.forEach(function($a){return l(Z,$a)}),ht&&ci(Z,Re),ke}function je(Z,Q,te,fe){var ke=ee(te);if(typeof ke!="function")throw Error(n(150));if(te=ke.call(te),te==null)throw Error(n(151));for(var Ee=ke=null,De=Q,Re=Q=0,Ut=null,Ge=te.next();De!==null&&!Ge.done;Re++,Ge=te.next()){De.index>Re?(Ut=De,De=null):Ut=De.sibling;var $a=oe(Z,De,Ge.value,fe);if($a===null){De===null&&(De=Ut);break}s&&De&&$a.alternate===null&&l(Z,De),Q=A($a,Q,Re),Ee===null?ke=$a:Ee.sibling=$a,Ee=$a,De=Ut}if(Ge.done)return p(Z,De),ht&&ci(Z,Re),ke;if(De===null){for(;!Ge.done;Re++,Ge=te.next())Ge=ue(Z,Ge.value,fe),Ge!==null&&(Q=A(Ge,Q,Re),Ee===null?ke=Ge:Ee.sibling=Ge,Ee=Ge);return ht&&ci(Z,Re),ke}for(De=g(Z,De);!Ge.done;Re++,Ge=te.next())Ge=ve(De,Z,Re,Ge.value,fe),Ge!==null&&(s&&Ge.alternate!==null&&De.delete(Ge.key===null?Re:Ge.key),Q=A(Ge,Q,Re),Ee===null?ke=Ge:Ee.sibling=Ge,Ee=Ge);return s&&De.forEach(function(OT){return l(Z,OT)}),ht&&ci(Z,Re),ke}function kt(Z,Q,te,fe){if(typeof te=="object"&&te!==null&&te.type===D&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case S:e:{for(var ke=te.key,Ee=Q;Ee!==null;){if(Ee.key===ke){if(ke=te.type,ke===D){if(Ee.tag===7){p(Z,Ee.sibling),Q=N(Ee,te.props.children),Q.return=Z,Z=Q;break e}}else if(Ee.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===Y&&xw(ke)===Ee.type){p(Z,Ee.sibling),Q=N(Ee,te.props),Q.ref=Vo(Z,Ee,te),Q.return=Z,Z=Q;break e}p(Z,Ee);break}else l(Z,Ee);Ee=Ee.sibling}te.type===D?(Q=gi(te.props.children,Z.mode,fe,te.key),Q.return=Z,Z=Q):(fe=zu(te.type,te.key,te.props,null,Z.mode,fe),fe.ref=Vo(Z,Q,te),fe.return=Z,Z=fe)}return I(Z);case E:e:{for(Ee=te.key;Q!==null;){if(Q.key===Ee)if(Q.tag===4&&Q.stateNode.containerInfo===te.containerInfo&&Q.stateNode.implementation===te.implementation){p(Z,Q.sibling),Q=N(Q,te.children||[]),Q.return=Z,Z=Q;break e}else{p(Z,Q);break}else l(Z,Q);Q=Q.sibling}Q=Th(te,Z.mode,fe),Q.return=Z,Z=Q}return I(Z);case Y:return Ee=te._init,kt(Z,Q,Ee(te._payload),fe)}if(qe(te))return we(Z,Q,te,fe);if(ee(te))return je(Z,Q,te,fe);yu(Z,te)}return typeof te=="string"&&te!==""||typeof te=="number"?(te=""+te,Q!==null&&Q.tag===6?(p(Z,Q.sibling),Q=N(Q,te),Q.return=Z,Z=Q):(p(Z,Q),Q=Ih(te,Z.mode,fe),Q.return=Z,Z=Q),I(Z)):p(Z,Q)}return kt}var xs=gw(!0),vw=gw(!1),Ko={},Cr=Ca(Ko),Go=Ca(Ko),Yo=Ca(Ko);function di(s){if(s===Ko)throw Error(n(174));return s}function Xp(s,l){switch(ct(Yo,l),ct(Go,s),ct(Cr,Ko),s=l.nodeType,s){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Ot(null,"");break;default:s=s===8?l.parentNode:l,l=s.namespaceURI||null,s=s.tagName,l=Ot(l,s)}ft(Cr),ct(Cr,l)}function gs(){ft(Cr),ft(Go),ft(Yo)}function yw(s){di(Yo.current);var l=di(Cr.current),p=Ot(l,s.type);l!==p&&(ct(Go,s),ct(Cr,p))}function Qp(s){Go.current===s&&(ft(Cr),ft(Go))}var gt=Ca(0);function bu(s){for(var l=s;l!==null;){if(l.tag===13){var p=l.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Zp=[];function Jp(){for(var s=0;s<Zp.length;s++)Zp[s]._workInProgressVersionPrimary=null;Zp.length=0}var wu=C.ReactCurrentDispatcher,eh=C.ReactCurrentBatchConfig,fi=0,vt=null,It=null,Bt=null,ju=!1,Xo=!1,Qo=0,J5=0;function Zt(){throw Error(n(321))}function th(s,l){if(l===null)return!1;for(var p=0;p<l.length&&p<s.length;p++)if(!ir(s[p],l[p]))return!1;return!0}function nh(s,l,p,g,N,A){if(fi=A,vt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,wu.current=s===null||s.memoizedState===null?rT:aT,s=p(g,N),Xo){A=0;do{if(Xo=!1,Qo=0,25<=A)throw Error(n(301));A+=1,Bt=It=null,l.updateQueue=null,wu.current=iT,s=p(g,N)}while(Xo)}if(wu.current=ku,l=It!==null&&It.next!==null,fi=0,Bt=It=vt=null,ju=!1,l)throw Error(n(300));return s}function rh(){var s=Qo!==0;return Qo=0,s}function Ar(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?vt.memoizedState=Bt=s:Bt=Bt.next=s,Bt}function qn(){if(It===null){var s=vt.alternate;s=s!==null?s.memoizedState:null}else s=It.next;var l=Bt===null?vt.memoizedState:Bt.next;if(l!==null)Bt=l,It=s;else{if(s===null)throw Error(n(310));It=s,s={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Bt===null?vt.memoizedState=Bt=s:Bt=Bt.next=s}return Bt}function Zo(s,l){return typeof l=="function"?l(s):l}function ah(s){var l=qn(),p=l.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=s;var g=It,N=g.baseQueue,A=p.pending;if(A!==null){if(N!==null){var I=N.next;N.next=A.next,A.next=I}g.baseQueue=N=A,p.pending=null}if(N!==null){A=N.next,g=g.baseState;var U=I=null,G=null,ne=A;do{var ce=ne.lane;if((fi&ce)===ce)G!==null&&(G=G.next={lane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),g=ne.hasEagerState?ne.eagerState:s(g,ne.action);else{var ue={lane:ce,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null};G===null?(U=G=ue,I=g):G=G.next=ue,vt.lanes|=ce,pi|=ce}ne=ne.next}while(ne!==null&&ne!==A);G===null?I=g:G.next=U,ir(g,l.memoizedState)||(vn=!0),l.memoizedState=g,l.baseState=I,l.baseQueue=G,p.lastRenderedState=g}if(s=p.interleaved,s!==null){N=s;do A=N.lane,vt.lanes|=A,pi|=A,N=N.next;while(N!==s)}else N===null&&(p.lanes=0);return[l.memoizedState,p.dispatch]}function ih(s){var l=qn(),p=l.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=s;var g=p.dispatch,N=p.pending,A=l.memoizedState;if(N!==null){p.pending=null;var I=N=N.next;do A=s(A,I.action),I=I.next;while(I!==N);ir(A,l.memoizedState)||(vn=!0),l.memoizedState=A,l.baseQueue===null&&(l.baseState=A),p.lastRenderedState=A}return[A,g]}function bw(){}function ww(s,l){var p=vt,g=qn(),N=l(),A=!ir(g.memoizedState,N);if(A&&(g.memoizedState=N,vn=!0),g=g.queue,sh(Sw.bind(null,p,g,s),[s]),g.getSnapshot!==l||A||Bt!==null&&Bt.memoizedState.tag&1){if(p.flags|=2048,Jo(9,Nw.bind(null,p,g,N,l),void 0,null),Ft===null)throw Error(n(349));(fi&30)!==0||jw(p,l,N)}return N}function jw(s,l,p){s.flags|=16384,s={getSnapshot:l,value:p},l=vt.updateQueue,l===null?(l={lastEffect:null,stores:null},vt.updateQueue=l,l.stores=[s]):(p=l.stores,p===null?l.stores=[s]:p.push(s))}function Nw(s,l,p,g){l.value=p,l.getSnapshot=g,kw(l)&&Cw(s)}function Sw(s,l,p){return p(function(){kw(l)&&Cw(s)})}function kw(s){var l=s.getSnapshot;s=s.value;try{var p=l();return!ir(s,p)}catch{return!0}}function Cw(s){var l=Kr(s,1);l!==null&&ur(l,s,1,-1)}function Aw(s){var l=Ar();return typeof s=="function"&&(s=s()),l.memoizedState=l.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:s},l.queue=s,s=s.dispatch=nT.bind(null,vt,s),[l.memoizedState,s]}function Jo(s,l,p,g){return s={tag:s,create:l,destroy:p,deps:g,next:null},l=vt.updateQueue,l===null?(l={lastEffect:null,stores:null},vt.updateQueue=l,l.lastEffect=s.next=s):(p=l.lastEffect,p===null?l.lastEffect=s.next=s:(g=p.next,p.next=s,s.next=g,l.lastEffect=s)),s}function Pw(){return qn().memoizedState}function Nu(s,l,p,g){var N=Ar();vt.flags|=s,N.memoizedState=Jo(1|l,p,void 0,g===void 0?null:g)}function Su(s,l,p,g){var N=qn();g=g===void 0?null:g;var A=void 0;if(It!==null){var I=It.memoizedState;if(A=I.destroy,g!==null&&th(g,I.deps)){N.memoizedState=Jo(l,p,A,g);return}}vt.flags|=s,N.memoizedState=Jo(1|l,p,A,g)}function Ew(s,l){return Nu(8390656,8,s,l)}function sh(s,l){return Su(2048,8,s,l)}function Dw(s,l){return Su(4,2,s,l)}function Ow(s,l){return Su(4,4,s,l)}function Iw(s,l){if(typeof l=="function")return s=s(),l(s),function(){l(null)};if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function Tw(s,l,p){return p=p!=null?p.concat([s]):null,Su(4,4,Iw.bind(null,l,s),p)}function oh(){}function _w(s,l){var p=qn();l=l===void 0?null:l;var g=p.memoizedState;return g!==null&&l!==null&&th(l,g[1])?g[0]:(p.memoizedState=[s,l],s)}function Mw(s,l){var p=qn();l=l===void 0?null:l;var g=p.memoizedState;return g!==null&&l!==null&&th(l,g[1])?g[0]:(s=s(),p.memoizedState=[s,l],s)}function Rw(s,l,p){return(fi&21)===0?(s.baseState&&(s.baseState=!1,vn=!0),s.memoizedState=p):(ir(p,l)||(p=l1(),vt.lanes|=p,pi|=p,s.baseState=!0),l)}function eT(s,l){var p=tt;tt=p!==0&&4>p?p:4,s(!0);var g=eh.transition;eh.transition={};try{s(!1),l()}finally{tt=p,eh.transition=g}}function $w(){return qn().memoizedState}function tT(s,l,p){var g=_a(s);if(p={lane:g,action:p,hasEagerState:!1,eagerState:null,next:null},zw(s))Lw(l,p);else if(p=lw(s,l,p,g),p!==null){var N=un();ur(p,s,g,N),Bw(p,l,g)}}function nT(s,l,p){var g=_a(s),N={lane:g,action:p,hasEagerState:!1,eagerState:null,next:null};if(zw(s))Lw(l,N);else{var A=s.alternate;if(s.lanes===0&&(A===null||A.lanes===0)&&(A=l.lastRenderedReducer,A!==null))try{var I=l.lastRenderedState,U=A(I,p);if(N.hasEagerState=!0,N.eagerState=U,ir(U,I)){var G=l.interleaved;G===null?(N.next=N,Vp(l)):(N.next=G.next,G.next=N),l.interleaved=N;return}}catch{}finally{}p=lw(s,l,N,g),p!==null&&(N=un(),ur(p,s,g,N),Bw(p,l,g))}}function zw(s){var l=s.alternate;return s===vt||l!==null&&l===vt}function Lw(s,l){Xo=ju=!0;var p=s.pending;p===null?l.next=l:(l.next=p.next,p.next=l),s.pending=l}function Bw(s,l,p){if((p&4194240)!==0){var g=l.lanes;g&=s.pendingLanes,p|=g,l.lanes=p,op(s,p)}}var ku={readContext:Un,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},rT={readContext:Un,useCallback:function(s,l){return Ar().memoizedState=[s,l===void 0?null:l],s},useContext:Un,useEffect:Ew,useImperativeHandle:function(s,l,p){return p=p!=null?p.concat([s]):null,Nu(4194308,4,Iw.bind(null,l,s),p)},useLayoutEffect:function(s,l){return Nu(4194308,4,s,l)},useInsertionEffect:function(s,l){return Nu(4,2,s,l)},useMemo:function(s,l){var p=Ar();return l=l===void 0?null:l,s=s(),p.memoizedState=[s,l],s},useReducer:function(s,l,p){var g=Ar();return l=p!==void 0?p(l):l,g.memoizedState=g.baseState=l,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:l},g.queue=s,s=s.dispatch=tT.bind(null,vt,s),[g.memoizedState,s]},useRef:function(s){var l=Ar();return s={current:s},l.memoizedState=s},useState:Aw,useDebugValue:oh,useDeferredValue:function(s){return Ar().memoizedState=s},useTransition:function(){var s=Aw(!1),l=s[0];return s=eT.bind(null,s[1]),Ar().memoizedState=s,[l,s]},useMutableSource:function(){},useSyncExternalStore:function(s,l,p){var g=vt,N=Ar();if(ht){if(p===void 0)throw Error(n(407));p=p()}else{if(p=l(),Ft===null)throw Error(n(349));(fi&30)!==0||jw(g,l,p)}N.memoizedState=p;var A={value:p,getSnapshot:l};return N.queue=A,Ew(Sw.bind(null,g,A,s),[s]),g.flags|=2048,Jo(9,Nw.bind(null,g,A,p,l),void 0,null),p},useId:function(){var s=Ar(),l=Ft.identifierPrefix;if(ht){var p=Vr,g=Hr;p=(g&~(1<<32-ar(g)-1)).toString(32)+p,l=":"+l+"R"+p,p=Qo++,0<p&&(l+="H"+p.toString(32)),l+=":"}else p=J5++,l=":"+l+"r"+p.toString(32)+":";return s.memoizedState=l},unstable_isNewReconciler:!1},aT={readContext:Un,useCallback:_w,useContext:Un,useEffect:sh,useImperativeHandle:Tw,useInsertionEffect:Dw,useLayoutEffect:Ow,useMemo:Mw,useReducer:ah,useRef:Pw,useState:function(){return ah(Zo)},useDebugValue:oh,useDeferredValue:function(s){var l=qn();return Rw(l,It.memoizedState,s)},useTransition:function(){var s=ah(Zo)[0],l=qn().memoizedState;return[s,l]},useMutableSource:bw,useSyncExternalStore:ww,useId:$w,unstable_isNewReconciler:!1},iT={readContext:Un,useCallback:_w,useContext:Un,useEffect:sh,useImperativeHandle:Tw,useInsertionEffect:Dw,useLayoutEffect:Ow,useMemo:Mw,useReducer:ih,useRef:Pw,useState:function(){return ih(Zo)},useDebugValue:oh,useDeferredValue:function(s){var l=qn();return It===null?l.memoizedState=s:Rw(l,It.memoizedState,s)},useTransition:function(){var s=ih(Zo)[0],l=qn().memoizedState;return[s,l]},useMutableSource:bw,useSyncExternalStore:ww,useId:$w,unstable_isNewReconciler:!1};function vs(s,l){try{var p="",g=l;do p+=ge(g),g=g.return;while(g);var N=p}catch(A){N=`
Error generating stack: `+A.message+`
`+A.stack}return{value:s,source:l,stack:N,digest:null}}function lh(s,l,p){return{value:s,source:null,stack:p??null,digest:l??null}}function ch(s,l){try{console.error(l.value)}catch(p){setTimeout(function(){throw p})}}var sT=typeof WeakMap=="function"?WeakMap:Map;function Fw(s,l,p){p=Gr(-1,p),p.tag=3,p.payload={element:null};var g=l.value;return p.callback=function(){Iu||(Iu=!0,Sh=g),ch(s,l)},p}function Uw(s,l,p){p=Gr(-1,p),p.tag=3;var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var N=l.value;p.payload=function(){return g(N)},p.callback=function(){ch(s,l)}}var A=s.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(p.callback=function(){ch(s,l),typeof g!="function"&&(Ia===null?Ia=new Set([this]):Ia.add(this));var I=l.stack;this.componentDidCatch(l.value,{componentStack:I!==null?I:""})}),p}function qw(s,l,p){var g=s.pingCache;if(g===null){g=s.pingCache=new sT;var N=new Set;g.set(l,N)}else N=g.get(l),N===void 0&&(N=new Set,g.set(l,N));N.has(p)||(N.add(p),s=bT.bind(null,s,l,p),l.then(s,s))}function Ww(s){do{var l;if((l=s.tag===13)&&(l=s.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return s;s=s.return}while(s!==null);return null}function Hw(s,l,p,g,N){return(s.mode&1)===0?(s===l?s.flags|=65536:(s.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(l=Gr(-1,1),l.tag=2,Da(p,l,1))),p.lanes|=1),s):(s.flags|=65536,s.lanes=N,s)}var oT=C.ReactCurrentOwner,vn=!1;function cn(s,l,p,g){l.child=s===null?vw(l,null,p,g):xs(l,s.child,p,g)}function Vw(s,l,p,g,N){p=p.render;var A=l.ref;return ms(l,N),g=nh(s,l,p,g,A,N),p=rh(),s!==null&&!vn?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~N,Yr(s,l,N)):(ht&&p&&$p(l),l.flags|=1,cn(s,l,g,N),l.child)}function Kw(s,l,p,g,N){if(s===null){var A=p.type;return typeof A=="function"&&!Oh(A)&&A.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(l.tag=15,l.type=A,Gw(s,l,A,g,N)):(s=zu(p.type,null,g,l,l.mode,N),s.ref=l.ref,s.return=l,l.child=s)}if(A=s.child,(s.lanes&N)===0){var I=A.memoizedProps;if(p=p.compare,p=p!==null?p:Lo,p(I,g)&&s.ref===l.ref)return Yr(s,l,N)}return l.flags|=1,s=Ra(A,g),s.ref=l.ref,s.return=l,l.child=s}function Gw(s,l,p,g,N){if(s!==null){var A=s.memoizedProps;if(Lo(A,g)&&s.ref===l.ref)if(vn=!1,l.pendingProps=g=A,(s.lanes&N)!==0)(s.flags&131072)!==0&&(vn=!0);else return l.lanes=s.lanes,Yr(s,l,N)}return uh(s,l,p,g,N)}function Yw(s,l,p){var g=l.pendingProps,N=g.children,A=s!==null?s.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(bs,In),In|=p;else{if((p&1073741824)===0)return s=A!==null?A.baseLanes|p:p,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:s,cachePool:null,transitions:null},l.updateQueue=null,ct(bs,In),In|=s,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=A!==null?A.baseLanes:p,ct(bs,In),In|=g}else A!==null?(g=A.baseLanes|p,l.memoizedState=null):g=p,ct(bs,In),In|=g;return cn(s,l,N,p),l.child}function Xw(s,l){var p=l.ref;(s===null&&p!==null||s!==null&&s.ref!==p)&&(l.flags|=512,l.flags|=2097152)}function uh(s,l,p,g,N){var A=gn(p)?oi:Qt.current;return A=us(l,A),ms(l,N),p=nh(s,l,p,g,A,N),g=rh(),s!==null&&!vn?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~N,Yr(s,l,N)):(ht&&g&&$p(l),l.flags|=1,cn(s,l,p,N),l.child)}function Qw(s,l,p,g,N){if(gn(p)){var A=!0;cu(l)}else A=!1;if(ms(l,N),l.stateNode===null)Au(s,l),hw(l,p,g),Yp(l,p,g,N),g=!0;else if(s===null){var I=l.stateNode,U=l.memoizedProps;I.props=U;var G=I.context,ne=p.contextType;typeof ne=="object"&&ne!==null?ne=Un(ne):(ne=gn(p)?oi:Qt.current,ne=us(l,ne));var ce=p.getDerivedStateFromProps,ue=typeof ce=="function"||typeof I.getSnapshotBeforeUpdate=="function";ue||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(U!==g||G!==ne)&&mw(l,I,g,ne),Ea=!1;var oe=l.memoizedState;I.state=oe,gu(l,g,I,N),G=l.memoizedState,U!==g||oe!==G||xn.current||Ea?(typeof ce=="function"&&(Gp(l,p,ce,g),G=l.memoizedState),(U=Ea||pw(l,p,U,g,oe,G,ne))?(ue||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(l.flags|=4194308)):(typeof I.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=G),I.props=g,I.state=G,I.context=ne,g=U):(typeof I.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{I=l.stateNode,cw(s,l),U=l.memoizedProps,ne=l.type===l.elementType?U:or(l.type,U),I.props=ne,ue=l.pendingProps,oe=I.context,G=p.contextType,typeof G=="object"&&G!==null?G=Un(G):(G=gn(p)?oi:Qt.current,G=us(l,G));var ve=p.getDerivedStateFromProps;(ce=typeof ve=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(U!==ue||oe!==G)&&mw(l,I,g,G),Ea=!1,oe=l.memoizedState,I.state=oe,gu(l,g,I,N);var we=l.memoizedState;U!==ue||oe!==we||xn.current||Ea?(typeof ve=="function"&&(Gp(l,p,ve,g),we=l.memoizedState),(ne=Ea||pw(l,p,ne,g,oe,we,G)||!1)?(ce||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(g,we,G),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(g,we,G)),typeof I.componentDidUpdate=="function"&&(l.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof I.componentDidUpdate!="function"||U===s.memoizedProps&&oe===s.memoizedState||(l.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||U===s.memoizedProps&&oe===s.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=we),I.props=g,I.state=we,I.context=G,g=ne):(typeof I.componentDidUpdate!="function"||U===s.memoizedProps&&oe===s.memoizedState||(l.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||U===s.memoizedProps&&oe===s.memoizedState||(l.flags|=1024),g=!1)}return dh(s,l,p,g,A,N)}function dh(s,l,p,g,N,A){Xw(s,l);var I=(l.flags&128)!==0;if(!g&&!I)return N&&tw(l,p,!1),Yr(s,l,A);g=l.stateNode,oT.current=l;var U=I&&typeof p.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,s!==null&&I?(l.child=xs(l,s.child,null,A),l.child=xs(l,null,U,A)):cn(s,l,U,A),l.memoizedState=g.state,N&&tw(l,p,!0),l.child}function Zw(s){var l=s.stateNode;l.pendingContext?J1(s,l.pendingContext,l.pendingContext!==l.context):l.context&&J1(s,l.context,!1),Xp(s,l.containerInfo)}function Jw(s,l,p,g,N){return ps(),Fp(N),l.flags|=256,cn(s,l,p,g),l.child}var fh={dehydrated:null,treeContext:null,retryLane:0};function ph(s){return{baseLanes:s,cachePool:null,transitions:null}}function ej(s,l,p){var g=l.pendingProps,N=gt.current,A=!1,I=(l.flags&128)!==0,U;if((U=I)||(U=s!==null&&s.memoizedState===null?!1:(N&2)!==0),U?(A=!0,l.flags&=-129):(s===null||s.memoizedState!==null)&&(N|=1),ct(gt,N&1),s===null)return Bp(l),s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((l.mode&1)===0?l.lanes=1:s.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(I=g.children,s=g.fallback,A?(g=l.mode,A=l.child,I={mode:"hidden",children:I},(g&1)===0&&A!==null?(A.childLanes=0,A.pendingProps=I):A=Lu(I,g,0,null),s=gi(s,g,p,null),A.return=l,s.return=l,A.sibling=s,l.child=A,l.child.memoizedState=ph(p),l.memoizedState=fh,s):hh(l,I));if(N=s.memoizedState,N!==null&&(U=N.dehydrated,U!==null))return lT(s,l,I,g,U,N,p);if(A){A=g.fallback,I=l.mode,N=s.child,U=N.sibling;var G={mode:"hidden",children:g.children};return(I&1)===0&&l.child!==N?(g=l.child,g.childLanes=0,g.pendingProps=G,l.deletions=null):(g=Ra(N,G),g.subtreeFlags=N.subtreeFlags&14680064),U!==null?A=Ra(U,A):(A=gi(A,I,p,null),A.flags|=2),A.return=l,g.return=l,g.sibling=A,l.child=g,g=A,A=l.child,I=s.child.memoizedState,I=I===null?ph(p):{baseLanes:I.baseLanes|p,cachePool:null,transitions:I.transitions},A.memoizedState=I,A.childLanes=s.childLanes&~p,l.memoizedState=fh,g}return A=s.child,s=A.sibling,g=Ra(A,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=p),g.return=l,g.sibling=null,s!==null&&(p=l.deletions,p===null?(l.deletions=[s],l.flags|=16):p.push(s)),l.child=g,l.memoizedState=null,g}function hh(s,l){return l=Lu({mode:"visible",children:l},s.mode,0,null),l.return=s,s.child=l}function Cu(s,l,p,g){return g!==null&&Fp(g),xs(l,s.child,null,p),s=hh(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function lT(s,l,p,g,N,A,I){if(p)return l.flags&256?(l.flags&=-257,g=lh(Error(n(422))),Cu(s,l,I,g)):l.memoizedState!==null?(l.child=s.child,l.flags|=128,null):(A=g.fallback,N=l.mode,g=Lu({mode:"visible",children:g.children},N,0,null),A=gi(A,N,I,null),A.flags|=2,g.return=l,A.return=l,g.sibling=A,l.child=g,(l.mode&1)!==0&&xs(l,s.child,null,I),l.child.memoizedState=ph(I),l.memoizedState=fh,A);if((l.mode&1)===0)return Cu(s,l,I,null);if(N.data==="$!"){if(g=N.nextSibling&&N.nextSibling.dataset,g)var U=g.dgst;return g=U,A=Error(n(419)),g=lh(A,g,void 0),Cu(s,l,I,g)}if(U=(I&s.childLanes)!==0,vn||U){if(g=Ft,g!==null){switch(I&-I){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=(N&(g.suspendedLanes|I))!==0?0:N,N!==0&&N!==A.retryLane&&(A.retryLane=N,Kr(s,N),ur(g,s,N,-1))}return Dh(),g=lh(Error(n(421))),Cu(s,l,I,g)}return N.data==="$?"?(l.flags|=128,l.child=s.child,l=wT.bind(null,s),N._reactRetry=l,null):(s=A.treeContext,On=ka(N.nextSibling),Dn=l,ht=!0,sr=null,s!==null&&(Bn[Fn++]=Hr,Bn[Fn++]=Vr,Bn[Fn++]=li,Hr=s.id,Vr=s.overflow,li=l),l=hh(l,g.children),l.flags|=4096,l)}function tj(s,l,p){s.lanes|=l;var g=s.alternate;g!==null&&(g.lanes|=l),Hp(s.return,l,p)}function mh(s,l,p,g,N){var A=s.memoizedState;A===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:p,tailMode:N}:(A.isBackwards=l,A.rendering=null,A.renderingStartTime=0,A.last=g,A.tail=p,A.tailMode=N)}function nj(s,l,p){var g=l.pendingProps,N=g.revealOrder,A=g.tail;if(cn(s,l,g.children,p),g=gt.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&tj(s,p,l);else if(s.tag===19)tj(s,p,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}if(ct(gt,g),(l.mode&1)===0)l.memoizedState=null;else switch(N){case"forwards":for(p=l.child,N=null;p!==null;)s=p.alternate,s!==null&&bu(s)===null&&(N=p),p=p.sibling;p=N,p===null?(N=l.child,l.child=null):(N=p.sibling,p.sibling=null),mh(l,!1,N,p,A);break;case"backwards":for(p=null,N=l.child,l.child=null;N!==null;){if(s=N.alternate,s!==null&&bu(s)===null){l.child=N;break}s=N.sibling,N.sibling=p,p=N,N=s}mh(l,!0,p,null,A);break;case"together":mh(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Au(s,l){(l.mode&1)===0&&s!==null&&(s.alternate=null,l.alternate=null,l.flags|=2)}function Yr(s,l,p){if(s!==null&&(l.dependencies=s.dependencies),pi|=l.lanes,(p&l.childLanes)===0)return null;if(s!==null&&l.child!==s.child)throw Error(n(153));if(l.child!==null){for(s=l.child,p=Ra(s,s.pendingProps),l.child=p,p.return=l;s.sibling!==null;)s=s.sibling,p=p.sibling=Ra(s,s.pendingProps),p.return=l;p.sibling=null}return l.child}function cT(s,l,p){switch(l.tag){case 3:Zw(l),ps();break;case 5:yw(l);break;case 1:gn(l.type)&&cu(l);break;case 4:Xp(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,N=l.memoizedProps.value;ct(hu,g._currentValue),g._currentValue=N;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(ct(gt,gt.current&1),l.flags|=128,null):(p&l.child.childLanes)!==0?ej(s,l,p):(ct(gt,gt.current&1),s=Yr(s,l,p),s!==null?s.sibling:null);ct(gt,gt.current&1);break;case 19:if(g=(p&l.childLanes)!==0,(s.flags&128)!==0){if(g)return nj(s,l,p);l.flags|=128}if(N=l.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),ct(gt,gt.current),g)break;return null;case 22:case 23:return l.lanes=0,Yw(s,l,p)}return Yr(s,l,p)}var rj,xh,aj,ij;rj=function(s,l){for(var p=l.child;p!==null;){if(p.tag===5||p.tag===6)s.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===l)break;for(;p.sibling===null;){if(p.return===null||p.return===l)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},xh=function(){},aj=function(s,l,p,g){var N=s.memoizedProps;if(N!==g){s=l.stateNode,di(Cr.current);var A=null;switch(p){case"input":N=$e(s,N),g=$e(s,g),A=[];break;case"select":N=_({},N,{value:void 0}),g=_({},g,{value:void 0}),A=[];break;case"textarea":N=xt(s,N),g=xt(s,g),A=[];break;default:typeof N.onClick!="function"&&typeof g.onClick=="function"&&(s.onclick=su)}zc(p,g);var I;p=null;for(ne in N)if(!g.hasOwnProperty(ne)&&N.hasOwnProperty(ne)&&N[ne]!=null)if(ne==="style"){var U=N[ne];for(I in U)U.hasOwnProperty(I)&&(p||(p={}),p[I]="")}else ne!=="dangerouslySetInnerHTML"&&ne!=="children"&&ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(i.hasOwnProperty(ne)?A||(A=[]):(A=A||[]).push(ne,null));for(ne in g){var G=g[ne];if(U=N!=null?N[ne]:void 0,g.hasOwnProperty(ne)&&G!==U&&(G!=null||U!=null))if(ne==="style")if(U){for(I in U)!U.hasOwnProperty(I)||G&&G.hasOwnProperty(I)||(p||(p={}),p[I]="");for(I in G)G.hasOwnProperty(I)&&U[I]!==G[I]&&(p||(p={}),p[I]=G[I])}else p||(A||(A=[]),A.push(ne,p)),p=G;else ne==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,U=U?U.__html:void 0,G!=null&&U!==G&&(A=A||[]).push(ne,G)):ne==="children"?typeof G!="string"&&typeof G!="number"||(A=A||[]).push(ne,""+G):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&(i.hasOwnProperty(ne)?(G!=null&&ne==="onScroll"&&dt("scroll",s),A||U===G||(A=[])):(A=A||[]).push(ne,G))}p&&(A=A||[]).push("style",p);var ne=A;(l.updateQueue=ne)&&(l.flags|=4)}},ij=function(s,l,p,g){p!==g&&(l.flags|=4)};function el(s,l){if(!ht)switch(s.tailMode){case"hidden":l=s.tail;for(var p=null;l!==null;)l.alternate!==null&&(p=l),l=l.sibling;p===null?s.tail=null:p.sibling=null;break;case"collapsed":p=s.tail;for(var g=null;p!==null;)p.alternate!==null&&(g=p),p=p.sibling;g===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function Jt(s){var l=s.alternate!==null&&s.alternate.child===s.child,p=0,g=0;if(l)for(var N=s.child;N!==null;)p|=N.lanes|N.childLanes,g|=N.subtreeFlags&14680064,g|=N.flags&14680064,N.return=s,N=N.sibling;else for(N=s.child;N!==null;)p|=N.lanes|N.childLanes,g|=N.subtreeFlags,g|=N.flags,N.return=s,N=N.sibling;return s.subtreeFlags|=g,s.childLanes=p,l}function uT(s,l,p){var g=l.pendingProps;switch(zp(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(l),null;case 1:return gn(l.type)&&lu(),Jt(l),null;case 3:return g=l.stateNode,gs(),ft(xn),ft(Qt),Jp(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&(pu(l)?l.flags|=4:s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,sr!==null&&(Ah(sr),sr=null))),xh(s,l),Jt(l),null;case 5:Qp(l);var N=di(Yo.current);if(p=l.type,s!==null&&l.stateNode!=null)aj(s,l,p,g,N),s.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(n(166));return Jt(l),null}if(s=di(Cr.current),pu(l)){g=l.stateNode,p=l.type;var A=l.memoizedProps;switch(g[kr]=l,g[Wo]=A,s=(l.mode&1)!==0,p){case"dialog":dt("cancel",g),dt("close",g);break;case"iframe":case"object":case"embed":dt("load",g);break;case"video":case"audio":for(N=0;N<Fo.length;N++)dt(Fo[N],g);break;case"source":dt("error",g);break;case"img":case"image":case"link":dt("error",g),dt("load",g);break;case"details":dt("toggle",g);break;case"input":Ze(g,A),dt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!A.multiple},dt("invalid",g);break;case"textarea":Lt(g,A),dt("invalid",g)}zc(p,A),N=null;for(var I in A)if(A.hasOwnProperty(I)){var U=A[I];I==="children"?typeof U=="string"?g.textContent!==U&&(A.suppressHydrationWarning!==!0&&iu(g.textContent,U,s),N=["children",U]):typeof U=="number"&&g.textContent!==""+U&&(A.suppressHydrationWarning!==!0&&iu(g.textContent,U,s),N=["children",""+U]):i.hasOwnProperty(I)&&U!=null&&I==="onScroll"&&dt("scroll",g)}switch(p){case"input":Se(g),Ne(g,A,!0);break;case"textarea":Se(g),rt(g);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(g.onclick=su)}g=N,l.updateQueue=g,g!==null&&(l.flags|=4)}else{I=N.nodeType===9?N:N.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Vt(p)),s==="http://www.w3.org/1999/xhtml"?p==="script"?(s=I.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof g.is=="string"?s=I.createElement(p,{is:g.is}):(s=I.createElement(p),p==="select"&&(I=s,g.multiple?I.multiple=!0:g.size&&(I.size=g.size))):s=I.createElementNS(s,p),s[kr]=l,s[Wo]=g,rj(s,l,!1,!1),l.stateNode=s;e:{switch(I=wo(p,g),p){case"dialog":dt("cancel",s),dt("close",s),N=g;break;case"iframe":case"object":case"embed":dt("load",s),N=g;break;case"video":case"audio":for(N=0;N<Fo.length;N++)dt(Fo[N],s);N=g;break;case"source":dt("error",s),N=g;break;case"img":case"image":case"link":dt("error",s),dt("load",s),N=g;break;case"details":dt("toggle",s),N=g;break;case"input":Ze(s,g),N=$e(s,g),dt("invalid",s);break;case"option":N=g;break;case"select":s._wrapperState={wasMultiple:!!g.multiple},N=_({},g,{value:void 0}),dt("invalid",s);break;case"textarea":Lt(s,g),N=xt(s,g),dt("invalid",s);break;default:N=g}zc(p,N),U=N;for(A in U)if(U.hasOwnProperty(A)){var G=U[A];A==="style"?Ji(s,G):A==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,G!=null&&Qi(s,G)):A==="children"?typeof G=="string"?(p!=="textarea"||G!=="")&&Fr(s,G):typeof G=="number"&&Fr(s,""+G):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(i.hasOwnProperty(A)?G!=null&&A==="onScroll"&&dt("scroll",s):G!=null&&P(s,A,G,I))}switch(p){case"input":Se(s),Ne(s,g,!1);break;case"textarea":Se(s),rt(s);break;case"option":g.value!=null&&s.setAttribute("value",""+Pe(g.value));break;case"select":s.multiple=!!g.multiple,A=g.value,A!=null?We(s,!!g.multiple,A,!1):g.defaultValue!=null&&We(s,!!g.multiple,g.defaultValue,!0);break;default:typeof N.onClick=="function"&&(s.onclick=su)}switch(p){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Jt(l),null;case 6:if(s&&l.stateNode!=null)ij(s,l,s.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(n(166));if(p=di(Yo.current),di(Cr.current),pu(l)){if(g=l.stateNode,p=l.memoizedProps,g[kr]=l,(A=g.nodeValue!==p)&&(s=Dn,s!==null))switch(s.tag){case 3:iu(g.nodeValue,p,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&iu(g.nodeValue,p,(s.mode&1)!==0)}A&&(l.flags|=4)}else g=(p.nodeType===9?p:p.ownerDocument).createTextNode(g),g[kr]=l,l.stateNode=g}return Jt(l),null;case 13:if(ft(gt),g=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ht&&On!==null&&(l.mode&1)!==0&&(l.flags&128)===0)ow(),ps(),l.flags|=98560,A=!1;else if(A=pu(l),g!==null&&g.dehydrated!==null){if(s===null){if(!A)throw Error(n(318));if(A=l.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));A[kr]=l}else ps(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Jt(l),A=!1}else sr!==null&&(Ah(sr),sr=null),A=!0;if(!A)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=p,l):(g=g!==null,g!==(s!==null&&s.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(s===null||(gt.current&1)!==0?Tt===0&&(Tt=3):Dh())),l.updateQueue!==null&&(l.flags|=4),Jt(l),null);case 4:return gs(),xh(s,l),s===null&&Uo(l.stateNode.containerInfo),Jt(l),null;case 10:return Wp(l.type._context),Jt(l),null;case 17:return gn(l.type)&&lu(),Jt(l),null;case 19:if(ft(gt),A=l.memoizedState,A===null)return Jt(l),null;if(g=(l.flags&128)!==0,I=A.rendering,I===null)if(g)el(A,!1);else{if(Tt!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(I=bu(s),I!==null){for(l.flags|=128,el(A,!1),g=I.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=p,p=l.child;p!==null;)A=p,s=g,A.flags&=14680066,I=A.alternate,I===null?(A.childLanes=0,A.lanes=s,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=I.childLanes,A.lanes=I.lanes,A.child=I.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=I.memoizedProps,A.memoizedState=I.memoizedState,A.updateQueue=I.updateQueue,A.type=I.type,s=I.dependencies,A.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),p=p.sibling;return ct(gt,gt.current&1|2),l.child}s=s.sibling}A.tail!==null&&St()>ws&&(l.flags|=128,g=!0,el(A,!1),l.lanes=4194304)}else{if(!g)if(s=bu(I),s!==null){if(l.flags|=128,g=!0,p=s.updateQueue,p!==null&&(l.updateQueue=p,l.flags|=4),el(A,!0),A.tail===null&&A.tailMode==="hidden"&&!I.alternate&&!ht)return Jt(l),null}else 2*St()-A.renderingStartTime>ws&&p!==1073741824&&(l.flags|=128,g=!0,el(A,!1),l.lanes=4194304);A.isBackwards?(I.sibling=l.child,l.child=I):(p=A.last,p!==null?p.sibling=I:l.child=I,A.last=I)}return A.tail!==null?(l=A.tail,A.rendering=l,A.tail=l.sibling,A.renderingStartTime=St(),l.sibling=null,p=gt.current,ct(gt,g?p&1|2:p&1),l):(Jt(l),null);case 22:case 23:return Eh(),g=l.memoizedState!==null,s!==null&&s.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(In&1073741824)!==0&&(Jt(l),l.subtreeFlags&6&&(l.flags|=8192)):Jt(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function dT(s,l){switch(zp(l),l.tag){case 1:return gn(l.type)&&lu(),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return gs(),ft(xn),ft(Qt),Jp(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 5:return Qp(l),null;case 13:if(ft(gt),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(n(340));ps()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return ft(gt),null;case 4:return gs(),null;case 10:return Wp(l.type._context),null;case 22:case 23:return Eh(),null;case 24:return null;default:return null}}var Pu=!1,en=!1,fT=typeof WeakSet=="function"?WeakSet:Set,ye=null;function ys(s,l){var p=s.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(g){wt(s,l,g)}else p.current=null}function gh(s,l,p){try{p()}catch(g){wt(s,l,g)}}var sj=!1;function pT(s,l){if(Ep=Gc,s=$1(),wp(s)){if("selectionStart"in s)var p={start:s.selectionStart,end:s.selectionEnd};else e:{p=(p=s.ownerDocument)&&p.defaultView||window;var g=p.getSelection&&p.getSelection();if(g&&g.rangeCount!==0){p=g.anchorNode;var N=g.anchorOffset,A=g.focusNode;g=g.focusOffset;try{p.nodeType,A.nodeType}catch{p=null;break e}var I=0,U=-1,G=-1,ne=0,ce=0,ue=s,oe=null;t:for(;;){for(var ve;ue!==p||N!==0&&ue.nodeType!==3||(U=I+N),ue!==A||g!==0&&ue.nodeType!==3||(G=I+g),ue.nodeType===3&&(I+=ue.nodeValue.length),(ve=ue.firstChild)!==null;)oe=ue,ue=ve;for(;;){if(ue===s)break t;if(oe===p&&++ne===N&&(U=I),oe===A&&++ce===g&&(G=I),(ve=ue.nextSibling)!==null)break;ue=oe,oe=ue.parentNode}ue=ve}p=U===-1||G===-1?null:{start:U,end:G}}else p=null}p=p||{start:0,end:0}}else p=null;for(Dp={focusedElem:s,selectionRange:p},Gc=!1,ye=l;ye!==null;)if(l=ye,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,ye=s;else for(;ye!==null;){l=ye;try{var we=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var je=we.memoizedProps,kt=we.memoizedState,Z=l.stateNode,Q=Z.getSnapshotBeforeUpdate(l.elementType===l.type?je:or(l.type,je),kt);Z.__reactInternalSnapshotBeforeUpdate=Q}break;case 3:var te=l.stateNode.containerInfo;te.nodeType===1?te.textContent="":te.nodeType===9&&te.documentElement&&te.removeChild(te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(fe){wt(l,l.return,fe)}if(s=l.sibling,s!==null){s.return=l.return,ye=s;break}ye=l.return}return we=sj,sj=!1,we}function tl(s,l,p){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var N=g=g.next;do{if((N.tag&s)===s){var A=N.destroy;N.destroy=void 0,A!==void 0&&gh(l,p,A)}N=N.next}while(N!==g)}}function Eu(s,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var p=l=l.next;do{if((p.tag&s)===s){var g=p.create;p.destroy=g()}p=p.next}while(p!==l)}}function vh(s){var l=s.ref;if(l!==null){var p=s.stateNode;switch(s.tag){case 5:s=p;break;default:s=p}typeof l=="function"?l(s):l.current=s}}function oj(s){var l=s.alternate;l!==null&&(s.alternate=null,oj(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&(delete l[kr],delete l[Wo],delete l[_p],delete l[Y5],delete l[X5])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function lj(s){return s.tag===5||s.tag===3||s.tag===4}function cj(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||lj(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function yh(s,l,p){var g=s.tag;if(g===5||g===6)s=s.stateNode,l?p.nodeType===8?p.parentNode.insertBefore(s,l):p.insertBefore(s,l):(p.nodeType===8?(l=p.parentNode,l.insertBefore(s,p)):(l=p,l.appendChild(s)),p=p._reactRootContainer,p!=null||l.onclick!==null||(l.onclick=su));else if(g!==4&&(s=s.child,s!==null))for(yh(s,l,p),s=s.sibling;s!==null;)yh(s,l,p),s=s.sibling}function bh(s,l,p){var g=s.tag;if(g===5||g===6)s=s.stateNode,l?p.insertBefore(s,l):p.appendChild(s);else if(g!==4&&(s=s.child,s!==null))for(bh(s,l,p),s=s.sibling;s!==null;)bh(s,l,p),s=s.sibling}var Kt=null,lr=!1;function Oa(s,l,p){for(p=p.child;p!==null;)uj(s,l,p),p=p.sibling}function uj(s,l,p){if(Sr&&typeof Sr.onCommitFiberUnmount=="function")try{Sr.onCommitFiberUnmount(Uc,p)}catch{}switch(p.tag){case 5:en||ys(p,l);case 6:var g=Kt,N=lr;Kt=null,Oa(s,l,p),Kt=g,lr=N,Kt!==null&&(lr?(s=Kt,p=p.stateNode,s.nodeType===8?s.parentNode.removeChild(p):s.removeChild(p)):Kt.removeChild(p.stateNode));break;case 18:Kt!==null&&(lr?(s=Kt,p=p.stateNode,s.nodeType===8?Tp(s.parentNode,p):s.nodeType===1&&Tp(s,p),To(s)):Tp(Kt,p.stateNode));break;case 4:g=Kt,N=lr,Kt=p.stateNode.containerInfo,lr=!0,Oa(s,l,p),Kt=g,lr=N;break;case 0:case 11:case 14:case 15:if(!en&&(g=p.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){N=g=g.next;do{var A=N,I=A.destroy;A=A.tag,I!==void 0&&((A&2)!==0||(A&4)!==0)&&gh(p,l,I),N=N.next}while(N!==g)}Oa(s,l,p);break;case 1:if(!en&&(ys(p,l),g=p.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=p.memoizedProps,g.state=p.memoizedState,g.componentWillUnmount()}catch(U){wt(p,l,U)}Oa(s,l,p);break;case 21:Oa(s,l,p);break;case 22:p.mode&1?(en=(g=en)||p.memoizedState!==null,Oa(s,l,p),en=g):Oa(s,l,p);break;default:Oa(s,l,p)}}function dj(s){var l=s.updateQueue;if(l!==null){s.updateQueue=null;var p=s.stateNode;p===null&&(p=s.stateNode=new fT),l.forEach(function(g){var N=jT.bind(null,s,g);p.has(g)||(p.add(g),g.then(N,N))})}}function cr(s,l){var p=l.deletions;if(p!==null)for(var g=0;g<p.length;g++){var N=p[g];try{var A=s,I=l,U=I;e:for(;U!==null;){switch(U.tag){case 5:Kt=U.stateNode,lr=!1;break e;case 3:Kt=U.stateNode.containerInfo,lr=!0;break e;case 4:Kt=U.stateNode.containerInfo,lr=!0;break e}U=U.return}if(Kt===null)throw Error(n(160));uj(A,I,N),Kt=null,lr=!1;var G=N.alternate;G!==null&&(G.return=null),N.return=null}catch(ne){wt(N,l,ne)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)fj(l,s),l=l.sibling}function fj(s,l){var p=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(cr(l,s),Pr(s),g&4){try{tl(3,s,s.return),Eu(3,s)}catch(je){wt(s,s.return,je)}try{tl(5,s,s.return)}catch(je){wt(s,s.return,je)}}break;case 1:cr(l,s),Pr(s),g&512&&p!==null&&ys(p,p.return);break;case 5:if(cr(l,s),Pr(s),g&512&&p!==null&&ys(p,p.return),s.flags&32){var N=s.stateNode;try{Fr(N,"")}catch(je){wt(s,s.return,je)}}if(g&4&&(N=s.stateNode,N!=null)){var A=s.memoizedProps,I=p!==null?p.memoizedProps:A,U=s.type,G=s.updateQueue;if(s.updateQueue=null,G!==null)try{U==="input"&&A.type==="radio"&&A.name!=null&&de(N,A),wo(U,I);var ne=wo(U,A);for(I=0;I<G.length;I+=2){var ce=G[I],ue=G[I+1];ce==="style"?Ji(N,ue):ce==="dangerouslySetInnerHTML"?Qi(N,ue):ce==="children"?Fr(N,ue):P(N,ce,ue,ne)}switch(U){case"input":_e(N,A);break;case"textarea":me(N,A);break;case"select":var oe=N._wrapperState.wasMultiple;N._wrapperState.wasMultiple=!!A.multiple;var ve=A.value;ve!=null?We(N,!!A.multiple,ve,!1):oe!==!!A.multiple&&(A.defaultValue!=null?We(N,!!A.multiple,A.defaultValue,!0):We(N,!!A.multiple,A.multiple?[]:"",!1))}N[Wo]=A}catch(je){wt(s,s.return,je)}}break;case 6:if(cr(l,s),Pr(s),g&4){if(s.stateNode===null)throw Error(n(162));N=s.stateNode,A=s.memoizedProps;try{N.nodeValue=A}catch(je){wt(s,s.return,je)}}break;case 3:if(cr(l,s),Pr(s),g&4&&p!==null&&p.memoizedState.isDehydrated)try{To(l.containerInfo)}catch(je){wt(s,s.return,je)}break;case 4:cr(l,s),Pr(s);break;case 13:cr(l,s),Pr(s),N=s.child,N.flags&8192&&(A=N.memoizedState!==null,N.stateNode.isHidden=A,!A||N.alternate!==null&&N.alternate.memoizedState!==null||(Nh=St())),g&4&&dj(s);break;case 22:if(ce=p!==null&&p.memoizedState!==null,s.mode&1?(en=(ne=en)||ce,cr(l,s),en=ne):cr(l,s),Pr(s),g&8192){if(ne=s.memoizedState!==null,(s.stateNode.isHidden=ne)&&!ce&&(s.mode&1)!==0)for(ye=s,ce=s.child;ce!==null;){for(ue=ye=ce;ye!==null;){switch(oe=ye,ve=oe.child,oe.tag){case 0:case 11:case 14:case 15:tl(4,oe,oe.return);break;case 1:ys(oe,oe.return);var we=oe.stateNode;if(typeof we.componentWillUnmount=="function"){g=oe,p=oe.return;try{l=g,we.props=l.memoizedProps,we.state=l.memoizedState,we.componentWillUnmount()}catch(je){wt(g,p,je)}}break;case 5:ys(oe,oe.return);break;case 22:if(oe.memoizedState!==null){mj(ue);continue}}ve!==null?(ve.return=oe,ye=ve):mj(ue)}ce=ce.sibling}e:for(ce=null,ue=s;;){if(ue.tag===5){if(ce===null){ce=ue;try{N=ue.stateNode,ne?(A=N.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(U=ue.stateNode,G=ue.memoizedProps.style,I=G!=null&&G.hasOwnProperty("display")?G.display:null,U.style.display=Zi("display",I))}catch(je){wt(s,s.return,je)}}}else if(ue.tag===6){if(ce===null)try{ue.stateNode.nodeValue=ne?"":ue.memoizedProps}catch(je){wt(s,s.return,je)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===s)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===s)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===s)break e;ce===ue&&(ce=null),ue=ue.return}ce===ue&&(ce=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:cr(l,s),Pr(s),g&4&&dj(s);break;case 21:break;default:cr(l,s),Pr(s)}}function Pr(s){var l=s.flags;if(l&2){try{e:{for(var p=s.return;p!==null;){if(lj(p)){var g=p;break e}p=p.return}throw Error(n(160))}switch(g.tag){case 5:var N=g.stateNode;g.flags&32&&(Fr(N,""),g.flags&=-33);var A=cj(s);bh(s,A,N);break;case 3:case 4:var I=g.stateNode.containerInfo,U=cj(s);yh(s,U,I);break;default:throw Error(n(161))}}catch(G){wt(s,s.return,G)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function hT(s,l,p){ye=s,pj(s)}function pj(s,l,p){for(var g=(s.mode&1)!==0;ye!==null;){var N=ye,A=N.child;if(N.tag===22&&g){var I=N.memoizedState!==null||Pu;if(!I){var U=N.alternate,G=U!==null&&U.memoizedState!==null||en;U=Pu;var ne=en;if(Pu=I,(en=G)&&!ne)for(ye=N;ye!==null;)I=ye,G=I.child,I.tag===22&&I.memoizedState!==null?xj(N):G!==null?(G.return=I,ye=G):xj(N);for(;A!==null;)ye=A,pj(A),A=A.sibling;ye=N,Pu=U,en=ne}hj(s)}else(N.subtreeFlags&8772)!==0&&A!==null?(A.return=N,ye=A):hj(s)}}function hj(s){for(;ye!==null;){var l=ye;if((l.flags&8772)!==0){var p=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:en||Eu(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!en)if(p===null)g.componentDidMount();else{var N=l.elementType===l.type?p.memoizedProps:or(l.type,p.memoizedProps);g.componentDidUpdate(N,p.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var A=l.updateQueue;A!==null&&dw(l,A,g);break;case 3:var I=l.updateQueue;if(I!==null){if(p=null,l.child!==null)switch(l.child.tag){case 5:p=l.child.stateNode;break;case 1:p=l.child.stateNode}dw(l,I,p)}break;case 5:var U=l.stateNode;if(p===null&&l.flags&4){p=U;var G=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":G.autoFocus&&p.focus();break;case"img":G.src&&(p.src=G.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var ne=l.alternate;if(ne!==null){var ce=ne.memoizedState;if(ce!==null){var ue=ce.dehydrated;ue!==null&&To(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}en||l.flags&512&&vh(l)}catch(oe){wt(l,l.return,oe)}}if(l===s){ye=null;break}if(p=l.sibling,p!==null){p.return=l.return,ye=p;break}ye=l.return}}function mj(s){for(;ye!==null;){var l=ye;if(l===s){ye=null;break}var p=l.sibling;if(p!==null){p.return=l.return,ye=p;break}ye=l.return}}function xj(s){for(;ye!==null;){var l=ye;try{switch(l.tag){case 0:case 11:case 15:var p=l.return;try{Eu(4,l)}catch(G){wt(l,p,G)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var N=l.return;try{g.componentDidMount()}catch(G){wt(l,N,G)}}var A=l.return;try{vh(l)}catch(G){wt(l,A,G)}break;case 5:var I=l.return;try{vh(l)}catch(G){wt(l,I,G)}}}catch(G){wt(l,l.return,G)}if(l===s){ye=null;break}var U=l.sibling;if(U!==null){U.return=l.return,ye=U;break}ye=l.return}}var mT=Math.ceil,Du=C.ReactCurrentDispatcher,wh=C.ReactCurrentOwner,Wn=C.ReactCurrentBatchConfig,Ve=0,Ft=null,Pt=null,Gt=0,In=0,bs=Ca(0),Tt=0,nl=null,pi=0,Ou=0,jh=0,rl=null,yn=null,Nh=0,ws=1/0,Xr=null,Iu=!1,Sh=null,Ia=null,Tu=!1,Ta=null,_u=0,al=0,kh=null,Mu=-1,Ru=0;function un(){return(Ve&6)!==0?St():Mu!==-1?Mu:Mu=St()}function _a(s){return(s.mode&1)===0?1:(Ve&2)!==0&&Gt!==0?Gt&-Gt:Z5.transition!==null?(Ru===0&&(Ru=l1()),Ru):(s=tt,s!==0||(s=window.event,s=s===void 0?16:g1(s.type)),s)}function ur(s,l,p,g){if(50<al)throw al=0,kh=null,Error(n(185));Po(s,p,g),((Ve&2)===0||s!==Ft)&&(s===Ft&&((Ve&2)===0&&(Ou|=p),Tt===4&&Ma(s,Gt)),bn(s,g),p===1&&Ve===0&&(l.mode&1)===0&&(ws=St()+500,uu&&Pa()))}function bn(s,l){var p=s.callbackNode;ZI(s,l);var g=Hc(s,s===Ft?Gt:0);if(g===0)p!==null&&i1(p),s.callbackNode=null,s.callbackPriority=0;else if(l=g&-g,s.callbackPriority!==l){if(p!=null&&i1(p),l===1)s.tag===0?Q5(vj.bind(null,s)):nw(vj.bind(null,s)),K5(function(){(Ve&6)===0&&Pa()}),p=null;else{switch(c1(g)){case 1:p=ap;break;case 4:p=s1;break;case 16:p=Fc;break;case 536870912:p=o1;break;default:p=Fc}p=Cj(p,gj.bind(null,s))}s.callbackPriority=l,s.callbackNode=p}}function gj(s,l){if(Mu=-1,Ru=0,(Ve&6)!==0)throw Error(n(327));var p=s.callbackNode;if(js()&&s.callbackNode!==p)return null;var g=Hc(s,s===Ft?Gt:0);if(g===0)return null;if((g&30)!==0||(g&s.expiredLanes)!==0||l)l=$u(s,g);else{l=g;var N=Ve;Ve|=2;var A=bj();(Ft!==s||Gt!==l)&&(Xr=null,ws=St()+500,mi(s,l));do try{vT();break}catch(U){yj(s,U)}while(!0);qp(),Du.current=A,Ve=N,Pt!==null?l=0:(Ft=null,Gt=0,l=Tt)}if(l!==0){if(l===2&&(N=ip(s),N!==0&&(g=N,l=Ch(s,N))),l===1)throw p=nl,mi(s,0),Ma(s,g),bn(s,St()),p;if(l===6)Ma(s,g);else{if(N=s.current.alternate,(g&30)===0&&!xT(N)&&(l=$u(s,g),l===2&&(A=ip(s),A!==0&&(g=A,l=Ch(s,A))),l===1))throw p=nl,mi(s,0),Ma(s,g),bn(s,St()),p;switch(s.finishedWork=N,s.finishedLanes=g,l){case 0:case 1:throw Error(n(345));case 2:xi(s,yn,Xr);break;case 3:if(Ma(s,g),(g&130023424)===g&&(l=Nh+500-St(),10<l)){if(Hc(s,0)!==0)break;if(N=s.suspendedLanes,(N&g)!==g){un(),s.pingedLanes|=s.suspendedLanes&N;break}s.timeoutHandle=Ip(xi.bind(null,s,yn,Xr),l);break}xi(s,yn,Xr);break;case 4:if(Ma(s,g),(g&4194240)===g)break;for(l=s.eventTimes,N=-1;0<g;){var I=31-ar(g);A=1<<I,I=l[I],I>N&&(N=I),g&=~A}if(g=N,g=St()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*mT(g/1960))-g,10<g){s.timeoutHandle=Ip(xi.bind(null,s,yn,Xr),g);break}xi(s,yn,Xr);break;case 5:xi(s,yn,Xr);break;default:throw Error(n(329))}}}return bn(s,St()),s.callbackNode===p?gj.bind(null,s):null}function Ch(s,l){var p=rl;return s.current.memoizedState.isDehydrated&&(mi(s,l).flags|=256),s=$u(s,l),s!==2&&(l=yn,yn=p,l!==null&&Ah(l)),s}function Ah(s){yn===null?yn=s:yn.push.apply(yn,s)}function xT(s){for(var l=s;;){if(l.flags&16384){var p=l.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var g=0;g<p.length;g++){var N=p[g],A=N.getSnapshot;N=N.value;try{if(!ir(A(),N))return!1}catch{return!1}}}if(p=l.child,l.subtreeFlags&16384&&p!==null)p.return=l,l=p;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ma(s,l){for(l&=~jh,l&=~Ou,s.suspendedLanes|=l,s.pingedLanes&=~l,s=s.expirationTimes;0<l;){var p=31-ar(l),g=1<<p;s[p]=-1,l&=~g}}function vj(s){if((Ve&6)!==0)throw Error(n(327));js();var l=Hc(s,0);if((l&1)===0)return bn(s,St()),null;var p=$u(s,l);if(s.tag!==0&&p===2){var g=ip(s);g!==0&&(l=g,p=Ch(s,g))}if(p===1)throw p=nl,mi(s,0),Ma(s,l),bn(s,St()),p;if(p===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=l,xi(s,yn,Xr),bn(s,St()),null}function Ph(s,l){var p=Ve;Ve|=1;try{return s(l)}finally{Ve=p,Ve===0&&(ws=St()+500,uu&&Pa())}}function hi(s){Ta!==null&&Ta.tag===0&&(Ve&6)===0&&js();var l=Ve;Ve|=1;var p=Wn.transition,g=tt;try{if(Wn.transition=null,tt=1,s)return s()}finally{tt=g,Wn.transition=p,Ve=l,(Ve&6)===0&&Pa()}}function Eh(){In=bs.current,ft(bs)}function mi(s,l){s.finishedWork=null,s.finishedLanes=0;var p=s.timeoutHandle;if(p!==-1&&(s.timeoutHandle=-1,V5(p)),Pt!==null)for(p=Pt.return;p!==null;){var g=p;switch(zp(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&lu();break;case 3:gs(),ft(xn),ft(Qt),Jp();break;case 5:Qp(g);break;case 4:gs();break;case 13:ft(gt);break;case 19:ft(gt);break;case 10:Wp(g.type._context);break;case 22:case 23:Eh()}p=p.return}if(Ft=s,Pt=s=Ra(s.current,null),Gt=In=l,Tt=0,nl=null,jh=Ou=pi=0,yn=rl=null,ui!==null){for(l=0;l<ui.length;l++)if(p=ui[l],g=p.interleaved,g!==null){p.interleaved=null;var N=g.next,A=p.pending;if(A!==null){var I=A.next;A.next=N,g.next=I}p.pending=g}ui=null}return s}function yj(s,l){do{var p=Pt;try{if(qp(),wu.current=ku,ju){for(var g=vt.memoizedState;g!==null;){var N=g.queue;N!==null&&(N.pending=null),g=g.next}ju=!1}if(fi=0,Bt=It=vt=null,Xo=!1,Qo=0,wh.current=null,p===null||p.return===null){Tt=1,nl=l,Pt=null;break}e:{var A=s,I=p.return,U=p,G=l;if(l=Gt,U.flags|=32768,G!==null&&typeof G=="object"&&typeof G.then=="function"){var ne=G,ce=U,ue=ce.tag;if((ce.mode&1)===0&&(ue===0||ue===11||ue===15)){var oe=ce.alternate;oe?(ce.updateQueue=oe.updateQueue,ce.memoizedState=oe.memoizedState,ce.lanes=oe.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var ve=Ww(I);if(ve!==null){ve.flags&=-257,Hw(ve,I,U,A,l),ve.mode&1&&qw(A,ne,l),l=ve,G=ne;var we=l.updateQueue;if(we===null){var je=new Set;je.add(G),l.updateQueue=je}else we.add(G);break e}else{if((l&1)===0){qw(A,ne,l),Dh();break e}G=Error(n(426))}}else if(ht&&U.mode&1){var kt=Ww(I);if(kt!==null){(kt.flags&65536)===0&&(kt.flags|=256),Hw(kt,I,U,A,l),Fp(vs(G,U));break e}}A=G=vs(G,U),Tt!==4&&(Tt=2),rl===null?rl=[A]:rl.push(A),A=I;do{switch(A.tag){case 3:A.flags|=65536,l&=-l,A.lanes|=l;var Z=Fw(A,G,l);uw(A,Z);break e;case 1:U=G;var Q=A.type,te=A.stateNode;if((A.flags&128)===0&&(typeof Q.getDerivedStateFromError=="function"||te!==null&&typeof te.componentDidCatch=="function"&&(Ia===null||!Ia.has(te)))){A.flags|=65536,l&=-l,A.lanes|=l;var fe=Uw(A,U,l);uw(A,fe);break e}}A=A.return}while(A!==null)}jj(p)}catch(ke){l=ke,Pt===p&&p!==null&&(Pt=p=p.return);continue}break}while(!0)}function bj(){var s=Du.current;return Du.current=ku,s===null?ku:s}function Dh(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Ft===null||(pi&268435455)===0&&(Ou&268435455)===0||Ma(Ft,Gt)}function $u(s,l){var p=Ve;Ve|=2;var g=bj();(Ft!==s||Gt!==l)&&(Xr=null,mi(s,l));do try{gT();break}catch(N){yj(s,N)}while(!0);if(qp(),Ve=p,Du.current=g,Pt!==null)throw Error(n(261));return Ft=null,Gt=0,Tt}function gT(){for(;Pt!==null;)wj(Pt)}function vT(){for(;Pt!==null&&!qI();)wj(Pt)}function wj(s){var l=kj(s.alternate,s,In);s.memoizedProps=s.pendingProps,l===null?jj(s):Pt=l,wh.current=null}function jj(s){var l=s;do{var p=l.alternate;if(s=l.return,(l.flags&32768)===0){if(p=uT(p,l,In),p!==null){Pt=p;return}}else{if(p=dT(p,l),p!==null){p.flags&=32767,Pt=p;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Tt=6,Pt=null;return}}if(l=l.sibling,l!==null){Pt=l;return}Pt=l=s}while(l!==null);Tt===0&&(Tt=5)}function xi(s,l,p){var g=tt,N=Wn.transition;try{Wn.transition=null,tt=1,yT(s,l,p,g)}finally{Wn.transition=N,tt=g}return null}function yT(s,l,p,g){do js();while(Ta!==null);if((Ve&6)!==0)throw Error(n(327));p=s.finishedWork;var N=s.finishedLanes;if(p===null)return null;if(s.finishedWork=null,s.finishedLanes=0,p===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var A=p.lanes|p.childLanes;if(JI(s,A),s===Ft&&(Pt=Ft=null,Gt=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||Tu||(Tu=!0,Cj(Fc,function(){return js(),null})),A=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||A){A=Wn.transition,Wn.transition=null;var I=tt;tt=1;var U=Ve;Ve|=4,wh.current=null,pT(s,p),fj(p,s),L5(Dp),Gc=!!Ep,Dp=Ep=null,s.current=p,hT(p),WI(),Ve=U,tt=I,Wn.transition=A}else s.current=p;if(Tu&&(Tu=!1,Ta=s,_u=N),A=s.pendingLanes,A===0&&(Ia=null),KI(p.stateNode),bn(s,St()),l!==null)for(g=s.onRecoverableError,p=0;p<l.length;p++)N=l[p],g(N.value,{componentStack:N.stack,digest:N.digest});if(Iu)throw Iu=!1,s=Sh,Sh=null,s;return(_u&1)!==0&&s.tag!==0&&js(),A=s.pendingLanes,(A&1)!==0?s===kh?al++:(al=0,kh=s):al=0,Pa(),null}function js(){if(Ta!==null){var s=c1(_u),l=Wn.transition,p=tt;try{if(Wn.transition=null,tt=16>s?16:s,Ta===null)var g=!1;else{if(s=Ta,Ta=null,_u=0,(Ve&6)!==0)throw Error(n(331));var N=Ve;for(Ve|=4,ye=s.current;ye!==null;){var A=ye,I=A.child;if((ye.flags&16)!==0){var U=A.deletions;if(U!==null){for(var G=0;G<U.length;G++){var ne=U[G];for(ye=ne;ye!==null;){var ce=ye;switch(ce.tag){case 0:case 11:case 15:tl(8,ce,A)}var ue=ce.child;if(ue!==null)ue.return=ce,ye=ue;else for(;ye!==null;){ce=ye;var oe=ce.sibling,ve=ce.return;if(oj(ce),ce===ne){ye=null;break}if(oe!==null){oe.return=ve,ye=oe;break}ye=ve}}}var we=A.alternate;if(we!==null){var je=we.child;if(je!==null){we.child=null;do{var kt=je.sibling;je.sibling=null,je=kt}while(je!==null)}}ye=A}}if((A.subtreeFlags&2064)!==0&&I!==null)I.return=A,ye=I;else e:for(;ye!==null;){if(A=ye,(A.flags&2048)!==0)switch(A.tag){case 0:case 11:case 15:tl(9,A,A.return)}var Z=A.sibling;if(Z!==null){Z.return=A.return,ye=Z;break e}ye=A.return}}var Q=s.current;for(ye=Q;ye!==null;){I=ye;var te=I.child;if((I.subtreeFlags&2064)!==0&&te!==null)te.return=I,ye=te;else e:for(I=Q;ye!==null;){if(U=ye,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:Eu(9,U)}}catch(ke){wt(U,U.return,ke)}if(U===I){ye=null;break e}var fe=U.sibling;if(fe!==null){fe.return=U.return,ye=fe;break e}ye=U.return}}if(Ve=N,Pa(),Sr&&typeof Sr.onPostCommitFiberRoot=="function")try{Sr.onPostCommitFiberRoot(Uc,s)}catch{}g=!0}return g}finally{tt=p,Wn.transition=l}}return!1}function Nj(s,l,p){l=vs(p,l),l=Fw(s,l,1),s=Da(s,l,1),l=un(),s!==null&&(Po(s,1,l),bn(s,l))}function wt(s,l,p){if(s.tag===3)Nj(s,s,p);else for(;l!==null;){if(l.tag===3){Nj(l,s,p);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ia===null||!Ia.has(g))){s=vs(p,s),s=Uw(l,s,1),l=Da(l,s,1),s=un(),l!==null&&(Po(l,1,s),bn(l,s));break}}l=l.return}}function bT(s,l,p){var g=s.pingCache;g!==null&&g.delete(l),l=un(),s.pingedLanes|=s.suspendedLanes&p,Ft===s&&(Gt&p)===p&&(Tt===4||Tt===3&&(Gt&130023424)===Gt&&500>St()-Nh?mi(s,0):jh|=p),bn(s,l)}function Sj(s,l){l===0&&((s.mode&1)===0?l=1:(l=Wc,Wc<<=1,(Wc&130023424)===0&&(Wc=4194304)));var p=un();s=Kr(s,l),s!==null&&(Po(s,l,p),bn(s,p))}function wT(s){var l=s.memoizedState,p=0;l!==null&&(p=l.retryLane),Sj(s,p)}function jT(s,l){var p=0;switch(s.tag){case 13:var g=s.stateNode,N=s.memoizedState;N!==null&&(p=N.retryLane);break;case 19:g=s.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(l),Sj(s,p)}var kj;kj=function(s,l,p){if(s!==null)if(s.memoizedProps!==l.pendingProps||xn.current)vn=!0;else{if((s.lanes&p)===0&&(l.flags&128)===0)return vn=!1,cT(s,l,p);vn=(s.flags&131072)!==0}else vn=!1,ht&&(l.flags&1048576)!==0&&rw(l,fu,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;Au(s,l),s=l.pendingProps;var N=us(l,Qt.current);ms(l,p),N=nh(null,l,g,s,N,p);var A=rh();return l.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,gn(g)?(A=!0,cu(l)):A=!1,l.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,Kp(l),N.updater=vu,l.stateNode=N,N._reactInternals=l,Yp(l,g,s,p),l=dh(null,l,g,!0,A,p)):(l.tag=0,ht&&A&&$p(l),cn(null,l,N,p),l=l.child),l;case 16:g=l.elementType;e:{switch(Au(s,l),s=l.pendingProps,N=g._init,g=N(g._payload),l.type=g,N=l.tag=ST(g),s=or(g,s),N){case 0:l=uh(null,l,g,s,p);break e;case 1:l=Qw(null,l,g,s,p);break e;case 11:l=Vw(null,l,g,s,p);break e;case 14:l=Kw(null,l,g,or(g.type,s),p);break e}throw Error(n(306,g,""))}return l;case 0:return g=l.type,N=l.pendingProps,N=l.elementType===g?N:or(g,N),uh(s,l,g,N,p);case 1:return g=l.type,N=l.pendingProps,N=l.elementType===g?N:or(g,N),Qw(s,l,g,N,p);case 3:e:{if(Zw(l),s===null)throw Error(n(387));g=l.pendingProps,A=l.memoizedState,N=A.element,cw(s,l),gu(l,g,null,p);var I=l.memoizedState;if(g=I.element,A.isDehydrated)if(A={element:g,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},l.updateQueue.baseState=A,l.memoizedState=A,l.flags&256){N=vs(Error(n(423)),l),l=Jw(s,l,g,p,N);break e}else if(g!==N){N=vs(Error(n(424)),l),l=Jw(s,l,g,p,N);break e}else for(On=ka(l.stateNode.containerInfo.firstChild),Dn=l,ht=!0,sr=null,p=vw(l,null,g,p),l.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(ps(),g===N){l=Yr(s,l,p);break e}cn(s,l,g,p)}l=l.child}return l;case 5:return yw(l),s===null&&Bp(l),g=l.type,N=l.pendingProps,A=s!==null?s.memoizedProps:null,I=N.children,Op(g,N)?I=null:A!==null&&Op(g,A)&&(l.flags|=32),Xw(s,l),cn(s,l,I,p),l.child;case 6:return s===null&&Bp(l),null;case 13:return ej(s,l,p);case 4:return Xp(l,l.stateNode.containerInfo),g=l.pendingProps,s===null?l.child=xs(l,null,g,p):cn(s,l,g,p),l.child;case 11:return g=l.type,N=l.pendingProps,N=l.elementType===g?N:or(g,N),Vw(s,l,g,N,p);case 7:return cn(s,l,l.pendingProps,p),l.child;case 8:return cn(s,l,l.pendingProps.children,p),l.child;case 12:return cn(s,l,l.pendingProps.children,p),l.child;case 10:e:{if(g=l.type._context,N=l.pendingProps,A=l.memoizedProps,I=N.value,ct(hu,g._currentValue),g._currentValue=I,A!==null)if(ir(A.value,I)){if(A.children===N.children&&!xn.current){l=Yr(s,l,p);break e}}else for(A=l.child,A!==null&&(A.return=l);A!==null;){var U=A.dependencies;if(U!==null){I=A.child;for(var G=U.firstContext;G!==null;){if(G.context===g){if(A.tag===1){G=Gr(-1,p&-p),G.tag=2;var ne=A.updateQueue;if(ne!==null){ne=ne.shared;var ce=ne.pending;ce===null?G.next=G:(G.next=ce.next,ce.next=G),ne.pending=G}}A.lanes|=p,G=A.alternate,G!==null&&(G.lanes|=p),Hp(A.return,p,l),U.lanes|=p;break}G=G.next}}else if(A.tag===10)I=A.type===l.type?null:A.child;else if(A.tag===18){if(I=A.return,I===null)throw Error(n(341));I.lanes|=p,U=I.alternate,U!==null&&(U.lanes|=p),Hp(I,p,l),I=A.sibling}else I=A.child;if(I!==null)I.return=A;else for(I=A;I!==null;){if(I===l){I=null;break}if(A=I.sibling,A!==null){A.return=I.return,I=A;break}I=I.return}A=I}cn(s,l,N.children,p),l=l.child}return l;case 9:return N=l.type,g=l.pendingProps.children,ms(l,p),N=Un(N),g=g(N),l.flags|=1,cn(s,l,g,p),l.child;case 14:return g=l.type,N=or(g,l.pendingProps),N=or(g.type,N),Kw(s,l,g,N,p);case 15:return Gw(s,l,l.type,l.pendingProps,p);case 17:return g=l.type,N=l.pendingProps,N=l.elementType===g?N:or(g,N),Au(s,l),l.tag=1,gn(g)?(s=!0,cu(l)):s=!1,ms(l,p),hw(l,g,N),Yp(l,g,N,p),dh(null,l,g,!0,s,p);case 19:return nj(s,l,p);case 22:return Yw(s,l,p)}throw Error(n(156,l.tag))};function Cj(s,l){return a1(s,l)}function NT(s,l,p,g){this.tag=s,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(s,l,p,g){return new NT(s,l,p,g)}function Oh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ST(s){if(typeof s=="function")return Oh(s)?1:0;if(s!=null){if(s=s.$$typeof,s===$)return 11;if(s===F)return 14}return 2}function Ra(s,l){var p=s.alternate;return p===null?(p=Hn(s.tag,l,s.key,s.mode),p.elementType=s.elementType,p.type=s.type,p.stateNode=s.stateNode,p.alternate=s,s.alternate=p):(p.pendingProps=l,p.type=s.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=s.flags&14680064,p.childLanes=s.childLanes,p.lanes=s.lanes,p.child=s.child,p.memoizedProps=s.memoizedProps,p.memoizedState=s.memoizedState,p.updateQueue=s.updateQueue,l=s.dependencies,p.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},p.sibling=s.sibling,p.index=s.index,p.ref=s.ref,p}function zu(s,l,p,g,N,A){var I=2;if(g=s,typeof s=="function")Oh(s)&&(I=1);else if(typeof s=="string")I=5;else e:switch(s){case D:return gi(p.children,N,A,l);case T:I=8,N|=8;break;case M:return s=Hn(12,p,l,N|2),s.elementType=M,s.lanes=A,s;case B:return s=Hn(13,p,l,N),s.elementType=B,s.lanes=A,s;case L:return s=Hn(19,p,l,N),s.elementType=L,s.lanes=A,s;case W:return Lu(p,N,A,l);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case z:I=10;break e;case R:I=9;break e;case $:I=11;break e;case F:I=14;break e;case Y:I=16,g=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return l=Hn(I,p,l,N),l.elementType=s,l.type=g,l.lanes=A,l}function gi(s,l,p,g){return s=Hn(7,s,g,l),s.lanes=p,s}function Lu(s,l,p,g){return s=Hn(22,s,g,l),s.elementType=W,s.lanes=p,s.stateNode={isHidden:!1},s}function Ih(s,l,p){return s=Hn(6,s,null,l),s.lanes=p,s}function Th(s,l,p){return l=Hn(4,s.children!==null?s.children:[],s.key,l),l.lanes=p,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}function kT(s,l,p,g,N){this.tag=l,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sp(0),this.expirationTimes=sp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sp(0),this.identifierPrefix=g,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null}function _h(s,l,p,g,N,A,I,U,G){return s=new kT(s,l,p,U,G),l===1?(l=1,A===!0&&(l|=8)):l=0,A=Hn(3,null,null,l),s.current=A,A.stateNode=s,A.memoizedState={element:g,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kp(A),s}function CT(s,l,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:g==null?null:""+g,children:s,containerInfo:l,implementation:p}}function Aj(s){if(!s)return Aa;s=s._reactInternals;e:{if(ii(s)!==s||s.tag!==1)throw Error(n(170));var l=s;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(gn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(s.tag===1){var p=s.type;if(gn(p))return ew(s,p,l)}return l}function Pj(s,l,p,g,N,A,I,U,G){return s=_h(p,g,!0,s,N,A,I,U,G),s.context=Aj(null),p=s.current,g=un(),N=_a(p),A=Gr(g,N),A.callback=l??null,Da(p,A,N),s.current.lanes=N,Po(s,N,g),bn(s,g),s}function Bu(s,l,p,g){var N=l.current,A=un(),I=_a(N);return p=Aj(p),l.context===null?l.context=p:l.pendingContext=p,l=Gr(A,I),l.payload={element:s},g=g===void 0?null:g,g!==null&&(l.callback=g),s=Da(N,l,I),s!==null&&(ur(s,N,I,A),xu(s,N,I)),I}function Fu(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Ej(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var p=s.retryLane;s.retryLane=p!==0&&p<l?p:l}}function Mh(s,l){Ej(s,l),(s=s.alternate)&&Ej(s,l)}function AT(){return null}var Dj=typeof reportError=="function"?reportError:function(s){console.error(s)};function Rh(s){this._internalRoot=s}Uu.prototype.render=Rh.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(n(409));Bu(s,l,null,null)},Uu.prototype.unmount=Rh.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;hi(function(){Bu(null,s,null,null)}),l[qr]=null}};function Uu(s){this._internalRoot=s}Uu.prototype.unstable_scheduleHydration=function(s){if(s){var l=f1();s={blockedOn:null,target:s,priority:l};for(var p=0;p<ja.length&&l!==0&&l<ja[p].priority;p++);ja.splice(p,0,s),p===0&&m1(s)}};function $h(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function qu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Oj(){}function PT(s,l,p,g,N){if(N){if(typeof g=="function"){var A=g;g=function(){var ne=Fu(I);A.call(ne)}}var I=Pj(l,g,s,0,null,!1,!1,"",Oj);return s._reactRootContainer=I,s[qr]=I.current,Uo(s.nodeType===8?s.parentNode:s),hi(),I}for(;N=s.lastChild;)s.removeChild(N);if(typeof g=="function"){var U=g;g=function(){var ne=Fu(G);U.call(ne)}}var G=_h(s,0,!1,null,null,!1,!1,"",Oj);return s._reactRootContainer=G,s[qr]=G.current,Uo(s.nodeType===8?s.parentNode:s),hi(function(){Bu(l,G,p,g)}),G}function Wu(s,l,p,g,N){var A=p._reactRootContainer;if(A){var I=A;if(typeof N=="function"){var U=N;N=function(){var G=Fu(I);U.call(G)}}Bu(l,I,s,N)}else I=PT(p,l,s,N,g);return Fu(I)}u1=function(s){switch(s.tag){case 3:var l=s.stateNode;if(l.current.memoizedState.isDehydrated){var p=Ao(l.pendingLanes);p!==0&&(op(l,p|1),bn(l,St()),(Ve&6)===0&&(ws=St()+500,Pa()))}break;case 13:hi(function(){var g=Kr(s,1);if(g!==null){var N=un();ur(g,s,1,N)}}),Mh(s,1)}},lp=function(s){if(s.tag===13){var l=Kr(s,134217728);if(l!==null){var p=un();ur(l,s,134217728,p)}Mh(s,134217728)}},d1=function(s){if(s.tag===13){var l=_a(s),p=Kr(s,l);if(p!==null){var g=un();ur(p,s,l,g)}Mh(s,l)}},f1=function(){return tt},p1=function(s,l){var p=tt;try{return tt=s,l()}finally{tt=p}},Nr=function(s,l,p){switch(l){case"input":if(_e(s,p),l=p.name,p.type==="radio"&&l!=null){for(p=s;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<p.length;l++){var g=p[l];if(g!==s&&g.form===s.form){var N=ou(g);if(!N)throw Error(n(90));se(g),_e(g,N)}}}break;case"textarea":me(s,p);break;case"select":l=p.value,l!=null&&We(s,!!p.multiple,l,!1)}},Qb=Ph,Zb=hi;var ET={usingClientEntryPoint:!1,Events:[Ho,ls,ou,Yb,Xb,Ph]},il={findFiberByHostInstance:si,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},DT={bundleType:il.bundleType,version:il.version,rendererPackageName:il.rendererPackageName,rendererConfig:il.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=n1(s),s===null?null:s.stateNode},findFiberByHostInstance:il.findFiberByHostInstance||AT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hu.isDisabled&&Hu.supportsFiber)try{Uc=Hu.inject(DT),Sr=Hu}catch{}}return wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ET,wn.createPortal=function(s,l){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$h(l))throw Error(n(200));return CT(s,l,null,p)},wn.createRoot=function(s,l){if(!$h(s))throw Error(n(299));var p=!1,g="",N=Dj;return l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(N=l.onRecoverableError)),l=_h(s,1,!1,null,null,p,!1,g,N),s[qr]=l.current,Uo(s.nodeType===8?s.parentNode:s),new Rh(l)},wn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=n1(l),s=s===null?null:s.stateNode,s},wn.flushSync=function(s){return hi(s)},wn.hydrate=function(s,l,p){if(!qu(l))throw Error(n(200));return Wu(null,s,l,!0,p)},wn.hydrateRoot=function(s,l,p){if(!$h(s))throw Error(n(405));var g=p!=null&&p.hydratedSources||null,N=!1,A="",I=Dj;if(p!=null&&(p.unstable_strictMode===!0&&(N=!0),p.identifierPrefix!==void 0&&(A=p.identifierPrefix),p.onRecoverableError!==void 0&&(I=p.onRecoverableError)),l=Pj(l,null,s,1,p??null,N,!1,A,I),s[qr]=l.current,Uo(s),g)for(s=0;s<g.length;s++)p=g[s],N=p._getVersion,N=N(p._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[p,N]:l.mutableSourceEagerHydrationData.push(p,N);return new Uu(l)},wn.render=function(s,l,p){if(!qu(l))throw Error(n(200));return Wu(null,s,l,!1,p)},wn.unmountComponentAtNode=function(s){if(!qu(s))throw Error(n(40));return s._reactRootContainer?(hi(function(){Wu(null,null,s,!1,function(){s._reactRootContainer=null,s[qr]=null})}),!0):!1},wn.unstable_batchedUpdates=Ph,wn.unstable_renderSubtreeIntoContainer=function(s,l,p,g){if(!qu(p))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Wu(s,l,p,!1,g)},wn.version="18.2.0-next-9e3b772b8-20220608",wn}var Lj;function nE(){if(Lj)return Bh.exports;Lj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Bh.exports=LT(),Bh.exports}var Bj;function BT(){if(Bj)return Ku;Bj=1;var e=nE();return Ku.createRoot=e.createRoot,Ku.hydrateRoot=e.hydrateRoot,Ku}var FT=BT();nE();/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tl(){return Tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tl.apply(this,arguments)}var qa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(qa||(qa={}));const Fj="popstate";function UT(e){e===void 0&&(e={});function t(i,o){let{pathname:c="/",search:u="",hash:d=""}=Ui(i.location.hash.substr(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Qg("",{pathname:c,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let c=i.document.querySelector("base"),u="";if(c&&c.getAttribute("href")){let d=i.location.href,f=d.indexOf("#");u=f===-1?d:d.slice(0,f)}return u+"#"+(typeof o=="string"?o:hd(o))}function r(i,o){by(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return WT(t,n,r,e)}function At(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function by(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function qT(){return Math.random().toString(36).substr(2,8)}function Uj(e,t){return{usr:e.state,key:e.key,idx:t}}function Qg(e,t,n,r){return n===void 0&&(n=null),Tl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ui(t):t,{state:n,key:t&&t.key||r||qT()})}function hd(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ui(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function WT(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,c=i.history,u=qa.Pop,d=null,f=h();f==null&&(f=0,c.replaceState(Tl({},c.state,{idx:f}),""));function h(){return(c.state||{idx:null}).idx}function m(){u=qa.Pop;let w=h(),y=w==null?null:w-f;f=w,d&&d({action:u,location:b.location,delta:y})}function x(w,y){u=qa.Push;let k=Qg(b.location,w,y);n&&n(k,w),f=h()+1;let P=Uj(k,f),C=b.createHref(k);try{c.pushState(P,"",C)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(C)}o&&d&&d({action:u,location:b.location,delta:1})}function v(w,y){u=qa.Replace;let k=Qg(b.location,w,y);n&&n(k,w),f=h();let P=Uj(k,f),C=b.createHref(k);c.replaceState(P,"",C),o&&d&&d({action:u,location:b.location,delta:0})}function j(w){let y=i.location.origin!=="null"?i.location.origin:i.location.href,k=typeof w=="string"?w:hd(w);return k=k.replace(/ $/,"%20"),At(y,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,y)}let b={get action(){return u},get location(){return e(i,c)},listen(w){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(Fj,m),d=w,()=>{i.removeEventListener(Fj,m),d=null}},createHref(w){return t(i,w)},createURL:j,encodeLocation(w){let y=j(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:x,replace:v,go(w){return c.go(w)}};return b}var qj;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(qj||(qj={}));function HT(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Ui(t):t,i=wy(r.pathname||"/",n);if(i==null)return null;let o=rE(e);VT(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let d=a4(i);c=t4(o[u],d)}return c}function rE(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,c,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};d.relativePath.startsWith("/")&&(At(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let f=Ga([r,d.relativePath]),h=n.concat(d);o.children&&o.children.length>0&&(At(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),rE(o.children,t,h,f)),!(o.path==null&&!o.index)&&t.push({path:f,score:JT(f,o.index),routesMeta:h})};return e.forEach((o,c)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,c);else for(let d of aE(o.path))i(o,c,d)}),t}function aE(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let c=aE(r.join("/")),u=[];return u.push(...c.map(d=>d===""?o:[o,d].join("/"))),i&&u.push(...c),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function VT(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:e4(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const KT=/^:[\w-]+$/,GT=3,YT=2,XT=1,QT=10,ZT=-2,Wj=e=>e==="*";function JT(e,t){let n=e.split("/"),r=n.length;return n.some(Wj)&&(r+=ZT),t&&(r+=YT),n.filter(i=>!Wj(i)).reduce((i,o)=>i+(KT.test(o)?GT:o===""?XT:QT),r)}function e4(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function t4(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let c=0;c<n.length;++c){let u=n[c],d=c===n.length-1,f=i==="/"?t:t.slice(i.length)||"/",h=n4({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f);if(!h)return null;Object.assign(r,h.params);let m=u.route;o.push({params:r,pathname:Ga([i,h.pathname]),pathnameBase:l4(Ga([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=Ga([i,h.pathnameBase]))}return o}function n4(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=r4(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],c=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,h,m)=>{let{paramName:x,isOptional:v}=h;if(x==="*"){let b=u[m]||"";c=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const j=u[m];return v&&!j?f[x]=void 0:f[x]=(j||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:c,pattern:e}}function r4(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),by(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function a4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return by(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function wy(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function i4(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ui(e):e;return{pathname:n?n.startsWith("/")?n:s4(n,t):t,search:c4(r),hash:u4(i)}}function s4(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function qh(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function o4(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function jy(e,t){let n=o4(e);return t?n.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ny(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Ui(e):(i=Tl({},e),At(!i.pathname||!i.pathname.includes("?"),qh("?","pathname","search",i)),At(!i.pathname||!i.pathname.includes("#"),qh("#","pathname","hash",i)),At(!i.search||!i.search.includes("#"),qh("#","search","hash",i)));let o=e===""||i.pathname==="",c=o?"/":i.pathname,u;if(c==null)u=n;else{let m=t.length-1;if(!r&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),m-=1;i.pathname=x.join("/")}u=m>=0?t[m]:"/"}let d=i4(i,u),f=c&&c!=="/"&&c.endsWith("/"),h=(o||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||h)&&(d.pathname+="/"),d}const Ga=e=>e.join("/").replace(/\/\/+/g,"/"),l4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),c4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,u4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function d4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const iE=["post","put","patch","delete"];new Set(iE);const f4=["get",...iE];new Set(f4);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _l(){return _l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_l.apply(this,arguments)}const Sy=O.createContext(null),p4=O.createContext(null),Xa=O.createContext(null),xf=O.createContext(null),Qa=O.createContext({outlet:null,matches:[],isDataRoute:!1}),sE=O.createContext(null);function h4(e,t){let{relative:n}=t===void 0?{}:t;lo()||At(!1);let{basename:r,navigator:i}=O.useContext(Xa),{hash:o,pathname:c,search:u}=lE(e,{relative:n}),d=c;return r!=="/"&&(d=c==="/"?r:Ga([r,c])),i.createHref({pathname:d,search:u,hash:o})}function lo(){return O.useContext(xf)!=null}function qi(){return lo()||At(!1),O.useContext(xf).location}function oE(e){O.useContext(Xa).static||O.useLayoutEffect(e)}function gf(){let{isDataRoute:e}=O.useContext(Qa);return e?A4():m4()}function m4(){lo()||At(!1);let e=O.useContext(Sy),{basename:t,future:n,navigator:r}=O.useContext(Xa),{matches:i}=O.useContext(Qa),{pathname:o}=qi(),c=JSON.stringify(jy(i,n.v7_relativeSplatPath)),u=O.useRef(!1);return oE(()=>{u.current=!0}),O.useCallback(function(f,h){if(h===void 0&&(h={}),!u.current)return;if(typeof f=="number"){r.go(f);return}let m=Ny(f,JSON.parse(c),o,h.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Ga([t,m.pathname])),(h.replace?r.replace:r.push)(m,h.state,h)},[t,r,c,o,e])}function lE(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=O.useContext(Xa),{matches:i}=O.useContext(Qa),{pathname:o}=qi(),c=JSON.stringify(jy(i,r.v7_relativeSplatPath));return O.useMemo(()=>Ny(e,JSON.parse(c),o,n==="path"),[e,c,o,n])}function x4(e,t){return g4(e,t)}function g4(e,t,n,r){lo()||At(!1);let{navigator:i}=O.useContext(Xa),{matches:o}=O.useContext(Qa),c=o[o.length-1],u=c?c.params:{};c&&c.pathname;let d=c?c.pathnameBase:"/";c&&c.route;let f=qi(),h;if(t){var m;let w=typeof t=="string"?Ui(t):t;d==="/"||(m=w.pathname)!=null&&m.startsWith(d)||At(!1),h=w}else h=f;let x=h.pathname||"/",v=x;if(d!=="/"){let w=d.replace(/^\//,"").split("/");v="/"+x.replace(/^\//,"").split("/").slice(w.length).join("/")}let j=HT(e,{pathname:v}),b=j4(j&&j.map(w=>Object.assign({},w,{params:Object.assign({},u,w.params),pathname:Ga([d,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?d:Ga([d,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return t&&b?O.createElement(xf.Provider,{value:{location:_l({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:qa.Pop}},b):b}function v4(){let e=C4(),t=d4(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),n?O.createElement("pre",{style:i},n):null,null)}const y4=O.createElement(v4,null);class b4 extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?O.createElement(Qa.Provider,{value:this.props.routeContext},O.createElement(sE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function w4(e){let{routeContext:t,match:n,children:r}=e,i=O.useContext(Sy);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement(Qa.Provider,{value:t},r)}function j4(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if((o=n)!=null&&o.errors)e=n.matches;else return null}let c=e,u=(i=n)==null?void 0:i.errors;if(u!=null){let h=c.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id]));h>=0||At(!1),c=c.slice(0,Math.min(c.length,h+1))}let d=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<c.length;h++){let m=c[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=h),m.route.id){let{loaderData:x,errors:v}=n,j=m.route.loader&&x[m.route.id]===void 0&&(!v||v[m.route.id]===void 0);if(m.route.lazy||j){d=!0,f>=0?c=c.slice(0,f+1):c=[c[0]];break}}}return c.reduceRight((h,m,x)=>{let v,j=!1,b=null,w=null;n&&(v=u&&m.route.id?u[m.route.id]:void 0,b=m.route.errorElement||y4,d&&(f<0&&x===0?(P4("route-fallback"),j=!0,w=null):f===x&&(j=!0,w=m.route.hydrateFallbackElement||null)));let y=t.concat(c.slice(0,x+1)),k=()=>{let P;return v?P=b:j?P=w:m.route.Component?P=O.createElement(m.route.Component,null):m.route.element?P=m.route.element:P=h,O.createElement(w4,{match:m,routeContext:{outlet:h,matches:y,isDataRoute:n!=null},children:P})};return n&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?O.createElement(b4,{location:n.location,revalidation:n.revalidation,component:b,error:v,children:k(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):k()},null)}var cE=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(cE||{}),uE=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(uE||{});function N4(e){let t=O.useContext(Sy);return t||At(!1),t}function S4(e){let t=O.useContext(p4);return t||At(!1),t}function k4(e){let t=O.useContext(Qa);return t||At(!1),t}function dE(e){let t=k4(),n=t.matches[t.matches.length-1];return n.route.id||At(!1),n.route.id}function C4(){var e;let t=O.useContext(sE),n=S4(),r=dE();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function A4(){let{router:e}=N4(cE.UseNavigateStable),t=dE(uE.UseNavigateStable),n=O.useRef(!1);return oE(()=>{n.current=!0}),O.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,_l({fromRouteId:t},o)))},[e,t])}const Hj={};function P4(e,t,n){Hj[e]||(Hj[e]=!0)}function jn(e){let{to:t,replace:n,state:r,relative:i}=e;lo()||At(!1);let{future:o,static:c}=O.useContext(Xa),{matches:u}=O.useContext(Qa),{pathname:d}=qi(),f=gf(),h=Ny(t,jy(u,o.v7_relativeSplatPath),d,i==="path"),m=JSON.stringify(h);return O.useEffect(()=>f(JSON.parse(m),{replace:n,state:r,relative:i}),[f,m,i,n,r]),null}function nn(e){At(!1)}function E4(e){let{basename:t="/",children:n=null,location:r,navigationType:i=qa.Pop,navigator:o,static:c=!1,future:u}=e;lo()&&At(!1);let d=t.replace(/^\/*/,"/"),f=O.useMemo(()=>({basename:d,navigator:o,static:c,future:_l({v7_relativeSplatPath:!1},u)}),[d,u,o,c]);typeof r=="string"&&(r=Ui(r));let{pathname:h="/",search:m="",hash:x="",state:v=null,key:j="default"}=r,b=O.useMemo(()=>{let w=wy(h,d);return w==null?null:{location:{pathname:w,search:m,hash:x,state:v,key:j},navigationType:i}},[d,h,m,x,v,j,i]);return b==null?null:O.createElement(Xa.Provider,{value:f},O.createElement(xf.Provider,{children:n,value:b}))}function D4(e){let{children:t,location:n}=e;return x4(Zg(t),n)}new Promise(()=>{});function Zg(e,t){t===void 0&&(t=[]);let n=[];return O.Children.forEach(e,(r,i)=>{if(!O.isValidElement(r))return;let o=[...t,i];if(r.type===O.Fragment){n.push.apply(n,Zg(r.props.children,o));return}r.type!==nn&&At(!1),!r.props.index||!r.props.children||At(!1);let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Zg(r.props.children,o)),n.push(c)}),n}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jg(){return Jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jg.apply(this,arguments)}function O4(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function I4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function T4(e,t){return e.button===0&&(!t||t==="_self")&&!I4(e)}const _4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],M4="6";try{window.__reactRouterVersion=M4}catch{}const R4="startTransition",Vj=RT[R4];function $4(e){let{basename:t,children:n,future:r,window:i}=e,o=O.useRef();o.current==null&&(o.current=UT({window:i,v5Compat:!0}));let c=o.current,[u,d]=O.useState({action:c.action,location:c.location}),{v7_startTransition:f}=r||{},h=O.useCallback(m=>{f&&Vj?Vj(()=>d(m)):d(m)},[d,f]);return O.useLayoutEffect(()=>c.listen(h),[c,h]),O.createElement(E4,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:c,future:r})}const z4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",L4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fE=O.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:c,state:u,target:d,to:f,preventScrollReset:h,unstable_viewTransition:m}=t,x=O4(t,_4),{basename:v}=O.useContext(Xa),j,b=!1;if(typeof f=="string"&&L4.test(f)&&(j=f,z4))try{let P=new URL(window.location.href),C=f.startsWith("//")?new URL(P.protocol+f):new URL(f),S=wy(C.pathname,v);C.origin===P.origin&&S!=null?f=S+C.search+C.hash:b=!0}catch{}let w=h4(f,{relative:i}),y=B4(f,{replace:c,state:u,target:d,preventScrollReset:h,relative:i,unstable_viewTransition:m});function k(P){r&&r(P),P.defaultPrevented||y(P)}return O.createElement("a",Jg({},x,{href:j||w,onClick:b||o?r:k,ref:n,target:d}))});var Kj;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Kj||(Kj={}));var Gj;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Gj||(Gj={}));function B4(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:c,unstable_viewTransition:u}=t===void 0?{}:t,d=gf(),f=qi(),h=lE(e,{relative:c});return O.useCallback(m=>{if(T4(m,n)){m.preventDefault();let x=r!==void 0?r:hd(f)===hd(h);d(e,{replace:x,state:i,preventScrollReset:o,relative:c,unstable_viewTransition:u})}},[f,d,h,r,i,n,e,o,c,u])}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var F4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),re=(e,t)=>{const n=O.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:c,className:u="",children:d,...f},h)=>O.createElement("svg",{ref:h,...F4,width:i,height:i,stroke:r,strokeWidth:c?Number(o)*24/Number(i):o,className:["lucide",`lucide-${U4(e)}`,u].join(" "),...f},[...t.map(([m,x])=>O.createElement(m,x)),...Array.isArray(d)?d:[d]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=re("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=re("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=re("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=re("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=re("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=re("ArrowRightCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=re("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=re("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=re("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=re("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=re("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=re("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=re("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=re("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=re("CalendarRange",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=re("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=re("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=re("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=re("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=re("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=re("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=re("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=re("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=re("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=re("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=re("Contact",[["path",{d:"M17 18a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2",key:"1mghuy"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["circle",{cx:"12",cy:"10",r:"2",key:"1yojzk"}],["line",{x1:"8",x2:"8",y1:"2",y2:"4",key:"1ff9gb"}],["line",{x1:"16",x2:"16",y1:"2",y2:"4",key:"1ufoma"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=re("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=re("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=re("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=re("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=re("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=re("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=re("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=re("FileCode",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=re("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=re("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=re("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=re("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=re("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=re("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=re("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=re("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=re("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=re("HeartHandshake",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08v0c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"12sd6o"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=re("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=re("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=re("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=re("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=re("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=re("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=re("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=re("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=re("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=re("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=re("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=re("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=re("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=re("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=re("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=re("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=re("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=re("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=re("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=re("MonitorCheck",[["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=re("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=re("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=re("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=re("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=re("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=re("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=re("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=re("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2h0V5z",key:"uf6l00"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h0",key:"k2aug8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=re("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=re("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=re("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=re("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=re("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=re("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=re("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=re("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=re("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=re("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=re("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=re("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=re("Signal",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=re("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=re("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=re("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=re("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=re("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=re("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=re("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=re("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=re("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=re("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=re("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=re("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=re("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=re("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=re("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=re("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=re("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=re("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=re("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=re("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=re("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=re("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=re("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),$n="https://script.google.com/macros/s/AKfycbyaZwMLQ7_mKG2HO3fTAlaqwQl8vVUIOXz4dqbdA9l7aYnTPXJHmNcgsBP54G1Q9dQ5/exec",Ae=e=>{if(!e||e==="0"||e==="N/A")return"N/A";try{const t=new Date(e);if(isNaN(t.getTime()))return String(e);const n=t.getDate(),r=t.toLocaleString("en-US",{month:"short"}),i=t.getFullYear();return`${n}-${r}-${i}`}catch{return String(e)}},Ll=e=>{if(!e||e==="0")return"";try{const t=new Date(e);return isNaN(t.getTime())?"":t.toISOString().split("T")[0]}catch{return""}},Oe=e=>e==null?"0.00":((typeof e=="string"?parseFloat(e.replace(/[^0-9.-]+/g,"")):e)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),e2=(e,t=4)=>{if(!e)return"N/A";const n=String(e).trim();return n.length<=t?n:"".repeat(n.length-t)+n.slice(-t)},Sl=[],gl=(e,t,n,r,i)=>{Sl.unshift({time:new Date().toLocaleTimeString(),sheet:e,action:t,status:n,details:r,payload:i}),Sl.length>30&&Sl.pop()},K=(e,t)=>{if(!e||typeof e!="object")return"";const n=Object.keys(e);for(const r of t){const i=e[r];if(i!=null&&i!=="")return String(i).trim();const o=r.toLowerCase().replace(/\s+/g,""),c=n.find(u=>u.toLowerCase().replace(/\s+/g,"")===o);if(c){const u=e[c];if(u!=null&&u!=="")return String(u).trim()}}return""},tn=e=>{if(!Array.isArray(e)||e.length<1)return[];const t=e[0].map(n=>String(n||"").trim());return e.length<2?[]:e.slice(1).map(n=>{const r={};return Array.isArray(n)&&t.forEach((i,o)=>{i&&(r[i]=n[o]!==void 0?n[o]:"")}),r})},at=e=>{if(e==null||e==="")return 0;if(typeof e=="number")return e;const t=String(e).replace(/[^0-9.-]+/g,""),n=Number(t);return isNaN(n)?0:n},dr=e=>{if(e==null)return!1;const t=String(e).toUpperCase().trim();return t==="TRUE"||t==="YES"||e===!0||e===1||t==="ACTIVE"||t==="ENABLED"},ME=e=>{if(!e)return"";const t=e.trim();return t.startsWith("https://script.google.com")?t:""};var ln=(e=>(e.Active="Active",e.Inactive="Inactive",e.Suspended="Suspended",e))(ln||{}),Ds=(e=>(e.Active="Active",e.Inactive="Inactive",e.Maintenance="Maintenance",e))(Ds||{}),pn=(e=>(e.Active="Active",e.Expired="Expired",e.Cancelled="Cancelled",e))(pn||{}),jt=(e=>(e.Pending="Pending",e.Paid="Paid",e.Partial="Partial",e.Overdue="Overdue",e))(jt||{}),Os=(e=>(e.Completed="Completed",e.Pending="Pending",e.Failed="Failed",e))(Os||{}),Qn=(e=>(e.Open="Open",e.InProgress="In Progress",e.Resolved="Resolved",e))(Qn||{}),zn=(e=>(e.Scheduled="Scheduled",e.InProgress="In Progress",e.Completed="Completed",e))(zn||{}),la=(e=>(e.Critical="Critical",e.High="High",e.Normal="Normal",e.Low="Low",e))(la||{}),st=(e=>(e.Invoice="Invoice",e.Proforma="Proforma",e.Quotation="Quotation",e))(st||{}),ra=(e=>(e.InterestOnly="InterestOnly",e.PrincipalPlusInterest="PrincipalPlusInterest",e))(ra||{}),an=(e=>(e.Draft="Draft",e.UnderReview="UnderReview",e.CounterProposed="CounterProposed",e.Approved="Approved",e.Active="Active",e))(an||{}),Qr=(e=>(e.Call="Call",e.Email="Email",e.Meeting="Meeting",e.PaymentFollowUp="Payment Follow-Up",e.TechnicalSupport="Technical Support",e.GeneralNote="General Note",e.NoResponse="No Response",e))(Qr||{});const j_=e=>{const t=tn(e.Clients||[]).map(y=>({ClientID:K(y,["ClientID","ID"]),ClientAccountID:K(y,["ClientAccountID","AccountID"]),CompanyName:K(y,["Company","CompanyName","Client Name"]),PrimaryContactName:K(y,["PrimaryContactName","Contact Name"]),Phone:K(y,["Phone"]),AltPhone:K(y,["Alternative Phone","AltPhone","Secondary Phone"]),Email:K(y,["Email"]),BillingAddress:K(y,["Address","BillingAddress","Full Address"]),Gender:K(y,["Gender"])||"N/A",NRC:K(y,["NRC Number","NRC","ID Number"]),ClientType:K(y,["ClientType","Type"])||"Corporate",OnboardingDate:K(y,["OnboardingDate","Date"]),AssignedAgentID:K(y,["AssignedAgentID","AgentID"]),AgentCommissionRate:at(K(y,["AgentCommissionRate","CommRate"])),Status:K(y,["Status"])||"Active",PortalEnabled:dr(K(y,["PortalEnabled"])),ForcePasswordChange:dr(K(y,["ForcePasswordChange"])),ShowWalkthrough:dr(K(y,["ShowWalkthrough"]))})),n=tn(e.Vehicles||[]).map(y=>({VehicleID:K(y,["VehicleID","ID"]),ClientID:K(y,["ClientID"]),ClientName:K(y,["ClientName","Client"]),NumberPlate:K(y,["Plate","NumberPlate"]),Make:K(y,["Make"]),Model:K(y,["Model"]),Year:K(y,["Year"]),DeviceSerial:K(y,["DeviceSerial","IMEI"]),SimNumber:K(y,["SimNumber"]),NetworkProvider:K(y,["Network","NetworkProvider"]),ServiceType:K(y,["Service","ServiceType"]),InstallationDate:K(y,["InstallDate"]),Status:K(y,["Status"])||"Active",Photo:K(y,["Photo"])})),r=tn(e.ActivityLogs||[]).map(y=>({ID:K(y,["ID","LogID"]),ClientID:K(y,["ClientID"]),AgentID:K(y,["AgentID"]),AgentName:K(y,["AgentName"]),Date:K(y,["Date"]),Category:K(y,["Category"]),Note:K(y,["Note","Comment"]),FollowUpDate:K(y,["FollowUpDate","ReminderDate"]),Status:K(y,["Status"])||"Closed"})),i=tn(e.Messages||[]).map(y=>({ID:K(y,["ID"]),SenderID:K(y,["SenderID"]),SenderName:K(y,["SenderName"]),ReceiverID:K(y,["ReceiverID"]),Message:K(y,["Message"]),Timestamp:K(y,["Timestamp","Time"]),Status:K(y,["Status"])||"Sent"})),o=tn(e.Maintenance||[]).map(y=>({ID:K(y,["ID","MaintenanceID"]),ClientID:K(y,["ClientID"]),ClientName:K(y,["ClientName"]),AssetIDs:String(K(y,["AssetIDs","Assets"])||"").split(",").map(k=>k.trim()).filter(Boolean),Description:K(y,["Description","WorkDone"]),TechnicianID:K(y,["TechnicianID","AgentID"]),Date:K(y,["Date","ServiceDate"]),Status:K(y,["Status"])||zn.Scheduled,Cost:at(K(y,["Cost"])),Notes:K(y,["Notes"])})),c=tn(e.SimTopups||[]).map(y=>({ID:K(y,["ID","TopupID"]),VehicleID:K(y,["VehicleID"]),Plate:K(y,["Plate","NumberPlate"]),SimNumber:K(y,["SimNumber"]),Network:K(y,["Network","Provider"]),Amount:at(K(y,["Amount"])),Date:K(y,["Date","TopupDate"]),ExpiryDate:K(y,["ExpiryDate","DueDate"]),AgentID:K(y,["AgentID"]),Reference:K(y,["Reference","Ref"]),Email:K(y,["Email"])})),u=tn(e.Contracts||[]).map(y=>{const k=K(y,["AssetIDs","Vehicles","Assets","Asset IDs"]),P=k?String(k).split(",").map(C=>C.trim()).filter(C=>C&&C!=="0"):[];return{ContractID:K(y,["ContractID","ID"]),ClientID:K(y,["ClientID"]),ClientName:K(y,["Name","ClientName","Client"]),PlanType:K(y,["Plan","PlanType","Plan Tier"]),ServiceType:K(y,["ServiceType","Service"]),NoOfUnits:at(K(y,["Units","Units Count","Count"])),UnitPrice:at(K(y,["Price","Unit Price"])),AdditionalCost:at(K(y,["Extra","Maint Fee"])),Discount:at(K(y,["Discount"])),SubTotal:at(K(y,["SubTotal"])),TotalAmount:at(K(y,["Total","Total Amount"])),StartDate:K(y,["Start","Date","Start Date"]),DurationMonths:at(K(y,["Duration","Term"])),ExpiryDate:K(y,["Expiry","Expiry Date"]),BillingCycle:K(y,["Cycle","Billing Cycle"])||"Monthly",PaymentMethod:K(y,["PaymentMethod","Method"]),PaymentDueDate:K(y,["PaymentDueDate","DueDate"]),ContractStatus:K(y,["ContractStatus","Status","Contract Status"])||"Active",AssignedAgentID:K(y,["AgentID","AssignedAgentID","ID"]),AssetIDs:P,ProviderSignName:K(y,["ProviderSignName"]),ProviderSignDate:K(y,["ProviderSignDate"]),ProviderSign:K(y,["ProviderSign"]),ProviderSignImage:K(y,["ProviderSignImage"]),ClientSignName:K(y,["ClientSignName"]),ClientSignDate:K(y,["ClientSignDate"]),ClientSign:K(y,["ClientSign"]),ClientSignImage:K(y,["ClientSignImage"])}}),d=tn(e.Referrals||[]).map(y=>({ID:K(y,["ID","ReferralID"]),ReferrerID:K(y,["ReferrerID","ClientID"]),ReferrerName:K(y,["ReferrerName"]),FriendName:K(y,["FriendName","LeadName"]),FriendCompany:K(y,["FriendCompany","Company"]),FriendPhone:K(y,["FriendPhone","Phone"]),Date:K(y,["Date"]),Status:K(y,["Status"])||"Pending"})),f=tn(e.Invoices||[]).map(y=>({InvoiceID:K(y,["InvoiceID","ID","Number"]),InvoiceDate:K(y,["InvoiceDate","Date","Issued"]),DueDate:K(y,["DueDate","Due","Expiry"]),ClientID:K(y,["ClientID","Client"]),ClientName:K(y,["ClientName","Name"]),ContractID:K(y,["ContractID","Contract"]),Description:K(y,["Description","Service","Notes"]),PeriodMonths:at(K(y,["PeriodMonths","Months","Period"])),UnitPrice:at(K(y,["UnitPrice","Rate","Price"])),NoOfUnits:at(K(y,["NoOfUnits","Units","Qty"])),TotalAmount:at(K(y,["TotalAmount","Total","Sum"])),AmountPaid:at(K(y,["AmountPaid","Paid"])),BalanceDue:at(K(y,["BalanceDue","Balance","Due"])),Status:K(y,["Status"])||"Pending",DocType:K(y,["DocType","Type"])||st.Invoice,Notes:K(y,["Notes"])})),h=tn(e.Payments||[]).map(y=>({PaymentID:K(y,["PaymentID","ID"]),Date:K(y,["Date","PaymentDate"]),InvoiceID:K(y,["InvoiceID","Invoice"]),ClientID:K(y,["ClientID","Client"]),ClientName:K(y,["ClientName","Name"]),ContractID:K(y,["ContractID","Contract"]),Amount:at(K(y,["Amount","Value"])),Method:K(y,["Method"])||"Bank Transfer",MonthsCovered:at(K(y,["MonthsCovered","Months","Cycle"])),AgentID:K(y,["AgentID","Agent"]),Status:K(y,["Status"])||"Completed",Reference:K(y,["Reference","Ref","TransactionID"]),Remarks:K(y,["Remarks","Description","Notes"]),NoOfUnits:at(K(y,["NoOfUnits","Units","Qty"])),UnitPrice:at(K(y,["UnitPrice","Rate","Price"]))})),m=tn(e.Notifications||[]).map(y=>({ID:K(y,["ID","NotificationID"]),Time:K(y,["Time","Timestamp","Date"]),Type:K(y,["Type","Category"]),Priority:K(y,["Priority"])||"Normal",ClientID:K(y,["ClientID"]),ClientName:K(y,["ClientName"]),ContractID:K(y,["ContractID"]),Message:K(y,["Message","Alert","Content"]),DueDate:K(y,["DueDate","ExpiryDate"]),Status:K(y,["Status"])||"Unread",AssignedTo:K(y,["AssignedTo","AgentID"]),Sent:dr(K(y,["Sent","IsSent"])),ActionTaken:K(y,["ActionTaken"]),ActionTime:K(y,["ActionTime"]),Notes:K(y,["Notes"]),Email:K(y,["Email"])})),x=tn(e.Tickets||[]).map(y=>({TicketID:K(y,["TicketID","ID"]),ClientID:K(y,["ClientID"]),Email:K(y,["Email"]),Subject:K(y,["Subject"]),Description:K(y,["Description"]),Resolution:K(y,["Resolution","Response"]),AssignedAgentID:K(y,["AgentID","AssignedAgentID"]),Status:K(y,["Status"])||"Open",Priority:K(y,["Priority"])||"Normal",CreatedAt:K(y,["CreatedAt","Date"]),UpdatedAt:K(y,["UpdatedAt","LastUpdated","Updated"])})),v=tn(e.Logins||[]).map(y=>({Email:K(y,["Email","User","email","user"]),Password:K(y,["Password","Pass","password","pass"]),AgentID:K(y,["AgentID","ID","agentid","id"]),Role:K(y,["Role","role","Type","type"]),LastLogin:K(y,["LastLogin","lastlogin"]),TypingTo:K(y,["TypingTo","typingto"]),Status:K(y,["Status","status"])||"Active",LoginAttempts:at(K(y,["LoginAttempts","attempts"]))})),j=tn(e.SystemSettings||e.Settings||[]).map(y=>({ID:K(y,["ID","SettingID"]),CompanyName:K(y,["CompanyName","Company"]),Address:K(y,["Address"]),Phone:K(y,["Phone"]),Email:K(y,["Email"]),Website:K(y,["Website"]),Logo:K(y,["Logo"]),DisbursementDay:at(K(y,["DisbursementDay","PayDay"]))||5,DefaultCommissionRate:at(K(y,["DefaultCommissionRate","BaseComm"])),DefaultBonusRate:at(K(y,["DefaultBonusRate","BaseBonus"])),IncentivesActive:dr(K(y,["IncentivesActive","RewardsActive"])),EmailInvoicesEnabled:dr(K(y,["EmailInvoicesEnabled"])),EmailPaymentsEnabled:dr(K(y,["EmailPaymentsEnabled"])),EmailContractsEnabled:dr(K(y,["EmailContractsEnabled"])),EmailTicketNewEnabled:dr(K(y,["EmailTicketNewEnabled"])),EmailTicketUpdateEnabled:dr(K(y,["EmailTicketUpdateEnabled"])),EmailTicketResolvedEnabled:dr(K(y,["EmailTicketResolvedEnabled"])),MobileAppLink:K(y,["MobileAppLink","AppLink"]),PortalUrl:K(y,["PortalUrl","Portal"])}))[0]||null,b=tn(e.Agents||[]).map(y=>({AgentID:K(y,["ID","AgentID","id","agentid"]),AgentName:K(y,["Name","AgentName","name","agentname"]),Phone:K(y,["Phone","phone"]),Email:K(y,["Email","email"]),Role:K(y,["Role","role"])||"Agent",Department:K(y,["Department","Dept","dept"]),BaseSalary:at(K(y,["Salary","salary"])),CommissionRate:at(K(y,["CommRate","commrate"])),Status:K(y,["Status"])||"Active",Privileges:K(y,["Privileges","previleges","permissions"]),BankName:K(y,["BankName","bank"]),AccountNumber:K(y,["AccountNumber","account"]),StartDate:K(y,["StartDate","startdate"]),EndDate:K(y,["EndDate","enddate"]),Notes:K(y,["Notes","notes","OtherInfo"]),Scope:K(y,["Scope","scope"])})),w=tn(e.ServicePlans||e.Plans||[]).map(y=>({PlanID:K(y,["PlanID","ID"]),Category:K(y,["Category"]),Type:K(y,["Type"]),Class:K(y,["Class"]),BasePrice:at(K(y,["BasePrice","Price"])),MaintenanceFee:at(K(y,["MaintenanceFee","MaintFee"])),LastUpdated:K(y,["LastUpdated","Updated"])}));return{activityLogs:r,referrals:d,clients:t,vehicles:n,maintenance:o,simTopups:c,contracts:u,invoices:f,payments:h,notifications:m,tickets:x,loginRecords:v,systemSettings:j,agents:b,servicePlans:w,messages:i}},N_=async e=>{const t=ME(e);if(!t)throw new Error("Invalid or empty Database URL configured. Please check your settings.");try{const n=await fetch(t,{method:"GET",mode:"cors",cache:"no-cache",redirect:"follow",referrerPolicy:"no-referrer"});if(!n.ok)throw new Error(`Database Error (${n.status}): ${n.statusText||"Connection refused"}`);const r=await n.json();return j_(r)}catch(n){let r=n.message||"Unknown Network Error";throw console.error("VillageVault Sync Failure:",r),gl("System","FetchData","ERROR",r),new Error(r)}},nt=async(e,t,n,r,i,o)=>{const c=ME(e);if(!c)throw new Error("Invalid or empty Database URL configured. Operation cancelled.");const u={...r};o!=null&&o.recipientEmail&&!u.Email&&(u.Email=o.recipientEmail);const d={sheet:t,action:n,idKey:i,id:r[i]};(n==="create"||n==="update")&&(d.data=u),o!=null&&o.sendEmail&&(d.triggerEmail=!0,d.emailSubject=o.emailSubject,d.emailHtml=o.emailHtml,d.emailCc=o.emailCc,d.replyTo=o.replyTo,d.senderName=o.senderName,d.senderEmail=o.senderEmail,o.pdfAttachmentHtml&&(d.pdfAttachmentHtml=o.pdfAttachmentHtml,d.pdfFileName=o.pdfFileName||"Document.pdf"));try{const f=await fetch(c,{method:"POST",body:JSON.stringify(d),headers:{"Content-Type":"text/plain;charset=utf-8"},mode:"cors",redirect:"follow",referrerPolicy:"no-referrer"});if(!f.ok)throw new Error(`Sync Server Error (${f.status}): ${f.statusText||"Operation failed"}`);const h=await f.text();let m;try{m=JSON.parse(h),gl(t,n,"SUCCESS","Row synchronized successfully",d)}catch{throw gl(t,n,"CRITICAL","Server returned invalid response format.",d),new Error("Server Response Error: Data received was not in valid JSON format.")}if(m.status==="error")throw gl(t,n,"ERROR",m.message||"Operation failed on server",d),new Error(m.message);return m}catch(f){let h=f.message||"Network Failure";throw console.error("VillageVault POST Failure:",h),gl(t,n,"FATAL",h,d),new Error(h)}},S_=({children:e,userRole:t,userName:n,notifications:r=[],permissions:i,logo:o,onLogout:c,onClearNotifications:u,onDismissNotification:d,onRefresh:f,isSyncing:h=!1})=>{const[m,x]=O.useState(!1),[v,j]=O.useState(!1),b=O.useRef(null),w=qi(),y=gf();O.useEffect(()=>{const M=z=>{b.current&&!b.current.contains(z.target)&&x(!1)};return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[]);const k=w.pathname==="/",P=t==="Guest",C=r.filter(M=>M.Status==="Unread").length,S=[...r].sort((M,z)=>new Date(z.Time).getTime()-new Date(M.Time).getTime()).slice(0,15),E=M=>{switch(M){case"Critical":return"bg-rose-500";case"High":return"bg-orange-500";case"Normal":return"bg-indigo-500";default:return"bg-slate-400"}},D=M=>M.split(" ").map(z=>z[0]).join("").toUpperCase().substring(0,2),T=M=>{if(!M)return a.jsx(vd,{size:16});const z=M.toUpperCase();return z.includes("SIM")?a.jsx(oa,{size:16}):z.includes("PAYOUT")?a.jsx(Mi,{size:16}):z.includes("PARTNER")?a.jsx(Dy,{size:16}):a.jsx(vd,{size:16})};return a.jsxs("div",{className:"flex flex-col h-screen w-screen bg-white overflow-hidden font-sans border-t-4 border-slate-900",children:[a.jsxs("header",{className:"flex items-center justify-between h-14 md:h-20 px-4 md:px-10 bg-white border-b border-gray-100 shrink-0 z-50",children:[a.jsx("div",{className:"flex items-center space-x-4 md:space-x-8",children:a.jsxs(fE,{to:"/",className:"flex items-center space-x-3 group",children:[a.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-white border border-slate-100 rounded-2xl flex items-center justify-center overflow-hidden shadow-2xl group-hover:scale-105 transition-all",children:o?a.jsx("img",{src:o,alt:"Logo",className:"w-full h-full object-contain p-1.5"}):a.jsx("div",{className:"w-full h-full bg-slate-900 flex items-center justify-center font-bold text-white text-sm",children:"S"})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-lg md:text-2xl font-semibold tracking-tighter text-slate-900 leading-none",children:"Sally Chanza"}),a.jsx("span",{className:"text-[7px] md:text-[9px] font-medium text-slate-400 uppercase tracking-[0.4em] mt-1.5 hidden sm:block",children:"Business Caf"})]})]})}),!P&&a.jsxs("div",{className:"flex items-center space-x-1 md:space-x-4",children:[a.jsx("button",{onClick:f,disabled:h,className:`p-2.5 md:p-3 text-slate-400 hover:text-indigo-600 transition-all rounded-xl hover:bg-indigo-50 disabled:opacity-30 ${h?"animate-spin text-indigo-500 bg-indigo-50":""}`,title:"Sync Data",children:a.jsx(Rl,{size:18,className:"md:w-[20px] md:h-[20px]"})}),a.jsxs("div",{className:"relative",ref:b,children:[a.jsxs("button",{onClick:()=>x(!m),className:`p-2.5 md:p-3 transition-all relative rounded-xl ${m?"bg-slate-100 text-slate-900":"text-slate-400 hover:text-slate-900 hover:bg-slate-50"}`,children:[a.jsx(md,{size:18,className:"md:w-[20px] md:h-[20px]"}),C>0&&a.jsx("span",{className:"absolute top-1.5 right-1.5 md:top-2 md:right-2 w-3.5 h-3.5 md:w-4 md:h-4 bg-rose-500 text-white text-[7px] md:text-[8px] font-black rounded-full flex items-center justify-center animate-pulse border-2 border-white",children:C})]}),m&&a.jsxs("div",{className:"fixed md:absolute top-16 md:top-auto right-4 md:right-0 md:mt-4 w-[calc(100vw-32px)] sm:w-[340px] bg-white rounded-[2rem] border border-slate-100 shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200 z-[100]",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 flex items-center justify-between bg-slate-50/50",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-slate-900",children:"Activity Hub"}),a.jsxs("span",{className:"text-[8px] font-bold text-indigo-600 mt-0.5 uppercase tracking-tighter",children:[C," Pending Actions"]})]}),C>0&&u&&a.jsxs("button",{onClick:M=>{M.stopPropagation(),u()},className:"flex items-center gap-1.5 px-3 py-1.5 bg-white border border-slate-200 text-slate-500 hover:text-indigo-600 hover:border-indigo-100 rounded-xl transition-all shadow-sm group",children:[a.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest",children:"Clear All"}),a.jsx(Cy,{size:12,className:"group-hover:scale-110 transition-transform"})]})]}),a.jsx("div",{className:"max-h-[380px] sm:max-h-[420px] overflow-y-auto no-scrollbar",children:S.length>0?S.map(M=>a.jsxs("div",{className:`p-4 border-b border-slate-50 hover:bg-slate-50 transition-colors flex gap-3 group relative ${M.Status==="Unread"?"bg-indigo-50/20":""}`,children:[a.jsx("div",{className:`shrink-0 w-9 h-9 rounded-xl flex items-center justify-center text-white shadow-sm ${E(M.Priority)}`,children:T(M.Type)}),a.jsxs("div",{className:"flex flex-col gap-1 min-w-0 flex-1",children:[a.jsx("p",{className:"text-[11px] font-bold text-slate-900 leading-tight pr-6",children:M.Message}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-tighter",children:Ae(M.Time)}),M.ClientName&&a.jsx("span",{className:"text-[8px] font-bold text-indigo-500 uppercase tracking-tighter truncate max-w-[120px]",children:M.ClientName})]})]}),a.jsx("button",{onClick:z=>{z.stopPropagation(),d==null||d(M.ID)},className:"absolute right-4 top-1/2 -translate-y-1/2 p-2 bg-white rounded-lg border border-slate-100 text-slate-300 hover:text-emerald-600 hover:border-emerald-100 opacity-0 group-hover:opacity-100 transition-all shadow-sm",title:"Dismiss",children:a.jsx(bf,{size:14,strokeWidth:3})})]},M.ID)):a.jsxs("div",{className:"py-16 flex flex-col items-center opacity-20",children:[a.jsx(md,{size:40,className:"mb-3"}),a.jsx("p",{className:"text-[9px] font-black uppercase tracking-[0.2em]",children:"Queue is currently empty"})]})}),a.jsx("div",{className:"p-4 bg-slate-50 text-center border-t border-slate-100",children:a.jsxs("button",{onClick:M=>{M.stopPropagation(),x(!1),j(!0)},className:"text-[8px] font-black text-slate-400 uppercase tracking-widest hover:text-slate-900 transition-colors flex items-center justify-center gap-2 mx-auto",children:[a.jsx(Jj,{size:10})," Open system log"]})})]})]}),a.jsxs("div",{className:"flex items-center space-x-2 bg-slate-50 p-1 rounded-xl md:pr-4 md:rounded-[1.25rem] border border-gray-100 shadow-inner",children:[a.jsx("div",{className:"h-8 w-8 md:h-10 md:w-10 rounded-lg md:rounded-xl bg-slate-900 flex items-center justify-center text-white font-semibold text-[10px] md:text-xs shadow-xl",children:D(n)}),a.jsxs("div",{className:"hidden md:block",children:[a.jsx("p",{className:"text-[11px] font-semibold text-slate-900 leading-none truncate max-w-[100px]",children:n}),a.jsx("p",{className:"text-[8px] text-slate-400 font-medium uppercase tracking-[0.2em] mt-1.5",children:t})]})]}),a.jsx("button",{onClick:c,className:"p-2.5 md:p-3 text-slate-300 hover:text-slate-900 transition-all rounded-xl hover:bg-slate-50",children:a.jsx(n_,{size:18,className:"md:w-[20px] md:h-[20px]"})})]})]}),v&&a.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-950/80 backdrop-blur-md animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-slate-900 border border-white/10 w-full max-w-2xl rounded-[2.5rem] shadow-2xl flex flex-col h-[85vh] overflow-hidden",children:[a.jsxs("div",{className:"p-6 md:p-8 border-b border-white/5 flex items-center justify-between bg-slate-900/50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-indigo-600 rounded-2xl text-white shadow-xl",children:a.jsx(Jj,{size:24})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-white text-lg font-black uppercase tracking-tight",children:"System Event Console"}),a.jsx("p",{className:"text-slate-500 text-[9px] font-bold uppercase tracking-widest mt-1",children:"Real-time operation ledger"})]})]}),a.jsx("button",{onClick:()=>j(!1),className:"p-3 bg-white/5 hover:bg-white/10 text-slate-400 rounded-full transition-all",children:a.jsx(bt,{size:20})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 space-y-3 font-mono no-scrollbar bg-slate-950",children:Sl.length>0?Sl.map((M,z)=>a.jsxs("div",{className:"group flex flex-col gap-1 p-3 rounded-2xl hover:bg-white/5 transition-all border border-transparent hover:border-white/5",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-[10px] text-slate-600 font-bold",children:M.time}),a.jsx("span",{className:`px-1.5 py-0.5 rounded text-[8px] font-black uppercase tracking-widest ${M.status==="SUCCESS"?"bg-emerald-500/10 text-emerald-400":M.status==="ERROR"||M.status==="FATAL"||M.status==="CRITICAL"?"bg-rose-500/10 text-rose-400":"bg-indigo-500/10 text-indigo-400"}`,children:M.status}),a.jsxs("span",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:[M.sheet,"::",M.action]})]}),a.jsx(Ay,{size:14,className:"text-slate-700 opacity-0 group-hover:opacity-100 transition-opacity"})]}),a.jsx("p",{className:"text-xs text-slate-300 leading-relaxed font-medium pl-1",children:M.details}),M.payload&&a.jsx("div",{className:"mt-2 p-3 bg-black/40 rounded-lg text-[9px] text-slate-500 overflow-x-auto whitespace-pre custom-scrollbar",children:JSON.stringify(M.payload,null,2)})]},z)):a.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-20 py-20",children:[a.jsx(Sn,{size:48,className:"text-slate-400 mb-4"}),a.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-slate-400",children:"Ledger Stream Empty"})]})}),a.jsx("div",{className:"p-8 bg-slate-900 border-t border-white/5 text-center shrink-0",children:a.jsx("button",{onClick:()=>j(!1),className:"w-full md:w-auto px-12 py-4 bg-white text-slate-900 rounded-2xl text-[10px] font-black uppercase tracking-[0.2em] shadow-xl hover:bg-slate-200 transition-all active:scale-95",children:"Acknowledge & Close"})})]})}),a.jsxs("main",{className:"flex-1 flex flex-col min-h-0 relative",children:[!k&&!P&&a.jsxs("div",{className:"px-4 pt-6 md:px-10 lg:px-20 shrink-0 flex items-center gap-4 animate-in fade-in slide-in-from-left-4 duration-500",children:[a.jsx("button",{onClick:()=>y("/"),className:"p-3 bg-white border border-gray-100 rounded-2xl shadow-sm hover:bg-slate-900 hover:text-white text-slate-400 transition-all active:scale-90",children:a.jsx(vf,{size:18})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[9px] font-medium text-slate-300 uppercase tracking-widest",children:"Main Menu"}),a.jsx("h2",{className:"text-xs font-black text-slate-900 uppercase tracking-tighter mt-1",children:w.pathname.substring(1).replace("-"," ")})]})]}),a.jsx("div",{className:`flex-1 min-h-0 w-full overflow-hidden ${k?"":"p-4 md:p-10 lg:p-20 lg:pt-8 pt-4"}`,children:a.jsx("div",{className:"mx-auto w-full max-w-[1600px] h-full",children:e})})]})]})},k_=({onLogin:e,isConnecting:t,isAuthenticating:n,logo:r,systemName:i="Sally Chanza",lockoutTime:o=0,isConnected:c=!0})=>{const[u,d]=O.useState(""),[f,h]=O.useState(""),[m,x]=O.useState(null),v=async w=>{if(w.preventDefault(),!u||!f){x("Please enter your email and password.");return}x(null);const y=await e(u,f);y&&x(y)},j=o>0,b=t||n;return a.jsxs("div",{className:"h-screen w-full flex flex-col lg:flex-row overflow-hidden bg-white select-none",children:[a.jsxs("div",{className:"hidden lg:flex w-[35%] bg-[#002d1a] p-16 flex-col justify-between relative overflow-hidden shrink-0",children:[a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"w-16 h-16 bg-white rounded-xl flex items-center justify-center mb-10 shadow-2xl overflow-hidden",children:r?a.jsx("img",{src:r,alt:"Company Logo",className:"w-full h-full object-contain p-2"}):a.jsx("div",{className:"w-12 h-12 border-2 border-[#002d1a] rounded flex items-center justify-center font-black text-[#002d1a] text-xl",children:"S"})}),a.jsx("h1",{className:"text-4xl font-black text-white uppercase tracking-tighter leading-tight",children:i}),a.jsx("p",{className:"text-[10px] font-bold text-[#10b981] uppercase tracking-[0.4em] mt-3",children:"Unified Business Portal"})]}),a.jsxs("div",{className:"relative z-10 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`h-4 w-1 transition-colors duration-500 ${c?"bg-[#10b981]":"bg-slate-500"}`}),a.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest transition-colors duration-500 ${c?"text-white":"text-slate-500"}`,children:c?"Engine Online":"Engine Connecting..."})]}),a.jsxs("p",{className:"text-[10px] font-bold text-white/30 uppercase tracking-widest",children:[" ",new Date().getFullYear()," SCBC Fleet Solutions"]})]})]}),a.jsxs("div",{className:"flex-1 flex flex-col relative overflow-hidden bg-white",children:[a.jsxs("div",{className:"lg:hidden p-8 bg-[#002d1a] text-white flex items-center justify-between",children:[a.jsx("h1",{className:"text-xl font-black uppercase tracking-tighter",children:i}),r&&a.jsx("div",{className:"w-10 h-10 bg-white rounded-lg p-1.5 overflow-hidden",children:a.jsx("img",{src:r,alt:"Logo",className:"w-full h-full object-contain"})})]}),a.jsx("div",{className:"flex-1 flex flex-col justify-center items-center lg:items-start lg:pl-32 overflow-y-auto no-scrollbar py-12 lg:py-0",children:a.jsxs("div",{className:"w-full max-w-[400px] px-8 lg:px-0",children:[a.jsxs("div",{className:"mb-10",children:[a.jsx("h2",{className:"text-3xl font-black text-[#0f172a] mb-2 tracking-tight",children:"Login"}),a.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Sign in to access your account."})]}),m&&a.jsxs("div",{className:"mb-6 p-4 bg-rose-50 border border-rose-100 rounded-xl flex items-center gap-3 animate-in shake",children:[a.jsx(ky,{className:"text-rose-500 shrink-0",size:18}),a.jsx("p",{className:"text-[10px] text-rose-600 font-black uppercase tracking-wider",children:m})]}),a.jsxs("form",{onSubmit:v,className:"space-y-4",children:[a.jsx("div",{className:"space-y-1",children:a.jsx("input",{type:"email",value:u,onChange:w=>d(w.target.value),className:"w-full px-5 py-4 bg-[#f8fafc] border border-slate-100 rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:bg-white transition-all outline-none text-sm font-bold text-slate-700 placeholder:text-slate-400",placeholder:"Email Address",disabled:b||j,autoComplete:"username"})}),a.jsx("div",{className:"space-y-1",children:a.jsx("input",{type:"password",value:f,onChange:w=>h(w.target.value),className:"w-full px-5 py-4 bg-[#f8fafc] border border-slate-100 rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:bg-white transition-all outline-none text-sm font-bold text-slate-700 placeholder:text-slate-400",placeholder:"Password",disabled:b||j,autoComplete:"current-password"})}),a.jsx("div",{className:"pt-2 flex items-center justify-between",children:a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[a.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-200 text-[#0f172a] focus:ring-0"}),a.jsx("span",{className:"text-xs font-bold text-slate-400 group-hover:text-slate-600 transition-colors",children:"Stay signed in"})]})}),a.jsx("div",{className:"pt-8",children:a.jsx("button",{type:"submit",disabled:b||j,className:`w-full py-5 rounded-2xl shadow-xl transition-all flex items-center justify-center font-black text-xs uppercase tracking-[0.2em] active:scale-[0.98] ${j?"bg-slate-100 text-slate-400 shadow-none":"bg-[#0f172a] text-white hover:bg-black shadow-slate-900/10"}`,children:t?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dt,{className:"animate-spin",size:20,strokeWidth:3}),a.jsx("span",{children:"Connecting... Please wait"})]}):n?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dt,{className:"animate-spin",size:20,strokeWidth:3}),a.jsx("span",{children:"Verifying Identity..."})]}):j?`Locked: ${o}s`:"Sign In"})})]})]})}),a.jsx("div",{className:"absolute bottom-10 right-10 hidden lg:block opacity-20 hover:opacity-50 transition-opacity",children:a.jsx(hn,{size:20,className:"text-slate-400"})})]})]})},C_=({isVisible:e})=>{const[t,n]=O.useState(navigator.onLine);return O.useEffect(()=>{const r=()=>n(navigator.onLine);return window.addEventListener("online",r),window.addEventListener("offline",r),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",r)}},[]),t?e?a.jsxs("div",{className:"fixed top-4 right-1/2 translate-x-1/2 z-[100] bg-slate-900 text-white px-5 py-2 rounded-full text-[9px] font-black uppercase tracking-[0.3em] flex items-center shadow-2xl animate-in slide-in-from-top-4 border border-slate-800",children:[a.jsx(Dt,{size:12,className:"animate-spin mr-2"}),"Synchronizing..."]}):null:a.jsxs("div",{className:"fixed top-4 right-1/2 translate-x-1/2 z-[100] bg-rose-600 text-white px-5 py-2 rounded-full text-[9px] font-black uppercase tracking-[0.2em] flex items-center shadow-2xl animate-in fade-in slide-in-from-top-4 border border-rose-500",children:[a.jsx(Hi,{size:12,className:"mr-2"}),"Offline Mode (Read Only)"]})},A_=({status:e})=>a.jsxs("div",{className:"relative mb-2",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl border border-slate-100 flex items-center justify-center bg-white shadow-sm ring-4 ring-slate-50 relative",children:a.jsx(Nt,{size:28,strokeWidth:1.5,className:"text-slate-400"})}),a.jsx("div",{className:`absolute -bottom-1 -right-1 w-3.5 h-3.5 rounded-full border-2 border-white shadow-sm ${e===ln.Active?"bg-emerald-500":"bg-rose-500"}`})]}),P_=({name:e,type:t,id:n})=>{const r=()=>{switch(t){case"Individual":return"Personal Account";case"SME":return"SME Business";case"Corporate":return"Enterprise Entity";default:return t||"Client"}};return a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("h3",{className:"text-base font-bold text-slate-900 tracking-tight leading-none mb-1.5 px-4",children:e||"Unknown Client"}),a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("span",{className:"text-[8px] font-black text-indigo-600 bg-indigo-50 px-1.5 py-0.5 rounded uppercase tracking-widest",children:r()}),a.jsxs("span",{className:"text-[8px] font-mono text-slate-400 uppercase tracking-widest border border-slate-100 px-1 rounded",children:["ID: ",n||"---"]})]})]})},Tn=({icon:e,label:t,value:n,colorClass:r="text-slate-700",isEven:i=!1})=>a.jsxs("div",{className:`flex items-center justify-between py-2.5 px-4 border-b border-slate-100 transition-colors group ${i?"bg-slate-50/40":"bg-white"}`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(e,{size:12,className:"text-slate-300 group-hover:text-indigo-400 transition-colors"}),a.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-wider",children:t})]}),a.jsx("span",{className:`text-[11px] font-bold text-right truncate max-w-[130px] ${r}`,children:n||""})]}),E_=({formData:e,agentDisplayName:t})=>{const n=e.ClientType==="Individual";return a.jsxs("div",{className:"flex flex-col items-center px-4 pb-6 select-none",children:[a.jsx(A_,{status:e.Status}),a.jsx(P_,{name:e.CompanyName,type:e.ClientType,id:e.ClientID}),a.jsxs("div",{className:"w-full grid grid-cols-1 md:grid-cols-2 border border-slate-100 bg-white rounded-[1.5rem] overflow-hidden shadow-sm",children:[a.jsxs("div",{className:"md:border-r border-slate-100 flex flex-col",children:[a.jsx("div",{className:"bg-slate-50/50 px-4 py-1.5 border-b border-slate-100",children:a.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Primary Details"})}),a.jsx(Tn,{icon:n?Nt:Ei,label:n?"Legal Name":"Entity Name",value:e.CompanyName}),n&&a.jsx(Tn,{icon:V4,label:"Gender",value:e.Gender,isEven:!0}),!n&&a.jsx(Tn,{icon:Nt,label:"Primary Contact",value:e.PrimaryContactName,isEven:!0}),a.jsx(Tn,{icon:Ac,label:"Email Address",value:e.Email,isEven:!n}),a.jsx(Tn,{icon:My,label:"Primary Phone",value:e.Phone,isEven:n}),a.jsx(Tn,{icon:oa,label:"Alt Phone",value:e.AltPhone,isEven:!n}),a.jsx(Tn,{icon:SE,label:"Address",value:e.BillingAddress,isEven:n})]}),a.jsxs("div",{className:"flex flex-col border-t md:border-t-0 border-slate-100",children:[a.jsx("div",{className:"bg-slate-50/50 px-4 py-1.5 border-b border-slate-100",children:a.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Management & Meta"})}),n&&a.jsx(Tn,{icon:G4,label:"NRC Number",value:e.NRC,colorClass:"text-indigo-600"}),a.jsx(Tn,{icon:Wi,label:"Assigned Agent",value:t,colorClass:"text-slate-900",isEven:n}),a.jsx(Tn,{icon:_y,label:"Comm. Protocol",value:`${e.AgentCommissionRate||0}%`,isEven:!n}),a.jsx(Tn,{icon:zr,label:"Active Since",value:Ae(e.OnboardingDate),isEven:n}),a.jsx(Tn,{icon:hn,label:"Portal Access",value:e.PortalEnabled?"Enabled":"Restricted",colorClass:e.PortalEnabled?"text-emerald-600":"text-slate-400",isEven:!n}),a.jsx(Tn,{icon:Sn,label:"Registry Status",value:e.Status,colorClass:e.Status===ln.Active?"text-emerald-600":"text-rose-600",isEven:n})]})]})]})},vi=({label:e,required:t,...n})=>a.jsxs("div",{className:"space-y-1",children:[a.jsxs("label",{className:"text-[10px] font-medium text-slate-500 uppercase tracking-wider",children:[e," ",t&&"*"]}),a.jsx("input",{...n,className:"w-full p-2.5 bg-slate-50 border border-slate-100 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:bg-white outline-none transition-all text-sm font-medium"})]}),D_=({isEnabled:e,onToggle:t,password:n,setPassword:r,showPassword:i,setShowPassword:o,error:c,forcePasswordChange:u,showWalkthrough:d,onCheckboxChange:f,isSaving:h})=>a.jsxs("div",{className:"col-span-1 md:col-span-2 bg-slate-900 rounded-2xl p-6 text-white mt-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:`p-3 rounded-xl ${e?"bg-indigo-500 text-white shadow-lg shadow-indigo-500/20":"bg-slate-800 text-slate-500"}`,children:a.jsx(Iy,{size:18,strokeWidth:2})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-11px font-bold uppercase tracking-widest",children:"Portal Credentials"}),a.jsx("p",{className:"text-[9px] text-slate-400 font-medium tracking-wide",children:"Secure self-service node for client interaction."})]})]}),a.jsx("button",{type:"button",disabled:h,onClick:t,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none ${e?"bg-indigo-500":"bg-slate-800"} ${h?"opacity-50 cursor-not-allowed":""}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 ease-in-out shadow-sm ${e?"translate-x-6":"translate-x-1"}`})})]}),e&&a.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-800 animate-in fade-in slide-in-from-top-2 duration-300",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"text-[9px] font-bold text-slate-500 uppercase tracking-widest",children:"Set Access Pin / Password"}),a.jsxs("div",{className:"relative mt-2",children:[a.jsx("input",{type:i?"text":"password",value:n,onChange:m=>r(m.target.value),disabled:h,placeholder:"Enter temporary password...",className:`w-full p-2.5 pr-12 bg-slate-800 border rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-xs font-mono tracking-widest text-white ${c?"border-rose-500":"border-slate-700"}`}),a.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-2 text-slate-500 hover:text-white transition-colors",children:i?a.jsx(Y4,{size:16}):a.jsx(Py,{size:16})})]}),c&&a.jsx("p",{className:"text-[9px] text-rose-400 mt-2 font-bold uppercase tracking-widest",children:c})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer group",children:[a.jsx("input",{name:"ForcePasswordChange",type:"checkbox",disabled:h,checked:u,onChange:f,className:"w-4 h-4 text-indigo-500 border-slate-700 bg-slate-800 rounded focus:ring-indigo-500"}),a.jsx("span",{className:"text-[9px] font-medium text-slate-400 uppercase tracking-widest group-hover:text-white transition-colors",children:"Strict Password Reset"})]}),a.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer group",children:[a.jsx("input",{name:"ShowWalkthrough",type:"checkbox",disabled:h,checked:d,onChange:f,className:"w-4 h-4 text-indigo-500 border-slate-700 bg-slate-800 rounded focus:ring-indigo-500"}),a.jsx("span",{className:"text-[9px] font-medium text-slate-400 uppercase tracking-widest group-hover:text-white transition-colors",children:"Guided Onboarding"})]})]})]})]}),O_=({formData:e,agents:t,isSaving:n,isAgentRestricted:r,isPortalEnabled:i,tempPassword:o,showPassword:c,passwordError:u,sendEmail:d,onSetSendEmail:f,onSetClientType:h,onTogglePortal:m,onSetTempPassword:x,onSetShowPassword:v,onChange:j,onAgentChange:b,onCheckboxChange:w,onSubmit:y})=>{const k=e.ClientType==="Individual";return a.jsxs("form",{id:"client-form",onSubmit:y,className:"px-8 pb-10 space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"flex items-center justify-between border-b border-slate-50 pb-1",children:a.jsx("h3",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Account Classification"})}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:["Corporate","SME","Individual"].map(P=>a.jsxs("div",{onClick:()=>!n&&h(P),className:`relative p-2 rounded-xl border-2 transition-all cursor-pointer group flex flex-col items-center text-center gap-1 ${e.ClientType===P?"bg-indigo-50 border-indigo-500 ring-4 ring-indigo-500/5":"bg-white border-slate-100 hover:border-indigo-100"} ${n?"opacity-50 cursor-not-allowed":""}`,children:[e.ClientType===P&&a.jsx(wr,{size:12,className:"absolute top-1.5 right-1.5 text-indigo-500 animate-in zoom-in"}),a.jsx("div",{className:`p-1.5 rounded-lg transition-colors ${e.ClientType===P?"bg-indigo-500 text-white":"bg-slate-50 text-slate-400 group-hover:text-indigo-400"}`,children:P==="Corporate"?a.jsx(Ei,{size:18}):P==="SME"?a.jsx(f_,{size:18}):a.jsx(Nt,{size:18})}),a.jsx("p",{className:`text-[9px] font-bold uppercase tracking-wider ${e.ClientType===P?"text-indigo-900":"text-slate-500"}`,children:P})]},P))})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{className:"col-span-1 md:col-span-2",children:a.jsx("h3",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-4 border-b border-slate-50 pb-2",children:"Primary Identity"})}),a.jsx(vi,{required:!0,label:k?"Full Legal Name":"Registered Entity Name",name:"CompanyName",value:e.CompanyName||"",onChange:j,disabled:n}),k?a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-medium text-slate-500 uppercase tracking-wider",children:"Gender *"}),a.jsxs("select",{required:!0,name:"Gender",value:e.Gender||"",onChange:j,disabled:n,className:"w-full p-2.5 bg-slate-50 border border-slate-100 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm font-medium",children:[a.jsx("option",{value:"",disabled:!0,children:"-- Select Gender --"}),a.jsx("option",{value:"Male",children:"Male"}),a.jsx("option",{value:"Female",children:"Female"}),a.jsx("option",{value:"Other",children:"Other"})]})]}):a.jsx(vi,{required:!0,label:"Primary Contact Person",name:"PrimaryContactName",value:e.PrimaryContactName||"",onChange:j,disabled:n}),k&&a.jsx(vi,{label:"NRC Number (Individual)",name:"NRC",value:e.NRC||"",onChange:j,disabled:n,placeholder:"000000/00/0"}),a.jsx("div",{className:k?"col-span-1":"col-span-1 md:col-span-2",children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-medium text-slate-500 uppercase tracking-wider",children:"Registry Status"}),a.jsxs("select",{name:"Status",value:e.Status,onChange:j,disabled:n,className:"w-full p-2.5 bg-slate-50 border border-slate-100 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm font-medium",children:[a.jsx("option",{value:ln.Active,children:"Active"}),a.jsx("option",{value:ln.Inactive,children:"Inactive"}),a.jsx("option",{value:ln.Suspended,children:"Suspended"})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{className:"col-span-1 md:col-span-2",children:a.jsx("h3",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest border-b border-slate-50 pb-2",children:"Reach & Logistics"})}),a.jsx(vi,{required:!0,type:"email",label:"Global Email Address",name:"Email",value:e.Email||"",onChange:j,disabled:n}),a.jsx(vi,{required:!0,label:"Primary Phone Line",name:"Phone",value:e.Phone||"",onChange:j,disabled:n}),a.jsx(vi,{label:"Alternative Phone",name:"AltPhone",value:e.AltPhone||"",onChange:j,disabled:n}),a.jsx("div",{className:"col-span-1 md:col-span-2",children:a.jsx(vi,{label:"Full Address",name:"BillingAddress",value:e.BillingAddress||"",onChange:j,disabled:n})})]}),a.jsxs("div",{className:"bg-slate-50/50 rounded-2xl p-6 border border-slate-100",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx(Wi,{size:16,className:"text-slate-400"}),a.jsx("h4",{className:"font-bold text-slate-800 text-[10px] uppercase tracking-widest",children:"Account Manager"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-medium text-slate-500 uppercase",children:"Assigned Agent"}),a.jsxs("select",{disabled:r||n,name:"AssignedAgentID",value:e.AssignedAgentID||"",onChange:b,className:"w-full p-2.5 bg-white border border-slate-100 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm font-medium",children:[a.jsx("option",{value:"",children:"-- Select Agent --"}),t.map(P=>a.jsx("option",{value:P.AgentID,children:P.AgentName},P.AgentID))]}),a.jsx("p",{className:"text-[8px] text-slate-400 font-bold uppercase mt-1",children:"Note: Commission protocol is managed globally via the Team Access module."})]})]}),a.jsx("div",{className:"bg-white rounded-2xl p-6 border border-slate-100 shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2.5 rounded-xl ${d?"bg-indigo-100 text-indigo-600":"bg-slate-100 text-slate-400"}`,children:a.jsx(Ac,{size:18})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest",children:"Onboarding Notification"}),a.jsx("p",{className:"text-[8px] font-bold text-slate-400 uppercase mt-0.5",children:"Send a professional welcome email to the client"})]})]}),a.jsx("button",{type:"button",onClick:()=>f(!d),disabled:n,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none ${d?"bg-indigo-600":"bg-slate-200"}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 ease-in-out shadow-sm ${d?"translate-x-6":"translate-x-1"}`})})]})}),a.jsx(D_,{isEnabled:i,onToggle:m,password:o,setPassword:x,showPassword:c,setShowPassword:v,error:u,forcePasswordChange:e.ForcePasswordChange,showWalkthrough:e.ShowWalkthrough,onCheckboxChange:w,isSaving:n})]})},I_=({logs:e,clientID:t,currentUser:n,onSaveLog:r})=>{const[i,o]=O.useState(!1),[c,u]=O.useState(!1),[d,f]=O.useState({Category:Qr.GeneralNote,Note:"",FollowUpDate:"",Status:"Open"}),h=async j=>{if(j.preventDefault(),!d.Note||c)return;u(!0);const b={ID:`LOG-${Math.floor(1e4+Math.random()*9e4)}`,ClientID:t,AgentID:n.id,AgentName:n.name,Date:new Date().toISOString(),Category:d.Category,Note:d.Note,FollowUpDate:d.FollowUpDate,Status:"Closed"};try{await r(b),o(!1),f({Category:Qr.GeneralNote,Note:"",FollowUpDate:"",Status:"Open"})}finally{u(!1)}},m=j=>{switch(j){case Qr.Call:return a.jsx(My,{size:14});case Qr.Email:return a.jsx(Ac,{size:14});case Qr.Meeting:return a.jsx($i,{size:14});case Qr.PaymentFollowUp:return a.jsx($t,{size:14});default:return a.jsx(tr,{size:14})}},x=[...e].sort((j,b)=>new Date(b.Date).getTime()-new Date(j.Date).getTime()),v=new Date;return v.setHours(0,0,0,0),a.jsxs("div",{className:"flex flex-col h-full animate-in fade-in slide-in-from-bottom-2 duration-500 overflow-hidden bg-white",children:[a.jsx("div",{className:"px-6 py-4 bg-slate-50 border-b border-slate-100 shrink-0",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("h3",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 flex items-center gap-2",children:[a.jsx(Ri,{size:14})," Chronological Registry"]}),a.jsx("p",{className:"text-[9px] font-bold text-slate-400 mt-0.5",children:"Track touchpoints and follow-ups"})]}),!i&&a.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 bg-slate-900 text-white rounded-xl text-[9px] font-black uppercase tracking-widest shadow-xl hover:bg-indigo-600 transition-all active:scale-95",children:[a.jsx(Lr,{size:12,strokeWidth:3})," Record Contact"]})]})}),a.jsxs("div",{className:"flex-1 flex flex-col min-h-0 relative",children:[i&&a.jsx("div",{className:"absolute inset-x-0 top-0 z-40 px-4 py-4 bg-white/95 backdrop-blur-sm border-b border-slate-100 animate-in slide-in-from-top-2 duration-300",children:a.jsxs("form",{onSubmit:h,className:"bg-white border-2 border-indigo-100 rounded-2xl p-4 shadow-xl space-y-4 max-w-full",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("span",{className:"text-[9px] font-black text-indigo-600 uppercase tracking-widest",children:"New Interaction Log"}),a.jsx("button",{type:"button",onClick:()=>o(!1),className:"p-1 text-slate-300 hover:text-slate-500",children:a.jsx(bt,{size:16})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase ml-1",children:"Type"}),a.jsx("select",{value:d.Category,onChange:j=>f({...d,Category:j.target.value}),className:"w-full p-2.5 bg-slate-50 border border-slate-100 rounded-xl text-xs font-bold outline-none",children:Object.values(Qr).map(j=>a.jsx("option",{value:j,children:j},j))})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase ml-1",children:"Follow-Up Date (Optional)"}),a.jsx("input",{type:"date",value:d.FollowUpDate,onChange:j=>f({...d,FollowUpDate:j.target.value}),className:"w-full p-2.5 bg-slate-50 border border-slate-100 rounded-xl text-xs font-bold outline-none"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase ml-1",children:"Interaction Notes"}),a.jsx("textarea",{required:!0,autoFocus:!0,value:d.Note,onChange:j=>f({...d,Note:j.target.value}),placeholder:"What happened? (e.g. 'No answer', 'Requested discount')",className:"w-full h-24 p-3 bg-slate-50 border border-slate-100 rounded-xl text-xs font-medium outline-none resize-none focus:ring-2 focus:ring-indigo-100"})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("button",{type:"submit",disabled:c,className:"flex-1 py-3 bg-indigo-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest flex items-center justify-center gap-2 shadow-lg active:scale-95 transition-all",children:[c?a.jsx(Dt,{size:12,className:"animate-spin"}):a.jsx(wr,{size:12}),"Log Interaction"]})})]})}),a.jsx("div",{className:`flex-1 overflow-y-auto no-scrollbar px-6 py-6 space-y-4 ${i?"pt-72 sm:pt-64":""}`,children:x.length>0?x.map(j=>{const b=j.FollowUpDate&&new Date(j.FollowUpDate)<=v;return a.jsxs("div",{className:"relative pl-10 group",children:[a.jsx("div",{className:"absolute left-0 top-1 w-8 h-8 rounded-full bg-white border border-slate-100 shadow-sm flex items-center justify-center text-slate-400 z-10 group-hover:bg-slate-900 group-hover:text-white transition-all",children:m(j.Category)}),a.jsxs("div",{className:`bg-white p-4 rounded-2xl border transition-all group-hover:shadow-md ${b?"border-rose-100 ring-2 ring-rose-50":"border-slate-100"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[9px] font-black text-slate-900 uppercase",children:j.AgentName}),a.jsx("span",{className:"text-[8px] font-bold text-slate-400 uppercase tracking-tighter",children:Ae(j.Date)})]}),a.jsx("span",{className:`px-2 py-0.5 rounded text-[7px] font-black uppercase tracking-widest border ${j.Category===Qr.NoResponse?"bg-rose-50 text-rose-600 border-rose-100":"bg-slate-50 text-slate-500 border-slate-100"}`,children:j.Category})]}),a.jsx("p",{className:"text-[11px] font-medium text-slate-600 leading-relaxed whitespace-pre-wrap",children:j.Note}),j.FollowUpDate&&a.jsxs("div",{className:`mt-2 flex items-center gap-2 px-2.5 py-1 rounded-lg w-fit border ${b?"bg-rose-50 text-rose-700 border-rose-200 animate-pulse":"bg-amber-50 text-amber-700 border-amber-200"}`,children:[b?a.jsx(pa,{size:10}):a.jsx(zr,{size:10}),a.jsxs("span",{className:"text-[8px] font-black uppercase tracking-widest",children:[b?"OVERDUE":"REMINDER",": ",Ae(j.FollowUpDate)]})]})]})]},j.ID)}):a.jsxs("div",{className:"py-24 text-center flex flex-col items-center opacity-20 select-none",children:[a.jsx(tr,{size:32,className:"mb-3"}),a.jsx("p",{className:"text-[9px] font-black uppercase tracking-[0.4em]",children:"No Interactions Logged"})]})})]})]})},Gu=e=>String(e||"").trim().toLowerCase(),T_=({isOpen:e,onClose:t,mode:n,client:r,agents:i,activityLogs:o=[],currentUser:c,onSave:u,onSaveActivityLog:d,onDelete:f})=>{const[h,m]=O.useState(n),[x,v]=O.useState("profile"),[j,b]=O.useState({}),[w,y]=O.useState(!1),[k,P]=O.useState(""),[C,S]=O.useState(!1),[E,D]=O.useState(""),[T,M]=O.useState(!1),[z,R]=O.useState(!0),[$,B]=O.useState(navigator.onLine);if(O.useEffect(()=>{const J=()=>B(navigator.onLine);return window.addEventListener("online",J),window.addEventListener("offline",J),()=>{window.removeEventListener("online",J),window.removeEventListener("offline",J)}},[]),O.useEffect(()=>{if(e){if(m(n),v("profile"),D(""),M(!1),R(n==="add"),n==="add"){const J=(c==null?void 0:c.role)==="Agent"||(c==null?void 0:c.role)==="Partner"?i.find(le=>String(le.AgentID)===String(c.id)):null;b({ClientID:`CL-${Math.floor(1e3+Math.random()*9e3)}`,Status:ln.Active,ClientType:"Corporate",OnboardingDate:new Date().toISOString().split("T")[0],ForcePasswordChange:!0,ShowWalkthrough:!0,AssignedAgentID:(J==null?void 0:J.AgentID)||"",AgentCommissionRate:(J==null?void 0:J.CommissionRate)||0,Gender:"N/A",CompanyName:"",Email:"",Phone:"",BillingAddress:"",PrimaryContactName:""}),y(!1)}else r&&(b({...r}),y(!!r.ClientAccountID&&r.PortalEnabled!==!1));P("")}},[n,r,e,c,i]),!e)return null;const L=J=>{if(T)return;const{name:le,value:ge}=J.target;b(xe=>({...xe,[le]:ge}))},F=J=>{if(T)return;const le=J.target.value,ge=i.find(xe=>String(xe.AgentID)===String(le));b(xe=>({...xe,AssignedAgentID:le,AgentCommissionRate:(ge==null?void 0:ge.CommissionRate)||0}))},Y=J=>{if(T)return;const{name:le,checked:ge}=J.target;b(xe=>({...xe,[le]:ge}))},W=J=>{T||b(le=>({...le,ClientType:J,Gender:J==="Individual"?le.Gender!=="N/A"?le.Gender:void 0:"N/A"}))},V=async J=>{if(J.preventDefault(),T||!$)return;if(D(""),w&&!j.ClientAccountID&&!k){D("A temporary password is required to enable portal access.");return}const le={...j};if(!le.CompanyName||!le.Email){D("Required fields missing.");return}M(!0);try{await u({...le,PortalEnabled:w,ClientAccountID:w?le.ClientAccountID||`ACC-${Math.floor(1e4+Math.random()*9e4)}`:"",TempPassword:k},z),t()}catch{D("Synchronization failed. Check connection."),M(!1)}},ee=(c==null?void 0:c.role)==="Agent"||(c==null?void 0:c.role)==="Partner",_=i.find(J=>Gu(J.AgentID)===Gu(j.AssignedAgentID)),q=_?_.AgentName:"Unassigned",X=o.filter(J=>Gu(J.ClientID)===Gu(j.ClientID));return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:a.jsxs("div",{className:`bg-white rounded-[2.5rem] shadow-2xl w-full max-w-2xl flex flex-col overflow-hidden animate-in fade-in zoom-in duration-300 ${h==="view"?"h-auto max-h-[90vh]":"h-full max-h-[90vh]"}`,children:[a.jsxs("div",{className:"flex justify-between items-center px-6 pt-6 shrink-0",children:[a.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-2xl",children:[a.jsxs("button",{onClick:()=>v("profile"),className:`flex items-center gap-2 px-6 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${x==="profile"?"bg-white text-slate-900 shadow-md":"text-slate-400 hover:text-slate-600"}`,children:[a.jsx(Nt,{size:14})," Profile"]}),h!=="add"&&a.jsxs("button",{onClick:()=>v("interactions"),className:`flex items-center gap-2 px-6 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${x==="interactions"?"bg-white text-indigo-600 shadow-md":"text-slate-400 hover:text-slate-600"}`,children:[a.jsx(tr,{size:14})," Interaction Hub"]})]}),a.jsx("button",{onClick:t,disabled:T,className:"p-2 text-slate-300 hover:text-slate-900 transition-colors disabled:opacity-30",children:a.jsx(bt,{size:20})})]}),a.jsx("div",{className:`flex-1 overflow-y-auto custom-scrollbar ${T?"pointer-events-none":""}`,children:x==="profile"?h==="view"?a.jsx(E_,{formData:j,agentDisplayName:q}):a.jsx("fieldset",{disabled:T,children:a.jsx(O_,{formData:j,agents:i,isSaving:T,isAgentRestricted:ee,isPortalEnabled:w,tempPassword:k,showPassword:C,passwordError:E,sendEmail:z,onSetSendEmail:R,onSetClientType:W,onTogglePortal:()=>y(!w),onSetTempPassword:P,onSetShowPassword:S,onChange:L,onAgentChange:F,onCheckboxChange:Y,onSubmit:V})}):a.jsx(I_,{logs:X,clientID:j.ClientID,currentUser:c,onSaveLog:d})}),x==="profile"&&a.jsxs("div",{className:"p-6 pt-0 flex flex-col md:flex-row justify-center items-center gap-3 bg-white shrink-0",children:[!$&&a.jsxs("div",{className:"flex items-center gap-2 text-rose-500 font-black text-[8px] uppercase tracking-widest mb-2 md:mb-0",children:[a.jsx(Hi,{size:12})," Syncing Disabled: Device is Offline"]}),h==="view"?a.jsx("button",{onClick:()=>m("edit"),className:"w-full md:w-auto px-10 py-3 bg-slate-900 text-white rounded-2xl font-black shadow-lg hover:bg-slate-800 transition-all text-[10px] uppercase tracking-widest active:scale-95",children:"Modify Profile"}):a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:t,disabled:T,className:"w-full md:w-auto px-8 py-3 text-slate-400 bg-slate-50 hover:bg-slate-100 rounded-2xl transition-all text-[10px] font-black uppercase tracking-widest",children:"Cancel"}),a.jsx("button",{form:"client-form",type:"submit",disabled:T||!$,className:`w-full md:w-auto px-10 py-3 rounded-2xl font-black shadow-lg transition-all text-[10px] uppercase tracking-widest active:scale-95 min-w-[180px] flex items-center justify-center ${$?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:T?a.jsxs(a.Fragment,{children:[a.jsx(Dt,{size:14,className:"animate-spin mr-2"}),"Synchronizing..."]}):h==="add"?"Initiate Account":"Commit Changes"})]})]})]})})},By=({isOpen:e,onClose:t,role:n,onConfirm:r,defaultName:i,defaultTitle:o=""})=>{const[c,u]=O.useState("draw"),[d,f]=O.useState(i),[h,m]=O.useState(o),[x,v]=O.useState(!1),[j,b]=O.useState(!1),w=O.useRef(null);O.useEffect(()=>{e&&(f(i),m(o),b(!1),setTimeout(y,100))},[e,i,o]);const y=()=>{const D=w.current;if(D){const T=D.getContext("2d");T==null||T.clearRect(0,0,D.width,D.height),b(!1)}},k=D=>{const T=w.current;if(!T)return;const M=T.getContext("2d");if(!M)return;const z=T.getBoundingClientRect(),R="touches"in D?D.touches[0].clientX-z.left:D.clientX-z.left,$="touches"in D?D.touches[0].clientY-z.top:D.clientY-z.top;M.beginPath(),M.moveTo(R,$),M.strokeStyle="#000",M.lineWidth=2,M.lineCap="round",v(!0)},P=D=>{if(!x)return;const T=w.current;if(!T)return;const M=T.getContext("2d");if(!M)return;const z=T.getBoundingClientRect(),R="touches"in D?D.touches[0].clientX-z.left:D.clientX-z.left,$="touches"in D?D.touches[0].clientY-z.top:D.clientY-z.top;M.lineTo(R,$),M.stroke(),b(!0)},C=()=>{v(!1)},S=()=>{let D="";c==="draw"&&w.current&&(D=w.current.toDataURL("image/png")),r(d,h,D,c)};if(!e)return null;const E=n==="Provider";return a.jsx("div",{className:"fixed inset-0 z-[70] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 animate-in zoom-in-95 duration-200",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-xl shadow-2xl p-6 flex flex-col max-h-[90vh]",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[a.jsx(yd,{className:"mr-2 text-blue-600",size:24}),E?"Authorized Representative":"Client Representative"]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:a.jsx(bt,{size:24})})]}),a.jsxs("div",{className:"flex space-x-2 mb-4 bg-gray-100 p-1 rounded-lg self-start",children:[a.jsxs("button",{onClick:()=>u("draw"),className:`flex items-center px-3 py-1.5 text-xs font-bold rounded-md transition-all ${c==="draw"?"bg-white text-blue-600 shadow-sm":"text-gray-500"}`,children:[a.jsx(Ty,{size:12,className:"mr-2"})," Draw"]}),a.jsxs("button",{onClick:()=>u("type"),className:`flex items-center px-3 py-1.5 text-xs font-bold rounded-md transition-all ${c==="type"?"bg-white text-blue-600 shadow-sm":"text-gray-500"}`,children:[a.jsx(v_,{size:12,className:"mr-2"})," Type"]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:"Signatory Name"}),a.jsx("input",{type:"text",value:d,onChange:D=>f(D.target.value),className:"w-full p-2.5 border border-gray-200 rounded-lg text-sm font-medium focus:ring-2 focus:ring-blue-500 outline-none mt-1 bg-white text-slate-900",placeholder:"Full Name"}),a.jsx("p",{className:"text-[8px] text-slate-400 font-bold uppercase mt-1",children:"Open for manual adjustment"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:"Signatory Title"}),a.jsx("input",{type:"text",value:h,onChange:D=>m(D.target.value),className:"w-full p-2.5 border border-gray-200 rounded-lg text-sm font-medium focus:ring-2 focus:ring-blue-500 outline-none mt-1",placeholder:"e.g. Director"})]})]}),c==="draw"?a.jsxs("div",{className:"relative border border-gray-300 rounded-xl overflow-hidden bg-white touch-none",children:[a.jsx("canvas",{ref:w,width:450,height:200,className:"w-full h-[200px] bg-gray-50 cursor-crosshair",onMouseDown:k,onMouseMove:P,onMouseUp:C,onMouseLeave:C,onTouchStart:k,onTouchMove:P,onTouchEnd:C}),a.jsx("div",{className:"absolute top-2 right-2",children:a.jsxs("button",{onClick:y,className:"text-[10px] bg-white/80 hover:bg-white border border-gray-200 px-2 py-1 rounded shadow-sm text-gray-600 flex items-center",children:[a.jsx(Rl,{size:10,className:"mr-1"})," Clear"]})}),!j&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none text-gray-300 text-xs font-black uppercase tracking-widest select-none",children:"Draw your signature here"})]}):a.jsx("div",{className:"p-10 bg-gray-50 border border-dashed border-gray-300 rounded-xl text-center h-[200px] flex items-center justify-center overflow-hidden",children:a.jsx("p",{className:"text-4xl text-slate-800 truncate px-4",style:{fontFamily:"cursive"},children:d||"Your Name"})}),a.jsxs("div",{className:"flex items-start bg-blue-50 p-3 rounded-lg border border-blue-100",children:[a.jsx(hn,{className:"text-blue-600 shrink-0 mt-0.5 mr-2",size:16}),a.jsx("p",{className:"text-[10px] text-blue-800 font-medium",children:"I verify that this electronic signature is intended to be my legally binding signature for this agreement."})]}),a.jsx("button",{onClick:S,disabled:!d||c==="draw"&&!j,className:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-bold shadow-lg shadow-blue-600/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all text-sm uppercase tracking-widest",children:"Confirm Signature"})]})]})})},RE=({isOpen:e,onClose:t,previewHtml:n,contract:r,userRole:i,onInitiateSigning:o,onDownload:c,onShare:u,onDispatch:d})=>{const f=O.useRef(null),h=O.useRef(null),[m,x]=O.useState(100);if(O.useEffect(()=>{if(e&&h.current){const y=()=>{var P;const k=((P=h.current)==null?void 0:P.clientWidth)||0;if(k<850){const C=Math.floor(k/850*100)-2;x(Math.max(30,C))}else x(100)};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)}},[e]),O.useEffect(()=>{if(e&&n&&f.current){const y=f.current,P=setTimeout(()=>{if(y.contentWindow&&y.contentWindow.document.body){const C=y.contentWindow.document.documentElement.scrollHeight;y.style.height=`${C+50}px`}},300);return()=>clearTimeout(P)}},[e,n,m]),!e||!n)return null;const v=!!(r.ProviderSign||r.ProviderSignImage),j=!!(r.ClientSign||r.ClientSignImage),b=v&&j,w=(i==null?void 0:i.toLowerCase())==="client";return a.jsx("div",{className:"fixed inset-0 z-[60] bg-slate-900/95 backdrop-blur-md flex items-center justify-center p-0 sm:p-4 md:p-6 lg:p-10 animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-slate-800 w-full max-w-6xl h-full sm:h-[95vh] sm:rounded-[2.5rem] flex flex-col shadow-2xl overflow-hidden border border-slate-700/50 relative",children:[a.jsxs("div",{className:"px-6 py-4 flex flex-wrap justify-between items-center border-b border-slate-700/50 bg-slate-800/50 backdrop-blur-xl gap-4 z-30",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:t,className:"group p-2.5 bg-slate-700 hover:bg-slate-600 rounded-2xl text-white transition-all active:scale-95 flex items-center gap-2 pr-5 shadow-lg border border-slate-600",children:[a.jsx(vf,{size:18,className:"group-hover:-translate-x-1 transition-transform"}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em]",children:"Exit Preview"})]}),a.jsx("div",{className:"h-10 w-px bg-slate-700/50 mx-2 hidden sm:block"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2.5 bg-indigo-500/10 rounded-2xl text-indigo-400 hidden sm:block border border-indigo-500/20",children:a.jsx(Cn,{size:20})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h3",{className:"font-black text-sm text-white tracking-tight truncate uppercase tracking-widest",children:"Document Authorization"}),a.jsxs("p",{className:"text-[9px] text-slate-400 font-black uppercase tracking-[0.3em] mt-0.5",children:["REF: ",r.ContractID||"PENDING"]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[a.jsxs("div",{className:"hidden lg:flex items-center bg-slate-900/50 rounded-2xl border border-slate-700 p-1 mr-2",children:[a.jsx("button",{onClick:()=>x(y=>Math.max(30,y-10)),className:"p-2 text-slate-400 hover:text-white transition-colors",children:a.jsx(_E,{size:16})}),a.jsxs("span",{className:"text-[10px] font-black text-slate-500 w-12 text-center",children:[m,"%"]}),a.jsx("button",{onClick:()=>x(y=>Math.min(150,y+10)),className:"p-2 text-slate-400 hover:text-white transition-colors",children:a.jsx(TE,{size:16})})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[w?!j&&a.jsxs("button",{onClick:()=>o("Client"),className:"flex items-center px-5 py-2.5 bg-amber-500 hover:bg-amber-400 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all shadow-xl active:scale-95 border border-amber-500",children:[a.jsx(yd,{size:16,className:"sm:mr-2"})," Authorize Now"]}):v?!b&&a.jsxs("button",{onClick:d,className:"flex items-center px-6 py-2.5 bg-indigo-600 hover:bg-indigo-50 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all shadow-xl active:scale-95 border border-indigo-500 animate-in zoom-in",children:[a.jsx(Rr,{size:16,className:"sm:mr-2 animate-pulse"})," Dispatch Authorized Agreement"]}):a.jsxs("button",{onClick:()=>o("Provider"),className:"flex items-center px-5 py-2.5 bg-amber-500 hover:bg-amber-400 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all shadow-xl active:scale-95 border border-amber-500",children:[a.jsx(yd,{size:16,className:"sm:mr-2"})," Sign Agreement"]}),a.jsxs("button",{onClick:c,className:"flex items-center px-5 py-2.5 bg-slate-900 hover:bg-slate-950 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all shadow-xl active:scale-95 border border-slate-700",children:[a.jsx(kE,{size:16,className:"sm:mr-2"})," ",a.jsx("span",{className:"hidden sm:inline",children:"Print Document"})]})]})]})]}),a.jsxs("div",{ref:h,className:"flex-1 bg-slate-950 overflow-y-auto overflow-x-hidden flex flex-col items-center p-4 sm:p-12 no-scrollbar relative scroll-smooth",children:[a.jsx("div",{className:"bg-white w-full max-w-4xl shadow-[0_50px_100px_-20px_rgba(0,0,0,0.8)] transition-all duration-300 transform-gpu origin-top rounded-sm",style:{transform:`scale(${m/100})`,marginBottom:`-${100-m}%`},children:a.jsx("iframe",{ref:f,srcDoc:n,className:"w-full border-none block",style:{height:"auto",minHeight:"100vh"},title:"Contract Preview",scrolling:"no"})}),a.jsx("div",{className:"h-32 w-full shrink-0"})]}),a.jsx("div",{className:"absolute bottom-10 right-10 z-40 animate-bounce hidden md:block",children:a.jsx("div",{className:"bg-slate-800/80 backdrop-blur-md border border-slate-700 p-4 rounded-full shadow-2xl",children:a.jsxs("div",{className:"flex flex-col items-center gap-1",children:[a.jsx("span",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest",children:"End of Doc"}),a.jsx("div",{className:"w-1 h-3 bg-indigo-500 rounded-full"})]})})})]})})},Ns=({icon:e,label:t,value:n})=>a.jsxs("div",{className:"flex items-start p-3 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"p-2 bg-white rounded-md border border-gray-100 mr-3 text-indigo-600",children:a.jsx(e,{size:18})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-gray-500",children:t}),a.jsx("p",{className:"text-sm font-semibold mt-1 text-slate-800",children:n||"0"})]})]}),__=({contract:e,agents:t,vehicles:n,onPreview:r})=>{const i=(e.AssetIDs||[]).map(d=>String(d).trim().toLowerCase()),o=n.filter(d=>{const f=String(d.VehicleID||"").trim().toLowerCase();return i.includes(f)}),c=t.find(d=>String(d.AgentID)===String(e.AssignedAgentID)),u=c?c.AgentName:e.AssignedAgentID&&e.AssignedAgentID!=="0"?e.AssignedAgentID:"Unassigned";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-indigo-600 rounded-3xl p-6 text-white shadow-xl relative overflow-hidden",children:[a.jsx("div",{className:"absolute right-0 top-0 p-8 opacity-10 rotate-12",children:a.jsx(Wi,{size:120})}),a.jsxs("div",{className:"relative z-10 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-white/20 rounded-xl",children:a.jsx(Di,{size:20})}),a.jsx("h3",{className:"text-sm font-black uppercase tracking-[0.2em]",children:"Nature of Agreement"})]}),a.jsxs("p",{className:"text-xs text-indigo-50 leading-relaxed font-medium",children:["This agreement is for the supply and installation of ",a.jsx("span",{className:"font-bold text-white",children:"GPS Tracking or Dashcam hardware"}),", and the provision of access to a ",a.jsx("span",{className:"font-bold text-white",children:"digital tracking platform"}),". The service allows ",a.jsx("span",{className:"font-bold text-white",children:e.ClientName})," to monitor vehicles in real-time, view route history, and receive technical support for asset management."]})]})]}),a.jsxs("div",{className:"bg-white border border-gray-100 p-4 sm:p-6 rounded-2xl shadow-sm flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 transition-all",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[a.jsx("h3",{className:"text-xl sm:text-2xl font-black text-slate-900 tracking-tight",children:e.PlanType||"Standard"}),a.jsxs("div",{className:"flex gap-1.5",children:[a.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-lg text-[9px] font-black bg-indigo-50 text-indigo-600 border border-indigo-100 uppercase tracking-wider",children:[a.jsx(Py,{size:10,className:"mr-1"})," Digital Registry"]}),a.jsx("span",{className:`px-2 py-0.5 rounded-lg text-[9px] font-black uppercase tracking-wider border ${e.ContractStatus==="Active"?"bg-emerald-50 text-emerald-700 border-emerald-100":"bg-rose-50 text-rose-700 border-rose-100"}`,children:e.ContractStatus})]})]}),a.jsxs("div",{className:"flex items-center text-slate-500 text-sm font-medium",children:[a.jsx(Nt,{size:14,className:"mr-1.5 opacity-50"}),a.jsx("span",{className:"tracking-tight",children:e.ClientName||"N/A"})]})]}),a.jsxs("div",{className:"w-full sm:w-auto text-left sm:text-right border-t sm:border-0 pt-4 sm:pt-0",children:[a.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-black tracking-[0.15em] mb-1",children:"Service Value"}),a.jsxs("div",{className:"flex items-baseline sm:justify-end gap-1",children:[a.jsxs("span",{className:"text-2xl sm:text-3xl font-black text-emerald-600 tracking-tighter",children:["K",Oe(e.TotalAmount)]}),a.jsxs("span",{className:"text-[10px] text-slate-400 font-bold uppercase",children:["/",e.BillingCycle]})]}),e.ClientSign&&a.jsx("div",{className:"mt-1 flex sm:justify-end",children:a.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-md text-[9px] font-bold bg-blue-50 text-blue-700 border border-blue-100",children:[a.jsx(Ey,{size:10,className:"mr-1"})," Legally Executed"]})})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4",children:[a.jsx(Ns,{icon:Oy,label:"Technology Type",value:e.ServiceType}),a.jsx(Ns,{icon:zr,label:"Effective Date",value:Ae(e.StartDate)}),a.jsx(Ns,{icon:$t,label:"Agreement Maturity",value:Ae(e.ExpiryDate)}),a.jsx(Ns,{icon:yf,label:"Asset Nodes",value:e.NoOfUnits}),a.jsx(Ns,{icon:Nt,label:"Managing Agent",value:u}),a.jsx(Ns,{icon:$t,label:"Renewal Frequency",value:e.BillingCycle})]}),o.length>0&&a.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl overflow-hidden shadow-sm",children:[a.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-b border-gray-100 flex items-center gap-2",children:[a.jsx(yr,{size:16,className:"text-slate-400"}),a.jsx("h4",{className:"text-sm font-bold text-slate-700 uppercase tracking-wider",children:"Targeted Hardware Inventory"})]}),a.jsx("div",{className:"p-0 overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-xs",children:[a.jsx("thead",{className:"bg-slate-50 text-[9px] uppercase tracking-widest text-slate-400",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 font-bold",children:"Registration"}),a.jsx("th",{className:"px-5 py-3 font-bold",children:"Asset Model"}),a.jsx("th",{className:"px-5 py-3 font-bold",children:"Digital Identity (IMEI)"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:o.map(d=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"px-5 py-3 font-mono font-bold text-slate-900",children:d.NumberPlate}),a.jsxs("td",{className:"px-5 py-3 text-slate-600",children:[d.Year," ",d.Make," ",d.Model]}),a.jsx("td",{className:"px-5 py-3 font-mono text-xs text-slate-400",children:d.DeviceSerial})]},d.VehicleID))})]})})]}),a.jsxs("div",{className:"bg-slate-900 text-white rounded-2xl p-6 flex flex-col md:flex-row justify-between items-center shadow-lg shadow-slate-900/10",children:[a.jsxs("div",{className:"mb-4 md:mb-0",children:[a.jsxs("h4",{className:"font-bold text-lg flex items-center",children:[a.jsx(Cn,{size:20,className:"mr-2 text-blue-400"})," Contractual Instrument"]}),a.jsx("p",{className:"text-sm text-slate-300 mt-1 max-w-md",children:"The binding legal document containing exhaustive terms, conditions, and inventory schedules."})]}),a.jsx("div",{className:"flex gap-3 w-full md:w-auto",children:a.jsx("button",{onClick:r,className:"flex-1 md:flex-none flex items-center justify-center px-6 py-2.5 bg-slate-800 hover:bg-slate-700 text-white rounded-xl transition-all font-bold text-xs uppercase tracking-widest border border-slate-700 shadow-xl active:scale-95",children:"Open Document View"})})]})]})},Pc=({options:e,value:t,onChange:n,placeholder:r="Select...",className:i="",disabled:o=!1,required:c=!1,label:u})=>{const[d,f]=O.useState(!1),[h,m]=O.useState(""),x=O.useRef(null),v=O.useRef(null),j=e.find(w=>w.value===t);O.useEffect(()=>{const w=y=>{x.current&&!x.current.contains(y.target)&&f(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]),O.useEffect(()=>{d&&v.current&&v.current.focus(),d||m("")},[d]);const b=e.filter(w=>w.label.toLowerCase().includes(h.toLowerCase())||w.subtext&&w.subtext.toLowerCase().includes(h.toLowerCase()));return a.jsxs("div",{className:`space-y-1 ${i}`,ref:x,children:[u&&a.jsxs("label",{className:"text-sm font-medium text-gray-700",children:[u," ",c&&"*"]}),a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:`w-full min-h-[42px] px-3 py-2 bg-white border border-gray-200 rounded-lg flex items-center justify-between cursor-pointer transition-all ${o?"bg-gray-100 cursor-not-allowed opacity-70":d?"ring-2 ring-blue-500 border-blue-500":"hover:border-blue-300"}`,onClick:()=>!o&&f(!d),children:[a.jsx("span",{className:`block truncate text-sm ${j?"text-gray-900 font-medium":"text-gray-400"}`,children:j?j.label:r}),a.jsx(_i,{size:16,className:`text-gray-400 shrink-0 ml-2 transition-transform duration-200 ${d?"rotate-180":""}`})]}),d&&a.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-xl max-h-60 overflow-hidden flex flex-col animate-in fade-in zoom-in-95 duration-100 origin-top",children:[a.jsx("div",{className:"p-2 border-b border-gray-100 bg-gray-50 sticky top-0",children:a.jsxs("div",{className:"relative",children:[a.jsx(An,{className:"absolute left-2.5 top-2.5 text-gray-400",size:14}),a.jsx("input",{ref:v,type:"text",className:"w-full pl-8 pr-8 py-1.5 text-sm bg-white border border-gray-200 rounded-md focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 placeholder-gray-400",placeholder:"Type to filter...",value:h,onChange:w=>m(w.target.value),onClick:w=>w.stopPropagation()}),h&&a.jsx("button",{onClick:w=>{var y;w.stopPropagation(),m(""),(y=v.current)==null||y.focus()},className:"absolute right-2 top-2 text-gray-400 hover:text-gray-600",children:a.jsx(bt,{size:14})})]})}),a.jsx("div",{className:"overflow-y-auto flex-1 p-1",children:b.length>0?b.map(w=>a.jsxs("div",{className:`px-3 py-2 text-sm rounded-md cursor-pointer transition-colors flex items-center justify-between ${w.disabled?"opacity-50 cursor-not-allowed bg-gray-50":w.value===t?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>{w.disabled||(n(w.value),f(!1))},children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{children:w.label}),w.subtext&&a.jsx("span",{className:"text-xs text-gray-400 mt-0.5",children:w.subtext})]}),w.value===t&&a.jsx(bf,{size:14,className:"text-blue-600 ml-2"})]},w.value)):a.jsxs("div",{className:"px-4 py-6 text-sm text-gray-400 text-center flex flex-col items-center",children:[a.jsx(An,{size:16,className:"mb-2 opacity-50"}),"No matches found"]})})]}),c&&a.jsx("input",{type:"text",className:"absolute opacity-0 pointer-events-none inset-0 -z-10",value:t,required:!0,onChange:()=>{},tabIndex:-1})]})]})},M_=({formData:e,clientOptions:t,groupedPlans:n,selectedPlanID:r,isCustomPlan:i,clientVehicles:o,onChange:c,onClientChange:u,onAssetToggle:d,onSelectAll:f})=>{const h=Array.isArray(e.AssetIDs)?e.AssetIDs.length:0,m=o.length>0&&h===o.length;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-slate-900 rounded-[2rem] p-6 text-white shadow-xl relative overflow-hidden border border-slate-800",children:[a.jsx("div",{className:"absolute right-0 top-0 p-6 opacity-5 rotate-12",children:a.jsx(Dy,{size:80})}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"p-2 bg-indigo-500 rounded-xl",children:a.jsx(hn,{size:18})}),a.jsx("h3",{className:"text-xs font-black uppercase tracking-[0.2em]",children:"Service Level Commitment"})]}),a.jsxs("p",{className:"text-[10px] text-slate-400 leading-relaxed font-medium uppercase tracking-wider",children:["This agreement is for the supply and installation of ",a.jsx("span",{className:"text-indigo-400 font-black",children:"GPS Tracking or Dashcam hardware"}),", and the provision of access to a ",a.jsx("span",{className:"text-indigo-400 font-black",children:"digital tracking platform"}),". The service allows the Client to monitor vehicles in real-time, view route history, and receive technical support for asset management."]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{className:"space-y-2",children:a.jsx(Pc,{label:"Client / Subscriber",required:!0,options:t,value:e.ClientID||"",onChange:u,placeholder:"Select Client..."})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Contract Standing"}),a.jsxs("select",{name:"ContractStatus",value:e.ContractStatus,onChange:c,className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",children:[a.jsx("option",{value:pn.Active,children:"Active / Enforced"}),a.jsx("option",{value:pn.Expired,children:"Matured / Expired"}),a.jsx("option",{value:pn.Cancelled,children:"Terminated"})]})]}),e.ClientID&&a.jsxs("div",{className:"col-span-1 md:col-span-2 bg-indigo-50 border border-indigo-100 rounded-xl p-5 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-indigo-900",children:[a.jsx(yr,{size:18}),a.jsx("h4",{className:"font-bold",children:"Subject Assets (Hardware Nodes)"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[o.length>0&&f&&a.jsxs("button",{type:"button",onClick:f,className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-widest transition-all ${m?"bg-indigo-600 text-white":"bg-white text-indigo-600 border border-indigo-200 hover:bg-indigo-50"}`,children:[a.jsx(wr,{size:12}),m?"Deselect All":"Select All"]}),a.jsxs("span",{className:"text-[10px] font-black uppercase text-indigo-600 bg-white px-2 py-1.5 rounded shadow-sm border border-indigo-100",children:[h," Units Targeted"]})]})]}),o.length>0?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 max-h-[200px] overflow-y-auto pr-2 custom-scrollbar",children:o.map(x=>{const v=Array.isArray(e.AssetIDs)&&e.AssetIDs.includes(x.VehicleID);return a.jsxs("div",{onClick:()=>d(x.VehicleID),className:`flex items-center gap-3 p-3 rounded-lg border cursor-pointer transition-all ${v?"bg-indigo-600 border-indigo-700 text-white shadow-md":"bg-white border-indigo-100 text-indigo-900 hover:border-indigo-400"}`,children:[v?a.jsx(Ml,{size:18}):a.jsx(bd,{size:18,className:"text-indigo-200"}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-xs font-bold font-mono tracking-wider",children:x.NumberPlate}),a.jsxs("p",{className:`text-[10px] truncate ${v?"text-indigo-100":"text-slate-400"}`,children:["IMEI: ",x.DeviceSerial]})]})]},x.VehicleID)})}):a.jsxs("div",{className:"text-center py-6 bg-white/50 border border-dashed border-indigo-200 rounded-lg",children:[a.jsx(ky,{size:24,className:"mx-auto text-indigo-300 mb-2"}),a.jsx("p",{className:"text-xs font-medium text-indigo-700",children:"No active vehicles found for this client."})]})]}),a.jsx("div",{className:"col-span-1 md:col-span-2 bg-slate-50 border border-slate-200 rounded-xl p-5",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Service Plan Classification *"}),a.jsxs("select",{name:"PlanID",value:r,onChange:c,className:"w-full p-2.5 bg-white border border-slate-200 rounded-lg focus:ring-2 focus:ring-slate-500 outline-none",children:[a.jsx("option",{value:"",children:"-- Select Plan --"}),Object.keys(n).map(x=>a.jsx("optgroup",{label:x,children:n[x].map(v=>a.jsxs("option",{value:v.PlanID,children:[v.Class," - K",v.BasePrice]},v.PlanID))},x)),a.jsx("option",{value:"custom",children:"-- Ad-hoc Custom Plan --"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Renewal Cycle"}),a.jsxs("select",{name:"BillingCycle",value:e.BillingCycle,onChange:c,className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg outline-none",children:[a.jsx("option",{value:"Monthly",children:"Monthly Recurring"}),a.jsx("option",{value:"Quarterly",children:"Quarterly Cycle"}),a.jsx("option",{value:"Annual",children:"Annual Commitment"}),a.jsx("option",{value:"Term",children:"Fixed Term"}),a.jsx("option",{value:"Once-off",children:"One-Time Provision"})]})]})]})}),a.jsxs("div",{className:"col-span-1 md:col-span-2 bg-slate-50 border border-slate-200 rounded-xl p-5 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-700 border-b border-slate-200 pb-2",children:[a.jsx(ha,{size:18}),a.jsx("h4",{className:"font-bold text-sm",children:"Settlement Terms"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Preferred Method"}),a.jsxs("select",{name:"PaymentMethod",value:e.PaymentMethod||"Bank Transfer",onChange:c,className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),a.jsx("option",{value:"Mobile Money",children:"Mobile Money"}),a.jsx("option",{value:"Cash",children:"Direct Cash"}),a.jsx("option",{value:"Cheque",children:"Corporate Cheque"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"First Payment Due"}),a.jsx("input",{type:"date",name:"PaymentDueDate",value:Ll(e.PaymentDueDate),onChange:c,className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Agreement Activation Date"}),a.jsx("input",{type:"date",name:"StartDate",value:Ll(e.StartDate),onChange:c,className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Term Length (Months)"}),a.jsx("input",{type:"number",name:"DurationMonths",value:e.DurationMonths||0,onChange:c,className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),a.jsxs("div",{className:"p-4 bg-slate-900 rounded-2xl border border-slate-800 flex items-center justify-between shadow-xl",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2.5 bg-indigo-500/20 rounded-xl text-indigo-400",children:a.jsx(zr,{size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black uppercase text-slate-500 tracking-widest leading-none",children:"Agreement Expiration"}),a.jsx("h4",{className:"text-lg font-black text-white mt-1 uppercase tracking-tight",children:e.ExpiryDate?Ae(e.ExpiryDate):"Pending Data Entry"})]})]}),a.jsx("div",{className:"text-right",children:a.jsx("span",{className:"text-[8px] font-black uppercase bg-indigo-600 text-white px-2 py-0.5 rounded",children:"Auto-Calculated"})})]}),a.jsxs("div",{className:"p-5 bg-gray-50 rounded-xl border border-gray-200",children:[a.jsxs("h4",{className:"text-sm font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(Mi,{size:16,className:"mr-2 text-green-600"})," Portfolio Valuations"]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-semibold text-gray-500",children:"Unit Price"}),a.jsx("input",{type:"number",step:"0.01",name:"UnitPrice",value:e.UnitPrice||0,onChange:c,readOnly:!i,className:`w-full p-2 border border-gray-200 rounded ${i?"bg-white":"bg-gray-100 text-gray-500"}`})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-semibold text-gray-500",children:"Asset Count"}),a.jsx("input",{type:"number",name:"NoOfUnits",value:e.NoOfUnits||0,onChange:c,className:"w-full p-2 border border-gray-200 rounded bg-white font-bold text-slate-900"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-semibold text-gray-500",children:"Maintenance Fees"}),a.jsx("input",{type:"number",step:"0.01",name:"AdditionalCost",value:e.AdditionalCost||0,onChange:c,className:"w-full p-2 border border-gray-200 rounded bg-white"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-semibold text-gray-500",children:"Client Discount"}),a.jsx("input",{type:"number",step:"0.01",name:"Discount",value:e.Discount||0,onChange:c,className:"w-full p-2 border border-gray-200 rounded bg-white"})]})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 flex justify-end items-center",children:[a.jsxs("span",{className:"text-sm font-medium text-gray-500 mr-3",children:["Unified Total (",e.BillingCycle,"):"]}),a.jsxs("span",{className:"text-xl font-bold text-emerald-600",children:["K",Oe(e.TotalAmount)]})]})]})]})},Is=(e,t,n,r,i=[])=>{const o=(r==null?void 0:r.CompanyName)||"Sally Chanza Business Caf",c=(r==null?void 0:r.Address)||"House #39 Salam Park, Lusaka - Zambia",u=(r==null?void 0:r.Phone)||"260966862012",d=(r==null?void 0:r.Email)||"notifications@sallychanza.com",f=(r==null?void 0:r.Logo)||null,h=(e.AssetIDs||[]).map(y=>String(y).trim().toLowerCase()),m=n.filter(y=>h.includes(String(y.VehicleID).trim().toLowerCase())),x=m.length>0?m.map(y=>`
      <tr style="border-bottom: 1px solid #e2e8f0;">
        <td style="padding: 10px; font-size: 11px; font-weight: bold; color: #0f172a;">${y.NumberPlate||"N/A"}</td>
        <td style="padding: 10px; font-size: 11px; color: #475569;">${y.Make||""} ${y.Model||""} (${y.Year||"N/A"})</td>
        <td style="padding: 10px; font-size: 11px; font-family: monospace; color: #64748b;">${e2(y.DeviceSerial)}</td>
        <td style="padding: 10px; font-size: 11px; font-family: monospace; color: #64748b;">${e2(y.SimNumber)}</td>
      </tr>
    `).join(""):'<tr><td colspan="4" style="text-align:center; padding: 30px; color: #94a3b8; font-style: italic; background: #f8fafc;">No specific assets were selected for this schedule.</td></tr>',v=i.find(y=>String(y.AgentID)===String(e.AssignedAgentID)),j=v?v.AgentName:"Authorized Representative",b=e.ProviderSign||e.ProviderSignImage,w=e.ClientSign||e.ClientSignImage;return`
    <html>
    <head>
      <style>
        body { font-family: sans-serif; color: #1e293b; line-height: 1.4; font-size: 10px; margin: 0; padding: 40px; }
        .header-table { width: 100%; border-bottom: 3px solid #0f172a; padding-bottom: 15px; margin-bottom: 20px; }
        .logo { max-height: 60px; margin-bottom: 5px; }
        .doc-title { font-size: 20pt; font-weight: 900; text-transform: uppercase; color: #0f172a; margin: 15px 0 5px 0; letter-spacing: -1px; }
        .section-header { background: #0f172a; color: #ffffff; padding: 6px 12px; font-weight: 800; text-transform: uppercase; font-size: 8px; letter-spacing: 1px; margin: 20px 0 10px 0; border-radius: 4px; }
        .info-table { width: 100%; border-collapse: collapse; margin-bottom: 10px; }
        .info-table td { width: 50%; vertical-align: top; padding: 4px 12px 4px 0; }
        .label { font-size: 7px; font-weight: 800; color: #64748b; text-transform: uppercase; display: block; margin-bottom: 1px; }
        .value { font-weight: 700; color: #0f172a; font-size: 10px; }
        .asset-table { width: 100%; border-collapse: collapse; margin: 5px 0; border: 1px solid #e2e8f0; }
        .asset-table th { background: #f8fafc; text-align: left; padding: 8px; font-size: 8px; text-transform: uppercase; color: #64748b; border-bottom: 2px solid #e2e8f0; }
        .terms-text { font-size: 8px; color: #475569; text-align: justify; margin-top: 5px; }
        .terms-text p { margin-bottom: 6px; }
        .summary-row { padding: 10px; border-top: 2px solid #0f172a; margin-top: 15px; text-align: right; }
        .total-amount { font-size: 14px; font-weight: 900; color: #059669; }
        .signature-table { width: 100%; margin-top: 30px; border-collapse: collapse; }
        .sig-cell { width: 50%; padding: 10px 20px 10px 0; vertical-align: bottom; }
        .sig-line { border-bottom: 2px solid #cbd5e1; height: 50px; margin-bottom: 10px; position: relative; }
        .sig-img { max-height: 40px; max-width: 150px; display: block; margin: 0 auto; }
        .footer { position: fixed; bottom: 0; left: 0; right: 0; text-align: center; font-size: 7px; color: #94a3b8; border-top: 1px solid #f1f5f9; padding-top: 8px; }
        .parameters-grid { width: 100%; border-collapse: collapse; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 8px; overflow: hidden; margin-bottom: 10px; }
        .parameters-grid td { padding: 12px; border: 1px solid #e2e8f0; width: 25%; }
        .highlight-value { font-weight: 900; color: #6366f1; }
        .service-scope-box { background: #f1f5f9; border-left: 4px solid #6366f1; padding: 15px; margin: 15px 0; font-size: 9px; color: #334155; }
      </style>
    </head>
    <body>
      <table class="header-table">
        <tr>
          <td style="width: 60%;">
            ${f?`<img src="${f}" class="logo" />`:""}
            <div style="font-size: 14px; font-weight: 900; color: #0f172a; text-transform: uppercase;">${o}</div>
            <div style="font-size: 8px; color: #64748b;">${c}</div>
            <div style="font-size: 8px; color: #64748b;">${u} | ${d}</div>
          </td>
          <td style="width: 40%; text-align: right; vertical-align: top;">
            <div class="doc-title">Agreement</div>
            <div style="color: #6366f1; font-weight: 900; font-size: 10px;">REF: ${e.ContractID}</div>
          </td>
        </tr>
      </table>

      <div class="section-header">1. Contracting Entities</div>
      <table class="info-table">
        <tr>
          <td>
            <span class="label">The Service Provider</span>
            <span class="value">${o}</span>
            <div style="font-size: 8px; color: #64748b;">Represented by: ${j}</div>
          </td>
          <td>
            <span class="label">The Subscriber / Client</span>
            <span class="value">${(t==null?void 0:t.CompanyName)||e.ClientName||"Valued Subscriber"}</span>
            <div style="font-size: 8px; color: #64748b;"><strong>NRC / ID Number:</strong> ${(t==null?void 0:t.NRC)||"N/A"}</div>
            <div style="font-size: 8px; color: #64748b;">Email: ${(t==null?void 0:t.Email)||"N/A"}</div>
            <div style="font-size: 8px; color: #64748b;">Contact: ${(t==null?void 0:t.Phone)||"N/A"}</div>
          </td>
        </tr>
      </table>

      <div class="section-header">2. Statement of Service & Product Scope</div>
      <div class="service-scope-box">
        <strong>NATURE OF AGREEMENT:</strong><br/>
        This agreement is for the supply and installation of <strong>GPS Tracking or Dashcam hardware</strong>, 
        and the provision of access to a <strong>digital tracking platform</strong>. 
        The service allows the Client to monitor vehicles in real-time, view route history, 
        and receive technical support for asset management.
      </div>

      <div class="section-header">3. Agreement Lifecycle & Service Parameters</div>
      <table class="parameters-grid">
        <tr>
          <td>
            <span class="label">Effective Start Date</span>
            <span class="value">${Ae(e.StartDate)}</span>
          </td>
          <td>
            <span class="label">Contract Maturity (Expiry)</span>
            <span class="value" style="color: #ef4444;">${Ae(e.ExpiryDate)}</span>
          </td>
          <td>
            <span class="label">Total Duration</span>
            <span class="value">${e.DurationMonths||0} Month(s)</span>
          </td>
          <td>
            <span class="label">Agreement Status</span>
            <span class="value" style="color: #10b981;">${e.ContractStatus||"ACTIVE"}</span>
          </td>
        </tr>
        <tr>
          <td>
            <span class="label">Billing Frequency</span>
            <span class="value">${e.BillingCycle||"Monthly"}</span>
          </td>
          <td>
            <span class="label">Payment Mode</span>
            <span class="value">${e.PaymentMethod||"Not Specified"}</span>
          </td>
          <td>
            <span class="label">Unit Allocation</span>
            <span class="value">${e.NoOfUnits||0} Verified Assets</span>
          </td>
          <td>
            <span class="label">Plan Designation</span>
            <span class="value highlight-value">${e.PlanType||"Standard"}</span>
          </td>
        </tr>
      </table>

      <div class="section-header">4. Schedule of Assets (Inventory)</div>
      <table class="asset-table">
        <thead>
          <tr>
            <th style="width: 20%;">Plate Number</th>
            <th style="width: 30%;">Description</th>
            <th style="width: 25%;">Hardware ID (Masked)</th>
            <th style="width: 25%;">Connectivity ID</th>
          </tr>
        </thead>
        <tbody>
          ${x}
        </tbody>
      </table>

      <div class="section-header">5. Terms & Conditions of Service</div>
      <div class="terms-text">
        <p><strong>1. MAINTENANCE:</strong> Hardware component failure due to manufacturing defect or normal wear and tear will be repaired or replaced by the Provider. The Client is liable for the full cost of repair or replacement resulting from any accident, misuse, tampering, vandalism, neglect, or intentional damage.</p>
        <p><strong>2. MONITORING DISCLAIMER:</strong> The tracking platform is provided as a self-service tool. The Provider is not a security company, rapid response service, or active monitoring agency. The Provider does not monitor Client assets, dispatch emergency services, or intervene in incidents.</p>
        <p><strong>3. SYSTEM RELIABILITY:</strong> Location accuracy and system functionality depend entirely on the availability and quality of third-party GSM cellular networks and GPS satellite signals. Temporary loss of signal or inaccurate location reporting in tunnels, underground areas, dense urban environments, or remote geographic regions is a known environmental limitation and does not constitute a service failure by the Provider.</p>
        <p><strong>4. CLIENT'S MONITORING OBLIGATION:</strong> The Client is solely responsible for regularly checking the status and location of its assets via the tracking platform. The Client must report any suspected malfunction, anomaly, or offline status of the hardware or software to the Provider immediately to initiate any technical support. Failure to report in a timely manner may limit the Provider's ability to assist.</p>
        <p><strong>5. PAYMENT TERMS & ACCESS:</strong> Service is prepaid. Full access to the platform and tracking services is granted only after the Provider has verified receipt of payment. Service, including all tracking and platform access, will be restricted immediately and automatically upon the expiration of the prepaid term.</p>
        <p><strong>6. DEFAULT AND RECOVERY:</strong> Accounts overdue by more than thirty (30) days are in default. The Provider reserves the right to permanently deactivate services and, upon providing written notice, to physically locate and recover all tracking hardware installed on Client assets. All costs associated with recovery will be billed to the Client.</p>
        <p><strong>7. ASSET SALE OR TRANSFER:</strong> The Client must formally notify the Provider in writing prior to the sale, transfer, or disposal of any asset equipped with the Provider's tracking hardware. The Client must either: 1) Arrange for the physical removal and return of the hardware, or 2) Facilitate the official reassignment of the tracking subscription to the new asset owner through a new contract with the Provider. The Client remains financially responsible for the subscription until one of these actions is completed.</p>
        <p><strong>8. SUBSCRIPTION CHANGES:</strong> The Client may upgrade their service plan at any time. Downgrades to a lower-tier service plan are only permitted upon the expiry of the current prepaid contract term.</p>
        <p><strong>9. DATA PRIVACY:</strong> The Provider will keep all Client location and tracking data confidential. This data will be used solely for the purpose of delivering the service and for authorized technical support. Data will not be sold or shared with unauthorized third parties.</p>
        <p><strong>10. GOVERNING LAW & DISPUTES:</strong> This Agreement shall be governed by and construed in accordance with the laws of the Republic of Zambia. Any dispute arising from this Agreement shall be resolved exclusively through final and binding arbitration in Zambia, in accordance with the Arbitration Act of Zambia or the rules of an agreed-upon Zambian arbitration body.</p>
        <p><strong>11. HARDWARE TITLE & OWNERSHIP:</strong> Tracking hardware remains the property of <strong>${o}</strong> unless explicitly purchased outright and documented as a sale in writing.</p>
      </div>

      <div class="summary-row">
        <span style="font-size: 8px; font-weight: 800; color: #94a3b8; text-transform: uppercase; margin-right: 15px;">Total Subscription Amount (${e.BillingCycle}):</span>
        <span class="total-amount">K ${Oe(e.TotalAmount)}</span>
      </div>

      <div class="section-header">6. Authorization & Execution</div>
      <table class="signature-table">
        <tr>
          <td class="sig-cell">
            <span class="label">For the Provider</span>
            <div class="sig-line">
               ${b?`<img src="${b}" class="sig-img" />`:""}
            </div>
            <div class="value">${e.ProviderSignName||j}</div>
            <div style="font-size: 7px; color: #64748b;">Authenticated: ${e.ProviderSignDate?Ae(e.ProviderSignDate):"Pending"}</div>
          </td>
          <td class="sig-cell">
            <span class="label">For the Subscriber</span>
            <div class="sig-line">
               ${w?`<img src="${w}" class="sig-img" />`:""}
            </div>
            <div class="value">${e.ClientSignName||"Authorized Signatory"}</div>
            <div style="font-size: 7px; color: #64748b;">Signed: ${e.ClientSignDate?Ae(e.ClientSignDate):"Pending"}</div>
          </td>
        </tr>
      </table>

      <div class="footer">
        Digital Agreement  ID: ${e.ContractID}  Generated by ${o} Automated Registry.
      </div>
    </body>
    </html>
  `},Wa="Sally Chanza Support Desk",gr="support@sallychanza.com",Zr="",pe=e=>String(e||"").trim().toLowerCase().replace(/\s+/g,""),Jr=(e,t)=>{const n=pe(t);if(!n||n==="0")return gr;const r=e.find(i=>pe(i.AgentID)===n);return r!=null&&r.Email&&r.Email.includes("@")?r.Email.trim():gr},R_=[{PlanID:"SYS-BASIC",Category:"GPS Tracking",Type:"Basic",Class:"Economy",BasePrice:100,MaintenanceFee:20,LastUpdated:new Date().toISOString()},{PlanID:"SYS-STD",Category:"GPS Tracking",Type:"Standard",Class:"Value",BasePrice:150,MaintenanceFee:30,LastUpdated:new Date().toISOString()},{PlanID:"SYS-PRO",Category:"GPS Tracking",Type:"Professional",Class:"Enterprise",BasePrice:250,MaintenanceFee:50,LastUpdated:new Date().toISOString()},{PlanID:"SYS-CUSTOM",Category:"Tailored",Type:"Custom",Class:"Bespoke",BasePrice:0,MaintenanceFee:0,LastUpdated:new Date().toISOString()}],$_=({isOpen:e,onClose:t,mode:n,contract:r,clients:i,agents:o,servicePlans:c,vehicles:u=[],companySettings:d,userRole:f,currentUser:h,onSave:m,onDelete:x})=>{const[v,j]=O.useState(n),[b,w]=O.useState({}),[y,k]=O.useState(!1),[P,C]=O.useState(!0),[S,E]=O.useState(navigator.onLine),[D,T]=O.useState(!1),[M,z]=O.useState(""),[R,$]=O.useState(null),[B,L]=O.useState(!1),[F,Y]=O.useState("Provider");O.useEffect(()=>{const de=()=>E(navigator.onLine);return window.addEventListener("online",de),window.addEventListener("offline",de),()=>{window.removeEventListener("online",de),window.removeEventListener("offline",de)}},[]);const W=c&&c.length>0?c:R_,V=W.reduce((de,_e)=>{const Ne=_e.Category||"General Plans";return de[Ne]||(de[Ne]=[]),de[Ne].push(_e),de},{}),ee=i.map(de=>({value:de.ClientID,label:de.CompanyName,disabled:de.Status!==ln.Active,subtext:de.Status!==ln.Active?"Inactive Account":de.ClientType})),_=u.filter(de=>pe(de.ClientID)===pe(b.ClientID)&&de.Status==="Active");O.useEffect(()=>{if(e){if(j(n),T(!1),z(""),$(null),k(!1),C(n==="add"),n==="add"){const de=new Date().toISOString().split("T")[0];w({ContractID:`CN-${Math.floor(3e3+Math.random()*9e3)}`,StartDate:de,PaymentDueDate:de,DurationMonths:12,ContractStatus:pn.Active,NoOfUnits:0,UnitPrice:0,AdditionalCost:0,Discount:0,SubTotal:0,TotalAmount:0,BillingCycle:"Monthly",PlanType:"",ServiceType:"",AssetIDs:[],AssignedAgentID:(h==null?void 0:h.role)==="Agent"||(h==null?void 0:h.role)==="Partner"?h.id:""})}else if(r){const de=r.AssetIDs||[],_e=r.NoOfUnits>0?r.NoOfUnits:de.length;w({...r,AssetIDs:de,NoOfUnits:_e});const Ne=W.find(ze=>{var qe,We;return((qe=ze.Type)==null?void 0:qe.trim().toLowerCase())===((We=r.PlanType)==null?void 0:We.trim().toLowerCase())});Ne?z(Ne.PlanID):(z("custom"),T(!0))}}},[n,r,e,W,h]),O.useEffect(()=>{if(v==="view")return;const de=b.AssetIDs&&b.AssetIDs.length>0?b.AssetIDs.length:Number(b.NoOfUnits)||0,_e=Number(b.UnitPrice)||0,Ne=Number(b.AdditionalCost)||0,ze=Number(b.Discount)||0,qe=de*_e,We=qe+Ne-ze;let xt="";if(b.StartDate&&b.DurationMonths){const Lt=new Date(b.StartDate);Lt.setMonth(Lt.getMonth()+Number(b.DurationMonths)),xt=Lt.toISOString().split("T")[0]}(b.NoOfUnits!==de||b.TotalAmount!==We||b.ExpiryDate!==xt)&&w(Lt=>({...Lt,NoOfUnits:de,SubTotal:qe,TotalAmount:We,ExpiryDate:xt}))},[b.NoOfUnits,b.AssetIDs,b.UnitPrice,b.AdditionalCost,b.Discount,b.StartDate,b.DurationMonths,v]);const q=()=>{if(!r)return;const de=new Date().toISOString().split("T")[0],_e=r.DurationMonths||12,Ne=new Date;Ne.setMonth(Ne.getMonth()+_e),w({...r,ContractID:`CN-R-${Math.floor(1e3+Math.random()*9e3)}`,StartDate:de,PaymentDueDate:de,ExpiryDate:Ne.toISOString().split("T")[0],ContractStatus:pn.Active,ProviderSignDate:"",ProviderSign:"",ClientSignName:"",ClientSignTitle:"",ClientSignDate:"",ClientSign:""}),j("add"),C(!0)},X=()=>{var qe;const de=pe(b.ClientID),_e=i.find(We=>pe(We.ClientID)===de),Ne={...b,NoOfUnits:((qe=b.AssetIDs)==null?void 0:qe.length)||b.NoOfUnits||0},ze=Is(Ne,_e,u,d||null,o);$(ze)},J=()=>{if(y||!S)return;k(!0);const de=b.AssetIDs&&b.AssetIDs.length>0?b.AssetIDs.length:Number(b.NoOfUnits)||0,_e=pe(b.ClientID),Ne=i.find(xt=>pe(xt.ClientID)===_e),ze={...b,NoOfUnits:de,Email:(Ne==null?void 0:Ne.Email)||""},We=String(ze.ProviderSign||ze.ProviderSignImage||"").trim().length>20;m(ze,We?!0:P).then(()=>{$(null),t()}).finally(()=>k(!1))},le=de=>{if(y)return;const{name:_e,value:Ne}=de.target;if(_e==="PlanID"){if(Ne==="custom")T(!0),z("custom");else{T(!1),z(Ne);const ze=W.find(qe=>qe.PlanID===Ne);ze&&w(qe=>({...qe,PlanType:ze.Type,ServiceType:`${ze.Category||"General"} - ${ze.Class||"Standard"}`,UnitPrice:ze.BasePrice,AdditionalCost:ze.MaintenanceFee}))}return}w(ze=>({...ze,[_e]:Ne}))},ge=de=>{y||w(_e=>{const Ne=_e.AssetIDs||[],ze=Ne.includes(de)?Ne.filter(qe=>qe!==de):[...Ne,de];return{..._e,AssetIDs:ze,NoOfUnits:ze.length}})},xe=(de,_e,Ne,ze)=>{const qe=new Date().toISOString(),We=F==="Provider",xt={...b,[We?"ProviderSignName":"ClientSignName"]:de,[We?"ProviderSignTitle":"ClientSignTitle"]:_e,[We?"ProviderSignDate":"ClientSignDate"]:qe,[We?"ProviderSign":"ClientSign"]:Ne,[We?"ProviderSignImage":"ClientSignImage"]:Ne};w(xt),L(!1);const Lt=pe(xt.ClientID),me=i.find(rt=>pe(rt.ClientID)===Lt);$(Is(xt,me,u,d||null,o)),We&&C(!0),v==="view"&&m({...xt,Email:(me==null?void 0:me.Email)||""},!0)};if(!e)return null;const Ie=b.ExpiryDate&&new Date(b.ExpiryDate)<new Date,Pe=pe(b.ClientID),ie=i.find(de=>pe(de.ClientID)===Pe),Se=String(b.ProviderSign||b.ProviderSignImage||"").trim().length>20,se=!!(b.ClientSign||b.ClientSignImage),He=Se&&se,Ze=(ie==null?void 0:ie.ClientType)==="Corporate"||(ie==null?void 0:ie.ClientType)==="SME"?(ie==null?void 0:ie.PrimaryContactName)||b.ClientName||"":b.ClientName||"";return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden animate-in fade-in zoom-in duration-300",children:[a.jsxs("div",{className:"flex justify-between items-center p-8 border-b border-gray-100 bg-gray-50/50",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:`p-3 rounded-2xl ${v==="view"?"bg-indigo-100 text-indigo-600":"bg-slate-900 text-white"}`,children:a.jsx(Rl,{size:24})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:v==="view"?"Agreement Overview":v==="edit"?"Edit Agreement":"New Service Agreement"}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-0.5",children:v==="view"?`REF: ${b.ContractID}`:"Configure Terms & Inventory"})]})]}),a.jsx("button",{onClick:t,disabled:y,className:"p-2 text-slate-300 hover:text-slate-900 transition-colors disabled:opacity-30",children:a.jsx(bt,{size:24})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-8 no-scrollbar",children:v==="view"?a.jsx(__,{contract:b,agents:o,vehicles:u,onPreview:()=>{const de=pe(b.ClientID),_e=i.find(Ne=>pe(Ne.ClientID)===de);$(Is(b,_e,u,d||null,o))}}):a.jsxs("fieldset",{disabled:y,className:"space-y-8",children:[a.jsx("form",{id:"contract-form",onSubmit:de=>{de.preventDefault(),J()},className:"space-y-6",children:a.jsx(M_,{formData:b,clientOptions:ee,groupedPlans:V,selectedPlanID:M,isCustomPlan:D,clientVehicles:_,onChange:le,onClientChange:de=>{if(!y){const _e=pe(de),Ne=i.find(ze=>pe(ze.ClientID)===_e);w(ze=>({...ze,ClientID:de,ClientName:(Ne==null?void 0:Ne.CompanyName)||"",AssetIDs:[]}))}},onAssetToggle:ge,onSelectAll:()=>{if(!y){const de=_.map(Ne=>Ne.VehicleID);(b.AssetIDs||[]).length===de.length?w(Ne=>({...Ne,AssetIDs:[],NoOfUnits:0})):w(Ne=>({...Ne,AssetIDs:de,NoOfUnits:de.length}))}}})}),a.jsxs("div",{className:"bg-slate-900 rounded-[2rem] p-6 text-white shadow-xl relative overflow-hidden border border-slate-800",children:[a.jsx("div",{className:"absolute right-0 top-0 p-6 opacity-5 rotate-12",children:a.jsx(Rr,{size:80})}),a.jsxs("div",{className:"relative z-10 flex flex-col sm:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`p-3 rounded-2xl transition-all duration-500 ${P||Se?"bg-indigo-500 text-white":"bg-slate-800 text-slate-600"}`,children:a.jsx(Rr,{size:20,className:P||Se?"animate-pulse":""})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-[11px] font-black uppercase tracking-widest",children:"Digital Dispatch Protocol"}),a.jsx("p",{className:`text-[9px] font-bold uppercase mt-0.5 ${P||Se?"text-indigo-400":"text-slate-500"}`,children:Se?`Authorized: Dispatching document to ${(ie==null?void 0:ie.Email)||"Unset Address"}`:P?"Active: System will trigger a review request email.":"Standby: Internal record update only."})]})]}),!Se&&a.jsx("button",{type:"button",onClick:()=>!y&&C(!P),className:`relative inline-flex h-7 w-12 items-center rounded-full transition-colors focus:outline-none ${P?"bg-indigo-600":"bg-slate-800"}`,children:a.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform duration-200 ease-in-out shadow-sm ${P?"translate-x-6":"translate-x-1"}`})})]})]})]})}),a.jsxs("div",{className:"p-8 border-t border-gray-100 bg-gray-50 flex flex-col sm:flex-row justify-end items-center gap-4 shrink-0",children:[!S&&v!=="view"&&a.jsxs("div",{className:"flex items-center gap-2 text-rose-500 font-black text-[9px] uppercase tracking-widest mb-2 sm:mb-0",children:[a.jsx(Hi,{size:14})," Offline Mode: Registry Locked"]}),v==="view"?a.jsxs(a.Fragment,{children:[Ie&&a.jsxs("button",{onClick:q,className:"flex-1 sm:flex-none px-8 py-3 bg-indigo-600 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-xl hover:bg-indigo-700 transition-all flex items-center justify-center",children:[a.jsx(Rl,{size:14,className:"mr-2"})," Renew Agreement"]}),x&&a.jsx("button",{onClick:()=>{confirm("Permanently remove this agreement?")&&(x(b.ContractID),t())},className:"px-6 py-3 text-rose-500 bg-rose-50 hover:bg-rose-100 rounded-2xl font-black text-[10px] uppercase tracking-widest",children:"Delete"}),a.jsx("button",{onClick:()=>j("edit"),className:"px-8 py-3 bg-slate-900 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-xl hover:bg-slate-800 transition-all",children:"Edit Record"})]}):a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:t,disabled:y,type:"button",className:"px-6 py-3 text-slate-400 bg-white border border-slate-100 rounded-2xl font-black text-[11px] uppercase tracking-widest",children:"Cancel"}),a.jsxs("button",{type:"button",onClick:X,disabled:!b.ClientID||!b.PlanType||y,className:"flex items-center px-6 py-3 bg-slate-100 text-slate-600 hover:bg-slate-200 rounded-2xl font-black text-[11px] uppercase tracking-widest transition-all disabled:opacity-30",children:[a.jsx(Py,{size:14,className:"mr-2"})," ",Se?"Review Final Doc":"Preview & Authorize"]}),!He&&a.jsxs("button",{form:"contract-form",type:"submit",disabled:y||!S,className:`px-10 py-3 rounded-2xl font-black text-[11px] uppercase tracking-widest shadow-xl flex items-center justify-center min-w-[160px] transition-all ${Se?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-slate-900 text-white"} disabled:bg-slate-200 disabled:text-slate-400`,children:[y&&a.jsx(Dt,{size:14,className:"animate-spin mr-2"}),y?"Processing...":Se?"Dispatch & Sync":"Save Draft"]})]})]})]})}),a.jsx(RE,{isOpen:!!R,onClose:()=>$(null),previewHtml:R,contract:b,userRole:f,onInitiateSigning:de=>{Y(de),L(!0)},onDownload:()=>{const de=pe(b.ClientID),_e=i.find(qe=>pe(qe.ClientID)===de),Ne=Is(b,_e,u,d||null,o),ze=window.open("","_blank");ze&&(ze.document.write(Ne),ze.document.close(),ze.onload=()=>ze.print())},onShare:()=>{},onDispatch:J}),a.jsx(By,{isOpen:B,onClose:()=>L(!1),role:F,defaultName:F==="Provider"?(h==null?void 0:h.name)||"":Ze,defaultTitle:F==="Provider"?b.ProviderSignTitle||"":b.ClientSignTitle||"",onConfirm:xe})]})},Wh=({icon:e,label:t,value:n,colorClass:r="text-slate-700"})=>a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 border border-slate-100 rounded-xl flex-1 min-w-[140px]",children:[a.jsx("div",{className:"p-2 bg-white rounded-lg text-slate-400 border border-slate-100 shadow-sm",children:a.jsx(e,{size:14})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-[8px] font-black uppercase tracking-widest text-slate-400 leading-none mb-1",children:t}),a.jsx("p",{className:`text-xs font-bold truncate ${r}`,children:n||""})]})]}),z_=({invoice:e,onPreview:t})=>{const n=r=>{switch(r){case jt.Paid:return"bg-emerald-50 text-emerald-700 border-emerald-100";case jt.Overdue:return"bg-rose-50 text-rose-700 border-rose-100";default:return"bg-amber-50 text-amber-700 border-amber-100"}};return a.jsxs("div",{className:"space-y-6 animate-in fade-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:`px-2 py-0.5 rounded text-[8px] font-black uppercase tracking-widest border ${n(e.Status)}`,children:e.Status}),a.jsxs("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-tighter",children:["Document Node: ",e.InvoiceID]})]}),a.jsx("h3",{className:"text-lg font-black text-slate-900 leading-none uppercase tracking-tight",children:e.ClientName})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Unsettled Balance"}),a.jsxs("h4",{className:`text-2xl font-black tracking-tighter leading-none ${e.Status===jt.Overdue?"text-rose-600":"text-indigo-600"}`,children:["K",Oe(e.BalanceDue)]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsx(Wh,{icon:zr,label:"Date Issued",value:Ae(e.InvoiceDate)}),a.jsx(Wh,{icon:$t,label:"Settlement Goal",value:Ae(e.DueDate),colorClass:e.Status===jt.Overdue?"text-rose-600":"text-slate-900"}),a.jsx(Wh,{icon:Oy,label:"Billing Period",value:`${e.PeriodMonths||1} Month(s)`})]}),a.jsxs("div",{className:"bg-white border border-slate-100 rounded-3xl overflow-hidden shadow-sm",children:[a.jsx("div",{className:"px-6 py-4 bg-slate-50 border-b border-slate-100",children:a.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500",children:"Service Line Entry"})}),a.jsx("div",{className:"p-0 overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-[11px]",children:[a.jsx("thead",{className:"bg-white text-[8px] uppercase tracking-widest text-slate-400 border-b border-slate-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 font-black",children:"Description of Service"}),a.jsx("th",{className:"px-6 py-4 font-black text-right",children:"Rate"}),a.jsx("th",{className:"px-6 py-4 font-black text-center",children:"Qty"}),a.jsx("th",{className:"px-6 py-4 font-black text-center",children:"Months"}),a.jsx("th",{className:"px-6 py-4 font-black text-right",children:"Total"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-50 text-slate-700",children:a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-5 font-bold text-slate-900 uppercase leading-relaxed max-w-[200px]",children:e.Description||"Unified Fleet Connectivity Services"}),a.jsxs("td",{className:"px-6 py-5 text-right font-mono text-slate-500",children:["K",Oe(e.UnitPrice)]}),a.jsx("td",{className:"px-6 py-5 text-center font-bold",children:e.NoOfUnits}),a.jsx("td",{className:"px-6 py-5 text-center font-black text-indigo-600",children:e.PeriodMonths||1}),a.jsxs("td",{className:"px-6 py-5 text-right font-black text-slate-900 text-sm",children:["K",Oe(e.TotalAmount)]})]})})]})})]}),a.jsxs("div",{className:"bg-slate-900 rounded-3xl p-5 flex justify-between items-center text-white shadow-xl relative overflow-hidden",children:[a.jsx("div",{className:"absolute right-0 top-0 p-5 opacity-5 rotate-12",children:a.jsx(ha,{size:60})}),a.jsxs("div",{className:"flex items-center gap-8 relative z-10",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Amount Settled"}),a.jsxs("p",{className:"text-base font-bold text-emerald-400 tracking-tight",children:["K",Oe(e.AmountPaid)]})]}),a.jsx("div",{className:"h-10 w-px bg-slate-800"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"System Entity"}),a.jsxs("p",{className:"text-xs font-bold text-indigo-300 tracking-tight",children:["#",e.InvoiceID]})]})]}),a.jsx("div",{className:"text-right",children:a.jsx("span",{className:`text-[8px] font-black uppercase px-3 py-1 rounded-lg border ${e.Status===jt.Paid?"bg-emerald-500/10 text-emerald-400 border-emerald-500/20":"bg-indigo-500/10 text-indigo-300 border-indigo-500/20"}`,children:"Registry Record"})})]}),a.jsxs("button",{onClick:t,className:"w-full group bg-white hover:bg-slate-50 border border-slate-200 p-6 rounded-[2.5rem] flex items-center justify-between transition-all active:scale-[0.98] shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-4 bg-indigo-50 text-indigo-600 rounded-2xl group-hover:bg-indigo-600 group-hover:text-white transition-all duration-300",children:a.jsx(Cn,{size:20})}),a.jsxs("div",{className:"text-left",children:[a.jsx("h4",{className:"text-xs font-black text-slate-900 uppercase tracking-widest",children:"Generate Print Artifact"}),a.jsx("p",{className:"text-[9px] text-slate-400 font-medium uppercase mt-1",children:"Official A4 Document for Client Dispatch"})]})]}),a.jsx("div",{className:"text-slate-200 group-hover:text-slate-900 group-hover:translate-x-2 transition-all",children:a.jsx(pE,{size:24})})]})]})},L_=({isOpen:e,onClose:t,previewHtml:n,invoice:r,onDownload:i,onEdit:o})=>{const c=O.useRef(null),u=O.useRef(null),[d,f]=O.useState(100),[h,m]=O.useState(!0);return O.useEffect(()=>{if(e&&u.current&&h){const x=()=>{var b;const v=((b=u.current)==null?void 0:b.clientWidth)||0,j=800;if(v<640)f(85);else if(v<j){const w=Math.floor(v/j*100)-5;f(Math.max(50,w))}else f(100)};return x(),window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)}},[e,h]),O.useEffect(()=>{if(e&&n&&c.current){const x=c.current,j=setTimeout(()=>{if(x.contentWindow&&x.contentWindow.document.body){const b=x.contentWindow.document.documentElement.scrollHeight;x.style.height=`${b+100}px`}},400);return()=>clearTimeout(j)}},[e,n,d]),!e||!n?null:a.jsx("div",{className:"fixed inset-0 z-[60] bg-slate-900/98 backdrop-blur-xl flex items-center justify-center p-0 sm:p-4 md:p-8 animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-slate-800 w-full max-w-6xl h-full sm:h-[95vh] sm:rounded-[2.5rem] flex flex-col shadow-2xl overflow-hidden border border-slate-700/50 relative",children:[a.jsxs("div",{className:"px-6 py-4 flex flex-wrap justify-between items-center border-b border-slate-700/50 bg-slate-800/80 backdrop-blur-md gap-4 z-20",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:t,className:"group p-2.5 bg-slate-700 hover:bg-slate-600 rounded-2xl text-white transition-all active:scale-95 flex items-center gap-2 pr-5 shadow-lg border border-slate-600",children:[a.jsx(vf,{size:18,className:"group-hover:-translate-x-1 transition-transform"}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Close"})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h3",{className:"font-black text-xs text-white uppercase tracking-widest leading-none",children:"Document Preview"}),a.jsxs("p",{className:"text-[9px] text-slate-400 font-black tracking-[0.3em] uppercase mt-1",children:["REF: ",r.InvoiceID]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[a.jsxs("div",{className:"hidden sm:flex items-center bg-slate-900/50 rounded-2xl border border-slate-700 p-1 mr-2",children:[a.jsx("button",{onClick:()=>{f(x=>Math.max(30,x-10)),m(!1)},className:"p-2 text-slate-400 hover:text-white transition-colors",title:"Zoom Out",children:a.jsx(_E,{size:16})}),a.jsxs("span",{className:"text-[10px] font-black text-slate-500 w-12 text-center",children:[d,"%"]}),a.jsx("button",{onClick:()=>{f(x=>Math.min(200,x+10)),m(!1)},className:"p-2 text-slate-400 hover:text-white transition-colors",title:"Zoom In",children:a.jsx(TE,{size:16})}),a.jsx("button",{onClick:()=>m(!h),className:`ml-1 p-2 rounded-xl transition-all ${h?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,title:"Toggle Auto-Fit",children:h?a.jsx(i_,{size:16}):a.jsx(r_,{size:16})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:o,className:"hidden md:block px-5 py-2.5 bg-slate-700 hover:bg-slate-600 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest border border-slate-600 transition-all active:scale-95",children:"Modify Data"}),a.jsxs("button",{onClick:i,className:"flex items-center px-6 py-2.5 bg-indigo-600 hover:bg-indigo-500 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all shadow-xl active:scale-95 border border-indigo-500",children:[a.jsx(kE,{size:16,className:"sm:mr-2"})," ",a.jsx("span",{className:"hidden sm:inline",children:"Print / PDF"})]})]})]})]}),a.jsxs("div",{ref:u,className:"flex-1 bg-slate-900/50 overflow-auto flex flex-col items-center p-4 sm:p-12 no-scrollbar scroll-smooth",children:[a.jsxs("div",{className:"relative bg-white shadow-[0_50px_100px_-20px_rgba(0,0,0,0.6)] transition-all duration-500 transform-gpu origin-top flex flex-col mb-20",style:{transform:`scale(${d/100})`,marginBottom:`calc(100px - ${100-d}%)`,width:"800px",minWidth:"800px"},children:[a.jsxs("div",{className:"absolute -top-8 left-0 right-0 flex justify-between items-center px-2 opacity-40",children:[a.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"Document Node Start"}),a.jsxs("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest",children:["A4 Scale: ",d,"%"]})]}),a.jsx("iframe",{ref:c,srcDoc:n,className:"w-full border-none block bg-white",style:{height:"auto",minHeight:"100vh"},title:"Digital Invoice",scrolling:"no"}),a.jsx("div",{className:"absolute -bottom-1 left-4 right-4 h-1 bg-slate-300/20 blur-sm rounded-full"})]}),a.jsx("div",{className:"h-24 w-full shrink-0"})]}),a.jsx("div",{className:"sm:hidden absolute bottom-6 left-1/2 -translate-x-1/2 pointer-events-none z-30 flex flex-col items-center gap-2",children:a.jsxs("div",{className:"bg-slate-800/90 backdrop-blur-md px-4 py-2 rounded-full border border-slate-700 shadow-2xl flex items-center gap-3",children:[a.jsx("div",{className:"w-1 h-1 rounded-full bg-indigo-500 animate-ping"}),a.jsx("span",{className:"text-[9px] font-black text-slate-300 uppercase tracking-widest",children:"Scroll Horizontally to Read"})]})}),a.jsx("div",{className:"absolute top-1/2 right-4 -translate-y-1/2 hidden xl:block opacity-20 hover:opacity-100 transition-opacity",children:a.jsxs("div",{className:"flex flex-col items-center gap-4 py-8 px-2 bg-slate-800 border border-slate-700 rounded-full text-slate-500",children:[a.jsx("span",{className:"rotate-90 text-[8px] font-black uppercase tracking-widest whitespace-nowrap",children:"End of Document"}),a.jsx("div",{className:"w-px h-20 bg-gradient-to-b from-slate-700 to-transparent"})]})})]})})},Fy=(e,t,n)=>{const r=(n==null?void 0:n.CompanyName)||"Sally Chanza Business Caf",i=((n==null?void 0:n.Address)||"House #39 Salam Park, Lusaka - Zambia").split("|"),o=(n==null?void 0:n.Phone)||"260966862012",c=(n==null?void 0:n.Email)||"notifications@sallychanza.com",u=(n==null?void 0:n.Website)||"www.sallychanza.com",d=(n==null?void 0:n.Logo)||null,f=e.DocType===st.Quotation,h=e.Status===jt.Paid,m=e.Status===jt.Overdue;let x=e.DocType||"Invoice";h&&!f&&(x="Payment Receipt");const v=Number(e.PeriodMonths)||1,j=Number(e.NoOfUnits)||1,b=Number(e.UnitPrice)||0,w=b*j*v||e.TotalAmount||0,y=Number(e.AmountPaid)||0,k=h?0:e.BalanceDue!==void 0?e.BalanceDue:Math.max(0,w-y),P=(t==null?void 0:t.CompanyName)||e.ClientName||"Valued Client",C=e.Description||(b>0&&j>0?`Fleet Management Service (${j} Units for ${v} Month${v>1?"s":""})`:"Professional Technical Services");return`
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="UTF-8">
      <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap');
        @page { size: A4; margin: 0; }
        body { font-family: 'Inter', sans-serif; color: #1e293b; margin: 0; padding: 0; background: #ffffff; line-height: 1.5; }
        .page { width: 210mm; min-height: 297mm; padding: 20mm; margin: 0 auto; box-sizing: border-box; position: relative; }
        
        .header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 40px; }
        .company-info h1 { font-size: 16pt; font-weight: 800; margin: 0; color: #0f172a; }
        .company-info p { font-size: 9pt; color: #64748b; margin: 2px 0; }
        
        .doc-meta { text-align: right; }
        .status-pill { display: inline-block; padding: 4px 12px; border-radius: 4px; font-size: 8pt; font-weight: 700; text-transform: uppercase; margin-bottom: 10px; }
        .status-paid { background: #dcfce7; color: #166534; border: 1px solid #bbf7d0; }
        .status-pending { background: #fef3c7; color: #92400e; border: 1px solid #fde68a; }
        .status-overdue { background: #fee2e2; color: #991b1b; border: 1px solid #fecaca; }

        .doc-meta h2 { font-size: 22pt; font-weight: 900; margin: 0; color: #0f172a; text-transform: uppercase; }
        .meta-data { margin-top: 10px; font-size: 10pt; display: grid; gap: 4px; }

        .billing-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 40px; margin-bottom: 40px; padding-top: 20px; border-top: 1px solid #f1f5f9; }
        .section-label { font-size: 8pt; font-weight: 700; color: #94a3b8; text-transform: uppercase; margin-bottom: 8px; display: block; }
        .client-name { font-size: 12pt; font-weight: 700; color: #0f172a; margin-bottom: 4px; }
        .address-text { font-size: 9pt; color: #475569; }

        .items-table { width: 100%; border-collapse: collapse; margin-bottom: 30px; }
        .items-table th { background: #f8fafc; text-align: left; padding: 12px; font-size: 8pt; font-weight: 700; color: #64748b; text-transform: uppercase; border-bottom: 1px solid #e2e8f0; }
        .items-table td { padding: 15px 12px; font-size: 10pt; border-bottom: 1px solid #f1f5f9; }

        .summary-container { display: flex; justify-content: flex-end; }
        .summary-box { width: 300px; padding: 20px; border: 1px solid #e2e8f0; border-radius: 12px; }
        .summary-row { display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 9pt; color: #475569; }
        .summary-row.total { border-top: 1px solid #e2e8f0; padding-top: 12px; margin-top: 12px; font-size: 12pt; font-weight: 800; color: #0f172a; }
        .next-due-banner { background: #f0f9ff; border: 1px solid #bae6fd; padding: 12px; border-radius: 8px; margin-top: 20px; color: #0369a1; font-size: 9pt; text-align: center; }

        .footer { position: absolute; bottom: 20mm; left: 20mm; right: 20mm; border-top: 1px solid #f1f5f9; padding-top: 15px; text-align: center; font-size: 8pt; color: #94a3b8; }
      </style>
    </head>
    <body>
      <div class="page">
        <div class="header">
          <div class="company-info">
            ${d?`<img src="${d}" style="height:50px; margin-bottom:10px;" />`:""}
            <h1>${r}</h1>
            ${i.map(S=>`<p>${S.trim()}</p>`).join("")}
            <p>${o} | ${c}</p>
          </div>
          <div class="doc-meta">
            <div class="status-pill ${h?"status-paid":m?"status-overdue":"status-pending"}">
               ${h?"Payment Confirmed":m?"Payment Overdue":"Payment Pending"}
            </div>
            <h2>${x}</h2>
            <div class="meta-data">
              <div><strong>No:</strong> ${e.InvoiceID}</div>
              <div><strong>Date:</strong> ${Ae(e.InvoiceDate)}</div>
              <div><strong>Valid Until:</strong> ${Ae(e.DueDate)}</div>
            </div>
          </div>
        </div>

        <div class="billing-grid">
          <div>
            <span class="section-label">Bill To</span>
            <div class="client-name">${P}</div>
            <div class="address-text">${(t==null?void 0:t.BillingAddress)||"N/A"}</div>
            <div class="address-text">Email: ${(t==null?void 0:t.Email)||"N/A"}</div>
          </div>
          <div>
            <span class="section-label">Account Details</span>
            <div class="address-text"><strong>Contract Ref:</strong> ${e.ContractID||"ADHOC"}</div>
            <div class="address-text"><strong>Service Type:</strong> ${e.ServiceType||"Unified Managed Fleet"}</div>
          </div>
        </div>

        <table class="items-table">
          <thead>
            <tr>
              <th style="width: 60%;">Description of Service</th>
              <th style="text-align: center; width: 15%;">Unit Price</th>
              <th style="text-align: center; width: 10%;">Qty</th>
              <th style="text-align: right; width: 15%;">Total</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <div style="font-weight: 600;">${C}</div>
                <div style="font-size: 8pt; color: #94a3b8; margin-top: 4px;">Includes priority technical support and system access.</div>
              </td>
              <td style="text-align: center;">K ${Oe(b)}</td>
              <td style="text-align: center;">${j}</td>
              <td style="text-align: right; font-weight: 600;">K ${Oe(w)}</td>
            </tr>
          </tbody>
        </table>

        <div class="summary-container">
          <div class="summary-box">
            <div class="summary-row"><span>Subtotal</span><span>K ${Oe(w)}</span></div>
            <div class="summary-row" style="color: #10b981;"><span>Total Paid</span><span>- K ${Oe(y)}</span></div>
            <div class="summary-row total">
              <span>${h?"Balance":"Amount Due"}</span>
              <span>K ${Oe(h?0:k)}</span>
            </div>
            
            ${h?`
              <div class="next-due-banner">
                <strong>NEXT PAYMENT DUE:</strong> ${Ae(e.DueDate)}
              </div>
            `:""}
          </div>
        </div>

        <div class="footer">
          Thank you for your business. For any inquiries, please contact us at ${c}<br>
          ${u}
        </div>
      </div>
    </body>
    </html>
  `},B_=({isOpen:e,onClose:t,mode:n,invoice:r,clients:i,contracts:o,systemSettings:c,onSave:u,type:d=st.Invoice})=>{const[f,h]=O.useState(n),[m,x]=O.useState({}),[v,j]=O.useState(!1),[b,w]=O.useState(!1),[y,k]=O.useState(!1),[P,C]=O.useState(navigator.onLine);if(O.useEffect(()=>{const R=()=>C(navigator.onLine);return window.addEventListener("online",R),window.addEventListener("offline",R),()=>{window.removeEventListener("online",R),window.removeEventListener("offline",R)}},[]),O.useEffect(()=>{if(n==="add"){const R=new Date().toISOString().split("T")[0],$=new Date;$.setDate($.getDate()+7),x({InvoiceID:`${d===st.Quotation?"QU":d===st.Proforma?"PR":"INV"}-${Math.floor(1e4+Math.random()*9e4)}`,InvoiceDate:R,DueDate:$.toISOString().split("T")[0],Status:jt.Pending,DocType:d,PeriodMonths:1,UnitPrice:0,NoOfUnits:0,TotalAmount:0,AmountPaid:0,BalanceDue:0,Description:"",ServiceType:""}),w(!1),k(!0)}else r&&(x({...r}),w(!1),k(!1));h(n)},[n,r,e,d]),O.useEffect(()=>{if(f==="view")return;const R=Number(m.UnitPrice)||0,$=Number(m.NoOfUnits)||0,B=Number(m.PeriodMonths)||1,L=R*$*B,F=Number(m.AmountPaid)||0;x(Y=>({...Y,TotalAmount:L,BalanceDue:L-F}))},[m.UnitPrice,m.NoOfUnits,m.PeriodMonths,m.AmountPaid,f]),!e)return null;const S=R=>{var L;if(f!=="add"||v)return;const $=((L=m.InvoiceID)==null?void 0:L.split("-")[1])||Math.floor(1e4+Math.random()*9e4),B=R===st.Quotation?"QU":R===st.Proforma?"PR":"INV";x(F=>({...F,DocType:R,InvoiceID:`${B}-${$}`}))},E=R=>{if(v)return;const $=i.find(L=>L.ClientID===R),B=o.find(L=>L.ClientID===R&&L.ContractStatus==="Active");x(L=>({...L,ClientID:R,ClientName:($==null?void 0:$.CompanyName)||"",ContractID:(B==null?void 0:B.ContractID)||"ADHOC",ServiceType:(B==null?void 0:B.ServiceType)||"Unified Managed Fleet",Description:B?`${B.PlanType} - Connectivity Services`:L.Description,UnitPrice:B?B.UnitPrice:L.UnitPrice,NoOfUnits:B?B.NoOfUnits:L.NoOfUnits}))},D=i.map(R=>({value:R.ClientID,label:R.CompanyName,disabled:R.Status!==ln.Active,subtext:R.ClientType})),T=R=>{R.preventDefault(),!(v||!P)&&(j(!0),u(m,y).then(t).finally(()=>j(!1)))},M=i.find(R=>R.ClientID===m.ClientID),z=Fy(m,M,c);return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col overflow-hidden animate-in fade-in zoom-in duration-300",children:[a.jsxs("div",{className:"flex justify-between items-center p-8 border-b border-gray-100 bg-gray-50/50",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:`p-3 rounded-2xl shadow-lg ${f==="view"?"bg-indigo-600":"bg-slate-900"} text-white`,children:m.DocType===st.Quotation?a.jsx(gE,{size:24}):m.DocType===st.Proforma?a.jsx(vE,{size:24}):a.jsx(Cn,{size:24})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:f==="view"?`${m.DocType} Overview`:f==="edit"?`Edit ${m.DocType}`:`New ${m.DocType}`}),a.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-0.5",children:["Reference: ",m.InvoiceID]})]})]}),a.jsx("button",{onClick:t,disabled:v,className:"p-2 text-slate-300 hover:text-slate-900 transition-colors disabled:opacity-30",children:a.jsx(bt,{size:24})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-8 no-scrollbar",children:f==="view"?a.jsx(z_,{invoice:m,onPreview:()=>w(!0)}):a.jsx("fieldset",{disabled:v,className:"space-y-8",children:a.jsxs("form",{id:"invoice-form",onSubmit:T,className:"space-y-8",children:[f==="add"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.2em] block mb-2",children:"Select Document Type"}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:[st.Invoice,st.Proforma,st.Quotation].map(R=>a.jsx("button",{type:"button",onClick:()=>S(R),className:`py-3 rounded-xl text-[9px] font-black uppercase tracking-widest border transition-all ${m.DocType===R?"bg-slate-900 border-slate-900 text-white shadow-xl":"bg-slate-50 border-slate-100 text-slate-400 hover:bg-slate-100"}`,children:R},R))})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{className:"col-span-1 md:col-span-2",children:a.jsx(Pc,{label:"Select Client",required:!0,options:D,value:m.ClientID||"",onChange:E})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Document Date"}),a.jsx("input",{type:"date",value:m.InvoiceDate,onChange:R=>x({...m,InvoiceDate:R.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-100 rounded-xl outline-none"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:m.DocType===st.Quotation?"Validity Expiry":"Payment Due Date"}),a.jsx("input",{type:"date",value:m.DueDate,onChange:R=>x({...m,DueDate:R.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-100 rounded-xl outline-none"})]}),a.jsxs("div",{className:"col-span-1 md:col-span-2 space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Service Description"}),a.jsx("input",{required:!0,type:"text",value:m.Description,onChange:R=>x({...m,Description:R.target.value}),placeholder:"e.g. Annual Fleet Tracking Service",className:"w-full p-3 bg-slate-50 border border-slate-100 rounded-xl outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Rate per Unit (K)"}),a.jsx("input",{type:"number",step:"0.01",value:m.UnitPrice,onChange:R=>x({...m,UnitPrice:Number(R.target.value)}),className:"w-full p-3 bg-slate-50 border border-slate-100 rounded-xl outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Units / Quantity"}),a.jsx("input",{type:"number",value:m.NoOfUnits,onChange:R=>x({...m,NoOfUnits:Number(R.target.value)}),className:"w-full p-3 bg-slate-50 border border-slate-100 rounded-xl outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Billing Period (Months)"}),a.jsx("input",{type:"number",min:"1",value:m.PeriodMonths,onChange:R=>x({...m,PeriodMonths:Number(R.target.value)}),className:"w-full p-3 bg-indigo-50 border border-indigo-100 text-indigo-900 rounded-xl outline-none font-black"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Current Status"}),a.jsxs("select",{value:m.Status,onChange:R=>x({...m,Status:R.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-100 rounded-xl outline-none text-[11px] font-bold uppercase tracking-widest",children:[a.jsx("option",{value:jt.Pending,children:"Pending"}),a.jsx("option",{value:jt.Paid,children:"Paid"}),a.jsx("option",{value:jt.Partial,children:"Partial"}),a.jsx("option",{value:jt.Overdue,children:"Overdue"})]})]})]}),a.jsxs("div",{className:"bg-slate-900 rounded-3xl p-6 text-white shadow-2xl relative overflow-hidden border border-slate-800",children:[a.jsx("div",{className:"absolute right-0 top-0 p-6 opacity-5 rotate-12",children:a.jsx(Ac,{size:80})}),a.jsxs("div",{className:"relative z-10 flex flex-col sm:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`p-3 rounded-2xl transition-all duration-500 ${y?"bg-indigo-500 text-white":"bg-slate-800 text-slate-600"}`,children:a.jsx(Rr,{size:20,className:y?"animate-pulse":""})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-[11px] font-black uppercase tracking-widest",children:"Notification Protocol"}),a.jsx("p",{className:`text-[9px] font-bold uppercase mt-0.5 ${y?"text-indigo-400":"text-slate-500"}`,children:y?`Sending to: ${(M==null?void 0:M.Email)||"No Email Found"}`:"Internal Database Entry Only"})]})]}),a.jsx("button",{type:"button",disabled:v,onClick:()=>k(!y),className:`relative inline-flex h-7 w-12 items-center rounded-full transition-colors focus:outline-none ${y?"bg-indigo-500":"bg-slate-800"}`,children:a.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform duration-200 ease-in-out shadow-sm ${y?"translate-x-6":"translate-x-1"}`})})]})]})]})})}),a.jsxs("div",{className:"p-8 border-t border-gray-100 bg-gray-50 flex flex-col sm:flex-row justify-end items-center gap-4 shrink-0",children:[!P&&f!=="view"&&a.jsxs("div",{className:"flex items-center gap-2 text-rose-500 font-black text-[9px] uppercase tracking-widest mb-2 sm:mb-0",children:[a.jsx(Hi,{size:14})," Offline Mode: Registry Locked"]}),f==="view"?a.jsx(a.Fragment,{children:a.jsxs("button",{onClick:()=>h("edit"),className:"px-10 py-3.5 bg-slate-900 text-white rounded-2xl font-black text-[11px] uppercase tracking-widest shadow-xl flex items-center gap-2",children:[a.jsx(PE,{size:16})," Edit Document"]})}):a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:t,disabled:v,className:"px-8 py-3.5 text-slate-400 bg-white border border-slate-100 rounded-2xl font-black text-[11px] uppercase tracking-widest",children:"Cancel"}),a.jsxs("button",{form:"invoice-form",type:"submit",disabled:v||!P,className:`px-10 py-3.5 rounded-2xl font-black text-[11px] uppercase tracking-widest shadow-xl flex items-center justify-center min-w-[160px] ${P?"bg-indigo-600 text-white":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:[v&&a.jsx(Dt,{size:14,className:"animate-spin mr-2"}),v?"Processing...":f==="add"?y?"Dispatch & Save":"Execute Only":"Execute Changes"]})]})]})]})}),a.jsx(L_,{isOpen:b,onClose:()=>w(!1),previewHtml:z,invoice:m,onDownload:()=>{const R=window.open("","_blank");R&&(R.document.write(z),R.document.close(),R.onload=()=>R.print())},onEdit:()=>{w(!1),h("edit")}})]})},F_=({isOpen:e,onClose:t,mode:n,vehicle:r,clients:i,onSave:o,onDelete:c})=>{const[u,d]=O.useState(n),[f,h]=O.useState({}),[m,x]=O.useState(!1),[v,j]=O.useState(navigator.onLine),b=O.useRef(null),w=O.useRef(null);O.useEffect(()=>{const M=()=>j(navigator.onLine);return window.addEventListener("online",M),window.addEventListener("offline",M),()=>{window.removeEventListener("online",M),window.removeEventListener("offline",M)}},[]),O.useEffect(()=>{e?(w.current!==((r==null?void 0:r.VehicleID)||"new")&&(d(n),w.current=(r==null?void 0:r.VehicleID)||"new",n==="add"?h({VehicleID:`VH-${Math.floor(2e3+Math.random()*9e3)}`,InstallationDate:new Date().toISOString().split("T")[0],Status:Ds.Active,Year:new Date().getFullYear().toString(),SimNumber:"",NetworkProvider:"",Photo:""}):r&&h({...r})),x(!1)):w.current=null},[e,r,n]);const y=i.map(M=>({value:M.ClientID,label:M.CompanyName,disabled:M.Status!==ln.Active,subtext:M.Status!==ln.Active?"Inactive Account":M.ClientType}));if(!e)return null;const k=M=>{if(m)return;const{name:z,value:R}=M.target;if(z==="NumberPlate"){h($=>({...$,[z]:R.toUpperCase()}));return}h($=>({...$,[z]:R}))},P=M=>{if(m)return;const z=i.find(R=>R.ClientID===M);h(R=>({...R,ClientID:M,ClientName:(z==null?void 0:z.CompanyName)||""}))},C=M=>{var R;if(m)return;const z=(R=M.target.files)==null?void 0:R[0];if(z){const $=new FileReader;$.onloadend=()=>{h(B=>({...B,Photo:$.result}))},$.readAsDataURL(z)}},S=M=>{m||(M.stopPropagation(),h(z=>({...z,Photo:""})))},E=()=>{var M;u!=="view"&&!m&&((M=b.current)==null||M.click())},D=async M=>{if(M.preventDefault(),!(m||!v)&&f.NumberPlate&&f.ClientID){x(!0);try{await o(f),t()}finally{x(!1)}}},T=({icon:M,label:z,value:R})=>a.jsxs("div",{className:"flex items-center p-3 border-b border-gray-100 last:border-0",children:[a.jsx("div",{className:"text-gray-400 mr-3",children:a.jsx(M,{size:18})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs text-gray-500 uppercase font-medium",children:z}),a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:R||"N/A"})]})]});return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col overflow-hidden animate-in fade-in zoom-in duration-200",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100 bg-gray-50/50",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${u==="view"?"bg-orange-100 text-orange-600":"bg-indigo-100 text-indigo-600"}`,children:a.jsx(yr,{size:24})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-slate-800",children:u==="view"?"Vehicle Details":u==="edit"?"Edit Vehicle":"Register Vehicle"}),a.jsx("p",{className:"text-sm text-gray-500",children:u==="view"?`Viewing ${f.NumberPlate}`:"Manage GPS/Dashcam installation"})]})]}),a.jsx("button",{onClick:t,disabled:m,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors disabled:opacity-30",children:a.jsx(bt,{size:24})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:u==="view"?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-5 text-white shadow-lg relative overflow-hidden group",children:[a.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:a.jsx(yr,{size:80})}),f.Photo?a.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 w-20 h-20 sm:w-24 sm:h-24 rounded-lg overflow-hidden border-2 border-white/20 shadow-xl hidden sm:block",children:a.jsx("img",{src:f.Photo,alt:"Vehicle",className:"w-full h-full object-cover"})}):null,a.jsxs("div",{className:"relative z-10 flex flex-col h-full justify-between",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-[10px] uppercase tracking-widest font-bold",children:"License Plate"}),a.jsx("h3",{className:"text-2xl font-mono font-bold tracking-wider text-white border-2 border-white/50 inline-block px-3 py-1 rounded mt-1 shadow-sm",children:f.NumberPlate})]}),a.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider ${f.Status==="Active"?"bg-green-500 text-white":"bg-yellow-500 text-black"}`,children:f.Status})]}),f.Photo&&a.jsx("div",{className:"sm:hidden mb-4 w-16 h-16 rounded-lg overflow-hidden border-2 border-white/20",children:a.jsx("img",{src:f.Photo,alt:"Vehicle",className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm border-t border-white/10 pt-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-[10px] uppercase font-bold tracking-tight",children:"Make/Model"}),a.jsxs("p",{className:"font-semibold text-white/90",children:[f.Year," ",f.Make," ",f.Model]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-[10px] uppercase font-bold tracking-tight",children:"Client Owner"}),a.jsx("p",{className:"font-semibold text-white/90 truncate max-w-[120px]",children:f.ClientName})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 rounded-xl border border-gray-100 p-4",children:[a.jsxs("h4",{className:"text-sm font-bold text-gray-800 mb-2 flex items-center",children:[a.jsx($l,{size:16,className:"mr-2"})," Device Configuration"]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[a.jsx(T,{icon:J4,label:"Device Serial / IMEI",value:f.DeviceSerial}),a.jsx(T,{icon:Cn,label:"Service Type",value:f.ServiceType}),a.jsx(T,{icon:zr,label:"Installation Date",value:Ae(f.InstallationDate)})]})]}),a.jsxs("div",{className:"bg-blue-50 rounded-xl border border-blue-100 p-4",children:[a.jsxs("h4",{className:"text-sm font-bold text-blue-800 mb-2 flex items-center",children:[a.jsx(oa,{size:16,className:"mr-2"})," SIM Connectivity"]}),a.jsxs("div",{className:"bg-white rounded-lg border border-blue-200",children:[a.jsx(T,{icon:oa,label:"SIM Number",value:f.SimNumber}),a.jsx(T,{icon:AE,label:"Network",value:f.NetworkProvider})]})]})]})]}):a.jsx("fieldset",{disabled:m,children:a.jsx("form",{id:"vehicle-form",onSubmit:D,className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"col-span-1 md:col-span-2",children:[a.jsx("input",{type:"file",accept:"image/*",capture:"environment",ref:b,onChange:C,className:"hidden"}),a.jsx("div",{onClick:E,className:`relative overflow-hidden group cursor-pointer border-2 border-dashed rounded-2xl transition-all h-32 flex flex-col items-center justify-center ${f.Photo?"border-transparent":"border-gray-200 hover:border-indigo-300 bg-gray-50 hover:bg-indigo-50/30"} ${m?"opacity-50 cursor-not-allowed":""}`,children:f.Photo?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:f.Photo,alt:"Captured",className:"absolute inset-0 w-full h-full object-cover"}),!m&&a.jsxs("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-4",children:[a.jsx("div",{className:"p-2 bg-white rounded-full text-indigo-600",children:a.jsx(ev,{size:20})}),a.jsx("button",{type:"button",onClick:S,className:"p-2 bg-white rounded-full text-red-600 hover:scale-110 transition-transform",children:a.jsx(x_,{size:20})})]})]}):a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto w-10 h-10 bg-white rounded-xl shadow-sm border border-gray-100 flex items-center justify-center text-gray-400 group-hover:text-indigo-500 mb-2 transition-colors",children:a.jsx(ev,{size:24})}),a.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest group-hover:text-indigo-600 transition-colors",children:"Capture Vehicle Picture"})]})})]}),a.jsx("div",{className:"col-span-1 md:col-span-2 space-y-2",children:a.jsx(Pc,{label:"Client Owner",required:!0,options:y,value:f.ClientID||"",onChange:P,placeholder:"Search and Select Client..."})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"License Plate *"}),a.jsx("input",{required:!0,type:"text",name:"NumberPlate",value:f.NumberPlate||"",onChange:k,placeholder:"e.g. TX-990-ZZ",className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none font-mono uppercase"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Vehicle Status"}),a.jsxs("select",{name:"Status",value:f.Status,onChange:k,className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",children:[a.jsx("option",{value:Ds.Active,children:"Active"}),a.jsx("option",{value:Ds.Inactive,children:"Inactive"}),a.jsx("option",{value:Ds.Maintenance,children:"Maintenance"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Make"}),a.jsx("input",{type:"text",name:"Make",value:f.Make||"",onChange:k,placeholder:"Toyota",className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Model"}),a.jsx("input",{type:"text",name:"Model",value:f.Model||"",onChange:k,placeholder:"Corolla",className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Year"}),a.jsx("input",{type:"number",name:"Year",value:f.Year||"",onChange:k,className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Device Serial (IMEI)"}),a.jsx("input",{type:"text",name:"DeviceSerial",value:f.DeviceSerial||"",onChange:k,placeholder:"IMEI-...",className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Type (Contract)"}),a.jsx("input",{type:"text",name:"ServiceType",value:f.ServiceType||"",onChange:k,placeholder:"e.g. GPS Premium",className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),a.jsx("div",{className:"col-span-1 md:col-span-2",children:a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:[a.jsx("h4",{className:"text-sm font-bold text-blue-800 mb-3",children:"Tracker SIM Configuration"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"SIM Number"}),a.jsx("input",{type:"text",name:"SimNumber",value:f.SimNumber||"",onChange:k,placeholder:"09XX...",className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Network Provider"}),a.jsxs("select",{name:"NetworkProvider",value:f.NetworkProvider||"",onChange:k,className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",children:[a.jsx("option",{value:"",children:"-- Select --"}),a.jsx("option",{value:"MTN",children:"MTN"}),a.jsx("option",{value:"Airtel",children:"Airtel"}),a.jsx("option",{value:"Zamtel",children:"Zamtel"}),a.jsx("option",{value:"Other",children:"Other"})]})]})]})]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Installation Date"}),a.jsx("input",{type:"date",name:"InstallationDate",value:f.InstallationDate||"",onChange:k,className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]})]})})})}),a.jsxs("div",{className:"p-6 border-t border-gray-100 bg-gray-50 flex flex-col sm:flex-row justify-end items-center gap-3",children:[!v&&u!=="view"&&a.jsxs("div",{className:"flex items-center gap-2 text-rose-500 font-black text-[9px] uppercase tracking-widest mb-2 sm:mb-0",children:[a.jsx(Hi,{size:14})," Offline Mode: Registry Locked"]}),u==="view"?a.jsxs(a.Fragment,{children:[c&&a.jsxs("button",{onClick:()=>{confirm("Are you sure you want to delete this vehicle?")&&(c(f.VehicleID),t())},className:"flex items-center px-4 py-2 text-red-600 bg-red-50 hover:bg-red-100 rounded-lg transition-colors font-medium",children:[a.jsx(m_,{size:18,className:"mr-2"}),"Delete"]}),a.jsxs("button",{onClick:()=>d("edit"),className:"flex items-center px-6 py-2 bg-slate-900 text-white hover:bg-slate-800 rounded-lg transition-colors font-medium shadow-lg shadow-slate-900/20",children:[a.jsx(PE,{size:18,className:"mr-2"}),"Edit"]})]}):a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:t,disabled:m,type:"button",className:"px-5 py-2 text-gray-600 bg-white border border-gray-200 hover:bg-gray-50 rounded-lg transition-colors font-medium",children:"Cancel"}),a.jsxs("button",{form:"vehicle-form",type:"submit",disabled:m||!v,className:`flex items-center px-6 py-2 rounded-lg transition-colors font-medium shadow-lg min-w-[160px] justify-center ${v?"bg-blue-600 text-white hover:bg-blue-700 shadow-blue-600/20":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:[m?a.jsx(Dt,{size:18,className:"animate-spin mr-2"}):a.jsx(zy,{size:18,className:"mr-2"}),m?"Processing...":u==="add"?"Register Vehicle":"Save Changes"]})]})]})]})})},Yu=({icon:e,label:t,value:n})=>a.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-slate-50 last:border-0",children:[a.jsxs("div",{className:"flex items-center text-slate-400",children:[a.jsx(e,{size:12,className:"mr-2"}),a.jsx("span",{className:"text-[10px] font-medium uppercase tracking-wider",children:t})]}),a.jsx("span",{className:"text-xs font-medium text-slate-700",children:n||""})]}),U_=({isOpen:e,onClose:t,mode:n,payment:r,payments:i,invoices:o,contracts:c=[],clients:u,currentUser:d,onSave:f})=>{const[h,m]=O.useState(n),[x,v]=O.useState({}),[j,b]=O.useState(!1),[w,y]=O.useState(!0),[k,P]=O.useState(!1),[C,S]=O.useState(navigator.onLine);O.useEffect(()=>{const R=()=>S(navigator.onLine);return window.addEventListener("online",R),window.addEventListener("offline",R),()=>{window.removeEventListener("online",R),window.removeEventListener("offline",R)}},[]);const E=O.useMemo(()=>{if(!(!x.ClientID||x.ClientID==="WALK-IN"))return c.find(R=>pe(R.ClientID)===pe(x.ClientID)&&pe(R.ContractStatus)===pe(pn.Active))},[c,x.ClientID]),D=O.useMemo(()=>{if(!x.ClientID||x.ClientID==="WALK-IN")return null;const R=i.filter(F=>pe(F.ClientID)===pe(x.ClientID)).sort((F,Y)=>new Date(Y.Date).getTime()-new Date(F.Date).getTime()),$=R.length>0?R[0]:null,B=c.find(F=>pe(F.ClientID)===pe(x.ClientID)&&F.ContractStatus==="Active");let L=0;if(B&&B.ExpiryDate){const F=new Date(B.ExpiryDate),Y=new Date;L=Math.max(0,(F.getFullYear()-Y.getFullYear())*12+(F.getMonth()-Y.getMonth()))}return{lastPayDate:$==null?void 0:$.Date,nextRenewal:($==null?void 0:$.NextDueDate)||(B==null?void 0:B.PaymentDueDate),expiryDate:B==null?void 0:B.ExpiryDate,monthsRemaining:L,contractSigned:!!(B!=null&&B.ClientSign||B!=null&&B.ClientSignImage),status:(B==null?void 0:B.ContractStatus)||"No Active Plan"}},[x.ClientID,i,c]),T=O.useMemo(()=>{if(!x.MonthsCovered||x.MonthsCovered<=0)return null;const R=x.Date?new Date(x.Date):new Date;if(isNaN(R.getTime()))return null;const $=new Date(R);return $.setMonth($.getMonth()+Number(x.MonthsCovered)),$.toISOString().split("T")[0]},[x.Date,x.MonthsCovered]);O.useEffect(()=>{e&&(P(!1),y(!0),m(n),b(!1),n==="add"?v({PaymentID:`PAY-${Math.floor(1e4+Math.random()*9e4)}`,Date:new Date().toISOString().split("T")[0],Status:Os.Completed,Method:"Bank Transfer",Amount:0,MonthsCovered:1,AdditionalCost:0,Discount:0,Remarks:"",AgentID:d.id,Reference:"",ClientName:""}):r&&v({...r}))},[n,r,e,d]),O.useEffect(()=>{var W;if(h!=="add"||j||!E)return;const R=Number(E.NoOfUnits)||((W=E.AssetIDs)==null?void 0:W.length)||0,$=Number(E.UnitPrice)||0,B=Number(x.MonthsCovered)||1,L=Number(x.AdditionalCost)||0,F=Number(x.Discount)||0,Y=$*R*B+L-F;v(V=>({...V,Amount:Y,ContractID:E.ContractID,NoOfUnits:R,UnitPrice:$}))},[x.ClientID,E,h,j,x.MonthsCovered,x.AdditionalCost,x.Discount]);const M=R=>{const $=u.find(B=>B.ClientID===R);v(B=>({...B,ClientID:R,ClientName:($==null?void 0:$.CompanyName)||"",Amount:0,NoOfUnits:0,MonthsCovered:1,Remarks:""}))},z=async R=>{if(R.preventDefault(),!(k||!C)){P(!0);try{await f({...x,NextDueDate:T},w),t()}finally{P(!1)}}};return e?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white rounded-[2rem] shadow-2xl w-full max-w-md max-h-[95vh] flex flex-col overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"flex justify-between items-center px-6 py-5 border-b border-slate-100 bg-slate-50/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-slate-900 text-white rounded-xl",children:a.jsx(ha,{size:18})}),a.jsx("h2",{className:"text-sm font-medium text-slate-800 uppercase tracking-tight",children:"Record Payment"})]}),a.jsx("button",{onClick:t,disabled:k,className:"p-1 text-slate-300 hover:text-slate-900 transition-colors",children:a.jsx(bt,{size:24})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-6 no-scrollbar",children:h==="view"?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center py-6 bg-slate-50 border border-slate-100 rounded-2xl",children:[a.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-medium mb-1",children:"Total Received"}),a.jsxs("h1",{className:"text-3xl font-medium text-emerald-600 tracking-tighter",children:["K ",Oe(x.Amount)]}),a.jsx("div",{className:"mt-2",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-medium uppercase tracking-widest border ${x.Status==="Completed"?"bg-emerald-100 text-emerald-700 border-emerald-200":"bg-amber-100 text-amber-700 border-amber-200"}`,children:x.Status})})]}),a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-4 shadow-sm space-y-1",children:[a.jsx(Yu,{icon:Nt,label:"Client",value:x.ClientName}),a.jsx(Yu,{icon:zr,label:"Settlement Date",value:Ae(x.Date)}),a.jsx(Yu,{icon:$y,label:"Bank Reference",value:x.Reference}),x.Remarks&&a.jsx(Yu,{icon:Cn,label:"Notes",value:x.Remarks})]})]}):a.jsxs("form",{id:"payment-form",onSubmit:z,className:"space-y-5",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("label",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest ml-1",children:"Client Name"}),a.jsxs("button",{type:"button",onClick:()=>{b(!j),j||v({...x,ClientID:"WALK-IN",ClientName:""})},className:"flex items-center gap-1.5 text-[9px] font-medium uppercase text-indigo-600 hover:text-indigo-700 transition-colors",children:[j?a.jsx($i,{size:12}):a.jsx(DE,{size:12})," ",j?"Registry":"Guest Payment"]})]}),j?a.jsx("input",{required:!0,value:x.ClientName,onChange:R=>v({...x,ClientName:R.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-medium outline-none focus:ring-2 focus:ring-indigo-100 transition-all",placeholder:"Enter guest name..."}):a.jsx(Pc,{required:!0,options:u.map(R=>({value:R.ClientID,label:R.CompanyName,disabled:R.Status!==ln.Active})),value:x.ClientID||"",onChange:M,placeholder:"Select from registry..."})]}),D&&a.jsxs("div",{className:"bg-white border border-slate-100 rounded-2xl p-4 shadow-sm space-y-3 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"flex items-center justify-between pb-2 border-b border-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`p-1.5 rounded-lg ${D.contractSigned?"bg-emerald-50 text-emerald-600":"bg-amber-50 text-amber-600"}`,children:D.contractSigned?a.jsx(hn,{size:12}):a.jsx(Sn,{size:12})}),a.jsxs("span",{className:"text-[10px] font-medium text-slate-700 uppercase tracking-tight",children:["Status: ",D.status]})]}),a.jsxs("span",{className:"text-[9px] font-medium text-slate-400 uppercase",children:[D.monthsRemaining," Mo Remaining"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[8px] font-medium text-slate-400 uppercase tracking-widest",children:"Last Activity"}),a.jsx("p",{className:"text-[10px] font-medium text-slate-700",children:Ae(D.lastPayDate)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[8px] font-medium text-slate-400 uppercase tracking-widest",children:"Next Renewal Goal"}),a.jsx("p",{className:"text-[10px] font-medium text-indigo-600",children:Ae(D.nextRenewal)})]})]})]}),E&&a.jsxs("div",{className:"bg-slate-50 border border-slate-200 p-4 rounded-2xl space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest mb-0.5",children:"Active Service"}),a.jsxs("h4",{className:"text-xs font-medium text-slate-900",children:[E.PlanType,"  ",x.NoOfUnits," Units"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest mb-0.5",children:"Base Rate"}),a.jsxs("h4",{className:"text-xs font-medium text-slate-900",children:["K",Oe(E.UnitPrice)]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-slate-200",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest ml-1",children:"Period Paid (Months)"}),a.jsx("input",{type:"number",min:"1",value:x.MonthsCovered,onChange:R=>v({...x,MonthsCovered:Number(R.target.value)}),className:"w-full p-2.5 bg-white border border-slate-200 rounded-xl text-sm font-medium text-indigo-600 outline-none"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest ml-1",children:"Extended Expiry"}),a.jsxs("div",{className:"w-full p-2.5 bg-indigo-50/50 rounded-xl text-[11px] font-medium text-indigo-700 flex items-center gap-2 border border-indigo-100",children:[a.jsx($t,{size:14})," ",T?Ae(T):"N/A"]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest ml-1",children:"Payment Date"}),a.jsx("input",{required:!0,type:"date",value:x.Date,onChange:R=>v({...x,Date:R.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl text-xs font-medium outline-none"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest ml-1",children:"Method"}),a.jsxs("select",{value:x.Method,onChange:R=>v({...x,Method:R.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl text-xs font-medium outline-none",children:[a.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),a.jsx("option",{value:"Mobile Money",children:"Mobile Money"}),a.jsx("option",{value:"Cash",children:"Cash"}),a.jsx("option",{value:"Card",children:"Card"})]})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest ml-1",children:"Outstanding Invoices"}),a.jsxs("select",{value:x.InvoiceID||"",onChange:R=>v({...x,InvoiceID:R.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl text-xs font-medium outline-none",children:[a.jsx("option",{value:"",children:"-- Apply to Future Cycle --"}),o.filter(R=>pe(R.ClientID)===pe(x.ClientID)&&R.Status!=="Paid").map(R=>a.jsxs("option",{value:R.InvoiceID,children:[R.InvoiceID," (Balance: K",Oe(R.BalanceDue),")"]},R.InvoiceID))]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest ml-1",children:"Bank Reference ID"}),a.jsx("input",{required:!0,type:"text",value:x.Reference||"",onChange:R=>v({...x,Reference:R.target.value}),placeholder:"Unique identifier...",className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-medium text-indigo-600 outline-none focus:ring-2 focus:ring-indigo-100"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest ml-1",children:"Notes"}),a.jsx("textarea",{value:x.Remarks||"",onChange:R=>v({...x,Remarks:R.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl text-sm outline-none resize-none h-20 focus:ring-2 focus:ring-indigo-100 font-medium",placeholder:"Keep blank for default..."})]}),a.jsxs("div",{className:"bg-slate-900 p-5 rounded-[2rem] flex justify-between items-center text-white shadow-xl relative overflow-hidden",children:[a.jsx("div",{className:"absolute right-0 top-0 p-5 opacity-5 rotate-12",children:a.jsx(yf,{size:48})}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("p",{className:"text-[10px] font-medium text-slate-500 uppercase tracking-widest mb-1 leading-none",children:"Total Settlement"}),a.jsxs("h4",{className:"text-2xl font-medium text-emerald-400 leading-none tracking-tighter",children:["K ",Oe(x.Amount)]})]}),a.jsxs("div",{className:"relative z-10 flex flex-col items-end gap-1",children:[a.jsx("span",{className:"text-[8px] font-medium text-slate-500 uppercase",children:"Notify Client"}),a.jsx("button",{type:"button",onClick:()=>y(!w),className:`h-5 w-10 rounded-full relative transition-colors ${w?"bg-emerald-500":"bg-slate-700"}`,children:a.jsx("span",{className:`absolute top-0.5 h-4 w-4 rounded-full bg-white transition-all ${w?"right-0.5":"left-0.5"}`})})]})]})]})}),a.jsxs("div",{className:"px-6 py-5 border-t border-slate-100 bg-slate-50/50 flex justify-end gap-3 shrink-0",children:[a.jsx("button",{onClick:t,disabled:k,className:"px-5 py-2.5 text-[10px] font-medium uppercase text-slate-400 hover:text-slate-600 transition-colors",children:"Cancel"}),h!=="view"&&a.jsxs("button",{form:"payment-form",type:"submit",disabled:k||!C,className:`px-10 py-2.5 rounded-xl text-[10px] font-medium uppercase shadow-xl flex items-center gap-2 transition-all active:scale-95 ${C?"bg-slate-900 text-white hover:bg-black":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:[k?a.jsx(Dt,{size:14,className:"animate-spin"}):a.jsx(hn,{size:14}),k?"Processing...":"Finalize Settlement"]})]})]})}):null},q_=({formData:e,isReadOnly:t,duration:n,onDurationChange:r,handleChange:i})=>a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"col-span-1 sm:col-span-2 space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Full Name"}),a.jsx("input",{type:"text",name:"AgentName",value:e.AgentName||"",onChange:i,disabled:t,className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm outline-none focus:ring-1 focus:ring-indigo-500",placeholder:"e.g. John Doe"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Account Role"}),a.jsxs("select",{name:"Role",value:e.Role,onChange:i,disabled:t,className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm outline-none",children:[a.jsx("option",{value:"Agent",children:"Agent"}),a.jsx("option",{value:"Partner",children:"Partner"}),a.jsx("option",{value:"Admin",children:"Admin"}),a.jsx("option",{value:"Support",children:"Support"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Experience Level"}),a.jsxs("select",{name:"ExperienceLevel",value:e.ExperienceLevel||"Trainee",onChange:i,disabled:t||e.Role==="Partner",className:`w-full p-2 border rounded-lg text-sm outline-none ${e.Role==="Partner"?"bg-slate-100 text-slate-500 cursor-not-allowed border-slate-200":"bg-slate-50 border-slate-200"}`,children:[a.jsx("option",{value:"Trainee",children:"Trainee"}),a.jsx("option",{value:"Independent",children:"Independent"}),a.jsx("option",{value:"Mentor",children:"Mentor"}),a.jsx("option",{value:"Lead",children:"Lead"}),a.jsx("option",{value:"Partner",children:"Partner"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Department"}),a.jsx("input",{type:"text",name:"Department",value:e.Department||"",onChange:i,disabled:t,className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm outline-none",placeholder:"Sales / Ops"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Email Address"}),a.jsx("input",{type:"email",name:"Email",value:e.Email||"",onChange:i,disabled:t,className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm outline-none",placeholder:"name@company.com"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Phone Number"}),a.jsx("input",{type:"text",name:"Phone",value:e.Phone||"",onChange:i,disabled:t,className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm outline-none",placeholder:"+260..."})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Agreement Start Date"}),a.jsx("input",{type:"date",name:"StartDate",value:Ll(e.StartDate),onChange:i,disabled:t,className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm outline-none"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Duration (Months)"}),a.jsx("input",{type:"number",min:"1",value:n,onChange:o=>r(o.target.value),disabled:t,className:"w-full p-2 bg-indigo-50 border border-indigo-100 rounded-lg text-sm outline-none text-indigo-700 font-semibold",placeholder:"e.g. 12"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-slate-600 italic",children:"Agreement End Date (Calculated)"}),a.jsx("input",{type:"date",name:"EndDate",value:Ll(e.EndDate),readOnly:!0,disabled:!0,className:"w-full p-2 bg-slate-100 border border-slate-200 rounded-lg text-sm outline-none font-semibold text-slate-500 cursor-not-allowed shadow-inner"})]}),a.jsxs("div",{className:"col-span-1 sm:col-span-2 space-y-1",children:[a.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Professional Notes"}),a.jsx("textarea",{name:"Notes",value:e.Notes||"",onChange:i,disabled:t,className:"w-full h-20 p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm outline-none resize-none",placeholder:"Optional notes regarding staff background or scope..."})]})]}),W_=({formData:e,isReadOnly:t,handleChange:n,permissions:r,handlePermissionToggle:i,defaultPermissions:o})=>a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"p-4 bg-slate-900 rounded-xl text-white",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(Iy,{size:16,className:"text-indigo-400"}),a.jsx("h3",{className:"text-sm font-semibold",children:"Login Details"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-medium text-slate-400 uppercase",children:"Temp Password"}),a.jsx("input",{type:"text",name:"Password",value:e.Password||"",onChange:n,disabled:t,className:"w-full bg-white/10 border border-white/10 p-2 rounded-lg text-sm font-mono"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-medium text-slate-400 uppercase",children:"Account Status"}),a.jsxs("select",{name:"Status",value:e.Status,onChange:n,disabled:t,className:"w-full bg-white/10 border border-white/10 p-2 rounded-lg text-sm",children:[a.jsx("option",{className:"text-black",value:"Active",children:"Active"}),a.jsx("option",{className:"text-black",value:"Inactive",children:"Inactive"})]})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2 border-b border-slate-100 pb-1",children:[a.jsx(Di,{size:14,className:"text-slate-400"}),a.jsx("h3",{className:"text-xs font-semibold text-slate-700",children:"Permissions"})]}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:Object.keys(o).map(c=>a.jsxs("div",{className:"p-2 border border-slate-100 rounded-lg bg-slate-50/50",children:[a.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase mb-2 truncate",children:c.replace("_"," ")}),a.jsx("div",{className:"flex flex-wrap gap-1",children:["view","create","update"].map(u=>{var d;return a.jsx("button",{type:"button",onClick:()=>i(c,u),className:`px-1.5 py-0.5 rounded text-[9px] font-medium capitalize border ${(d=r[c])!=null&&d[u]?"bg-indigo-600 text-white border-indigo-600":"bg-white text-slate-400 border-slate-200"}`,children:u},u)})})]},c))})]})]}),H_=({isPartner:e,formData:t,isReadOnly:n,handleChange:r})=>a.jsxs("div",{className:"p-4 bg-slate-50 border border-slate-100 rounded-xl shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-800",children:[a.jsx(IE,{size:16,className:"text-slate-400"}),a.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wider",children:e?"Partner Remuneration":"Payroll & Banking"})]}),e&&a.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase bg-slate-200/50 px-2 py-0.5 rounded",children:"Management Fees"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase",children:e?"Fixed Draw (ZMW)":"Base Salary (ZMW)"}),a.jsx("input",{type:"number",name:"BaseSalary",value:t.BaseSalary||0,onChange:r,disabled:n,className:"w-full p-2 bg-white border border-slate-200 rounded-lg text-sm font-semibold"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Comm. Rate (%)"}),a.jsx("input",{type:"number",name:"CommissionRate",value:t.CommissionRate||0,onChange:r,disabled:n,className:"w-full p-2 bg-white border border-slate-200 rounded-lg text-sm font-semibold"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Bank Name"}),a.jsx("input",{type:"text",name:"BankName",value:t.BankName||"",onChange:r,disabled:n,className:"w-full p-2 bg-white border border-slate-200 rounded-lg text-sm",placeholder:"e.g. Stanbic"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Account No."}),a.jsx("input",{type:"text",name:"AccountNumber",value:t.AccountNumber||"",onChange:r,disabled:n,className:"w-full p-2 bg-white border border-slate-200 rounded-lg text-sm"})]})]})]}),V_=({formData:e,isReadOnly:t,handleChange:n})=>a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-amber-700 uppercase",children:"Principal (ZMW)"}),a.jsx("input",{type:"number",name:"InvestmentPrincipal",value:e.InvestmentPrincipal||0,onChange:n,disabled:t||e.InvestmentStatus===an.Active,className:"w-full p-2 bg-white border border-amber-200 rounded-lg text-sm font-bold text-amber-900"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-amber-700 uppercase",children:"Equity Share (%)"}),a.jsx("input",{type:"number",step:"0.1",name:"EquityShare",value:e.EquityShare||0,onChange:n,disabled:t||e.InvestmentStatus===an.Active,className:"w-full p-2 bg-white border border-amber-200 rounded-lg text-sm font-bold text-amber-900"})]}),a.jsxs("div",{className:"col-span-2 space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-amber-700 uppercase tracking-widest",children:"Yield Model"}),a.jsxs("select",{name:"PartnerPayoutModel",value:e.PartnerPayoutModel||ra.InterestOnly,onChange:n,disabled:t||e.InvestmentStatus===an.Active,className:"w-full p-2 bg-white border border-amber-200 rounded-lg text-xs font-bold text-amber-900 outline-none",children:[a.jsx("option",{value:ra.InterestOnly,children:"Capital Preservation (Profits Only)"}),a.jsx("option",{value:ra.PrincipalPlusInterest,children:"Amortized Recovery (Profits + Principal)"})]})]})]}),K_=({simPool:e,setSimPool:t,isCapped:n,monthlyPrincipalReturn:r,estimatedVariableInterest:i,roiCapPercent:o,totalProjectedTakeaway:c,duration:u,totalTermInterest:d,totalTermYield:f})=>a.jsxs("div",{className:`rounded-xl p-4 border transition-all duration-500 ${n?"bg-amber-100/50 border-amber-300 shadow-lg":"bg-white border-amber-200 shadow-md"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4 border-b border-amber-50 pb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(yf,{size:14,className:n?"text-amber-600":"text-indigo-600"}),a.jsx("h4",{className:"text-[10px] font-black text-slate-800 uppercase tracking-widest",children:"Simulation Projection"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[8px] font-bold text-slate-400 uppercase",children:"Monthly Pool:"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-1.5 top-1/2 -translate-y-1/2 text-[8px] font-black text-slate-400",children:"K"}),a.jsx("input",{type:"number",value:e,onChange:h=>t(Number(h.target.value)),className:"w-16 pl-4 py-0.5 bg-slate-50 border border-slate-200 rounded text-[9px] font-black outline-none"})]})]})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex justify-between items-center text-[11px]",children:[a.jsx("span",{className:"text-slate-500 font-medium",children:"Monthly Principal Return:"}),a.jsxs("span",{className:"font-bold text-slate-900 tracking-tight",children:["K ",Oe(r)]})]}),a.jsxs("div",{className:"flex justify-between items-center text-[11px]",children:[a.jsx("span",{className:"text-slate-500 font-medium",children:"Monthly Interest (Share):"}),a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsxs("span",{className:`font-bold ${n?"text-amber-700":"text-indigo-600"}`,children:["K ",Oe(i)]}),n&&a.jsxs("span",{className:"text-[7px] font-black text-amber-600 uppercase tracking-tighter flex items-center gap-1 animate-pulse",children:[a.jsx(q4,{size:7})," Capped at ",o,"% ROI"]})]})]}),a.jsxs("div",{className:"pt-2 border-t border-amber-100 flex justify-between items-center",children:[a.jsx("span",{className:"text-[10px] font-black text-amber-700 uppercase tracking-tighter",children:"Net Monthly Yield"}),a.jsxs("span",{className:`text-sm font-black ${n?"text-amber-600":"text-emerald-600"}`,children:["K ",Oe(c)]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2 border-t border-dashed border-amber-100",children:[a.jsxs("div",{className:"bg-amber-100/50 p-2 rounded-lg border border-amber-200/50",children:[a.jsxs("p",{className:"text-[7px] font-black text-amber-800 uppercase leading-none mb-1",children:["Total ",u,"mo Interest"]}),a.jsxs("p",{className:"text-[10px] font-black text-amber-900 tracking-tight",children:["K ",Oe(d)]})]}),a.jsxs("div",{className:"bg-emerald-500 p-2 rounded-lg border border-emerald-600 shadow-sm",children:[a.jsx("p",{className:"text-[7px] font-black text-emerald-100 uppercase leading-none mb-1",children:"Total Term Payout"}),a.jsxs("p",{className:"text-[10px] font-black text-white tracking-tight",children:["K ",Oe(f)]})]})]})]}),G_=({formData:e})=>a.jsxs("div",{className:"p-4 bg-emerald-50 rounded-2xl border border-emerald-200 flex items-center justify-between animate-in zoom-in duration-300",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-emerald-600 text-white rounded-xl shadow-lg",children:a.jsx(wr,{size:16})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-[10px] font-black text-emerald-800 uppercase tracking-widest leading-none",children:"Agreement Executed"}),a.jsxs("p",{className:"text-[8px] font-bold text-emerald-600 uppercase mt-1",children:["Signed on ",Ae(e.InvestmentSignedDate)]})]})]}),a.jsx("div",{className:"bg-white p-1 rounded-lg border border-emerald-100",children:a.jsx("img",{src:e.InvestmentSignature,alt:"Signed",className:"h-6 opacity-60 mix-blend-multiply"})})]}),Y_=({formData:e,handleChange:t,isReadOnly:n})=>a.jsxs("div",{className:"pt-4 border-t border-amber-100 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("label",{className:"text-[10px] font-bold text-amber-700 uppercase flex items-center gap-1",children:["Max Monthly ROI Cap (%)",a.jsxs("div",{className:"group relative",children:[a.jsx(vd,{size:10,className:"text-amber-400 cursor-help"}),a.jsxs("div",{className:"absolute bottom-full left-0 mb-2 w-56 p-3 bg-slate-900 text-white text-[9px] rounded-xl opacity-0 group-hover:opacity-100 transition-all pointer-events-none z-10 shadow-2xl border border-white/10",children:[a.jsx("strong",{children:"Stabilization Cap:"})," Excess profits are diverted to a Reserve Buffer to maintain consistent payouts during low-revenue months."]})]})]}),a.jsx("input",{type:"number",step:"0.1",name:"MaxMonthlyROI",value:e.MaxMonthlyROI||0,onChange:t,disabled:n||e.InvestmentStatus===an.Active,className:"w-full p-2 bg-white border border-amber-200 rounded-lg text-xs font-bold text-amber-900"})]}),a.jsx("div",{className:"flex flex-col justify-center pt-2",children:a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[a.jsx("div",{className:"relative",children:a.jsx("input",{type:"checkbox",name:"SmartYieldActive",checked:!!e.SmartYieldActive,onChange:t,disabled:n||e.InvestmentStatus===an.Active,className:"w-5 h-5 rounded border-amber-300 text-amber-600 focus:ring-amber-500"})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] font-black text-amber-700 uppercase tracking-tighter",children:"SmartYield Active"}),a.jsx("span",{className:"text-[7px] text-slate-400 font-bold uppercase",children:"Automated Smoothing"})]})]})})]}),X_=({formData:e,isReadOnly:t,handleChange:n,isAdmin:r})=>{const[i,o]=O.useState(5e4);if(!r)return null;const c=e.Role==="Partner",u=Number(e.InvestmentPrincipal||0),d=Number(e.InvestmentTermMonths||12),f=Number(e.EquityShare||0),h=Number(e.MaxMonthlyROI||0),m=!!e.SmartYieldActive,x=e.PartnerPayoutModel===ra.PrincipalPlusInterest?u/Math.max(1,d):0,v=i*(f/100),j=u*(h/100),b=m&&h>0&&v>j,w=b?j:v,y=x+w,k=w*d,P=y*d;return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[a.jsx(H_,{isPartner:c,formData:e,isReadOnly:t,handleChange:n}),a.jsxs("div",{className:"p-5 bg-slate-900 rounded-2xl text-white shadow-xl space-y-4 border border-slate-800",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"p-2 bg-rose-600 rounded-xl text-white",children:a.jsx(Nf,{size:18})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-black uppercase tracking-widest",children:"Policy Governance"}),a.jsx("p",{className:"text-[9px] text-slate-400 font-bold uppercase",children:"Onboarding Target Enforcement"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-xl border border-white/10 group",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] font-black uppercase tracking-tighter text-slate-200",children:"Exempt from Policy"}),a.jsx("span",{className:"text-[8px] font-medium text-slate-500 uppercase",children:"Disable Warning Banner"})]}),a.jsx("button",{type:"button",onClick:()=>n({target:{name:"PolicyExempt",value:!e.PolicyExempt}}),className:`transition-colors ${e.PolicyExempt?"text-emerald-400":"text-slate-600"}`,children:e.PolicyExempt?a.jsx(h_,{size:32}):a.jsx(p_,{size:32})})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-1 ml-1",children:[a.jsx(zr,{size:10})," Enforcement Extension"]}),a.jsx("input",{type:"date",name:"EnforcementExtensionDate",value:Ll(e.EnforcementExtensionDate),onChange:n,className:"w-full p-2.5 bg-white/10 border border-white/10 rounded-xl text-xs font-bold text-white outline-none focus:ring-2 focus:ring-indigo-500/20"}),a.jsx("p",{className:"text-[8px] text-slate-500 uppercase font-medium mt-1",children:"Hide warning until this date"})]})]})]}),c&&a.jsxs("div",{className:"p-5 bg-amber-50 border border-amber-100 rounded-2xl space-y-5 animate-in slide-in-from-top-2",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-amber-800",children:[a.jsx(Ry,{size:18}),a.jsx("h3",{className:"text-sm font-black uppercase tracking-widest",children:"Equity Governance"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[9px] font-bold text-amber-600 uppercase",children:"Agreement Status:"}),a.jsxs("select",{name:"InvestmentStatus",value:e.InvestmentStatus||an.Draft,onChange:n,disabled:t,className:`px-2 py-0.5 text-[8px] font-black rounded uppercase shadow-sm border-none outline-none cursor-pointer transition-colors ${e.InvestmentStatus===an.Active?"bg-emerald-500 text-white":e.InvestmentStatus===an.UnderReview?"bg-amber-400 text-slate-900":"bg-slate-200 text-slate-600"}`,children:[a.jsx("option",{value:an.Draft,children:"Draft (Admin Only)"}),a.jsx("option",{value:an.UnderReview,children:"Issue for Partner Signature"}),a.jsx("option",{value:an.Active,children:"Executed / Active"})]})]})]}),a.jsx(V_,{formData:e,isReadOnly:t,handleChange:n}),a.jsx(K_,{simPool:i,setSimPool:o,isCapped:b,monthlyPrincipalReturn:x,estimatedVariableInterest:w,roiCapPercent:h,totalProjectedTakeaway:y,duration:d,totalTermInterest:k,totalTermYield:P}),e.InvestmentSignature&&a.jsx(G_,{formData:e}),a.jsx(Y_,{formData:e,handleChange:n,isReadOnly:t})]})]})},Ss={dashboard:{view:!0,create:!1,update:!1,delete:!1},clients:{view:!0,create:!0,update:!0,delete:!1},vehicles:{view:!0,create:!0,update:!0,delete:!1},sim_manager:{view:!0,create:!0,update:!0,delete:!1},contracts:{view:!0,create:!0,update:!0,delete:!1},invoices:{view:!0,create:!0,update:!0,delete:!1},payments:{view:!0,create:!0,update:!0,delete:!1},commissions:{view:!0,create:!1,update:!1,delete:!1},agents:{view:!1,create:!1,update:!1,delete:!1},support:{view:!0,create:!0,update:!0,delete:!1},settings:{view:!0,create:!0,update:!0,delete:!0}},Q_=({isOpen:e,onClose:t,mode:n,agent:r,agents:i=[],currentUser:o,onSave:c})=>{const[u,d]=O.useState(n),[f,h]=O.useState("info"),[m,x]=O.useState({}),[v,j]=O.useState(""),[b,w]=O.useState(Ss),[y,k]=O.useState(!1),[P,C]=O.useState(!1),[S,E]=O.useState(navigator.onLine),D=(o==null?void 0:o.role)==="Admin";O.useEffect(()=>{const L=()=>E(navigator.onLine);return window.addEventListener("online",L),window.addEventListener("offline",L),()=>{window.removeEventListener("online",L),window.removeEventListener("offline",L)}},[]),O.useEffect(()=>{var L;if(e){if(d(n),h("info"),k(n==="add"),C(!1),j(""),n==="add"){const F="SC"+Math.floor(1e3+Math.random()*9e3);x({AgentID:`AGT-${Math.floor(1e3+Math.random()*9e3)}`,Status:"Active",StartDate:new Date().toISOString().split("T")[0],Role:"Agent",CommissionRate:10,ExperienceLevel:"Trainee",Password:F,Department:"Sales",BaseSalary:0,Notes:"",InvestmentTermMonths:12}),j("12"),w(Ss)}else if(r){x({...r}),j(((L=r.InvestmentTermMonths)==null?void 0:L.toString())||"");try{const F=r.Privileges?JSON.parse(r.Privileges):Ss;w({...Ss,...F})}catch{w(Ss)}}}},[n,r,e]);const T=(L,F)=>{if(!L||!F)return;const Y=parseInt(F);if(isNaN(Y))return;const W=new Date(L);W.setMonth(W.getMonth()+Y),x(V=>({...V,EndDate:W.toISOString().split("T")[0],InvestmentTermMonths:Y}))},M=L=>{j(L);const F=parseInt(L);m.StartDate?T(m.StartDate,L):x(Y=>({...Y,InvestmentTermMonths:isNaN(F)?0:F}))},z=L=>{if(P||u==="view")return;const{name:F,value:Y,type:W}=L.target;if(W==="checkbox"){const{checked:V}=L.target;x(ee=>({...ee,[F]:V}))}else x(V=>{let ee={...V,[F]:Y};return F==="Role"&&Y==="Partner"&&(ee.ExperienceLevel="Partner"),F==="StartDate"&&v&&setTimeout(()=>T(Y,v),0),ee})},R=(L,F)=>{P||u==="view"||w(Y=>({...Y,[L]:{...Y[L],[F]:!Y[L][F]}}))},$=L=>{if(L.preventDefault(),P||!S)return;if(u==="view"){d("edit");return}if(u==="add"){if(f==="info"){h("access");return}if(f==="access"){h("finance");return}}C(!0);const F={...m,Privileges:JSON.stringify(b)};c(F,y),t()},B=u==="view";return e?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-xl max-h-[95vh] flex flex-col overflow-hidden animate-in fade-in zoom-in duration-200",children:[a.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b border-slate-100 bg-slate-50/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-slate-900 text-white rounded-lg",children:a.jsx(Nt,{size:18})}),a.jsx("div",{children:a.jsx("h2",{className:"text-base font-semibold text-slate-900",children:u==="add"?"Staff Onboarding":u==="edit"?"Edit Staff Profile":"Staff Profile"})})]}),a.jsx("button",{onClick:t,className:"p-1 text-slate-400 hover:text-slate-600 transition-colors",children:a.jsx(bt,{size:20})})]}),a.jsx("div",{className:"flex border-b border-slate-100 bg-white px-6 shrink-0",children:[{id:"info",label:"General Info"},{id:"access",label:"Security Access"},{id:"finance",label:"Financials",hidden:!D}].filter(L=>!L.hidden).map(L=>a.jsxs("button",{onClick:()=>h(L.id),className:`px-4 py-3 text-[10px] font-bold border-b-2 transition-all uppercase tracking-widest flex items-center gap-2 ${f===L.id?"border-indigo-600 text-indigo-600":"border-transparent text-slate-400 hover:text-slate-700"}`,children:[u==="add"&&f!==L.id&&a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${["info","access","finance"].indexOf(f)>["info","access","finance"].indexOf(L.id)?"bg-emerald-50":"bg-slate-200"}`}),L.label]},L.id))}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6 no-scrollbar",children:a.jsxs("fieldset",{disabled:P,children:[f==="info"&&a.jsx(q_,{formData:m,isReadOnly:B,duration:v,onDurationChange:M,handleChange:z}),f==="access"&&a.jsx(W_,{formData:m,isReadOnly:B,handleChange:z,permissions:b,handlePermissionToggle:R,defaultPermissions:Ss}),f==="finance"&&a.jsx(X_,{formData:m,isReadOnly:B,handleChange:z,isAdmin:D})]})}),a.jsxs("div",{className:"px-6 py-4 border-t border-slate-100 bg-slate-50/50 flex flex-col sm:flex-row justify-between items-center gap-3 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[u==="add"&&f==="finance"&&a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:y,onChange:L=>k(L.target.checked),className:"w-3.5 h-3.5 rounded border-slate-300 text-indigo-600"}),a.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Dispatch Login Details"})]}),!S&&a.jsxs("span",{className:"text-[10px] font-medium text-rose-500 flex items-center gap-1",children:[a.jsx(Hi,{size:12})," Offline"]})]}),a.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[a.jsx("button",{onClick:t,className:"flex-1 sm:flex-none px-4 py-2 text-[10px] font-black uppercase tracking-widest text-slate-400 hover:text-slate-600",children:"Cancel"}),a.jsxs("button",{onClick:$,disabled:P||!S,className:`flex-1 sm:flex-none flex items-center justify-center gap-3 px-8 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest shadow-xl transition-all active:scale-95 ${S?"bg-slate-900 text-white hover:bg-black":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:[P?a.jsx(Dt,{size:14,className:"animate-spin"}):u==="add"?f==="finance"?a.jsx(wr,{size:14}):a.jsx(pE,{size:14}):u==="view"?a.jsx(o_,{size:14}):a.jsx(zy,{size:14}),P?"Synchronizing...":u==="add"?f==="info"?"Next: Setup Access":f==="access"?"Next: Financials":"Complete Onboarding":u==="view"?"Modify Profile":"Save Changes"]})]})]})]})}):null},Z_=({isOpen:e,onClose:t,mode:n,record:r,clients:i,vehicles:o,onSave:c})=>{const[u,d]=O.useState({}),[f,h]=O.useState(!1),[m,x]=O.useState(!1),[v,j]=O.useState(navigator.onLine);if(O.useEffect(()=>{const C=()=>j(navigator.onLine);return window.addEventListener("online",C),window.addEventListener("offline",C),()=>{window.removeEventListener("online",C),window.removeEventListener("offline",C)}},[]),O.useEffect(()=>{n==="add"?(d({ID:`MNT-${Math.floor(1e4+Math.random()*9e4)}`,Date:new Date().toISOString().split("T")[0],Status:zn.Scheduled,AssetIDs:[],Cost:0,Description:""}),x(!0)):r&&(d({...r}),x(!1)),h(!1)},[n,r,e]),!e)return null;const b=C=>{if(f)return;const S=i.find(E=>E.ClientID===C);d(E=>({...E,ClientID:C,ClientName:(S==null?void 0:S.CompanyName)||"",AssetIDs:[]}))},w=C=>{f||d(S=>{const E=S.AssetIDs||[],D=E.includes(C)?E.filter(T=>T!==C):[...E,C];return{...S,AssetIDs:D}})},y=async C=>{if(C.preventDefault(),!(f||!v)&&!(!u.ClientID||!u.Description)){h(!0);try{await c(u,m),t()}finally{h(!1)}}},k=i.map(C=>({value:C.ClientID,label:C.CompanyName,disabled:C.Status!==ln.Active,subtext:C.ClientType})),P=o.filter(C=>C.ClientID===u.ClientID);return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col overflow-hidden animate-in fade-in zoom-in duration-200",children:[a.jsxs("div",{className:"flex justify-between items-center p-8 border-b border-slate-100 bg-slate-50/50",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-3 rounded-2xl bg-indigo-600 text-white shadow-lg",children:a.jsx($l,{size:24})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:n==="add"?"New Asset Service":"Service Record"}),a.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:["Ref: ",u.ID]})]})]}),a.jsx("button",{onClick:t,disabled:f,className:"p-2 text-slate-300 hover:text-slate-900 transition-colors disabled:opacity-30",children:a.jsx(bt,{size:24})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:a.jsx("fieldset",{disabled:f,children:a.jsxs("form",{id:"maintenance-form",onSubmit:y,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{className:"col-span-1 md:col-span-2",children:a.jsx(Pc,{label:"Target Company",required:!0,options:k,value:u.ClientID||"",onChange:b})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Service Status"}),a.jsxs("select",{value:u.Status,onChange:C=>d({...u,Status:C.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-100 rounded-xl outline-none font-bold text-xs",children:[a.jsx("option",{value:zn.Scheduled,children:"Scheduled / Pending"}),a.jsx("option",{value:zn.InProgress,children:"Currently In Progress"}),a.jsx("option",{value:zn.Completed,children:"Task Completed"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Service Date"}),a.jsx("input",{type:"date",value:u.Date,onChange:C=>d({...u,Date:C.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-100 rounded-xl outline-none text-xs"})]}),a.jsxs("div",{className:"col-span-1 md:col-span-2 space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Work Description"}),a.jsx("textarea",{required:!0,value:u.Description,onChange:C=>d({...u,Description:C.target.value}),placeholder:"Details of the repair or maintenance performed...",className:"w-full h-32 p-4 bg-slate-50 border border-slate-100 rounded-2xl outline-none text-sm font-medium resize-none focus:ring-4 focus:ring-indigo-50 transition-all"})]}),u.ClientID&&P.length>0&&a.jsxs("div",{className:"col-span-1 md:col-span-2 space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Affect Assets"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:P.map(C=>{var S,E,D;return a.jsxs("button",{type:"button",onClick:()=>w(C.VehicleID),className:`flex items-center gap-3 p-3 rounded-xl border text-left transition-all ${(S=u.AssetIDs)!=null&&S.includes(C.VehicleID)?"bg-indigo-600 border-indigo-700 text-white shadow-md":"bg-white border-slate-100 text-slate-500 hover:border-indigo-200"} ${f?"opacity-50 cursor-not-allowed":""}`,children:[a.jsx(yr,{size:16,className:(E=u.AssetIDs)!=null&&E.includes(C.VehicleID)?"text-indigo-200":"text-slate-300"}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-[10px] font-black font-mono leading-none",children:C.NumberPlate}),a.jsxs("p",{className:`text-[8px] font-bold uppercase truncate mt-0.5 ${(D=u.AssetIDs)!=null&&D.includes(C.VehicleID)?"text-indigo-300":"text-slate-400"}`,children:[C.Make," ",C.Model]})]})]},C.VehicleID)})})]})]}),u.Status===zn.Completed&&a.jsxs("div",{className:"bg-slate-900 rounded-[2rem] p-6 text-white shadow-2xl relative overflow-hidden border border-slate-800 animate-in zoom-in duration-300",children:[a.jsx("div",{className:"absolute right-0 top-0 p-6 opacity-5 rotate-12",children:a.jsx(Rr,{size:80})}),a.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`p-3 rounded-2xl transition-all duration-500 ${m?"bg-emerald-500 text-white shadow-lg":"bg-slate-800 text-slate-600"}`,children:a.jsx(zs,{size:18})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-[11px] font-black uppercase tracking-widest leading-none",children:"Completion Dispatch"}),a.jsx("p",{className:`text-[8px] font-bold uppercase mt-1.5 ${m?"text-emerald-400":"text-slate-500"}`,children:m?"Client will receive service confirmation":"Silent record update only"})]})]}),a.jsx("button",{type:"button",disabled:f,onClick:()=>x(!m),className:`relative inline-flex h-7 w-12 items-center rounded-full transition-colors focus:outline-none ${m?"bg-emerald-500":"bg-slate-800"}`,children:a.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform duration-200 shadow-sm ${m?"translate-x-6":"translate-x-1"}`})})]})]})]})})}),a.jsxs("div",{className:"p-8 border-t border-slate-100 bg-slate-50 flex flex-col sm:flex-row justify-end items-center gap-4 shrink-0",children:[!v&&a.jsxs("div",{className:"flex items-center gap-2 text-rose-500 font-black text-[9px] uppercase tracking-widest mb-2 sm:mb-0",children:[a.jsx(Hi,{size:14})," Offline Mode: Registry Locked"]}),a.jsx("button",{onClick:t,disabled:f,className:"px-8 py-3 text-slate-400 bg-white border border-slate-200 rounded-2xl font-black text-[10px] uppercase tracking-widest disabled:opacity-30",children:"Cancel"}),a.jsxs("button",{form:"maintenance-form",type:"submit",disabled:f||!v,className:`px-12 py-3 rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-xl flex items-center justify-center gap-2 active:scale-95 transition-all min-w-[180px] ${v?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:[f?a.jsx(Dt,{size:14,className:"animate-spin"}):a.jsx(zs,{size:14}),f?"Processing...":n==="add"?"Log Maintenance":"Update Record"]})]})]})})},J_=({isOpen:e,onClose:t,appState:n,onSendMessage:r,onRefresh:i})=>{const[o,c]=O.useState("compose"),[u,d]=O.useState("my_clients"),[f,h]=O.useState(""),[m,x]=O.useState([]),[v,j]=O.useState(""),[b,w]=O.useState(!1),[y,k]=O.useState(0),[P,C]=O.useState(!1),[S,E]=O.useState(""),[D,T]=O.useState(null),{currentUser:M,agents:z,clients:R,messages:$=[]}=n,B=M==null?void 0:M.id,L=(M==null?void 0:M.role)==="Admin",F=O.useMemo(()=>{if(!B)return[];const _=$.filter(X=>X.Message.startsWith("[BROADCAST]:")&&String(X.SenderID)===String(B)),q={};return _.forEach(X=>{var Ie,Pe;const J=X.Message.replace("[BROADCAST]: ",""),le=new Date(X.Timestamp).getTime(),ge=Object.keys(q).find(ie=>{const Ce=q[ie],Se=Math.abs(new Date(Ce.timestamp).getTime()-le);return Ce.content===J&&Se<3e5}),xe={id:X.ReceiverID,status:X.Status,name:((Ie=z.find(ie=>ie.AgentID===X.ReceiverID))==null?void 0:Ie.AgentName)||((Pe=R.find(ie=>ie.ClientID===X.ReceiverID))==null?void 0:Pe.CompanyName)||"Unknown"};ge?q[ge].recipients.push(xe):q[X.ID]={content:J,timestamp:X.Timestamp,recipients:[xe]}}),Object.values(q).sort((X,J)=>new Date(J.timestamp).getTime()-new Date(X.timestamp).getTime())},[$,B,z,R]),Y=O.useMemo(()=>{if(!B)return[];let _=[];return u==="my_clients"?_=R.filter(q=>String(q.AssignedAgentID).trim().toLowerCase()===String(B).trim().toLowerCase()):u==="all_clients"&&L?_=R:u==="all_agents"&&L?_=z.filter(q=>String(q.AgentID)!==String(B)):u==="all_partners"&&L?_=z.filter(q=>q.Role==="Partner"):u==="global"&&L?_=[...z,...R].filter(q=>("AgentID"in q?q.AgentID:q.ClientID)!==B):u==="agent_clients"&&L&&f?_=R.filter(q=>String(q.AssignedAgentID).trim().toLowerCase()===String(f).trim().toLowerCase()):u==="custom"&&(_=[...z,...R].filter(q=>{const X="AgentID"in q?q.AgentID:q.ClientID;return m.includes(X)&&X!==B})),_},[u,f,m,R,z,B,L]),W=O.useMemo(()=>B?[...z,...R].filter(_=>{const q="AgentName"in _?_.AgentName:_.CompanyName;return("AgentID"in _?_.AgentID:_.ClientID)!==B&&q.toLowerCase().includes(S.toLowerCase())}):[],[z,R,S,B]);if(!M||!e)return null;const V=_=>{x(q=>q.includes(_)?q.filter(X=>X!==_):[...q,_])},ee=async()=>{if(!(!v.trim()||Y.length===0||b)){w(!0),k(0),C(!1);for(let _=0;_<Y.length;_++){const q=Y[_],X="AgentID"in q?q.AgentID:q.ClientID,J={ID:`BRD-${Date.now()}-${_}-${Math.random().toString(36).substring(2,5)}`,SenderID:B,SenderName:M.name,ReceiverID:X,Message:`[BROADCAST]: ${v.trim()}`,Timestamp:new Date().toISOString(),Status:"Sent"};try{await r(J,!0)}catch(le){console.error("Broadcast failed for recipient:",X,le)}k(Math.floor((_+1)/Y.length*100))}i&&await i(!1,!0),w(!1),C(!0),setTimeout(()=>{C(!1),j(""),k(0),x([]),c("history")},2e3)}};return a.jsx("div",{className:"fixed inset-0 z-[210] flex items-center justify-center p-0 sm:p-4 bg-slate-900/70 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white rounded-none sm:rounded-[2rem] shadow-2xl w-full max-w-2xl h-full sm:h-[90vh] sm:max-h-[800px] overflow-hidden flex flex-col animate-in slide-in-from-bottom sm:zoom-in duration-300",children:[a.jsxs("div",{className:"px-6 py-5 border-b border-slate-100 flex justify-between items-center bg-slate-50/50 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2.5 bg-indigo-600 text-white rounded-xl shadow-md",children:a.jsx(nv,{size:20})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-bold text-slate-900 tracking-tight",children:"Broadcast Center"}),a.jsx("p",{className:"text-[10px] font-semibold text-slate-400 uppercase tracking-wider",children:"Send announcements to multiple users"})]})]}),a.jsx("button",{onClick:t,disabled:b,className:"p-2 text-slate-300 hover:text-slate-600 transition-colors",children:a.jsx(bt,{size:24})})]}),a.jsxs("div",{className:"flex border-b border-slate-100 bg-white shrink-0 overflow-x-auto no-scrollbar",children:[a.jsxs("button",{onClick:()=>c("compose"),className:`flex-1 min-w-[140px] px-4 py-4 text-[11px] font-bold uppercase tracking-wider border-b-2 transition-all flex items-center justify-center gap-2 ${o==="compose"?"border-indigo-600 text-indigo-600 bg-indigo-50/10":"border-transparent text-slate-400 hover:text-slate-600"}`,children:[a.jsx(Rr,{size:14})," Compose Message"]}),a.jsxs("button",{onClick:()=>c("history"),className:`flex-1 min-w-[140px] px-4 py-4 text-[11px] font-bold uppercase tracking-wider border-b-2 transition-all flex items-center justify-center gap-2 ${o==="history"?"border-indigo-600 text-indigo-600 bg-indigo-50/10":"border-transparent text-slate-400 hover:text-slate-600"}`,children:[a.jsx(Ri,{size:14})," Sent History"]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-5 sm:p-8 space-y-6 no-scrollbar",children:o==="compose"?P?a.jsxs("div",{className:"py-20 flex flex-col items-center text-center space-y-4 animate-in fade-in zoom-in",children:[a.jsx("div",{className:"w-16 h-16 bg-emerald-50 rounded-full flex items-center justify-center text-emerald-500 shadow-inner",children:a.jsx(wr,{size:40})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-slate-900 tracking-tight",children:"Message Sent"}),a.jsx("p",{className:"text-xs font-medium text-slate-400 mt-1",children:"Check history for delivery details"})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-900 border-b border-slate-100 pb-2",children:[a.jsx($i,{size:16,className:"text-indigo-600"}),a.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-slate-500",children:"Recipients"})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:[a.jsxs("button",{onClick:()=>d("my_clients"),className:`p-3 rounded-xl border text-center transition-all flex flex-col items-center gap-1 ${u==="my_clients"?"bg-indigo-50 border-indigo-500 text-indigo-900 shadow-sm":"bg-white border-slate-200 text-slate-500 hover:border-indigo-200"}`,children:[a.jsx(Nt,{size:16}),a.jsx("span",{className:"text-[10px] font-bold uppercase",children:"My Clients"})]}),L&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>d("all_clients"),className:`p-3 rounded-xl border text-center transition-all flex flex-col items-center gap-1 ${u==="all_clients"?"bg-indigo-50 border-indigo-500 text-indigo-900 shadow-sm":"bg-white border-slate-200 text-slate-500 hover:border-indigo-200"}`,children:[a.jsx(hn,{size:16}),a.jsx("span",{className:"text-[10px] font-bold uppercase",children:"All Clients"})]}),a.jsxs("button",{onClick:()=>d("all_agents"),className:`p-3 rounded-xl border text-center transition-all flex flex-col items-center gap-1 ${u==="all_agents"?"bg-indigo-50 border-indigo-500 text-indigo-900 shadow-sm":"bg-white border-slate-200 text-slate-500 hover:border-indigo-200"}`,children:[a.jsx(Wi,{size:16}),a.jsx("span",{className:"text-[10px] font-bold uppercase",children:"All Staff"})]}),a.jsxs("button",{onClick:()=>d("all_partners"),className:`p-3 rounded-xl border text-center transition-all flex flex-col items-center gap-1 ${u==="all_partners"?"bg-amber-50 border-amber-500 text-amber-900 shadow-sm":"bg-white border-slate-200 text-slate-500 hover:border-amber-200"}`,children:[a.jsx(wf,{size:16}),a.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Partners Only"})]}),a.jsxs("button",{onClick:()=>d("global"),className:`p-3 rounded-xl border text-center transition-all flex flex-col items-center gap-1 ${u==="global"?"bg-rose-50 border-rose-500 text-rose-900 shadow-sm":"bg-white border-slate-200 text-slate-500 hover:border-rose-200"}`,children:[a.jsx(gd,{size:16}),a.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Global"})]}),a.jsxs("button",{onClick:()=>d("custom"),className:`p-3 rounded-xl border text-center transition-all flex flex-col items-center gap-1 ${u==="custom"?"bg-indigo-50 border-indigo-500 text-indigo-900 shadow-sm":"bg-white border-slate-200 text-slate-500 hover:border-indigo-200"}`,children:[a.jsx(Ml,{size:16}),a.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Custom"})]})]})]}),u==="custom"&&a.jsxs("div",{className:"p-4 bg-slate-50 border border-slate-200 rounded-2xl space-y-3 animate-in slide-in-from-top-2 duration-300",children:[a.jsxs("div",{className:"relative",children:[a.jsx(An,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Search names...",value:S,onChange:_=>E(_.target.value),className:"w-full pl-9 pr-4 py-2.5 bg-white border border-slate-200 rounded-xl text-xs font-medium outline-none focus:ring-2 focus:ring-indigo-500/10"})]}),a.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1 custom-scrollbar pr-2",children:W.map(_=>{const q="AgentID"in _?_.AgentID:_.ClientID,X="AgentName"in _?_.AgentName:_.CompanyName,J=m.includes(q);return a.jsxs("div",{onClick:()=>V(q),className:`flex items-center justify-between p-2.5 rounded-xl cursor-pointer transition-all ${J?"bg-indigo-600 text-white shadow-sm":"bg-white text-slate-600 border border-transparent hover:border-indigo-100"}`,children:[a.jsx("span",{className:"text-[11px] font-medium truncate",children:X}),J?a.jsx(Ml,{size:14}):a.jsx(bd,{size:14,className:"text-slate-300"})]},q)})})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-900 border-b border-slate-100 pb-2",children:[a.jsx(tr,{size:16,className:"text-indigo-600"}),a.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-slate-500",children:"Message"})]}),a.jsx("textarea",{value:v,onChange:_=>j(_.target.value),disabled:b,placeholder:"Type your message here...",className:"w-full h-32 p-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none text-sm font-medium resize-none focus:ring-4 focus:ring-indigo-500/10 transition-all placeholder:text-slate-300"})]}),b&&a.jsxs("div",{className:"space-y-2 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"flex justify-between items-center px-1",children:[a.jsx("span",{className:"text-[10px] font-bold text-indigo-600 uppercase tracking-widest",children:"Sending..."}),a.jsxs("span",{className:"text-[10px] font-bold text-slate-600",children:[y,"%"]})]}),a.jsx("div",{className:"h-1.5 w-full bg-slate-100 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-indigo-600 transition-all duration-300",style:{width:`${y}%`}})})]})]}):a.jsx("div",{className:"space-y-3 animate-in fade-in duration-300",children:F.length>0?F.map((_,q)=>{const X=_.recipients.filter(xe=>xe.status==="Read").length,J=_.recipients.length,le=Math.floor(X/J*100),ge=D===`camp-${q}`;return a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden transition-all hover:border-indigo-100",children:[a.jsxs("div",{onClick:()=>T(ge?null:`camp-${q}`),className:"p-4 sm:p-5 flex items-start justify-between cursor-pointer hover:bg-slate-50/50 transition-colors",children:[a.jsxs("div",{className:"flex gap-4 min-w-0",children:[a.jsx("div",{className:`p-2.5 rounded-xl shrink-0 ${le===100?"bg-emerald-50 text-emerald-600":"bg-indigo-50 text-indigo-600"}`,children:a.jsx(nv,{size:18})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-sm font-bold text-slate-800 truncate pr-4",children:_.content}),a.jsxs("div",{className:"flex items-center gap-3 mt-1.5",children:[a.jsxs("span",{className:"text-[10px] font-medium text-slate-400 flex items-center gap-1",children:[a.jsx($t,{size:12})," ",Ae(_.timestamp)]}),a.jsxs("span",{className:`text-[9px] font-bold px-2 py-0.5 rounded-full uppercase tracking-wider ${le===100?"bg-emerald-100 text-emerald-700":"bg-indigo-100 text-indigo-700"}`,children:[X," / ",J," Read"]})]})]})]}),a.jsx(Ay,{size:16,className:`text-slate-300 transition-transform duration-300 mt-1 shrink-0 ${ge?"rotate-90":""}`})]}),ge&&a.jsx("div",{className:"px-4 pb-4 sm:px-5 sm:pb-5 bg-slate-50/30 border-t border-slate-50 animate-in slide-in-from-top-2 duration-300",children:a.jsxs("div",{className:"mt-4 space-y-1.5",children:[a.jsx("h4",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest mb-3",children:"Delivery Status"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:_.recipients.map((xe,Ie)=>a.jsxs("div",{className:"bg-white p-3 rounded-xl border border-slate-100 flex items-center justify-between shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2.5 min-w-0",children:[a.jsx("div",{className:"w-7 h-7 rounded-full bg-slate-50 flex items-center justify-center text-slate-300 border border-slate-100 shrink-0",children:a.jsx(Nt,{size:14})}),a.jsx("span",{className:"text-[11px] font-semibold text-slate-700 truncate",children:xe.name})]}),xe.status==="Read"?a.jsxs("div",{className:"flex items-center gap-1 text-emerald-500 shrink-0",children:[a.jsx("span",{className:"text-[9px] font-bold uppercase",children:"Read"}),a.jsx(Cy,{size:14})]}):a.jsxs("div",{className:"flex items-center gap-1 text-slate-300 shrink-0",children:[a.jsx("span",{className:"text-[9px] font-bold uppercase",children:"Sent"}),a.jsx(bf,{size:14})]})]},Ie))})]})})]},q)}):a.jsxs("div",{className:"py-20 text-center opacity-30",children:[a.jsx(Ri,{size:48,className:"mx-auto mb-4 text-slate-200"}),a.jsx("p",{className:"text-[11px] font-bold uppercase tracking-[0.2em] text-slate-400",children:"No sent history"})]})})}),o==="compose"&&!P&&a.jsxs("div",{className:"p-5 sm:p-6 border-t border-slate-100 bg-slate-50/80 flex flex-col sm:flex-row justify-between items-center gap-4 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:[a.jsx("div",{className:"p-2 bg-white rounded-xl border border-slate-200 text-slate-300 shrink-0",children:a.jsx($i,{size:18})}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-xs font-bold text-slate-700",children:[Y.length," recipients selected"]}),a.jsx("p",{className:"text-[10px] font-medium text-slate-400",children:"Target audience identified"})]})]}),a.jsxs("button",{onClick:ee,disabled:b||!v.trim()||Y.length===0,className:`w-full sm:w-auto px-10 py-3.5 rounded-2xl font-bold text-xs uppercase tracking-widest shadow-xl flex items-center justify-center gap-3 transition-all active:scale-95 ${b||!v.trim()||Y.length===0?"bg-slate-200 text-slate-400 cursor-not-allowed shadow-none":"bg-slate-900 text-white hover:bg-black"}`,children:[b?a.jsx(Dt,{size:16,className:"animate-spin"}):a.jsx(Rr,{size:16}),"Send Broadcast"]})]})]})})},eM=({appState:e,modals:t,handlers:n})=>e.currentUser?a.jsxs(a.Fragment,{children:[a.jsx(T_,{isOpen:t.client.isOpen,onClose:t.client.close,mode:t.client.mode,client:t.client.selected,agents:e.agents,activityLogs:e.activityLogs,currentUser:e.currentUser,onSave:n.onSaveClient,onSaveActivityLog:n.onSaveActivityLog}),a.jsx($_,{isOpen:t.contract.isOpen,onClose:t.contract.close,mode:t.contract.mode,contract:t.contract.selected,clients:e.clients,agents:e.agents,servicePlans:e.servicePlans,vehicles:e.vehicles,companySettings:e.systemSettings,userRole:e.currentUser.role,currentUser:e.currentUser,onSave:n.onSaveContract,onCreateServicePlan:()=>{}}),a.jsx(B_,{isOpen:t.invoice.isOpen,onClose:t.invoice.close,mode:t.invoice.mode,invoice:t.invoice.selected,clients:e.clients,contracts:e.contracts,systemSettings:e.systemSettings,onSave:n.onSaveInvoice,type:t.invoice.type}),a.jsx(F_,{isOpen:t.vehicle.isOpen,onClose:t.vehicle.close,mode:t.vehicle.mode,vehicle:t.vehicle.selected,clients:e.clients,onSave:n.onSaveVehicle}),a.jsx(U_,{isOpen:t.payment.isOpen,onClose:t.payment.close,mode:t.payment.mode,payment:t.payment.selected,payments:e.payments,invoices:e.invoices,contracts:e.contracts,agents:e.agents,clients:e.clients,currentUser:e.currentUser,onSave:n.onSavePayment,onSaveInvoice:n.onSaveInvoice}),a.jsx(Q_,{isOpen:t.agent.isOpen,onClose:t.agent.close,mode:t.agent.mode,agent:t.agent.selected,agents:e.agents,currentUser:e.currentUser,onSave:n.onSaveAgent}),a.jsx(Z_,{isOpen:t.maintenance.isOpen,onClose:t.maintenance.close,mode:t.maintenance.mode,record:t.maintenance.selected,clients:e.clients,vehicles:e.vehicles,onSave:n.onSaveMaintenance}),a.jsx(J_,{isOpen:t.broadcast.isOpen,onClose:()=>t.broadcast.setOpen(!1),appState:e,onSendMessage:n.onSendMessage,onRefresh:n.loadData})]}):null,tM=({tiles:e})=>a.jsx("div",{className:"w-full max-w-5xl grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-y-16 gap-x-8 md:gap-y-24 md:gap-x-16 py-10",children:e.map(t=>a.jsxs(fE,{to:t.path,className:"group flex flex-col items-center justify-center transition-all duration-300 active:scale-95",children:[a.jsx("div",{className:`mb-4 md:mb-8 transform transition-transform duration-500 group-hover:-translate-y-4 ${t.key==="partner_hub"?"text-amber-500":"text-slate-800"}`,children:a.jsx(t.icon,{className:"w-14 h-14 md:w-24 md:h-24",strokeWidth:1})}),a.jsx("div",{className:"text-center px-2",children:a.jsx("h3",{className:`text-[11px] md:text-sm font-black tracking-widest uppercase leading-tight group-hover:text-slate-900 transition-colors ${t.key==="partner_hub"?"text-amber-600":"text-slate-400"}`,children:t.name})})]},t.name+t.path))}),nM=({isOpen:e,onClose:t,isAdmin:n,isAgent:r,myClientsCount:i,myTraineesCount:o,estimatedEarnings:c,monthActivations:u,referralLeaders:d,agentPerformance:f,questProgress:h,hasClaimed:m,onApplyForPartnership:x})=>e?a.jsxs("div",{className:"fixed inset-0 z-[100] flex justify-end",children:[a.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm animate-in fade-in duration-200",onClick:t}),a.jsxs("div",{className:"relative w-full max-w-lg bg-white h-full shadow-2xl overflow-y-auto no-scrollbar animate-in slide-in-from-right duration-300 flex flex-col",children:[a.jsxs("div",{className:"p-5 border-b border-slate-100 flex items-center justify-between sticky top-0 bg-white z-10",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-slate-900 text-white rounded-xl",children:a.jsx(rv,{size:18})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-sm font-black text-slate-900 uppercase tracking-tight leading-none",children:"Network Performance"}),a.jsx("p",{className:"text-[9px] text-slate-400 font-bold uppercase tracking-widest mt-1",children:"Monthly Metrics & Growth"})]})]}),a.jsx("button",{onClick:t,className:"p-2 text-slate-300 hover:text-slate-900 transition-colors",children:a.jsx(bt,{size:20})})]}),a.jsxs("div",{className:"p-5 space-y-6 pb-20",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"bg-slate-50 p-3.5 rounded-2xl border border-slate-100 flex flex-col gap-2",children:[a.jsx("div",{className:"p-1.5 w-fit bg-indigo-100 text-indigo-600 rounded-lg",children:a.jsx($i,{size:16})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-0.5 leading-none",children:"My Clients"}),a.jsx("p",{className:"text-lg font-black text-slate-900 tracking-tighter leading-none",children:i})]})]}),a.jsxs("div",{className:"bg-slate-50 p-3.5 rounded-2xl border border-slate-100 flex flex-col gap-2",children:[a.jsx("div",{className:"p-1.5 w-fit bg-emerald-100 text-emerald-600 rounded-lg",children:a.jsx(OE,{size:16})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-0.5 leading-none",children:"Team Members"}),a.jsx("p",{className:"text-lg font-black text-slate-900 tracking-tighter leading-none",children:o})]})]}),a.jsxs("div",{className:`p-3.5 rounded-2xl shadow-sm flex flex-col gap-2 text-white ${n?"bg-amber-500":"bg-indigo-600"}`,children:[a.jsx("div",{className:"p-1.5 w-fit bg-white/20 rounded-lg",children:a.jsx(Mi,{size:16})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[9px] font-black text-white/70 uppercase tracking-widest mb-0.5 leading-none",children:"Monthly Earning"}),a.jsxs("p",{className:"text-lg font-black tracking-tighter leading-none",children:["K",Oe(c)]})]})]}),a.jsxs("div",{className:`p-3.5 rounded-2xl shadow-sm flex flex-col gap-2 text-white ${u>=1?"bg-emerald-600":"bg-rose-500"} overflow-hidden`,children:[a.jsx("div",{className:"p-1.5 w-fit bg-white/20 rounded-lg",children:a.jsx(CE,{size:16})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[9px] font-black text-white/70 uppercase tracking-widest mb-0.5 leading-none",children:"Monthly Target"}),a.jsx("p",{className:"text-lg font-black tracking-tighter leading-none",children:u>=1?"Target Met":"Action Required"})]})]})]}),r&&a.jsxs("div",{className:"rounded-2xl p-5 text-white shadow-lg relative overflow-hidden bg-slate-900 border border-slate-800",children:[a.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-5",children:h.icon}),a.jsxs("div",{className:"relative z-10 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2.5 rounded-xl shadow-md ${h.color}`,children:H.cloneElement(h.icon,{size:18})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-white",children:h.label}),a.jsx("p",{className:"text-[8px] font-bold text-slate-400 uppercase tracking-widest mt-0.5",children:h.subtext})]})]}),a.jsxs("div",{className:"space-y-2.5",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex-1 h-1.5 bg-white/10 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-indigo-500 transition-all duration-1000",style:{width:`${h.percentage}%`}})}),a.jsxs("span",{className:"text-xs font-black text-white",children:[h.percentage.toFixed(0),"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-[8px] font-black px-2 py-0.5 rounded uppercase tracking-widest bg-white/5 text-slate-400",children:["Current Rank: ",h.level]}),h.canApply&&!m&&a.jsx("button",{onClick:x,className:"px-4 py-1.5 bg-amber-500 hover:bg-amber-400 text-slate-900 rounded-lg text-[8px] font-black uppercase tracking-widest shadow-md transition-all active:scale-95",children:"Apply for Partner"})]})]})]})]}),n&&a.jsxs("div",{className:"bg-slate-50 border border-slate-100 rounded-2xl p-5 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(yE,{size:14,className:"text-indigo-600"}),a.jsx("h3",{className:"text-[10px] font-black text-slate-900 uppercase tracking-widest",children:"Referral Performance"})]}),a.jsx("div",{className:"space-y-2",children:d.map((v,j)=>a.jsxs("div",{className:"bg-white p-3 rounded-xl border border-slate-100 flex items-center justify-between shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-100 flex items-center justify-center text-[9px] font-black text-slate-400",children:j+1}),a.jsx("p",{className:"text-[10px] font-black text-slate-800 uppercase truncate max-w-[120px]",children:v.name})]}),a.jsx("div",{className:"text-right",children:a.jsx("p",{className:"text-xs font-black text-indigo-600",children:v.count})})]},v.name))})]}),n&&a.jsxs("div",{className:"bg-slate-900 rounded-2xl p-5 text-white shadow-md relative overflow-hidden",children:[a.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10",children:a.jsx(g_,{size:40})}),a.jsx("h4",{className:"text-[10px] font-black uppercase text-indigo-400 tracking-widest mb-4",children:"Top Performers"}),a.jsx("div",{className:"space-y-3",children:f.slice(0,3).map((v,j)=>a.jsx("div",{className:"flex items-center justify-between group border-b border-white/5 pb-2 last:border-0 last:pb-0",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-6 h-6 rounded-lg flex items-center justify-center text-[9px] font-black ${j===0?"bg-amber-500 text-slate-900":"bg-slate-800"}`,children:j+1}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-[11px] font-black uppercase tracking-tight truncate max-w-[140px]",children:v.AgentName}),a.jsxs("p",{className:"text-[8px] text-slate-500 uppercase font-bold",children:[v.monthlyOnboards," Onboards  ",v.ExperienceLevel]})]})]})},v.AgentID))})]}),a.jsxs("div",{className:"bg-slate-50 border border-slate-100 rounded-2xl p-5 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(hn,{size:14,className:"text-slate-900"}),a.jsx("h3",{className:"text-[10px] font-black text-slate-900 uppercase tracking-widest",children:"Network Policy"})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("div",{className:"bg-white p-3 rounded-xl border border-slate-100 shadow-sm flex items-start gap-3",children:[a.jsx(Nf,{size:14,className:"text-rose-500 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h5",{className:"text-[9px] font-black text-slate-900 uppercase",children:"Payout Requirement"}),a.jsx("p",{className:"text-[9px] text-slate-500 leading-tight mt-1",children:"Minimum 1 new client activation monthly to maintain base standing."})]})]}),a.jsxs("div",{className:"bg-white p-3 rounded-xl border border-slate-100 shadow-sm flex items-start gap-3",children:[a.jsx(co,{size:14,className:"text-indigo-500 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h5",{className:"text-[9px] font-black text-slate-900 uppercase",children:"Career Acceleration"}),a.jsx("p",{className:"text-[9px] text-slate-500 leading-tight mt-1",children:"Onboarding 2+ clients monthly accelerates rank progression."})]})]})]})]})]})]})]}):null,Xu=({title:e,icon:t,children:n})=>a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-900 border-b border-slate-100 pb-2",children:[a.jsx(t,{size:18,className:"text-indigo-600"}),a.jsx("h3",{className:"text-xs font-black uppercase tracking-widest",children:e})]}),a.jsx("div",{className:"space-y-3",children:n})]}),Hh=({role:e,icon:t,tasks:n,color:r})=>a.jsxs("div",{className:`p-4 rounded-2xl border ${r} bg-white shadow-sm`,children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"p-2 rounded-xl bg-slate-50 text-slate-800",children:a.jsx(t,{size:16})}),a.jsx("h4",{className:"text-[11px] font-black uppercase tracking-tight",children:e})]}),a.jsx("ul",{className:"space-y-2",children:n.map((i,o)=>a.jsxs("li",{className:"flex items-start gap-2 text-[10px] text-slate-600 leading-tight",children:[a.jsx("div",{className:"w-1 h-1 rounded-full bg-slate-300 mt-1.5 shrink-0"}),i]},o))})]}),rM=({isOpen:e,onClose:t})=>e?a.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md",children:a.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col overflow-hidden animate-in zoom-in duration-300",children:[a.jsxs("div",{className:"p-6 md:p-8 border-b border-slate-50 flex justify-between items-center bg-slate-50/50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-slate-900 text-white rounded-2xl shadow-lg",children:a.jsx(hE,{size:20})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-black text-slate-900 uppercase tracking-tight",children:"Staff Operations Guide"}),a.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:"Internal Guidance & Procedures"})]})]}),a.jsx("button",{onClick:t,className:"p-2 text-slate-300 hover:text-slate-900 transition-colors",children:a.jsx(bt,{size:24})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6 md:p-10 space-y-10 no-scrollbar",children:[a.jsx(Xu,{title:"About Our Team",icon:$i,children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[a.jsx(Hh,{role:"SCBC Agent",icon:Wi,color:"border-indigo-100",tasks:["Onboard new clients","Manage client accounts","Provide client support","Escalate technical issues","Guide clients on system usage"]}),a.jsx(Hh,{role:"Partner",icon:Qj,color:"border-amber-100",tasks:["Strategic investment work","Manage client accounts","Provide support & guidance","Follow up on client issues","Onboard new clients"]}),a.jsx(Hh,{role:"Support Staff",icon:Cc,color:"border-slate-100",tasks:["Help clients with system usage","Resolve account issues","Escalate technical problems","Maintain smooth communication"]})]})}),a.jsx(Xu,{title:"Daily Responsibilities",icon:e_,children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["Manage assigned client accounts","Find and onboard new clients","Follow up on all due payments","Record payments accurately in the system","Monitor upcoming payment due dates","Create, sign, and renew client contracts","Maintain regular contact with all clients"].map((n,r)=>a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-xl border border-slate-100",children:[a.jsx(hn,{size:14,className:"text-emerald-500 shrink-0"}),a.jsx("span",{className:"text-[10px] font-bold text-slate-700 uppercase leading-tight",children:n})]},r))})}),a.jsx(Xu,{title:"Monthly Earnings",icon:Mi,children:a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"bg-indigo-600 rounded-3xl p-6 text-white relative overflow-hidden shadow-xl",children:[a.jsx("div",{className:"absolute right-0 top-0 p-6 opacity-10 rotate-12",children:a.jsx(Mi,{size:80})}),a.jsxs("div",{className:"relative z-10 space-y-2",children:[a.jsx("h4",{className:"text-xs font-black uppercase text-indigo-200",children:"Agents and Support Staff"}),a.jsxs("p",{className:"text-sm font-bold leading-relaxed",children:["Receive a monthly share of not less than ",a.jsx("span",{className:"text-emerald-300",children:"25%"})," from revenue generated by clients assigned to you."]}),a.jsx("p",{className:"text-[10px] text-indigo-100/70 font-medium",children:"Earnings increase based on performance and number of clients managed. Bonuses may be awarded for high performance."})]})]}),a.jsxs("div",{className:"bg-amber-500 rounded-3xl p-6 text-white relative overflow-hidden shadow-xl",children:[a.jsx("div",{className:"absolute right-0 top-0 p-6 opacity-10 rotate-12",children:a.jsx(Qj,{size:80})}),a.jsxs("div",{className:"relative z-10 space-y-2",children:[a.jsx("h4",{className:"text-xs font-black uppercase text-amber-100",children:"Partners"}),a.jsx("p",{className:"text-sm font-bold leading-relaxed",children:"Earnings are based on mutual agreement and investment contribution over an agreed period."})]})]})]})}),a.jsx(Xu,{title:"Client Onboarding Procedures",icon:K4,children:a.jsx("div",{className:"space-y-2",children:['Add the client under "Clients" in the system','Add the clients vehicle or vehicles under "Vehicles"',"Complete installation and confirm system activation","Create and sign the contract in the system","The system automatically sends the contract to the client","The client signs and returns it digitally via portal","Generate payment and invoice through the system","Record payment once received into the system","Monitor the next payment due date using the system"].map((n,r)=>a.jsxs("div",{className:"flex items-center gap-4 p-3 border-l-4 border-indigo-500 bg-white shadow-sm rounded-r-xl",children:[a.jsx("span",{className:"text-[10px] font-black text-indigo-600 w-4",children:r+1}),a.jsx("span",{className:"text-[10px] font-bold text-slate-600 uppercase tracking-wide leading-tight",children:n})]},r))})})]}),a.jsx("div",{className:"p-8 border-t border-slate-100 bg-slate-50 flex justify-center shrink-0",children:a.jsx("button",{onClick:t,className:"px-10 py-3 bg-slate-900 text-white rounded-2xl text-[10px] font-black uppercase tracking-[0.2em] shadow-xl hover:bg-black transition-all active:scale-95",children:"I Understand the Guide"})})]})}):null,aM=({data:e,onClaimPayout:t,onApplyForPartnership:n})=>{var L,F,Y;const[r,i]=O.useState(!1),[o,c]=O.useState(!1),[u,d]=O.useState(!0),f=((L=e.currentUser)==null?void 0:L.role)||"Agent",h=f==="Admin",m=f==="Agent",x=((F=e.currentUser)==null?void 0:F.id)||"",v=((Y=e.currentUser)==null?void 0:Y.name)||"",j=new Date,b=j.getMonth(),w=j.getFullYear();O.useEffect(()=>{if(u){const W=setTimeout(()=>{d(!1)},15e3);return()=>clearTimeout(W)}},[u]);const y=O.useMemo(()=>(e.clients||[]).filter(W=>String(W.AssignedAgentID).trim().toLowerCase()===String(x).trim().toLowerCase()),[e.clients,x]),k=O.useMemo(()=>(y||[]).filter(W=>{const V=new Date(W.OnboardingDate);return V.getMonth()===b&&V.getFullYear()===w}).length,[y,b,w]),P=(e.agents||[]).find(W=>String(W.AgentID).trim().toLowerCase()===String(x).trim().toLowerCase()),C=O.useMemo(()=>{if(h||!P||P.PolicyExempt||k>=1)return!1;if(P.EnforcementExtensionDate){const W=new Date(P.EnforcementExtensionDate);if(j<W)return!1}return!0},[h,P,k,j]),S=O.useMemo(()=>{const W={};return(e.referrals||[]).forEach(V=>{W[V.ReferrerID]||(W[V.ReferrerID]={name:V.ReferrerName,count:0}),W[V.ReferrerID].count++}),Object.values(W).sort((V,ee)=>ee.count-V.count).slice(0,5)},[e.referrals]),E=O.useMemo(()=>(e.agents||[]).filter(W=>W.Role==="Agent"||W.Role==="Admin").map(W=>{const V=(e.clients||[]).filter(X=>String(X.AssignedAgentID).trim().toLowerCase()===String(W.AgentID).trim().toLowerCase()),ee=V.filter(X=>{const J=new Date(X.OnboardingDate);return J.getMonth()===b&&J.getFullYear()===w}).length,_=(e.payments||[]).filter(X=>{const J=V.some(ge=>ge.ClientID===X.ClientID),le=new Date(X.Date);return J&&le.getMonth()===b&&le.getFullYear()===w}).reduce((X,J)=>X+Number(J.Amount)/(J.MonthsCovered||1),0),q=(e.agents||[]).filter(X=>String(X.ParentAgentID).trim().toLowerCase()===String(W.AgentID).trim().toLowerCase()).length;return{...W,monthlyOnboards:ee,monthlyRevenue:_,teamSize:q,score:ee*100+_/10}}).sort((W,V)=>V.score-W.score),[e.agents,e.clients,e.payments,b,w]),D=O.useMemo(()=>(e.notifications||[]).filter(W=>(W.Type==="PAYOUT_REQUEST"||W.Type==="PARTNERSHIP_APPLICATION")&&W.Status==="Unread").sort((W,V)=>new Date(V.Time).getTime()-new Date(W.Time).getTime()),[e.notifications]),T=(e.agents||[]).filter(W=>String(W.ParentAgentID).trim().toLowerCase()===String(x).trim().toLowerCase()),M=O.useMemo(()=>{const W=(y||[]).length,V=(P==null?void 0:P.GraduatedTraineesCount)||0,ee=(P==null?void 0:P.ExperienceLevel)||"Trainee";let _=10,q="Path to Independent Agent",X=`${10-W} more clients to unlock Independent status.`,J=a.jsx(bE,{size:24}),le="bg-indigo-600";W>=10&&ee==="Trainee"?(_=25,q="Path to Mentor Unlock",X="Reached 10! Add 15 more to unlock Trainee Slots.",J=a.jsx(Ly,{size:24}),le="bg-emerald-500"):(W>=25||ee==="Mentor")&&(_=50,q="Path to Partner (Lead)",X=`Graduated: ${V}/5. Mentor override active.`,J=a.jsx(xE,{size:24}),le="bg-amber-500");const ge=Math.min(100,W/_*100),xe=ee==="Mentor"&&V>=5;return{percentage:ge,label:q,subtext:X,icon:J,color:le,canApply:xe,graduatedCount:V,level:ee}},[y,P]),z=O.useMemo(()=>{const W=(P==null?void 0:P.CommissionRate)??10,V=(e.payments||[]).filter(_=>{const q=(y||[]).some(J=>J.ClientID===_.ClientID),X=new Date(_.Date);return q&&X.getMonth()===b&&X.getFullYear()===w}).reduce((_,q)=>_+Number(q.Amount)/(q.MonthsCovered||1),0),ee=(e.payments||[]).filter(_=>{const q=(T||[]).find(J=>String(J.AgentID)===String(_.AgentID)),X=new Date(_.Date);return!!q&&X.getMonth()===b&&X.getFullYear()===w}).reduce((_,q)=>_+Number(q.Amount)/(q.MonthsCovered||1),0);return V*(W/100)+ee*.05},[e.payments,y,T,b,w,P]),R=O.useMemo(()=>{const W=`CLAIM-${x}-${b+1}-${w}`;return(e.notifications||[]).some(V=>V.ID===W)},[e.notifications,x,b,w]),B=[{name:"Partner Hub",path:"/partner-hub",icon:Ry,key:"partner_hub",roles:["Partner"]},{name:"Clients",path:"/clients",icon:$i,key:"clients"},{name:"Vehicles",path:"/vehicles",icon:yr,key:"vehicles"},{name:"Asset Service",path:"/maintenance",icon:$l,key:"sim_manager"},{name:"SIM Assets",path:"/sim-maintenance",icon:oa,key:"sim_manager"},{name:"Contracts",path:"/contracts",icon:Cn,key:"contracts"},{name:"Invoices",path:"/invoices",icon:Cn,key:"invoices"},{name:"Payments",path:"/payments",icon:ha,key:"payments"},{name:"Commissions",path:"/commissions",icon:_y,key:"commissions"},{name:"Support Desk",path:"/support",icon:tr,key:"support"},{name:"Team Access",path:"/agents",icon:Wi,key:"agents"},{name:"Reports",path:"/reports",icon:H4,key:"dashboard"},{name:"Settings",path:"/settings",icon:d_,key:"settings"}].filter(W=>{var ee,_,q;if(W.key==="partner_hub")return f==="Partner";if(f==="Admin")return!0;const V=["clients","vehicles","sim_manager","contracts","invoices","payments","commissions","support"];return f==="Partner"?W.key==="dashboard"?!1:!!V.includes(W.key):f==="Agent"&&(V.includes(W.key)||W.key==="dashboard")?!0:(q=(_=(ee=e.currentUser)==null?void 0:ee.permissions)==null?void 0:_[W.key])==null?void 0:q.view});return a.jsxs("div",{className:"h-full flex flex-col items-center select-none overflow-y-auto no-scrollbar py-12 px-4 animate-in fade-in duration-1000 relative",children:[C&&a.jsx("div",{className:"w-full max-w-4xl mb-8 animate-in slide-in-from-top-4 duration-500",children:a.jsxs("div",{className:"bg-rose-50 border-2 border-rose-200 rounded-[2rem] p-6 flex flex-col md:flex-row items-center justify-between gap-6 shadow-xl shadow-rose-100/50",children:[a.jsxs("div",{className:"flex items-center gap-5 text-rose-900",children:[a.jsx("div",{className:"w-14 h-14 bg-rose-600 rounded-2xl flex items-center justify-center text-white shadow-lg shadow-rose-600/20",children:a.jsx(ky,{size:28})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-base font-black uppercase tracking-tight",children:"Performance Requirement: Onboarding"}),a.jsxs("p",{className:"text-xs font-medium text-rose-700/80 leading-relaxed mt-1",children:["Our service policy requires a minimum of ",a.jsx("span",{className:"font-black text-rose-900",children:"1 client onboarding per month"})," to maintain your current remuneration standing. Your account currently shows 0 activations for ",j.toLocaleString("default",{month:"long"}),"."]}),a.jsxs("p",{className:"text-[10px] font-black uppercase text-rose-600 tracking-widest mt-2 flex items-center gap-1",children:[a.jsx(zl,{size:10})," Notice: Remuneration reduction may apply if not attended to."]})]})]}),a.jsx("button",{onClick:()=>i(!0),className:"w-full md:w-auto px-8 py-3 bg-rose-900 text-white rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-black transition-all active:scale-95 shadow-lg",children:"Check My Stats"})]})}),a.jsxs("div",{className:"fixed bottom-24 right-6 z-[60] flex flex-col gap-3 items-end",children:[!u&&a.jsx("button",{onClick:()=>d(!0),className:"w-12 h-12 bg-slate-900 text-white rounded-2xl shadow-xl flex items-center justify-center transition-all hover:scale-110 active:scale-95 border border-white/10 animate-in zoom-in",title:"Expand Tools",children:a.jsx(NE,{size:18})}),u&&a.jsxs("div",{className:"flex flex-col gap-3 items-end animate-in slide-in-from-bottom-5 fade-in duration-300",children:[a.jsxs("div",{className:"flex items-center gap-3 group",children:[a.jsx("span",{className:"hidden md:block opacity-0 group-hover:opacity-100 transition-all -translate-x-2 group-hover:translate-x-0 bg-slate-900 text-white text-[9px] font-black uppercase tracking-widest px-3 py-1.5 rounded-lg shadow-xl border border-white/10 whitespace-nowrap pointer-events-none",children:"Staff Guide"}),a.jsx("button",{onClick:()=>c(!0),className:"w-14 h-14 bg-white text-slate-400 rounded-2xl shadow-xl flex items-center justify-center transition-all hover:scale-110 active:scale-95 hover:text-indigo-600 border border-slate-100",title:"Staff Handbook",children:a.jsx(hE,{size:20})})]}),a.jsxs("div",{className:"flex items-center gap-3 group",children:[a.jsx("span",{className:"hidden md:block opacity-0 group-hover:opacity-100 transition-all -translate-x-2 group-hover:translate-x-0 bg-indigo-600 text-white text-[9px] font-black uppercase tracking-widest px-3 py-1.5 rounded-lg shadow-xl border border-white/10 whitespace-nowrap pointer-events-none",children:"Network Hub"}),a.jsxs("button",{onClick:()=>i(!0),className:"w-14 h-14 bg-slate-900 text-white rounded-2xl shadow-xl flex flex-col items-center justify-center transition-all hover:scale-110 active:scale-95 hover:bg-indigo-600 relative overflow-hidden group/btn",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-indigo-500/20 to-transparent opacity-0 group-hover/btn:opacity-100 transition-opacity"}),a.jsx(zl,{size:22,className:"relative z-10"}),a.jsx("span",{className:"text-[7px] font-black uppercase tracking-widest mt-1 relative z-10",children:"Network"}),D.length>0&&h&&a.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-rose-500 border-2 border-white rounded-full flex items-center justify-center text-[8px] font-black animate-bounce",children:D.length})]})]}),a.jsx("button",{onClick:()=>d(!1),className:"w-8 h-8 mr-3 bg-white border border-slate-100 text-slate-300 rounded-full flex items-center justify-center hover:text-slate-600 transition-colors shadow-sm",title:"Hide Tools",children:a.jsx(_i,{size:14})})]})]}),a.jsx(tM,{tiles:B}),a.jsx(nM,{isOpen:r,onClose:()=>i(!1),isAdmin:h,isAgent:m,myClientsCount:y.length,myTraineesCount:T.length,estimatedEarnings:z,monthActivations:k,referralLeaders:S,agentPerformance:E,questProgress:M,hasClaimed:R,onApplyForPartnership:()=>n==null?void 0:n(x,v,"Promotion to Partner Status Request")}),a.jsx(rM,{isOpen:o,onClose:()=>c(!1)})]})},iM=({client:e,assignedAgent:t,assetCount:n,activityLogs:r=[],onView:i})=>{var x;const o=!e.AssignedAgentID||String(e.AssignedAgentID)==="0"||String(e.AssignedAgentID).trim()==="",c=t?t.AgentName.split(" ")[0]:null,u=((x=t==null?void 0:t.Role)==null?void 0:x.toLowerCase())==="partner",d=r.filter(v=>String(v.ClientID)===String(e.ClientID)),f=d.length>0,h=new Date;h.setHours(0,0,0,0);const m=d==null?void 0:d.some(v=>v.FollowUpDate?new Date(v.FollowUpDate)<=h:!1);return a.jsxs("div",{onClick:()=>i(e),className:"group relative flex flex-col items-center cursor-pointer transition-transform duration-300 hover:-translate-y-1",children:[a.jsx("button",{className:"absolute -right-1 -top-1 p-2 text-slate-200 hover:text-slate-400 transition-colors z-10",children:a.jsx(jf,{size:14})}),o&&a.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 z-20 animate-pulse",children:a.jsx("div",{className:"bg-rose-500 text-white px-2 py-0.5 rounded-full text-[7px] font-black uppercase tracking-widest shadow-xl border border-white",children:"NEEDS AGENT"})}),a.jsxs("div",{className:"relative mb-3 md:mb-5",children:[a.jsx("div",{className:`w-20 h-20 md:w-32 md:h-32 rounded-full border flex items-center justify-center transition-all duration-500 group-hover:scale-105 group-hover:shadow-xl bg-white
          ${o?"border-rose-100 bg-rose-50/10":e.ClientType==="Individual"?e.Gender==="Female"?"border-rose-100 text-rose-300":"border-indigo-100 text-indigo-300":"border-slate-100 text-slate-300"}`,children:o?a.jsx(b_,{className:"w-8 h-8 md:w-12 md:h-12 text-rose-200",strokeWidth:1}):e.ClientType==="Individual"?a.jsx(Nt,{className:"w-8 h-8 md:w-12 md:h-12",strokeWidth:1}):a.jsx(Ei,{className:"w-8 h-8 md:w-12 md:h-12",strokeWidth:1})}),a.jsx("div",{className:`absolute bottom-0.5 right-0.5 md:bottom-2 md:right-2 w-3.5 h-3.5 md:w-5 md:h-5 rounded-full border-2 md:border-4 border-white shadow-sm
          ${e.Status===ln.Active?"bg-emerald-500":"bg-rose-500"}`}),a.jsxs("div",{className:"absolute top-0 -right-2 flex flex-col gap-1 z-20",children:[m&&a.jsx("div",{className:"bg-rose-600 text-white p-1.5 rounded-full shadow-lg border-2 border-white animate-bounce ring-4 ring-rose-500/20",title:"Follow-up Required Today",children:a.jsx(md,{size:10,strokeWidth:3})}),f&&a.jsx("div",{className:"bg-indigo-500 text-white p-1.5 rounded-full shadow-lg border-2 border-white",title:"Has Activity History",children:a.jsx(tr,{size:10,strokeWidth:3})})]}),a.jsx("div",{className:`absolute -top-1 -left-1 px-1.5 py-0.5 rounded-md border flex items-center animate-in fade-in duration-1000 ${o?"bg-rose-50 border-rose-100 text-rose-400":"bg-white/40 border-slate-100/30 text-slate-400"} backdrop-blur-[2px]`,children:a.jsx("span",{className:"text-[6px] md:text-[8px] font-black uppercase tracking-tighter truncate max-w-[40px] md:max-w-[70px]",children:o?"Unassigned":c})}),n>0&&a.jsx("div",{className:"absolute -bottom-1 -left-1 w-5 h-5 md:w-7 md:h-7 bg-slate-50/80 backdrop-blur-[2px] text-slate-400 rounded-full border border-slate-100/50 flex items-center justify-center animate-in zoom-in duration-500",children:a.jsx("span",{className:"text-[7px] md:text-[9px] font-black leading-none",children:n})})]}),a.jsxs("div",{className:"text-center space-y-0.5 px-1 w-full",children:[a.jsx("h3",{className:`text-[10px] md:text-xs font-black uppercase tracking-tight transition-colors line-clamp-1 ${o?"text-rose-900":"text-slate-900 group-hover:text-indigo-600"}`,children:e.CompanyName}),a.jsx("p",{className:"text-[7px] md:text-[8px] font-bold text-slate-400 uppercase tracking-[0.2em] leading-none opacity-60",children:e.ClientType})]}),u&&!o&&a.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx("div",{className:"bg-indigo-600 text-white text-[6px] font-black uppercase px-2 py-0.5 rounded-full tracking-widest",children:"Partner"})})]})},sM=({clients:e,agents:t,vehicles:n=[],activityLogs:r=[],onAdd:i,onView:o,onEdit:c})=>{const[u,d]=O.useState(""),[f,h]=O.useState("All"),m=e.filter(v=>{if(!(v.CompanyName.toLowerCase().includes(u.toLowerCase())||v.Phone&&v.Phone.includes(u)||v.NRC&&v.NRC.toLowerCase().includes(u.toLowerCase())))return!1;const b=!v.AssignedAgentID||String(v.AssignedAgentID)==="0"||String(v.AssignedAgentID).trim()==="";return f==="Unassigned"?b:!0}),x=e.filter(v=>!v.AssignedAgentID||String(v.AssignedAgentID)==="0"||String(v.AssignedAgentID).trim()==="").length;return a.jsxs("div",{className:"flex flex-col h-full animate-in fade-in duration-700 overflow-hidden",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 pb-6 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-1.5 p-1 bg-slate-100 border border-slate-200 rounded-2xl w-fit",children:[a.jsx("button",{onClick:()=>h("All"),className:`px-5 py-2 text-[9px] font-black uppercase tracking-widest rounded-xl transition-all ${f==="All"?"bg-slate-900 text-white shadow-md":"text-slate-400 hover:text-slate-600"}`,children:"All Accounts"}),a.jsxs("button",{onClick:()=>h("Unassigned"),className:`px-5 py-2 text-[9px] font-black uppercase tracking-widest rounded-xl transition-all flex items-center gap-2 ${f==="Unassigned"?"bg-rose-50 text-white shadow-md":"text-slate-400 hover:text-slate-600"}`,children:[x>0&&a.jsx(pa,{size:12,className:f==="Unassigned"?"text-white":"text-rose-500"}),"Unassigned (",x,")"]})]}),a.jsxs("div",{className:"flex w-full md:max-w-lg items-center gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(An,{size:14,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),a.jsx("input",{type:"text",placeholder:"SEARCH REGISTRY...",value:u,onChange:v=>d(v.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-100 rounded-full text-[9px] font-black text-slate-600 placeholder:text-slate-300 outline-none focus:ring-4 focus:ring-slate-100/50 transition-all uppercase tracking-widest"})]}),a.jsx("button",{onClick:i,className:"p-2.5 bg-slate-900 text-white rounded-full hover:bg-slate-800 transition-all shadow-lg active:scale-90 flex-shrink-0",children:a.jsx(Lr,{size:16,strokeWidth:3})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-10 pt-2",children:a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-3 md:gap-x-8 gap-y-8 md:gap-y-12",children:m.length>0?m.map(v=>a.jsx(iM,{client:v,assignedAgent:t.find(j=>String(j.AgentID)===String(v.AssignedAgentID)),assetCount:n.filter(j=>String(j.ClientID)===String(v.ClientID)).length,activityLogs:r,onView:o},v.ClientID)):a.jsxs("div",{className:"col-span-full py-20 flex flex-col items-center opacity-10",children:[a.jsx(Nt,{size:40,className:"mb-2"}),a.jsx("p",{className:"text-[8px] font-black uppercase tracking-[0.5em]",children:"No Data"})]})})})]})},oM=({vehicles:e,agents:t,clients:n,onAdd:r,onView:i,onEdit:o})=>{const[c,u]=O.useState(""),d=e.filter(f=>f.NumberPlate.toLowerCase().includes(c.toLowerCase())||f.ClientName.toLowerCase().includes(c.toLowerCase())||f.Make.toLowerCase().includes(c.toLowerCase())||f.Model.toLowerCase().includes(c.toLowerCase()));return a.jsxs("div",{className:"flex flex-col h-full animate-in fade-in duration-700 overflow-hidden",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-end gap-4 pb-6 shrink-0",children:a.jsxs("div",{className:"flex w-full md:max-w-lg items-center gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(An,{size:14,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),a.jsx("input",{type:"text",placeholder:"SEARCH FLEET...",value:c,onChange:f=>u(f.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-100 rounded-full text-[9px] font-black text-slate-600 placeholder:text-slate-300 outline-none focus:ring-4 focus:ring-slate-100/50 transition-all uppercase tracking-widest"})]}),a.jsx("button",{onClick:r,className:"p-2.5 bg-slate-900 text-white rounded-full hover:bg-slate-800 transition-all shadow-lg active:scale-90 flex-shrink-0",children:a.jsx(Lr,{size:16,strokeWidth:3})})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-10 pt-2",children:a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-3 md:gap-x-8 gap-y-8 md:gap-y-12",children:d.length>0?d.map(f=>a.jsxs("div",{onClick:()=>i(f),className:"group relative flex flex-col items-center cursor-pointer transition-transform duration-300 hover:-translate-y-1",children:[a.jsx("div",{className:"absolute -right-1 -top-1 z-20 flex gap-1",children:a.jsx("button",{onClick:h=>{h.stopPropagation(),o(f)},className:"p-2 bg-white border border-slate-100 text-slate-300 hover:text-indigo-600 rounded-full transition-all shadow-md active:scale-90",children:a.jsx(Ty,{size:14})})}),a.jsxs("div",{className:"relative mb-3 md:mb-5",children:[a.jsx("div",{className:"w-20 h-20 md:w-32 md:h-32 rounded-full border border-slate-100 flex items-center justify-center transition-all duration-500 group-hover:scale-105 group-hover:shadow-xl bg-white text-slate-300",children:a.jsx(yr,{className:"w-8 h-8 md:w-12 md:h-12",strokeWidth:1})}),a.jsx("div",{className:`absolute bottom-0.5 right-0.5 md:bottom-2 md:right-2 w-3.5 h-3.5 md:w-5 md:h-5 rounded-full border-2 md:border-4 border-white shadow-sm
                      ${f.Status===Ds.Active?"bg-indigo-500":"bg-orange-500"}`}),a.jsxs("div",{className:"absolute bottom-0 -left-1 px-1.5 py-0.5 bg-white/60 backdrop-blur-[2px] rounded-full border border-slate-100/30 flex items-center gap-1 animate-in slide-in-from-bottom-2 duration-700",children:[a.jsx(Nt,{size:8,className:"text-slate-400"}),a.jsx("span",{className:"text-[6px] md:text-[7px] font-black text-slate-400 uppercase tracking-tight truncate max-w-[50px] md:max-w-[80px]",children:f.ClientName})]}),a.jsxs("div",{className:"absolute -top-1 -right-1 px-1.5 py-0.5 bg-slate-900/90 backdrop-blur-[2px] text-white rounded-md border border-white/10 flex items-center animate-in zoom-in duration-500",children:[a.jsx(wE,{size:8,className:"text-indigo-400 mr-0.5"}),a.jsx("span",{className:"text-[7px] md:text-[9px] font-black leading-none uppercase tracking-tighter",children:f.NumberPlate})]})]}),a.jsxs("div",{className:"text-center space-y-0.5 px-1 w-full",children:[a.jsxs("h3",{className:"text-[10px] md:text-xs font-black text-slate-900 uppercase tracking-tight group-hover:text-indigo-600 transition-colors line-clamp-1",children:[f.Make," ",f.Model]}),a.jsxs("p",{className:"text-[7px] md:text-[8px] font-bold text-slate-400 uppercase tracking-[0.2em] leading-none opacity-60",children:[f.Year,"  ",f.ServiceType]})]})]},f.VehicleID)):a.jsxs("div",{className:"col-span-full py-20 flex flex-col items-center opacity-10",children:[a.jsx(yr,{size:40,className:"mb-2"}),a.jsx("p",{className:"text-[8px] font-black uppercase tracking-[0.5em]",children:"No Assets"})]})})})]})},lM=({isOpen:e,onClose:t,vehicles:n,agent:r,onSave:i})=>{const[o,c]=O.useState({}),[u,d]=O.useState(!1),[f,h]=O.useState(!0),[m,x]=O.useState("30"),v=n.length>1;O.useEffect(()=>{if(n.length>0&&e){const y=n[0],k=new Date().toISOString().split("T")[0],P=new Date;P.setDate(P.getDate()+30),c({ID:`SIM-${Math.floor(1e4+Math.random()*9e4)}`,Date:k,ExpiryDate:P.toISOString().split("T")[0],AgentID:r.id,Reference:"",Amount:50,VehicleID:y.VehicleID,Plate:y.NumberPlate,SimNumber:y.SimNumber,Network:y.NetworkProvider}),x("30")}},[n,e,r]);const j=(y,k)=>{if(!y||k==="custom")return;const P=new Date(y);P.setDate(P.getDate()+parseInt(k)),c(C=>({...C,ExpiryDate:P.toISOString().split("T")[0]}))},b=y=>{x(y),y!=="custom"&&o.Date&&j(o.Date,y)},w=async y=>{if(y.preventDefault(),!!o.ExpiryDate){d(!0);try{const k=n.map((P,C)=>({ID:`SIM-${Math.floor(1e4+Math.random()*9e4)}-${C}`,VehicleID:P.VehicleID,Plate:P.NumberPlate,SimNumber:P.SimNumber,Network:P.NetworkProvider,Amount:o.Amount||0,Date:o.Date,ExpiryDate:o.ExpiryDate,AgentID:r.id,Reference:o.Reference||"MANUAL-RENEW"}));await i(k,f),t()}catch(k){console.error("Renewal Error:",k)}finally{d(!1)}}};return!e||n.length===0?null:a.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-3 bg-slate-900/40 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"px-5 py-4 border-b border-slate-100 flex items-center justify-between bg-slate-50/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-indigo-600 text-white rounded-lg",children:v?a.jsx(Oy,{size:18}):a.jsx(oa,{size:18})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-sm font-semibold text-slate-900 leading-tight",children:v?`Batch Renewal (${n.length})`:"SIM Renewal"}),a.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:"Security Protocol Active"})]})]}),a.jsx("button",{onClick:t,className:"p-1 text-slate-300 hover:text-slate-900",children:a.jsx(bt,{size:20})})]}),a.jsxs("form",{onSubmit:w,className:"p-5 space-y-4",children:[v?a.jsxs("div",{className:"bg-indigo-50 border border-indigo-100 p-3 rounded-xl",children:[a.jsx("p",{className:"text-[10px] font-semibold text-indigo-400 uppercase tracking-tighter",children:"Processing Multi-Node Renewal"}),a.jsxs("p",{className:"text-xs font-semibold text-indigo-700 mt-0.5",children:[n.length," Assets in Queue"]})]}):a.jsxs("div",{className:"bg-slate-50 border border-slate-100 p-3 rounded-xl flex items-center justify-between",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-[10px] font-semibold text-slate-400 uppercase tracking-tighter",children:"Target Plate"}),a.jsx("p",{className:"text-sm font-bold text-slate-900 font-mono tracking-tighter",children:n[0].NumberPlate})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] font-semibold text-slate-400 uppercase tracking-tighter",children:"SIM Provider"}),a.jsx("p",{className:"text-xs font-semibold text-slate-700",children:n[0].NetworkProvider})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-semibold text-slate-400 uppercase",children:"Service Plan"}),a.jsxs("select",{value:m,onChange:y=>b(y.target.value),className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg outline-none text-xs font-medium",children:[a.jsx("option",{value:"30",children:"Monthly"}),a.jsx("option",{value:"180",children:"6 Months"}),a.jsx("option",{value:"365",children:"Annual"}),a.jsx("option",{value:"custom",children:"Custom"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-semibold text-slate-400 uppercase",children:"Cost / SIM"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-slate-400 text-xs",children:"K"}),a.jsx("input",{type:"number",value:o.Amount||0,onChange:y=>c({...o,Amount:parseFloat(y.target.value)}),className:"w-full pl-6 p-2 bg-slate-50 border border-slate-200 rounded-lg text-xs font-semibold"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-semibold text-slate-400 uppercase",children:"Entry Date"}),a.jsx("input",{type:"date",value:o.Date,onChange:y=>{c({...o,Date:y.target.value}),j(y.target.value,m)},className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-xs font-medium"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-semibold text-slate-400 uppercase",children:"Expiry Node"}),a.jsx("input",{type:"date",value:o.ExpiryDate||"",onChange:y=>c({...o,ExpiryDate:y.target.value}),readOnly:m!=="custom",className:`w-full p-2 border rounded-lg text-xs font-semibold ${m==="custom"?"bg-slate-50 border-slate-200":"bg-indigo-50 border-indigo-100 text-indigo-600 cursor-not-allowed"}`})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-semibold text-slate-400 uppercase tracking-widest",children:"Network Transaction ID (Optional)"}),a.jsx("input",{value:o.Reference||"",onChange:y=>c({...o,Reference:y.target.value}),placeholder:"Ref from SMS...",className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-xs font-semibold text-indigo-600 outline-none focus:border-indigo-300"})]}),a.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-slate-900 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Rr,{size:12,className:f?"text-emerald-400":"text-slate-500"}),a.jsx("span",{className:"text-[10px] font-medium text-slate-300",children:"Notify Customer via Email"})]}),a.jsx("button",{type:"button",onClick:()=>h(!f),className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors ${f?"bg-emerald-500":"bg-slate-700"}`,children:a.jsx("span",{className:`inline-block h-3.5 w-3.5 transform rounded-full bg-white transition-transform ${f?"translate-x-4.5":"translate-x-1"}`})})]}),a.jsxs("div",{className:"pt-2 flex gap-3",children:[a.jsx("button",{type:"button",onClick:t,className:"flex-1 py-2 text-xs font-semibold text-slate-400 hover:text-slate-600",children:"Cancel"}),a.jsxs("button",{type:"submit",disabled:u,className:"flex-[2] bg-indigo-600 hover:bg-indigo-500 text-white py-2 rounded-xl text-xs font-semibold shadow-lg transition-all flex items-center justify-center gap-2",children:[u?a.jsx(Dt,{size:14,className:"animate-spin"}):a.jsx(zs,{size:14}),v?"Commit Multi-Node":"Record Renewal"]})]})]})]})})},t2=e=>{if(!e)return-1;const t=new Date(e);if(isNaN(t.getTime()))return-1;const n=new Date,r=t.getTime()-n.getTime();return Math.ceil(r/(1e3*60*60*24))},cM=({vehicles:e,simTopups:t,clients:n,currentUser:r,onTopUp:i})=>{const[o,c]=O.useState(""),[u,d]=O.useState("All"),[f,h]=O.useState([]),[m,x]=O.useState(null),[v,j]=O.useState([]),b=S=>{const E=t.filter(D=>D.VehicleID===S).sort((D,T)=>{const M=new Date(D.ExpiryDate).getTime(),z=new Date(T.ExpiryDate).getTime();return(isNaN(z)?0:z)-(isNaN(M)?0:M)});return E.length>0?E[0].ExpiryDate:null},w=S=>{const E=t.filter(D=>D.VehicleID===S).sort((D,T)=>{const M=new Date(D.Date).getTime(),z=new Date(T.Date).getTime();return(isNaN(z)?0:z)-(isNaN(M)?0:M)});return E.length>0?E[0].Date:null},y=O.useMemo(()=>{const S={};return e.forEach(E=>{if(u!=="All"&&E.NetworkProvider!==u)return;const D=o.toLowerCase();if(E.NumberPlate.toLowerCase().includes(D)||E.SimNumber&&E.SimNumber.toLowerCase().includes(D)||E.ClientName.toLowerCase().includes(D)){if(!S[E.ClientID]){const M=n.find(z=>z.ClientID===E.ClientID);M&&(S[E.ClientID]={client:M,items:[],stats:{}})}S[E.ClientID]&&S[E.ClientID].items.push(E)}}),Object.values(S).forEach(E=>{const D=E.items.map(B=>B.VehicleID),M=t.filter(B=>D.includes(B.VehicleID)).map(B=>new Date(B.Date).getTime()).filter(B=>!isNaN(B)),z=M.length>0?new Date(Math.max(...M)).toISOString():null,R=E.items.reduce((B,L)=>{const F=b(L.VehicleID);return!F||isNaN(new Date(F).getTime())?B:B?new Date(F)<new Date(B)?F:B:F},null),$=E.items.filter(B=>{const L=b(B.VehicleID);return t2(L)<=0}).length;E.stats={lastMaintained:z,nextMaintenance:R,dueCount:$}}),Object.values(S).sort((E,D)=>D.stats.dueCount-E.stats.dueCount)},[e,n,t,u,o]),k=S=>x(E=>E===S?null:S),P=(S,E)=>{const D=E.every(T=>f.includes(T));h(D?T=>T.filter(M=>!E.includes(M)):T=>[...new Set([...T,...E])])},C=S=>{h(E=>E.includes(S)?E.filter(D=>D!==S):[...E,S])};return a.jsxs("div",{className:"flex flex-col h-full animate-in fade-in duration-500",children:[a.jsxs("div",{className:"flex items-center gap-3 pb-3 border-b border-slate-100 mb-2 shrink-0",children:[a.jsx("div",{className:"flex items-center gap-1 p-0.5 bg-slate-100 rounded-lg shrink-0",children:["All","Airtel","MTN"].map(S=>a.jsx("button",{onClick:()=>d(S),className:`px-3 py-1 text-xs font-medium rounded-md transition-all ${u===S?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:S},S))}),a.jsxs("div",{className:"relative flex-1",children:[a.jsx(An,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300"}),a.jsx("input",{type:"text",placeholder:"Search accounts or sims...",value:o,onChange:S=>c(S.target.value),className:"w-full pl-9 pr-4 py-2 bg-slate-50 border border-slate-100 rounded-lg text-sm font-normal text-slate-600 outline-none focus:border-indigo-200 transition-all"})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar",children:a.jsxs("table",{className:"w-full border-separate border-spacing-y-1",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-xs font-semibold text-slate-400",children:[a.jsx("th",{className:"w-10 px-2 py-2"}),a.jsx("th",{className:"text-left px-2 py-2",children:"Account Entity"}),a.jsx("th",{className:"text-left px-2 py-2 hidden md:table-cell",children:"Last Maintained"}),a.jsx("th",{className:"text-left px-2 py-2",children:"Earliest Expiry"}),a.jsx("th",{className:"text-center px-2 py-2 hidden sm:table-cell",children:"Compliance"}),a.jsx("th",{className:"w-10 px-2 py-2"})]})}),a.jsx("tbody",{children:y.length>0?y.map(({client:S,items:E,stats:D})=>{const T=m===S.ClientID,M=E.map($=>$.VehicleID),z=M.every($=>f.includes($)),R=(M==null?void 0:M.some($=>f.includes($)))&&!z;return a.jsxs(H.Fragment,{children:[a.jsxs("tr",{className:`group transition-all ${T?"bg-indigo-50/40":"hover:bg-slate-50"}`,children:[a.jsx("td",{className:"px-2 py-2.5 text-center",children:a.jsx("button",{onClick:()=>P(S.ClientID,M),className:`transition-colors ${z?"text-indigo-600":R?"text-indigo-400":"text-slate-300 hover:text-slate-400"}`,children:z?a.jsx(Ml,{size:18}):a.jsx(bd,{size:18})})}),a.jsx("td",{className:"px-2 py-2.5 cursor-pointer",onClick:()=>k(S.ClientID),children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-1.5 rounded-md border transition-colors ${T?"bg-indigo-600 border-indigo-700 text-white":"bg-white border-slate-100 text-slate-400"}`,children:a.jsx(Ei,{size:14})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:`text-sm font-semibold truncate ${T?"text-indigo-900":"text-slate-700"}`,children:S.CompanyName}),a.jsxs("p",{className:"text-[10px] text-slate-400 font-medium",children:[E.length," Assets"]})]})]})}),a.jsx("td",{className:"px-2 py-2.5 hidden md:table-cell text-sm text-slate-500",children:D.lastMaintained?a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(zr,{size:12,className:"text-slate-300"}),a.jsx("span",{children:Ae(D.lastMaintained)})]}):a.jsx("span",{className:"text-slate-300 italic text-[10px] uppercase font-bold tracking-tighter",children:"No Activity Logged"})}),a.jsx("td",{className:"px-2 py-2.5 text-sm font-medium",children:a.jsx("span",{className:D.dueCount>0?"text-rose-500":"text-emerald-600",children:Ae(D.nextMaintenance)})}),a.jsx("td",{className:"px-2 py-2.5 text-center hidden sm:table-cell",children:a.jsxs("div",{className:`inline-flex items-center gap-1.5 px-2 py-0.5 rounded-full text-[10px] font-semibold border ${D.dueCount>0?"bg-rose-50 border-rose-100 text-rose-600":"bg-emerald-50 border-emerald-100 text-emerald-600"}`,children:[D.dueCount>0?a.jsx(pa,{size:10}):a.jsx(AE,{size:10}),D.dueCount>0?`${D.dueCount} Due`:"Healthy"]})}),a.jsx("td",{className:"px-2 py-2.5 text-right",children:a.jsx("button",{onClick:()=>k(S.ClientID),className:`p-1.5 transition-all rounded-full ${T?"bg-indigo-100 text-indigo-600 rotate-180":"text-slate-300 hover:text-slate-600"}`,children:a.jsx(_i,{size:16})})})]}),T&&E.map($=>{const B=b($.VehicleID),L=w($.VehicleID),F=t2(B),Y=F<=0,W=f.includes($.VehicleID);return a.jsxs("tr",{className:"bg-white border-b border-slate-50 animate-in slide-in-from-top-1",children:[a.jsx("td",{className:"px-2 py-2 text-center pl-6",children:a.jsx("button",{onClick:()=>C($.VehicleID),className:`transition-colors ${W?"text-indigo-600":"text-slate-200 hover:text-slate-300"}`,children:W?a.jsx(Ml,{size:16}):a.jsx(bd,{size:16})})}),a.jsx("td",{className:"px-2 py-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(oa,{size:12,className:"text-slate-300"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-xs font-semibold text-slate-600 font-mono tracking-tight",children:$.NumberPlate}),a.jsxs("span",{className:"text-[10px] text-slate-400 leading-none",children:["SIM: ",$.SimNumber||"N/A"," ",L&&`  Last Renewal: ${Ae(L)}`]})]})]})}),a.jsx("td",{className:"px-2 py-2 hidden md:table-cell text-xs text-slate-400",children:a.jsx("span",{className:"opacity-0",children:""})}),a.jsx("td",{className:"px-2 py-2",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx($t,{size:10,className:Y?"text-rose-400":"text-slate-300"}),a.jsx("span",{className:`text-[11px] font-medium ${Y?"text-rose-500 font-black":"text-slate-400"}`,children:Y?"Expired":`${F}d left`})]})}),a.jsx("td",{className:"px-2 py-2 text-center hidden sm:table-cell",children:a.jsx("span",{className:`text-[10px] font-medium px-1.5 py-0.5 rounded border ${Y?"bg-rose-50 border-rose-100 text-rose-500":"bg-slate-50 border-slate-100 text-slate-400"}`,children:$.NetworkProvider||"Unknown"})}),a.jsx("td",{className:"px-2 py-2 text-right pr-4",children:a.jsx("button",{onClick:()=>j([$]),className:"p-1.5 text-slate-300 hover:text-indigo-600 transition-colors",children:a.jsx(Rl,{size:14})})})]},$.VehicleID)})]},S.ClientID)}):a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"py-24 text-center text-slate-300 text-sm font-medium",children:"Inventory Empty"})})})]})}),f.length>0&&a.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 z-40 animate-in slide-in-from-bottom-5",children:a.jsxs("div",{className:"bg-slate-900 text-white rounded-xl py-2 px-4 flex items-center gap-6 shadow-2xl border border-white/10 backdrop-blur-md",children:[a.jsxs("span",{className:"text-xs font-semibold text-indigo-400",children:[f.length," Items Selected"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>h([]),className:"px-3 py-1.5 text-slate-400 hover:text-white text-xs font-medium",children:"Clear"}),a.jsx("button",{onClick:()=>j(e.filter(S=>f.includes(S.VehicleID))),className:"bg-indigo-600 hover:bg-indigo-500 text-white px-4 py-1.5 rounded-lg text-xs font-semibold shadow-lg flex items-center gap-2",children:"Renew Batch"})]})]})}),v.length>0&&a.jsx(lM,{isOpen:!0,onClose:()=>{j([]),h([])},vehicles:v,agent:r,onSave:i})]})},uM=({logs:e,onAdd:t,onView:n})=>{const[r,i]=O.useState(""),[o,c]=O.useState("All"),u=e.filter(f=>!(!(f.ClientName.toLowerCase().includes(r.toLowerCase())||f.Description.toLowerCase().includes(r.toLowerCase())||f.ID.toLowerCase().includes(r.toLowerCase()))||o!=="All"&&f.Status!==o)).sort((f,h)=>new Date(h.Date).getTime()-new Date(f.Date).getTime()),d=f=>{switch(f){case zn.Completed:return"bg-emerald-50 text-emerald-600 border-emerald-100";case zn.InProgress:return"bg-indigo-50 text-indigo-600 border-indigo-100";default:return"bg-amber-50 text-amber-600 border-amber-100"}};return a.jsxs("div",{className:"flex flex-col h-full animate-in fade-in duration-700 overflow-hidden",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 pb-8 shrink-0",children:[a.jsx("div",{className:"flex items-center gap-1.5 p-1 bg-slate-100 border border-slate-200 rounded-2xl w-fit overflow-x-auto no-scrollbar max-w-full",children:["All",zn.Scheduled,zn.InProgress,zn.Completed].map(f=>a.jsx("button",{onClick:()=>c(f),className:`px-5 py-2 text-[9px] font-black uppercase tracking-widest rounded-xl transition-all whitespace-nowrap ${o===f?"bg-slate-900 text-white shadow-md":"text-slate-400 hover:text-slate-600"}`,children:f},f))}),a.jsxs("div",{className:"flex w-full md:max-w-md items-center gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(An,{size:14,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),a.jsx("input",{type:"text",placeholder:"SEARCH SERVICE LOGS...",value:r,onChange:f=>i(f.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-100 rounded-full text-[9px] font-black text-slate-600 placeholder:text-slate-300 outline-none focus:ring-4 focus:ring-slate-100/50 transition-all uppercase tracking-widest"})]}),a.jsx("button",{onClick:t,className:"p-2.5 bg-slate-900 text-white rounded-full hover:bg-slate-800 transition-all shadow-lg active:scale-90 flex-shrink-0",children:a.jsx(Lr,{size:16,strokeWidth:3})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-10 pt-2",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.length>0?u.map(f=>a.jsxs("div",{onClick:()=>n(f),className:"group bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm hover:shadow-xl transition-all cursor-pointer relative overflow-hidden",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:"p-2.5 bg-slate-50 text-slate-400 rounded-xl group-hover:bg-indigo-50 group-hover:text-indigo-600 transition-colors",children:a.jsx($l,{size:18})}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-[8px] font-black uppercase border ${d(f.Status)}`,children:f.Status})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-sm font-black text-slate-900 uppercase truncate leading-tight",children:f.ClientName}),a.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest mt-1",children:["ID: ",f.ID]})]}),a.jsx("div",{className:"bg-slate-50 rounded-xl p-3 mb-4 min-h-[50px] border border-slate-50",children:a.jsx("p",{className:"text-[11px] text-slate-600 line-clamp-2 leading-relaxed",children:f.Description})}),a.jsxs("div",{className:"flex items-center justify-between border-t border-slate-50 pt-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($t,{size:12,className:"text-slate-300"}),a.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:Ae(f.Date)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(yr,{size:12,className:"text-indigo-300"}),a.jsxs("span",{className:"text-[9px] font-black text-indigo-400 uppercase tracking-widest",children:[f.AssetIDs.length," Units Affected"]})]})]})]},f.ID)):a.jsxs("div",{className:"col-span-full py-24 flex flex-col items-center opacity-10",children:[a.jsx($l,{size:50,className:"mb-4"}),a.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.8em]",children:"No Maintenance Logs"})]})})})]})},dM=({contract:e,onView:t})=>{const n=new Date,r=()=>{const f=new Date(e.ExpiryDate),h=Math.ceil((f.getTime()-n.getTime())/(1e3*60*60*24));return h>0&&h<=30},i=()=>new Date(e.ExpiryDate)<n,o=!!e.ProviderSign&&!!e.ClientSign,c=e.ClientName.split(" ")[0],u=r(),d=i();return a.jsxs("div",{onClick:()=>t(e),className:"group relative flex flex-col items-center cursor-pointer transition-transform duration-300 hover:-translate-y-1",children:[a.jsx("button",{className:"absolute -right-1 -top-1 p-2 text-slate-200 hover:text-slate-400 transition-colors z-10",children:a.jsx(jf,{size:14})}),a.jsxs("div",{className:"relative mb-3 md:mb-5",children:[a.jsx("div",{className:`w-20 h-20 md:w-32 md:h-32 rounded-full border flex items-center justify-center transition-all duration-500 group-hover:scale-105 group-hover:shadow-xl bg-white
          ${o?"border-indigo-100 text-indigo-300 ring-4 ring-indigo-50/50":e.ContractStatus===pn.Active?d?"border-rose-100 text-rose-300":"border-emerald-100 text-emerald-300":"border-slate-100 text-slate-300"}`,children:o?a.jsx(Ey,{className:"w-8 h-8 md:w-12 md:h-12",strokeWidth:1}):a.jsx(Cn,{className:"w-8 h-8 md:w-12 md:h-12",strokeWidth:1})}),a.jsx("div",{className:`absolute bottom-0.5 right-0.5 md:bottom-2 md:right-2 w-3.5 h-3.5 md:w-5 md:h-5 rounded-full border-2 md:border-4 border-white shadow-sm
          ${o?"bg-indigo-500":e.ContractStatus===pn.Active?d?"bg-rose-500 animate-pulse":"bg-emerald-500":"bg-slate-400"}`}),a.jsxs("div",{className:"absolute bottom-0 -left-1 px-1.5 py-0.5 bg-white/60 backdrop-blur-[2px] rounded-full border border-slate-100/30 flex items-center gap-1",children:[a.jsx(Nt,{size:8,className:"text-slate-400"}),a.jsx("span",{className:"text-[6px] md:text-[7px] font-black text-slate-400 uppercase tracking-tight truncate max-w-[50px] md:max-w-[80px]",children:c})]}),a.jsxs("div",{className:`absolute -top-1 -right-1 px-2 py-1 text-white rounded-md border border-white/10 flex items-center animate-in zoom-in duration-500 shadow-lg ${o?"bg-indigo-600":"bg-slate-900"}`,children:[a.jsx(ha,{size:8,className:o?"text-indigo-200 mr-1":"text-emerald-400 mr-1"}),a.jsxs("span",{className:"text-[7px] md:text-[9px] font-black leading-none uppercase tracking-tighter",children:["K",Oe(e.TotalAmount)]})]}),u&&!d&&!o&&e.ContractStatus===pn.Active&&a.jsx("div",{className:"absolute top-1/2 -left-3 -translate-y-1/2 p-1.5 bg-amber-500 text-white rounded-full border-2 border-white shadow-xl animate-pulse",children:a.jsx($t,{size:10})})]}),a.jsxs("div",{className:"text-center space-y-0.5 px-1 w-full",children:[a.jsx("h3",{className:`text-[10px] md:text-xs font-black uppercase tracking-tight transition-colors line-clamp-1 ${o?"text-indigo-600":"text-slate-900 group-hover:text-indigo-600"}`,children:e.PlanType}),a.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[a.jsx("p",{className:`text-[7px] md:text-[8px] font-bold uppercase tracking-[0.2em] leading-none ${o?"text-indigo-400":d?"text-rose-400":"text-slate-400 opacity-60"}`,children:o?"FULLY EXECUTED":d?"EXPIRED":`${e.NoOfUnits} UNITS  ${e.BillingCycle}`}),a.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[a.jsx($t,{size:8,className:o?"text-indigo-300":d?"text-rose-400":"text-slate-300"}),a.jsxs("span",{className:`text-[6px] md:text-[7px] font-black uppercase tracking-tighter ${o?"text-indigo-400":d?"text-rose-400":"text-slate-300"}`,children:["Exp: ",Ae(e.ExpiryDate)]})]})]})]})]})},fM=({contracts:e,onAdd:t,onView:n})=>{const[r,i]=O.useState(""),[o,c]=O.useState("all"),u=new Date,d=H.useMemo(()=>({active:e.filter(h=>h.ContractStatus==="Active"&&new Date(h.ExpiryDate)>=u).length,expiring:e.filter(h=>{const m=Math.ceil((new Date(h.ExpiryDate).getTime()-u.getTime())/864e5);return h.ContractStatus==="Active"&&m>0&&m<=30}).length,executed:e.filter(h=>!!h.ProviderSign&&!!h.ClientSign).length}),[e,u]),f=e.filter(h=>{if(!(h.ClientName.toLowerCase().includes(r.toLowerCase())||h.PlanType.toLowerCase().includes(r.toLowerCase())||h.ContractID.toLowerCase().includes(r.toLowerCase())))return!1;if(o==="active")return h.ContractStatus===pn.Active&&new Date(h.ExpiryDate)>=u;if(o==="expiring"){const x=Math.ceil((new Date(h.ExpiryDate).getTime()-u.getTime())/864e5);return h.ContractStatus===pn.Active&&x>0&&x<=30}return o==="executed"?!!h.ProviderSign&&!!h.ClientSign:o==="expired"?h.ContractStatus===pn.Active&&new Date(h.ExpiryDate)<u:!0});return a.jsxs("div",{className:"flex flex-col h-full animate-in fade-in duration-700 overflow-hidden",children:[a.jsxs("div",{className:"w-full grid grid-cols-1 sm:grid-cols-3 gap-3 mb-8 shrink-0",children:[a.jsxs("div",{onClick:()=>c("active"),className:`cursor-pointer p-4 rounded-3xl border flex items-center justify-between transition-all ${o==="active"?"bg-emerald-50 border-emerald-600 shadow-lg scale-[1.02]":"bg-white border-slate-100 hover:border-emerald-100"}`,children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:`text-[8px] font-black uppercase tracking-widest mb-1 ${o==="active"?"text-white/70":"text-slate-400"}`,children:"Active Contracts"}),a.jsx("span",{className:`text-xl font-black leading-none ${o==="active"?"text-white":"text-slate-900"}`,children:d.active})]}),a.jsx(hn,{size:18,className:o==="active"?"text-white":"text-emerald-500"})]}),a.jsxs("div",{onClick:()=>c("executed"),className:`cursor-pointer p-4 rounded-3xl border flex items-center justify-between transition-all ${o==="executed"?"bg-indigo-600 border-indigo-700 shadow-lg scale-[1.02]":"bg-white border-slate-100 hover:border-indigo-100"}`,children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:`text-[8px] font-black uppercase tracking-widest mb-1 ${o==="executed"?"text-white/70":"text-slate-400"}`,children:"Fully Executed"}),a.jsx("span",{className:`text-xl font-black leading-none ${o==="executed"?"text-white":"text-slate-900"}`,children:d.executed})]}),a.jsx(Ey,{size:18,className:o==="executed"?"text-white":"text-indigo-500"})]}),a.jsxs("div",{onClick:()=>c("expiring"),className:`cursor-pointer p-4 rounded-3xl border flex items-center justify-between transition-all ${o==="expiring"?"bg-amber-500 border-amber-600 shadow-lg scale-[1.02]":"bg-white border-slate-100 hover:border-amber-100"}`,children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:`text-[8px] font-black uppercase tracking-widest mb-1 ${o==="expiring"?"text-white/70":"text-slate-400"}`,children:"Expiring Soon"}),a.jsx("span",{className:`text-xl font-black leading-none ${o==="expiring"?"text-white":"text-slate-900"}`,children:d.expiring})]}),a.jsx($t,{size:18,className:o==="expiring"?"text-white":"text-amber-500"})]})]}),a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 pb-6 shrink-0 border-t border-slate-50 pt-6",children:[a.jsx("div",{className:"flex items-center gap-1.5 p-1 bg-slate-100 border border-slate-200 rounded-2xl w-fit overflow-x-auto no-scrollbar max-w-full",children:["all","executed","active","expiring","expired"].map(h=>a.jsx("button",{onClick:()=>c(h),className:`px-4 py-1.5 text-[8px] font-black uppercase tracking-widest rounded-xl transition-all whitespace-nowrap ${o===h?"bg-slate-900 text-white":"text-slate-400 hover:text-slate-600"}`,children:h==="executed"?"Signed Both":h},h))}),a.jsxs("div",{className:"flex w-full md:max-w-lg items-center gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(An,{size:14,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),a.jsx("input",{type:"text",placeholder:"SEARCH CONTRACTS...",value:r,onChange:h=>i(h.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-100 rounded-full text-[9px] font-black text-slate-600 placeholder:text-slate-300 outline-none focus:ring-4 focus:ring-slate-100/50 transition-all uppercase tracking-widest"})]}),a.jsx("button",{onClick:t,className:"p-2.5 bg-slate-900 text-white rounded-full hover:bg-slate-800 transition-all shadow-lg active:scale-90 flex-shrink-0",children:a.jsx(Lr,{size:16,strokeWidth:3})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-10 pt-2",children:a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-3 md:gap-x-8 gap-y-8 md:gap-y-12",children:f.length>0?f.map(h=>a.jsx(dM,{contract:h,onView:n},h.ContractID)):a.jsxs("div",{className:"col-span-full py-20 flex flex-col items-center opacity-10",children:[a.jsx(Cn,{size:40,className:"mb-2"}),a.jsx("p",{className:"text-[8px] font-black uppercase tracking-[0.5em]",children:"No matching contracts"})]})})})]})},pM=({inv:e,lastPayment:t,activeMenu:n,onView:r,onToggleMenu:i,onDelete:o})=>{const c=new Date,u=new Date(e.DueDate),d=e.BalanceDue>0&&u<c&&e.DocType===st.Invoice;t&&new Date().getTime()-new Date(t.Date).getTime()<2880*60*1e3;const f=!d&&u>c&&e.Status!==jt.Paid,h=u.getTime()-c.getTime(),m=Math.ceil(h/(1e3*60*60*24)),x=()=>e.Status===jt.Paid?"bg-emerald-500 text-white ring-4 ring-emerald-500/20":d?"bg-rose-600 text-white ring-4 ring-rose-500/20 animate-pulse":e.Status===jt.Partial?"bg-amber-500 text-white ring-4 ring-amber-500/20":"bg-indigo-400 text-white ring-4 ring-indigo-500/10";return a.jsxs("div",{onClick:()=>r(e),className:"group relative flex flex-col items-center cursor-pointer transition-transform duration-300 hover:-translate-y-1",children:[a.jsxs("div",{className:"absolute -right-1 -top-1 z-20",children:[a.jsx("button",{onClick:v=>{v.stopPropagation(),i(e.InvoiceID)},className:`p-2 rounded-full transition-all ${n===e.InvoiceID?"bg-slate-900 text-white":"text-slate-200 hover:text-slate-900"}`,children:a.jsx(jf,{size:18})}),n===e.InvoiceID&&a.jsx("div",{className:"absolute right-0 mt-1 w-32 bg-white rounded-xl shadow-2xl border border-slate-100 overflow-hidden animate-in fade-in zoom-in-95 duration-150",children:a.jsx("button",{onClick:v=>{v.stopPropagation(),o(e.InvoiceID)},className:"w-full flex items-center gap-2 px-4 py-3 text-rose-600 hover:bg-rose-50 text-[9px] font-black uppercase tracking-widest",children:"Delete"})})]}),d&&a.jsx("div",{className:"absolute -left-2 -top-2 z-30",children:a.jsxs("div",{className:"bg-rose-700 text-white px-2 py-1 rounded-lg text-[8px] font-black uppercase shadow-xl flex items-center gap-1 border border-white/20",children:[a.jsx(pa,{size:10})," ",Math.abs(m)," DAYS OVERDUE"]})}),a.jsxs("div",{className:"relative mb-4 md:mb-6",children:[a.jsx("div",{className:`w-24 h-24 md:w-36 md:h-36 rounded-full border border-slate-100 flex items-center justify-center transition-all duration-500 group-hover:scale-105 group-hover:shadow-xl bg-white text-slate-200 ring-8 ${d?"ring-rose-50":f?"ring-indigo-50/50":"ring-slate-50/50"}`,children:e.DocType===st.Quotation?a.jsx(gE,{size:24}):e.DocType===st.Proforma?a.jsx(vE,{size:24}):a.jsx(Cn,{size:24})}),a.jsx("div",{className:`absolute bottom-0.5 right-0.5 md:bottom-3 md:right-3 px-2.5 py-1 rounded-full text-[8px] font-bold uppercase tracking-widest shadow-lg border-2 border-white ${x()}`,children:d?"OVERDUE":e.Status}),a.jsx("div",{className:`absolute -top-1 -right-2 px-3 py-1.5 text-white rounded-xl border border-white/10 flex items-center shadow-2xl transition-colors ${d?"bg-rose-700":e.Status==="Paid"?"bg-emerald-600":f?"bg-indigo-600":"bg-slate-900"}`,children:a.jsxs("span",{className:"text-[8px] md:text-[10px] font-black leading-none uppercase tracking-tighter",children:["K",Oe(d?e.BalanceDue:e.TotalAmount)]})}),a.jsxs("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 bg-slate-800 text-white px-2 py-0.5 rounded border border-slate-700 flex items-center gap-1 shadow-sm",children:[a.jsx(mE,{size:10,className:"text-indigo-400"}),a.jsxs("span",{className:"text-[8px] font-black uppercase whitespace-nowrap",children:[e.PeriodMonths||1," Mo Subscription"]})]})]}),a.jsxs("div",{className:"text-center space-y-1 px-1 w-full",children:[a.jsx("h3",{className:`text-[11px] md:text-xs font-black uppercase tracking-widest transition-colors line-clamp-1 ${d?"text-rose-700":"text-slate-900 group-hover:text-indigo-600"}`,children:e.InvoiceID}),a.jsxs("div",{className:"flex flex-col items-center gap-1",children:[a.jsx("p",{className:"text-[8px] md:text-[9px] font-bold uppercase tracking-[0.2em] leading-none text-slate-400 opacity-80",children:e.ClientName}),a.jsxs("div",{className:`flex items-center gap-2 mt-1.5 py-1 px-2 rounded-lg ${d?"bg-rose-50 text-rose-600":f?"bg-indigo-50 text-indigo-500":"bg-slate-50 text-slate-400"}`,children:[a.jsx($t,{size:10,className:d?"text-rose-400":f?"text-indigo-300":"text-slate-300"}),a.jsxs("span",{className:"text-[7px] md:text-[8px] font-black uppercase tracking-widest",children:[d?"EXPIRED":f?`DUE IN ${m}D`:"DUE",": ",Ae(e.DueDate)]})]})]})]})]})},hM=({invoices:e,payments:t=[],onAdd:n,onView:r,onDelete:i})=>{const[o,c]=O.useState(""),[u,d]=O.useState("All"),[f,h]=O.useState(null),m=new Date,x=O.useMemo(()=>{const b={};return t.forEach(w=>{!w.InvoiceID||w.InvoiceID==="0"||(!b[w.InvoiceID]||new Date(w.Date)>new Date(b[w.InvoiceID].Date))&&(b[w.InvoiceID]=w)}),b},[t]),v=O.useMemo(()=>{const b=e.filter(w=>{const y=new Date(w.DueDate);return w.BalanceDue>0&&y<m&&w.DocType===st.Invoice});return{count:b.length,total:b.reduce((w,y)=>w+Number(y.BalanceDue),0)}},[e,m]),j=e.filter(b=>{if(!(b.ClientName.toLowerCase().includes(o.toLowerCase())||b.InvoiceID.toLowerCase().includes(o.toLowerCase())))return!1;if(u==="Overdue"){const y=new Date(b.DueDate);return b.BalanceDue>0&&y<m&&b.DocType===st.Invoice}return!(u!=="All"&&b.DocType!==u)});return a.jsxs("div",{className:"flex flex-col h-full animate-in fade-in duration-700 overflow-hidden",onClick:()=>h(null),children:[a.jsxs("div",{className:"w-full bg-rose-50 border border-rose-100 rounded-3xl p-6 mb-8 flex flex-col md:flex-row justify-between items-center gap-4 shadow-sm shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-rose-500 text-white rounded-2xl shadow-lg",children:a.jsx(pa,{size:24})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-[10px] font-black text-rose-900 uppercase tracking-widest",children:"Revenue at Risk"}),a.jsxs("p",{className:"text-2xl font-black text-rose-900 tracking-tighter",children:["K",Oe(v.total)]})]})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("h4",{className:"text-[9px] font-black text-rose-400 uppercase tracking-widest",children:"Overdue Accounts"}),a.jsxs("p",{className:"text-lg font-black text-rose-900 leading-none",children:[v.count," Items"]})]}),a.jsxs("button",{onClick:()=>d("Overdue"),className:"flex items-center gap-2 bg-rose-900 text-white px-5 py-2.5 rounded-2xl text-[9px] font-black uppercase tracking-widest hover:bg-rose-800 transition-all active:scale-95",children:["Review Delinquency ",a.jsx(W4,{size:14})]})]})]}),a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 pb-8 shrink-0",children:[a.jsx("div",{className:"flex items-center gap-1.5 p-1 bg-slate-100 border border-slate-200 rounded-2xl w-fit overflow-x-auto no-scrollbar max-w-full",children:["All","Overdue",st.Invoice,st.Proforma,st.Quotation].map(b=>a.jsxs("button",{onClick:()=>d(b),className:`px-5 py-2 text-[9px] font-black uppercase tracking-widest rounded-xl transition-all whitespace-nowrap ${u===b?b==="Overdue"?"bg-rose-50 text-white":"bg-white text-slate-900 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:[b,b!=="All"&&b!=="Overdue"?"s":""]},b))}),a.jsxs("div",{className:"flex w-full md:max-w-lg items-center gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(An,{size:14,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),a.jsx("input",{type:"text",placeholder:"SEARCH REGISTRY...",value:o,onChange:b=>c(b.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-100 rounded-full text-[9px] font-black text-slate-600 placeholder:text-slate-300 outline-none focus:ring-4 focus:ring-slate-100/50 transition-all uppercase tracking-widest"})]}),a.jsx("button",{onClick:()=>n(st.Invoice),className:"p-2.5 bg-slate-900 text-white rounded-full hover:bg-slate-800 transition-all shadow-lg active:scale-90 flex-shrink-0",children:a.jsx(Lr,{size:16,strokeWidth:3})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-10 pt-2",children:a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-3 md:gap-x-8 gap-y-10 md:gap-y-16",children:j.length>0?j.map(b=>a.jsx(pM,{inv:b,lastPayment:x[b.InvoiceID],activeMenu:f,onView:r,onToggleMenu:h,onDelete:w=>{confirm(`Delete document ${w}?`)&&i(w)}},b.InvoiceID)):a.jsxs("div",{className:"col-span-full py-24 flex flex-col items-center opacity-10",children:[a.jsx(Cn,{size:50,className:"mb-4"}),a.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.8em]",children:"No records found"})]})})})]})},mM=({pay:e,activeMenu:t,onView:n,onToggleMenu:r,onDelete:i})=>{const o=()=>{switch(e.Status){case Os.Completed:return"bg-emerald-50 text-emerald-700 border-emerald-100";case Os.Pending:return"bg-amber-50 text-amber-700 border-amber-100";case Os.Failed:return"bg-rose-50 text-rose-700 border-rose-100";default:return"bg-slate-400 text-white ring-4 ring-slate-400/20"}},c=()=>{switch(e.Method){case"Bank Transfer":return a.jsx(wE,{size:24});case"Mobile Money":return a.jsx(IE,{size:24});case"Card":return a.jsx(ha,{size:24});default:return a.jsx(Mi,{size:24})}};return a.jsxs("div",{onClick:()=>n(e),className:"group relative flex flex-col items-center cursor-pointer transition-transform duration-300 hover:-translate-y-1",children:[a.jsxs("div",{className:"absolute -right-1 -top-1 z-20",children:[a.jsx("button",{onClick:u=>{u.stopPropagation(),r(e.PaymentID)},className:`p-2 rounded-full transition-all ${t===e.PaymentID?"bg-slate-900 text-white":"text-slate-200 hover:text-slate-900"}`,children:a.jsx(jf,{size:18})}),t===e.PaymentID&&a.jsx("div",{className:"absolute right-0 mt-1 w-32 bg-white rounded-xl shadow-2xl border border-slate-100 overflow-hidden animate-in fade-in zoom-in-95 duration-150",children:a.jsx("button",{onClick:u=>{u.stopPropagation(),i(e.PaymentID)},className:"w-full flex items-center gap-2 px-4 py-3 text-rose-600 hover:bg-rose-50 text-[9px] font-black uppercase tracking-widest transition-colors",children:"Delete"})})]}),a.jsxs("div",{className:"relative mb-4 md:mb-6",children:[a.jsx("div",{className:"w-24 h-24 md:w-36 md:h-36 rounded-full border border-slate-100 flex items-center justify-center transition-all duration-500 group-hover:scale-105 group-hover:shadow-xl bg-white text-slate-200 ring-8 ring-slate-50/50",children:c()}),a.jsxs("div",{className:`absolute bottom-0.5 right-0.5 md:bottom-3 md:right-3 px-2.5 py-1 rounded-full text-[8px] font-bold uppercase tracking-widest shadow-lg border-2 border-white ${o()}`,children:[e.Status===Os.Completed?a.jsx(wr,{size:10,className:"inline mr-1"}):null,e.Status]}),a.jsx("div",{className:"absolute -top-1 -right-2 px-3 py-1.5 bg-slate-900 text-white rounded-xl border border-white/10 flex items-center shadow-2xl",children:a.jsxs("span",{className:"text-[8px] md:text-[10px] font-bold leading-none uppercase tracking-tighter",children:["K",Oe(e.Amount)]})}),a.jsxs("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 bg-indigo-50 text-indigo-600 px-2 py-0.5 rounded border border-indigo-100 flex items-center gap-1 shadow-sm",children:[a.jsx(mE,{size:10}),a.jsxs("span",{className:"text-[8px] font-black uppercase tracking-tighter whitespace-nowrap",children:[e.MonthsCovered||1," Mo Paid"]})]})]}),a.jsxs("div",{className:"text-center space-y-1 px-1 w-full",children:[a.jsx("h3",{className:"text-[11px] md:text-xs font-black text-slate-900 uppercase tracking-widest group-hover:text-indigo-600 transition-colors line-clamp-1",children:e.Remarks||e.Reference}),a.jsxs("div",{className:"flex flex-col items-center gap-1",children:[a.jsx("p",{className:"text-[8px] md:text-[9px] font-bold uppercase tracking-[0.2em] leading-none text-slate-400 opacity-80",children:e.ClientName}),a.jsxs("div",{className:"flex items-center gap-2 mt-1.5 py-1 px-2 bg-slate-50 rounded-lg",children:[a.jsx($t,{size:10,className:"text-slate-300"}),a.jsx("span",{className:"text-[7px] md:text-[8px] font-bold uppercase tracking-widest text-slate-400",children:Ae(e.Date)})]})]})]})]})},xM=({payments:e,onAdd:t,onView:n,onDelete:r})=>{const[i,o]=O.useState(""),[c,u]=O.useState("All"),[d,f]=O.useState(null),h=e.filter(m=>!(!(m.ClientName.toLowerCase().includes(i.toLowerCase())||m.Reference.toLowerCase().includes(i.toLowerCase())||m.PaymentID.toLowerCase().includes(i.toLowerCase()))||c!=="All"&&m.Method!==c)).sort((m,x)=>new Date(x.Date).getTime()-new Date(m.Date).getTime());return a.jsxs("div",{className:"flex flex-col h-full animate-in fade-in duration-700 overflow-hidden",onClick:()=>f(null),children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 pb-8 shrink-0",children:[a.jsx("div",{className:"flex items-center gap-1.5 p-1 bg-slate-100 border border-slate-200 rounded-2xl w-fit overflow-x-auto no-scrollbar max-w-full",children:["All","Bank Transfer","Mobile Money","Cash","Card"].map(m=>a.jsx("button",{onClick:()=>u(m),className:`px-4 py-1.5 text-[9px] font-bold uppercase tracking-widest rounded-xl transition-all whitespace-nowrap ${c===m?"bg-white text-slate-900 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:m},m))}),a.jsxs("div",{className:"flex w-full md:max-w-lg items-center gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(An,{size:14,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),a.jsx("input",{type:"text",placeholder:"SEARCH PAYMENTS & REF...",value:i,onChange:m=>o(m.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-100 rounded-full text-[9px] font-bold text-slate-600 placeholder:text-slate-300 outline-none focus:ring-4 focus:ring-slate-100/50 transition-all uppercase tracking-widest"})]}),a.jsx("button",{onClick:t,className:"p-2.5 bg-slate-900 text-white rounded-full hover:bg-slate-800 transition-all shadow-lg active:scale-90 flex-shrink-0",children:a.jsx(Lr,{size:16,strokeWidth:3})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-10 pt-2",children:a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-3 md:gap-x-8 gap-y-10 md:gap-y-16",children:h.length>0?h.map(m=>a.jsx(mM,{pay:m,activeMenu:d,onView:()=>n(m),onToggleMenu:f,onDelete:x=>{confirm(`Delete transaction ${x}?`)&&r(x)}},m.PaymentID)):a.jsxs("div",{className:"col-span-full py-24 flex flex-col items-center opacity-10",children:[a.jsx(ha,{size:50,className:"mb-4"}),a.jsx("p",{className:"text-[10px] font-bold uppercase tracking-[0.8em]",children:"No payments recorded"})]})})})]})},gM=({agents:e,clients:t,contracts:n,payments:r,vehicles:i,systemSettings:o,currentUser:c,notifications:u=[]})=>{const[d,f]=O.useState(""),[h,m]=O.useState(null),[x,v]=O.useState("revenue"),j=(c==null?void 0:c.role)==="Admin",b=(c==null?void 0:c.role)==="Agent",w=(c==null?void 0:c.role)==="Partner",y=new Date,k=y.getMonth(),P=y.getFullYear();O.useEffect(()=>{(b||w)&&(c!=null&&c.id)&&!h&&m(c.id)},[b,w,c,h]);const C=O.useMemo(()=>e.map(E=>{const D=t.filter(L=>String(L.AssignedAgentID).trim().toLowerCase()===String(E.AgentID).trim().toLowerCase()),T=Number(E.CommissionRate||10),M=r.filter(L=>{const F=new Date(L.Date);return String(L.AgentID).trim().toLowerCase()===String(E.AgentID).trim().toLowerCase()&&F.getMonth()===k&&F.getFullYear()===P}),z=M.reduce((L,F)=>L+Number(F.Amount),0),$=z*(T/100)+Number(E.BaseSalary||0)+Number(E.PerformanceBonus||0),B=u.filter(L=>L.Type==="PAYOUT_REQUEST"&&String(L.ID).includes(String(E.AgentID))).sort((L,F)=>new Date(F.Time).getTime()-new Date(L.Time).getTime());return{...E,portfolioRevenue:z,totalClientsCount:D.length,effectiveRate:T,currentMonthLogs:M.sort((L,F)=>new Date(F.Date).getTime()-new Date(L.Date).getTime()),payoutHistory:B,payout:$}}).filter(E=>E.AgentName.toLowerCase().includes(d.toLowerCase())),[e,t,r,u,k,P]),S=C.find(E=>String(E.AgentID).trim().toLowerCase()===String(h||"").trim().toLowerCase());return a.jsxs("div",{className:"flex flex-col h-full overflow-hidden animate-in fade-in duration-500 max-w-full",children:[!j&&!S&&a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center opacity-50",children:[a.jsx(Dt,{className:"animate-spin mb-4"}),a.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest",children:"Loading Account Data..."})]}),j&&!S&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"w-full bg-slate-900 rounded-2xl p-4 mb-4 shadow-lg border border-slate-800 shrink-0 flex flex-col sm:flex-row justify-between items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-indigo-500 rounded-lg flex items-center justify-center text-white",children:a.jsx(Mi,{size:16})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-[7px] font-black text-indigo-400 uppercase tracking-widest leading-none mb-1",children:"Payroll Settlement Engine"}),a.jsxs("p",{className:"text-lg font-black text-white tracking-tighter leading-none",children:["K",Oe(C.reduce((E,D)=>E+D.payout,0))]})]})]}),a.jsxs("div",{className:"relative w-full sm:w-48",children:[a.jsx(An,{size:12,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500"}),a.jsx("input",{type:"text",placeholder:"SEARCH STAFF...",value:d,onChange:E=>f(E.target.value),className:"w-full pl-9 pr-3 py-1.5 bg-white/5 border border-white/10 rounded-lg text-[8px] font-black text-white uppercase outline-none focus:bg-white/10 transition-all"})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-6 px-1",children:a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3",children:C.map(E=>a.jsxs("div",{onClick:()=>m(E.AgentID),className:"bg-white p-4 rounded-2xl border border-slate-100 shadow-sm hover:border-indigo-200 cursor-pointer transition-all",children:[a.jsx("div",{className:"w-10 h-10 bg-slate-50 rounded-full flex items-center justify-center text-slate-300 mb-3 mx-auto",children:a.jsx(Nt,{size:20})}),a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-[10px] font-black text-slate-800 uppercase truncate",children:E.AgentName}),a.jsxs("p",{className:"text-xs font-black text-emerald-600 mt-1",children:["K",Oe(E.payout)]}),a.jsxs("p",{className:"text-[8px] font-bold text-slate-400 uppercase mt-1",children:[E.effectiveRate,"% Rate"]})]})]},E.AgentID))})})]}),S&&a.jsxs("div",{className:"flex-1 bg-white rounded-[1.5rem] border border-slate-100 shadow-xl flex flex-col overflow-hidden animate-in zoom-in duration-300",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-50 bg-slate-50/30 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-xl bg-slate-200 text-slate-500",children:a.jsx(Nt,{size:16})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h2",{className:"text-sm font-black text-slate-800 uppercase tracking-tight truncate leading-none mb-1",children:S.AgentName}),a.jsxs("p",{className:"text-[8px] font-bold text-slate-400 uppercase tracking-widest leading-none",children:["Fixed Rate: ",S.effectiveRate,"%"]})]})]}),j&&a.jsx("button",{onClick:()=>m(null),className:"p-1.5 text-slate-300 hover:text-slate-900 transition-colors",children:a.jsx(bt,{size:18})})]}),a.jsxs("div",{className:"flex border-b border-slate-100 px-6 bg-white shrink-0",children:[a.jsxs("button",{onClick:()=>v("revenue"),className:`px-4 py-3 text-[9px] font-black uppercase tracking-widest border-b-2 transition-all flex items-center gap-2 ${x==="revenue"?"border-indigo-600 text-indigo-600":"border-transparent text-slate-400 hover:text-slate-600"}`,children:[a.jsx(Sn,{size:14})," Revenue Pool"]}),a.jsxs("button",{onClick:()=>v("payouts"),className:`px-4 py-3 text-[9px] font-black uppercase tracking-widest border-b-2 transition-all flex items-center gap-2 ${x==="payouts"?"border-indigo-600 text-indigo-600":"border-transparent text-slate-400 hover:text-slate-600"}`,children:[a.jsx(Ri,{size:14})," Payout Ledger"]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-5 space-y-6 no-scrollbar bg-slate-50/20",children:x==="revenue"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-indigo-600 p-6 rounded-3xl text-white shadow-xl relative overflow-hidden",children:[a.jsx("div",{className:"absolute right-0 top-0 p-8 opacity-10 rotate-12",children:a.jsx(co,{size:100})}),a.jsx("p",{className:"text-[10px] font-black text-indigo-200 uppercase tracking-widest mb-2",children:"Month Net Earnings"}),a.jsxs("h3",{className:"text-3xl font-black tracking-tighter",children:["K",Oe(S.payout)]}),a.jsxs("div",{className:"mt-4 flex gap-2",children:[a.jsxs("span",{className:"text-[8px] font-black bg-white/20 px-2 py-0.5 rounded uppercase",children:["Base: K",Oe(S.BaseSalary||0)]}),a.jsxs("span",{className:"text-[8px] font-black bg-white/20 px-2 py-0.5 rounded uppercase",children:["Comm: ",S.effectiveRate,"%"]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm flex flex-col justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Managed Volume"}),a.jsxs("h3",{className:"text-2xl font-black text-slate-900 tracking-tighter",children:["K",Oe(S.portfolioRevenue)]})]}),a.jsxs("div",{className:"pt-2 border-t border-slate-50 flex justify-between items-center",children:[a.jsxs("span",{className:"text-[9px] font-bold text-slate-400 uppercase",children:[S.totalClientsCount," Active Clients"]}),a.jsx(EE,{size:14,className:"text-indigo-400"})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2 px-1",children:[a.jsx(Sn,{size:14})," Revenue Log (Current Cycle)"]}),a.jsx("div",{className:"space-y-2",children:S.currentMonthLogs.length>0?S.currentMonthLogs.map(E=>a.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-slate-100 flex items-center justify-between shadow-sm",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-800 uppercase truncate mb-1",children:E.ClientName}),a.jsxs("p",{className:"text-[8px] font-bold text-slate-400 uppercase",children:[Ae(E.Date),"  Ref: ",E.Reference]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-xs font-black text-slate-900 leading-none",children:["K",Oe(E.Amount)]}),a.jsxs("p",{className:"text-[8px] font-bold text-emerald-600 uppercase mt-1",children:["+",E.MonthsCovered||1," Mo"]})]})]},E.PaymentID)):a.jsx("div",{className:"py-12 text-center opacity-10 text-[10px] font-black uppercase tracking-widest",children:"No matching payments found"})})]})]}):a.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between px-1",children:[a.jsxs("h3",{className:"text-[10px] font-black text-slate-900 uppercase tracking-widest flex items-center gap-2",children:[a.jsx($t,{size:14})," Historical Settlements"]}),a.jsxs("span",{className:"text-[8px] font-bold text-slate-400 uppercase",children:[S.payoutHistory.length," Records"]})]}),a.jsx("div",{className:"space-y-3",children:S.payoutHistory.length>0?S.payoutHistory.map(E=>{var D;return a.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-slate-100 shadow-sm flex items-center justify-between group hover:border-emerald-200 transition-all",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`p-2.5 rounded-xl ${E.Status==="Read"?"bg-emerald-50 text-emerald-600":"bg-amber-50 text-amber-700"}`,children:E.Status==="Read"?a.jsx(wr,{size:16}):a.jsx($t,{size:16})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[11px] font-black text-slate-900 uppercase tracking-tight",children:E.Message.split(": ")[0]}),a.jsxs("p",{className:"text-[9px] font-bold text-slate-500 mt-0.5",children:[Ae(E.Time),"  ",E.Status==="Read"?"Settlement Finalized":"Pending Verification"]})]})]}),a.jsx("div",{className:"text-right",children:a.jsx("p",{className:`text-sm font-black tracking-tighter ${E.Status==="Read"?"text-emerald-600":"text-slate-900"}`,children:(D=E.Message.split("K")[1])!=null&&D.split(" ")[0]?"K"+E.Message.split("K")[1].split(" ")[0]:"View Request"})})]},E.ID)}):a.jsxs("div",{className:"py-20 flex flex-col items-center opacity-20 select-none",children:[a.jsx(Ri,{size:48,className:"mb-4"}),a.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em]",children:"No Payout History Found"})]})})]})})]})]})},vM=({currentPartner:e,isPendingReview:t,principal:n,share:r,termMonths:i,monthlyCapital:o,setShowNegotiationModal:c,setShowSigningModal:u})=>{var d;return e.PartnerPayoutModel,ra.PrincipalPlusInterest,a.jsx("div",{className:"flex flex-col h-full bg-slate-50 p-6 md:p-12 overflow-y-auto no-scrollbar animate-in fade-in duration-700",children:a.jsxs("div",{className:"max-w-4xl mx-auto w-full space-y-8",children:[a.jsxs("div",{className:"text-center space-y-3",children:[a.jsx("div",{className:"w-16 h-16 bg-white rounded-3xl shadow-xl flex items-center justify-center text-amber-500 mx-auto border border-amber-100",children:a.jsx(Dy,{size:32})}),a.jsx("h1",{className:"text-3xl font-black text-slate-900 uppercase tracking-tighter",children:"Agreement Review"}),a.jsx("p",{className:"text-slate-500 font-medium max-w-md mx-auto",children:"Please review and authorize the professional partnership terms drafted by the Admin."})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-200 shadow-2xl overflow-hidden relative",children:[a.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5",children:a.jsx(wf,{size:120})}),a.jsxs("div",{className:"p-8 border-b border-slate-100 flex items-center justify-between bg-slate-50/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-2 h-2 rounded-full animate-pulse ${t?"bg-indigo-500":"bg-slate-300"}`}),a.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:["Status: ",t?"Ready for Signature":((d=e.InvestmentStatus)==null?void 0:d.replace(/([A-Z])/g," $1").trim())||"Terms Pending"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase",children:"Registry Reference"}),a.jsxs("p",{className:"text-xs font-black text-slate-900 uppercase",children:["PARTNER-",e.AgentID]})]})]}),a.jsxs("div",{className:"p-10 grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Active Principal"}),a.jsxs("p",{className:"text-3xl font-black text-slate-900 tracking-tighter",children:["K",Oe(n)]}),a.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase",children:"Capital Commitment"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Equity Allocation"}),a.jsxs("p",{className:"text-3xl font-black text-indigo-600 tracking-tighter",children:[r,"%"]}),a.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase",children:"On Global Sales Volume"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Agreement Term"}),a.jsxs("p",{className:"text-3xl font-black text-slate-900 tracking-tighter",children:[i," Mo"]}),a.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase",children:"Maturity Horizon"})]})]}),a.jsxs("div",{className:"mx-10 mb-8 p-6 bg-slate-900 text-white rounded-3xl grid grid-cols-1 md:grid-cols-2 gap-8 relative overflow-hidden",children:[a.jsx("div",{className:"absolute right-0 top-0 p-8 opacity-5",children:a.jsx(Nf,{size:100})}),a.jsxs("div",{className:"space-y-4 relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-indigo-500 rounded-xl text-white shadow-lg",children:a.jsx(Sn,{size:20})}),a.jsx("h4",{className:"text-[11px] font-black uppercase tracking-widest",children:"Yield Mechanism"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-bold text-white uppercase",children:e.PartnerPayoutModel===ra.InterestOnly?"Capital Preservation":"Amortized Recovery"}),a.jsx("p",{className:"text-[10px] text-slate-400 leading-relaxed",children:e.PartnerPayoutModel===ra.InterestOnly?"Principal remains locked for the duration. Monthly payouts consist of profit share only.":"Monthly payouts include a portion of your principal + profit share for gradual capital exit."})]})]}),a.jsxs("div",{className:"space-y-4 relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-emerald-500 rounded-xl text-white shadow-lg",children:a.jsx(EE,{size:20})}),a.jsx("h4",{className:"text-[11px] font-black uppercase tracking-widest",children:"Risk Mitigation"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-bold text-white uppercase",children:e.SmartYieldActive?"SmartYield Enabled":"Standard Yield"}),a.jsx("p",{className:"text-[10px] text-slate-400 leading-relaxed",children:e.SmartYieldActive?`Stabilized returns capped at ${e.MaxMonthlyROI}% ROI per month to ensure long-term solvency.`:"Variable returns based strictly on monthly unified sales performance."})]})]})]}),a.jsxs("div",{className:"mx-10 mb-8 p-6 bg-slate-50 border border-slate-100 rounded-3xl grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white rounded-2xl shadow-sm text-indigo-600",children:a.jsx(yf,{size:24})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Monthly Principal Exit"}),a.jsxs("p",{className:"text-xl font-black text-slate-900 leading-none mt-1",children:["K",Oe(o)]})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white rounded-2xl shadow-sm text-emerald-600",children:a.jsx(co,{size:24})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Guaranteed Draw"}),a.jsxs("p",{className:"text-xl font-black text-slate-900 leading-none mt-1",children:["K",Oe(e.BaseSalary)]})]})]})]}),e.ProposalNotes&&a.jsxs("div",{className:"mx-10 mb-10 p-6 bg-indigo-50 border border-indigo-100 text-indigo-900 rounded-3xl relative overflow-hidden",children:[a.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10",children:a.jsx(tr,{size:40})}),a.jsx("h4",{className:"text-[10px] font-black uppercase text-indigo-400 mb-2",children:"Internal Proposal Addendum"}),a.jsxs("p",{className:"text-sm font-medium italic leading-relaxed text-indigo-800",children:['"',e.ProposalNotes,'"']})]}),a.jsxs("div",{className:"p-10 bg-slate-100 border-t border-slate-200 flex flex-col md:flex-row gap-4",children:[a.jsxs("button",{onClick:()=>c(!0),className:"flex-1 px-8 py-4 bg-white border-2 border-slate-200 text-slate-600 rounded-2xl text-[10px] font-black uppercase tracking-widest hover:border-amber-400 transition-all flex items-center justify-center gap-2",children:[a.jsx(tr,{size:16})," Negotiate Terms"]}),a.jsxs("button",{onClick:()=>u(!0),disabled:!t,className:`flex-1 px-8 py-4 rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-xl flex items-center justify-center gap-2 transition-all ${t?"bg-slate-900 text-white hover:bg-emerald-600":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:[a.jsx(yd,{size:16})," ",t?"Authorize & Sign Agreement":"Draft Status: Awaiting Publication"]})]})]})]})})},yM=({principal:e,share:t,payoutModel:n,setShowDepositModal:r})=>a.jsxs("div",{className:"bg-slate-900 rounded-[2.5rem] p-8 mb-8 text-white relative overflow-hidden shadow-2xl border border-slate-800",children:[a.jsx("div",{className:"absolute right-0 top-0 p-12 opacity-10 rotate-12",children:a.jsx(Ry,{size:180})}),a.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-center gap-8",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"w-16 h-16 bg-amber-500 rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(wf,{size:32})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-[10px] font-black text-amber-400 uppercase tracking-[0.3em] mb-1",children:"Active Share Principal"}),a.jsxs("p",{className:"text-4xl font-black tracking-tighter",children:["K",Oe(e)]}),a.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[a.jsxs("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest flex items-center gap-1",children:[a.jsx(Sn,{size:12,className:"text-emerald-500"})," Share: ",t,"% Revenue Node"]}),a.jsxs("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest flex items-center gap-1",children:[a.jsx(co,{size:12,className:"text-indigo-400"})," Model: ",n===ra.InterestOnly?"Capital Preservation":"Amortized Recovery"]})]})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("button",{onClick:()=>r(!0),className:"px-8 py-3 bg-white text-slate-900 rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-amber-400 transition-all active:scale-95 flex items-center gap-2 shadow-xl",children:[a.jsx(Lr,{size:16})," Increase Principal"]}),a.jsxs("div",{className:"px-8 py-3 bg-emerald-500 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest flex items-center gap-2 shadow-xl border border-emerald-400",children:[a.jsx(hn,{size:16})," Authenticated Partner"]})]})]})]}),bM=({monthsRemaining:e,progressPercent:t,endDate:n,baseSalary:r,equityShare:i})=>a.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 animate-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm flex flex-col justify-between h-[160px]",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Maturity Progress"}),a.jsxs("div",{className:"flex items-end justify-between mb-3",children:[a.jsxs("h3",{className:"text-2xl font-black text-slate-900",children:[e," Months Remaining"]}),a.jsxs("span",{className:"text-xs font-bold text-amber-600",children:[t.toFixed(0),"%"]})]}),a.jsx("div",{className:"h-3 w-full bg-slate-100 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-amber-500 transition-all duration-1000",style:{width:`${t}%`}})})]}),a.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase mt-4",children:["Termination Node: ",Ae(n)]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm flex flex-col justify-between h-[160px]",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Operational Draw"}),a.jsxs("h3",{className:"text-2xl font-black text-slate-900 tracking-tighter",children:["K",Oe(r)]})]}),a.jsx("div",{className:"pt-2 border-t border-slate-50",children:a.jsxs("span",{className:"text-[9px] font-bold text-emerald-600 uppercase tracking-widest flex items-center gap-1",children:[a.jsx(zs,{size:10})," Guaranteed Disbursement"]})})]}),a.jsxs("div",{className:"bg-amber-900 p-6 rounded-3xl shadow-xl flex flex-col justify-between relative overflow-hidden h-[160px]",children:[a.jsx("div",{className:"absolute -right-4 -bottom-4 opacity-10",children:a.jsx(co,{size:120})}),a.jsx("p",{className:"text-[10px] font-black text-amber-200/60 uppercase tracking-widest mb-4",children:"Equity Participation"}),a.jsxs("h3",{className:"text-2xl font-black text-white leading-tight",children:[i,"% Variable Performance Allocation"]})]})]}),a.jsxs("div",{className:"bg-white rounded-[2rem] p-8 border border-slate-100 shadow-sm",children:[a.jsx("div",{className:"flex justify-between items-center mb-8",children:a.jsxs("h3",{className:"text-xs font-black text-slate-900 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Sn,{size:16,className:"text-amber-500"})," Monthly Growth Trend"]})}),a.jsx("div",{className:"h-64 flex items-end justify-between gap-4 px-4",children:[40,45,42,55,60,58,65,75,80,78,85,95].map((o,c)=>a.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2 group",children:[a.jsxs("div",{className:"w-full relative",children:[a.jsx("div",{className:"bg-indigo-500 rounded-t-lg transition-all duration-700 w-full group-hover:bg-indigo-400",style:{height:`${o*.8}px`}}),a.jsx("div",{className:"bg-amber-500 rounded-t-lg transition-all duration-700 w-full absolute bottom-0 opacity-50",style:{height:`${o*.4}px`}})]}),a.jsx("span",{className:"text-[7px] font-black text-slate-300 uppercase",children:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][c]})]},c))})]})]}),wM=({salesForce:e})=>a.jsxs("div",{className:"max-w-6xl mx-auto animate-in slide-in-from-right-4 duration-500",children:[a.jsx("div",{className:"flex items-center justify-between mb-8",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black text-slate-900 uppercase tracking-tight",children:"Active Sales Team"}),a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Personnel contributing to the global revenue pool"})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(t=>a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm hover:shadow-lg transition-all group",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("div",{className:"w-14 h-14 bg-slate-50 rounded-2xl flex items-center justify-center text-slate-300 group-hover:bg-amber-50 transition-colors",children:a.jsx(Nt,{size:28})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-black text-slate-900 uppercase tracking-tight",children:t.AgentName}),a.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase mt-0.5",children:t.Department})]})]}),a.jsx("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-slate-50",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-[8px] font-black text-slate-300 uppercase mb-1",children:"Status"}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-[7px] font-black uppercase ${t.Status==="Active"?"bg-emerald-50 text-emerald-600":"bg-slate-100 text-slate-400"}`,children:t.Status})]})})]},t.AgentID))})]}),jM=({currentPartner:e})=>a.jsx("div",{className:"max-w-4xl mx-auto animate-in fade-in zoom-in duration-500",children:a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-200 shadow-2xl overflow-hidden p-12",children:[a.jsxs("div",{className:"flex justify-between items-start mb-12 border-b border-slate-100 pb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-black text-slate-900 uppercase tracking-tighter mb-2",children:"Master Shareholder Agreement"}),a.jsxs("p",{className:"text-[10px] font-bold text-amber-600 uppercase tracking-[0.3em]",children:["Binding Partnership Terms  Ref: PARTNER-",e.AgentID]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase",children:"Effective Since"}),a.jsx("p",{className:"text-sm font-black text-slate-900",children:Ae(e.InvestmentSignedDate)})]})]}),a.jsxs("div",{className:"space-y-8 text-slate-600 text-sm leading-relaxed max-h-[600px] overflow-y-auto pr-6 custom-scrollbar",children:[a.jsxs("section",{children:[a.jsxs("h4",{className:"font-black text-slate-900 uppercase text-xs mb-3 flex items-center gap-2",children:[a.jsx("div",{className:"w-1 h-4 bg-amber-500 rounded-full"})," 1. FINANCIAL POSITION"]}),a.jsxs("p",{children:["The Partner maintains an active investment principal of ",a.jsxs("strong",{children:["K",Oe(e.InvestmentPrincipal)]}),". The company acknowledges receipt of this capital, which grants the Partner a preferential right to ",a.jsxs("strong",{children:[e.EquityShare,"%"]})," of the gross monthly sales revenue generated by the unified sales force."]})]}),a.jsxs("section",{children:[a.jsxs("h4",{className:"font-black text-slate-900 uppercase text-xs mb-3 flex items-center gap-2",children:[a.jsx("div",{className:"w-1 h-4 bg-amber-500 rounded-full"})," 2. DISBURSEMENT PROTOCOL"]}),a.jsx("p",{children:"Profits are calculated based on realized monthly collections. Payouts are dispatched on the company's standard disbursement cycle. In the event of an Amortized Recovery model, the Principal portion of the payout is treated as a return of capital, and the variable portion as investment yield."})]}),a.jsxs("section",{children:[a.jsxs("h4",{className:"font-black text-slate-900 uppercase text-xs mb-3 flex items-center gap-2",children:[a.jsx("div",{className:"w-1 h-4 bg-amber-500 rounded-full"})," 3. GOVERNANCE"]}),a.jsxs("p",{children:["This agreement remains in effect for ",a.jsxs("strong",{children:[e.InvestmentTermMonths," months"]}),". Early termination or withdrawal of principal requires a standard 90-day written notice to ensure fleet operational continuity is not disrupted by capital fluctuations."]})]})]}),a.jsxs("div",{className:"mt-12 pt-8 border-t border-slate-100 grid grid-cols-2 gap-12",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"For Sally Chanza Business Caf"}),a.jsx("div",{className:"h-16 border-b border-slate-200 flex items-end pb-2 italic text-slate-400 font-serif text-lg",children:"Sally Chanza"}),a.jsx("p",{className:"text-[11px] font-bold text-slate-700 uppercase",children:"Director & Administrator"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Shareholder Authorization"}),a.jsx("div",{className:"h-16 border-b border-slate-200 flex items-end pb-2",children:a.jsx("img",{src:e.InvestmentSignature,alt:"Signature",className:"h-14 mix-blend-multiply"})}),a.jsxs("p",{className:"text-[11px] font-bold text-slate-700 uppercase",children:[e.AgentName,"  Partner"]})]})]})]})}),n2=({showDepositModal:e,setShowDepositModal:t,depositAmount:n,setDepositAmount:r,handleDeposit:i,isProcessing:o,showNegotiationModal:c,setShowNegotiationModal:u,counterShare:d,setCounterShare:f,counterTerm:h,setCounterTerm:m,counterNote:x,setCounterNote:v,handleCounterPropose:j})=>a.jsxs(a.Fragment,{children:[e&&a.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white rounded-[2rem] shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-50 flex justify-between items-center bg-slate-50/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-amber-100 text-amber-600 rounded-xl",children:a.jsx(tv,{size:20})}),a.jsx("h3",{className:"font-black text-slate-900 uppercase text-sm",children:"Principal Injection"})]}),a.jsx("button",{onClick:()=>t(!1),children:a.jsx(bt,{size:20,className:"text-slate-300"})})]}),a.jsx("div",{className:"p-10 space-y-6",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Contribution (ZMW)"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-xl font-black text-slate-300",children:"K"}),a.jsx("input",{autoFocus:!0,type:"number",value:n,onChange:b=>r(Number(b.target.value)),className:"w-full pl-10 p-5 bg-slate-50 border border-slate-100 rounded-2xl outline-none text-3xl font-black"})]})]})}),a.jsxs("div",{className:"p-8 bg-slate-50 flex gap-4",children:[a.jsx("button",{onClick:()=>t(!1),className:"flex-1 px-6 py-3 text-[10px] font-black uppercase text-slate-400",children:"Cancel"}),a.jsx("button",{onClick:i,disabled:o||n<=0,className:"flex-1 bg-slate-900 text-white px-6 py-3 rounded-2xl text-[10px] font-black uppercase shadow-xl",children:"Confirm Capital"})]})]})}),c&&a.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white rounded-[2rem] shadow-2xl w-full max-w-lg overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-50 flex justify-between items-center",children:[a.jsx("h3",{className:"font-black text-slate-900 uppercase text-sm",children:"Negotiation Panel"}),a.jsx("button",{onClick:()=>u(!1),children:a.jsx(bt,{size:20,className:"text-slate-300"})})]}),a.jsxs("div",{className:"p-10 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Target Share (%)"}),a.jsx("input",{type:"number",step:"0.1",value:d,onChange:b=>f(Number(b.target.value)),className:"w-full p-3 bg-slate-50 border rounded-xl outline-none font-black text-indigo-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Target Term (Mo)"}),a.jsx("input",{type:"number",value:h,onChange:b=>m(Number(b.target.value)),className:"w-full p-3 bg-slate-50 border rounded-xl outline-none font-black text-slate-900"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Rationale"}),a.jsx("textarea",{value:x,onChange:b=>v(b.target.value),placeholder:"Explain your suggested changes...",className:"w-full h-32 p-4 bg-slate-50 border border-slate-100 rounded-2xl outline-none text-sm font-medium resize-none focus:ring-4 focus:ring-indigo-50"})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 flex gap-4",children:[a.jsx("button",{onClick:()=>u(!1),className:"flex-1 px-6 py-3 text-[10px] font-black uppercase text-slate-400",children:"Cancel"}),a.jsx("button",{onClick:j,className:"flex-1 bg-amber-500 text-white px-6 py-3 rounded-2xl text-[10px] font-black uppercase",children:"Submit Counter-Offer"})]})]})})]}),NM=({data:e,onUpdatePartner:t})=>{const[n,r]=O.useState("wealth"),[i,o]=O.useState(!1),[c,u]=O.useState(!1),[d,f]=O.useState(!1),[h,m]=O.useState(0),[x,v]=O.useState(!1),[j,b]=O.useState(0),[w,y]=O.useState(0),[k,P]=O.useState(""),C=e.agents.find(W=>{var V;return W.AgentID===((V=e.currentUser)==null?void 0:V.id)}),S=e.agents.filter(W=>W.Role==="Agent"||W.Role==="Support"),E=O.useMemo(()=>C?(e.notifications||[]).filter(W=>W.Type==="PAYOUT_REQUEST"&&String(W.ID).includes(String(C.AgentID))).sort((W,V)=>new Date(V.Time).getTime()-new Date(W.Time).getTime()):[],[e.notifications,C]);if(!C)return null;const D=C.InvestmentStatus===an.Active,T=C.InvestmentStatus===an.UnderReview,M=Number(C.InvestmentTermMonths||12),z=C.InvestmentDate?new Date(C.InvestmentDate):new Date,R=new Date(z);R.setMonth(R.getMonth()+M);const $=Math.max(0,Math.ceil((R.getTime()-new Date().getTime())/(1e3*60*60*24*30.44))),B=Math.min(100,Math.max(0,(M-$)/M*100)),L=async()=>{if(!(!C||h<=0)){v(!0);try{await t({...C,InvestmentPrincipal:(C.InvestmentPrincipal||0)+h}),m(0),o(!1)}finally{v(!1)}}},F=async()=>{v(!0);try{await t({...C,EquityShare:j,InvestmentTermMonths:w,ProposalNotes:`PARTNER SUGGESTION: ${k}`,InvestmentStatus:an.CounterProposed}),f(!1)}finally{v(!1)}},Y=async(W,V,ee)=>{v(!0);try{await t({...C,InvestmentSignature:ee,InvestmentSignedDate:new Date().toISOString(),InvestmentStatus:an.Active}),u(!1)}finally{v(!1)}};return D?a.jsxs("div",{className:"flex flex-col h-full animate-in fade-in duration-500 overflow-hidden",children:[a.jsx(yM,{principal:C.InvestmentPrincipal,share:C.EquityShare,payoutModel:C.PartnerPayoutModel,setShowDepositModal:o}),a.jsx("div",{className:"flex border-b border-gray-100 bg-white px-6 shrink-0",children:[{id:"wealth",label:"Node Performance"},{id:"team",label:"Sales Distribution"},{id:"history",label:"Payout History"},{id:"legal",label:"MSA Record"}].map(W=>a.jsx("button",{onClick:()=>r(W.id),className:`px-6 py-4 text-[10px] font-black tracking-widest border-b-2 transition-colors uppercase ${n===W.id?"border-amber-600 text-amber-600":"border-transparent text-gray-400 hover:text-slate-600"}`,children:W.label},W.id))}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-8 no-scrollbar bg-slate-50/30",children:[n==="wealth"&&a.jsx(bM,{monthsRemaining:$,progressPercent:B,endDate:R.toISOString(),baseSalary:C.BaseSalary,equityShare:C.EquityShare}),n==="team"&&a.jsx(wM,{salesForce:S}),n==="history"&&a.jsxs("div",{className:"max-w-4xl mx-auto animate-in slide-in-from-bottom-4 duration-500 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between px-1",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-black text-slate-900 uppercase tracking-tight",children:"Yield Distributions"}),a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Historical ledger of all shareholder draws and capital exits"})]}),a.jsxs("div",{className:"flex items-center gap-2 bg-white px-4 py-2 rounded-2xl border border-slate-100 shadow-sm",children:[a.jsx(Sn,{size:14,className:"text-emerald-500"}),a.jsxs("span",{className:"text-[10px] font-black uppercase text-slate-600",children:[E.length," Total Disbursements"]})]})]}),a.jsx("div",{className:"space-y-3",children:E.length>0?E.map(W=>{var V;return a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-md flex items-center justify-between group hover:border-amber-200 transition-all",children:[a.jsxs("div",{className:"flex items-center gap-5",children:[a.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center shadow-inner ${W.Status==="Read"?"bg-emerald-50 text-emerald-600":"bg-amber-50 text-amber-600"}`,children:W.Status==="Read"?a.jsx(wr,{size:24}):a.jsx($t,{size:24})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-black text-slate-900 uppercase tracking-tight",children:W.Message.split(": ")[0]}),a.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[a.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase",children:Ae(W.Time)}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-[8px] font-black uppercase ${W.Status==="Read"?"bg-emerald-50 text-emerald-700":"bg-amber-50 text-amber-700"}`,children:W.Status==="Read"?"Settled":"In Verification"})]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:`text-xl font-black tracking-tighter ${W.Status==="Read"?"text-emerald-600":"text-slate-900"}`,children:(V=W.Message.split("K")[1])!=null&&V.split(" ")[0]?"K"+W.Message.split("K")[1].split(" ")[0]:"View"}),a.jsx("p",{className:"text-[8px] font-bold text-slate-400 uppercase mt-1",children:"Net Proceeds"})]})]},W.ID)}):a.jsxs("div",{className:"py-24 text-center bg-white rounded-[3rem] border border-slate-100 opacity-20 shadow-inner",children:[a.jsx(Ri,{size:64,className:"mx-auto mb-4"}),a.jsx("p",{className:"text-xs font-black uppercase tracking-[0.4em]",children:"No Disbursement History Recorded"})]})})]}),n==="legal"&&a.jsx(jM,{currentPartner:C})]}),a.jsx(n2,{showDepositModal:i,setShowDepositModal:o,depositAmount:h,setDepositAmount:m,handleDeposit:L,isProcessing:x})]}):a.jsxs(a.Fragment,{children:[a.jsx(vM,{currentPartner:C,isPendingReview:T,principal:C.InvestmentPrincipal||0,share:C.EquityShare||0,termMonths:M,monthlyCapital:(C.InvestmentPrincipal||0)/Math.max(1,M),setShowNegotiationModal:f,setShowSigningModal:u}),a.jsx(n2,{showNegotiationModal:d,setShowNegotiationModal:f,counterShare:j,setCounterShare:b,counterTerm:w,setCounterTerm:y,counterNote:k,setCounterNote:P,handleCounterPropose:F}),a.jsx(By,{isOpen:c,onClose:()=>u(!1),role:"Client",defaultName:C.AgentName,defaultTitle:"Authorized Shareholder",onConfirm:Y})]})},SM=({agents:e,onAdd:t,onView:n,onEdit:r})=>{const[i,o]=H.useState(""),c=e.filter(f=>{var h;return f.AgentName.toLowerCase().includes(i.toLowerCase())||f.Role.toLowerCase().includes(i.toLowerCase())||((h=f.Department)==null?void 0:h.toLowerCase().includes(i.toLowerCase()))}),u=f=>{if(f.ExperienceLevel==="Lead")return xE;if(f.ExperienceLevel==="Trainee")return bE;switch(f.Role.toLowerCase()){case"admin":return Di;case"partner":return wf;default:return Wi}},d=f=>{if(f.ExperienceLevel==="Lead")return"border-amber-100 text-amber-500 ring-4 ring-amber-50";if(f.ExperienceLevel==="Independent")return"border-indigo-100 text-indigo-400";switch(f.Role.toLowerCase()){case"admin":return"border-indigo-100 text-indigo-400";case"partner":return"border-amber-100 text-amber-500";default:return"border-slate-100 text-slate-300"}};return a.jsxs("div",{className:"flex flex-col h-full animate-in fade-in duration-700 overflow-hidden",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-end gap-4 pb-8 shrink-0",children:a.jsxs("div",{className:"flex w-full md:max-w-lg items-center gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(An,{size:14,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),a.jsx("input",{type:"text",placeholder:"SEARCH STAFF...",value:i,onChange:f=>o(f.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-100 rounded-full text-[9px] font-black text-slate-600 placeholder:text-slate-300 outline-none focus:ring-4 focus:ring-slate-100/50 transition-all uppercase tracking-widest"})]}),a.jsx("button",{onClick:t,className:"p-2.5 bg-slate-900 text-white rounded-full hover:bg-slate-800 transition-all shadow-lg active:scale-90 flex-shrink-0",children:a.jsx(Lr,{size:16,strokeWidth:3})})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-10 pt-2",children:a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-3 md:gap-x-8 gap-y-8 md:gap-y-12",children:c.length>0?c.map(f=>{const h=u(f),m=f.AgentName.split(" "),x=m.length>1?`${m[0]} ${m[1][0]}.`:f.AgentName,v=e.filter(j=>String(j.ParentAgentID).trim().toLowerCase()===String(f.AgentID).trim().toLowerCase()).length;return a.jsxs("div",{onClick:()=>n(f),className:"group relative flex flex-col items-center cursor-pointer transition-transform duration-300 hover:-translate-y-1",children:[a.jsx("div",{className:"absolute -right-1 -top-1 z-20 flex gap-1",children:a.jsx("button",{onClick:j=>{j.stopPropagation(),r(f)},className:"p-2 bg-white border border-slate-100 text-slate-300 hover:text-indigo-600 rounded-full transition-all shadow-md active:scale-90",children:a.jsx(Ty,{size:14})})}),a.jsxs("div",{className:"relative mb-3 md:mb-5",children:[a.jsx("div",{className:`w-20 h-20 md:w-32 md:h-32 rounded-full border flex items-center justify-center transition-all duration-500 group-hover:scale-105 group-hover:shadow-xl bg-white ${d(f)}`,children:a.jsx(h,{className:"w-8 h-8 md:w-12 md:h-12",strokeWidth:1})}),a.jsx("div",{className:`absolute bottom-0.5 right-0.5 md:bottom-2 md:right-2 w-3.5 h-3.5 md:w-5 md:h-5 rounded-full border-2 md:border-4 border-white shadow-sm
                      ${f.Status==="Active"?"bg-emerald-500":"bg-slate-300"}`}),v>0&&a.jsxs("div",{className:"absolute -top-1 -right-1 px-2 py-1 bg-amber-500 text-white rounded-full border border-white shadow-lg flex items-center gap-1 animate-in zoom-in duration-500",children:[a.jsx(OE,{size:10}),a.jsx("span",{className:"text-[8px] font-black leading-none",children:v})]}),a.jsx("div",{className:`absolute -top-1 -left-1 px-1.5 py-0.5 rounded-md border flex items-center shadow-sm animate-in zoom-in duration-500 bg-white/80 backdrop-blur-[2px] ${f.Role==="Partner"?"border-amber-100 text-amber-600":"border-slate-100 text-slate-400"}`,children:a.jsx("span",{className:"text-[6px] md:text-[7px] font-black uppercase tracking-tighter",children:f.ExperienceLevel||f.Role})}),a.jsx("div",{className:"absolute bottom-0 -left-1 px-1.5 py-0.5 bg-slate-900/90 backdrop-blur-[2px] text-white rounded-md border border-white/10 flex items-center animate-in slide-in-from-bottom-2 duration-700",children:a.jsx("span",{className:"text-[6px] md:text-[7px] font-black leading-none uppercase tracking-tighter",children:f.AgentID})})]}),a.jsxs("div",{className:"text-center space-y-0.5 px-1 w-full",children:[a.jsx("h3",{className:"text-[10px] md:text-xs font-black text-slate-900 uppercase tracking-tight group-hover:text-indigo-600 transition-colors line-clamp-1",children:x}),a.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[a.jsx("p",{className:"text-[7px] md:text-[8px] font-bold text-slate-400 uppercase tracking-[0.2em] leading-none opacity-60",children:f.Department||"Operations"}),v>0&&a.jsx("p",{className:"text-[6px] font-black text-amber-600 uppercase tracking-widest mt-1",children:"Leading Team"})]})]})]},f.AgentID)}):a.jsxs("div",{className:"col-span-full py-20 flex flex-col items-center opacity-10",children:[a.jsx(Nt,{size:40,className:"mb-2"}),a.jsx("p",{className:"text-[8px] font-black uppercase tracking-[0.5em]",children:"No Staff Members Found"})]})})})]})},kM="https://www.overseetracking.com/index.aspx",CM="https://play.google.com/store/apps/details?id=com.myrope.icruises2&hl=en",AM=({client:e,invoices:t=[]})=>{const n=(t==null?void 0:t.some(i=>i.Status===jt.Overdue||i.BalanceDue>0&&new Date(i.DueDate)<new Date))||!1,r=t.reduce((i,o)=>i+(o.BalanceDue||0),0);return a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:["Welcome, ",e==null?void 0:e.CompanyName]}),a.jsx("div",{className:"flex items-center gap-4",children:r>0?a.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-lg border text-[10px] font-black uppercase tracking-widest ${n?"bg-rose-50 border-rose-100 text-rose-600 animate-pulse":"bg-amber-50 border-amber-100 text-amber-600"}`,children:[a.jsx(pa,{size:12})," ",n?"Action Required: Payment Overdue":"Balance Due"]}):a.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 rounded-lg bg-emerald-50 border border-emerald-100 text-emerald-600 text-[10px] font-black uppercase tracking-widest",children:[a.jsx(zs,{size:12})," Account in Good Standing"]})})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:flex sm:flex-row items-center gap-2 w-full lg:w-auto",children:[a.jsxs("a",{href:kM,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-1.5 px-3 py-2.5 bg-slate-900 text-white rounded-xl text-[10px] sm:text-xs font-bold hover:bg-slate-800 transition-all shadow-md active:scale-95 text-center",children:[a.jsx(gd,{size:14,className:"shrink-0"})," Tracking Web"]}),a.jsxs("a",{href:CM,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-1.5 px-3 py-2.5 bg-indigo-600 text-white rounded-xl text-[10px] sm:text-xs font-bold hover:bg-indigo-700 transition-all shadow-md active:scale-95 text-center",children:[a.jsx(oa,{size:14,className:"shrink-0"})," Tracking App"]})]})]})},PM=({ticketTab:e,setTicketTab:t,displayedTickets:n,allCurrentTabTickets:r,showAllTickets:i,setShowAllTickets:o,onNewTicket:c})=>a.jsxs("div",{className:"lg:col-span-1 flex flex-col bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden h-fit",children:[a.jsxs("div",{className:"p-5 border-b border-slate-100 flex items-center justify-between bg-slate-50/30",children:[a.jsxs("div",{className:"flex items-center gap-2 font-bold text-slate-800",children:[a.jsx(tr,{size:18,className:"text-indigo-600"}),a.jsx("span",{className:"text-xs uppercase tracking-widest",children:"Support Center"})]}),a.jsx("button",{onClick:c,className:"p-1.5 bg-slate-900 text-white rounded-full hover:scale-105 transition-transform",children:a.jsx(Lr,{size:14})})]}),a.jsxs("div",{className:"p-4 space-y-3",children:[n.map(u=>a.jsxs("div",{className:"p-3 bg-slate-50 rounded-xl border border-slate-100 space-y-1.5",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("p",{className:"text-[11px] font-bold text-slate-900 truncate pr-2",children:u.Subject}),a.jsx("span",{className:"text-[9px] font-bold text-indigo-600 bg-indigo-50 px-1.5 py-0.5 rounded-full border border-indigo-100 shrink-0",children:u.Status})]}),a.jsxs("div",{className:"flex items-center justify-between text-[9px] text-slate-400 font-medium",children:[a.jsxs("span",{children:["#",u.TicketID]}),a.jsx("span",{children:Ae(u.CreatedAt)})]})]},u.TicketID)),r.length>3&&a.jsx("button",{onClick:()=>o(!i),className:"w-full py-2 flex items-center justify-center gap-1.5 text-[10px] font-bold text-slate-400 hover:text-indigo-600 transition-colors",children:i?a.jsxs(a.Fragment,{children:["Collapse History ",a.jsx(xd,{size:14})]}):a.jsxs(a.Fragment,{children:["View All Activity ",a.jsx(_i,{size:14})]})}),r.length===0&&a.jsxs("div",{className:"py-8 text-center text-slate-400 space-y-1",children:[a.jsx(Cc,{size:24,className:"mx-auto opacity-20"}),a.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest",children:"No active tickets"})]})]}),a.jsxs("div",{className:"flex p-1.5 gap-1.5 bg-slate-50 border-t border-slate-100",children:[a.jsx("button",{onClick:()=>{t("active"),o(!1)},className:`flex-1 py-1.5 text-[9px] font-bold uppercase rounded-lg transition-all ${e==="active"?"bg-white text-indigo-600 shadow-sm":"text-slate-400"}`,children:"Active"}),a.jsx("button",{onClick:()=>{t("history"),o(!1)},className:`flex-1 py-1.5 text-[9px] font-bold uppercase rounded-lg transition-all ${e==="history"?"bg-white text-indigo-600 shadow-sm":"text-slate-400"}`,children:"History"})]})]}),r2=({activeContract:e,vehicles:t})=>a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm flex flex-col justify-between h-[160px]",children:[a.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:[a.jsx(NE,{size:14})," My Service Plan"]}),e?a.jsxs("div",{className:"py-1",children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 uppercase tracking-tight",children:e.PlanType}),a.jsxs("p",{className:"text-[11px] text-slate-500 mt-0.5",children:[e.NoOfUnits," Assets  ",e.BillingCycle," Cycle"]})]}):a.jsx("p",{className:"text-sm text-slate-400 italic",children:"No active plan"}),a.jsx("div",{className:"pt-2 border-t border-slate-50",children:a.jsxs("span",{className:"text-lg font-bold text-emerald-600",children:["K",Oe((e==null?void 0:e.TotalAmount)||0)]})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm flex flex-col justify-between h-[160px]",children:[a.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:[a.jsx(yr,{size:14})," Fleet Size"]}),a.jsxs("div",{className:"py-1",children:[a.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:t.length}),a.jsx("p",{className:"text-[11px] text-slate-500 mt-0.5",children:"Active Registered Assets"})]}),a.jsx("div",{className:"pt-2 border-t border-slate-50 text-[9px] font-bold text-slate-400 uppercase",children:"Verified Inventory"})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden flex flex-col",children:[a.jsx("div",{className:"p-4 bg-slate-50 border-b border-slate-200 flex justify-between items-center",children:a.jsx("span",{className:"text-[10px] font-bold text-slate-800 uppercase tracking-widest",children:"Fleet Inventory"})}),a.jsx("div",{className:"divide-y divide-slate-100",children:t.map(n=>a.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 transition-colors group",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 shadow-sm group-hover:scale-125 transition-transform"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-slate-900 font-mono tracking-tight",children:n.NumberPlate}),a.jsxs("p",{className:"text-[10px] text-slate-500 uppercase tracking-wide",children:[n.Make," ",n.Model,"  ",n.Year]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-tighter",children:"Status"}),a.jsx("p",{className:"text-[10px] font-black text-emerald-600 uppercase",children:n.Status})]})]},n.VehicleID))})]})]}),EM=({invoices:e,displayedInvoices:t,showAllInvoices:n,setShowAllInvoices:r,payments:i,displayedPayments:o,showAllPayments:c,setShowAllPayments:u})=>a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden h-fit flex flex-col",children:[a.jsxs("div",{className:"p-4 bg-slate-50 border-b border-slate-200 flex items-center gap-2",children:[a.jsx($y,{size:18,className:"text-slate-400"}),a.jsx("span",{className:"text-[10px] font-bold text-slate-800 uppercase tracking-widest",children:"Invoices"})]}),a.jsx("div",{className:"divide-y divide-slate-100",children:t.map(d=>a.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 transition-colors",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-[11px] font-bold text-slate-900",children:["INV #",d.InvoiceID]}),a.jsxs("p",{className:"text-[9px] text-slate-400 mt-0.5",children:["Due: ",Ae(d.DueDate)]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-bold text-slate-900",children:["K",Oe(d.TotalAmount)]}),a.jsx("span",{className:`text-[9px] font-bold uppercase ${d.Status==="Paid"?"text-emerald-500":"text-amber-500"}`,children:d.Status})]})]},d.InvoiceID))}),e.length>5&&a.jsx("button",{onClick:()=>r(!n),className:"p-3 bg-slate-50/50 border-t border-slate-100 flex items-center justify-center gap-1.5 text-[10px] font-bold text-slate-400 hover:text-indigo-600 transition-all",children:n?a.jsxs(a.Fragment,{children:["Show Recent ",a.jsx(xd,{size:14})]}):a.jsxs(a.Fragment,{children:["View All Documents ",a.jsx(_i,{size:14})]})})]}),a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden h-fit flex flex-col",children:[a.jsxs("div",{className:"p-4 bg-slate-50 border-b border-slate-200 flex items-center gap-2",children:[a.jsx(Ri,{size:18,className:"text-slate-400"}),a.jsx("span",{className:"text-[10px] font-bold text-slate-800 uppercase tracking-widest",children:"Payment History"})]}),a.jsx("div",{className:"divide-y divide-slate-100",children:o.map(d=>a.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-1.5 bg-slate-100 rounded-lg text-slate-400",children:a.jsx(ha,{size:14})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[11px] font-bold text-slate-900",children:d.Method}),a.jsx("p",{className:"text-[9px] text-slate-400 mt-0.5",children:Ae(d.Date)})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-bold text-emerald-600",children:["K",Oe(d.Amount)]}),a.jsx("span",{className:"text-[9px] font-bold text-slate-300 uppercase",children:"Success"})]})]},d.PaymentID))}),i.length>5&&a.jsx("button",{onClick:()=>u(!c),className:"p-3 bg-slate-50/50 border-t border-slate-100 flex items-center justify-center gap-1.5 text-[10px] font-bold text-slate-400 hover:text-indigo-600 transition-all",children:c?a.jsxs(a.Fragment,{children:["Show Recent ",a.jsx(xd,{size:14})]}):a.jsxs(a.Fragment,{children:["View All Transactions ",a.jsx(_i,{size:14})]})})]})]}),DM=({activeTab:e,setActiveTab:t})=>{const[n,r]=O.useState(!1),i=[{id:"home",label:"Home",icon:Z4},{id:"fleet",label:"Fleet",icon:yr},{id:"billing",label:"Billing",icon:$y},{id:"support",label:"Support",icon:Cc},{id:"services",label:"Services",icon:Ly}],o=i.find(c=>c.id===e)||i[0];return a.jsxs("nav",{className:"relative z-30",children:[a.jsx("div",{className:"hidden md:grid grid-cols-5 bg-slate-100/80 p-1.5 rounded-[1.25rem] border border-slate-200/60 backdrop-blur-sm shadow-inner",children:i.map(({id:c,label:u,icon:d})=>{const f=e===c;return a.jsxs("button",{onClick:()=>t(c),className:`flex items-center justify-center gap-2.5 py-3.5 px-2 rounded-xl transition-all duration-300 group
                ${f?"bg-white text-indigo-600 shadow-md shadow-slate-200/50 transform scale-[1.02]":"text-slate-500 hover:text-slate-800 hover:bg-white/40"}`,children:[a.jsx(d,{size:16,className:`transition-colors duration-300 ${f?"text-indigo-600":"text-slate-400 group-hover:text-slate-600"}`}),a.jsx("span",{className:`text-[11px] font-black uppercase tracking-[0.1em] transition-all
                ${f?"opacity-100":"opacity-70 group-hover:opacity-100"}`,children:u})]},c)})}),a.jsxs("div",{className:"md:hidden flex flex-col gap-2",children:[a.jsxs("button",{onClick:()=>r(!n),className:"flex items-center justify-between w-full px-6 py-4 bg-white rounded-2xl shadow-sm border-2 border-indigo-50 text-indigo-600 active:scale-[0.98] transition-all",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-indigo-50 rounded-lg",children:a.jsx(o.icon,{size:20})}),a.jsxs("div",{className:"flex flex-col items-start",children:[a.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest leading-none mb-1",children:"Active Section"}),a.jsx("span",{className:"font-black text-xs uppercase tracking-widest leading-none",children:o.label})]})]}),a.jsx("div",{className:`p-1 rounded-full transition-all duration-300 ${n?"bg-indigo-600 text-white rotate-180":"bg-slate-50 text-slate-400"}`,children:a.jsx(_i,{size:18})})]}),n&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-3 bg-white rounded-[2rem] shadow-2xl border border-slate-100 overflow-hidden animate-in fade-in zoom-in-95 duration-200 ring-4 ring-slate-900/5",children:a.jsxs("div",{className:"flex flex-col p-2",children:[a.jsx("div",{className:"px-5 py-3 border-b border-slate-50",children:a.jsx("span",{className:"text-[9px] font-black text-slate-300 uppercase tracking-[0.3em]",children:"Select Destination"})}),i.map(({id:c,label:u,icon:d})=>{const f=e===c;return a.jsxs("button",{onClick:()=>{t(c),r(!1)},className:`flex items-center gap-4 px-5 py-4 text-left transition-all rounded-xl my-0.5
                      ${f?"bg-indigo-600 text-white shadow-lg shadow-indigo-200":"text-slate-500 hover:bg-slate-50"}`,children:[a.jsx(d,{size:18,className:f?"text-white":"text-slate-400"}),a.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:u}),f&&a.jsx("div",{className:"ml-auto w-2 h-2 rounded-full bg-white animate-pulse"})]},c)})]})})]})]})},OM=({isEligible:e,onClaim:t})=>e?a.jsxs("div",{className:"bg-gradient-to-r from-emerald-600 to-indigo-600 rounded-[2rem] p-8 text-white shadow-2xl relative overflow-hidden",children:[a.jsx("div",{className:"absolute right-0 top-0 p-8 opacity-10 rotate-12",children:a.jsx(l_,{size:120})}),a.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center justify-between gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:a.jsx(a_,{size:24,className:"text-amber-300"})}),a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Professional Opportunity"})]}),a.jsxs("p",{className:"text-sm font-medium text-emerald-50 leading-relaxed max-w-xl",children:["Based on your exceptional referral record and timely payment history, you are eligible to become a ",a.jsx("strong",{children:"Trainee Agent"}),". Start earning commissions while managing your fleet."]})]}),a.jsx("button",{onClick:t,className:"px-8 py-4 bg-white text-indigo-700 rounded-2xl text-[10px] font-black uppercase tracking-[0.2em] shadow-xl hover:scale-105 transition-all active:scale-95",children:"Claim My Offer"})]})]}):null,IM=({contracts:e,onView:t})=>a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-4 bg-slate-50 border-b border-slate-200 flex items-center gap-2",children:[a.jsx(hn,{size:18,className:"text-slate-400"}),a.jsx("span",{className:"text-[10px] font-bold text-slate-800 uppercase tracking-widest",children:"Official Contracts"})]}),a.jsx("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(n=>a.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl flex items-center justify-between border border-slate-100 group hover:border-indigo-200 transition-all",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-2 bg-white rounded-lg border border-slate-200 text-slate-400 group-hover:text-indigo-600 transition-colors",children:a.jsx(Cn,{size:20})}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-[11px] font-bold text-slate-900 uppercase tracking-tight",children:[n.PlanType," (",n.NoOfUnits," Units)"]}),a.jsxs("p",{className:"text-[9px] text-slate-400 uppercase font-medium",children:["ID: ",n.ContractID,"  Exp: ",Ae(n.ExpiryDate)]})]})]}),a.jsx("button",{onClick:()=>t(n),className:"px-3 py-1.5 bg-white border border-slate-200 rounded-lg text-[10px] font-bold text-slate-600 hover:border-indigo-600 hover:text-indigo-600 transition-all",children:"View"})]},n.ContractID))})]}),TM=({isOpen:e,onClose:t,subject:n,setSubject:r,description:i,setDescription:o,isSubmitting:c,onSubmit:u})=>e?a.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white rounded-[2rem] shadow-2xl w-full max-w-lg overflow-hidden animate-in zoom-in duration-300",children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[a.jsxs("div",{className:"flex items-center gap-2 font-bold text-slate-800",children:[a.jsx(Cc,{size:20}),a.jsx("span",{className:"text-sm uppercase tracking-widest",children:"Support Request"})]}),a.jsx("button",{onClick:t,children:a.jsx(bt,{size:20,className:"text-slate-300 hover:text-slate-900 transition-colors"})})]}),a.jsxs("form",{onSubmit:u,className:"p-8 space-y-5",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest ml-1",children:"Subject"}),a.jsx("input",{required:!0,value:n,onChange:d=>r(d.target.value),placeholder:"How can we assist you?",className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-xl outline-none font-bold text-sm focus:ring-2 focus:ring-indigo-100 transition-all"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest ml-1",children:"Message"}),a.jsx("textarea",{required:!0,value:i,onChange:d=>o(d.target.value),placeholder:"Describe your request in detail...",className:"w-full h-32 p-4 bg-slate-50 border border-slate-200 rounded-xl outline-none text-sm font-medium resize-none focus:ring-2 focus:ring-indigo-100 transition-all"})]}),a.jsxs("button",{type:"submit",disabled:c,className:"w-full bg-slate-900 text-white py-4 rounded-xl text-xs font-bold uppercase tracking-widest shadow-lg flex items-center justify-center gap-3 active:scale-95 transition-all",children:[c?a.jsx(Dt,{size:16,className:"animate-spin"}):a.jsx(Rr,{size:16}),"Submit Request"]})]})]})}):null,_M=({isOpen:e,onClose:t,name:n,setName:r,company:i,setCompany:o,phone:c,setPhone:u,isSubmitting:d,onSubmit:f})=>e?a.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white rounded-[2rem] shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in duration-300",children:[a.jsxs("div",{className:"p-6 border-b border-indigo-100 flex justify-between items-center bg-indigo-50/30",children:[a.jsxs("div",{className:"flex items-center gap-2 font-bold text-indigo-900",children:[a.jsx(DE,{size:20}),a.jsx("span",{className:"text-sm uppercase tracking-widest",children:"Refer a Friend"})]}),a.jsx("button",{onClick:t,children:a.jsx(bt,{size:20,className:"text-slate-300 hover:text-slate-900 transition-colors"})})]}),a.jsx("div",{className:"px-8 pt-6 pb-2 text-center",children:a.jsxs("p",{className:"text-xs text-slate-500",children:["Provide their details below. Once they join our platform, we will automatically credit your account with ",a.jsx("strong",{className:"text-indigo-600",children:"1 month of free service"}),"."]})}),a.jsxs("form",{onSubmit:f,className:"p-8 space-y-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest ml-1",children:"Contact Person Name"}),a.jsx("input",{required:!0,value:n,onChange:h=>r(h.target.value),placeholder:"Full name of your friend/contact...",className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-xl outline-none font-bold text-sm focus:ring-2 focus:ring-indigo-100 transition-all"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest ml-1",children:"Company Name"}),a.jsx("input",{required:!0,value:i,onChange:h=>o(h.target.value),placeholder:"Business or entity name...",className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-xl outline-none font-bold text-sm focus:ring-2 focus:ring-indigo-100 transition-all"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest ml-1",children:"Phone Number"}),a.jsx("input",{required:!0,value:c,onChange:h=>u(h.target.value),placeholder:"09XX XXX XXX",className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-xl outline-none font-bold text-sm focus:ring-2 focus:ring-indigo-100 transition-all"})]}),a.jsxs("button",{type:"submit",disabled:d,className:"w-full bg-indigo-600 text-white py-4 rounded-xl text-xs font-bold uppercase tracking-widest shadow-lg flex items-center justify-center gap-3 active:scale-95 transition-all mt-4",children:[d?a.jsx(Dt,{size:16,className:"animate-spin"}):a.jsx(jE,{size:16}),"Submit Referral"]})]})]})}):null,MM=[{id:"push",label:"Push to Start Conversion",icon:Q4,desc:"Upgrade from traditional key ignition to a modern push-button start system with proximity sensing."},{id:"dash",label:"Dashcams",icon:w_,desc:"High-definition video recording solutions for incident documentation and safety."},{id:"alarm",label:"Vehicle Alarm System",icon:md,desc:"Advanced anti-theft protection with precision sensors and remote monitoring integration."},{id:"rec",label:"Tracking Officer",icon:Di,desc:"Professional personnel dedicated to active monitoring of your high-value assets."}],RM=({data:e,onSignContract:t,onReportIssue:n,onSaveReferral:r})=>{var xt,Lt;const[i,o]=O.useState("home"),[c,u]=O.useState(null),[d,f]=O.useState(!1),[h,m]=O.useState(!1),[x,v]=O.useState(null),[j,b]=O.useState(!1),[w,y]=O.useState(!1),[k,P]=O.useState(""),[C,S]=O.useState(""),[E,D]=O.useState(!1),[T,M]=O.useState("active"),[z,R]=O.useState(""),[$,B]=O.useState(""),[L,F]=O.useState(""),[Y,W]=O.useState(!1),[V,ee]=O.useState(!1),[_,q]=O.useState(!1),X=(xt=e.currentUser)==null?void 0:xt.id,J=e.clients.find(me=>me.ClientID===X),le=O.useMemo(()=>X?e.contracts.filter(me=>String(me.ClientID).trim()===String(X).trim()).sort((me,rt)=>new Date(rt.StartDate).getTime()-new Date(me.StartDate).getTime()):[],[e.contracts,X]),ge=O.useMemo(()=>e.vehicles.filter(me=>me.ClientID===X).sort((me,rt)=>me.NumberPlate.localeCompare(rt.NumberPlate)),[e.vehicles,X]),xe=O.useMemo(()=>e.invoices.filter(me=>me.ClientID===X).sort((me,rt)=>new Date(rt.InvoiceDate).getTime()-new Date(me.InvoiceDate).getTime()),[e.invoices,X]),Ie=O.useMemo(()=>e.payments.filter(me=>me.ClientID===X).sort((me,rt)=>new Date(rt.Date).getTime()-new Date(me.Date).getTime()),[e.payments,X]),Pe=O.useMemo(()=>e.referrals.filter(me=>me.ReferrerID===X),[e.referrals,X]),ie=Pe.filter(me=>me.Status==="Successful"),Ce=O.useMemo(()=>{const me=ie.length>=2,rt=!(xe!=null&&xe.some(Ot=>Ot.Status==="Overdue")),Vt=xe.filter(Ot=>Ot.Status==="Paid").length>=3;return me&&rt&&Vt},[ie,xe]),Se=le.find(me=>me.ContractStatus==="Active"),se=O.useMemo(()=>e.tickets.filter(me=>me.ClientID===X).sort((me,rt)=>new Date(rt.CreatedAt).getTime()-new Date(me.CreatedAt).getTime()),[e.tickets,X]),He=se.filter(me=>me.Status!=="Resolved"),$e=se.filter(me=>me.Status==="Resolved"),Ze=O.useMemo(()=>{if(X)return le.find(me=>!!!(me.ClientSign||me.ClientSignImage)&&me.ContractStatus==="Active")},[le,X]),de=me=>{const rt=e.clients.find(Ot=>Ot.ClientID===X),Vt=Is(me,rt,e.vehicles,e.systemSettings,e.agents);v(Vt),u(me),f(!0)},_e=async(me,rt,Vt)=>{if(!c)return;const Ot={...c,ClientSignName:me,ClientSignTitle:rt,ClientSignDate:new Date().toISOString(),ClientSign:Vt,ClientSignImage:Vt};await t(Ot),m(!1),f(!1),v(null),u(null)},Ne=async me=>{if(me.preventDefault(),!(!n||!X)){D(!0);try{const rt={TicketID:`TKT-${Math.floor(1e3+Math.random()*9e3)}`,ClientID:X,Subject:k,Description:C,Status:Qn.Open,Priority:"Normal",CreatedAt:new Date().toISOString(),UpdatedAt:new Date().toISOString()};await n(rt),P(""),S(""),b(!1),M("active")}finally{D(!1)}}},ze=async me=>{if(me.preventDefault(),!(!n||!r||!X)){D(!0);try{const rt=`REF-${Math.floor(1e3+Math.random()*9e3)}`,Vt={ID:rt,ReferrerID:X,ReferrerName:(J==null?void 0:J.CompanyName)||"Unknown",FriendName:z,FriendCompany:$,FriendPhone:L,Date:new Date().toISOString(),Status:"Pending"};await r(Vt);const Ot={TicketID:rt,ClientID:X,Subject:`REFERRAL RECORD: ${z}`,Description:`CLIENT REFERRAL PROGRAM
Referred: ${z}
Company: ${$}
Phone: ${L}

Client ${J==null?void 0:J.CompanyName} is requesting 1 month free credit upon activation.`,Status:Qn.Open,Priority:"High",CreatedAt:new Date().toISOString(),UpdatedAt:new Date().toISOString()};await n(Ot),R(""),B(""),F(""),y(!1)}finally{D(!1)}}},We=(J==null?void 0:J.ClientType)==="Corporate"||(J==null?void 0:J.ClientType)==="SME"?(J==null?void 0:J.PrimaryContactName)||(J==null?void 0:J.CompanyName)||"":(J==null?void 0:J.CompanyName)||"";return a.jsxs("div",{className:"flex flex-col h-full bg-slate-50 overflow-hidden font-sans",children:[a.jsxs("div",{className:"max-w-7xl mx-auto w-full p-4 md:p-8 space-y-6 flex-1 flex flex-col min-h-0",children:[a.jsx(AM,{client:J,invoices:xe}),a.jsx(DM,{activeTab:i,setActiveTab:o}),a.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-24",children:a.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[i==="home"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx(OM,{isEligible:Ce,onClaim:()=>{P("Application: Trainee Agent Status"),S("I have met the eligibility criteria for Trainee Agent status and would like to apply."),b(!0)}}),Ze&&a.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-2xl p-4 flex flex-col md:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4 text-amber-800",children:[a.jsx(pa,{size:24}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-sm",children:"Signature Required"}),a.jsxs("p",{className:"text-xs",children:["Please review and sign your service agreement for ",Ze.ContractID,"."]})]})]}),a.jsx("button",{onClick:()=>de(Ze),className:"w-full md:w-auto px-6 py-2 bg-amber-600 text-white rounded-lg text-xs font-bold hover:bg-amber-700 transition-all",children:"Sign Document"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-slate-100 flex items-center gap-2 bg-slate-50/30",children:[a.jsx(yE,{size:14,className:"text-indigo-600"}),a.jsx("span",{className:"text-[10px] uppercase font-black tracking-widest text-slate-700",children:"Growth Tracker"})]}),a.jsxs("div",{className:"p-3 grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"bg-slate-50 p-2.5 rounded-xl text-center border border-slate-100",children:[a.jsx("p",{className:"text-[7px] font-black text-slate-400 uppercase mb-1",children:"Referrals"}),a.jsx("p",{className:"text-lg font-black text-slate-900 leading-none",children:Pe.length})]}),a.jsxs("div",{className:"bg-emerald-50 p-2.5 rounded-xl text-center border border-emerald-100",children:[a.jsx("p",{className:"text-[7px] font-black text-emerald-500 uppercase mb-1",children:"Activated"}),a.jsx("p",{className:"text-lg font-black text-emerald-700 leading-none",children:ie.length})]})]}),a.jsxs("div",{className:"px-4 pb-4",children:[a.jsxs("div",{className:"flex items-center justify-between text-[7px] font-black uppercase text-slate-400 mb-1.5",children:[a.jsx("span",{children:"Rank Progression"}),a.jsx("span",{className:Ce?"text-indigo-600":"text-slate-500",children:Ce?"Elite Tier":"Standard Tier"})]}),a.jsx("div",{className:"h-1 w-full bg-slate-100 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-indigo-600 transition-all duration-1000",style:{width:`${Math.min(100,ie.length/2*100)}%`}})})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm flex flex-col justify-between h-[160px]",children:[a.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:[a.jsx(hn,{size:14})," Account Status"]}),a.jsxs("div",{className:"py-1",children:[a.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:(J==null?void 0:J.Status)||"Active"}),a.jsx("p",{className:"text-[11px] text-slate-500 mt-0.5",children:"Verified Client Member"})]}),a.jsxs("div",{className:"pt-2 border-t border-slate-50 text-[9px] font-bold text-slate-400 uppercase",children:["Member Since ",Ae(J==null?void 0:J.OnboardingDate)]})]})]}),a.jsxs("div",{className:"lg:col-span-2",children:[a.jsx(r2,{activeContract:Se,vehicles:ge.slice(0,3)}),a.jsx("button",{onClick:()=>o("fleet"),className:"w-full mt-4 py-3 bg-white border border-slate-200 rounded-xl text-[10px] font-bold text-slate-400 hover:text-indigo-600 transition-all uppercase tracking-widest",children:"View Full Fleet Inventory"})]})]})]}),i==="fleet"&&a.jsx("div",{className:"space-y-6",children:a.jsx(r2,{activeContract:Se,vehicles:ge})}),i==="billing"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx(EM,{invoices:xe,displayedInvoices:V?xe:xe.slice(0,5),showAllInvoices:V,setShowAllInvoices:ee,payments:Ie,displayedPayments:_?Ie:Ie.slice(0,5),showAllPayments:_,setShowAllPayments:q}),a.jsx(IM,{contracts:le,onView:de})]}),i==="support"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2",children:[a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-8 flex flex-col items-center text-center space-y-4 mb-6",children:[a.jsx("div",{className:"w-16 h-16 bg-indigo-50 rounded-full flex items-center justify-center text-indigo-600",children:a.jsx(Cc,{size:32})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"How can we help today?"}),a.jsx("p",{className:"text-sm text-slate-500 max-w-sm mx-auto",children:"Our technical team is ready to assist you with any service or hardware inquiries."})]}),a.jsx("button",{onClick:()=>b(!0),className:"px-8 py-3 bg-slate-900 text-white rounded-xl text-xs font-bold uppercase tracking-widest shadow-xl hover:scale-105 transition-all",children:"Create New Ticket"})]}),a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-4 bg-slate-50 border-b border-slate-100 flex items-center gap-2",children:a.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Common Support Tasks"})}),a.jsx("div",{className:"p-2 grid grid-cols-1 sm:grid-cols-2 gap-2",children:[{label:"Technical Malfunction",sub:"GPS or Dashcam offline"},{label:"Asset Transfer",sub:"Moving hardware to new vehicle"},{label:"Plan Upgrade",sub:"Switching to higher service tier"},{label:"Billing Inquiry",sub:"Question about an invoice"}].map(me=>a.jsxs("button",{onClick:()=>{P(me.label),S(`Inquiry regarding ${me.label.toLowerCase()}...`),b(!0)},className:"p-4 text-left bg-slate-50 rounded-xl hover:bg-indigo-50 transition-colors group",children:[a.jsx("p",{className:"text-xs font-bold text-slate-900 group-hover:text-indigo-600",children:me.label}),a.jsx("p",{className:"text-[10px] text-slate-400",children:me.sub})]},me.label))})]})]}),a.jsx("div",{className:"lg:col-span-1",children:a.jsx(PM,{ticketTab:T,setTicketTab:M,displayedTickets:Y?T==="active"?He:$e:T==="active"?He.slice(0,3):$e.slice(0,3),allCurrentTabTickets:T==="active"?He:$e,showAllTickets:Y,setShowAllTickets:W,onNewTicket:()=>b(!0)})})]}),i==="services"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[MM.map(me=>a.jsx("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-200 shadow-sm hover:shadow-xl transition-all group",children:a.jsxs("div",{className:"flex items-start gap-6",children:[a.jsx("div",{className:"p-4 bg-slate-50 text-slate-400 rounded-3xl group-hover:bg-indigo-600 group-hover:text-white transition-all duration-500 group-hover:scale-110",children:a.jsx(me.icon,{size:32})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-lg font-black text-slate-900 uppercase tracking-tight",children:me.label}),a.jsx("p",{className:"text-sm text-slate-500 leading-relaxed",children:me.desc}),a.jsxs("button",{onClick:()=>{P(`Inquiry: ${me.label}`),S(`I am interested in the ${me.label} service. Please provide more details.`),b(!0)},className:"pt-4 flex items-center gap-2 text-[10px] font-black text-indigo-600 uppercase tracking-widest hover:translate-x-1 transition-transform",children:["Request Information ",a.jsx(xd,{className:"rotate-90",size:14})]})]})]})},me.id)),a.jsxs("div",{className:"md:col-span-2 bg-indigo-900 rounded-[2.5rem] p-10 text-white relative overflow-hidden shadow-2xl",children:[a.jsx("div",{className:"absolute right-0 top-0 p-10 opacity-10 rotate-12",children:a.jsx(hn,{size:140})}),a.jsxs("div",{className:"relative z-10 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white/20 rounded-2xl",children:a.jsx(jE,{size:24,className:"fill-white"})}),a.jsx("h3",{className:"text-2xl font-black uppercase tracking-tight",children:"Refer & Earn"})]}),a.jsxs("p",{className:"text-lg text-indigo-100 max-w-2xl leading-relaxed",children:["Refer a friend or business partner to our tracking solutions. For every successful activation, you'll receive ",a.jsx("span",{className:"text-white font-bold underline decoration-indigo-400",children:"one full month of service credit"})," absolutely free."]}),a.jsx("button",{onClick:()=>y(!0),className:"px-10 py-4 bg-white text-indigo-900 rounded-2xl text-xs font-black uppercase tracking-[0.2em] shadow-xl hover:scale-105 transition-all active:scale-95",children:"Register Referral"})]})]})]})]})})]}),a.jsx(_M,{isOpen:w,onClose:()=>y(!1),name:z,setName:R,company:$,setCompany:B,phone:L,setPhone:F,isSubmitting:E,onSubmit:ze}),a.jsx(TM,{isOpen:j,onClose:()=>b(!1),subject:k,setSubject:P,description:C,setDescription:S,isSubmitting:E,onSubmit:Ne}),d&&x&&a.jsx(RE,{isOpen:d,onClose:()=>f(!1),previewHtml:x,contract:c,userRole:"Client",onInitiateSigning:()=>m(!0),onDownload:()=>{const me=window.open("","_blank");me&&(me.document.write(x),me.document.close(),me.onload=()=>me.print())},onShare:()=>{},onDispatch:()=>{}}),h&&a.jsx(By,{isOpen:h,onClose:()=>m(!1),role:"Client",defaultName:We||((Lt=e.currentUser)==null?void 0:Lt.name)||"",defaultTitle:"Authorized Representative",onConfirm:_e})]})},$M=({tickets:e,clients:t,agents:n,onUpdateTicket:r,currentUser:i})=>{const[o,c]=O.useState(""),[u,d]=O.useState("All"),[f,h]=O.useState(null),[m,x]=O.useState(""),[v,j]=O.useState(!1),b=e.filter(k=>{const P=t.find(S=>S.ClientID===k.ClientID);return!(!(k.Subject.toLowerCase().includes(o.toLowerCase())||(P==null?void 0:P.CompanyName.toLowerCase().includes(o.toLowerCase()))||k.TicketID.toLowerCase().includes(o.toLowerCase()))||u!=="All"&&k.Status!==u)}).sort((k,P)=>new Date(P.CreatedAt).getTime()-new Date(k.CreatedAt).getTime()),w=async k=>{if(f){j(!0);try{const P={...f,Status:k,Resolution:m,AssignedAgentID:i.id,UpdatedAt:new Date().toISOString()};await r(P),h(null),x("")}finally{j(!1)}}},y=k=>{switch(k){case Qn.Resolved:return"bg-emerald-50 text-emerald-600 border-emerald-100";case Qn.InProgress:return"bg-indigo-50 text-indigo-600 border-indigo-100";default:return"bg-amber-50 text-amber-700 border-amber-100"}};return a.jsxs("div",{className:"flex flex-col h-full animate-in fade-in duration-700 overflow-hidden",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 pb-8 shrink-0",children:[a.jsx("div",{className:"flex items-center gap-1.5 p-1 bg-slate-100 border border-slate-200 rounded-2xl w-fit overflow-x-auto no-scrollbar max-w-full",children:["All",Qn.Open,Qn.InProgress,Qn.Resolved].map(k=>a.jsx("button",{onClick:()=>d(k),className:`px-5 py-2 text-[9px] font-black uppercase tracking-widest rounded-xl transition-all whitespace-nowrap ${u===k?"bg-slate-900 text-white shadow-md":"text-slate-400 hover:text-slate-600"}`,children:k},k))}),a.jsxs("div",{className:"relative w-full md:max-w-md",children:[a.jsx(An,{size:14,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),a.jsx("input",{type:"text",placeholder:"SEARCH TICKETS OR CLIENTS...",value:o,onChange:k=>c(k.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-100 rounded-full text-[9px] font-black text-slate-600 placeholder:text-slate-300 outline-none focus:ring-4 focus:ring-slate-100/50 transition-all uppercase tracking-widest"})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-10 pt-2",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.length>0?b.map(k=>{const P=t.find(S=>S.ClientID===k.ClientID),C=n.find(S=>S.AgentID===k.AssignedAgentID);return a.jsxs("div",{onClick:()=>{h(k),x(k.Resolution||"")},className:"group bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm hover:shadow-xl transition-all cursor-pointer relative overflow-hidden",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:"p-2 bg-slate-50 text-slate-400 rounded-xl group-hover:bg-indigo-50 group-hover:text-indigo-600 transition-colors",children:a.jsx(tr,{size:18})}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-[8px] font-black uppercase border ${y(k.Status)}`,children:k.Status})]}),a.jsx("h3",{className:"text-sm font-bold text-slate-900 mb-1 truncate uppercase",children:k.Subject}),a.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-1",children:[a.jsx(Nt,{size:10})," ",(P==null?void 0:P.CompanyName)||"Unknown Client"]}),a.jsx("div",{className:"bg-slate-50 rounded-xl p-3 mb-4 min-h-[60px]",children:a.jsx("p",{className:"text-[11px] text-slate-600 line-clamp-2 leading-relaxed",children:k.Description})}),a.jsxs("div",{className:"flex flex-col gap-2 border-t border-slate-50 pt-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($t,{size:10,className:"text-slate-300"}),a.jsxs("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-tighter",children:["Reported: ",Ae(k.CreatedAt)]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Sn,{size:10,className:"text-indigo-300"}),a.jsxs("span",{className:"text-[8px] font-black text-indigo-400 uppercase tracking-tighter",children:["Update: ",Ae(k.UpdatedAt)]})]})]}),C&&a.jsx("div",{className:"flex justify-end",children:a.jsxs("span",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest bg-slate-50 px-2 py-0.5 rounded",children:["Owner: ",C.AgentName.split(" ")[0]]})})]})]},k.TicketID)}):a.jsxs("div",{className:"col-span-full py-24 flex flex-col items-center opacity-10",children:[a.jsx(tr,{size:50,className:"mb-4"}),a.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.8em]",children:"No support tickets found"})]})})}),f&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-2xl w-full max-w-lg overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-50 flex justify-between items-center bg-slate-50/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-indigo-100 text-indigo-600 rounded-xl",children:a.jsx(pa,{size:20})}),a.jsx("h3",{className:"font-bold text-slate-800 uppercase tracking-tight",children:"Resolution Manager"})]}),a.jsx("button",{onClick:()=>h(null),children:a.jsx(bt,{size:20,className:"text-slate-300 hover:text-slate-900 transition-colors"})})]}),a.jsxs("div",{className:"p-10 space-y-6",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-[0.2em] block mb-2",children:"Original Ticket Submission"}),a.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl border border-slate-100",children:[a.jsx("p",{className:"text-sm font-bold text-slate-800 mb-1",children:f.Subject}),a.jsx("p",{className:"text-xs text-slate-500 leading-relaxed",children:f.Description}),a.jsxs("div",{className:"mt-3 flex gap-4 text-[7px] font-black uppercase text-slate-400",children:[a.jsxs("span",{children:["Reported: ",Ae(f.CreatedAt)]}),a.jsxs("span",{children:["Last Activity: ",Ae(f.UpdatedAt)]})]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Your Professional Response"}),a.jsx("textarea",{required:!0,autoFocus:!0,value:m,onChange:k=>x(k.target.value),placeholder:"Explain the technical resolution or provide a progress update...",className:"w-full h-32 p-4 bg-slate-50 border border-slate-100 rounded-2xl outline-none text-sm font-medium resize-none focus:ring-4 focus:ring-indigo-50 transition-all"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[a.jsx("button",{onClick:()=>w(Qn.InProgress),disabled:v,className:"w-full bg-slate-100 text-slate-600 py-3.5 rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-sm flex items-center justify-center gap-2 hover:bg-slate-200 transition-all active:scale-95 disabled:opacity-50",children:"Set to Pending"}),a.jsxs("button",{onClick:()=>w(Qn.Resolved),disabled:v||!m,className:"w-full bg-emerald-600 text-white py-3.5 rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-xl flex items-center justify-center gap-2 hover:bg-emerald-700 transition-all active:scale-95 disabled:opacity-50",children:[v?a.jsx(Dt,{size:16,className:"animate-spin"}):a.jsx(zs,{size:16}),"Mark Resolved"]})]})]})]})})]})};function $E(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=$E(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ye(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=$E(e))&&(r&&(r+=" "),r+=t);return r}var Vh,a2;function Pn(){if(a2)return Vh;a2=1;var e=Array.isArray;return Vh=e,Vh}var Kh,i2;function zE(){if(i2)return Kh;i2=1;var e=typeof Vu=="object"&&Vu&&Vu.Object===Object&&Vu;return Kh=e,Kh}var Gh,s2;function Br(){if(s2)return Gh;s2=1;var e=zE(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Gh=n,Gh}var Yh,o2;function Ec(){if(o2)return Yh;o2=1;var e=Br(),t=e.Symbol;return Yh=t,Yh}var Xh,l2;function zM(){if(l2)return Xh;l2=1;var e=Ec(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function o(c){var u=n.call(c,i),d=c[i];try{c[i]=void 0;var f=!0}catch{}var h=r.call(c);return f&&(u?c[i]=d:delete c[i]),h}return Xh=o,Xh}var Qh,c2;function LM(){if(c2)return Qh;c2=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Qh=n,Qh}var Zh,u2;function ma(){if(u2)return Zh;u2=1;var e=Ec(),t=zM(),n=LM(),r="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function c(u){return u==null?u===void 0?i:r:o&&o in Object(u)?t(u):n(u)}return Zh=c,Zh}var Jh,d2;function xa(){if(d2)return Jh;d2=1;function e(t){return t!=null&&typeof t=="object"}return Jh=e,Jh}var em,f2;function uo(){if(f2)return em;f2=1;var e=ma(),t=xa(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return em=r,em}var tm,p2;function Uy(){if(p2)return tm;p2=1;var e=Pn(),t=uo(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,c){if(e(o))return!1;var u=typeof o;return u=="number"||u=="symbol"||u=="boolean"||o==null||t(o)?!0:r.test(o)||!n.test(o)||c!=null&&o in Object(c)}return tm=i,tm}var nm,h2;function Za(){if(h2)return nm;h2=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return nm=e,nm}var rm,m2;function qy(){if(m2)return rm;m2=1;var e=ma(),t=Za(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function c(u){if(!t(u))return!1;var d=e(u);return d==r||d==i||d==n||d==o}return rm=c,rm}var am,x2;function BM(){if(x2)return am;x2=1;var e=Br(),t=e["__core-js_shared__"];return am=t,am}var im,g2;function FM(){if(g2)return im;g2=1;var e=BM(),t=(function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!t&&t in r}return im=n,im}var sm,v2;function LE(){if(v2)return sm;v2=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return sm=n,sm}var om,y2;function UM(){if(y2)return om;y2=1;var e=qy(),t=FM(),n=Za(),r=LE(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,d=c.toString,f=u.hasOwnProperty,h=RegExp("^"+d.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(x){if(!n(x)||t(x))return!1;var v=e(x)?h:o;return v.test(r(x))}return om=m,om}var lm,b2;function qM(){if(b2)return lm;b2=1;function e(t,n){return t==null?void 0:t[n]}return lm=e,lm}var cm,w2;function Vi(){if(w2)return cm;w2=1;var e=UM(),t=qM();function n(r,i){var o=t(r,i);return e(o)?o:void 0}return cm=n,cm}var um,j2;function Sf(){if(j2)return um;j2=1;var e=Vi(),t=e(Object,"create");return um=t,um}var dm,N2;function WM(){if(N2)return dm;N2=1;var e=Sf();function t(){this.__data__=e?e(null):{},this.size=0}return dm=t,dm}var fm,S2;function HM(){if(S2)return fm;S2=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return fm=e,fm}var pm,k2;function VM(){if(k2)return pm;k2=1;var e=Sf(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var c=this.__data__;if(e){var u=c[o];return u===t?void 0:u}return r.call(c,o)?c[o]:void 0}return pm=i,pm}var hm,C2;function KM(){if(C2)return hm;C2=1;var e=Sf(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var o=this.__data__;return e?o[i]!==void 0:n.call(o,i)}return hm=r,hm}var mm,A2;function GM(){if(A2)return mm;A2=1;var e=Sf(),t="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=e&&i===void 0?t:i,this}return mm=n,mm}var xm,P2;function YM(){if(P2)return xm;P2=1;var e=WM(),t=HM(),n=VM(),r=KM(),i=GM();function o(c){var u=-1,d=c==null?0:c.length;for(this.clear();++u<d;){var f=c[u];this.set(f[0],f[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,xm=o,xm}var gm,E2;function XM(){if(E2)return gm;E2=1;function e(){this.__data__=[],this.size=0}return gm=e,gm}var vm,D2;function Wy(){if(D2)return vm;D2=1;function e(t,n){return t===n||t!==t&&n!==n}return vm=e,vm}var ym,O2;function kf(){if(O2)return ym;O2=1;var e=Wy();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return ym=t,ym}var bm,I2;function QM(){if(I2)return bm;I2=1;var e=kf(),t=Array.prototype,n=t.splice;function r(i){var o=this.__data__,c=e(o,i);if(c<0)return!1;var u=o.length-1;return c==u?o.pop():n.call(o,c,1),--this.size,!0}return bm=r,bm}var wm,T2;function ZM(){if(T2)return wm;T2=1;var e=kf();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return wm=t,wm}var jm,_2;function JM(){if(_2)return jm;_2=1;var e=kf();function t(n){return e(this.__data__,n)>-1}return jm=t,jm}var Nm,M2;function e3(){if(M2)return Nm;M2=1;var e=kf();function t(n,r){var i=this.__data__,o=e(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return Nm=t,Nm}var Sm,R2;function Cf(){if(R2)return Sm;R2=1;var e=XM(),t=QM(),n=ZM(),r=JM(),i=e3();function o(c){var u=-1,d=c==null?0:c.length;for(this.clear();++u<d;){var f=c[u];this.set(f[0],f[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Sm=o,Sm}var km,$2;function Hy(){if($2)return km;$2=1;var e=Vi(),t=Br(),n=e(t,"Map");return km=n,km}var Cm,z2;function t3(){if(z2)return Cm;z2=1;var e=YM(),t=Cf(),n=Hy();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return Cm=r,Cm}var Am,L2;function n3(){if(L2)return Am;L2=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return Am=e,Am}var Pm,B2;function Af(){if(B2)return Pm;B2=1;var e=n3();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Pm=t,Pm}var Em,F2;function r3(){if(F2)return Em;F2=1;var e=Af();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return Em=t,Em}var Dm,U2;function a3(){if(U2)return Dm;U2=1;var e=Af();function t(n){return e(this,n).get(n)}return Dm=t,Dm}var Om,q2;function i3(){if(q2)return Om;q2=1;var e=Af();function t(n){return e(this,n).has(n)}return Om=t,Om}var Im,W2;function s3(){if(W2)return Im;W2=1;var e=Af();function t(n,r){var i=e(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return Im=t,Im}var Tm,H2;function Vy(){if(H2)return Tm;H2=1;var e=t3(),t=r3(),n=a3(),r=i3(),i=s3();function o(c){var u=-1,d=c==null?0:c.length;for(this.clear();++u<d;){var f=c[u];this.set(f[0],f[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Tm=o,Tm}var _m,V2;function BE(){if(V2)return _m;V2=1;var e=Vy(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var c=arguments,u=i?i.apply(this,c):c[0],d=o.cache;if(d.has(u))return d.get(u);var f=r.apply(this,c);return o.cache=d.set(u,f)||d,f};return o.cache=new(n.Cache||e),o}return n.Cache=e,_m=n,_m}var Mm,K2;function o3(){if(K2)return Mm;K2=1;var e=BE(),t=500;function n(r){var i=e(r,function(c){return o.size===t&&o.clear(),c}),o=i.cache;return i}return Mm=n,Mm}var Rm,G2;function l3(){if(G2)return Rm;G2=1;var e=o3(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(c,u,d,f){o.push(d?f.replace(n,"$1"):u||c)}),o});return Rm=r,Rm}var $m,Y2;function Ky(){if(Y2)return $m;Y2=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=Array(i);++r<i;)o[r]=n(t[r],r,t);return o}return $m=e,$m}var zm,X2;function c3(){if(X2)return zm;X2=1;var e=Ec(),t=Ky(),n=Pn(),r=uo(),i=e?e.prototype:void 0,o=i?i.toString:void 0;function c(u){if(typeof u=="string")return u;if(n(u))return t(u,c)+"";if(r(u))return o?o.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return zm=c,zm}var Lm,Q2;function FE(){if(Q2)return Lm;Q2=1;var e=c3();function t(n){return n==null?"":e(n)}return Lm=t,Lm}var Bm,Z2;function UE(){if(Z2)return Bm;Z2=1;var e=Pn(),t=Uy(),n=l3(),r=FE();function i(o,c){return e(o)?o:t(o,c)?[o]:n(r(o))}return Bm=i,Bm}var Fm,J2;function Pf(){if(J2)return Fm;J2=1;var e=uo();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Fm=t,Fm}var Um,eN;function Gy(){if(eN)return Um;eN=1;var e=UE(),t=Pf();function n(r,i){i=e(i,r);for(var o=0,c=i.length;r!=null&&o<c;)r=r[t(i[o++])];return o&&o==c?r:void 0}return Um=n,Um}var qm,tN;function qE(){if(tN)return qm;tN=1;var e=Gy();function t(n,r,i){var o=n==null?void 0:e(n,r);return o===void 0?i:o}return qm=t,qm}var u3=qE();const er=lt(u3);var Wm,nN;function d3(){if(nN)return Wm;nN=1;function e(t){return t==null}return Wm=e,Wm}var f3=d3();const Be=lt(f3);var Hm,rN;function p3(){if(rN)return Hm;rN=1;var e=ma(),t=Pn(),n=xa(),r="[object String]";function i(o){return typeof o=="string"||!t(o)&&n(o)&&e(o)==r}return Hm=i,Hm}var h3=p3();const Dc=lt(h3);var m3=qy();const Fe=lt(m3);var x3=Za();const fo=lt(x3);var Vm={exports:{}},Je={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aN;function g3(){if(aN)return Je;aN=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,c=e?Symbol.for("react.provider"):60109,u=e?Symbol.for("react.context"):60110,d=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,h=e?Symbol.for("react.forward_ref"):60112,m=e?Symbol.for("react.suspense"):60113,x=e?Symbol.for("react.suspense_list"):60120,v=e?Symbol.for("react.memo"):60115,j=e?Symbol.for("react.lazy"):60116,b=e?Symbol.for("react.block"):60121,w=e?Symbol.for("react.fundamental"):60117,y=e?Symbol.for("react.responder"):60118,k=e?Symbol.for("react.scope"):60119;function P(S){if(typeof S=="object"&&S!==null){var E=S.$$typeof;switch(E){case t:switch(S=S.type,S){case d:case f:case r:case o:case i:case m:return S;default:switch(S=S&&S.$$typeof,S){case u:case h:case j:case v:case c:return S;default:return E}}case n:return E}}}function C(S){return P(S)===f}return Je.AsyncMode=d,Je.ConcurrentMode=f,Je.ContextConsumer=u,Je.ContextProvider=c,Je.Element=t,Je.ForwardRef=h,Je.Fragment=r,Je.Lazy=j,Je.Memo=v,Je.Portal=n,Je.Profiler=o,Je.StrictMode=i,Je.Suspense=m,Je.isAsyncMode=function(S){return C(S)||P(S)===d},Je.isConcurrentMode=C,Je.isContextConsumer=function(S){return P(S)===u},Je.isContextProvider=function(S){return P(S)===c},Je.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===t},Je.isForwardRef=function(S){return P(S)===h},Je.isFragment=function(S){return P(S)===r},Je.isLazy=function(S){return P(S)===j},Je.isMemo=function(S){return P(S)===v},Je.isPortal=function(S){return P(S)===n},Je.isProfiler=function(S){return P(S)===o},Je.isStrictMode=function(S){return P(S)===i},Je.isSuspense=function(S){return P(S)===m},Je.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===r||S===f||S===o||S===i||S===m||S===x||typeof S=="object"&&S!==null&&(S.$$typeof===j||S.$$typeof===v||S.$$typeof===c||S.$$typeof===u||S.$$typeof===h||S.$$typeof===w||S.$$typeof===y||S.$$typeof===k||S.$$typeof===b)},Je.typeOf=P,Je}var iN;function v3(){return iN||(iN=1,Vm.exports=g3()),Vm.exports}var av=v3(),Km,sN;function WE(){if(sN)return Km;sN=1;var e=ma(),t=xa(),n="[object Number]";function r(i){return typeof i=="number"||t(i)&&e(i)==n}return Km=r,Km}var Gm,oN;function y3(){if(oN)return Gm;oN=1;var e=WE();function t(n){return e(n)&&n!=+n}return Gm=t,Gm}var b3=y3();const po=lt(b3);var w3=WE();const j3=lt(w3);var vr=function(t){return t===0?0:t>0?1:-1},Si=function(t){return Dc(t)&&t.indexOf("%")===t.length-1},he=function(t){return j3(t)&&!po(t)},Mt=function(t){return he(t)||Dc(t)},N3=0,Ki=function(t){var n=++N3;return"".concat(t||"").concat(n)},Ls=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!he(t)&&!Dc(t))return r;var o;if(Si(t)){var c=t.indexOf("%");o=n*parseFloat(t.slice(0,c))/100}else o=+t;return po(o)&&(o=r),i&&o>n&&(o=n),o},Ua=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},S3=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},i=0;i<n;i++)if(!r[t[i]])r[t[i]]=!0;else return!0;return!1},Ct=function(t,n){return he(t)&&he(n)?function(r){return t+r*(n-t)}:function(){return n}};function wd(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):er(r,t))===n})}var k3=function(t){if(!t||!t.length)return null;for(var n=t.length,r=0,i=0,o=0,c=0,u=1/0,d=-1/0,f=0,h=0,m=0;m<n;m++)f=t[m].cx||0,h=t[m].cy||0,r+=f,i+=h,o+=f*h,c+=f*f,u=Math.min(u,f),d=Math.max(d,f);var x=n*c!==r*r?(n*o-r*i)/(n*c-r*r):0;return{xmin:u,xmax:d,a:x,b:(i-x*r)/n}};function Ms(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function iv(e){"@babel/helpers - typeof";return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iv(e)}var C3=["viewBox","children"],A3=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],lN=["points","pathLength"],Ym={svg:C3,polygon:lN,polyline:lN},Yy=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],jd=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(O.isValidElement(t)&&(r=t.props),!fo(r))return null;var i={};return Object.keys(r).forEach(function(o){Yy.includes(o)&&(i[o]=n||function(c){return r[o](r,c)})}),i},P3=function(t,n,r){return function(i){return t(n,r,i),null}},Bl=function(t,n,r){if(!fo(t)||iv(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(o){var c=t[o];Yy.includes(o)&&typeof c=="function"&&(i||(i={}),i[o]=P3(c,n,r))}),i},E3=["children"],D3=["children"];function cN(e,t){if(e==null)return{};var n=O3(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function O3(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function sv(e){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sv(e)}var uN={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},aa=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},dN=null,Xm=null,Xy=function e(t){if(t===dN&&Array.isArray(Xm))return Xm;var n=[];return O.Children.forEach(t,function(r){Be(r)||(av.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),Xm=n,dN=t,n};function kn(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(i){return aa(i)}):r=[aa(t)],Xy(e).forEach(function(i){var o=er(i,"type.displayName")||er(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Rn(e,t){var n=kn(e,t);return n&&n[0]}var fN=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,i=n.height;return!(!he(r)||r<=0||!he(i)||i<=0)},I3=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],T3=function(t){return t&&t.type&&Dc(t.type)&&I3.indexOf(t.type)>=0},HE=function(t){return t&&sv(t)==="object"&&"cx"in t&&"cy"in t&&"r"in t},_3=function(t,n,r,i){var o,c=(o=Ym==null?void 0:Ym[i])!==null&&o!==void 0?o:[];return!Fe(t)&&(i&&c.includes(n)||A3.includes(n))||r&&Yy.includes(n)},Le=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(O.isValidElement(t)&&(i=t.props),!fo(i))return null;var o={};return Object.keys(i).forEach(function(c){var u;_3((u=i)===null||u===void 0?void 0:u[c],c,n,r)&&(o[c]=i[c])}),o},ov=function e(t,n){if(t===n)return!0;var r=O.Children.count(t);if(r!==O.Children.count(n))return!1;if(r===0)return!0;if(r===1)return pN(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=t[i],c=n[i];if(Array.isArray(o)||Array.isArray(c)){if(!e(o,c))return!1}else if(!pN(o,c))return!1}return!0},pN=function(t,n){if(Be(t)&&Be(n))return!0;if(!Be(t)&&!Be(n)){var r=t.props||{},i=r.children,o=cN(r,E3),c=n.props||{},u=c.children,d=cN(c,D3);return i&&u?Ms(o,d)&&ov(i,u):!i&&!u?Ms(o,d):!1}return!1},hN=function(t,n){var r=[],i={};return Xy(t).forEach(function(o,c){if(T3(o))r.push(o);else if(o){var u=aa(o.type),d=n[u]||{},f=d.handler,h=d.once;if(f&&(!h||!i[u])){var m=f(o,u,c);r.push(m),i[u]=!0}}}),r},M3=function(t){var n=t&&t.type;return n&&uN[n]?uN[n]:null},R3=function(t,n){return Xy(n).indexOf(t)},$3=["children","width","height","viewBox","className","style","title","desc"];function lv(){return lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lv.apply(this,arguments)}function z3(e,t){if(e==null)return{};var n=L3(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function L3(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function cv(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,o=e.className,c=e.style,u=e.title,d=e.desc,f=z3(e,$3),h=i||{width:n,height:r,x:0,y:0},m=Ye("recharts-surface",o);return H.createElement("svg",lv({},Le(f,!0,"svg"),{className:m,width:n,height:r,style:c,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),H.createElement("title",null,u),H.createElement("desc",null,d),t)}var B3=["children","className"];function uv(){return uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uv.apply(this,arguments)}function F3(e,t){if(e==null)return{};var n=U3(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function U3(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Qe=H.forwardRef(function(e,t){var n=e.children,r=e.className,i=F3(e,B3),o=Ye("recharts-layer",r);return H.createElement("g",uv({className:o},Le(i,!0),{ref:t}),n)}),ia=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]},Qm,mN;function q3(){if(mN)return Qm;mN=1;function e(t,n,r){var i=-1,o=t.length;n<0&&(n=-n>o?0:o+n),r=r>o?o:r,r<0&&(r+=o),o=n>r?0:r-n>>>0,n>>>=0;for(var c=Array(o);++i<o;)c[i]=t[i+n];return c}return Qm=e,Qm}var Zm,xN;function W3(){if(xN)return Zm;xN=1;var e=q3();function t(n,r,i){var o=n.length;return i=i===void 0?o:i,!r&&i>=o?n:e(n,r,i)}return Zm=t,Zm}var Jm,gN;function VE(){if(gN)return Jm;gN=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",c="\\u200d",u=RegExp("["+c+e+i+o+"]");function d(f){return u.test(f)}return Jm=d,Jm}var e0,vN;function H3(){if(vN)return e0;vN=1;function e(t){return t.split("")}return e0=e,e0}var t0,yN;function V3(){if(yN)return t0;yN=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",c="["+e+"]",u="["+i+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+d+")",h="[^"+e+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",x="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",j=f+"?",b="["+o+"]?",w="(?:"+v+"(?:"+[h,m,x].join("|")+")"+b+j+")*",y=b+j+w,k="(?:"+[h+u+"?",u,m,x,c].join("|")+")",P=RegExp(d+"(?="+d+")|"+k+y,"g");function C(S){return S.match(P)||[]}return t0=C,t0}var n0,bN;function K3(){if(bN)return n0;bN=1;var e=H3(),t=VE(),n=V3();function r(i){return t(i)?n(i):e(i)}return n0=r,n0}var r0,wN;function G3(){if(wN)return r0;wN=1;var e=W3(),t=VE(),n=K3(),r=FE();function i(o){return function(c){c=r(c);var u=t(c)?n(c):void 0,d=u?u[0]:c.charAt(0),f=u?e(u,1).join(""):c.slice(1);return d[o]()+f}}return r0=i,r0}var a0,jN;function Y3(){if(jN)return a0;jN=1;var e=G3(),t=e("toUpperCase");return a0=t,a0}var X3=Y3();const Ef=lt(X3);function ut(e){return function(){return e}}const KE=Math.cos,Nd=Math.sin,jr=Math.sqrt,Sd=Math.PI,Df=2*Sd,dv=Math.PI,fv=2*dv,ji=1e-6,Q3=fv-ji;function GE(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Z3(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return GE;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class J3{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?GE:Z3(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,c){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+c}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let c=this._x1,u=this._y1,d=r-t,f=i-n,h=c-t,m=u-n,x=h*h+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(x>ji)if(!(Math.abs(m*d-f*h)>ji)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let v=r-c,j=i-u,b=d*d+f*f,w=v*v+j*j,y=Math.sqrt(b),k=Math.sqrt(x),P=o*Math.tan((dv-Math.acos((b+x-w)/(2*y*k)))/2),C=P/k,S=P/y;Math.abs(C-1)>ji&&this._append`L${t+C*h},${n+C*m}`,this._append`A${o},${o},0,0,${+(m*v>h*j)},${this._x1=t+S*d},${this._y1=n+S*f}`}}arc(t,n,r,i,o,c){if(t=+t,n=+n,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),d=r*Math.sin(i),f=t+u,h=n+d,m=1^c,x=c?i-o:o-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>ji||Math.abs(this._y1-h)>ji)&&this._append`L${f},${h}`,r&&(x<0&&(x=x%fv+fv),x>Q3?this._append`A${r},${r},0,1,${m},${t-u},${n-d}A${r},${r},0,1,${m},${this._x1=f},${this._y1=h}`:x>ji&&this._append`A${r},${r},0,${+(x>=dv)},${m},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Qy(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new J3(t)}function Zy(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function YE(e){this._context=e}YE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Of(e){return new YE(e)}function XE(e){return e[0]}function QE(e){return e[1]}function ZE(e,t){var n=ut(!0),r=null,i=Of,o=null,c=Qy(u);e=typeof e=="function"?e:e===void 0?XE:ut(e),t=typeof t=="function"?t:t===void 0?QE:ut(t);function u(d){var f,h=(d=Zy(d)).length,m,x=!1,v;for(r==null&&(o=i(v=c())),f=0;f<=h;++f)!(f<h&&n(m=d[f],f,d))===x&&((x=!x)?o.lineStart():o.lineEnd()),x&&o.point(+e(m,f,d),+t(m,f,d));if(v)return o=null,v+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:ut(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:ut(+d),u):t},u.defined=function(d){return arguments.length?(n=typeof d=="function"?d:ut(!!d),u):n},u.curve=function(d){return arguments.length?(i=d,r!=null&&(o=i(r)),u):i},u.context=function(d){return arguments.length?(d==null?r=o=null:o=i(r=d),u):r},u}function Qu(e,t,n){var r=null,i=ut(!0),o=null,c=Of,u=null,d=Qy(f);e=typeof e=="function"?e:e===void 0?XE:ut(+e),t=typeof t=="function"?t:ut(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?QE:ut(+n);function f(m){var x,v,j,b=(m=Zy(m)).length,w,y=!1,k,P=new Array(b),C=new Array(b);for(o==null&&(u=c(k=d())),x=0;x<=b;++x){if(!(x<b&&i(w=m[x],x,m))===y)if(y=!y)v=x,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),j=x-1;j>=v;--j)u.point(P[j],C[j]);u.lineEnd(),u.areaEnd()}y&&(P[x]=+e(w,x,m),C[x]=+t(w,x,m),u.point(r?+r(w,x,m):P[x],n?+n(w,x,m):C[x]))}if(k)return u=null,k+""||null}function h(){return ZE().defined(i).curve(c).context(o)}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:ut(+m),r=null,f):e},f.x0=function(m){return arguments.length?(e=typeof m=="function"?m:ut(+m),f):e},f.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:ut(+m),f):r},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:ut(+m),n=null,f):t},f.y0=function(m){return arguments.length?(t=typeof m=="function"?m:ut(+m),f):t},f.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:ut(+m),f):n},f.lineX0=f.lineY0=function(){return h().x(e).y(t)},f.lineY1=function(){return h().x(e).y(n)},f.lineX1=function(){return h().x(r).y(t)},f.defined=function(m){return arguments.length?(i=typeof m=="function"?m:ut(!!m),f):i},f.curve=function(m){return arguments.length?(c=m,o!=null&&(u=c(o)),f):c},f.context=function(m){return arguments.length?(m==null?o=u=null:u=c(o=m),f):o},f}class JE{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function e6(e){return new JE(e,!0)}function t6(e){return new JE(e,!1)}const Jy={draw(e,t){const n=jr(t/Sd);e.moveTo(n,0),e.arc(0,0,n,0,Df)}},n6={draw(e,t){const n=jr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},eD=jr(1/3),r6=eD*2,a6={draw(e,t){const n=jr(t/r6),r=n*eD;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},i6={draw(e,t){const n=jr(t),r=-n/2;e.rect(r,r,n,n)}},s6=.8908130915292852,tD=Nd(Sd/10)/Nd(7*Sd/10),o6=Nd(Df/10)*tD,l6=-KE(Df/10)*tD,c6={draw(e,t){const n=jr(t*s6),r=o6*n,i=l6*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const c=Df*o/5,u=KE(c),d=Nd(c);e.lineTo(d*n,-u*n),e.lineTo(u*r-d*i,d*r+u*i)}e.closePath()}},i0=jr(3),u6={draw(e,t){const n=-jr(t/(i0*3));e.moveTo(0,n*2),e.lineTo(-i0*n,-n),e.lineTo(i0*n,-n),e.closePath()}},Vn=-.5,Kn=jr(3)/2,pv=1/jr(12),d6=(pv/2+1)*3,f6={draw(e,t){const n=jr(t/d6),r=n/2,i=n*pv,o=r,c=n*pv+n,u=-o,d=c;e.moveTo(r,i),e.lineTo(o,c),e.lineTo(u,d),e.lineTo(Vn*r-Kn*i,Kn*r+Vn*i),e.lineTo(Vn*o-Kn*c,Kn*o+Vn*c),e.lineTo(Vn*u-Kn*d,Kn*u+Vn*d),e.lineTo(Vn*r+Kn*i,Vn*i-Kn*r),e.lineTo(Vn*o+Kn*c,Vn*c-Kn*o),e.lineTo(Vn*u+Kn*d,Vn*d-Kn*u),e.closePath()}};function p6(e,t){let n=null,r=Qy(i);e=typeof e=="function"?e:ut(e||Jy),t=typeof t=="function"?t:ut(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:ut(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:ut(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function kd(){}function Cd(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function nD(e){this._context=e}nD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Cd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Cd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function h6(e){return new nD(e)}function rD(e){this._context=e}rD.prototype={areaStart:kd,areaEnd:kd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Cd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function m6(e){return new rD(e)}function aD(e){this._context=e}aD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Cd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function x6(e){return new aD(e)}function iD(e){this._context=e}iD.prototype={areaStart:kd,areaEnd:kd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function g6(e){return new iD(e)}function NN(e){return e<0?-1:1}function SN(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),c=(n-e._y1)/(i||r<0&&-0),u=(o*i+c*r)/(r+i);return(NN(o)+NN(c))*Math.min(Math.abs(o),Math.abs(c),.5*Math.abs(u))||0}function kN(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function s0(e,t,n){var r=e._x0,i=e._y0,o=e._x1,c=e._y1,u=(o-r)/3;e._context.bezierCurveTo(r+u,i+u*t,o-u,c-u*n,o,c)}function Ad(e){this._context=e}Ad.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:s0(this,this._t0,kN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,s0(this,kN(this,n=SN(this,e,t)),n);break;default:s0(this,this._t0,n=SN(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function sD(e){this._context=new oD(e)}(sD.prototype=Object.create(Ad.prototype)).point=function(e,t){Ad.prototype.point.call(this,t,e)};function oD(e){this._context=e}oD.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function v6(e){return new Ad(e)}function y6(e){return new sD(e)}function lD(e){this._context=e}lD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=CN(e),i=CN(t),o=0,c=1;c<n;++o,++c)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[c],t[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function CN(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),c=new Array(n);for(i[0]=0,o[0]=2,c[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,c[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,c[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,c[t]-=r*c[t-1];for(i[n-1]=c[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(c[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function b6(e){return new lD(e)}function If(e,t){this._context=e,this._t=t}If.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function w6(e){return new If(e,.5)}function j6(e){return new If(e,0)}function N6(e){return new If(e,1)}function Bs(e,t){if((c=e.length)>1)for(var n=1,r,i,o=e[t[0]],c,u=o.length;n<c;++n)for(i=o,o=e[t[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function hv(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function S6(e,t){return e[t]}function k6(e){const t=[];return t.key=e,t}function C6(){var e=ut([]),t=hv,n=Bs,r=S6;function i(o){var c=Array.from(e.apply(this,arguments),k6),u,d=c.length,f=-1,h;for(const m of o)for(u=0,++f;u<d;++u)(c[u][f]=[0,+r(m,c[u].key,f,o)]).data=m;for(u=0,h=Zy(t(c));u<d;++u)c[h[u]].index=u;return n(c,h),c}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:ut(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:ut(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?hv:typeof o=="function"?o:ut(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??Bs,i):n},i}function A6(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,c;i<o;++i){for(c=n=0;n<r;++n)c+=e[n][i][1]||0;if(c)for(n=0;n<r;++n)e[n][i][1]/=c}Bs(e,t)}}function P6(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var c=0,u=0;c<i;++c)u+=e[c][n][1]||0;r[n][1]+=r[n][0]=-u/2}Bs(e,t)}}function E6(e,t){if(!(!((c=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,c;r<o;++r){for(var u=0,d=0,f=0;u<c;++u){for(var h=e[t[u]],m=h[r][1]||0,x=h[r-1][1]||0,v=(m-x)/2,j=0;j<u;++j){var b=e[t[j]],w=b[r][1]||0,y=b[r-1][1]||0;v+=w-y}d+=m,f+=v*m}i[r-1][1]+=i[r-1][0]=n,d&&(n-=f/d)}i[r-1][1]+=i[r-1][0]=n,Bs(e,t)}}function Fl(e){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fl(e)}var D6=["type","size","sizeType"];function mv(){return mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mv.apply(this,arguments)}function AN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AN(Object(n),!0).forEach(function(r){O6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function O6(e,t,n){return t=I6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I6(e){var t=T6(e,"string");return Fl(t)=="symbol"?t:String(t)}function T6(e,t){if(Fl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _6(e,t){if(e==null)return{};var n=M6(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function M6(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var cD={symbolCircle:Jy,symbolCross:n6,symbolDiamond:a6,symbolSquare:i6,symbolStar:c6,symbolTriangle:u6,symbolWye:f6},R6=Math.PI/180,$6=function(t){var n="symbol".concat(Ef(t));return cD[n]||Jy},z6=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*R6;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},L6=function(t,n){cD["symbol".concat(Ef(t))]=n},Tf=function(t){var n=t.type,r=n===void 0?"circle":n,i=t.size,o=i===void 0?64:i,c=t.sizeType,u=c===void 0?"area":c,d=_6(t,D6),f=PN(PN({},d),{},{type:r,size:o,sizeType:u}),h=function(){var w=$6(r),y=p6().type(w).size(z6(o,u,r));return y()},m=f.className,x=f.cx,v=f.cy,j=Le(f,!0);return x===+x&&v===+v&&o===+o?H.createElement("path",mv({},j,{className:Ye("recharts-symbols",m),transform:"translate(".concat(x,", ").concat(v,")"),d:h()})):null};Tf.registerSymbol=L6;function Fs(e){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fs(e)}function xv(){return xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xv.apply(this,arguments)}function EN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function B6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EN(Object(n),!0).forEach(function(r){Ul(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dD(r.key),r)}}function q6(e,t,n){return t&&U6(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function W6(e,t,n){return t=Pd(t),H6(e,uD()?Reflect.construct(t,n||[],Pd(e).constructor):t.apply(e,n))}function H6(e,t){if(t&&(Fs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V6(e)}function V6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uD=function(){return!!e})()}function Pd(e){return Pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pd(e)}function K6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gv(e,t)}function gv(e,t){return gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gv(e,t)}function Ul(e,t,n){return t=dD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dD(e){var t=G6(e,"string");return Fs(t)=="symbol"?t:String(t)}function G6(e,t){if(Fs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Fs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Gn=32,eb=(function(e){K6(t,e);function t(){return F6(this,t),W6(this,t,arguments)}return q6(t,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Gn/2,c=Gn/6,u=Gn/3,d=r.inactive?i:r.color;if(r.type==="plainline")return H.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Gn,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return H.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(o,"h").concat(u,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(2*u,",").concat(o,`
            H`).concat(Gn,"M").concat(2*u,",").concat(o,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(u,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return H.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Gn/8,"h").concat(Gn,"v").concat(Gn*3/4,"h").concat(-Gn,"z"),className:"recharts-legend-icon"});if(H.isValidElement(r.legendIcon)){var f=B6({},r);return delete f.legendIcon,H.cloneElement(r.legendIcon,f)}return H.createElement(Tf,{fill:d,cx:o,cy:o,size:Gn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,c=i.iconSize,u=i.layout,d=i.formatter,f=i.inactiveColor,h={x:0,y:0,width:Gn,height:Gn},m={display:u==="horizontal"?"inline-block":"block",marginRight:10},x={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(v,j){var b=v.formatter||d,w=Ye(Ul(Ul({"recharts-legend-item":!0},"legend-item-".concat(j),!0),"inactive",v.inactive));if(v.type==="none")return null;var y=Fe(v.value)?null:v.value;ia(!Fe(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var k=v.inactive?f:v.color;return H.createElement("li",xv({className:w,style:m,key:"legend-item-".concat(j)},Bl(r.props,v,j)),H.createElement(cv,{width:c,height:c,viewBox:h,style:x},r.renderIcon(v)),H.createElement("span",{className:"recharts-legend-item-text",style:{color:k}},b?b(y,v,j):y))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,c=r.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:o==="horizontal"?c:"left"};return H.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}]),t})(O.PureComponent);Ul(eb,"displayName","Legend");Ul(eb,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var o0,DN;function Y6(){if(DN)return o0;DN=1;var e=Cf();function t(){this.__data__=new e,this.size=0}return o0=t,o0}var l0,ON;function X6(){if(ON)return l0;ON=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return l0=e,l0}var c0,IN;function Q6(){if(IN)return c0;IN=1;function e(t){return this.__data__.get(t)}return c0=e,c0}var u0,TN;function Z6(){if(TN)return u0;TN=1;function e(t){return this.__data__.has(t)}return u0=e,u0}var d0,_N;function J6(){if(_N)return d0;_N=1;var e=Cf(),t=Hy(),n=Vy(),r=200;function i(o,c){var u=this.__data__;if(u instanceof e){var d=u.__data__;if(!t||d.length<r-1)return d.push([o,c]),this.size=++u.size,this;u=this.__data__=new n(d)}return u.set(o,c),this.size=u.size,this}return d0=i,d0}var f0,MN;function fD(){if(MN)return f0;MN=1;var e=Cf(),t=Y6(),n=X6(),r=Q6(),i=Z6(),o=J6();function c(u){var d=this.__data__=new e(u);this.size=d.size}return c.prototype.clear=t,c.prototype.delete=n,c.prototype.get=r,c.prototype.has=i,c.prototype.set=o,f0=c,f0}var p0,RN;function eR(){if(RN)return p0;RN=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return p0=t,p0}var h0,$N;function tR(){if($N)return h0;$N=1;function e(t){return this.__data__.has(t)}return h0=e,h0}var m0,zN;function pD(){if(zN)return m0;zN=1;var e=Vy(),t=eR(),n=tR();function r(i){var o=-1,c=i==null?0:i.length;for(this.__data__=new e;++o<c;)this.add(i[o])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,m0=r,m0}var x0,LN;function hD(){if(LN)return x0;LN=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return x0=e,x0}var g0,BN;function mD(){if(BN)return g0;BN=1;function e(t,n){return t.has(n)}return g0=e,g0}var v0,FN;function xD(){if(FN)return v0;FN=1;var e=pD(),t=hD(),n=mD(),r=1,i=2;function o(c,u,d,f,h,m){var x=d&r,v=c.length,j=u.length;if(v!=j&&!(x&&j>v))return!1;var b=m.get(c),w=m.get(u);if(b&&w)return b==u&&w==c;var y=-1,k=!0,P=d&i?new e:void 0;for(m.set(c,u),m.set(u,c);++y<v;){var C=c[y],S=u[y];if(f)var E=x?f(S,C,y,u,c,m):f(C,S,y,c,u,m);if(E!==void 0){if(E)continue;k=!1;break}if(P){if(!t(u,function(D,T){if(!n(P,T)&&(C===D||h(C,D,d,f,m)))return P.push(T)})){k=!1;break}}else if(!(C===S||h(C,S,d,f,m))){k=!1;break}}return m.delete(c),m.delete(u),k}return v0=o,v0}var y0,UN;function nR(){if(UN)return y0;UN=1;var e=Br(),t=e.Uint8Array;return y0=t,y0}var b0,qN;function rR(){if(qN)return b0;qN=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,o){r[++n]=[o,i]}),r}return b0=e,b0}var w0,WN;function tb(){if(WN)return w0;WN=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return w0=e,w0}var j0,HN;function aR(){if(HN)return j0;HN=1;var e=Ec(),t=nR(),n=Wy(),r=xD(),i=rR(),o=tb(),c=1,u=2,d="[object Boolean]",f="[object Date]",h="[object Error]",m="[object Map]",x="[object Number]",v="[object RegExp]",j="[object Set]",b="[object String]",w="[object Symbol]",y="[object ArrayBuffer]",k="[object DataView]",P=e?e.prototype:void 0,C=P?P.valueOf:void 0;function S(E,D,T,M,z,R,$){switch(T){case k:if(E.byteLength!=D.byteLength||E.byteOffset!=D.byteOffset)return!1;E=E.buffer,D=D.buffer;case y:return!(E.byteLength!=D.byteLength||!R(new t(E),new t(D)));case d:case f:case x:return n(+E,+D);case h:return E.name==D.name&&E.message==D.message;case v:case b:return E==D+"";case m:var B=i;case j:var L=M&c;if(B||(B=o),E.size!=D.size&&!L)return!1;var F=$.get(E);if(F)return F==D;M|=u,$.set(E,D);var Y=r(B(E),B(D),M,z,R,$);return $.delete(E),Y;case w:if(C)return C.call(E)==C.call(D)}return!1}return j0=S,j0}var N0,VN;function gD(){if(VN)return N0;VN=1;function e(t,n){for(var r=-1,i=n.length,o=t.length;++r<i;)t[o+r]=n[r];return t}return N0=e,N0}var S0,KN;function iR(){if(KN)return S0;KN=1;var e=gD(),t=Pn();function n(r,i,o){var c=i(r);return t(r)?c:e(c,o(r))}return S0=n,S0}var k0,GN;function sR(){if(GN)return k0;GN=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=0,c=[];++r<i;){var u=t[r];n(u,r,t)&&(c[o++]=u)}return c}return k0=e,k0}var C0,YN;function oR(){if(YN)return C0;YN=1;function e(){return[]}return C0=e,C0}var A0,XN;function lR(){if(XN)return A0;XN=1;var e=sR(),t=oR(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(c){return c==null?[]:(c=Object(c),e(i(c),function(u){return r.call(c,u)}))}:t;return A0=o,A0}var P0,QN;function cR(){if(QN)return P0;QN=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return P0=e,P0}var E0,ZN;function uR(){if(ZN)return E0;ZN=1;var e=ma(),t=xa(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return E0=r,E0}var D0,JN;function nb(){if(JN)return D0;JN=1;var e=uR(),t=xa(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=e((function(){return arguments})())?e:function(c){return t(c)&&r.call(c,"callee")&&!i.call(c,"callee")};return D0=o,D0}var vl={exports:{}},O0,eS;function dR(){if(eS)return O0;eS=1;function e(){return!1}return O0=e,O0}vl.exports;var tS;function vD(){return tS||(tS=1,(function(e,t){var n=Br(),r=dR(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,c=o&&o.exports===i,u=c?n.Buffer:void 0,d=u?u.isBuffer:void 0,f=d||r;e.exports=f})(vl,vl.exports)),vl.exports}var I0,nS;function rb(){if(nS)return I0;nS=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??e,!!i&&(o=="number"||o!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return I0=n,I0}var T0,rS;function ab(){if(rS)return T0;rS=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return T0=t,T0}var _0,aS;function fR(){if(aS)return _0;aS=1;var e=ma(),t=ab(),n=xa(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",c="[object Date]",u="[object Error]",d="[object Function]",f="[object Map]",h="[object Number]",m="[object Object]",x="[object RegExp]",v="[object Set]",j="[object String]",b="[object WeakMap]",w="[object ArrayBuffer]",y="[object DataView]",k="[object Float32Array]",P="[object Float64Array]",C="[object Int8Array]",S="[object Int16Array]",E="[object Int32Array]",D="[object Uint8Array]",T="[object Uint8ClampedArray]",M="[object Uint16Array]",z="[object Uint32Array]",R={};R[k]=R[P]=R[C]=R[S]=R[E]=R[D]=R[T]=R[M]=R[z]=!0,R[r]=R[i]=R[w]=R[o]=R[y]=R[c]=R[u]=R[d]=R[f]=R[h]=R[m]=R[x]=R[v]=R[j]=R[b]=!1;function $(B){return n(B)&&t(B.length)&&!!R[e(B)]}return _0=$,_0}var M0,iS;function yD(){if(iS)return M0;iS=1;function e(t){return function(n){return t(n)}}return M0=e,M0}var yl={exports:{}};yl.exports;var sS;function pR(){return sS||(sS=1,(function(e,t){var n=zE(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,c=o&&n.process,u=(function(){try{var d=i&&i.require&&i.require("util").types;return d||c&&c.binding&&c.binding("util")}catch{}})();e.exports=u})(yl,yl.exports)),yl.exports}var R0,oS;function bD(){if(oS)return R0;oS=1;var e=fR(),t=yD(),n=pR(),r=n&&n.isTypedArray,i=r?t(r):e;return R0=i,R0}var $0,lS;function hR(){if(lS)return $0;lS=1;var e=cR(),t=nb(),n=Pn(),r=vD(),i=rb(),o=bD(),c=Object.prototype,u=c.hasOwnProperty;function d(f,h){var m=n(f),x=!m&&t(f),v=!m&&!x&&r(f),j=!m&&!x&&!v&&o(f),b=m||x||v||j,w=b?e(f.length,String):[],y=w.length;for(var k in f)(h||u.call(f,k))&&!(b&&(k=="length"||v&&(k=="offset"||k=="parent")||j&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||i(k,y)))&&w.push(k);return w}return $0=d,$0}var z0,cS;function mR(){if(cS)return z0;cS=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return z0=t,z0}var L0,uS;function wD(){if(uS)return L0;uS=1;function e(t,n){return function(r){return t(n(r))}}return L0=e,L0}var B0,dS;function xR(){if(dS)return B0;dS=1;var e=wD(),t=e(Object.keys,Object);return B0=t,B0}var F0,fS;function gR(){if(fS)return F0;fS=1;var e=mR(),t=xR(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!e(o))return t(o);var c=[];for(var u in Object(o))r.call(o,u)&&u!="constructor"&&c.push(u);return c}return F0=i,F0}var U0,pS;function Oc(){if(pS)return U0;pS=1;var e=qy(),t=ab();function n(r){return r!=null&&t(r.length)&&!e(r)}return U0=n,U0}var q0,hS;function _f(){if(hS)return q0;hS=1;var e=hR(),t=gR(),n=Oc();function r(i){return n(i)?e(i):t(i)}return q0=r,q0}var W0,mS;function vR(){if(mS)return W0;mS=1;var e=iR(),t=lR(),n=_f();function r(i){return e(i,n,t)}return W0=r,W0}var H0,xS;function yR(){if(xS)return H0;xS=1;var e=vR(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,c,u,d,f,h){var m=u&t,x=e(o),v=x.length,j=e(c),b=j.length;if(v!=b&&!m)return!1;for(var w=v;w--;){var y=x[w];if(!(m?y in c:r.call(c,y)))return!1}var k=h.get(o),P=h.get(c);if(k&&P)return k==c&&P==o;var C=!0;h.set(o,c),h.set(c,o);for(var S=m;++w<v;){y=x[w];var E=o[y],D=c[y];if(d)var T=m?d(D,E,y,c,o,h):d(E,D,y,o,c,h);if(!(T===void 0?E===D||f(E,D,u,d,h):T)){C=!1;break}S||(S=y=="constructor")}if(C&&!S){var M=o.constructor,z=c.constructor;M!=z&&"constructor"in o&&"constructor"in c&&!(typeof M=="function"&&M instanceof M&&typeof z=="function"&&z instanceof z)&&(C=!1)}return h.delete(o),h.delete(c),C}return H0=i,H0}var V0,gS;function bR(){if(gS)return V0;gS=1;var e=Vi(),t=Br(),n=e(t,"DataView");return V0=n,V0}var K0,vS;function wR(){if(vS)return K0;vS=1;var e=Vi(),t=Br(),n=e(t,"Promise");return K0=n,K0}var G0,yS;function jD(){if(yS)return G0;yS=1;var e=Vi(),t=Br(),n=e(t,"Set");return G0=n,G0}var Y0,bS;function jR(){if(bS)return Y0;bS=1;var e=Vi(),t=Br(),n=e(t,"WeakMap");return Y0=n,Y0}var X0,wS;function NR(){if(wS)return X0;wS=1;var e=bR(),t=Hy(),n=wR(),r=jD(),i=jR(),o=ma(),c=LE(),u="[object Map]",d="[object Object]",f="[object Promise]",h="[object Set]",m="[object WeakMap]",x="[object DataView]",v=c(e),j=c(t),b=c(n),w=c(r),y=c(i),k=o;return(e&&k(new e(new ArrayBuffer(1)))!=x||t&&k(new t)!=u||n&&k(n.resolve())!=f||r&&k(new r)!=h||i&&k(new i)!=m)&&(k=function(P){var C=o(P),S=C==d?P.constructor:void 0,E=S?c(S):"";if(E)switch(E){case v:return x;case j:return u;case b:return f;case w:return h;case y:return m}return C}),X0=k,X0}var Q0,jS;function SR(){if(jS)return Q0;jS=1;var e=fD(),t=xD(),n=aR(),r=yR(),i=NR(),o=Pn(),c=vD(),u=bD(),d=1,f="[object Arguments]",h="[object Array]",m="[object Object]",x=Object.prototype,v=x.hasOwnProperty;function j(b,w,y,k,P,C){var S=o(b),E=o(w),D=S?h:i(b),T=E?h:i(w);D=D==f?m:D,T=T==f?m:T;var M=D==m,z=T==m,R=D==T;if(R&&c(b)){if(!c(w))return!1;S=!0,M=!1}if(R&&!M)return C||(C=new e),S||u(b)?t(b,w,y,k,P,C):n(b,w,D,y,k,P,C);if(!(y&d)){var $=M&&v.call(b,"__wrapped__"),B=z&&v.call(w,"__wrapped__");if($||B){var L=$?b.value():b,F=B?w.value():w;return C||(C=new e),P(L,F,y,k,C)}}return R?(C||(C=new e),r(b,w,y,k,P,C)):!1}return Q0=j,Q0}var Z0,NS;function ib(){if(NS)return Z0;NS=1;var e=SR(),t=xa();function n(r,i,o,c,u){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,o,c,n,u)}return Z0=n,Z0}var J0,SS;function kR(){if(SS)return J0;SS=1;var e=fD(),t=ib(),n=1,r=2;function i(o,c,u,d){var f=u.length,h=f,m=!d;if(o==null)return!h;for(o=Object(o);f--;){var x=u[f];if(m&&x[2]?x[1]!==o[x[0]]:!(x[0]in o))return!1}for(;++f<h;){x=u[f];var v=x[0],j=o[v],b=x[1];if(m&&x[2]){if(j===void 0&&!(v in o))return!1}else{var w=new e;if(d)var y=d(j,b,v,o,c,w);if(!(y===void 0?t(b,j,n|r,d,w):y))return!1}}return!0}return J0=i,J0}var ex,kS;function ND(){if(kS)return ex;kS=1;var e=Za();function t(n){return n===n&&!e(n)}return ex=t,ex}var tx,CS;function CR(){if(CS)return tx;CS=1;var e=ND(),t=_f();function n(r){for(var i=t(r),o=i.length;o--;){var c=i[o],u=r[c];i[o]=[c,u,e(u)]}return i}return tx=n,tx}var nx,AS;function SD(){if(AS)return nx;AS=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return nx=e,nx}var rx,PS;function AR(){if(PS)return rx;PS=1;var e=kR(),t=CR(),n=SD();function r(i){var o=t(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(c){return c===i||e(c,i,o)}}return rx=r,rx}var ax,ES;function PR(){if(ES)return ax;ES=1;function e(t,n){return t!=null&&n in Object(t)}return ax=e,ax}var ix,DS;function ER(){if(DS)return ix;DS=1;var e=UE(),t=nb(),n=Pn(),r=rb(),i=ab(),o=Pf();function c(u,d,f){d=e(d,u);for(var h=-1,m=d.length,x=!1;++h<m;){var v=o(d[h]);if(!(x=u!=null&&f(u,v)))break;u=u[v]}return x||++h!=m?x:(m=u==null?0:u.length,!!m&&i(m)&&r(v,m)&&(n(u)||t(u)))}return ix=c,ix}var sx,OS;function DR(){if(OS)return sx;OS=1;var e=PR(),t=ER();function n(r,i){return r!=null&&t(r,i,e)}return sx=n,sx}var ox,IS;function OR(){if(IS)return ox;IS=1;var e=ib(),t=qE(),n=DR(),r=Uy(),i=ND(),o=SD(),c=Pf(),u=1,d=2;function f(h,m){return r(h)&&i(m)?o(c(h),m):function(x){var v=t(x,h);return v===void 0&&v===m?n(x,h):e(m,v,u|d)}}return ox=f,ox}var lx,TS;function ho(){if(TS)return lx;TS=1;function e(t){return t}return lx=e,lx}var cx,_S;function IR(){if(_S)return cx;_S=1;function e(t){return function(n){return n==null?void 0:n[t]}}return cx=e,cx}var ux,MS;function TR(){if(MS)return ux;MS=1;var e=Gy();function t(n){return function(r){return e(r,n)}}return ux=t,ux}var dx,RS;function _R(){if(RS)return dx;RS=1;var e=IR(),t=TR(),n=Uy(),r=Pf();function i(o){return n(o)?e(r(o)):t(o)}return dx=i,dx}var fx,$S;function Ja(){if($S)return fx;$S=1;var e=AR(),t=OR(),n=ho(),r=Pn(),i=_R();function o(c){return typeof c=="function"?c:c==null?n:typeof c=="object"?r(c)?t(c[0],c[1]):e(c):i(c)}return fx=o,fx}var px,zS;function kD(){if(zS)return px;zS=1;function e(t,n,r,i){for(var o=t.length,c=r+(i?1:-1);i?c--:++c<o;)if(n(t[c],c,t))return c;return-1}return px=e,px}var hx,LS;function MR(){if(LS)return hx;LS=1;function e(t){return t!==t}return hx=e,hx}var mx,BS;function RR(){if(BS)return mx;BS=1;function e(t,n,r){for(var i=r-1,o=t.length;++i<o;)if(t[i]===n)return i;return-1}return mx=e,mx}var xx,FS;function $R(){if(FS)return xx;FS=1;var e=kD(),t=MR(),n=RR();function r(i,o,c){return o===o?n(i,o,c):e(i,t,c)}return xx=r,xx}var gx,US;function zR(){if(US)return gx;US=1;var e=$R();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return gx=t,gx}var vx,qS;function LR(){if(qS)return vx;qS=1;function e(t,n,r){for(var i=-1,o=t==null?0:t.length;++i<o;)if(r(n,t[i]))return!0;return!1}return vx=e,vx}var yx,WS;function BR(){if(WS)return yx;WS=1;function e(){}return yx=e,yx}var bx,HS;function FR(){if(HS)return bx;HS=1;var e=jD(),t=BR(),n=tb(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(o){return new e(o)}:t;return bx=i,bx}var wx,VS;function UR(){if(VS)return wx;VS=1;var e=pD(),t=zR(),n=LR(),r=mD(),i=FR(),o=tb(),c=200;function u(d,f,h){var m=-1,x=t,v=d.length,j=!0,b=[],w=b;if(h)j=!1,x=n;else if(v>=c){var y=f?null:i(d);if(y)return o(y);j=!1,x=r,w=new e}else w=f?[]:b;e:for(;++m<v;){var k=d[m],P=f?f(k):k;if(k=h||k!==0?k:0,j&&P===P){for(var C=w.length;C--;)if(w[C]===P)continue e;f&&w.push(P),b.push(k)}else x(w,P,h)||(w!==b&&w.push(P),b.push(k))}return b}return wx=u,wx}var jx,KS;function qR(){if(KS)return jx;KS=1;var e=Ja(),t=UR();function n(r,i){return r&&r.length?t(r,e(i,2)):[]}return jx=n,jx}var WR=qR();const GS=lt(WR);function CD(e,t,n){return t===!0?GS(e,n):Fe(t)?GS(e,t):e}function Us(e){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Us(e)}var HR=["ref"];function YS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YS(Object(n),!0).forEach(function(r){Mf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ED(r.key),r)}}function KR(e,t,n){return t&&XS(e.prototype,t),n&&XS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function GR(e,t,n){return t=Ed(t),YR(e,AD()?Reflect.construct(t,n||[],Ed(e).constructor):t.apply(e,n))}function YR(e,t){if(t&&(Us(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PD(e)}function AD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AD=function(){return!!e})()}function Ed(e){return Ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ed(e)}function PD(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XR(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vv(e,t)}function vv(e,t){return vv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vv(e,t)}function Mf(e,t,n){return t=ED(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ED(e){var t=QR(e,"string");return Us(t)=="symbol"?t:String(t)}function QR(e,t){if(Us(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Us(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZR(e,t){if(e==null)return{};var n=JR(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function JR(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function e$(e){return e.value}function t$(e,t){if(H.isValidElement(e))return H.cloneElement(e,t);if(typeof e=="function")return H.createElement(e,t);t.ref;var n=ZR(t,HR);return H.createElement(eb,n)}var QS=1,ql=(function(e){XR(t,e);function t(){var n;VR(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=GR(this,t,[].concat(i)),Mf(PD(n),"lastBoundingBox",{width:-1,height:-1}),n}return KR(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){return this.wrapperNode&&this.wrapperNode.getBoundingClientRect?this.wrapperNode.getBoundingClientRect():null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var i=this.wrapperNode.getBoundingClientRect();(Math.abs(i.width-this.lastBoundingBox.width)>QS||Math.abs(i.height-this.lastBoundingBox.height)>QS)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i))}else(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?yi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,c=i.align,u=i.verticalAlign,d=i.margin,f=i.chartWidth,h=i.chartHeight,m,x;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(c==="center"&&o==="vertical"){var v=this.getBBoxSnapshot();m={left:((f||0)-v.width)/2}}else m=c==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(u==="middle"){var j=this.getBBoxSnapshot();x={top:((h||0)-j.height)/2}}else x=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return yi(yi({},m),x)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,c=i.width,u=i.height,d=i.wrapperStyle,f=i.payloadUniqBy,h=i.payload,m=yi(yi({position:"absolute",width:c||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return H.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(v){r.wrapperNode=v}},t$(o,yi(yi({},this.props),{},{payload:CD(h,f,e$)})))}}],[{key:"getWithHeight",value:function(r,i){var o=r.props.layout;return o==="vertical"&&he(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}]),t})(O.PureComponent);Mf(ql,"displayName","Legend");Mf(ql,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Nx,ZS;function n$(){if(ZS)return Nx;ZS=1;var e=Ec(),t=nb(),n=Pn(),r=e?e.isConcatSpreadable:void 0;function i(o){return n(o)||t(o)||!!(r&&o&&o[r])}return Nx=i,Nx}var Sx,JS;function DD(){if(JS)return Sx;JS=1;var e=gD(),t=n$();function n(r,i,o,c,u){var d=-1,f=r.length;for(o||(o=t),u||(u=[]);++d<f;){var h=r[d];i>0&&o(h)?i>1?n(h,i-1,o,c,u):e(u,h):c||(u[u.length]=h)}return u}return Sx=n,Sx}var kx,ek;function r$(){if(ek)return kx;ek=1;function e(t){return function(n,r,i){for(var o=-1,c=Object(n),u=i(n),d=u.length;d--;){var f=u[t?d:++o];if(r(c[f],f,c)===!1)break}return n}}return kx=e,kx}var Cx,tk;function a$(){if(tk)return Cx;tk=1;var e=r$(),t=e();return Cx=t,Cx}var Ax,nk;function OD(){if(nk)return Ax;nk=1;var e=a$(),t=_f();function n(r,i){return r&&e(r,i,t)}return Ax=n,Ax}var Px,rk;function i$(){if(rk)return Px;rk=1;var e=Oc();function t(n,r){return function(i,o){if(i==null)return i;if(!e(i))return n(i,o);for(var c=i.length,u=r?c:-1,d=Object(i);(r?u--:++u<c)&&o(d[u],u,d)!==!1;);return i}}return Px=t,Px}var Ex,ak;function sb(){if(ak)return Ex;ak=1;var e=OD(),t=i$(),n=t(e);return Ex=n,Ex}var Dx,ik;function ID(){if(ik)return Dx;ik=1;var e=sb(),t=Oc();function n(r,i){var o=-1,c=t(r)?Array(r.length):[];return e(r,function(u,d,f){c[++o]=i(u,d,f)}),c}return Dx=n,Dx}var Ox,sk;function s$(){if(sk)return Ox;sk=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return Ox=e,Ox}var Ix,ok;function o$(){if(ok)return Ix;ok=1;var e=uo();function t(n,r){if(n!==r){var i=n!==void 0,o=n===null,c=n===n,u=e(n),d=r!==void 0,f=r===null,h=r===r,m=e(r);if(!f&&!m&&!u&&n>r||u&&d&&h&&!f&&!m||o&&d&&h||!i&&h||!c)return 1;if(!o&&!u&&!m&&n<r||m&&i&&c&&!o&&!u||f&&i&&c||!d&&c||!h)return-1}return 0}return Ix=t,Ix}var Tx,lk;function l$(){if(lk)return Tx;lk=1;var e=o$();function t(n,r,i){for(var o=-1,c=n.criteria,u=r.criteria,d=c.length,f=i.length;++o<d;){var h=e(c[o],u[o]);if(h){if(o>=f)return h;var m=i[o];return h*(m=="desc"?-1:1)}}return n.index-r.index}return Tx=t,Tx}var _x,ck;function c$(){if(ck)return _x;ck=1;var e=Ky(),t=Gy(),n=Ja(),r=ID(),i=s$(),o=yD(),c=l$(),u=ho(),d=Pn();function f(h,m,x){m.length?m=e(m,function(b){return d(b)?function(w){return t(w,b.length===1?b[0]:b)}:b}):m=[u];var v=-1;m=e(m,o(n));var j=r(h,function(b,w,y){var k=e(m,function(P){return P(b)});return{criteria:k,index:++v,value:b}});return i(j,function(b,w){return c(b,w,x)})}return _x=f,_x}var Mx,uk;function u$(){if(uk)return Mx;uk=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return Mx=e,Mx}var Rx,dk;function d$(){if(dk)return Rx;dk=1;var e=u$(),t=Math.max;function n(r,i,o){return i=t(i===void 0?r.length-1:i,0),function(){for(var c=arguments,u=-1,d=t(c.length-i,0),f=Array(d);++u<d;)f[u]=c[i+u];u=-1;for(var h=Array(i+1);++u<i;)h[u]=c[u];return h[i]=o(f),e(r,this,h)}}return Rx=n,Rx}var $x,fk;function f$(){if(fk)return $x;fk=1;function e(t){return function(){return t}}return $x=e,$x}var zx,pk;function TD(){if(pk)return zx;pk=1;var e=Vi(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}})();return zx=t,zx}var Lx,hk;function p$(){if(hk)return Lx;hk=1;var e=f$(),t=TD(),n=ho(),r=t?function(i,o){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:n;return Lx=r,Lx}var Bx,mk;function h$(){if(mk)return Bx;mk=1;var e=800,t=16,n=Date.now;function r(i){var o=0,c=0;return function(){var u=n(),d=t-(u-c);if(c=u,d>0){if(++o>=e)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return Bx=r,Bx}var Fx,xk;function m$(){if(xk)return Fx;xk=1;var e=p$(),t=h$(),n=t(e);return Fx=n,Fx}var Ux,gk;function x$(){if(gk)return Ux;gk=1;var e=ho(),t=d$(),n=m$();function r(i,o){return n(t(i,o,e),i+"")}return Ux=r,Ux}var qx,vk;function Rf(){if(vk)return qx;vk=1;var e=Wy(),t=Oc(),n=rb(),r=Za();function i(o,c,u){if(!r(u))return!1;var d=typeof c;return(d=="number"?t(u)&&n(c,u.length):d=="string"&&c in u)?e(u[c],o):!1}return qx=i,qx}var Wx,yk;function g$(){if(yk)return Wx;yk=1;var e=DD(),t=c$(),n=x$(),r=Rf(),i=n(function(o,c){if(o==null)return[];var u=c.length;return u>1&&r(o,c[0],c[1])?c=[]:u>2&&r(c[0],c[1],c[2])&&(c=[c[0]]),t(o,e(c,1),[])});return Wx=i,Wx}var v$=g$();const ob=lt(v$);function Wl(e){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wl(e)}function yv(){return yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yv.apply(this,arguments)}function y$(e,t){return N$(e)||j$(e,t)||w$(e,t)||b$()}function b$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w$(e,t){if(e){if(typeof e=="string")return bk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bk(e,t)}}function bk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j$(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,c,u=[],d=!0,f=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(d=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(h){f=!0,i=h}finally{try{if(!d&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(f)throw i}}return u}}function N$(e){if(Array.isArray(e))return e}function wk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wk(Object(n),!0).forEach(function(r){S$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function S$(e,t,n){return t=k$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k$(e){var t=C$(e,"string");return Wl(t)=="symbol"?t:String(t)}function C$(e,t){if(Wl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A$(e){return Array.isArray(e)&&Mt(e[0])&&Mt(e[1])?e.join(" ~ "):e}var P$=function(t){var n=t.separator,r=n===void 0?" : ":n,i=t.contentStyle,o=i===void 0?{}:i,c=t.itemStyle,u=c===void 0?{}:c,d=t.labelStyle,f=d===void 0?{}:d,h=t.payload,m=t.formatter,x=t.itemSorter,v=t.wrapperClassName,j=t.labelClassName,b=t.label,w=t.labelFormatter,y=t.accessibilityLayer,k=y===void 0?!1:y,P=function(){if(h&&h.length){var $={padding:0,margin:0},B=(x?ob(h,x):h).map(function(L,F){if(L.type==="none")return null;var Y=Hx({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},u),W=L.formatter||m||A$,V=L.value,ee=L.name,_=V,q=ee;if(W&&_!=null&&q!=null){var X=W(V,ee,L,F,h);if(Array.isArray(X)){var J=y$(X,2);_=J[0],q=J[1]}else _=X}return H.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:Y},Mt(q)?H.createElement("span",{className:"recharts-tooltip-item-name"},q):null,Mt(q)?H.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,H.createElement("span",{className:"recharts-tooltip-item-value"},_),H.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return H.createElement("ul",{className:"recharts-tooltip-item-list",style:$},B)}return null},C=Hx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=Hx({margin:0},f),E=!Be(b),D=E?b:"",T=Ye("recharts-default-tooltip",v),M=Ye("recharts-tooltip-label",j);E&&w&&h!==void 0&&h!==null&&(D=w(b,h));var z=k?{role:"status","aria-live":"assertive"}:{};return H.createElement("div",yv({className:T,style:C},z),H.createElement("p",{className:M,style:S},H.isValidElement(D)?D:"".concat(D)),P())};function Hl(e){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(e)}function Zu(e,t,n){return t=E$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E$(e){var t=D$(e,"string");return Hl(t)=="symbol"?t:String(t)}function D$(e,t){if(Hl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ol="recharts-tooltip-wrapper",O$={visibility:"hidden"};function I$(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Ye(ol,Zu(Zu(Zu(Zu({},"".concat(ol,"-right"),he(n)&&t&&he(t.x)&&n>=t.x),"".concat(ol,"-left"),he(n)&&t&&he(t.x)&&n<t.x),"".concat(ol,"-bottom"),he(r)&&t&&he(t.y)&&r>=t.y),"".concat(ol,"-top"),he(r)&&t&&he(t.y)&&r<t.y))}function jk(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,o=e.position,c=e.reverseDirection,u=e.tooltipDimension,d=e.viewBox,f=e.viewBoxDimension;if(o&&he(o[r]))return o[r];var h=n[r]-u-i,m=n[r]+i;if(t[r])return c[r]?h:m;if(c[r]){var x=h,v=d[r];return x<v?Math.max(m,d[r]):Math.max(h,d[r])}var j=m+u,b=d[r]+f;return j>b?Math.max(h,d[r]):Math.max(m,d[r])}function T$(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function _$(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,i=e.position,o=e.reverseDirection,c=e.tooltipBox,u=e.useTranslate3d,d=e.viewBox,f,h,m;return c.height>0&&c.width>0&&n?(h=jk({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),m=jk({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),f=T$({translateX:h,translateY:m,useTranslate3d:u})):f=O$,{cssProperties:f,cssClasses:I$({translateX:h,translateY:m,coordinate:n})}}function qs(e){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qs(e)}function Nk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nk(Object(n),!0).forEach(function(r){pd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function M$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,MD(r.key),r)}}function $$(e,t,n){return t&&R$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function z$(e,t,n){return t=Dd(t),L$(e,_D()?Reflect.construct(t,n||[],Dd(e).constructor):t.apply(e,n))}function L$(e,t){if(t&&(qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fd(e)}function _D(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_D=function(){return!!e})()}function Dd(e){return Dd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dd(e)}function fd(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bv(e,t)}function bv(e,t){return bv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bv(e,t)}function pd(e,t,n){return t=MD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MD(e){var t=F$(e,"string");return qs(t)=="symbol"?t:String(t)}function F$(e,t){if(qs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(qs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kk=1,U$=(function(e){B$(t,e);function t(){var n;M$(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=z$(this,t,[].concat(i)),pd(fd(n),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),pd(fd(n),"lastBoundingBox",{width:-1,height:-1}),pd(fd(n),"handleKeyDown",function(c){if(c.key==="Escape"){var u,d,f,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(f=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&f!==void 0?f:0}})}}),n}return $$(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.lastBoundingBox.width)>kk||Math.abs(r.height-this.lastBoundingBox.height)>kk)&&(this.lastBoundingBox.width=r.width,this.lastBoundingBox.height=r.height)}else(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1)}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,c=i.allowEscapeViewBox,u=i.animationDuration,d=i.animationEasing,f=i.children,h=i.coordinate,m=i.hasPayload,x=i.isAnimationActive,v=i.offset,j=i.position,b=i.reverseDirection,w=i.useTranslate3d,y=i.viewBox,k=i.wrapperStyle,P=_$({allowEscapeViewBox:c,coordinate:h,offsetTopLeft:v,position:j,reverseDirection:b,tooltipBox:{height:this.lastBoundingBox.height,width:this.lastBoundingBox.width},useTranslate3d:w,viewBox:y}),C=P.cssClasses,S=P.cssProperties,E=Sk(Sk({transition:x&&o?"transform ".concat(u,"ms ").concat(d):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&m?"visible":"hidden",position:"absolute",top:0,left:0},k);return H.createElement("div",{tabIndex:-1,className:C,style:E,ref:function(T){r.wrapperNode=T}},f)}}]),t})(O.PureComponent),q$=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ei={isSsr:q$()};function Ws(e){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(e)}function Ck(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ak(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ck(Object(n),!0).forEach(function(r){lb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ck(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function W$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$D(r.key),r)}}function V$(e,t,n){return t&&H$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function K$(e,t,n){return t=Od(t),G$(e,RD()?Reflect.construct(t,n||[],Od(e).constructor):t.apply(e,n))}function G$(e,t){if(t&&(Ws(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y$(e)}function Y$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RD=function(){return!!e})()}function Od(e){return Od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Od(e)}function X$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wv(e,t)}function wv(e,t){return wv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wv(e,t)}function lb(e,t,n){return t=$D(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $D(e){var t=Q$(e,"string");return Ws(t)=="symbol"?t:String(t)}function Q$(e,t){if(Ws(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ws(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Z$(e){return e.dataKey}function J$(e,t){return H.isValidElement(e)?H.cloneElement(e,t):typeof e=="function"?H.createElement(e,t):H.createElement(P$,t)}var pr=(function(e){X$(t,e);function t(){return W$(this,t),K$(this,t,arguments)}return V$(t,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,c=i.allowEscapeViewBox,u=i.animationDuration,d=i.animationEasing,f=i.content,h=i.coordinate,m=i.filterNull,x=i.isAnimationActive,v=i.offset,j=i.payload,b=i.payloadUniqBy,w=i.position,y=i.reverseDirection,k=i.useTranslate3d,P=i.viewBox,C=i.wrapperStyle,S=j??[];m&&S.length&&(S=CD(j.filter(function(D){return D.value!=null&&(D.hide!==!0||r.props.includeHidden)}),b,Z$));var E=S.length>0;return H.createElement(U$,{allowEscapeViewBox:c,animationDuration:u,animationEasing:d,isAnimationActive:x,active:o,coordinate:h,hasPayload:E,offset:v,position:w,reverseDirection:y,useTranslate3d:k,viewBox:P,wrapperStyle:C},J$(f,Ak(Ak({},this.props),{},{payload:S})))}}]),t})(O.PureComponent);lb(pr,"displayName","Tooltip");lb(pr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ei.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Vx,Pk;function e8(){if(Pk)return Vx;Pk=1;var e=Br(),t=function(){return e.Date.now()};return Vx=t,Vx}var Kx,Ek;function t8(){if(Ek)return Kx;Ek=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return Kx=t,Kx}var Gx,Dk;function n8(){if(Dk)return Gx;Dk=1;var e=t8(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return Gx=n,Gx}var Yx,Ok;function zD(){if(Ok)return Yx;Ok=1;var e=n8(),t=Za(),n=uo(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;function d(f){if(typeof f=="number")return f;if(n(f))return r;if(t(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=t(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=e(f);var m=o.test(f);return m||c.test(f)?u(f.slice(2),m?2:8):i.test(f)?r:+f}return Yx=d,Yx}var Xx,Ik;function r8(){if(Ik)return Xx;Ik=1;var e=Za(),t=e8(),n=zD(),r="Expected a function",i=Math.max,o=Math.min;function c(u,d,f){var h,m,x,v,j,b,w=0,y=!1,k=!1,P=!0;if(typeof u!="function")throw new TypeError(r);d=n(d)||0,e(f)&&(y=!!f.leading,k="maxWait"in f,x=k?i(n(f.maxWait)||0,d):x,P="trailing"in f?!!f.trailing:P);function C(B){var L=h,F=m;return h=m=void 0,w=B,v=u.apply(F,L),v}function S(B){return w=B,j=setTimeout(T,d),y?C(B):v}function E(B){var L=B-b,F=B-w,Y=d-L;return k?o(Y,x-F):Y}function D(B){var L=B-b,F=B-w;return b===void 0||L>=d||L<0||k&&F>=x}function T(){var B=t();if(D(B))return M(B);j=setTimeout(T,E(B))}function M(B){return j=void 0,P&&h?C(B):(h=m=void 0,v)}function z(){j!==void 0&&clearTimeout(j),w=0,h=b=m=j=void 0}function R(){return j===void 0?v:M(t())}function $(){var B=t(),L=D(B);if(h=arguments,m=this,b=B,L){if(j===void 0)return S(b);if(k)return clearTimeout(j),j=setTimeout(T,d),C(b)}return j===void 0&&(j=setTimeout(T,d)),v}return $.cancel=z,$.flush=R,$}return Xx=c,Xx}var Qx,Tk;function a8(){if(Tk)return Qx;Tk=1;var e=r8(),t=Za(),n="Expected a function";function r(i,o,c){var u=!0,d=!0;if(typeof i!="function")throw new TypeError(n);return t(c)&&(u="leading"in c?!!c.leading:u,d="trailing"in c?!!c.trailing:d),e(i,o,{leading:u,maxWait:o,trailing:d})}return Qx=r,Qx}var i8=a8();const LD=lt(i8);function Vl(e){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vl(e)}function _k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ju(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_k(Object(n),!0).forEach(function(r){s8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_k(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function s8(e,t,n){return t=o8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o8(e){var t=l8(e,"string");return Vl(t)=="symbol"?t:String(t)}function l8(e,t){if(Vl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c8(e,t){return p8(e)||f8(e,t)||d8(e,t)||u8()}function u8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d8(e,t){if(e){if(typeof e=="string")return Mk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mk(e,t)}}function Mk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f8(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,c,u=[],d=!0,f=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(d=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(h){f=!0,i=h}finally{try{if(!d&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(f)throw i}}return u}}function p8(e){if(Array.isArray(e))return e}var Rk=O.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=e.width,c=o===void 0?"100%":o,u=e.height,d=u===void 0?"100%":u,f=e.minWidth,h=f===void 0?0:f,m=e.minHeight,x=e.maxHeight,v=e.children,j=e.debounce,b=j===void 0?0:j,w=e.id,y=e.className,k=e.onResize,P=e.style,C=P===void 0?{}:P,S=O.useRef(null),E=O.useRef();E.current=k,O.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var D=O.useState({containerWidth:i.width,containerHeight:i.height}),T=c8(D,2),M=T[0],z=T[1],R=O.useCallback(function(B,L){z(function(F){var Y=Math.round(B),W=Math.round(L);return F.containerWidth===Y&&F.containerHeight===W?F:{containerWidth:Y,containerHeight:W}})},[]);O.useEffect(function(){var B=function(ee){var _,q=ee[0].contentRect,X=q.width,J=q.height;R(X,J),(_=E.current)===null||_===void 0||_.call(E,X,J)};b>0&&(B=LD(B,b,{trailing:!0,leading:!1}));var L=new ResizeObserver(B),F=S.current.getBoundingClientRect(),Y=F.width,W=F.height;return R(Y,W),L.observe(S.current),function(){L.disconnect()}},[R,b]);var $=O.useMemo(function(){var B=M.containerWidth,L=M.containerHeight;if(B<0||L<0)return null;ia(Si(c)||Si(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,c,d),ia(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=Si(c)?B:c,Y=Si(d)?L:d;n&&n>0&&(F?Y=F/n:Y&&(F=Y*n),x&&Y>x&&(Y=x)),ia(F>0||Y>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,Y,c,d,h,m,n);var W=!Array.isArray(v)&&av.isElement(v)&&aa(v.type).endsWith("Chart");return H.Children.map(v,function(V){return av.isElement(V)?O.cloneElement(V,Ju({width:F,height:Y},W?{style:Ju({height:"100%",width:"100%",maxHeight:Y,maxWidth:F},V.props.style)}:{})):V})},[n,v,d,x,m,h,M,c]);return H.createElement("div",{id:w?"".concat(w):void 0,className:Ye("recharts-responsive-container",y),style:Ju(Ju({},C),{},{width:c,height:d,minWidth:h,minHeight:m,maxHeight:x}),ref:S},$)}),cb=function(t){return null};cb.displayName="Cell";function Kl(e){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kl(e)}function $k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$k(Object(n),!0).forEach(function(r){h8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function h8(e,t,n){return t=m8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m8(e){var t=x8(e,"string");return Kl(t)=="symbol"?t:String(t)}function x8(e,t){if(Kl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ks={widthCache:{},cacheCount:0},g8=2e3,v8={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},zk="recharts_measurement_span";function y8(e){var t=jv({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var kl=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ei.isSsr)return{width:0,height:0};var r=y8(n),i=JSON.stringify({text:t,copyStyle:r});if(ks.widthCache[i])return ks.widthCache[i];try{var o=document.getElementById(zk);o||(o=document.createElement("span"),o.setAttribute("id",zk),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var c=jv(jv({},v8),r);Object.assign(o.style,c),o.textContent="".concat(t);var u=o.getBoundingClientRect(),d={width:u.width,height:u.height};return ks.widthCache[i]=d,++ks.cacheCount>g8&&(ks.cacheCount=0,ks.widthCache={}),d}catch{return{width:0,height:0}}},b8=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Gl(e){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gl(e)}function Id(e,t){return S8(e)||N8(e,t)||j8(e,t)||w8()}function w8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j8(e,t){if(e){if(typeof e=="string")return Lk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lk(e,t)}}function Lk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N8(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,c,u=[],d=!0,f=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(h){f=!0,i=h}finally{try{if(!d&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(f)throw i}}return u}}function S8(e){if(Array.isArray(e))return e}function k8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,A8(r.key),r)}}function C8(e,t,n){return t&&Bk(e.prototype,t),n&&Bk(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function A8(e){var t=P8(e,"string");return Gl(t)=="symbol"?t:String(t)}function P8(e,t){if(Gl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Fk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Uk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,E8=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,D8=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,BD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},O8=Object.keys(BD),Ts="NaN";function I8(e,t){return e*BD[t]}var ed=(function(){function e(t,n){k8(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!E8.test(n)&&(this.num=NaN,this.unit=""),O8.includes(n)&&(this.num=I8(t,n),this.unit="px")}return C8(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=D8.exec(n))!==null&&r!==void 0?r:[],o=Id(i,3),c=o[1],u=o[2];return new e(parseFloat(c),u??"")}}]),e})();function FD(e){if(e.includes(Ts))return Ts;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=Fk.exec(t))!==null&&n!==void 0?n:[],i=Id(r,4),o=i[1],c=i[2],u=i[3],d=ed.parse(o??""),f=ed.parse(u??""),h=c==="*"?d.multiply(f):d.divide(f);if(h.isNaN())return Ts;t=t.replace(Fk,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,x=(m=Uk.exec(t))!==null&&m!==void 0?m:[],v=Id(x,4),j=v[1],b=v[2],w=v[3],y=ed.parse(j??""),k=ed.parse(w??""),P=b==="+"?y.add(k):y.subtract(k);if(P.isNaN())return Ts;t=t.replace(Uk,P.toString())}return t}var qk=/\(([^()]*)\)/;function T8(e){for(var t=e;t.includes("(");){var n=qk.exec(t),r=Id(n,2),i=r[1];t=t.replace(qk,FD(i))}return t}function _8(e){var t=e.replace(/\s+/g,"");return t=T8(t),t=FD(t),t}function M8(e){try{return _8(e)}catch{return Ts}}function Zx(e){var t=M8(e.slice(5,-1));return t===Ts?"":t}var R8=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],$8=["dx","dy","angle","className","breakAll"];function Nv(){return Nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nv.apply(this,arguments)}function Wk(e,t){if(e==null)return{};var n=z8(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function z8(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Hk(e,t){return U8(e)||F8(e,t)||B8(e,t)||L8()}function L8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B8(e,t){if(e){if(typeof e=="string")return Vk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vk(e,t)}}function Vk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F8(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,c,u=[],d=!0,f=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(h){f=!0,i=h}finally{try{if(!d&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(f)throw i}}return u}}function U8(e){if(Array.isArray(e))return e}var UD=/[ \f\n\r\t\v\u2028\u2029]+/,qD=function(t){var n=t.children,r=t.breakAll,i=t.style;try{var o=[];Be(n)||(r?o=n.toString().split(""):o=n.toString().split(UD));var c=o.map(function(d){return{word:d,width:kl(d,i).width}}),u=r?0:kl("",i).width;return{wordsWithComputedWidth:c,spaceWidth:u}}catch{return null}},q8=function(t,n,r,i,o){var c=t.maxLines,u=t.children,d=t.style,f=t.breakAll,h=he(c),m=u,x=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(Y,W){var V=W.word,ee=W.width,_=Y[Y.length-1];if(_&&(i==null||o||_.width+ee+r<Number(i)))_.words.push(V),_.width+=ee+r;else{var q={words:[V],width:ee};Y.push(q)}return Y},[])},v=x(n),j=function(F){return F.reduce(function(Y,W){return Y.width>W.width?Y:W})};if(!h)return v;for(var b="",w=function(F){var Y=m.slice(0,F),W=qD({breakAll:f,style:d,children:Y+b}).wordsWithComputedWidth,V=x(W),ee=V.length>c||j(V).width>Number(i);return[ee,V]},y=0,k=m.length-1,P=0,C;y<=k&&P<=m.length-1;){var S=Math.floor((y+k)/2),E=S-1,D=w(E),T=Hk(D,2),M=T[0],z=T[1],R=w(S),$=Hk(R,1),B=$[0];if(!M&&!B&&(y=S+1),M&&B&&(k=S-1),!M&&B){C=z;break}P++}return C||v},Kk=function(t){var n=Be(t)?[]:t.toString().split(UD);return[{words:n}]},W8=function(t){var n=t.width,r=t.scaleToFit,i=t.children,o=t.style,c=t.breakAll,u=t.maxLines;if((n||r)&&!ei.isSsr){var d,f,h=qD({breakAll:c,children:i,style:o});if(h){var m=h.wordsWithComputedWidth,x=h.spaceWidth;d=m,f=x}else return Kk(i);return q8({breakAll:c,children:i,maxLines:u,style:o},d,f,n,r)}return Kk(i)},Gk="#808080",Td=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,o=i===void 0?0:i,c=t.lineHeight,u=c===void 0?"1em":c,d=t.capHeight,f=d===void 0?"0.71em":d,h=t.scaleToFit,m=h===void 0?!1:h,x=t.textAnchor,v=x===void 0?"start":x,j=t.verticalAnchor,b=j===void 0?"end":j,w=t.fill,y=w===void 0?Gk:w,k=Wk(t,R8),P=O.useMemo(function(){return W8({breakAll:k.breakAll,children:k.children,maxLines:k.maxLines,scaleToFit:m,style:k.style,width:k.width})},[k.breakAll,k.children,k.maxLines,m,k.style,k.width]),C=k.dx,S=k.dy,E=k.angle,D=k.className,T=k.breakAll,M=Wk(k,$8);if(!Mt(r)||!Mt(o))return null;var z=r+(he(C)?C:0),R=o+(he(S)?S:0),$;switch(b){case"start":$=Zx("calc(".concat(f,")"));break;case"middle":$=Zx("calc(".concat((P.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:$=Zx("calc(".concat(P.length-1," * -").concat(u,")"));break}var B=[];if(m){var L=P[0].width,F=k.width;B.push("scale(".concat((he(F)?F/L:1)/L,")"))}return E&&B.push("rotate(".concat(E,", ").concat(z,", ").concat(R,")")),B.length&&(M.transform=B.join(" ")),H.createElement("text",Nv({},Le(M,!0),{x:z,y:R,className:Ye("recharts-text",D),textAnchor:v,fill:y.includes("url")?Gk:y}),P.map(function(Y,W){var V=Y.words.join(T?"":" ");return H.createElement("tspan",{x:z,dy:W===0?$:u,key:V},V)}))};function Ya(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function H8(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ub(e){let t,n,r;e.length!==2?(t=Ya,n=(u,d)=>Ya(e(u),d),r=(u,d)=>e(u)-d):(t=e===Ya||e===H8?e:V8,n=e,r=e);function i(u,d,f=0,h=u.length){if(f<h){if(t(d,d)!==0)return h;do{const m=f+h>>>1;n(u[m],d)<0?f=m+1:h=m}while(f<h)}return f}function o(u,d,f=0,h=u.length){if(f<h){if(t(d,d)!==0)return h;do{const m=f+h>>>1;n(u[m],d)<=0?f=m+1:h=m}while(f<h)}return f}function c(u,d,f=0,h=u.length){const m=i(u,d,f,h-1);return m>f&&r(u[m-1],d)>-r(u[m],d)?m-1:m}return{left:i,center:c,right:o}}function V8(){return 0}function WD(e){return e===null?NaN:+e}function*K8(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const G8=ub(Ya),Ic=G8.right;ub(WD).center;class Yk extends Map{constructor(t,n=Q8){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Xk(this,t))}has(t){return super.has(Xk(this,t))}set(t,n){return super.set(Y8(this,t),n)}delete(t){return super.delete(X8(this,t))}}function Xk({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Y8({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function X8({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Q8(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Z8(e=Ya){if(e===Ya)return HD;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function HD(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const J8=Math.sqrt(50),ez=Math.sqrt(10),tz=Math.sqrt(2);function _d(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),c=o>=J8?10:o>=ez?5:o>=tz?2:1;let u,d,f;return i<0?(f=Math.pow(10,-i)/c,u=Math.round(e*f),d=Math.round(t*f),u/f<e&&++u,d/f>t&&--d,f=-f):(f=Math.pow(10,i)*c,u=Math.round(e/f),d=Math.round(t/f),u*f<e&&++u,d*f>t&&--d),d<u&&.5<=n&&n<2?_d(e,t,n*2):[u,d,f]}function Sv(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,c]=r?_d(t,e,n):_d(e,t,n);if(!(o>=i))return[];const u=o-i+1,d=new Array(u);if(r)if(c<0)for(let f=0;f<u;++f)d[f]=(o-f)/-c;else for(let f=0;f<u;++f)d[f]=(o-f)*c;else if(c<0)for(let f=0;f<u;++f)d[f]=(i+f)/-c;else for(let f=0;f<u;++f)d[f]=(i+f)*c;return d}function kv(e,t,n){return t=+t,e=+e,n=+n,_d(e,t,n)[2]}function Cv(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?kv(t,e,n):kv(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Qk(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Zk(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function VD(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?HD:Z8(i);r>n;){if(r-n>600){const d=r-n+1,f=t-n+1,h=Math.log(d),m=.5*Math.exp(2*h/3),x=.5*Math.sqrt(h*m*(d-m)/d)*(f-d/2<0?-1:1),v=Math.max(n,Math.floor(t-f*m/d+x)),j=Math.min(r,Math.floor(t+(d-f)*m/d+x));VD(e,t,v,j,i)}const o=e[t];let c=n,u=r;for(ll(e,n,t),i(e[r],o)>0&&ll(e,n,r);c<u;){for(ll(e,c,u),++c,--u;i(e[c],o)<0;)++c;for(;i(e[u],o)>0;)--u}i(e[n],o)===0?ll(e,n,u):(++u,ll(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function ll(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function nz(e,t,n){if(e=Float64Array.from(K8(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Zk(e);if(t>=1)return Qk(e);var r,i=(r-1)*t,o=Math.floor(i),c=Qk(VD(e,o).subarray(0,o+1)),u=Zk(e.subarray(o+1));return c+(u-c)*(i-o)}}function rz(e,t,n=WD){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),c=+n(e[o],o,e),u=+n(e[o+1],o+1,e);return c+(u-c)*(i-o)}}function az(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function rr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ga(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Av=Symbol("implicit");function db(){var e=new Yk,t=[],n=[],r=Av;function i(o){let c=e.get(o);if(c===void 0){if(r!==Av)return r;e.set(o,c=t.push(o)-1)}return n[c%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Yk;for(const c of o)e.has(c)||e.set(c,t.push(c)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return db(t,n).unknown(r)},rr.apply(i,arguments),i}function Yl(){var e=db().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,c,u=!1,d=0,f=0,h=.5;delete e.unknown;function m(){var x=t().length,v=i<r,j=v?i:r,b=v?r:i;o=(b-j)/Math.max(1,x-d+f*2),u&&(o=Math.floor(o)),j+=(b-j-o*(x-d))*h,c=o*(1-d),u&&(j=Math.round(j),c=Math.round(c));var w=az(x).map(function(y){return j+o*y});return n(v?w.reverse():w)}return e.domain=function(x){return arguments.length?(t(x),m()):t()},e.range=function(x){return arguments.length?([r,i]=x,r=+r,i=+i,m()):[r,i]},e.rangeRound=function(x){return[r,i]=x,r=+r,i=+i,u=!0,m()},e.bandwidth=function(){return c},e.step=function(){return o},e.round=function(x){return arguments.length?(u=!!x,m()):u},e.padding=function(x){return arguments.length?(d=Math.min(1,f=+x),m()):d},e.paddingInner=function(x){return arguments.length?(d=Math.min(1,x),m()):d},e.paddingOuter=function(x){return arguments.length?(f=+x,m()):f},e.align=function(x){return arguments.length?(h=Math.max(0,Math.min(1,x)),m()):h},e.copy=function(){return Yl(t(),[r,i]).round(u).paddingInner(d).paddingOuter(f).align(h)},rr.apply(m(),arguments)}function KD(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return KD(t())},e}function Cl(){return KD(Yl.apply(null,arguments).paddingInner(1))}function fb(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function GD(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Tc(){}var Xl=.7,Md=1/Xl,Rs="\\s*([+-]?\\d+)\\s*",Ql="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Tr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iz=/^#([0-9a-f]{3,8})$/,sz=new RegExp(`^rgb\\(${Rs},${Rs},${Rs}\\)$`),oz=new RegExp(`^rgb\\(${Tr},${Tr},${Tr}\\)$`),lz=new RegExp(`^rgba\\(${Rs},${Rs},${Rs},${Ql}\\)$`),cz=new RegExp(`^rgba\\(${Tr},${Tr},${Tr},${Ql}\\)$`),uz=new RegExp(`^hsl\\(${Ql},${Tr},${Tr}\\)$`),dz=new RegExp(`^hsla\\(${Ql},${Tr},${Tr},${Ql}\\)$`),Jk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fb(Tc,Zl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:eC,formatHex:eC,formatHex8:fz,formatHsl:pz,formatRgb:tC,toString:tC});function eC(){return this.rgb().formatHex()}function fz(){return this.rgb().formatHex8()}function pz(){return YD(this).formatHsl()}function tC(){return this.rgb().formatRgb()}function Zl(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=iz.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?nC(t):n===3?new Nn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?td(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?td(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=sz.exec(e))?new Nn(t[1],t[2],t[3],1):(t=oz.exec(e))?new Nn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=lz.exec(e))?td(t[1],t[2],t[3],t[4]):(t=cz.exec(e))?td(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=uz.exec(e))?iC(t[1],t[2]/100,t[3]/100,1):(t=dz.exec(e))?iC(t[1],t[2]/100,t[3]/100,t[4]):Jk.hasOwnProperty(e)?nC(Jk[e]):e==="transparent"?new Nn(NaN,NaN,NaN,0):null}function nC(e){return new Nn(e>>16&255,e>>8&255,e&255,1)}function td(e,t,n,r){return r<=0&&(e=t=n=NaN),new Nn(e,t,n,r)}function hz(e){return e instanceof Tc||(e=Zl(e)),e?(e=e.rgb(),new Nn(e.r,e.g,e.b,e.opacity)):new Nn}function Pv(e,t,n,r){return arguments.length===1?hz(e):new Nn(e,t,n,r??1)}function Nn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}fb(Nn,Pv,GD(Tc,{brighter(e){return e=e==null?Md:Math.pow(Md,e),new Nn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Xl:Math.pow(Xl,e),new Nn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Nn(Oi(this.r),Oi(this.g),Oi(this.b),Rd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rC,formatHex:rC,formatHex8:mz,formatRgb:aC,toString:aC}));function rC(){return`#${ki(this.r)}${ki(this.g)}${ki(this.b)}`}function mz(){return`#${ki(this.r)}${ki(this.g)}${ki(this.b)}${ki((isNaN(this.opacity)?1:this.opacity)*255)}`}function aC(){const e=Rd(this.opacity);return`${e===1?"rgb(":"rgba("}${Oi(this.r)}, ${Oi(this.g)}, ${Oi(this.b)}${e===1?")":`, ${e})`}`}function Rd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Oi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ki(e){return e=Oi(e),(e<16?"0":"")+e.toString(16)}function iC(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new xr(e,t,n,r)}function YD(e){if(e instanceof xr)return new xr(e.h,e.s,e.l,e.opacity);if(e instanceof Tc||(e=Zl(e)),!e)return new xr;if(e instanceof xr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),c=NaN,u=o-i,d=(o+i)/2;return u?(t===o?c=(n-r)/u+(n<r)*6:n===o?c=(r-t)/u+2:c=(t-n)/u+4,u/=d<.5?o+i:2-o-i,c*=60):u=d>0&&d<1?0:c,new xr(c,u,d,e.opacity)}function xz(e,t,n,r){return arguments.length===1?YD(e):new xr(e,t,n,r??1)}function xr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}fb(xr,xz,GD(Tc,{brighter(e){return e=e==null?Md:Math.pow(Md,e),new xr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Xl:Math.pow(Xl,e),new xr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Nn(Jx(e>=240?e-240:e+120,i,r),Jx(e,i,r),Jx(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new xr(sC(this.h),nd(this.s),nd(this.l),Rd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Rd(this.opacity);return`${e===1?"hsl(":"hsla("}${sC(this.h)}, ${nd(this.s)*100}%, ${nd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function sC(e){return e=(e||0)%360,e<0?e+360:e}function nd(e){return Math.max(0,Math.min(1,e||0))}function Jx(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const pb=e=>()=>e;function gz(e,t){return function(n){return e+n*t}}function vz(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function yz(e){return(e=+e)==1?XD:function(t,n){return n-t?vz(t,n,e):pb(isNaN(t)?n:t)}}function XD(e,t){var n=t-e;return n?gz(e,n):pb(isNaN(e)?t:e)}const oC=(function e(t){var n=yz(t);function r(i,o){var c=n((i=Pv(i)).r,(o=Pv(o)).r),u=n(i.g,o.g),d=n(i.b,o.b),f=XD(i.opacity,o.opacity);return function(h){return i.r=c(h),i.g=u(h),i.b=d(h),i.opacity=f(h),i+""}}return r.gamma=e,r})(1);function bz(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function wz(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function jz(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),c;for(c=0;c<r;++c)i[c]=mo(e[c],t[c]);for(;c<n;++c)o[c]=t[c];return function(u){for(c=0;c<r;++c)o[c]=i[c](u);return o}}function Nz(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function $d(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Sz(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=mo(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Ev=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,eg=new RegExp(Ev.source,"g");function kz(e){return function(){return e}}function Cz(e){return function(t){return e(t)+""}}function Az(e,t){var n=Ev.lastIndex=eg.lastIndex=0,r,i,o,c=-1,u=[],d=[];for(e=e+"",t=t+"";(r=Ev.exec(e))&&(i=eg.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),u[c]?u[c]+=o:u[++c]=o),(r=r[0])===(i=i[0])?u[c]?u[c]+=i:u[++c]=i:(u[++c]=null,d.push({i:c,x:$d(r,i)})),n=eg.lastIndex;return n<t.length&&(o=t.slice(n),u[c]?u[c]+=o:u[++c]=o),u.length<2?d[0]?Cz(d[0].x):kz(t):(t=d.length,function(f){for(var h=0,m;h<t;++h)u[(m=d[h]).i]=m.x(f);return u.join("")})}function mo(e,t){var n=typeof t,r;return t==null||n==="boolean"?pb(t):(n==="number"?$d:n==="string"?(r=Zl(t))?(t=r,oC):Az:t instanceof Zl?oC:t instanceof Date?Nz:wz(t)?bz:Array.isArray(t)?jz:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Sz:$d)(e,t)}function hb(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Pz(e,t){t===void 0&&(t=e,e=mo);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(c){var u=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return o[u](c-u)}}function Ez(e){return function(){return e}}function zd(e){return+e}var lC=[0,1];function fn(e){return e}function Dv(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Ez(isNaN(t)?NaN:.5)}function Dz(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Oz(e,t,n){var r=e[0],i=e[1],o=t[0],c=t[1];return i<r?(r=Dv(i,r),o=n(c,o)):(r=Dv(r,i),o=n(o,c)),function(u){return o(r(u))}}function Iz(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),c=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<r;)i[c]=Dv(e[c],e[c+1]),o[c]=n(t[c],t[c+1]);return function(u){var d=Ic(e,u,1,r)-1;return o[d](i[d](u))}}function _c(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function $f(){var e=lC,t=lC,n=mo,r,i,o,c=fn,u,d,f;function h(){var x=Math.min(e.length,t.length);return c!==fn&&(c=Dz(e[0],e[x-1])),u=x>2?Iz:Oz,d=f=null,m}function m(x){return x==null||isNaN(x=+x)?o:(d||(d=u(e.map(r),t,n)))(r(c(x)))}return m.invert=function(x){return c(i((f||(f=u(t,e.map(r),$d)))(x)))},m.domain=function(x){return arguments.length?(e=Array.from(x,zd),h()):e.slice()},m.range=function(x){return arguments.length?(t=Array.from(x),h()):t.slice()},m.rangeRound=function(x){return t=Array.from(x),n=hb,h()},m.clamp=function(x){return arguments.length?(c=x?!0:fn,h()):c!==fn},m.interpolate=function(x){return arguments.length?(n=x,h()):n},m.unknown=function(x){return arguments.length?(o=x,m):o},function(x,v){return r=x,i=v,h()}}function mb(){return $f()(fn,fn)}function Tz(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ld(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Hs(e){return e=Ld(Math.abs(e)),e?e[1]:NaN}function _z(e,t){return function(n,r){for(var i=n.length,o=[],c=0,u=e[0],d=0;i>0&&u>0&&(d+u+1>r&&(u=Math.max(1,r-d)),o.push(n.substring(i-=u,i+u)),!((d+=u+1)>r));)u=e[c=(c+1)%e.length];return o.reverse().join(t)}}function Mz(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Rz=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Jl(e){if(!(t=Rz.exec(e)))throw new Error("invalid format: "+e);var t;return new xb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Jl.prototype=xb.prototype;function xb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}xb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function $z(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Bd;function zz(e,t){var n=Ld(e,t);if(!n)return Bd=void 0,e.toPrecision(t);var r=n[0],i=n[1],o=i-(Bd=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,c=r.length;return o===c?r:o>c?r+new Array(o-c+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ld(e,Math.max(0,t+o-1))[0]}function cC(e,t){var n=Ld(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const uC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Tz,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>cC(e*100,t),r:cC,s:zz,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function dC(e){return e}var fC=Array.prototype.map,pC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Lz(e){var t=e.grouping===void 0||e.thousands===void 0?dC:_z(fC.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?dC:Mz(fC.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(m,x){m=Jl(m);var v=m.fill,j=m.align,b=m.sign,w=m.symbol,y=m.zero,k=m.width,P=m.comma,C=m.precision,S=m.trim,E=m.type;E==="n"?(P=!0,E="g"):uC[E]||(C===void 0&&(C=12),S=!0,E="g"),(y||v==="0"&&j==="=")&&(y=!0,v="0",j="=");var D=(x&&x.prefix!==void 0?x.prefix:"")+(w==="$"?n:w==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():""),T=(w==="$"?r:/[%p]/.test(E)?c:"")+(x&&x.suffix!==void 0?x.suffix:""),M=uC[E],z=/[defgprs%]/.test(E);C=C===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function R($){var B=D,L=T,F,Y,W;if(E==="c")L=M($)+L,$="";else{$=+$;var V=$<0||1/$<0;if($=isNaN($)?d:M(Math.abs($),C),S&&($=$z($)),V&&+$==0&&b!=="+"&&(V=!1),B=(V?b==="("?b:u:b==="-"||b==="("?"":b)+B,L=(E==="s"&&!isNaN($)&&Bd!==void 0?pC[8+Bd/3]:"")+L+(V&&b==="("?")":""),z){for(F=-1,Y=$.length;++F<Y;)if(W=$.charCodeAt(F),48>W||W>57){L=(W===46?i+$.slice(F+1):$.slice(F))+L,$=$.slice(0,F);break}}}P&&!y&&($=t($,1/0));var ee=B.length+$.length+L.length,_=ee<k?new Array(k-ee+1).join(v):"";switch(P&&y&&($=t(_+$,_.length?k-L.length:1/0),_=""),j){case"<":$=B+$+L+_;break;case"=":$=B+_+$+L;break;case"^":$=_.slice(0,ee=_.length>>1)+B+$+L+_.slice(ee);break;default:$=_+B+$+L;break}return o($)}return R.toString=function(){return m+""},R}function h(m,x){var v=Math.max(-8,Math.min(8,Math.floor(Hs(x)/3)))*3,j=Math.pow(10,-v),b=f((m=Jl(m),m.type="f",m),{suffix:pC[8+v/3]});return function(w){return b(j*w)}}return{format:f,formatPrefix:h}}var rd,gb,QD;Bz({thousands:",",grouping:[3],currency:["$",""]});function Bz(e){return rd=Lz(e),gb=rd.format,QD=rd.formatPrefix,rd}function Fz(e){return Math.max(0,-Hs(Math.abs(e)))}function Uz(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Hs(t)/3)))*3-Hs(Math.abs(e)))}function qz(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Hs(t)-Hs(e))+1}function ZD(e,t,n,r){var i=Cv(e,t,n),o;switch(r=Jl(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=Uz(i,c))&&(r.precision=o),QD(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=qz(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Fz(i))&&(r.precision=o-(r.type==="%")*2);break}}return gb(r)}function ti(e){var t=e.domain;return e.ticks=function(n){var r=t();return Sv(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return ZD(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,c=r[i],u=r[o],d,f,h=10;for(u<c&&(f=c,c=u,u=f,f=i,i=o,o=f);h-- >0;){if(f=kv(c,u,n),f===d)return r[i]=c,r[o]=u,t(r);if(f>0)c=Math.floor(c/f)*f,u=Math.ceil(u/f)*f;else if(f<0)c=Math.ceil(c*f)/f,u=Math.floor(u*f)/f;else break;d=f}return e},e}function Fd(){var e=mb();return e.copy=function(){return _c(e,Fd())},rr.apply(e,arguments),ti(e)}function JD(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,zd),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return JD(e).unknown(t)},e=arguments.length?Array.from(e,zd):[0,1],ti(n)}function eO(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],c;return o<i&&(c=n,n=r,r=c,c=i,i=o,o=c),e[n]=t.floor(i),e[r]=t.ceil(o),e}function hC(e){return Math.log(e)}function mC(e){return Math.exp(e)}function Wz(e){return-Math.log(-e)}function Hz(e){return-Math.exp(-e)}function Vz(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Kz(e){return e===10?Vz:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Gz(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function xC(e){return(t,n)=>-e(-t,n)}function vb(e){const t=e(hC,mC),n=t.domain;let r=10,i,o;function c(){return i=Gz(r),o=Kz(r),n()[0]<0?(i=xC(i),o=xC(o),e(Wz,Hz)):e(hC,mC),t}return t.base=function(u){return arguments.length?(r=+u,c()):r},t.domain=function(u){return arguments.length?(n(u),c()):n()},t.ticks=u=>{const d=n();let f=d[0],h=d[d.length-1];const m=h<f;m&&([f,h]=[h,f]);let x=i(f),v=i(h),j,b;const w=u==null?10:+u;let y=[];if(!(r%1)&&v-x<w){if(x=Math.floor(x),v=Math.ceil(v),f>0){for(;x<=v;++x)for(j=1;j<r;++j)if(b=x<0?j/o(-x):j*o(x),!(b<f)){if(b>h)break;y.push(b)}}else for(;x<=v;++x)for(j=r-1;j>=1;--j)if(b=x>0?j/o(-x):j*o(x),!(b<f)){if(b>h)break;y.push(b)}y.length*2<w&&(y=Sv(f,h,w))}else y=Sv(x,v,Math.min(v-x,w)).map(o);return m?y.reverse():y},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=Jl(d)).precision==null&&(d.trim=!0),d=gb(d)),u===1/0)return d;const f=Math.max(1,r*u/t.ticks().length);return h=>{let m=h/o(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=f?d(h):""}},t.nice=()=>n(eO(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),t}function tO(){const e=vb($f()).domain([1,10]);return e.copy=()=>_c(e,tO()).base(e.base()),rr.apply(e,arguments),e}function gC(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function vC(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function yb(e){var t=1,n=e(gC(t),vC(t));return n.constant=function(r){return arguments.length?e(gC(t=+r),vC(t)):t},ti(n)}function nO(){var e=yb($f());return e.copy=function(){return _c(e,nO()).constant(e.constant())},rr.apply(e,arguments)}function yC(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Yz(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Xz(e){return e<0?-e*e:e*e}function bb(e){var t=e(fn,fn),n=1;function r(){return n===1?e(fn,fn):n===.5?e(Yz,Xz):e(yC(n),yC(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},ti(t)}function wb(){var e=bb($f());return e.copy=function(){return _c(e,wb()).exponent(e.exponent())},rr.apply(e,arguments),e}function Qz(){return wb.apply(null,arguments).exponent(.5)}function bC(e){return Math.sign(e)*e*e}function Zz(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function rO(){var e=mb(),t=[0,1],n=!1,r;function i(o){var c=Zz(e(o));return isNaN(c)?r:n?Math.round(c):c}return i.invert=function(o){return e.invert(bC(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,zd)).map(bC)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return rO(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},rr.apply(i,arguments),ti(i)}function aO(){var e=[],t=[],n=[],r;function i(){var c=0,u=Math.max(1,t.length);for(n=new Array(u-1);++c<u;)n[c-1]=rz(e,c/u);return o}function o(c){return c==null||isNaN(c=+c)?r:t[Ic(n,c)]}return o.invertExtent=function(c){var u=t.indexOf(c);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},o.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let u of c)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Ya),i()},o.range=function(c){return arguments.length?(t=Array.from(c),i()):t.slice()},o.unknown=function(c){return arguments.length?(r=c,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return aO().domain(e).range(t).unknown(r)},rr.apply(o,arguments)}function iO(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function c(d){return d!=null&&d<=d?i[Ic(r,d,0,n)]:o}function u(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*t-(d-n)*e)/(n+1);return c}return c.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},c.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,u()):i.slice()},c.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},c.unknown=function(d){return arguments.length&&(o=d),c},c.thresholds=function(){return r.slice()},c.copy=function(){return iO().domain([e,t]).range(i).unknown(o)},rr.apply(ti(c),arguments)}function sO(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[Ic(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var c=t.indexOf(o);return[e[c-1],e[c]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return sO().domain(e).range(t).unknown(n)},rr.apply(i,arguments)}const tg=new Date,ng=new Date;function zt(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const c=i(o),u=i.ceil(o);return o-c<u-o?c:u},i.offset=(o,c)=>(t(o=new Date(+o),c==null?1:Math.floor(c)),o),i.range=(o,c,u)=>{const d=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<c)||!(u>0))return d;let f;do d.push(f=new Date(+o)),t(o,u),e(o);while(f<o&&o<c);return d},i.filter=o=>zt(c=>{if(c>=c)for(;e(c),!o(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;t(c,-1),!o(c););else for(;--u>=0;)for(;t(c,1),!o(c););}),n&&(i.count=(o,c)=>(tg.setTime(+o),ng.setTime(+c),e(tg),e(ng),Math.floor(n(tg,ng))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?c=>r(c)%o===0:c=>i.count(0,c)%o===0):i)),i}const Ud=zt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ud.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?zt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Ud);Ud.range;const ea=1e3,Jn=ea*60,ta=Jn*60,ca=ta*24,jb=ca*7,wC=ca*30,rg=ca*365,Ci=zt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ea)},(e,t)=>(t-e)/ea,e=>e.getUTCSeconds());Ci.range;const Nb=zt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ea)},(e,t)=>{e.setTime(+e+t*Jn)},(e,t)=>(t-e)/Jn,e=>e.getMinutes());Nb.range;const Sb=zt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Jn)},(e,t)=>(t-e)/Jn,e=>e.getUTCMinutes());Sb.range;const kb=zt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ea-e.getMinutes()*Jn)},(e,t)=>{e.setTime(+e+t*ta)},(e,t)=>(t-e)/ta,e=>e.getHours());kb.range;const Cb=zt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ta)},(e,t)=>(t-e)/ta,e=>e.getUTCHours());Cb.range;const Mc=zt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Jn)/ca,e=>e.getDate()-1);Mc.range;const zf=zt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ca,e=>e.getUTCDate()-1);zf.range;const oO=zt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ca,e=>Math.floor(e/ca));oO.range;function Gi(e){return zt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Jn)/jb)}const Lf=Gi(0),qd=Gi(1),Jz=Gi(2),eL=Gi(3),Vs=Gi(4),tL=Gi(5),nL=Gi(6);Lf.range;qd.range;Jz.range;eL.range;Vs.range;tL.range;nL.range;function Yi(e){return zt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/jb)}const Bf=Yi(0),Wd=Yi(1),rL=Yi(2),aL=Yi(3),Ks=Yi(4),iL=Yi(5),sL=Yi(6);Bf.range;Wd.range;rL.range;aL.range;Ks.range;iL.range;sL.range;const Ab=zt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Ab.range;const Pb=zt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Pb.range;const ua=zt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ua.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:zt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ua.range;const da=zt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());da.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:zt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});da.range;function lO(e,t,n,r,i,o){const c=[[Ci,1,ea],[Ci,5,5*ea],[Ci,15,15*ea],[Ci,30,30*ea],[o,1,Jn],[o,5,5*Jn],[o,15,15*Jn],[o,30,30*Jn],[i,1,ta],[i,3,3*ta],[i,6,6*ta],[i,12,12*ta],[r,1,ca],[r,2,2*ca],[n,1,jb],[t,1,wC],[t,3,3*wC],[e,1,rg]];function u(f,h,m){const x=h<f;x&&([f,h]=[h,f]);const v=m&&typeof m.range=="function"?m:d(f,h,m),j=v?v.range(f,+h+1):[];return x?j.reverse():j}function d(f,h,m){const x=Math.abs(h-f)/m,v=ub(([,,w])=>w).right(c,x);if(v===c.length)return e.every(Cv(f/rg,h/rg,m));if(v===0)return Ud.every(Math.max(Cv(f,h,m),1));const[j,b]=c[x/c[v-1][2]<c[v][2]/x?v-1:v];return j.every(b)}return[u,d]}const[oL,lL]=lO(da,Pb,Bf,oO,Cb,Sb),[cL,uL]=lO(ua,Ab,Lf,Mc,kb,Nb);function ag(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ig(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function cl(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function dL(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,c=e.shortDays,u=e.months,d=e.shortMonths,f=ul(i),h=dl(i),m=ul(o),x=dl(o),v=ul(c),j=dl(c),b=ul(u),w=dl(u),y=ul(d),k=dl(d),P={a:W,A:V,b:ee,B:_,c:null,d:AC,e:AC,f:_L,g:WL,G:VL,H:OL,I:IL,j:TL,L:cO,m:ML,M:RL,p:q,q:X,Q:DC,s:OC,S:$L,u:zL,U:LL,V:BL,w:FL,W:UL,x:null,X:null,y:qL,Y:HL,Z:KL,"%":EC},C={a:J,A:le,b:ge,B:xe,c:null,d:PC,e:PC,f:QL,g:o9,G:c9,H:GL,I:YL,j:XL,L:dO,m:ZL,M:JL,p:Ie,q:Pe,Q:DC,s:OC,S:e9,u:t9,U:n9,V:r9,w:a9,W:i9,x:null,X:null,y:s9,Y:l9,Z:u9,"%":EC},S={a:z,A:R,b:$,B,c:L,d:kC,e:kC,f:AL,g:SC,G:NC,H:CC,I:CC,j:NL,L:CL,m:jL,M:SL,p:M,q:wL,Q:EL,s:DL,S:kL,u:xL,U:gL,V:vL,w:mL,W:yL,x:F,X:Y,y:SC,Y:NC,Z:bL,"%":PL};P.x=E(n,P),P.X=E(r,P),P.c=E(t,P),C.x=E(n,C),C.X=E(r,C),C.c=E(t,C);function E(ie,Ce){return function(Se){var se=[],He=-1,$e=0,Ze=ie.length,de,_e,Ne;for(Se instanceof Date||(Se=new Date(+Se));++He<Ze;)ie.charCodeAt(He)===37&&(se.push(ie.slice($e,He)),(_e=jC[de=ie.charAt(++He)])!=null?de=ie.charAt(++He):_e=de==="e"?" ":"0",(Ne=Ce[de])&&(de=Ne(Se,_e)),se.push(de),$e=He+1);return se.push(ie.slice($e,He)),se.join("")}}function D(ie,Ce){return function(Se){var se=cl(1900,void 0,1),He=T(se,ie,Se+="",0),$e,Ze;if(He!=Se.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(Ce&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?($e=ig(cl(se.y,0,1)),Ze=$e.getUTCDay(),$e=Ze>4||Ze===0?Wd.ceil($e):Wd($e),$e=zf.offset($e,(se.V-1)*7),se.y=$e.getUTCFullYear(),se.m=$e.getUTCMonth(),se.d=$e.getUTCDate()+(se.w+6)%7):($e=ag(cl(se.y,0,1)),Ze=$e.getDay(),$e=Ze>4||Ze===0?qd.ceil($e):qd($e),$e=Mc.offset($e,(se.V-1)*7),se.y=$e.getFullYear(),se.m=$e.getMonth(),se.d=$e.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),Ze="Z"in se?ig(cl(se.y,0,1)).getUTCDay():ag(cl(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(Ze+5)%7:se.w+se.U*7-(Ze+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,ig(se)):ag(se)}}function T(ie,Ce,Se,se){for(var He=0,$e=Ce.length,Ze=Se.length,de,_e;He<$e;){if(se>=Ze)return-1;if(de=Ce.charCodeAt(He++),de===37){if(de=Ce.charAt(He++),_e=S[de in jC?Ce.charAt(He++):de],!_e||(se=_e(ie,Se,se))<0)return-1}else if(de!=Se.charCodeAt(se++))return-1}return se}function M(ie,Ce,Se){var se=f.exec(Ce.slice(Se));return se?(ie.p=h.get(se[0].toLowerCase()),Se+se[0].length):-1}function z(ie,Ce,Se){var se=v.exec(Ce.slice(Se));return se?(ie.w=j.get(se[0].toLowerCase()),Se+se[0].length):-1}function R(ie,Ce,Se){var se=m.exec(Ce.slice(Se));return se?(ie.w=x.get(se[0].toLowerCase()),Se+se[0].length):-1}function $(ie,Ce,Se){var se=y.exec(Ce.slice(Se));return se?(ie.m=k.get(se[0].toLowerCase()),Se+se[0].length):-1}function B(ie,Ce,Se){var se=b.exec(Ce.slice(Se));return se?(ie.m=w.get(se[0].toLowerCase()),Se+se[0].length):-1}function L(ie,Ce,Se){return T(ie,t,Ce,Se)}function F(ie,Ce,Se){return T(ie,n,Ce,Se)}function Y(ie,Ce,Se){return T(ie,r,Ce,Se)}function W(ie){return c[ie.getDay()]}function V(ie){return o[ie.getDay()]}function ee(ie){return d[ie.getMonth()]}function _(ie){return u[ie.getMonth()]}function q(ie){return i[+(ie.getHours()>=12)]}function X(ie){return 1+~~(ie.getMonth()/3)}function J(ie){return c[ie.getUTCDay()]}function le(ie){return o[ie.getUTCDay()]}function ge(ie){return d[ie.getUTCMonth()]}function xe(ie){return u[ie.getUTCMonth()]}function Ie(ie){return i[+(ie.getUTCHours()>=12)]}function Pe(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var Ce=E(ie+="",P);return Ce.toString=function(){return ie},Ce},parse:function(ie){var Ce=D(ie+="",!1);return Ce.toString=function(){return ie},Ce},utcFormat:function(ie){var Ce=E(ie+="",C);return Ce.toString=function(){return ie},Ce},utcParse:function(ie){var Ce=D(ie+="",!0);return Ce.toString=function(){return ie},Ce}}}var jC={"-":"",_:" ",0:"0"},Ht=/^\s*\d+/,fL=/^%/,pL=/[\\^$*+?|[\]().{}]/g;function Xe(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function hL(e){return e.replace(pL,"\\$&")}function ul(e){return new RegExp("^(?:"+e.map(hL).join("|")+")","i")}function dl(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function mL(e,t,n){var r=Ht.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function xL(e,t,n){var r=Ht.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function gL(e,t,n){var r=Ht.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function vL(e,t,n){var r=Ht.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function yL(e,t,n){var r=Ht.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function NC(e,t,n){var r=Ht.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function SC(e,t,n){var r=Ht.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function bL(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function wL(e,t,n){var r=Ht.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function jL(e,t,n){var r=Ht.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function kC(e,t,n){var r=Ht.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function NL(e,t,n){var r=Ht.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function CC(e,t,n){var r=Ht.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function SL(e,t,n){var r=Ht.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function kL(e,t,n){var r=Ht.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function CL(e,t,n){var r=Ht.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function AL(e,t,n){var r=Ht.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function PL(e,t,n){var r=fL.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function EL(e,t,n){var r=Ht.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function DL(e,t,n){var r=Ht.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function AC(e,t){return Xe(e.getDate(),t,2)}function OL(e,t){return Xe(e.getHours(),t,2)}function IL(e,t){return Xe(e.getHours()%12||12,t,2)}function TL(e,t){return Xe(1+Mc.count(ua(e),e),t,3)}function cO(e,t){return Xe(e.getMilliseconds(),t,3)}function _L(e,t){return cO(e,t)+"000"}function ML(e,t){return Xe(e.getMonth()+1,t,2)}function RL(e,t){return Xe(e.getMinutes(),t,2)}function $L(e,t){return Xe(e.getSeconds(),t,2)}function zL(e){var t=e.getDay();return t===0?7:t}function LL(e,t){return Xe(Lf.count(ua(e)-1,e),t,2)}function uO(e){var t=e.getDay();return t>=4||t===0?Vs(e):Vs.ceil(e)}function BL(e,t){return e=uO(e),Xe(Vs.count(ua(e),e)+(ua(e).getDay()===4),t,2)}function FL(e){return e.getDay()}function UL(e,t){return Xe(qd.count(ua(e)-1,e),t,2)}function qL(e,t){return Xe(e.getFullYear()%100,t,2)}function WL(e,t){return e=uO(e),Xe(e.getFullYear()%100,t,2)}function HL(e,t){return Xe(e.getFullYear()%1e4,t,4)}function VL(e,t){var n=e.getDay();return e=n>=4||n===0?Vs(e):Vs.ceil(e),Xe(e.getFullYear()%1e4,t,4)}function KL(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Xe(t/60|0,"0",2)+Xe(t%60,"0",2)}function PC(e,t){return Xe(e.getUTCDate(),t,2)}function GL(e,t){return Xe(e.getUTCHours(),t,2)}function YL(e,t){return Xe(e.getUTCHours()%12||12,t,2)}function XL(e,t){return Xe(1+zf.count(da(e),e),t,3)}function dO(e,t){return Xe(e.getUTCMilliseconds(),t,3)}function QL(e,t){return dO(e,t)+"000"}function ZL(e,t){return Xe(e.getUTCMonth()+1,t,2)}function JL(e,t){return Xe(e.getUTCMinutes(),t,2)}function e9(e,t){return Xe(e.getUTCSeconds(),t,2)}function t9(e){var t=e.getUTCDay();return t===0?7:t}function n9(e,t){return Xe(Bf.count(da(e)-1,e),t,2)}function fO(e){var t=e.getUTCDay();return t>=4||t===0?Ks(e):Ks.ceil(e)}function r9(e,t){return e=fO(e),Xe(Ks.count(da(e),e)+(da(e).getUTCDay()===4),t,2)}function a9(e){return e.getUTCDay()}function i9(e,t){return Xe(Wd.count(da(e)-1,e),t,2)}function s9(e,t){return Xe(e.getUTCFullYear()%100,t,2)}function o9(e,t){return e=fO(e),Xe(e.getUTCFullYear()%100,t,2)}function l9(e,t){return Xe(e.getUTCFullYear()%1e4,t,4)}function c9(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Ks(e):Ks.ceil(e),Xe(e.getUTCFullYear()%1e4,t,4)}function u9(){return"+0000"}function EC(){return"%"}function DC(e){return+e}function OC(e){return Math.floor(+e/1e3)}var Cs,pO,hO;d9({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function d9(e){return Cs=dL(e),pO=Cs.format,Cs.parse,hO=Cs.utcFormat,Cs.utcParse,Cs}function f9(e){return new Date(e)}function p9(e){return e instanceof Date?+e:+new Date(+e)}function Eb(e,t,n,r,i,o,c,u,d,f){var h=mb(),m=h.invert,x=h.domain,v=f(".%L"),j=f(":%S"),b=f("%I:%M"),w=f("%I %p"),y=f("%a %d"),k=f("%b %d"),P=f("%B"),C=f("%Y");function S(E){return(d(E)<E?v:u(E)<E?j:c(E)<E?b:o(E)<E?w:r(E)<E?i(E)<E?y:k:n(E)<E?P:C)(E)}return h.invert=function(E){return new Date(m(E))},h.domain=function(E){return arguments.length?x(Array.from(E,p9)):x().map(f9)},h.ticks=function(E){var D=x();return e(D[0],D[D.length-1],E??10)},h.tickFormat=function(E,D){return D==null?S:f(D)},h.nice=function(E){var D=x();return(!E||typeof E.range!="function")&&(E=t(D[0],D[D.length-1],E??10)),E?x(eO(D,E)):h},h.copy=function(){return _c(h,Eb(e,t,n,r,i,o,c,u,d,f))},h}function h9(){return rr.apply(Eb(cL,uL,ua,Ab,Lf,Mc,kb,Nb,Ci,pO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function m9(){return rr.apply(Eb(oL,lL,da,Pb,Bf,zf,Cb,Sb,Ci,hO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ff(){var e=0,t=1,n,r,i,o,c=fn,u=!1,d;function f(m){return m==null||isNaN(m=+m)?d:c(i===0?.5:(m=(o(m)-n)*i,u?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([e,t]=m,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(m){return arguments.length?(u=!!m,f):u},f.interpolator=function(m){return arguments.length?(c=m,f):c};function h(m){return function(x){var v,j;return arguments.length?([v,j]=x,c=m(v,j),f):[c(0),c(1)]}}return f.range=h(mo),f.rangeRound=h(hb),f.unknown=function(m){return arguments.length?(d=m,f):d},function(m){return o=m,n=m(e),r=m(t),i=n===r?0:1/(r-n),f}}function ni(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function mO(){var e=ti(Ff()(fn));return e.copy=function(){return ni(e,mO())},ga.apply(e,arguments)}function xO(){var e=vb(Ff()).domain([1,10]);return e.copy=function(){return ni(e,xO()).base(e.base())},ga.apply(e,arguments)}function gO(){var e=yb(Ff());return e.copy=function(){return ni(e,gO()).constant(e.constant())},ga.apply(e,arguments)}function Db(){var e=bb(Ff());return e.copy=function(){return ni(e,Db()).exponent(e.exponent())},ga.apply(e,arguments)}function x9(){return Db.apply(null,arguments).exponent(.5)}function vO(){var e=[],t=fn;function n(r){if(r!=null&&!isNaN(r=+r))return t((Ic(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ya),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>nz(e,o/r))},n.copy=function(){return vO(t).domain(e)},ga.apply(n,arguments)}function Uf(){var e=0,t=.5,n=1,r=1,i,o,c,u,d,f=fn,h,m=!1,x;function v(b){return isNaN(b=+b)?x:(b=.5+((b=+h(b))-o)*(r*b<r*o?u:d),f(m?Math.max(0,Math.min(1,b)):b))}v.domain=function(b){return arguments.length?([e,t,n]=b,i=h(e=+e),o=h(t=+t),c=h(n=+n),u=i===o?0:.5/(o-i),d=o===c?0:.5/(c-o),r=o<i?-1:1,v):[e,t,n]},v.clamp=function(b){return arguments.length?(m=!!b,v):m},v.interpolator=function(b){return arguments.length?(f=b,v):f};function j(b){return function(w){var y,k,P;return arguments.length?([y,k,P]=w,f=Pz(b,[y,k,P]),v):[f(0),f(.5),f(1)]}}return v.range=j(mo),v.rangeRound=j(hb),v.unknown=function(b){return arguments.length?(x=b,v):x},function(b){return h=b,i=b(e),o=b(t),c=b(n),u=i===o?0:.5/(o-i),d=o===c?0:.5/(c-o),r=o<i?-1:1,v}}function yO(){var e=ti(Uf()(fn));return e.copy=function(){return ni(e,yO())},ga.apply(e,arguments)}function bO(){var e=vb(Uf()).domain([.1,1,10]);return e.copy=function(){return ni(e,bO()).base(e.base())},ga.apply(e,arguments)}function wO(){var e=yb(Uf());return e.copy=function(){return ni(e,wO()).constant(e.constant())},ga.apply(e,arguments)}function Ob(){var e=bb(Uf());return e.copy=function(){return ni(e,Ob()).exponent(e.exponent())},ga.apply(e,arguments)}function g9(){return Ob.apply(null,arguments).exponent(.5)}const IC=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Yl,scaleDiverging:yO,scaleDivergingLog:bO,scaleDivergingPow:Ob,scaleDivergingSqrt:g9,scaleDivergingSymlog:wO,scaleIdentity:JD,scaleImplicit:Av,scaleLinear:Fd,scaleLog:tO,scaleOrdinal:db,scalePoint:Cl,scalePow:wb,scaleQuantile:aO,scaleQuantize:iO,scaleRadial:rO,scaleSequential:mO,scaleSequentialLog:xO,scaleSequentialPow:Db,scaleSequentialQuantile:vO,scaleSequentialSqrt:x9,scaleSequentialSymlog:gO,scaleSqrt:Qz,scaleSymlog:nO,scaleThreshold:sO,scaleTime:h9,scaleUtc:m9,tickFormat:ZD},Symbol.toStringTag,{value:"Module"}));var sg,TC;function jO(){if(TC)return sg;TC=1;var e=uo();function t(n,r,i){for(var o=-1,c=n.length;++o<c;){var u=n[o],d=r(u);if(d!=null&&(f===void 0?d===d&&!e(d):i(d,f)))var f=d,h=u}return h}return sg=t,sg}var og,_C;function v9(){if(_C)return og;_C=1;function e(t,n){return t>n}return og=e,og}var lg,MC;function y9(){if(MC)return lg;MC=1;var e=jO(),t=v9(),n=ho();function r(i){return i&&i.length?e(i,n,t):void 0}return lg=r,lg}var b9=y9();const Ha=lt(b9);var cg,RC;function w9(){if(RC)return cg;RC=1;function e(t,n){return t<n}return cg=e,cg}var ug,$C;function j9(){if($C)return ug;$C=1;var e=jO(),t=w9(),n=ho();function r(i){return i&&i.length?e(i,n,t):void 0}return ug=r,ug}var N9=j9();const qf=lt(N9);var dg,zC;function S9(){if(zC)return dg;zC=1;var e=Ky(),t=Ja(),n=ID(),r=Pn();function i(o,c){var u=r(o)?e:n;return u(o,t(c,3))}return dg=i,dg}var fg,LC;function k9(){if(LC)return fg;LC=1;var e=DD(),t=S9();function n(r,i){return e(t(r,i),1)}return fg=n,fg}var C9=k9();const A9=lt(C9);var pg,BC;function P9(){if(BC)return pg;BC=1;var e=ib();function t(n,r){return e(n,r)}return pg=t,pg}var E9=P9();const zi=lt(E9);var xo=1e9,D9={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Tb,mt=!0,nr="[DecimalError] ",Ii=nr+"Invalid argument: ",Ib=nr+"Exponent out of range: ",go=Math.floor,Ni=Math.pow,O9=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ln,Wt=1e7,pt=7,NO=9007199254740991,Hd=go(NO/pt),be={};be.absoluteValue=be.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};be.comparedTo=be.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};be.decimalPlaces=be.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*pt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};be.dividedBy=be.div=function(e){return sa(this,new this.constructor(e))};be.dividedToIntegerBy=be.idiv=function(e){var t=this,n=t.constructor;return ot(sa(t,new n(e),0,1),n.precision)};be.equals=be.eq=function(e){return!this.cmp(e)};be.exponent=function(){return Et(this)};be.greaterThan=be.gt=function(e){return this.cmp(e)>0};be.greaterThanOrEqualTo=be.gte=function(e){return this.cmp(e)>=0};be.isInteger=be.isint=function(){return this.e>this.d.length-2};be.isNegative=be.isneg=function(){return this.s<0};be.isPositive=be.ispos=function(){return this.s>0};be.isZero=function(){return this.s===0};be.lessThan=be.lt=function(e){return this.cmp(e)<0};be.lessThanOrEqualTo=be.lte=function(e){return this.cmp(e)<1};be.logarithm=be.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Ln))throw Error(nr+"NaN");if(n.s<1)throw Error(nr+(n.s?"NaN":"-Infinity"));return n.eq(Ln)?new r(0):(mt=!1,t=sa(ec(n,o),ec(e,o),o),mt=!0,ot(t,i))};be.minus=be.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?CO(t,e):SO(t,(e.s=-e.s,e))};be.modulo=be.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(nr+"NaN");return n.s?(mt=!1,t=sa(n,e,0,1).times(e),mt=!0,n.minus(t)):ot(new r(n),i)};be.naturalExponential=be.exp=function(){return kO(this)};be.naturalLogarithm=be.ln=function(){return ec(this)};be.negated=be.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};be.plus=be.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?SO(t,e):CO(t,(e.s=-e.s,e))};be.precision=be.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ii+e);if(t=Et(i)+1,r=i.d.length-1,n=r*pt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};be.squareRoot=be.sqrt=function(){var e,t,n,r,i,o,c,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(nr+"NaN")}for(e=Et(u),mt=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=Or(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=go((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new d(t)):r=new d(i.toString()),n=d.precision,i=c=n+3;;)if(o=r,r=o.plus(sa(u,o,c+2)).times(.5),Or(o.d).slice(0,c)===(t=Or(r.d)).slice(0,c)){if(t=t.slice(c-3,c+1),i==c&&t=="4999"){if(ot(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(t!="9999")break;c+=4}return mt=!0,ot(r,n)};be.times=be.mul=function(e){var t,n,r,i,o,c,u,d,f,h=this,m=h.constructor,x=h.d,v=(e=new m(e)).d;if(!h.s||!e.s)return new m(0);for(e.s*=h.s,n=h.e+e.e,d=x.length,f=v.length,d<f&&(o=x,x=v,v=o,c=d,d=f,f=c),o=[],c=d+f,r=c;r--;)o.push(0);for(r=f;--r>=0;){for(t=0,i=d+r;i>r;)u=o[i]+v[r]*x[i-r-1]+t,o[i--]=u%Wt|0,t=u/Wt|0;o[i]=(o[i]+t)%Wt|0}for(;!o[--c];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,mt?ot(e,m.precision):e};be.toDecimalPlaces=be.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:($r(e,0,xo),t===void 0?t=r.rounding:$r(t,0,8),ot(n,e+Et(n)+1,t))};be.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Li(r,!0):($r(e,0,xo),t===void 0?t=i.rounding:$r(t,0,8),r=ot(new i(r),e+1,t),n=Li(r,!0,e+1)),n};be.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?Li(i):($r(e,0,xo),t===void 0?t=o.rounding:$r(t,0,8),r=ot(new o(i),e+Et(i)+1,t),n=Li(r.abs(),!1,e+Et(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};be.toInteger=be.toint=function(){var e=this,t=e.constructor;return ot(new t(e),Et(e)+1,t.rounding)};be.toNumber=function(){return+this};be.toPower=be.pow=function(e){var t,n,r,i,o,c,u=this,d=u.constructor,f=12,h=+(e=new d(e));if(!e.s)return new d(Ln);if(u=new d(u),!u.s){if(e.s<1)throw Error(nr+"Infinity");return u}if(u.eq(Ln))return u;if(r=d.precision,e.eq(Ln))return ot(u,r);if(t=e.e,n=e.d.length-1,c=t>=n,o=u.s,c){if((n=h<0?-h:h)<=NO){for(i=new d(Ln),t=Math.ceil(r/pt+4),mt=!1;n%2&&(i=i.times(u),UC(i.d,t)),n=go(n/2),n!==0;)u=u.times(u),UC(u.d,t);return mt=!0,e.s<0?new d(Ln).div(i):ot(i,r)}}else if(o<0)throw Error(nr+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,mt=!1,i=e.times(ec(u,r+f)),mt=!0,i=kO(i),i.s=o,i};be.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=Et(i),r=Li(i,n<=o.toExpNeg||n>=o.toExpPos)):($r(e,1,xo),t===void 0?t=o.rounding:$r(t,0,8),i=ot(new o(i),e,t),n=Et(i),r=Li(i,e<=n||n<=o.toExpNeg,e)),r};be.toSignificantDigits=be.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):($r(e,1,xo),t===void 0?t=r.rounding:$r(t,0,8)),ot(new r(n),e,t)};be.toString=be.valueOf=be.val=be.toJSON=be[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Et(e),n=e.constructor;return Li(e,t<=n.toExpNeg||t>=n.toExpPos)};function SO(e,t){var n,r,i,o,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),mt?ot(t,m):t;if(d=e.d,f=t.d,c=e.e,i=t.e,d=d.slice(),o=c-i,o){for(o<0?(r=d,o=-o,u=f.length):(r=f,i=c,u=d.length),c=Math.ceil(m/pt),u=c>u?c+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=d.length,o=f.length,u-o<0&&(o=u,r=f,f=d,d=r),n=0;o;)n=(d[--o]=d[o]+f[o]+n)/Wt|0,d[o]%=Wt;for(n&&(d.unshift(n),++i),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=i,mt?ot(t,m):t}function $r(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Ii+e)}function Or(e){var t,n,r,i=e.length-1,o="",c=e[0];if(i>0){for(o+=c,t=1;t<i;t++)r=e[t]+"",n=pt-r.length,n&&(o+=Fa(n)),o+=r;c=e[t],r=c+"",n=pt-r.length,n&&(o+=Fa(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return o+c}var sa=(function(){function e(r,i){var o,c=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+c,r[u]=o%Wt|0,c=o/Wt|0;return c&&r.unshift(c),r}function t(r,i,o,c){var u,d;if(o!=c)d=o>c?1:-1;else for(u=d=0;u<o;u++)if(r[u]!=i[u]){d=r[u]>i[u]?1:-1;break}return d}function n(r,i,o){for(var c=0;o--;)r[o]-=c,c=r[o]<i[o]?1:0,r[o]=c*Wt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,c){var u,d,f,h,m,x,v,j,b,w,y,k,P,C,S,E,D,T,M=r.constructor,z=r.s==i.s?1:-1,R=r.d,$=i.d;if(!r.s)return new M(r);if(!i.s)throw Error(nr+"Division by zero");for(d=r.e-i.e,D=$.length,S=R.length,v=new M(z),j=v.d=[],f=0;$[f]==(R[f]||0);)++f;if($[f]>(R[f]||0)&&--d,o==null?k=o=M.precision:c?k=o+(Et(r)-Et(i))+1:k=o,k<0)return new M(0);if(k=k/pt+2|0,f=0,D==1)for(h=0,$=$[0],k++;(f<S||h)&&k--;f++)P=h*Wt+(R[f]||0),j[f]=P/$|0,h=P%$|0;else{for(h=Wt/($[0]+1)|0,h>1&&($=e($,h),R=e(R,h),D=$.length,S=R.length),C=D,b=R.slice(0,D),w=b.length;w<D;)b[w++]=0;T=$.slice(),T.unshift(0),E=$[0],$[1]>=Wt/2&&++E;do h=0,u=t($,b,D,w),u<0?(y=b[0],D!=w&&(y=y*Wt+(b[1]||0)),h=y/E|0,h>1?(h>=Wt&&(h=Wt-1),m=e($,h),x=m.length,w=b.length,u=t(m,b,x,w),u==1&&(h--,n(m,D<x?T:$,x))):(h==0&&(u=h=1),m=$.slice()),x=m.length,x<w&&m.unshift(0),n(b,m,w),u==-1&&(w=b.length,u=t($,b,D,w),u<1&&(h++,n(b,D<w?T:$,w))),w=b.length):u===0&&(h++,b=[0]),j[f++]=h,u&&b[0]?b[w++]=R[C]||0:(b=[R[C]],w=1);while((C++<S||b[0]!==void 0)&&k--)}return j[0]||j.shift(),v.e=d,ot(v,c?o+Et(v)+1:o)}})();function kO(e,t){var n,r,i,o,c,u,d=0,f=0,h=e.constructor,m=h.precision;if(Et(e)>16)throw Error(Ib+Et(e));if(!e.s)return new h(Ln);for(mt=!1,u=m,c=new h(.03125);e.abs().gte(.1);)e=e.times(c),f+=5;for(r=Math.log(Ni(2,f))/Math.LN10*2+5|0,u+=r,n=i=o=new h(Ln),h.precision=u;;){if(i=ot(i.times(e),u),n=n.times(++d),c=o.plus(sa(i,n,u)),Or(c.d).slice(0,u)===Or(o.d).slice(0,u)){for(;f--;)o=ot(o.times(o),u);return h.precision=m,t==null?(mt=!0,ot(o,m)):o}o=c}}function Et(e){for(var t=e.e*pt,n=e.d[0];n>=10;n/=10)t++;return t}function hg(e,t,n){if(t>e.LN10.sd())throw mt=!0,n&&(e.precision=n),Error(nr+"LN10 precision limit exceeded");return ot(new e(e.LN10),t)}function Fa(e){for(var t="";e--;)t+="0";return t}function ec(e,t){var n,r,i,o,c,u,d,f,h,m=1,x=10,v=e,j=v.d,b=v.constructor,w=b.precision;if(v.s<1)throw Error(nr+(v.s?"NaN":"-Infinity"));if(v.eq(Ln))return new b(0);if(t==null?(mt=!1,f=w):f=t,v.eq(10))return t==null&&(mt=!0),hg(b,f);if(f+=x,b.precision=f,n=Or(j),r=n.charAt(0),o=Et(v),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(e),n=Or(v.d),r=n.charAt(0),m++;o=Et(v),r>1?(v=new b("0."+n),o++):v=new b(r+"."+n.slice(1))}else return d=hg(b,f+2,w).times(o+""),v=ec(new b(r+"."+n.slice(1)),f-x).plus(d),b.precision=w,t==null?(mt=!0,ot(v,w)):v;for(u=c=v=sa(v.minus(Ln),v.plus(Ln),f),h=ot(v.times(v),f),i=3;;){if(c=ot(c.times(h),f),d=u.plus(sa(c,new b(i),f)),Or(d.d).slice(0,f)===Or(u.d).slice(0,f))return u=u.times(2),o!==0&&(u=u.plus(hg(b,f+2,w).times(o+""))),u=sa(u,new b(m),f),b.precision=w,t==null?(mt=!0,ot(u,w)):u;u=d,i+=2}}function FC(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=go(n/pt),e.d=[],r=(n+1)%pt,n<0&&(r+=pt),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=pt;r<i;)e.d.push(+t.slice(r,r+=pt));t=t.slice(r),r=pt-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),mt&&(e.e>Hd||e.e<-Hd))throw Error(Ib+n)}else e.s=0,e.e=0,e.d=[0];return e}function ot(e,t,n){var r,i,o,c,u,d,f,h,m=e.d;for(c=1,o=m[0];o>=10;o/=10)c++;if(r=t-c,r<0)r+=pt,i=t,f=m[h=0];else{if(h=Math.ceil((r+1)/pt),o=m.length,h>=o)return e;for(f=o=m[h],c=1;o>=10;o/=10)c++;r%=pt,i=r-pt+c}if(n!==void 0&&(o=Ni(10,c-i-1),u=f/o%10|0,d=t<0||m[h+1]!==void 0||f%o,d=n<4?(u||d)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||d||n==6&&(r>0?i>0?f/Ni(10,c-i):0:m[h-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return d?(o=Et(e),m.length=1,t=t-o-1,m[0]=Ni(10,(pt-t%pt)%pt),e.e=go(-t/pt)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(r==0?(m.length=h,o=1,h--):(m.length=h+1,o=Ni(10,pt-r),m[h]=i>0?(f/Ni(10,c-i)%Ni(10,i)|0)*o:0),d)for(;;)if(h==0){(m[0]+=o)==Wt&&(m[0]=1,++e.e);break}else{if(m[h]+=o,m[h]!=Wt)break;m[h--]=0,o=1}for(r=m.length;m[--r]===0;)m.pop();if(mt&&(e.e>Hd||e.e<-Hd))throw Error(Ib+Et(e));return e}function CO(e,t){var n,r,i,o,c,u,d,f,h,m,x=e.constructor,v=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),mt?ot(t,v):t;if(d=e.d,m=t.d,r=t.e,f=e.e,d=d.slice(),c=f-r,c){for(h=c<0,h?(n=d,c=-c,u=m.length):(n=m,r=f,u=d.length),i=Math.max(Math.ceil(v/pt),u)+2,c>i&&(c=i,n.length=1),n.reverse(),i=c;i--;)n.push(0);n.reverse()}else{for(i=d.length,u=m.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(d[i]!=m[i]){h=d[i]<m[i];break}c=0}for(h&&(n=d,d=m,m=n,t.s=-t.s),u=d.length,i=m.length-u;i>0;--i)d[u++]=0;for(i=m.length;i>c;){if(d[--i]<m[i]){for(o=i;o&&d[--o]===0;)d[o]=Wt-1;--d[o],d[i]+=Wt}d[i]-=m[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(t.d=d,t.e=r,mt?ot(t,v):t):new x(0)}function Li(e,t,n){var r,i=Et(e),o=Or(e.d),c=o.length;return t?(n&&(r=n-c)>0?o=o.charAt(0)+"."+o.slice(1)+Fa(r):c>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Fa(-i-1)+o,n&&(r=n-c)>0&&(o+=Fa(r))):i>=c?(o+=Fa(i+1-c),n&&(r=n-i-1)>0&&(o=o+"."+Fa(r))):((r=i+1)<c&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-c)>0&&(i+1===c&&(o+="."),o+=Fa(r))),e.s<0?"-"+o:o}function UC(e,t){if(e.length>t)return e.length=t,!0}function AO(e){var t,n,r;function i(o){var c=this;if(!(c instanceof i))return new i(o);if(c.constructor=i,o instanceof i){c.s=o.s,c.e=o.e,c.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ii+o);if(o>0)c.s=1;else if(o<0)o=-o,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(o===~~o&&o<1e7){c.e=0,c.d=[o];return}return FC(c,o.toString())}else if(typeof o!="string")throw Error(Ii+o);if(o.charCodeAt(0)===45?(o=o.slice(1),c.s=-1):c.s=1,O9.test(o))FC(c,o);else throw Error(Ii+o)}if(i.prototype=be,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=AO,i.config=i.set=I9,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function I9(e){if(!e||typeof e!="object")throw Error(nr+"Object expected");var t,n,r,i=["precision",1,xo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(go(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Ii+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ii+n+": "+r);return this}var Tb=AO(D9);Ln=new Tb(1);const it=Tb;function T9(e){return $9(e)||R9(e)||M9(e)||_9()}function _9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M9(e,t){if(e){if(typeof e=="string")return Ov(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ov(e,t)}}function R9(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function $9(e){if(Array.isArray(e))return Ov(e)}function Ov(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var z9=function(t){return t},PO={},EO=function(t){return t===PO},qC=function(t){return function n(){return arguments.length===0||arguments.length===1&&EO(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},L9=function e(t,n){return t===1?n:qC(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var c=i.filter(function(u){return u!==PO}).length;return c>=t?n.apply(void 0,i):e(t-c,qC(function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];var h=i.map(function(m){return EO(m)?d.shift():m});return n.apply(void 0,T9(h).concat(d))}))})},Wf=function(t){return L9(t.length,t)},Iv=function(t,n){for(var r=[],i=t;i<n;++i)r[i-t]=i;return r},B9=Wf(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),F9=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return z9;var i=n.reverse(),o=i[0],c=i.slice(1);return function(){return c.reduce(function(u,d){return d(u)},o.apply(void 0,arguments))}},Tv=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},DO=function(t){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return n&&o.every(function(u,d){return u===n[d]})||(n=o,r=t.apply(void 0,o)),r}};function U9(e){var t;return e===0?t=1:t=Math.floor(new it(e).abs().log(10).toNumber())+1,t}function q9(e,t,n){for(var r=new it(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var W9=Wf(function(e,t,n){var r=+e,i=+t;return r+n*(i-r)}),H9=Wf(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),V9=Wf(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const Hf={rangeStep:q9,getDigitCount:U9,interpolateNumber:W9,uninterpolateNumber:H9,uninterpolateTruncation:V9};function _v(e){return Y9(e)||G9(e)||OO(e)||K9()}function K9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G9(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Y9(e){if(Array.isArray(e))return Mv(e)}function tc(e,t){return Z9(e)||Q9(e,t)||OO(e,t)||X9()}function X9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OO(e,t){if(e){if(typeof e=="string")return Mv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mv(e,t)}}function Mv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q9(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,o=void 0;try{for(var c=e[Symbol.iterator](),u;!(r=(u=c.next()).done)&&(n.push(u.value),!(t&&n.length===t));r=!0);}catch(d){i=!0,o=d}finally{try{!r&&c.return!=null&&c.return()}finally{if(i)throw o}}return n}}function Z9(e){if(Array.isArray(e))return e}function IO(e){var t=tc(e,2),n=t[0],r=t[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function TO(e,t,n){if(e.lte(0))return new it(0);var r=Hf.getDigitCount(e.toNumber()),i=new it(10).pow(r),o=e.div(i),c=r!==1?.05:.1,u=new it(Math.ceil(o.div(c).toNumber())).add(n).mul(c),d=u.mul(i);return t?d:new it(Math.ceil(d))}function J9(e,t,n){var r=1,i=new it(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new it(10).pow(Hf.getDigitCount(e)-1),i=new it(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new it(Math.floor(e)))}else e===0?i=new it(Math.floor((t-1)/2)):n||(i=new it(Math.floor(e)));var c=Math.floor((t-1)/2),u=F9(B9(function(d){return i.add(new it(d-c).mul(r)).toNumber()}),Iv);return u(0,t)}function _O(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new it(0),tickMin:new it(0),tickMax:new it(0)};var o=TO(new it(t).sub(e).div(n-1),r,i),c;e<=0&&t>=0?c=new it(0):(c=new it(e).add(t).div(2),c=c.sub(new it(c).mod(o)));var u=Math.ceil(c.sub(e).div(o).toNumber()),d=Math.ceil(new it(t).sub(c).div(o).toNumber()),f=u+d+1;return f>n?_O(e,t,n,r,i+1):(f<n&&(d=t>0?d+(n-f):d,u=t>0?u:u+(n-f)),{step:o,tickMin:c.sub(new it(u).mul(o)),tickMax:c.add(new it(d).mul(o))})}function e7(e){var t=tc(e,2),n=t[0],r=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(i,2),u=IO([n,r]),d=tc(u,2),f=d[0],h=d[1];if(f===-1/0||h===1/0){var m=h===1/0?[f].concat(_v(Iv(0,i-1).map(function(){return 1/0}))):[].concat(_v(Iv(0,i-1).map(function(){return-1/0})),[h]);return n>r?Tv(m):m}if(f===h)return J9(f,i,o);var x=_O(f,h,c,o),v=x.step,j=x.tickMin,b=x.tickMax,w=Hf.rangeStep(j,b.add(new it(.1).mul(v)),v);return n>r?Tv(w):w}function t7(e,t){var n=tc(e,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=IO([r,i]),u=tc(c,2),d=u[0],f=u[1];if(d===-1/0||f===1/0)return[r,i];if(d===f)return[d];var h=Math.max(t,2),m=TO(new it(f).sub(d).div(h-1),o,0),x=[].concat(_v(Hf.rangeStep(new it(d),new it(f).sub(new it(.99).mul(m)),m)),[f]);return r>i?Tv(x):x}var n7=DO(e7),r7=DO(t7),a7="Invariant failed";function Bi(e,t){throw new Error(a7)}var i7=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Vd(){return Vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vd.apply(this,arguments)}function s7(e,t){return u7(e)||c7(e,t)||l7(e,t)||o7()}function o7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l7(e,t){if(e){if(typeof e=="string")return WC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WC(e,t)}}function WC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c7(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,c,u=[],d=!0,f=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(d=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(h){f=!0,i=h}finally{try{if(!d&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(f)throw i}}return u}}function u7(e){if(Array.isArray(e))return e}function d7(e,t){if(e==null)return{};var n=f7(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function f7(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function vo(e){var t=e.offset,n=e.layout,r=e.width,i=e.dataKey,o=e.data,c=e.dataPointFormatter,u=e.xAxis,d=e.yAxis,f=d7(e,i7),h=Le(f,!1);e.direction==="x"&&u.type!=="number"&&Bi();var m=o.map(function(x){var v=c(x,i),j=v.x,b=v.y,w=v.value,y=v.errorVal;if(!y)return null;var k=[],P,C;if(Array.isArray(y)){var S=s7(y,2);P=S[0],C=S[1]}else P=C=y;if(n==="vertical"){var E=u.scale,D=b+t,T=D+r,M=D-r,z=E(w-P),R=E(w+C);k.push({x1:R,y1:T,x2:R,y2:M}),k.push({x1:z,y1:D,x2:R,y2:D}),k.push({x1:z,y1:T,x2:z,y2:M})}else if(n==="horizontal"){var $=d.scale,B=j+t,L=B-r,F=B+r,Y=$(w-P),W=$(w+C);k.push({x1:L,y1:W,x2:F,y2:W}),k.push({x1:B,y1:Y,x2:B,y2:W}),k.push({x1:L,y1:Y,x2:F,y2:Y})}return H.createElement(Qe,Vd({className:"recharts-errorBar",key:"bar-".concat(k.map(function(V){return"".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))},h),k.map(function(V){return H.createElement("line",Vd({},V,{key:"line-".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))}))});return H.createElement(Qe,{className:"recharts-errorBars"},m)}vo.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};vo.displayName="ErrorBar";function nc(e){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(e)}function HC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HC(Object(n),!0).forEach(function(r){p7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p7(e,t,n){return t=h7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h7(e){var t=m7(e,"string");return nc(t)=="symbol"?t:String(t)}function m7(e,t){if(nc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MO=function(t){var n=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,o=t.legendContent,c=Rn(n,ql);if(!c)return null;var u;return c.props&&c.props.payload?u=c.props&&c.props.payload:o==="children"?u=(r||[]).reduce(function(d,f){var h=f.item,m=f.props,x=m.sectors||m.data||[];return d.concat(x.map(function(v){return{type:c.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(r||[]).map(function(d){var f=d.item,h=f.props,m=h.dataKey,x=h.name,v=h.legendType,j=h.hide;return{inactive:j,dataKey:m,type:c.props.iconType||v||"square",color:_b(f),value:x||m,payload:f.props}}),mg(mg(mg({},c.props),ql.getWithHeight(c,i)),{},{payload:u,item:c})};function rc(e){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rc(e)}function VC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VC(Object(n),!0).forEach(function(r){$s(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $s(e,t,n){return t=x7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x7(e){var t=g7(e,"string");return rc(t)=="symbol"?t:String(t)}function g7(e,t){if(rc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KC(e){return w7(e)||b7(e)||y7(e)||v7()}function v7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y7(e,t){if(e){if(typeof e=="string")return Rv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rv(e,t)}}function b7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function w7(e){if(Array.isArray(e))return Rv(e)}function Rv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rt(e,t,n){return Be(e)||Be(t)?n:Mt(t)?er(e,t,n):Fe(t)?t(e):n}function Al(e,t,n,r){var i=A9(e,function(u){return Rt(u,t)});if(n==="number"){var o=i.filter(function(u){return he(u)||parseFloat(u)});return o.length?[qf(o),Ha(o)]:[1/0,-1/0]}var c=r?i.filter(function(u){return!Be(u)}):i;return c.map(function(u){return Mt(u)||u instanceof Date?u:""})}var j7=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,c=-1,u=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(u<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var d=o.range,f=0;f<u;f++){var h=f>0?i[f-1].coordinate:i[u-1].coordinate,m=i[f].coordinate,x=f>=u-1?i[0].coordinate:i[f+1].coordinate,v=void 0;if(vr(m-h)!==vr(x-m)){var j=[];if(vr(x-m)===vr(d[1]-d[0])){v=x;var b=m+d[1]-d[0];j[0]=Math.min(b,(b+h)/2),j[1]=Math.max(b,(b+h)/2)}else{v=h;var w=x+d[1]-d[0];j[0]=Math.min(m,(w+m)/2),j[1]=Math.max(m,(w+m)/2)}var y=[Math.min(m,(v+m)/2),Math.max(m,(v+m)/2)];if(t>y[0]&&t<=y[1]||t>=j[0]&&t<=j[1]){c=i[f].index;break}}else{var k=Math.min(h,x),P=Math.max(h,x);if(t>(k+m)/2&&t<=(P+m)/2){c=i[f].index;break}}}else for(var C=0;C<u;C++)if(C===0&&t<=(r[C].coordinate+r[C+1].coordinate)/2||C>0&&C<u-1&&t>(r[C].coordinate+r[C-1].coordinate)/2&&t<=(r[C].coordinate+r[C+1].coordinate)/2||C===u-1&&t>(r[C].coordinate+r[C-1].coordinate)/2){c=r[C].index;break}return c},_b=function(t){var n=t,r=n.type.displayName,i=t.props,o=i.stroke,c=i.fill,u;switch(r){case"Line":u=o;break;case"Area":case"Radar":u=o&&o!=="none"?o:c;break;default:u=c;break}return u},N7=function(t){var n=t.barSize,r=t.stackGroups,i=r===void 0?{}:r;if(!i)return{};for(var o={},c=Object.keys(i),u=0,d=c.length;u<d;u++)for(var f=i[c[u]].stackGroups,h=Object.keys(f),m=0,x=h.length;m<x;m++){var v=f[h[m]],j=v.items,b=v.cateAxisId,w=j.filter(function(P){return aa(P.type).indexOf("Bar")>=0});if(w&&w.length){var y=w[0].props.barSize,k=w[0].props[b];o[k]||(o[k]=[]),o[k].push({item:w[0],stackList:w.slice(1),barSize:Be(y)?n:y})}}return o},S7=function(t){var n=t.barGap,r=t.barCategoryGap,i=t.bandSize,o=t.sizeList,c=o===void 0?[]:o,u=t.maxBarSize,d=c.length;if(d<1)return null;var f=Ls(n,i,0,!0),h,m=[];if(c[0].barSize===+c[0].barSize){var x=!1,v=i/d,j=c.reduce(function(C,S){return C+S.barSize||0},0);j+=(d-1)*f,j>=i&&(j-=(d-1)*f,f=0),j>=i&&v>0&&(x=!0,v*=.9,j=d*v);var b=(i-j)/2>>0,w={offset:b-f,size:0};h=c.reduce(function(C,S){var E={item:S.item,position:{offset:w.offset+w.size+f,size:x?v:S.barSize}},D=[].concat(KC(C),[E]);return w=D[D.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(T){D.push({item:T,position:w})}),D},m)}else{var y=Ls(r,i,0,!0);i-2*y-(d-1)*f<=0&&(f=0);var k=(i-2*y-(d-1)*f)/d;k>1&&(k>>=0);var P=u===+u?Math.min(k,u):k;h=c.reduce(function(C,S,E){var D=[].concat(KC(C),[{item:S.item,position:{offset:y+(k+f)*E+(k-P)/2,size:P}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(T){D.push({item:T,position:D[D.length-1].position})}),D},m)}return h},k7=function(t,n,r,i){var o=r.children,c=r.width,u=r.margin,d=c-(u.left||0)-(u.right||0),f=MO({children:o,legendWidth:d});if(f){var h=i||{},m=h.width,x=h.height,v=f.align,j=f.verticalAlign,b=f.layout;if((b==="vertical"||b==="horizontal"&&j==="middle")&&v!=="center"&&he(t[v]))return Zn(Zn({},t),{},$s({},v,t[v]+(m||0)));if((b==="horizontal"||b==="vertical"&&v==="center")&&j!=="middle"&&he(t[j]))return Zn(Zn({},t),{},$s({},j,t[j]+(x||0)))}return t},C7=function(t,n,r){return Be(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},RO=function(t,n,r,i,o){var c=n.props.children,u=kn(c,vo).filter(function(f){return C7(i,o,f.props.direction)});if(u&&u.length){var d=u.map(function(f){return f.props.dataKey});return t.reduce(function(f,h){var m=Rt(h,r,0),x=Array.isArray(m)?[qf(m),Ha(m)]:[m,m],v=d.reduce(function(j,b){var w=Rt(h,b,0),y=x[0]-Math.abs(Array.isArray(w)?w[0]:w),k=x[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(y,j[0]),Math.max(k,j[1])]},[1/0,-1/0]);return[Math.min(v[0],f[0]),Math.max(v[1],f[1])]},[1/0,-1/0])}return null},A7=function(t,n,r,i,o){var c=n.map(function(u){return RO(t,u,r,o,i)}).filter(function(u){return!Be(u)});return c&&c.length?c.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},$O=function(t,n,r,i,o){var c=n.map(function(d){var f=d.props.dataKey;return r==="number"&&f&&RO(t,d,f,i)||Al(t,f,r,o)});if(r==="number")return c.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var u={};return c.reduce(function(d,f){for(var h=0,m=f.length;h<m;h++)u[f[h]]||(u[f[h]]=!0,d.push(f[h]));return d},[])},zO=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},LO=function(t,n,r,i){if(i)return t.map(function(d){return d.coordinate});var o,c,u=t.map(function(d){return d.coordinate===n&&(o=!0),d.coordinate===r&&(c=!0),d.coordinate});return o||u.push(n),c||u.push(r),u},na=function(t,n,r){if(!t)return null;var i=t.scale,o=t.duplicateDomain,c=t.type,u=t.range,d=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(n||r)&&c==="category"&&i.bandwidth?i.bandwidth()/d:0;if(f=t.axisType==="angleAxis"&&(u==null?void 0:u.length)>=2?vr(u[0]-u[1])*2*f:f,n&&(t.ticks||t.niceTicks)){var h=(t.ticks||t.niceTicks).map(function(m){var x=o?o.indexOf(m):m;return{coordinate:i(x)+f,value:m,offset:f}});return h.filter(function(m){return!po(m.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(m,x){return{coordinate:i(m)+f,value:m,index:x,offset:f}}):i.ticks&&!r?i.ticks(t.tickCount).map(function(m){return{coordinate:i(m)+f,value:m,offset:f}}):i.domain().map(function(m,x){return{coordinate:i(m)+f,value:o?o[m]:m,index:x,offset:f}})},xg=new WeakMap,ad=function(t,n){if(typeof n!="function")return t;xg.has(t)||xg.set(t,new WeakMap);var r=xg.get(t);if(r.has(n))return r.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},P7=function(t,n,r){var i=t.scale,o=t.type,c=t.layout,u=t.axisType;if(i==="auto")return c==="radial"&&u==="radiusAxis"?{scale:Yl(),realScaleType:"band"}:c==="radial"&&u==="angleAxis"?{scale:Fd(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Cl(),realScaleType:"point"}:o==="category"?{scale:Yl(),realScaleType:"band"}:{scale:Fd(),realScaleType:"linear"};if(Dc(i)){var d="scale".concat(Ef(i));return{scale:(IC[d]||Cl)(),realScaleType:IC[d]?d:"point"}}return Fe(i)?{scale:i}:{scale:Cl(),realScaleType:"point"}},GC=1e-4,E7=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,i=t.range(),o=Math.min(i[0],i[1])-GC,c=Math.max(i[0],i[1])+GC,u=t(n[0]),d=t(n[r-1]);(u<o||u>c||d<o||d>c)&&t.domain([n[0],n[r-1]])}},D7=function(t,n){if(!t)return null;for(var r=0,i=t.length;r<i;r++)if(t[r].item===n)return t[r].position;return null},O7=function(t,n){if(!n||n.length!==2||!he(n[0])||!he(n[1]))return t;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[t[0],t[1]];return(!he(t[0])||t[0]<r)&&(o[0]=r),(!he(t[1])||t[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},I7=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var o=0,c=0,u=0;u<n;++u){var d=po(t[u][r][1])?t[u][r][0]:t[u][r][1];d>=0?(t[u][r][0]=o,t[u][r][1]=o+d,o=t[u][r][1]):(t[u][r][0]=c,t[u][r][1]=c+d,c=t[u][r][1])}},T7=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var o=0,c=0;c<n;++c){var u=po(t[c][r][1])?t[c][r][0]:t[c][r][1];u>=0?(t[c][r][0]=o,t[c][r][1]=o+u,o=t[c][r][1]):(t[c][r][0]=0,t[c][r][1]=0)}},_7={sign:I7,expand:A6,none:Bs,silhouette:P6,wiggle:E6,positive:T7},M7=function(t,n,r){var i=n.map(function(u){return u.props.dataKey}),o=_7[r],c=C6().keys(i).value(function(u,d){return+Rt(u,d,0)}).order(hv).offset(o);return c(t)},R7=function(t,n,r,i,o,c){if(!t)return null;var u=c?n.reverse():n,d={},f=u.reduce(function(m,x){var v=x.props,j=v.stackId,b=v.hide;if(b)return m;var w=x.props[r],y=m[w]||{hasStack:!1,stackGroups:{}};if(Mt(j)){var k=y.stackGroups[j]||{numericAxisId:r,cateAxisId:i,items:[]};k.items.push(x),y.hasStack=!0,y.stackGroups[j]=k}else y.stackGroups[Ki("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[x]};return Zn(Zn({},m),{},$s({},w,y))},d),h={};return Object.keys(f).reduce(function(m,x){var v=f[x];if(v.hasStack){var j={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(b,w){var y=v.stackGroups[w];return Zn(Zn({},b),{},$s({},w,{numericAxisId:r,cateAxisId:i,items:y.items,stackedData:M7(t,y.items,o)}))},j)}return Zn(Zn({},m),{},$s({},x,v))},h)},$7=function(t,n){var r=n.realScaleType,i=n.type,o=n.tickCount,c=n.originalDomain,u=n.allowDecimals,d=r||n.scale;if(d!=="auto"&&d!=="linear")return null;if(o&&i==="number"&&c&&(c[0]==="auto"||c[1]==="auto")){var f=t.domain();if(!f.length)return null;var h=n7(f,o,u);return t.domain([qf(h),Ha(h)]),{niceTicks:h}}if(o&&i==="number"){var m=t.domain(),x=r7(m,o,u);return{niceTicks:x}}return null};function Gs(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,o=e.index,c=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Be(i[t.dataKey])){var u=wd(n,"value",i[t.dataKey]);if(u)return u.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var d=Rt(i,Be(c)?t.dataKey:c);return Be(d)?null:t.scale(d)}var YC=function(t){var n=t.axis,r=t.ticks,i=t.offset,o=t.bandSize,c=t.entry,u=t.index;if(n.type==="category")return r[u]?r[u].coordinate+i:null;var d=Rt(c,n.dataKey,n.domain[u]);return Be(d)?null:n.scale(d)-o/2+i},z7=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},L7=function(t,n){var r=t.props.stackId;if(Mt(r)){var i=n[r];if(i){var o=i.items.indexOf(t);return o>=0?i.stackedData[o]:null}}return null},B7=function(t){return t.reduce(function(n,r){return[qf(r.concat([n[0]]).filter(he)),Ha(r.concat([n[1]]).filter(he))]},[1/0,-1/0])},BO=function(t,n,r){return Object.keys(t).reduce(function(i,o){var c=t[o],u=c.stackedData,d=u.reduce(function(f,h){var m=B7(h.slice(n,r+1));return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(d[0],i[0]),Math.max(d[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},XC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,QC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$v=function(t,n,r){if(Fe(t))return t(n,r);if(!Array.isArray(t))return n;var i=[];if(he(t[0]))i[0]=r?t[0]:Math.min(t[0],n[0]);else if(XC.test(t[0])){var o=+XC.exec(t[0])[1];i[0]=n[0]-o}else Fe(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(he(t[1]))i[1]=r?t[1]:Math.max(t[1],n[1]);else if(QC.test(t[1])){var c=+QC.exec(t[1])[1];i[1]=n[1]+c}else Fe(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},Kd=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!r||i>0)return i}if(t&&n&&n.length>=2){for(var o=ob(n,function(m){return m.coordinate}),c=1/0,u=1,d=o.length;u<d;u++){var f=o[u],h=o[u-1];c=Math.min((f.coordinate||0)-(h.coordinate||0),c)}return c===1/0?0:c}return r?void 0:0},ZC=function(t,n,r){return!t||!t.length||zi(t,er(r,"type.defaultProps.domain"))?n:t},FO=function(t,n){var r=t.props,i=r.dataKey,o=r.name,c=r.unit,u=r.formatter,d=r.tooltipType,f=r.chartType,h=r.hide;return Zn(Zn({},Le(t,!1)),{},{dataKey:i,unit:c,formatter:u,name:o||i,color:_b(t),value:Rt(n,i),type:d,payload:n,chartType:f,hide:h})};function ac(e){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ac(e)}function JC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JC(Object(n),!0).forEach(function(r){F7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F7(e,t,n){return t=U7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U7(e){var t=q7(e,"string");return ac(t)=="symbol"?t:String(t)}function q7(e,t){if(ac(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gd=Math.PI/180,W7=function(t){return t*180/Math.PI},Xt=function(t,n,r,i){return{x:t+Math.cos(-Gd*i)*r,y:n+Math.sin(-Gd*i)*r}},H7=function(t,n){var r=t.x,i=t.y,o=n.x,c=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-c,2))},V7=function(t,n){var r=t.x,i=t.y,o=n.cx,c=n.cy,u=H7({x:r,y:i},{x:o,y:c});if(u<=0)return{radius:u};var d=(r-o)/u,f=Math.acos(d);return i>c&&(f=2*Math.PI-f),{radius:u,angle:W7(f),angleInRadian:f}},K7=function(t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),c=Math.min(i,o);return{startAngle:n-c*360,endAngle:r-c*360}},G7=function(t,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),c=Math.floor(i/360),u=Math.min(o,c);return t+u*360},tA=function(t,n){var r=t.x,i=t.y,o=V7({x:r,y:i},n),c=o.radius,u=o.angle,d=n.innerRadius,f=n.outerRadius;if(c<d||c>f)return!1;if(c===0)return!0;var h=K7(n),m=h.startAngle,x=h.endAngle,v=u,j;if(m<=x){for(;v>x;)v-=360;for(;v<m;)v+=360;j=v>=m&&v<=x}else{for(;v>m;)v-=360;for(;v<x;)v+=360;j=v>=x&&v<=m}return j?eA(eA({},n),{},{radius:c,angle:G7(v,n)}):null};function ic(e){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ic(e)}var Y7=["offset"];function X7(e){return eB(e)||J7(e)||Z7(e)||Q7()}function Q7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z7(e,t){if(e){if(typeof e=="string")return zv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zv(e,t)}}function J7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eB(e){if(Array.isArray(e))return zv(e)}function zv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tB(e,t){if(e==null)return{};var n=nB(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function nB(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function nA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nA(Object(n),!0).forEach(function(r){rB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rB(e,t,n){return t=aB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aB(e){var t=iB(e,"string");return ic(t)=="symbol"?t:String(t)}function iB(e,t){if(ic(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sc(){return sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sc.apply(this,arguments)}var sB=function(t){var n=t.value,r=t.formatter,i=Be(t.children)?n:t.children;return Fe(r)?r(i):i},oB=function(t,n){var r=vr(n-t),i=Math.min(Math.abs(n-t),360);return r*i},lB=function(t,n,r){var i=t.position,o=t.viewBox,c=t.offset,u=t.className,d=o,f=d.cx,h=d.cy,m=d.innerRadius,x=d.outerRadius,v=d.startAngle,j=d.endAngle,b=d.clockWise,w=(m+x)/2,y=oB(v,j),k=y>=0?1:-1,P,C;i==="insideStart"?(P=v+k*c,C=b):i==="insideEnd"?(P=j-k*c,C=!b):i==="end"&&(P=j+k*c,C=b),C=y<=0?C:!C;var S=Xt(f,h,w,P),E=Xt(f,h,w,P+(C?1:-1)*359),D="M".concat(S.x,",").concat(S.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(C?0:1,`,
    `).concat(E.x,",").concat(E.y),T=Be(t.id)?Ki("recharts-radial-line-"):t.id;return H.createElement("text",sc({},r,{dominantBaseline:"central",className:Ye("recharts-radial-bar-label",u)}),H.createElement("defs",null,H.createElement("path",{id:T,d:D})),H.createElement("textPath",{xlinkHref:"#".concat(T)},n))},cB=function(t){var n=t.viewBox,r=t.offset,i=t.position,o=n,c=o.cx,u=o.cy,d=o.innerRadius,f=o.outerRadius,h=o.startAngle,m=o.endAngle,x=(h+m)/2;if(i==="outside"){var v=Xt(c,u,f+r,x),j=v.x,b=v.y;return{x:j,y:b,textAnchor:j>=c?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:c,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:c,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:c,y:u,textAnchor:"middle",verticalAnchor:"end"};var w=(d+f)/2,y=Xt(c,u,w,x),k=y.x,P=y.y;return{x:k,y:P,textAnchor:"middle",verticalAnchor:"middle"}},uB=function(t){var n=t.viewBox,r=t.parentViewBox,i=t.offset,o=t.position,c=n,u=c.x,d=c.y,f=c.width,h=c.height,m=h>=0?1:-1,x=m*i,v=m>0?"end":"start",j=m>0?"start":"end",b=f>=0?1:-1,w=b*i,y=b>0?"end":"start",k=b>0?"start":"end";if(o==="top"){var P={x:u+f/2,y:d-m*i,textAnchor:"middle",verticalAnchor:v};return _t(_t({},P),r?{height:Math.max(d-r.y,0),width:f}:{})}if(o==="bottom"){var C={x:u+f/2,y:d+h+x,textAnchor:"middle",verticalAnchor:j};return _t(_t({},C),r?{height:Math.max(r.y+r.height-(d+h),0),width:f}:{})}if(o==="left"){var S={x:u-w,y:d+h/2,textAnchor:y,verticalAnchor:"middle"};return _t(_t({},S),r?{width:Math.max(S.x-r.x,0),height:h}:{})}if(o==="right"){var E={x:u+f+w,y:d+h/2,textAnchor:k,verticalAnchor:"middle"};return _t(_t({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:h}:{})}var D=r?{width:f,height:h}:{};return o==="insideLeft"?_t({x:u+w,y:d+h/2,textAnchor:k,verticalAnchor:"middle"},D):o==="insideRight"?_t({x:u+f-w,y:d+h/2,textAnchor:y,verticalAnchor:"middle"},D):o==="insideTop"?_t({x:u+f/2,y:d+x,textAnchor:"middle",verticalAnchor:j},D):o==="insideBottom"?_t({x:u+f/2,y:d+h-x,textAnchor:"middle",verticalAnchor:v},D):o==="insideTopLeft"?_t({x:u+w,y:d+x,textAnchor:k,verticalAnchor:j},D):o==="insideTopRight"?_t({x:u+f-w,y:d+x,textAnchor:y,verticalAnchor:j},D):o==="insideBottomLeft"?_t({x:u+w,y:d+h-x,textAnchor:k,verticalAnchor:v},D):o==="insideBottomRight"?_t({x:u+f-w,y:d+h-x,textAnchor:y,verticalAnchor:v},D):fo(o)&&(he(o.x)||Si(o.x))&&(he(o.y)||Si(o.y))?_t({x:u+Ls(o.x,f),y:d+Ls(o.y,h),textAnchor:"end",verticalAnchor:"end"},D):_t({x:u+f/2,y:d+h/2,textAnchor:"middle",verticalAnchor:"middle"},D)},dB=function(t){return"cx"in t&&he(t.cx)};function sn(e){var t=e.offset,n=t===void 0?5:t,r=tB(e,Y7),i=_t({offset:n},r),o=i.viewBox,c=i.position,u=i.value,d=i.children,f=i.content,h=i.className,m=h===void 0?"":h,x=i.textBreakAll;if(!o||Be(u)&&Be(d)&&!O.isValidElement(f)&&!Fe(f))return null;if(O.isValidElement(f))return O.cloneElement(f,i);var v;if(Fe(f)){if(v=O.createElement(f,i),O.isValidElement(v))return v}else v=sB(i);var j=dB(o),b=Le(i,!0);if(j&&(c==="insideStart"||c==="insideEnd"||c==="end"))return lB(i,v,b);var w=j?cB(i):uB(i);return H.createElement(Td,sc({className:Ye("recharts-label",m)},b,w,{breakAll:x}),v)}sn.displayName="Label";var UO=function(t){var n=t.cx,r=t.cy,i=t.angle,o=t.startAngle,c=t.endAngle,u=t.r,d=t.radius,f=t.innerRadius,h=t.outerRadius,m=t.x,x=t.y,v=t.top,j=t.left,b=t.width,w=t.height,y=t.clockWise,k=t.labelViewBox;if(k)return k;if(he(b)&&he(w)){if(he(m)&&he(x))return{x:m,y:x,width:b,height:w};if(he(v)&&he(j))return{x:v,y:j,width:b,height:w}}return he(m)&&he(x)?{x:m,y:x,width:0,height:0}:he(n)&&he(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:c||i||0,innerRadius:f||0,outerRadius:h||d||u||0,clockWise:y}:t.viewBox?t.viewBox:{}},fB=function(t,n){return t?t===!0?H.createElement(sn,{key:"label-implicit",viewBox:n}):Mt(t)?H.createElement(sn,{key:"label-implicit",viewBox:n,value:t}):O.isValidElement(t)?t.type===sn?O.cloneElement(t,{key:"label-implicit",viewBox:n}):H.createElement(sn,{key:"label-implicit",content:t,viewBox:n}):Fe(t)?H.createElement(sn,{key:"label-implicit",content:t,viewBox:n}):fo(t)?H.createElement(sn,sc({viewBox:n},t,{key:"label-implicit"})):null:null},pB=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var i=t.children,o=UO(t),c=kn(i,sn).map(function(d,f){return O.cloneElement(d,{viewBox:n||o,key:"label-".concat(f)})});if(!r)return c;var u=fB(t.label,n||o);return[u].concat(X7(c))};sn.parseViewBox=UO;sn.renderCallByParent=pB;var gg,rA;function hB(){if(rA)return gg;rA=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return gg=e,gg}var mB=hB();const xB=lt(mB);function oc(e){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oc(e)}var gB=["valueAccessor"],vB=["data","dataKey","clockWise","id","textBreakAll"];function yB(e){return NB(e)||jB(e)||wB(e)||bB()}function bB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wB(e,t){if(e){if(typeof e=="string")return Lv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lv(e,t)}}function jB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function NB(e){if(Array.isArray(e))return Lv(e)}function Lv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yd(){return Yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yd.apply(this,arguments)}function aA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aA(Object(n),!0).forEach(function(r){SB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SB(e,t,n){return t=kB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kB(e){var t=CB(e,"string");return oc(t)=="symbol"?t:String(t)}function CB(e,t){if(oc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sA(e,t){if(e==null)return{};var n=AB(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function AB(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var PB=function(t){return Array.isArray(t.value)?xB(t.value):t.value};function _r(e){var t=e.valueAccessor,n=t===void 0?PB:t,r=sA(e,gB),i=r.data,o=r.dataKey,c=r.clockWise,u=r.id,d=r.textBreakAll,f=sA(r,vB);return!i||!i.length?null:H.createElement(Qe,{className:"recharts-label-list"},i.map(function(h,m){var x=Be(o)?n(h,m):Rt(h&&h.payload,o),v=Be(u)?{}:{id:"".concat(u,"-").concat(m)};return H.createElement(sn,Yd({},Le(h,!0),f,v,{parentViewBox:h.parentViewBox,value:x,textBreakAll:d,viewBox:sn.parseViewBox(Be(c)?h:iA(iA({},h),{},{clockWise:c})),key:"label-".concat(m),index:m}))}))}_r.displayName="LabelList";function EB(e,t){return e?e===!0?H.createElement(_r,{key:"labelList-implicit",data:t}):H.isValidElement(e)||Fe(e)?H.createElement(_r,{key:"labelList-implicit",data:t,content:e}):fo(e)?H.createElement(_r,Yd({data:t},e,{key:"labelList-implicit"})):null:null}function DB(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=kn(r,_r).map(function(c,u){return O.cloneElement(c,{data:t,key:"labelList-".concat(u)})});if(!n)return i;var o=EB(e.label,t);return[o].concat(yB(i))}_r.renderCallByParent=DB;function lc(e){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lc(e)}function Bv(){return Bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bv.apply(this,arguments)}function oA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oA(Object(n),!0).forEach(function(r){OB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OB(e,t,n){return t=IB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IB(e){var t=TB(e,"string");return lc(t)=="symbol"?t:String(t)}function TB(e,t){if(lc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _B=function(t,n){var r=vr(n-t),i=Math.min(Math.abs(n-t),359.999);return r*i},id=function(t){var n=t.cx,r=t.cy,i=t.radius,o=t.angle,c=t.sign,u=t.isExternal,d=t.cornerRadius,f=t.cornerIsExternal,h=d*(u?1:-1)+i,m=Math.asin(d/h)/Gd,x=f?o:o+c*m,v=Xt(n,r,h,x),j=Xt(n,r,i,x),b=f?o-c*m:o,w=Xt(n,r,h*Math.cos(m*Gd),b);return{center:v,circleTangency:j,lineTangency:w,theta:m}},qO=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,c=t.startAngle,u=t.endAngle,d=_B(c,u),f=c+d,h=Xt(n,r,o,c),m=Xt(n,r,o,f),x="M ".concat(h.x,",").concat(h.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(c>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var v=Xt(n,r,i,c),j=Xt(n,r,i,f);x+="L ".concat(j.x,",").concat(j.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(c<=f),`,
            `).concat(v.x,",").concat(v.y," Z")}else x+="L ".concat(n,",").concat(r," Z");return x},MB=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,c=t.cornerRadius,u=t.forceCornerRadius,d=t.cornerIsExternal,f=t.startAngle,h=t.endAngle,m=vr(h-f),x=id({cx:n,cy:r,radius:o,angle:f,sign:m,cornerRadius:c,cornerIsExternal:d}),v=x.circleTangency,j=x.lineTangency,b=x.theta,w=id({cx:n,cy:r,radius:o,angle:h,sign:-m,cornerRadius:c,cornerIsExternal:d}),y=w.circleTangency,k=w.lineTangency,P=w.theta,C=d?Math.abs(f-h):Math.abs(f-h)-b-P;if(C<0)return u?"M ".concat(j.x,",").concat(j.y,`
        a`).concat(c,",").concat(c,",0,0,1,").concat(c*2,`,0
        a`).concat(c,",").concat(c,",0,0,1,").concat(-c*2,`,0
      `):qO({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:f,endAngle:h});var S="M ".concat(j.x,",").concat(j.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(m<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(C>180),",").concat(+(m<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(m<0),",").concat(k.x,",").concat(k.y,`
  `);if(i>0){var E=id({cx:n,cy:r,radius:i,angle:f,sign:m,isExternal:!0,cornerRadius:c,cornerIsExternal:d}),D=E.circleTangency,T=E.lineTangency,M=E.theta,z=id({cx:n,cy:r,radius:i,angle:h,sign:-m,isExternal:!0,cornerRadius:c,cornerIsExternal:d}),R=z.circleTangency,$=z.lineTangency,B=z.theta,L=d?Math.abs(f-h):Math.abs(f-h)-M-B;if(L<0&&c===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat($.x,",").concat($.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(m<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(L>180),",").concat(+(m>0),",").concat(D.x,",").concat(D.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(m<0),",").concat(T.x,",").concat(T.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},RB={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},WO=function(t){var n=lA(lA({},RB),t),r=n.cx,i=n.cy,o=n.innerRadius,c=n.outerRadius,u=n.cornerRadius,d=n.forceCornerRadius,f=n.cornerIsExternal,h=n.startAngle,m=n.endAngle,x=n.className;if(c<o||h===m)return null;var v=Ye("recharts-sector",x),j=c-o,b=Ls(u,j,0,!0),w;return b>0&&Math.abs(h-m)<360?w=MB({cx:r,cy:i,innerRadius:o,outerRadius:c,cornerRadius:Math.min(b,j/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:m}):w=qO({cx:r,cy:i,innerRadius:o,outerRadius:c,startAngle:h,endAngle:m}),H.createElement("path",Bv({},Le(n,!0),{className:v,d:w,role:"img"}))};function cc(e){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cc(e)}function Fv(){return Fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fv.apply(this,arguments)}function cA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cA(Object(n),!0).forEach(function(r){$B(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $B(e,t,n){return t=zB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zB(e){var t=LB(e,"string");return cc(t)=="symbol"?t:String(t)}function LB(e,t){if(cc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dA={curveBasisClosed:m6,curveBasisOpen:x6,curveBasis:h6,curveBumpX:e6,curveBumpY:t6,curveLinearClosed:g6,curveLinear:Of,curveMonotoneX:v6,curveMonotoneY:y6,curveNatural:b6,curveStep:w6,curveStepAfter:N6,curveStepBefore:j6},sd=function(t){return t.x===+t.x&&t.y===+t.y},fl=function(t){return t.x},pl=function(t){return t.y},BB=function(t,n){if(Fe(t))return t;var r="curve".concat(Ef(t));return(r==="curveMonotone"||r==="curveBump")&&n?dA["".concat(r).concat(n==="vertical"?"Y":"X")]:dA[r]||Of},FB=function(t){var n=t.type,r=n===void 0?"linear":n,i=t.points,o=i===void 0?[]:i,c=t.baseLine,u=t.layout,d=t.connectNulls,f=d===void 0?!1:d,h=BB(r,u),m=f?o.filter(function(b){return sd(b)}):o,x;if(Array.isArray(c)){var v=f?c.filter(function(b){return sd(b)}):c,j=m.map(function(b,w){return uA(uA({},b),{},{base:v[w]})});return u==="vertical"?x=Qu().y(pl).x1(fl).x0(function(b){return b.base.x}):x=Qu().x(fl).y1(pl).y0(function(b){return b.base.y}),x.defined(sd).curve(h),x(j)}return u==="vertical"&&he(c)?x=Qu().y(pl).x1(fl).x0(c):he(c)?x=Qu().x(fl).y1(pl).y0(c):x=ZE().x(fl).y(pl),x.defined(sd).curve(h),x(m)},Ti=function(t){var n=t.className,r=t.points,i=t.path,o=t.pathRef;if((!r||!r.length)&&!i)return null;var c=r&&r.length?FB(t):i;return H.createElement("path",Fv({},Le(t,!1),jd(t),{className:Ye("recharts-curve",n),d:c,ref:o}))},vg={exports:{}},yg,fA;function UB(){if(fA)return yg;fA=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return yg=e,yg}var bg,pA;function qB(){if(pA)return bg;pA=1;var e=UB();function t(){}function n(){}return n.resetWarningCache=t,bg=function(){function r(c,u,d,f,h,m){if(m!==e){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o},bg}var hA;function WB(){return hA||(hA=1,vg.exports=qB()()),vg.exports}var HB=WB();const et=lt(HB),{getOwnPropertyNames:VB,getOwnPropertySymbols:KB}=Object,{hasOwnProperty:GB}=Object.prototype;function wg(e,t){return function(r,i,o){return e(r,i,o)&&t(r,i,o)}}function od(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);const{cache:o}=i,c=o.get(n),u=o.get(r);if(c&&u)return c===r&&u===n;o.set(n,r),o.set(r,n);const d=e(n,r,i);return o.delete(n),o.delete(r),d}}function YB(e){return e!=null?e[Symbol.toStringTag]:void 0}function mA(e){return VB(e).concat(KB(e))}const XB=Object.hasOwn||((e,t)=>GB.call(e,t));function Xi(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const QB="__v",ZB="__o",JB="_owner",{getOwnPropertyDescriptor:xA,keys:gA}=Object;function eF(e,t){return e.byteLength===t.byteLength&&Xd(new Uint8Array(e),new Uint8Array(t))}function tF(e,t,n){let r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function nF(e,t){return e.byteLength===t.byteLength&&Xd(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function rF(e,t){return Xi(e.getTime(),t.getTime())}function aF(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function iF(e,t){return e===t}function vA(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const i=new Array(r),o=e.entries();let c,u,d=0;for(;(c=o.next())&&!c.done;){const f=t.entries();let h=!1,m=0;for(;(u=f.next())&&!u.done;){if(i[m]){m++;continue}const x=c.value,v=u.value;if(n.equals(x[0],v[0],d,m,e,t,n)&&n.equals(x[1],v[1],x[0],v[0],e,t,n)){h=i[m]=!0;break}m++}if(!h)return!1;d++}return!0}const sF=Xi;function oF(e,t,n){const r=gA(e);let i=r.length;if(gA(t).length!==i)return!1;for(;i-- >0;)if(!HO(e,t,n,r[i]))return!1;return!0}function hl(e,t,n){const r=mA(e);let i=r.length;if(mA(t).length!==i)return!1;let o,c,u;for(;i-- >0;)if(o=r[i],!HO(e,t,n,o)||(c=xA(e,o),u=xA(t,o),(c||u)&&(!c||!u||c.configurable!==u.configurable||c.enumerable!==u.enumerable||c.writable!==u.writable)))return!1;return!0}function lF(e,t){return Xi(e.valueOf(),t.valueOf())}function cF(e,t){return e.source===t.source&&e.flags===t.flags}function yA(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const i=new Array(r),o=e.values();let c,u;for(;(c=o.next())&&!c.done;){const d=t.values();let f=!1,h=0;for(;(u=d.next())&&!u.done;){if(!i[h]&&n.equals(c.value,u.value,c.value,u.value,e,t,n)){f=i[h]=!0;break}h++}if(!f)return!1}return!0}function Xd(e,t){let n=e.byteLength;if(t.byteLength!==n||e.byteOffset!==t.byteOffset)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function uF(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function HO(e,t,n,r){return(r===JB||r===ZB||r===QB)&&(e.$$typeof||t.$$typeof)?!0:XB(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}const dF="[object ArrayBuffer]",fF="[object Arguments]",pF="[object Boolean]",hF="[object DataView]",mF="[object Date]",xF="[object Error]",gF="[object Map]",vF="[object Number]",yF="[object Object]",bF="[object RegExp]",wF="[object Set]",jF="[object String]",NF={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},SF="[object URL]",kF=Object.prototype.toString;function CF({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:c,areNumbersEqual:u,areObjectsEqual:d,arePrimitiveWrappersEqual:f,areRegExpsEqual:h,areSetsEqual:m,areTypedArraysEqual:x,areUrlsEqual:v,unknownTagComparators:j}){return function(w,y,k){if(w===y)return!0;if(w==null||y==null)return!1;const P=typeof w;if(P!==typeof y)return!1;if(P!=="object")return P==="number"?u(w,y,k):P==="function"?o(w,y,k):!1;const C=w.constructor;if(C!==y.constructor)return!1;if(C===Object)return d(w,y,k);if(Array.isArray(w))return t(w,y,k);if(C===Date)return r(w,y,k);if(C===RegExp)return h(w,y,k);if(C===Map)return c(w,y,k);if(C===Set)return m(w,y,k);const S=kF.call(w);if(S===mF)return r(w,y,k);if(S===bF)return h(w,y,k);if(S===gF)return c(w,y,k);if(S===wF)return m(w,y,k);if(S===yF)return typeof w.then!="function"&&typeof y.then!="function"&&d(w,y,k);if(S===SF)return v(w,y,k);if(S===xF)return i(w,y,k);if(S===fF)return d(w,y,k);if(NF[S])return x(w,y,k);if(S===dF)return e(w,y,k);if(S===hF)return n(w,y,k);if(S===pF||S===vF||S===jF)return f(w,y,k);if(j){let E=j[S];if(!E){const D=YB(w);D&&(E=j[D])}if(E)return E(w,y,k)}return!1}}function AF({circular:e,createCustomConfig:t,strict:n}){let r={areArrayBuffersEqual:eF,areArraysEqual:n?hl:tF,areDataViewsEqual:nF,areDatesEqual:rF,areErrorsEqual:aF,areFunctionsEqual:iF,areMapsEqual:n?wg(vA,hl):vA,areNumbersEqual:sF,areObjectsEqual:n?hl:oF,arePrimitiveWrappersEqual:lF,areRegExpsEqual:cF,areSetsEqual:n?wg(yA,hl):yA,areTypedArraysEqual:n?wg(Xd,hl):Xd,areUrlsEqual:uF,unknownTagComparators:void 0};if(t&&(r=Object.assign({},r,t(r))),e){const i=od(r.areArraysEqual),o=od(r.areMapsEqual),c=od(r.areObjectsEqual),u=od(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:c,areSetsEqual:u})}return r}function PF(e){return function(t,n,r,i,o,c,u){return e(t,n,u)}}function EF({circular:e,comparator:t,createState:n,equals:r,strict:i}){if(n)return function(u,d){const{cache:f=e?new WeakMap:void 0,meta:h}=n();return t(u,d,{cache:f,equals:r,meta:h,strict:i})};if(e)return function(u,d){return t(u,d,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(u,d){return t(u,d,o)}}const DF=ri();ri({strict:!0});ri({circular:!0});ri({circular:!0,strict:!0});ri({createInternalComparator:()=>Xi});ri({strict:!0,createInternalComparator:()=>Xi});ri({circular:!0,createInternalComparator:()=>Xi});ri({circular:!0,createInternalComparator:()=>Xi,strict:!0});function ri(e={}){const{circular:t=!1,createInternalComparator:n,createState:r,strict:i=!1}=e,o=AF(e),c=CF(o),u=n?n(c):PF(c);return EF({circular:t,comparator:c,createState:r,equals:u,strict:i})}function OF(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function bA(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>t?(e(o),n=-1):OF(i)};requestAnimationFrame(r)}function Uv(e){"@babel/helpers - typeof";return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uv(e)}function IF(e){return RF(e)||MF(e)||_F(e)||TF()}function TF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _F(e,t){if(e){if(typeof e=="string")return wA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wA(e,t)}}function wA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function MF(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RF(e){if(Array.isArray(e))return e}function $F(){var e={},t=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var c=o,u=IF(c),d=u[0],f=u.slice(1);if(typeof d=="number"){bA(i.bind(null,f),d);return}i(d),bA(i.bind(null,f));return}Uv(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function uc(e){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uc(e)}function jA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jA(Object(n),!0).forEach(function(r){VO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VO(e,t,n){return t=zF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zF(e){var t=LF(e,"string");return uc(t)==="symbol"?t:String(t)}function LF(e,t){if(uc(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(uc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BF=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},FF=function(t){return t},UF=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Pl=function(t,n){return Object.keys(n).reduce(function(r,i){return NA(NA({},r),{},VO({},i,t(i,n[i])))},{})},SA=function(t,n,r){return t.map(function(i){return"".concat(UF(i)," ").concat(n,"ms ").concat(r)}).join(",")};function qF(e,t){return VF(e)||HF(e,t)||KO(e,t)||WF()}function WF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HF(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,c,u=[],d=!0,f=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(d=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(h){f=!0,i=h}finally{try{if(!d&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(f)throw i}}return u}}function VF(e){if(Array.isArray(e))return e}function KF(e){return XF(e)||YF(e)||KO(e)||GF()}function GF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KO(e,t){if(e){if(typeof e=="string")return qv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qv(e,t)}}function YF(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function XF(e){if(Array.isArray(e))return qv(e)}function qv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Qd=1e-4,GO=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},YO=function(t,n){return t.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},kA=function(t,n){return function(r){var i=GO(t,n);return YO(i,r)}},QF=function(t,n){return function(r){var i=GO(t,n),o=[].concat(KF(i.map(function(c,u){return c*u}).slice(1)),[0]);return YO(o,r)}},CA=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],o=n[1],c=n[2],u=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,c=1,u=1;break;case"ease":i=.25,o=.1,c=.25,u=1;break;case"ease-in":i=.42,o=0,c=1,u=1;break;case"ease-out":i=.42,o=0,c=.58,u=1;break;case"ease-in-out":i=0,o=0,c=.58,u=1;break;default:{var d=n[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),h=qF(f,4);i=h[0],o=h[1],c=h[2],u=h[3]}}}var m=kA(i,c),x=kA(o,u),v=QF(i,c),j=function(y){return y>1?1:y<0?0:y},b=function(y){for(var k=y>1?1:y,P=k,C=0;C<8;++C){var S=m(P)-k,E=v(P);if(Math.abs(S-k)<Qd||E<Qd)return x(P);P=j(P-S/E)}return x(P)};return b.isStepper=!1,b},ZF=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,i=t.damping,o=i===void 0?8:i,c=t.dt,u=c===void 0?17:c,d=function(h,m,x){var v=-(h-m)*r,j=x*o,b=x+(v-j)*u/1e3,w=x*u/1e3+h;return Math.abs(w-m)<Qd&&Math.abs(b)<Qd?[m,0]:[w,b]};return d.isStepper=!0,d.dt=u,d},JF=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return CA(i);case"spring":return ZF();default:if(i.split("(")[0]==="cubic-bezier")return CA(i)}return typeof i=="function"?i:null};function dc(e){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(e)}function AA(e){return nU(e)||tU(e)||XO(e)||eU()}function eU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nU(e){if(Array.isArray(e))return Hv(e)}function PA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PA(Object(n),!0).forEach(function(r){Wv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wv(e,t,n){return t=rU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rU(e){var t=aU(e,"string");return dc(t)==="symbol"?t:String(t)}function aU(e,t){if(dc(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(dc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iU(e,t){return lU(e)||oU(e,t)||XO(e,t)||sU()}function sU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XO(e,t){if(e){if(typeof e=="string")return Hv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hv(e,t)}}function Hv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oU(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,c,u=[],d=!0,f=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(d=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(h){f=!0,i=h}finally{try{if(!d&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(f)throw i}}return u}}function lU(e){if(Array.isArray(e))return e}var Zd=function(t,n,r){return t+(n-t)*r},Vv=function(t){var n=t.from,r=t.to;return n!==r},cU=function e(t,n,r){var i=Pl(function(o,c){if(Vv(c)){var u=t(c.from,c.to,c.velocity),d=iU(u,2),f=d[0],h=d[1];return Yt(Yt({},c),{},{from:f,velocity:h})}return c},n);return r<1?Pl(function(o,c){return Vv(c)?Yt(Yt({},c),{},{velocity:Zd(c.velocity,i[o].velocity,r),from:Zd(c.from,i[o].from,r)}):c},n):e(t,i,r-1)};const uU=(function(e,t,n,r,i){var o=BF(e,t),c=o.reduce(function(w,y){return Yt(Yt({},w),{},Wv({},y,[e[y],t[y]]))},{}),u=o.reduce(function(w,y){return Yt(Yt({},w),{},Wv({},y,{from:e[y],velocity:0,to:t[y]}))},{}),d=-1,f,h,m=function(){return null},x=function(){return Pl(function(y,k){return k.from},u)},v=function(){return!Object.values(u).filter(Vv).length},j=function(y){f||(f=y);var k=y-f,P=k/n.dt;u=cU(n,u,P),i(Yt(Yt(Yt({},e),t),x())),f=y,v()||(d=requestAnimationFrame(m))},b=function(y){h||(h=y);var k=(y-h)/r,P=Pl(function(S,E){return Zd.apply(void 0,AA(E).concat([n(k)]))},c);if(i(Yt(Yt(Yt({},e),t),P)),k<1)d=requestAnimationFrame(m);else{var C=Pl(function(S,E){return Zd.apply(void 0,AA(E).concat([n(1)]))},c);i(Yt(Yt(Yt({},e),t),C))}};return m=n.isStepper?j:b,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(d)}}});function Ys(e){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ys(e)}var dU=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function fU(e,t){if(e==null)return{};var n=pU(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function pU(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function jg(e){return gU(e)||xU(e)||mU(e)||hU()}function hU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mU(e,t){if(e){if(typeof e=="string")return Kv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kv(e,t)}}function xU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gU(e){if(Array.isArray(e))return Kv(e)}function Kv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function EA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EA(Object(n),!0).forEach(function(r){bl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bl(e,t,n){return t=QO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,QO(r.key),r)}}function bU(e,t,n){return t&&yU(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function QO(e){var t=wU(e,"string");return Ys(t)==="symbol"?t:String(t)}function wU(e,t){if(Ys(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ys(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gv(e,t)}function Gv(e,t){return Gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Gv(e,t)}function NU(e){var t=SU();return function(){var r=Jd(e),i;if(t){var o=Jd(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Yv(this,i)}}function Yv(e,t){if(t&&(Ys(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xv(e)}function Xv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SU(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Jd(e){return Jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jd(e)}var br=(function(e){jU(n,e);var t=NU(n);function n(r,i){var o;vU(this,n),o=t.call(this,r,i);var c=o.props,u=c.isActive,d=c.attributeName,f=c.from,h=c.to,m=c.steps,x=c.children,v=c.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Xv(o)),o.changeStyle=o.changeStyle.bind(Xv(o)),!u||v<=0)return o.state={style:{}},typeof x=="function"&&(o.state={style:h}),Yv(o);if(m&&m.length)o.state={style:m[0].style};else if(f){if(typeof x=="function")return o.state={style:f},Yv(o);o.state={style:d?bl({},d,f):f}}else o.state={style:{}};return o}return bU(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,c=i.canBegin;this.mounted=!0,!(!o||!c)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,c=o.isActive,u=o.canBegin,d=o.attributeName,f=o.shouldReAnimate,h=o.to,m=o.from,x=this.state.style;if(u){if(!c){var v={style:d?bl({},d,h):h};this.state&&x&&(d&&x[d]!==h||!d&&x!==h)&&this.setState(v);return}if(!(DF(i.to,h)&&i.canBegin&&i.isActive)){var j=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=j||f?m:i.to;if(this.state&&x){var w={style:d?bl({},d,b):b};(d&&x[d]!==b||!d&&x!==b)&&this.setState(w)}this.runAnimation(fr(fr({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,c=i.from,u=i.to,d=i.duration,f=i.easing,h=i.begin,m=i.onAnimationEnd,x=i.onAnimationStart,v=uU(c,u,JF(f),d,this.changeStyle),j=function(){o.stopJSAnimation=v()};this.manager.start([x,h,j,d,m])}},{key:"runStepAnimation",value:function(i){var o=this,c=i.steps,u=i.begin,d=i.onAnimationStart,f=c[0],h=f.style,m=f.duration,x=m===void 0?0:m,v=function(b,w,y){if(y===0)return b;var k=w.duration,P=w.easing,C=P===void 0?"ease":P,S=w.style,E=w.properties,D=w.onAnimationEnd,T=y>0?c[y-1]:w,M=E||Object.keys(S);if(typeof C=="function"||C==="spring")return[].concat(jg(b),[o.runJSAnimation.bind(o,{from:T.style,to:S,duration:k,easing:C}),k]);var z=SA(M,k,C),R=fr(fr(fr({},T.style),S),{},{transition:z});return[].concat(jg(b),[R,k,D]).filter(FF)};return this.manager.start([d].concat(jg(c.reduce(v,[h,Math.max(x,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=$F());var o=i.begin,c=i.duration,u=i.attributeName,d=i.to,f=i.easing,h=i.onAnimationStart,m=i.onAnimationEnd,x=i.steps,v=i.children,j=this.manager;if(this.unSubscribe=j.subscribe(this.handleStyleChange),typeof f=="function"||typeof v=="function"||f==="spring"){this.runJSAnimation(i);return}if(x.length>1){this.runStepAnimation(i);return}var b=u?bl({},u,d):d,w=SA(Object.keys(b),c,f);j.start([h,o,fr(fr({},b),{},{transition:w}),c,m])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var c=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var d=fU(i,dU),f=O.Children.count(o),h=this.state.style;if(typeof o=="function")return o(h);if(!u||f===0||c<=0)return o;var m=function(v){var j=v.props,b=j.style,w=b===void 0?{}:b,y=j.className,k=O.cloneElement(v,fr(fr({},d),{},{style:fr(fr({},w),h),className:y}));return k};return f===1?m(O.Children.only(o)):H.createElement("div",null,O.Children.map(o,function(x){return m(x)}))}}]),n})(O.PureComponent);br.displayName="Animate";br.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};br.propTypes={from:et.oneOfType([et.object,et.string]),to:et.oneOfType([et.object,et.string]),attributeName:et.string,duration:et.number,begin:et.number,easing:et.oneOfType([et.string,et.func]),steps:et.arrayOf(et.shape({duration:et.number.isRequired,style:et.object.isRequired,easing:et.oneOfType([et.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),et.func]),properties:et.arrayOf("string"),onAnimationEnd:et.func})),children:et.oneOfType([et.node,et.func]),isActive:et.bool,canBegin:et.bool,onAnimationEnd:et.func,shouldReAnimate:et.bool,onAnimationStart:et.func,onAnimationReStart:et.func};function fc(e){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}function ef(){return ef=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ef.apply(this,arguments)}function kU(e,t){return EU(e)||PU(e,t)||AU(e,t)||CU()}function CU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AU(e,t){if(e){if(typeof e=="string")return DA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DA(e,t)}}function DA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function PU(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,c,u=[],d=!0,f=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(d=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(h){f=!0,i=h}finally{try{if(!d&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(f)throw i}}return u}}function EU(e){if(Array.isArray(e))return e}function OA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function IA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OA(Object(n),!0).forEach(function(r){DU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DU(e,t,n){return t=OU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OU(e){var t=IU(e,"string");return fc(t)=="symbol"?t:String(t)}function IU(e,t){if(fc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TA=function(t,n,r,i,o){var c=Math.min(Math.abs(r)/2,Math.abs(i)/2),u=i>=0?1:-1,d=r>=0?1:-1,f=i>=0&&r>=0||i<0&&r<0?1:0,h;if(c>0&&o instanceof Array){for(var m=[0,0,0,0],x=0,v=4;x<v;x++)m[x]=o[x]>c?c:o[x];h="M".concat(t,",").concat(n+u*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(t+d*m[0],",").concat(n)),h+="L ".concat(t+r-d*m[1],",").concat(n),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(t+r,",").concat(n+u*m[1])),h+="L ".concat(t+r,",").concat(n+i-u*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(t+r-d*m[2],",").concat(n+i)),h+="L ".concat(t+d*m[3],",").concat(n+i),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(n+i-u*m[3])),h+="Z"}else if(c>0&&o===+o&&o>0){var j=Math.min(c,o);h="M ".concat(t,",").concat(n+u*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(t+d*j,",").concat(n,`
            L `).concat(t+r-d*j,",").concat(n,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(t+r,",").concat(n+u*j,`
            L `).concat(t+r,",").concat(n+i-u*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(t+r-d*j,",").concat(n+i,`
            L `).concat(t+d*j,",").concat(n+i,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(t,",").concat(n+i-u*j," Z")}else h="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return h},TU=function(t,n){if(!t||!n)return!1;var r=t.x,i=t.y,o=n.x,c=n.y,u=n.width,d=n.height;if(Math.abs(u)>0&&Math.abs(d)>0){var f=Math.min(o,o+u),h=Math.max(o,o+u),m=Math.min(c,c+d),x=Math.max(c,c+d);return r>=f&&r<=h&&i>=m&&i<=x}return!1},_U={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Mb=function(t){var n=IA(IA({},_U),t),r=O.useRef(),i=O.useState(-1),o=kU(i,2),c=o[0],u=o[1];O.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&u(C)}catch{}},[]);var d=n.x,f=n.y,h=n.width,m=n.height,x=n.radius,v=n.className,j=n.animationEasing,b=n.animationDuration,w=n.animationBegin,y=n.isAnimationActive,k=n.isUpdateAnimationActive;if(d!==+d||f!==+f||h!==+h||m!==+m||h===0||m===0)return null;var P=Ye("recharts-rectangle",v);return k?H.createElement(br,{canBegin:c>0,from:{width:h,height:m,x:d,y:f},to:{width:h,height:m,x:d,y:f},duration:b,animationEasing:j,isActive:k},function(C){var S=C.width,E=C.height,D=C.x,T=C.y;return H.createElement(br,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:b,isActive:y,easing:j},H.createElement("path",ef({},Le(n,!0),{className:P,d:TA(D,T,S,E,x),ref:r})))}):H.createElement("path",ef({},Le(n,!0),{className:P,d:TA(d,f,h,m,x)}))};function Qv(){return Qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qv.apply(this,arguments)}var Vf=function(t){var n=t.cx,r=t.cy,i=t.r,o=t.className,c=Ye("recharts-dot",o);return n===+n&&r===+r&&i===+i?H.createElement("circle",Qv({},Le(t,!1),jd(t),{className:c,cx:n,cy:r,r:i})):null};function pc(e){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(e)}var MU=["x","y","top","left","width","height","className"];function Zv(){return Zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zv.apply(this,arguments)}function _A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function RU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_A(Object(n),!0).forEach(function(r){$U(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_A(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $U(e,t,n){return t=zU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zU(e){var t=LU(e,"string");return pc(t)=="symbol"?t:String(t)}function LU(e,t){if(pc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BU(e,t){if(e==null)return{};var n=FU(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function FU(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var UU=function(t,n,r,i,o,c){return"M".concat(t,",").concat(o,"v").concat(i,"M").concat(c,",").concat(n,"h").concat(r)},qU=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,o=i===void 0?0:i,c=t.top,u=c===void 0?0:c,d=t.left,f=d===void 0?0:d,h=t.width,m=h===void 0?0:h,x=t.height,v=x===void 0?0:x,j=t.className,b=BU(t,MU),w=RU({x:r,y:o,top:u,left:f,width:m,height:v},b);return!he(r)||!he(o)||!he(m)||!he(v)||!he(u)||!he(f)?null:H.createElement("path",Zv({},Le(w,!0),{className:Ye("recharts-cross",j),d:UU(r,o,m,v,u,f)}))},Ng,MA;function WU(){if(MA)return Ng;MA=1;var e=wD(),t=e(Object.getPrototypeOf,Object);return Ng=t,Ng}var Sg,RA;function HU(){if(RA)return Sg;RA=1;var e=ma(),t=WU(),n=xa(),r="[object Object]",i=Function.prototype,o=Object.prototype,c=i.toString,u=o.hasOwnProperty,d=c.call(Object);function f(h){if(!n(h)||e(h)!=r)return!1;var m=t(h);if(m===null)return!0;var x=u.call(m,"constructor")&&m.constructor;return typeof x=="function"&&x instanceof x&&c.call(x)==d}return Sg=f,Sg}var VU=HU();const KU=lt(VU);var kg,$A;function GU(){if($A)return kg;$A=1;var e=ma(),t=xa(),n="[object Boolean]";function r(i){return i===!0||i===!1||t(i)&&e(i)==n}return kg=r,kg}var YU=GU();const XU=lt(YU);function hc(e){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(e)}function tf(){return tf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tf.apply(this,arguments)}function QU(e,t){return tq(e)||eq(e,t)||JU(e,t)||ZU()}function ZU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JU(e,t){if(e){if(typeof e=="string")return zA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zA(e,t)}}function zA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eq(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,c,u=[],d=!0,f=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(d=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(h){f=!0,i=h}finally{try{if(!d&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(f)throw i}}return u}}function tq(e){if(Array.isArray(e))return e}function LA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LA(Object(n),!0).forEach(function(r){nq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nq(e,t,n){return t=rq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rq(e){var t=aq(e,"string");return hc(t)=="symbol"?t:String(t)}function aq(e,t){if(hc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FA=function(t,n,r,i,o){var c=r-i,u;return u="M ".concat(t,",").concat(n),u+="L ".concat(t+r,",").concat(n),u+="L ".concat(t+r-c/2,",").concat(n+o),u+="L ".concat(t+r-c/2-i,",").concat(n+o),u+="L ".concat(t,",").concat(n," Z"),u},iq={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sq=function(t){var n=BA(BA({},iq),t),r=O.useRef(),i=O.useState(-1),o=QU(i,2),c=o[0],u=o[1];O.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var P=r.current.getTotalLength();P&&u(P)}catch{}},[]);var d=n.x,f=n.y,h=n.upperWidth,m=n.lowerWidth,x=n.height,v=n.className,j=n.animationEasing,b=n.animationDuration,w=n.animationBegin,y=n.isUpdateAnimationActive;if(d!==+d||f!==+f||h!==+h||m!==+m||x!==+x||h===0&&m===0||x===0)return null;var k=Ye("recharts-trapezoid",v);return y?H.createElement(br,{canBegin:c>0,from:{upperWidth:0,lowerWidth:0,height:x,x:d,y:f},to:{upperWidth:h,lowerWidth:m,height:x,x:d,y:f},duration:b,animationEasing:j,isActive:y},function(P){var C=P.upperWidth,S=P.lowerWidth,E=P.height,D=P.x,T=P.y;return H.createElement(br,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:b,easing:j},H.createElement("path",tf({},Le(n,!0),{className:k,d:FA(D,T,C,S,E),ref:r})))}):H.createElement("g",null,H.createElement("path",tf({},Le(n,!0),{className:k,d:FA(d,f,h,m,x)})))},oq=["option","shapeType","propTransformer","activeClassName","isActive"];function mc(e){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mc(e)}function lq(e,t){if(e==null)return{};var n=cq(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function cq(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function UA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UA(Object(n),!0).forEach(function(r){uq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uq(e,t,n){return t=dq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dq(e){var t=fq(e,"string");return mc(t)=="symbol"?t:String(t)}function fq(e,t){if(mc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pq(e,t){return nf(nf({},t),e)}function hq(e,t){return e==="symbols"}function qA(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return H.createElement(Mb,n);case"trapezoid":return H.createElement(sq,n);case"sector":return H.createElement(WO,n);case"symbols":if(hq(t))return H.createElement(Tf,n);break;default:return null}}function mq(e){return O.isValidElement(e)?e.props:e}function Jv(e){var t=e.option,n=e.shapeType,r=e.propTransformer,i=r===void 0?pq:r,o=e.activeClassName,c=o===void 0?"recharts-active-shape":o,u=e.isActive,d=lq(e,oq),f;if(O.isValidElement(t))f=O.cloneElement(t,nf(nf({},d),mq(t)));else if(Fe(t))f=t(d);else if(KU(t)&&!XU(t)){var h=i(t,d);f=H.createElement(qA,{shapeType:n,elementProps:h})}else{var m=d;f=H.createElement(qA,{shapeType:n,elementProps:m})}return u?H.createElement(Qe,{className:c},f):f}function Kf(e,t){return t!=null&&"trapezoids"in e.props}function Gf(e,t){return t!=null&&"sectors"in e.props}function xc(e,t){return t!=null&&"points"in e.props}function xq(e,t){var n,r,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,o=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return i&&o}function gq(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function vq(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function yq(e,t){var n;return Kf(e,t)?n=xq:Gf(e,t)?n=gq:xc(e,t)&&(n=vq),n}function bq(e,t){var n;return Kf(e,t)?n="trapezoids":Gf(e,t)?n="sectors":xc(e,t)&&(n="points"),n}function wq(e,t){if(Kf(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Gf(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return xc(e,t)?t.payload:{}}function jq(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=bq(n,t),o=wq(n,t),c=r.filter(function(d,f){var h=zi(o,d),m=n.props[i].filter(function(j){var b=yq(n,t);return b(j,t)}),x=n.props[i].indexOf(m[m.length-1]),v=f===x;return h&&v}),u=r.indexOf(c[c.length-1]);return u}var Cg,WA;function Nq(){if(WA)return Cg;WA=1;var e=Math.ceil,t=Math.max;function n(r,i,o,c){for(var u=-1,d=t(e((i-r)/(o||1)),0),f=Array(d);d--;)f[c?d:++u]=r,r+=o;return f}return Cg=n,Cg}var Ag,HA;function ZO(){if(HA)return Ag;HA=1;var e=zD(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var o=i<0?-1:1;return o*n}return i===i?i:0}return Ag=r,Ag}var Pg,VA;function Sq(){if(VA)return Pg;VA=1;var e=Nq(),t=Rf(),n=ZO();function r(i){return function(o,c,u){return u&&typeof u!="number"&&t(o,c,u)&&(c=u=void 0),o=n(o),c===void 0?(c=o,o=0):c=n(c),u=u===void 0?o<c?1:-1:n(u),e(o,c,u,i)}}return Pg=r,Pg}var Eg,KA;function kq(){if(KA)return Eg;KA=1;var e=Sq(),t=e();return Eg=t,Eg}var Cq=kq();const rf=lt(Cq);function gc(e){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}function GA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GA(Object(n),!0).forEach(function(r){JO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JO(e,t,n){return t=Aq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Aq(e){var t=Pq(e,"string");return gc(t)=="symbol"?t:String(t)}function Pq(e,t){if(gc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eq=["Webkit","Moz","O","ms"],Dq=function(t,n){var r=t.replace(/(\w)/,function(o){return o.toUpperCase()}),i=Eq.reduce(function(o,c){return YA(YA({},o),{},JO({},c+r,n))},{});return i[t]=n,i};function Xs(e){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xs(e)}function af(){return af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},af.apply(this,arguments)}function XA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XA(Object(n),!0).forEach(function(r){Mn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Oq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tI(r.key),r)}}function Iq(e,t,n){return t&&QA(e.prototype,t),n&&QA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tq(e,t,n){return t=sf(t),_q(e,eI()?Reflect.construct(t,n||[],sf(e).constructor):t.apply(e,n))}function _q(e,t){if(t&&(Xs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dr(e)}function eI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eI=function(){return!!e})()}function sf(e){return sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sf(e)}function Dr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ey(e,t)}function ey(e,t){return ey=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ey(e,t)}function Mn(e,t,n){return t=tI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tI(e){var t=Rq(e,"string");return Xs(t)=="symbol"?t:String(t)}function Rq(e,t){if(Xs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $q=function(t){var n=t.data,r=t.startIndex,i=t.endIndex,o=t.x,c=t.width,u=t.travellerWidth;if(!n||!n.length)return{};var d=n.length,f=Cl().domain(rf(0,d)).range([o,o+c-u]),h=f.domain().map(function(m){return f(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(r),endX:f(i),scale:f,scaleValues:h}},ZA=function(t){return t.changedTouches&&!!t.changedTouches.length},Qs=(function(e){Mq(t,e);function t(n){var r;return Oq(this,t),r=Tq(this,t,[n]),Mn(Dr(r),"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Mn(Dr(r),"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Mn(Dr(r),"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,c=i.onDragEnd,u=i.startIndex;c==null||c({endIndex:o,startIndex:u})}),r.detachDragEndListener()}),Mn(Dr(r),"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Mn(Dr(r),"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Mn(Dr(r),"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Mn(Dr(r),"handleSlideDragStart",function(i){var o=ZA(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(Dr(r),"startX"),endX:r.handleTravellerDragStart.bind(Dr(r),"endX")},r.state={},r}return Iq(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,c=this.state.scaleValues,u=this.props,d=u.gap,f=u.data,h=f.length-1,m=Math.min(i,o),x=Math.max(i,o),v=t.getIndexInRange(c,m),j=t.getIndexInRange(c,x);return{startIndex:v-v%d,endIndex:j===h?h:j-j%d}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,c=i.tickFormatter,u=i.dataKey,d=Rt(o[r],u,r);return Fe(c)?c(d,r):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,c=i.startX,u=i.endX,d=this.props,f=d.x,h=d.width,m=d.travellerWidth,x=d.startIndex,v=d.endIndex,j=d.onChange,b=r.pageX-o;b>0?b=Math.min(b,f+h-m-u,f+h-m-c):b<0&&(b=Math.max(b,f-c,f-u));var w=this.getIndex({startX:c+b,endX:u+b});(w.startIndex!==x||w.endIndex!==v)&&j&&j(w),this.setState({startX:c+b,endX:u+b,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=ZA(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,c=i.movingTravellerId,u=i.endX,d=i.startX,f=this.state[c],h=this.props,m=h.x,x=h.width,v=h.travellerWidth,j=h.onChange,b=h.gap,w=h.data,y={startX:this.state.startX,endX:this.state.endX},k=r.pageX-o;k>0?k=Math.min(k,m+x-v-f):k<0&&(k=Math.max(k,m-f)),y[c]=f+k;var P=this.getIndex(y),C=P.startIndex,S=P.endIndex,E=function(){var T=w.length-1;return c==="startX"&&(u>d?C%b===0:S%b===0)||u<d&&S===T||c==="endX"&&(u>d?S%b===0:C%b===0)||u>d&&S===T};this.setState(Mn(Mn({},c,f+k),"brushMoveStartX",r.pageX),function(){j&&E()&&j(P)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,c=this.state,u=c.scaleValues,d=c.startX,f=c.endX,h=this.state[i],m=u.indexOf(h);if(m!==-1){var x=m+r;if(!(x===-1||x>=u.length)){var v=u[x];i==="startX"&&v>=f||i==="endX"&&v<=d||this.setState(Mn({},i,v),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,c=r.width,u=r.height,d=r.fill,f=r.stroke;return H.createElement("rect",{stroke:f,fill:d,x:i,y:o,width:c,height:u})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,c=r.width,u=r.height,d=r.data,f=r.children,h=r.padding,m=O.Children.only(f);return m?H.cloneElement(m,{x:i,y:o,width:c,height:u,margin:h,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(r,i){var o=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,x=c.data,v=c.startIndex,j=c.endIndex,b=Math.max(r,this.props.x),w=Dg(Dg({},Le(this.props,!1)),{},{x:b,y:u,width:d,height:f}),y=m||"Min value: ".concat(x[v].name,", Max value: ").concat(x[j].name);return H.createElement(Qe,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),o.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,w))}},{key:"renderSlide",value:function(r,i){var o=this.props,c=o.y,u=o.height,d=o.stroke,f=o.travellerWidth,h=Math.min(r,i)+f,m=Math.max(Math.abs(i-r)-f,0);return H.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:h,y:c,width:m,height:u})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,c=r.y,u=r.height,d=r.travellerWidth,f=r.stroke,h=this.state,m=h.startX,x=h.endX,v=5,j={pointerEvents:"none",fill:f};return H.createElement(Qe,{className:"recharts-brush-texts"},H.createElement(Td,af({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,x)-v,y:c+u/2},j),this.getTextOfTick(i)),H.createElement(Td,af({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,x)+d+v,y:c+u/2},j),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,c=r.children,u=r.x,d=r.y,f=r.width,h=r.height,m=r.alwaysShowText,x=this.state,v=x.startX,j=x.endX,b=x.isTextActive,w=x.isSlideMoving,y=x.isTravellerMoving,k=x.isTravellerFocused;if(!i||!i.length||!he(u)||!he(d)||!he(f)||!he(h)||f<=0||h<=0)return null;var P=Ye("recharts-brush",o),C=H.Children.count(c)===1,S=Dq("userSelect","none");return H.createElement(Qe,{className:P,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(v,j),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(j,"endX"),(b||w||y||k||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,c=r.width,u=r.height,d=r.stroke,f=Math.floor(o+u/2)-1;return H.createElement(H.Fragment,null,H.createElement("rect",{x:i,y:o,width:c,height:u,fill:d,stroke:"none"}),H.createElement("line",{x1:i+1,y1:f,x2:i+c-1,y2:f,fill:"none",stroke:"#fff"}),H.createElement("line",{x1:i+1,y1:f+2,x2:i+c-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return H.isValidElement(r)?o=H.cloneElement(r,i):Fe(r)?o=r(i):o=t.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,c=r.width,u=r.x,d=r.travellerWidth,f=r.updateId,h=r.startIndex,m=r.endIndex;if(o!==i.prevData||f!==i.prevUpdateId)return Dg({prevData:o,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:c},o&&o.length?$q({data:o,width:c,x:u,travellerWidth:d,startIndex:h,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(c!==i.prevWidth||u!==i.prevX||d!==i.prevTravellerWidth)){i.scale.range([u,u+c-d]);var x=i.scale.domain().map(function(v){return i.scale(v)});return{prevData:o,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:c,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:x}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,c=0,u=o-1;u-c>1;){var d=Math.floor((c+u)/2);r[d]>i?u=d:c=d}return i>=r[u]?u:c}}]),t})(O.PureComponent);Mn(Qs,"displayName","Brush");Mn(Qs,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Og,JA;function zq(){if(JA)return Og;JA=1;var e=sb();function t(n,r){var i;return e(n,function(o,c,u){return i=r(o,c,u),!i}),!!i}return Og=t,Og}var Ig,eP;function Lq(){if(eP)return Ig;eP=1;var e=hD(),t=Ja(),n=zq(),r=Pn(),i=Rf();function o(c,u,d){var f=r(c)?e:n;return d&&i(c,u,d)&&(u=void 0),f(c,t(u,3))}return Ig=o,Ig}var Bq=Lq();const Fq=lt(Bq);var Mr=function(t,n){var r=t.alwaysShow,i=t.ifOverflow;return r&&(i="extendDomain"),i===n},Tg,tP;function Uq(){if(tP)return Tg;tP=1;var e=TD();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return Tg=t,Tg}var _g,nP;function qq(){if(nP)return _g;nP=1;var e=Uq(),t=OD(),n=Ja();function r(i,o){var c={};return o=n(o,3),t(i,function(u,d,f){e(c,d,o(u,d,f))}),c}return _g=r,_g}var Wq=qq();const Hq=lt(Wq);var Mg,rP;function Vq(){if(rP)return Mg;rP=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(!n(t[r],r,t))return!1;return!0}return Mg=e,Mg}var Rg,aP;function Kq(){if(aP)return Rg;aP=1;var e=sb();function t(n,r){var i=!0;return e(n,function(o,c,u){return i=!!r(o,c,u),i}),i}return Rg=t,Rg}var $g,iP;function Gq(){if(iP)return $g;iP=1;var e=Vq(),t=Kq(),n=Ja(),r=Pn(),i=Rf();function o(c,u,d){var f=r(c)?e:t;return d&&i(c,u,d)&&(u=void 0),f(c,n(u,3))}return $g=o,$g}var Yq=Gq();const nI=lt(Yq);var Xq=["x","y"];function vc(e){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vc(e)}function ty(){return ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ty.apply(this,arguments)}function sP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ml(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sP(Object(n),!0).forEach(function(r){Qq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qq(e,t,n){return t=Zq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zq(e){var t=Jq(e,"string");return vc(t)=="symbol"?t:String(t)}function Jq(e,t){if(vc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eW(e,t){if(e==null)return{};var n=tW(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function tW(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function nW(e,t){var n=e.x,r=e.y,i=eW(e,Xq),o="".concat(n),c=parseInt(o,10),u="".concat(r),d=parseInt(u,10),f="".concat(t.height||i.height),h=parseInt(f,10),m="".concat(t.width||i.width),x=parseInt(m,10);return ml(ml(ml(ml(ml({},t),i),c?{x:c}:{}),d?{y:d}:{}),{},{height:h,width:x,name:t.name,radius:t.radius})}function oP(e){return H.createElement(Jv,ty({shapeType:"rectangle",propTransformer:nW,activeClassName:"recharts-active-bar"},e))}var rW=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof t=="number")return t;var o=typeof r=="number";return o?t(r,i):(o||Bi(),n)}},aW=["value","background"],rI;function Zs(e){"@babel/helpers - typeof";return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zs(e)}function iW(e,t){if(e==null)return{};var n=sW(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function sW(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function of(){return of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},of.apply(this,arguments)}function lP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lP(Object(n),!0).forEach(function(r){Va(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iI(r.key),r)}}function lW(e,t,n){return t&&cP(e.prototype,t),n&&cP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cW(e,t,n){return t=lf(t),uW(e,aI()?Reflect.construct(t,n||[],lf(e).constructor):t.apply(e,n))}function uW(e,t){if(t&&(Zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wl(e)}function aI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aI=function(){return!!e})()}function lf(e){return lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lf(e)}function wl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ny(e,t)}function ny(e,t){return ny=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ny(e,t)}function Va(e,t,n){return t=iI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iI(e){var t=fW(e,"string");return Zs(t)=="symbol"?t:String(t)}function fW(e,t){if(Zs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Zs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fa=(function(e){dW(t,e);function t(){var n;oW(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=cW(this,t,[].concat(i)),Va(wl(n),"state",{isAnimationFinished:!1}),Va(wl(n),"id",Ki("recharts-bar-")),Va(wl(n),"handleAnimationEnd",function(){var c=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),c&&c()}),Va(wl(n),"handleAnimationStart",function(){var c=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),c&&c()}),n}return lW(t,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,c=o.shape,u=o.dataKey,d=o.activeIndex,f=o.activeBar,h=Le(this.props,!1);return r&&r.map(function(m,x){var v=x===d,j=v?f:c,b=qt(qt(qt({},h),m),{},{isActive:v,option:j,index:x,dataKey:u,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return H.createElement(Qe,of({className:"recharts-bar-rectangle"},Bl(i.props,m,x),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value)}),H.createElement(oP,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,c=i.layout,u=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,h=i.animationEasing,m=i.animationId,x=this.state.prevData;return H.createElement(br,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var j=v.t,b=o.map(function(w,y){var k=x&&x[y];if(k){var P=Ct(k.x,w.x),C=Ct(k.y,w.y),S=Ct(k.width,w.width),E=Ct(k.height,w.height);return qt(qt({},w),{},{x:P(j),y:C(j),width:S(j),height:E(j)})}if(c==="horizontal"){var D=Ct(0,w.height),T=D(j);return qt(qt({},w),{},{y:w.y+w.height-T,height:T})}var M=Ct(0,w.width),z=M(j);return qt(qt({},w),{},{width:z})});return H.createElement(Qe,null,r.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,c=this.state.prevData;return o&&i&&i.length&&(!c||!zi(c,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,c=i.dataKey,u=i.activeIndex,d=Le(this.props.background,!1);return o.map(function(f,h){f.value;var m=f.background,x=iW(f,aW);if(!m)return null;var v=qt(qt(qt(qt(qt({},x),{},{fill:"#eee"},m),d),Bl(r.props,f,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:c,index:h,key:"background-bar-".concat(h),className:"recharts-bar-background-rectangle"});return H.createElement(oP,of({option:r.props.background,isActive:h===u},v))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,c=o.data,u=o.xAxis,d=o.yAxis,f=o.layout,h=o.children,m=kn(h,vo);if(!m)return null;var x=f==="vertical"?c[0].height/2:c[0].width/2,v=function(w,y){var k=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:k,errorVal:Rt(w,y)}},j={clipPath:r?"url(#clipPath-".concat(i,")"):null};return H.createElement(Qe,j,m.map(function(b){return H.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:c,xAxis:u,yAxis:d,layout:f,offset:x,dataPointFormatter:v})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,c=r.className,u=r.xAxis,d=r.yAxis,f=r.left,h=r.top,m=r.width,x=r.height,v=r.isAnimationActive,j=r.background,b=r.id;if(i||!o||!o.length)return null;var w=this.state.isAnimationFinished,y=Ye("recharts-bar",c),k=u&&u.allowDataOverflow,P=d&&d.allowDataOverflow,C=k||P,S=Be(b)?this.id:b;return H.createElement(Qe,{className:y},k||P?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(S)},H.createElement("rect",{x:k?f:f-m/2,y:P?h:h-x/2,width:k?m:m*2,height:P?x:x*2}))):null,H.createElement(Qe,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(S,")"):null},j?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,S),(!v||w)&&_r.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}]),t})(O.PureComponent);rI=fa;Va(fa,"displayName","Bar");Va(fa,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ei.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Va(fa,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,o=e.xAxis,c=e.yAxis,u=e.xAxisTicks,d=e.yAxisTicks,f=e.stackedData,h=e.dataStartIndex,m=e.displayedData,x=e.offset,v=D7(r,n);if(!v)return null;var j=t.layout,b=n.props,w=b.dataKey,y=b.children,k=b.minPointSize,P=j==="horizontal"?c:o,C=f?P.scale.domain():null,S=z7({numericAxis:P}),E=kn(y,cb),D=m.map(function(T,M){var z,R,$,B,L,F;f?z=O7(f[h+M],C):(z=Rt(T,w),Array.isArray(z)||(z=[S,z]));var Y=rW(k,rI.defaultProps.minPointSize)(z[1],M);if(j==="horizontal"){var W,V=[c.scale(z[0]),c.scale(z[1])],ee=V[0],_=V[1];R=YC({axis:o,ticks:u,bandSize:i,offset:v.offset,entry:T,index:M}),$=(W=_??ee)!==null&&W!==void 0?W:void 0,B=v.size;var q=ee-_;if(L=Number.isNaN(q)?0:q,F={x:R,y:c.y,width:B,height:c.height},Math.abs(Y)>0&&Math.abs(L)<Math.abs(Y)){var X=vr(L||Y)*(Math.abs(Y)-Math.abs(L));$-=X,L+=X}}else{var J=[o.scale(z[0]),o.scale(z[1])],le=J[0],ge=J[1];if(R=le,$=YC({axis:c,ticks:d,bandSize:i,offset:v.offset,entry:T,index:M}),B=ge-le,L=v.size,F={x:o.x,y:$,width:o.width,height:L},Math.abs(Y)>0&&Math.abs(B)<Math.abs(Y)){var xe=vr(B||Y)*(Math.abs(Y)-Math.abs(B));B+=xe}}return qt(qt(qt({},T),{},{x:R,y:$,width:B,height:L,value:f?z:z[1],payload:T,background:F},E&&E[M]&&E[M].props),{},{tooltipPayload:[FO(n,T)],tooltipPosition:{x:R+B/2,y:$+L/2}})});return qt({data:D,layout:j},x)});function yc(e){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(e)}function pW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sI(r.key),r)}}function hW(e,t,n){return t&&uP(e.prototype,t),n&&uP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function dP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dP(Object(n),!0).forEach(function(r){Yf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yf(e,t,n){return t=sI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sI(e){var t=mW(e,"string");return yc(t)=="symbol"?t:String(t)}function mW(e,t){if(yc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oI=function(t,n,r,i,o){var c=t.width,u=t.height,d=t.layout,f=t.children,h=Object.keys(n),m={left:r.left,leftMirror:r.left,right:c-r.right,rightMirror:c-r.right,top:r.top,topMirror:r.top,bottom:u-r.bottom,bottomMirror:u-r.bottom},x=!!Rn(f,fa);return h.reduce(function(v,j){var b=n[j],w=b.orientation,y=b.domain,k=b.padding,P=k===void 0?{}:k,C=b.mirror,S=b.reversed,E="".concat(w).concat(C?"Mirror":""),D,T,M,z,R;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var $=y[1]-y[0],B=1/0,L=b.categoricalDomain.sort();L.forEach(function(le,ge){ge>0&&(B=Math.min((le||0)-(L[ge-1]||0),B))});var F=B/$,Y=b.layout==="vertical"?r.height:r.width;if(b.padding==="gap"&&(D=F*Y/2),b.padding==="no-gap"){var W=Ls(t.barCategoryGap,F*Y),V=F*Y/2;D=V-W-(V-W)/Y*W}}i==="xAxis"?T=[r.left+(P.left||0)+(D||0),r.left+r.width-(P.right||0)-(D||0)]:i==="yAxis"?T=d==="horizontal"?[r.top+r.height-(P.bottom||0),r.top+(P.top||0)]:[r.top+(P.top||0)+(D||0),r.top+r.height-(P.bottom||0)-(D||0)]:T=b.range,S&&(T=[T[1],T[0]]);var ee=P7(b,o,x),_=ee.scale,q=ee.realScaleType;_.domain(y).range(T),E7(_);var X=$7(_,hr(hr({},b),{},{realScaleType:q}));i==="xAxis"?(R=w==="top"&&!C||w==="bottom"&&C,M=r.left,z=m[E]-R*b.height):i==="yAxis"&&(R=w==="left"&&!C||w==="right"&&C,M=m[E]-R*b.width,z=r.top);var J=hr(hr(hr({},b),X),{},{realScaleType:q,x:M,y:z,scale:_,width:i==="xAxis"?r.width:b.width,height:i==="yAxis"?r.height:b.height});return J.bandSize=Kd(J,X),!b.hide&&i==="xAxis"?m[E]+=(R?-1:1)*J.height:b.hide||(m[E]+=(R?-1:1)*J.width),hr(hr({},v),{},Yf({},j,J))},{})},lI=function(t,n){var r=t.x,i=t.y,o=n.x,c=n.y;return{x:Math.min(r,o),y:Math.min(i,c),width:Math.abs(o-r),height:Math.abs(c-i)}},xW=function(t){var n=t.x1,r=t.y1,i=t.x2,o=t.y2;return lI({x:n,y:r},{x:i,y:o})},cI=(function(){function e(t){pW(this,e),this.scale=t}return hW(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(n)+u}default:return this.scale(n)}if(i){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+d}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}]),e})();Yf(cI,"EPS",1e-4);var Rb=function(t){var n=Object.keys(t).reduce(function(r,i){return hr(hr({},r),{},Yf({},i,cI.create(t[i])))},{});return hr(hr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=o.bandAware,u=o.position;return Hq(i,function(d,f){return n[f].apply(d,{bandAware:c,position:u})})},isInRange:function(i){return nI(i,function(o,c){return n[c].isInRange(o)})}})};function gW(e){return(e%180+180)%180}var vW=function(t){var n=t.width,r=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=gW(i),c=o*Math.PI/180,u=Math.atan(r/n),d=c>u&&c<Math.PI-u?r/Math.sin(c):n/Math.cos(c);return Math.abs(d)},zg,fP;function yW(){if(fP)return zg;fP=1;var e=Ja(),t=Oc(),n=_f();function r(i){return function(o,c,u){var d=Object(o);if(!t(o)){var f=e(c,3);o=n(o),c=function(m){return f(d[m],m,d)}}var h=i(o,c,u);return h>-1?d[f?o[h]:h]:void 0}}return zg=r,zg}var Lg,pP;function bW(){if(pP)return Lg;pP=1;var e=ZO();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return Lg=t,Lg}var Bg,hP;function wW(){if(hP)return Bg;hP=1;var e=kD(),t=Ja(),n=bW(),r=Math.max;function i(o,c,u){var d=o==null?0:o.length;if(!d)return-1;var f=u==null?0:n(u);return f<0&&(f=r(d+f,0)),e(o,t(c,3),f)}return Bg=i,Bg}var Fg,mP;function jW(){if(mP)return Fg;mP=1;var e=yW(),t=wW(),n=e(t);return Fg=n,Fg}var NW=jW();const SW=lt(NW);var kW=BE();const CW=lt(kW);var AW=CW(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),$b=O.createContext(void 0),zb=O.createContext(void 0),uI=O.createContext(void 0),dI=O.createContext({}),fI=O.createContext(void 0),pI=O.createContext(0),hI=O.createContext(0),xP=function(t){var n=t.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,c=t.clipPathId,u=t.children,d=t.width,f=t.height,h=AW(o);return H.createElement($b.Provider,{value:r},H.createElement(zb.Provider,{value:i},H.createElement(dI.Provider,{value:o},H.createElement(uI.Provider,{value:h},H.createElement(fI.Provider,{value:c},H.createElement(pI.Provider,{value:f},H.createElement(hI.Provider,{value:d},u)))))))},PW=function(){return O.useContext(fI)},mI=function(t){var n=O.useContext($b);n==null&&Bi();var r=n[t];return r==null&&Bi(),r},EW=function(){var t=O.useContext($b);return Ua(t)},DW=function(){var t=O.useContext(zb),n=SW(t,function(r){return nI(r.domain,Number.isFinite)});return n||Ua(t)},xI=function(t){var n=O.useContext(zb);n==null&&Bi();var r=n[t];return r==null&&Bi(),r},OW=function(){var t=O.useContext(uI);return t},IW=function(){return O.useContext(dI)},Lb=function(){return O.useContext(hI)},Bb=function(){return O.useContext(pI)};function bc(e){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(e)}function gP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(n),!0).forEach(function(r){TW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TW(e,t,n){return t=_W(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _W(e){var t=MW(e,"string");return bc(t)=="symbol"?t:String(t)}function MW(e,t){if(bc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RW(e,t){return BW(e)||LW(e,t)||zW(e,t)||$W()}function $W(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zW(e,t){if(e){if(typeof e=="string")return yP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yP(e,t)}}function yP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function LW(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,c,u=[],d=!0,f=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(d=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(h){f=!0,i=h}finally{try{if(!d&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(f)throw i}}return u}}function BW(e){if(Array.isArray(e))return e}function ry(){return ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ry.apply(this,arguments)}var FW=function(t,n){var r;return H.isValidElement(t)?r=H.cloneElement(t,n):Fe(t)?r=t(n):r=H.createElement("line",ry({},n,{className:"recharts-reference-line-line"})),r},UW=function(t,n,r,i,o,c,u,d,f){var h=o.x,m=o.y,x=o.width,v=o.height;if(r){var j=f.y,b=t.y.apply(j,{position:c});if(Mr(f,"discard")&&!t.y.isInRange(b))return null;var w=[{x:h+x,y:b},{x:h,y:b}];return d==="left"?w.reverse():w}if(n){var y=f.x,k=t.x.apply(y,{position:c});if(Mr(f,"discard")&&!t.x.isInRange(k))return null;var P=[{x:k,y:m+v},{x:k,y:m}];return u==="top"?P.reverse():P}if(i){var C=f.segment,S=C.map(function(E){return t.apply(E,{position:c})});return Mr(f,"discard")&&Fq(S,function(E){return!t.isInRange(E)})?null:S}return null};function Fb(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,o=e.yAxisId,c=e.shape,u=e.className,d=e.alwaysShow,f=PW(),h=mI(i),m=xI(o),x=OW();if(!f||!x)return null;ia(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=Rb({x:h.scale,y:m.scale}),j=Mt(t),b=Mt(n),w=r&&r.length===2,y=UW(v,j,b,w,x,e.position,h.orientation,m.orientation,e);if(!y)return null;var k=RW(y,2),P=k[0],C=P.x,S=P.y,E=k[1],D=E.x,T=E.y,M=Mr(e,"hidden")?"url(#".concat(f,")"):void 0,z=vP(vP({clipPath:M},Le(e,!0)),{},{x1:C,y1:S,x2:D,y2:T});return H.createElement(Qe,{className:Ye("recharts-reference-line",u)},FW(c,z),sn.renderCallByParent(e,xW({x1:C,y1:S,x2:D,y2:T})))}Fb.displayName="ReferenceLine";Fb.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function wc(e){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wc(e)}function ay(){return ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ay.apply(this,arguments)}function bP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bP(Object(n),!0).forEach(function(r){qW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qW(e,t,n){return t=WW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WW(e){var t=HW(e,"string");return wc(t)=="symbol"?t:String(t)}function HW(e,t){if(wc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VW=function(t){var n=t.x,r=t.y,i=t.xAxis,o=t.yAxis,c=Rb({x:i.scale,y:o.scale}),u=c.apply({x:n,y:r},{bandAware:!0});return Mr(t,"discard")&&!c.isInRange(u)?null:u};function Rc(e){var t=e.x,n=e.y,r=e.r,i=e.alwaysShow,o=e.clipPathId,c=Mt(t),u=Mt(n);if(ia(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var d=VW(e);if(!d)return null;var f=d.x,h=d.y,m=e.shape,x=e.className,v=Mr(e,"hidden")?"url(#".concat(o,")"):void 0,j=wP(wP({clipPath:v},Le(e,!0)),{},{cx:f,cy:h});return H.createElement(Qe,{className:Ye("recharts-reference-dot",x)},Rc.renderDot(m,j),sn.renderCallByParent(e,{x:f-r,y:h-r,width:2*r,height:2*r}))}Rc.displayName="ReferenceDot";Rc.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};Rc.renderDot=function(e,t){var n;return H.isValidElement(e)?n=H.cloneElement(e,t):Fe(e)?n=e(t):n=H.createElement(Vf,ay({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n};function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}function iy(){return iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iy.apply(this,arguments)}function jP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jP(Object(n),!0).forEach(function(r){KW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KW(e,t,n){return t=GW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GW(e){var t=YW(e,"string");return jc(t)=="symbol"?t:String(t)}function YW(e,t){if(jc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XW=function(t,n,r,i,o){var c=o.x1,u=o.x2,d=o.y1,f=o.y2,h=o.xAxis,m=o.yAxis;if(!h||!m)return null;var x=Rb({x:h.scale,y:m.scale}),v={x:t?x.x.apply(c,{position:"start"}):x.x.rangeMin,y:r?x.y.apply(d,{position:"start"}):x.y.rangeMin},j={x:n?x.x.apply(u,{position:"end"}):x.x.rangeMax,y:i?x.y.apply(f,{position:"end"}):x.y.rangeMax};return Mr(o,"discard")&&(!x.isInRange(v)||!x.isInRange(j))?null:lI(v,j)};function $c(e){var t=e.x1,n=e.x2,r=e.y1,i=e.y2,o=e.className,c=e.alwaysShow,u=e.clipPathId;ia(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Mt(t),f=Mt(n),h=Mt(r),m=Mt(i),x=e.shape;if(!d&&!f&&!h&&!m&&!x)return null;var v=XW(d,f,h,m,e);if(!v&&!x)return null;var j=Mr(e,"hidden")?"url(#".concat(u,")"):void 0;return H.createElement(Qe,{className:Ye("recharts-reference-area",o)},$c.renderRect(x,NP(NP({clipPath:j},Le(e,!0)),v)),sn.renderCallByParent(e,v))}$c.displayName="ReferenceArea";$c.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};$c.renderRect=function(e,t){var n;return H.isValidElement(e)?n=H.cloneElement(e,t):Fe(e)?n=e(t):n=H.createElement(Mb,iy({},t,{className:"recharts-reference-area-rect"})),n};function gI(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function QW(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return vW(r,n)}function ZW(e,t,n){var r=n==="width",i=e.x,o=e.y,c=e.width,u=e.height;return t===1?{start:r?i:o,end:r?i+c:o+u}:{start:r?i+c:o+u,end:r?i:o}}function cf(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function JW(e,t){return gI(e,t+1)}function eH(e,t,n,r,i){for(var o=(r||[]).slice(),c=t.start,u=t.end,d=0,f=1,h=c,m=function(){var j=r==null?void 0:r[d];if(j===void 0)return{v:gI(r,f)};var b=d,w,y=function(){return w===void 0&&(w=n(j,b)),w},k=j.coordinate,P=d===0||cf(e,k,y,h,u);P||(d=0,h=c,f+=1),P&&(h=k+e*(y()/2+i),d+=f)},x;f<=o.length;)if(x=m(),x)return x.v;return[]}function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function SP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SP(Object(n),!0).forEach(function(r){tH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tH(e,t,n){return t=nH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nH(e){var t=rH(e,"string");return Nc(t)=="symbol"?t:String(t)}function rH(e,t){if(Nc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aH(e,t,n,r,i){for(var o=(r||[]).slice(),c=o.length,u=t.start,d=t.end,f=function(x){var v=o[x],j,b=function(){return j===void 0&&(j=n(v,x)),j};if(x===c-1){var w=e*(v.coordinate+e*b()/2-d);o[x]=v=rn(rn({},v),{},{tickCoord:w>0?v.coordinate-w*e:v.coordinate})}else o[x]=v=rn(rn({},v),{},{tickCoord:v.coordinate});var y=cf(e,v.tickCoord,b,u,d);y&&(d=v.tickCoord-e*(b()/2+i),o[x]=rn(rn({},v),{},{isShow:!0}))},h=c-1;h>=0;h--)f(h);return o}function iH(e,t,n,r,i,o){var c=(r||[]).slice(),u=c.length,d=t.start,f=t.end;if(o){var h=r[u-1],m=n(h,u-1),x=e*(h.coordinate+e*m/2-f);c[u-1]=h=rn(rn({},h),{},{tickCoord:x>0?h.coordinate-x*e:h.coordinate});var v=cf(e,h.tickCoord,function(){return m},d,f);v&&(f=h.tickCoord-e*(m/2+i),c[u-1]=rn(rn({},h),{},{isShow:!0}))}for(var j=o?u-1:u,b=function(k){var P=c[k],C,S=function(){return C===void 0&&(C=n(P,k)),C};if(k===0){var E=e*(P.coordinate-e*S()/2-d);c[k]=P=rn(rn({},P),{},{tickCoord:E<0?P.coordinate-E*e:P.coordinate})}else c[k]=P=rn(rn({},P),{},{tickCoord:P.coordinate});var D=cf(e,P.tickCoord,S,d,f);D&&(d=P.tickCoord+e*(S()/2+i),c[k]=rn(rn({},P),{},{isShow:!0}))},w=0;w<j;w++)b(w);return c}function Ub(e,t,n){var r=e.tick,i=e.ticks,o=e.viewBox,c=e.minTickGap,u=e.orientation,d=e.interval,f=e.tickFormatter,h=e.unit,m=e.angle;if(!i||!i.length||!r)return[];if(he(d)||ei.isSsr)return JW(i,typeof d=="number"&&he(d)?d:0);var x=[],v=u==="top"||u==="bottom"?"width":"height",j=h&&v==="width"?kl(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},b=function(P,C){var S=Fe(f)?f(P.value,C):P.value;return v==="width"?QW(kl(S,{fontSize:t,letterSpacing:n}),j,m):kl(S,{fontSize:t,letterSpacing:n})[v]},w=i.length>=2?vr(i[1].coordinate-i[0].coordinate):1,y=ZW(o,w,v);return d==="equidistantPreserveStart"?eH(w,y,b,i,c):(d==="preserveStart"||d==="preserveStartEnd"?x=iH(w,y,b,i,c,d==="preserveStartEnd"):x=aH(w,y,b,i,c),x.filter(function(k){return k.isShow}))}var sH=["viewBox"],oH=["viewBox"],lH=["ticks"];function Js(e){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Js(e)}function _s(){return _s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_s.apply(this,arguments)}function kP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kP(Object(n),!0).forEach(function(r){qb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ug(e,t){if(e==null)return{};var n=cH(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function cH(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function uH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yI(r.key),r)}}function dH(e,t,n){return t&&CP(e.prototype,t),n&&CP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function fH(e,t,n){return t=uf(t),pH(e,vI()?Reflect.construct(t,n||[],uf(e).constructor):t.apply(e,n))}function pH(e,t){if(t&&(Js(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hH(e)}function hH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vI=function(){return!!e})()}function uf(e){return uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uf(e)}function mH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sy(e,t)}function sy(e,t){return sy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sy(e,t)}function qb(e,t,n){return t=yI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yI(e){var t=xH(e,"string");return Js(t)=="symbol"?t:String(t)}function xH(e,t){if(Js(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yo=(function(e){mH(t,e);function t(n){var r;return uH(this,t),r=fH(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return dH(t,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,c=Ug(r,sH),u=this.props,d=u.viewBox,f=Ug(u,oH);return!Ms(o,d)||!Ms(c,f)||!Ms(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,c=i.y,u=i.width,d=i.height,f=i.orientation,h=i.tickSize,m=i.mirror,x=i.tickMargin,v,j,b,w,y,k,P=m?-1:1,C=r.tickSize||h,S=he(r.tickCoord)?r.tickCoord:r.coordinate;switch(f){case"top":v=j=r.coordinate,w=c+ +!m*d,b=w-P*C,k=b-P*x,y=S;break;case"left":b=w=r.coordinate,j=o+ +!m*u,v=j-P*C,y=v-P*x,k=S;break;case"right":b=w=r.coordinate,j=o+ +m*u,v=j+P*C,y=v+P*x,k=S;break;default:v=j=r.coordinate,w=c+ +m*d,b=w+P*C,k=b+P*x,y=S;break}return{line:{x1:v,y1:b,x2:j,y2:w},tick:{x:y,y:k}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,c;switch(i){case"left":c=o?"start":"end";break;case"right":c=o?"end":"start";break;default:c="middle";break}return c}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,c="end";switch(i){case"left":case"right":c="middle";break;case"top":c=o?"start":"end";break;default:c=o?"end":"start";break}return c}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,c=r.width,u=r.height,d=r.orientation,f=r.mirror,h=r.axisLine,m=dn(dn(dn({},Le(this.props,!1)),Le(h,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var x=+(d==="top"&&!f||d==="bottom"&&f);m=dn(dn({},m),{},{x1:i,y1:o+x*u,x2:i+c,y2:o+x*u})}else{var v=+(d==="left"&&!f||d==="right"&&f);m=dn(dn({},m),{},{x1:i+v*c,y1:o,x2:i+v*c,y2:o+u})}return H.createElement("line",_s({},m,{className:Ye("recharts-cartesian-axis-line",er(h,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var c=this,u=this.props,d=u.tickLine,f=u.stroke,h=u.tick,m=u.tickFormatter,x=u.unit,v=Ub(dn(dn({},this.props),{},{ticks:r}),i,o),j=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),w=Le(this.props,!1),y=Le(h,!1),k=dn(dn({},w),{},{fill:"none"},Le(d,!1)),P=v.map(function(C,S){var E=c.getTickLineCoord(C),D=E.line,T=E.tick,M=dn(dn(dn(dn({textAnchor:j,verticalAnchor:b},w),{},{stroke:"none",fill:f},y),T),{},{index:S,payload:C,visibleTicksCount:v.length,tickFormatter:m});return H.createElement(Qe,_s({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},Bl(c.props,C,S)),d&&H.createElement("line",_s({},k,D,{className:Ye("recharts-cartesian-axis-tick-line",er(d,"className"))})),h&&t.renderTickItem(h,M,"".concat(Fe(m)?m(C.value,S):C.value).concat(x||"")))});return H.createElement("g",{className:"recharts-cartesian-axis-ticks"},P)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,c=i.width,u=i.height,d=i.ticksGenerator,f=i.className,h=i.hide;if(h)return null;var m=this.props,x=m.ticks,v=Ug(m,lH),j=x;return Fe(d)&&(j=x&&x.length>0?d(this.props):d(v)),c<=0||u<=0||!j||!j.length?null:H.createElement(Qe,{className:Ye("recharts-cartesian-axis",f),ref:function(w){r.layerReference=w}},o&&this.renderAxisLine(),this.renderTicks(j,this.state.fontSize,this.state.letterSpacing),sn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var c;return H.isValidElement(r)?c=H.cloneElement(r,i):Fe(r)?c=r(i):c=H.createElement(Td,_s({},i,{className:"recharts-cartesian-axis-tick-value"}),o),c}}]),t})(O.Component);qb(yo,"displayName","CartesianAxis");qb(yo,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var gH=["x1","y1","x2","y2","key"],vH=["offset"];function Fi(e){"@babel/helpers - typeof";return Fi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fi(e)}function AP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function on(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AP(Object(n),!0).forEach(function(r){yH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yH(e,t,n){return t=bH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bH(e){var t=wH(e,"string");return Fi(t)=="symbol"?t:String(t)}function wH(e,t){if(Fi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Fi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ai(){return Ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ai.apply(this,arguments)}function PP(e,t){if(e==null)return{};var n=jH(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function jH(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var NH=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,i=t.x,o=t.y,c=t.width,u=t.height;return H.createElement("rect",{x:i,y:o,width:c,height:u,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function bI(e,t){var n;if(H.isValidElement(e))n=H.cloneElement(e,t);else if(Fe(e))n=e(t);else{var r=t.x1,i=t.y1,o=t.x2,c=t.y2,u=t.key,d=PP(t,gH),f=Le(d,!1);f.offset;var h=PP(f,vH);n=H.createElement("line",Ai({},h,{x1:r,y1:i,x2:o,y2:c,fill:"none",key:u}))}return n}function SH(e){var t=e.x,n=e.width,r=e.horizontal,i=r===void 0?!0:r,o=e.horizontalPoints;if(!i||!o||!o.length)return null;var c=o.map(function(u,d){var f=on(on({},e),{},{x1:t,y1:u,x2:t+n,y2:u,key:"line-".concat(d),index:d});return bI(i,f)});return H.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function kH(e){var t=e.y,n=e.height,r=e.vertical,i=r===void 0?!0:r,o=e.verticalPoints;if(!i||!o||!o.length)return null;var c=o.map(function(u,d){var f=on(on({},e),{},{x1:u,y1:t,x2:u,y2:t+n,key:"line-".concat(d),index:d});return bI(i,f)});return H.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function CH(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,i=e.y,o=e.width,c=e.height,u=e.horizontalPoints,d=e.horizontal,f=d===void 0?!0:d;if(!f||!t||!t.length)return null;var h=u.map(function(x){return Math.round(x+i-i)}).sort(function(x,v){return x-v});i!==h[0]&&h.unshift(0);var m=h.map(function(x,v){var j=!h[v+1],b=j?i+c-x:h[v+1]-x;if(b<=0)return null;var w=v%t.length;return H.createElement("rect",{key:"react-".concat(v),y:x,x:r,height:b,width:o,stroke:"none",fill:t[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return H.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function AH(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,i=e.fillOpacity,o=e.x,c=e.y,u=e.width,d=e.height,f=e.verticalPoints;if(!n||!r||!r.length)return null;var h=f.map(function(x){return Math.round(x+o-o)}).sort(function(x,v){return x-v});o!==h[0]&&h.unshift(0);var m=h.map(function(x,v){var j=!h[v+1],b=j?o+u-x:h[v+1]-x;if(b<=0)return null;var w=v%r.length;return H.createElement("rect",{key:"react-".concat(v),x,y:c,width:b,height:d,stroke:"none",fill:r[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return H.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var PH=function(t,n){var r=t.xAxis,i=t.width,o=t.height,c=t.offset;return LO(Ub(on(on(on({},yo.defaultProps),r),{},{ticks:na(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),c.left,c.left+c.width,n)},EH=function(t,n){var r=t.yAxis,i=t.width,o=t.height,c=t.offset;return LO(Ub(on(on(on({},yo.defaultProps),r),{},{ticks:na(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),c.top,c.top+c.height,n)},As={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function oy(e){var t,n,r,i,o,c,u=Lb(),d=Bb(),f=IW(),h=on(on({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:As.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:As.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:As.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:As.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:As.vertical,verticalFill:(c=e.verticalFill)!==null&&c!==void 0?c:As.verticalFill,x:he(e.x)?e.x:f.left,y:he(e.y)?e.y:f.top,width:he(e.width)?e.width:f.width,height:he(e.height)?e.height:f.height}),m=h.x,x=h.y,v=h.width,j=h.height,b=h.syncWithTicks,w=h.horizontalValues,y=h.verticalValues,k=EW(),P=DW();if(!he(v)||v<=0||!he(j)||j<=0||!he(m)||m!==+m||!he(x)||x!==+x)return null;var C=h.verticalCoordinatesGenerator||PH,S=h.horizontalCoordinatesGenerator||EH,E=h.horizontalPoints,D=h.verticalPoints;if((!E||!E.length)&&Fe(S)){var T=w&&w.length,M=S({yAxis:P?on(on({},P),{},{ticks:T?w:P.ticks}):void 0,width:u,height:d,offset:f},T?!0:b);ia(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Fi(M),"]")),Array.isArray(M)&&(E=M)}if((!D||!D.length)&&Fe(C)){var z=y&&y.length,R=C({xAxis:k?on(on({},k),{},{ticks:z?y:k.ticks}):void 0,width:u,height:d,offset:f},z?!0:b);ia(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Fi(R),"]")),Array.isArray(R)&&(D=R)}return H.createElement("g",{className:"recharts-cartesian-grid"},H.createElement(NH,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height}),H.createElement(SH,Ai({},h,{offset:f,horizontalPoints:E,xAxis:k,yAxis:P})),H.createElement(kH,Ai({},h,{offset:f,verticalPoints:D,xAxis:k,yAxis:P})),H.createElement(CH,Ai({},h,{horizontalPoints:E})),H.createElement(AH,Ai({},h,{verticalPoints:D})))}oy.displayName="CartesianGrid";var DH=["type","layout","connectNulls","ref"];function eo(e){"@babel/helpers - typeof";return eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(e)}function OH(e,t){if(e==null)return{};var n=IH(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function IH(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function El(){return El=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},El.apply(this,arguments)}function EP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(n),!0).forEach(function(r){mr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ps(e){return RH(e)||MH(e)||_H(e)||TH()}function TH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _H(e,t){if(e){if(typeof e=="string")return ly(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ly(e,t)}}function MH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RH(e){if(Array.isArray(e))return ly(e)}function ly(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jI(r.key),r)}}function zH(e,t,n){return t&&DP(e.prototype,t),n&&DP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function LH(e,t,n){return t=df(t),BH(e,wI()?Reflect.construct(t,n||[],df(e).constructor):t.apply(e,n))}function BH(e,t){if(t&&(eo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return La(e)}function wI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wI=function(){return!!e})()}function df(e){return df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},df(e)}function La(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cy(e,t)}function cy(e,t){return cy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cy(e,t)}function mr(e,t,n){return t=jI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jI(e){var t=UH(e,"string");return eo(t)=="symbol"?t:String(t)}function UH(e,t){if(eo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(eo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xf=(function(e){FH(t,e);function t(){var n;$H(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=LH(this,t,[].concat(i)),mr(La(n),"state",{isAnimationFinished:!0,totalLength:0}),mr(La(n),"generateSimpleStrokeDasharray",function(c,u){return"".concat(u,"px ").concat(c-u,"px")}),mr(La(n),"getStrokeDasharray",function(c,u,d){var f=d.reduce(function(y,k){return y+k});if(!f)return n.generateSimpleStrokeDasharray(u,c);for(var h=Math.floor(c/f),m=c%f,x=u-c,v=[],j=0,b=0;j<d.length;b+=d[j],++j)if(b+d[j]>m){v=[].concat(Ps(d.slice(0,j)),[m-b]);break}var w=v.length%2===0?[0,x]:[x];return[].concat(Ps(t.repeat(d,h)),Ps(v),w).map(function(y){return"".concat(y,"px")}).join(", ")}),mr(La(n),"id",Ki("recharts-line-")),mr(La(n),"pathRef",function(c){n.mainCurve=c}),mr(La(n),"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),mr(La(n),"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return zH(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,c=o.points,u=o.xAxis,d=o.yAxis,f=o.layout,h=o.children,m=kn(h,vo);if(!m)return null;var x=function(b,w){return{x:b.x,y:b.y,value:b.value,errorVal:Rt(b.payload,w)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return H.createElement(Qe,v,m.map(function(j){return H.cloneElement(j,{key:"bar-".concat(j.props.dataKey),data:c,xAxis:u,yAxis:d,layout:f,dataPointFormatter:x})}))}},{key:"renderDots",value:function(r,i,o){var c=this.props.isAnimationActive;if(c&&!this.state.isAnimationFinished)return null;var u=this.props,d=u.dot,f=u.points,h=u.dataKey,m=Le(this.props,!1),x=Le(d,!0),v=f.map(function(b,w){var y=_n(_n(_n({key:"dot-".concat(w),r:3},m),x),{},{value:b.value,dataKey:h,cx:b.x,cy:b.y,index:w,payload:b.payload});return t.renderDotItem(d,y)}),j={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return H.createElement(Qe,El({className:"recharts-line-dots",key:"dots"},j),v)}},{key:"renderCurveStatically",value:function(r,i,o,c){var u=this.props,d=u.type,f=u.layout,h=u.connectNulls;u.ref;var m=OH(u,DH),x=_n(_n(_n({},Le(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},c),{},{type:d,layout:f,connectNulls:h});return H.createElement(Ti,El({},x,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,c=this.props,u=c.points,d=c.strokeDasharray,f=c.isAnimationActive,h=c.animationBegin,m=c.animationDuration,x=c.animationEasing,v=c.animationId,j=c.animateNewValues,b=c.width,w=c.height,y=this.state,k=y.prevPoints,P=y.totalLength;return H.createElement(br,{begin:h,duration:m,isActive:f,easing:x,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var S=C.t;if(k){var E=k.length/u.length,D=u.map(function($,B){var L=Math.floor(B*E);if(k[L]){var F=k[L],Y=Ct(F.x,$.x),W=Ct(F.y,$.y);return _n(_n({},$),{},{x:Y(S),y:W(S)})}if(j){var V=Ct(b*2,$.x),ee=Ct(w/2,$.y);return _n(_n({},$),{},{x:V(S),y:ee(S)})}return _n(_n({},$),{},{x:$.x,y:$.y})});return o.renderCurveStatically(D,r,i)}var T=Ct(0,P),M=T(S),z;if(d){var R="".concat(d).split(/[,\s]+/gim).map(function($){return parseFloat($)});z=o.getStrokeDasharray(M,P,R)}else z=o.generateSimpleStrokeDasharray(P,M);return o.renderCurveStatically(u,r,i,{strokeDasharray:z})})}},{key:"renderCurve",value:function(r,i){var o=this.props,c=o.points,u=o.isAnimationActive,d=this.state,f=d.prevPoints,h=d.totalLength;return u&&c&&c.length&&(!f&&h>0||!zi(f,c))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(c,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,c=i.dot,u=i.points,d=i.className,f=i.xAxis,h=i.yAxis,m=i.top,x=i.left,v=i.width,j=i.height,b=i.isAnimationActive,w=i.id;if(o||!u||!u.length)return null;var y=this.state.isAnimationFinished,k=u.length===1,P=Ye("recharts-line",d),C=f&&f.allowDataOverflow,S=h&&h.allowDataOverflow,E=C||S,D=Be(w)?this.id:w,T=(r=Le(c,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},M=T.r,z=M===void 0?3:M,R=T.strokeWidth,$=R===void 0?2:R,B=HE(c)?c:{},L=B.clipDot,F=L===void 0?!0:L,Y=z*2+$;return H.createElement(Qe,{className:P},C||S?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(D)},H.createElement("rect",{x:C?x:x-v/2,y:S?m:m-j/2,width:C?v:v*2,height:S?j:j*2})),!F&&H.createElement("clipPath",{id:"clipPath-dots-".concat(D)},H.createElement("rect",{x:x-Y/2,y:m-Y/2,width:v+Y,height:j+Y}))):null,!k&&this.renderCurve(E,D),this.renderErrorBar(E,D),(k||c)&&this.renderDots(E,F,D),(!b||y)&&_r.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Ps(r),[0]):r,c=[],u=0;u<i;++u)c=[].concat(Ps(c),Ps(o));return c}},{key:"renderDotItem",value:function(r,i){var o;if(H.isValidElement(r))o=H.cloneElement(r,i);else if(Fe(r))o=r(i);else{var c=Ye("recharts-line-dot",r?r.className:"");o=H.createElement(Vf,El({},i,{className:c}))}return o}}]),t})(O.PureComponent);mr(Xf,"displayName","Line");mr(Xf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ei.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});mr(Xf,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,c=e.dataKey,u=e.bandSize,d=e.displayedData,f=e.offset,h=t.layout,m=d.map(function(x,v){var j=Rt(x,c);return h==="horizontal"?{x:Gs({axis:n,ticks:i,bandSize:u,entry:x,index:v}),y:Be(j)?null:r.scale(j),value:j,payload:x}:{x:Be(j)?null:n.scale(j),y:Gs({axis:r,ticks:o,bandSize:u,entry:x,index:v}),value:j,payload:x}});return _n({points:m,layout:h},f)});var qH=["layout","type","stroke","connectNulls","isRange","ref"],NI;function to(e){"@babel/helpers - typeof";return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(e)}function WH(e,t){if(e==null)return{};var n=HH(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function HH(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Pi(){return Pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pi.apply(this,arguments)}function OP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ba(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(n),!0).forEach(function(r){Ir(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kI(r.key),r)}}function KH(e,t,n){return t&&IP(e.prototype,t),n&&IP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function GH(e,t,n){return t=ff(t),YH(e,SI()?Reflect.construct(t,n||[],ff(e).constructor):t.apply(e,n))}function YH(e,t){if(t&&(to(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jl(e)}function SI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SI=function(){return!!e})()}function ff(e){return ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ff(e)}function jl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uy(e,t)}function uy(e,t){return uy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uy(e,t)}function Ir(e,t,n){return t=kI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kI(e){var t=QH(e,"string");return to(t)=="symbol"?t:String(t)}function QH(e,t){if(to(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(to(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ai=(function(e){XH(t,e);function t(){var n;VH(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=GH(this,t,[].concat(i)),Ir(jl(n),"state",{isAnimationFinished:!0}),Ir(jl(n),"id",Ki("recharts-area-")),Ir(jl(n),"handleAnimationEnd",function(){var c=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Fe(c)&&c()}),Ir(jl(n),"handleAnimationStart",function(){var c=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Fe(c)&&c()}),n}return KH(t,[{key:"renderDots",value:function(r,i,o){var c=this.props.isAnimationActive,u=this.state.isAnimationFinished;if(c&&!u)return null;var d=this.props,f=d.dot,h=d.points,m=d.dataKey,x=Le(this.props,!1),v=Le(f,!0),j=h.map(function(w,y){var k=Ba(Ba(Ba({key:"dot-".concat(y),r:3},x),v),{},{dataKey:m,cx:w.x,cy:w.y,index:y,value:w.value,payload:w.payload});return t.renderDotItem(f,k)}),b={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return H.createElement(Qe,Pi({className:"recharts-area-dots"},b),j)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,c=i.points,u=i.strokeWidth,d=c[0].x,f=c[c.length-1].x,h=r*Math.abs(d-f),m=Ha(c.map(function(x){return x.y||0}));return he(o)&&typeof o=="number"?m=Math.max(o,m):o&&Array.isArray(o)&&o.length&&(m=Math.max(Ha(o.map(function(x){return x.y||0})),m)),he(m)?H.createElement("rect",{x:d<f?d:d-h,y:0,width:h,height:Math.floor(m+(u?parseInt("".concat(u),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,c=i.points,u=i.strokeWidth,d=c[0].y,f=c[c.length-1].y,h=r*Math.abs(d-f),m=Ha(c.map(function(x){return x.x||0}));return he(o)&&typeof o=="number"?m=Math.max(o,m):o&&Array.isArray(o)&&o.length&&(m=Math.max(Ha(o.map(function(x){return x.x||0})),m)),he(m)?H.createElement("rect",{x:0,y:d<f?d:d-h,width:m+(u?parseInt("".concat(u),10):1),height:Math.floor(h)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,c){var u=this.props,d=u.layout,f=u.type,h=u.stroke,m=u.connectNulls,x=u.isRange;u.ref;var v=WH(u,qH);return H.createElement(Qe,{clipPath:o?"url(#clipPath-".concat(c,")"):null},H.createElement(Ti,Pi({},Le(v,!0),{points:r,connectNulls:m,type:f,baseLine:i,layout:d,stroke:"none",className:"recharts-area-area"})),h!=="none"&&H.createElement(Ti,Pi({},Le(this.props,!1),{className:"recharts-area-curve",layout:d,type:f,connectNulls:m,fill:"none",points:r})),h!=="none"&&x&&H.createElement(Ti,Pi({},Le(this.props,!1),{className:"recharts-area-curve",layout:d,type:f,connectNulls:m,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,c=this.props,u=c.points,d=c.baseLine,f=c.isAnimationActive,h=c.animationBegin,m=c.animationDuration,x=c.animationEasing,v=c.animationId,j=this.state,b=j.prevPoints,w=j.prevBaseLine;return H.createElement(br,{begin:h,duration:m,isActive:f,easing:x,from:{t:0},to:{t:1},key:"area-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var k=y.t;if(b){var P=b.length/u.length,C=u.map(function(T,M){var z=Math.floor(M*P);if(b[z]){var R=b[z],$=Ct(R.x,T.x),B=Ct(R.y,T.y);return Ba(Ba({},T),{},{x:$(k),y:B(k)})}return T}),S;if(he(d)&&typeof d=="number"){var E=Ct(w,d);S=E(k)}else if(Be(d)||po(d)){var D=Ct(w,0);S=D(k)}else S=d.map(function(T,M){var z=Math.floor(M*P);if(w[z]){var R=w[z],$=Ct(R.x,T.x),B=Ct(R.y,T.y);return Ba(Ba({},T),{},{x:$(k),y:B(k)})}return T});return o.renderAreaStatically(C,S,r,i)}return H.createElement(Qe,null,H.createElement("defs",null,H.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(k))),H.createElement(Qe,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(u,d,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,c=o.points,u=o.baseLine,d=o.isAnimationActive,f=this.state,h=f.prevPoints,m=f.prevBaseLine,x=f.totalLength;return d&&c&&c.length&&(!h&&x>0||!zi(h,c)||!zi(m,u))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(c,u,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,c=i.dot,u=i.points,d=i.className,f=i.top,h=i.left,m=i.xAxis,x=i.yAxis,v=i.width,j=i.height,b=i.isAnimationActive,w=i.id;if(o||!u||!u.length)return null;var y=this.state.isAnimationFinished,k=u.length===1,P=Ye("recharts-area",d),C=m&&m.allowDataOverflow,S=x&&x.allowDataOverflow,E=C||S,D=Be(w)?this.id:w,T=(r=Le(c,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},M=T.r,z=M===void 0?3:M,R=T.strokeWidth,$=R===void 0?2:R,B=HE(c)?c:{},L=B.clipDot,F=L===void 0?!0:L,Y=z*2+$;return H.createElement(Qe,{className:P},C||S?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(D)},H.createElement("rect",{x:C?h:h-v/2,y:S?f:f-j/2,width:C?v:v*2,height:S?j:j*2})),!F&&H.createElement("clipPath",{id:"clipPath-dots-".concat(D)},H.createElement("rect",{x:h-Y/2,y:f-Y/2,width:v+Y,height:j+Y}))):null,k?null:this.renderArea(E,D),(c||k)&&this.renderDots(E,F,D),(!b||y)&&_r.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}]),t})(O.PureComponent);NI=ai;Ir(ai,"displayName","Area");Ir(ai,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ei.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ir(ai,"getBaseValue",function(e,t,n,r){var i=e.layout,o=e.baseValue,c=t.props.baseValue,u=c??o;if(he(u)&&typeof u=="number")return u;var d=i==="horizontal"?r:n,f=d.scale.domain();if(d.type==="number"){var h=Math.max(f[0],f[1]),m=Math.min(f[0],f[1]);return u==="dataMin"?m:u==="dataMax"||h<0?h:Math.max(Math.min(f[0],f[1]),0)}return u==="dataMin"?f[0]:u==="dataMax"?f[1]:f[0]});Ir(ai,"getComposedData",function(e){var t=e.props,n=e.item,r=e.xAxis,i=e.yAxis,o=e.xAxisTicks,c=e.yAxisTicks,u=e.bandSize,d=e.dataKey,f=e.stackedData,h=e.dataStartIndex,m=e.displayedData,x=e.offset,v=t.layout,j=f&&f.length,b=NI.getBaseValue(t,n,r,i),w=v==="horizontal",y=!1,k=m.map(function(C,S){var E;j?E=f[h+S]:(E=Rt(C,d),Array.isArray(E)?y=!0:E=[b,E]);var D=E[1]==null||j&&Rt(C,d)==null;return w?{x:Gs({axis:r,ticks:o,bandSize:u,entry:C,index:S}),y:D?null:i.scale(E[1]),value:E,payload:C}:{x:D?null:r.scale(E[1]),y:Gs({axis:i,ticks:c,bandSize:u,entry:C,index:S}),value:E,payload:C}}),P;return j||y?P=k.map(function(C){var S=Array.isArray(C.value)?C.value[0]:null;return w?{x:C.x,y:S!=null&&C.y!=null?i.scale(S):null}:{x:S!=null?r.scale(S):null,y:C.y}}):P=w?i.scale(b):r.scale(b),Ba({points:k,baseLine:P,layout:v,isRange:y},x)});Ir(ai,"renderDotItem",function(e,t){var n;return H.isValidElement(e)?n=H.cloneElement(e,t):Fe(e)?n=e(t):n=H.createElement(Vf,Pi({},t,{className:"recharts-area-dot"})),n});var Qf=function(){return null};Qf.displayName="ZAxis";Qf.defaultProps={zAxisId:0,range:[64,64],scale:"auto",type:"number"};var ZH=["option","isActive"];function Dl(){return Dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dl.apply(this,arguments)}function JH(e,t){if(e==null)return{};var n=eV(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function eV(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function tV(e){var t=e.option,n=e.isActive,r=JH(e,ZH);return typeof t=="string"?H.createElement(Jv,Dl({option:H.createElement(Tf,Dl({type:t},r)),isActive:n,shapeType:"symbols"},r)):H.createElement(Jv,Dl({option:t,isActive:n,shapeType:"symbols"},r))}function no(e){"@babel/helpers - typeof";return no=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},no(e)}function Ol(){return Ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ol.apply(this,arguments)}function TP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(n),!0).forEach(function(r){Ka(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,AI(r.key),r)}}function rV(e,t,n){return t&&_P(e.prototype,t),n&&_P(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function aV(e,t,n){return t=pf(t),iV(e,CI()?Reflect.construct(t,n||[],pf(e).constructor):t.apply(e,n))}function iV(e,t){if(t&&(no(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nl(e)}function CI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CI=function(){return!!e})()}function pf(e){return pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pf(e)}function Nl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dy(e,t)}function dy(e,t){return dy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dy(e,t)}function Ka(e,t,n){return t=AI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AI(e){var t=oV(e,"string");return no(t)=="symbol"?t:String(t)}function oV(e,t){if(no(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(no(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zf=(function(e){sV(t,e);function t(){var n;nV(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=aV(this,t,[].concat(i)),Ka(Nl(n),"state",{isAnimationFinished:!1}),Ka(Nl(n),"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),Ka(Nl(n),"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),Ka(Nl(n),"id",Ki("recharts-scatter-")),n}return rV(t,[{key:"renderSymbolsStatically",value:function(r){var i=this,o=this.props,c=o.shape,u=o.activeShape,d=o.activeIndex,f=Le(this.props,!1);return r.map(function(h,m){var x=d===m,v=x?u:c,j=Xn(Xn({key:"symbol-".concat(m)},f),h);return H.createElement(Qe,Ol({className:"recharts-scatter-symbol"},Bl(i.props,h,m),{key:"symbol-".concat(h==null?void 0:h.cx,"-").concat(h==null?void 0:h.cy,"-").concat(h==null?void 0:h.size,"-").concat(m),role:"img"}),H.createElement(tV,Ol({option:v,isActive:x},j)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,i=this.props,o=i.points,c=i.isAnimationActive,u=i.animationBegin,d=i.animationDuration,f=i.animationEasing,h=i.animationId,m=this.state.prevPoints;return H.createElement(br,{begin:u,duration:d,isActive:c,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var v=x.t,j=o.map(function(b,w){var y=m&&m[w];if(y){var k=Ct(y.cx,b.cx),P=Ct(y.cy,b.cy),C=Ct(y.size,b.size);return Xn(Xn({},b),{},{cx:k(v),cy:P(v),size:C(v)})}var S=Ct(0,b.size);return Xn(Xn({},b),{},{size:S(v)})});return H.createElement(Qe,null,r.renderSymbolsStatically(j))})}},{key:"renderSymbols",value:function(){var r=this.props,i=r.points,o=r.isAnimationActive,c=this.state.prevPoints;return o&&i&&i.length&&(!c||!zi(c,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,c=i.xAxis,u=i.yAxis,d=i.children,f=kn(d,vo);return f?f.map(function(h,m){var x=h.props,v=x.direction,j=x.dataKey;return H.cloneElement(h,{key:"".concat(v,"-").concat(j,"-").concat(o[m]),data:o,xAxis:c,yAxis:u,layout:v==="x"?"vertical":"horizontal",dataPointFormatter:function(w,y){return{x:w.cx,y:w.cy,value:v==="x"?+w.node.x:+w.node.y,errorVal:Rt(w,y)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,i=r.points,o=r.line,c=r.lineType,u=r.lineJointType,d=Le(this.props,!1),f=Le(o,!1),h,m;if(c==="joint")h=i.map(function(P){return{x:P.cx,y:P.cy}});else if(c==="fitting"){var x=k3(i),v=x.xmin,j=x.xmax,b=x.a,w=x.b,y=function(C){return b*C+w};h=[{x:v,y:y(v)},{x:j,y:y(j)}]}var k=Xn(Xn(Xn({},d),{},{fill:"none",stroke:d&&d.fill},f),{},{points:h});return H.isValidElement(o)?m=H.cloneElement(o,k):Fe(o)?m=o(k):m=H.createElement(Ti,Ol({},k,{type:u})),H.createElement(Qe,{className:"recharts-scatter-line",key:"recharts-scatter-line"},m)}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.points,c=r.line,u=r.className,d=r.xAxis,f=r.yAxis,h=r.left,m=r.top,x=r.width,v=r.height,j=r.id,b=r.isAnimationActive;if(i||!o||!o.length)return null;var w=this.state.isAnimationFinished,y=Ye("recharts-scatter",u),k=d&&d.allowDataOverflow,P=f&&f.allowDataOverflow,C=k||P,S=Be(j)?this.id:j;return H.createElement(Qe,{className:y,clipPath:C?"url(#clipPath-".concat(S,")"):null},k||P?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(S)},H.createElement("rect",{x:k?h:h-x/2,y:P?m:m-v/2,width:k?x:x*2,height:P?v:v*2}))):null,c&&this.renderLine(),this.renderErrorBar(),H.createElement(Qe,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!b||w)&&_r.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}}]),t})(O.PureComponent);Ka(Zf,"displayName","Scatter");Ka(Zf,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!ei.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Ka(Zf,"getComposedData",function(e){var t=e.xAxis,n=e.yAxis,r=e.zAxis,i=e.item,o=e.displayedData,c=e.xAxisTicks,u=e.yAxisTicks,d=e.offset,f=i.props.tooltipType,h=kn(i.props.children,cb),m=Be(t.dataKey)?i.props.dataKey:t.dataKey,x=Be(n.dataKey)?i.props.dataKey:n.dataKey,v=r&&r.dataKey,j=r?r.range:Qf.defaultProps.range,b=j&&j[0],w=t.scale.bandwidth?t.scale.bandwidth():0,y=n.scale.bandwidth?n.scale.bandwidth():0,k=o.map(function(P,C){var S=Rt(P,m),E=Rt(P,x),D=!Be(v)&&Rt(P,v)||"-",T=[{name:Be(t.dataKey)?i.props.name:t.name||t.dataKey,unit:t.unit||"",value:S,payload:P,dataKey:m,type:f},{name:Be(n.dataKey)?i.props.name:n.name||n.dataKey,unit:n.unit||"",value:E,payload:P,dataKey:x,type:f}];D!=="-"&&T.push({name:r.name||r.dataKey,unit:r.unit||"",value:D,payload:P,dataKey:v,type:f});var M=Gs({axis:t,ticks:c,bandSize:w,entry:P,index:C,dataKey:m}),z=Gs({axis:n,ticks:u,bandSize:y,entry:P,index:C,dataKey:x}),R=D!=="-"?r.scale(D):b,$=Math.sqrt(Math.max(R,0)/Math.PI);return Xn(Xn({},P),{},{cx:M,cy:z,x:M-$,y:z-$,xAxis:t,yAxis:n,zAxis:r,width:2*$,height:2*$,size:R,node:{x:S,y:E,z:D},tooltipPayload:T,tooltipPosition:{x:M,y:z},payload:P},h&&h[C]&&h[C].props)});return Xn({points:k},d)});function fy(){return fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fy.apply(this,arguments)}var ro=function(t){var n=t.xAxisId,r=Lb(),i=Bb(),o=mI(n);return o==null?null:H.createElement(yo,fy({},o,{className:Ye("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(u){return na(u,!0)}}))};ro.displayName="XAxis";ro.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};function py(){return py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},py.apply(this,arguments)}var ao=function(t){var n=t.yAxisId,r=Lb(),i=Bb(),o=xI(n);return o==null?null:H.createElement(yo,py({},o,{className:Ye("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(u){return na(u,!0)}}))};ao.displayName="YAxis";ao.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};function MP(e){return dV(e)||uV(e)||cV(e)||lV()}function lV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cV(e,t){if(e){if(typeof e=="string")return hy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hy(e,t)}}function uV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dV(e){if(Array.isArray(e))return hy(e)}function hy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var my=function(t,n,r,i,o){var c=kn(t,Fb),u=kn(t,Rc),d=[].concat(MP(c),MP(u)),f=kn(t,$c),h="".concat(i,"Id"),m=i[0],x=n;if(d.length&&(x=d.reduce(function(b,w){if(w.props[h]===r&&Mr(w.props,"extendDomain")&&he(w.props[m])){var y=w.props[m];return[Math.min(b[0],y),Math.max(b[1],y)]}return b},x)),f.length){var v="".concat(m,"1"),j="".concat(m,"2");x=f.reduce(function(b,w){if(w.props[h]===r&&Mr(w.props,"extendDomain")&&he(w.props[v])&&he(w.props[j])){var y=w.props[v],k=w.props[j];return[Math.min(b[0],y,k),Math.max(b[1],y,k)]}return b},x)}return o&&o.length&&(x=o.reduce(function(b,w){return he(w)?[Math.min(b[0],w),Math.max(b[1],w)]:b},x)),x},qg={exports:{}},RP;function fV(){return RP||(RP=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,f,h){this.fn=d,this.context=f,this.once=h||!1}function o(d,f,h,m,x){if(typeof h!="function")throw new TypeError("The listener must be a function");var v=new i(h,m||d,x),j=n?n+f:f;return d._events[j]?d._events[j].fn?d._events[j]=[d._events[j],v]:d._events[j].push(v):(d._events[j]=v,d._eventsCount++),d}function c(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,m;if(this._eventsCount===0)return f;for(m in h=this._events)t.call(h,m)&&f.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=n?n+f:f,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var x=0,v=m.length,j=new Array(v);x<v;x++)j[x]=m[x].fn;return j},u.prototype.listenerCount=function(f){var h=n?n+f:f,m=this._events[h];return m?m.fn?1:m.length:0},u.prototype.emit=function(f,h,m,x,v,j){var b=n?n+f:f;if(!this._events[b])return!1;var w=this._events[b],y=arguments.length,k,P;if(w.fn){switch(w.once&&this.removeListener(f,w.fn,void 0,!0),y){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,h),!0;case 3:return w.fn.call(w.context,h,m),!0;case 4:return w.fn.call(w.context,h,m,x),!0;case 5:return w.fn.call(w.context,h,m,x,v),!0;case 6:return w.fn.call(w.context,h,m,x,v,j),!0}for(P=1,k=new Array(y-1);P<y;P++)k[P-1]=arguments[P];w.fn.apply(w.context,k)}else{var C=w.length,S;for(P=0;P<C;P++)switch(w[P].once&&this.removeListener(f,w[P].fn,void 0,!0),y){case 1:w[P].fn.call(w[P].context);break;case 2:w[P].fn.call(w[P].context,h);break;case 3:w[P].fn.call(w[P].context,h,m);break;case 4:w[P].fn.call(w[P].context,h,m,x);break;default:if(!k)for(S=1,k=new Array(y-1);S<y;S++)k[S-1]=arguments[S];w[P].fn.apply(w[P].context,k)}}return!0},u.prototype.on=function(f,h,m){return o(this,f,h,m,!1)},u.prototype.once=function(f,h,m){return o(this,f,h,m,!0)},u.prototype.removeListener=function(f,h,m,x){var v=n?n+f:f;if(!this._events[v])return this;if(!h)return c(this,v),this;var j=this._events[v];if(j.fn)j.fn===h&&(!x||j.once)&&(!m||j.context===m)&&c(this,v);else{for(var b=0,w=[],y=j.length;b<y;b++)(j[b].fn!==h||x&&!j[b].once||m&&j[b].context!==m)&&w.push(j[b]);w.length?this._events[v]=w.length===1?w[0]:w:c(this,v)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&c(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(qg)),qg.exports}var pV=fV();const hV=lt(pV);var Wg=new hV,Hg="recharts.syncMouseEvents";function Sc(e){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(e)}function mV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,PI(r.key),r)}}function gV(e,t,n){return t&&xV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vg(e,t,n){return t=PI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PI(e){var t=vV(e,"string");return Sc(t)=="symbol"?t:String(t)}function vV(e,t){if(Sc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yV=(function(){function e(){mV(this,e),Vg(this,"activeIndex",0),Vg(this,"coordinateList",[]),Vg(this,"layout","horizontal")}return gV(e,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,c=n.container,u=c===void 0?null:c,d=n.layout,f=d===void 0?null:d,h=n.offset,m=h===void 0?null:h,x=n.mouseHandlerCallback,v=x===void 0?null:x;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,c=i.y,u=i.height,d=this.coordinateList[this.activeIndex].coordinate,f=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,m=o+d+f,x=c+this.offset.top+u/2+h;this.mouseHandlerCallback({pageX:m,pageY:x})}}}]),e})();function bV(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],i=e==null?void 0:e[1];if(r&&i&&he(r)&&he(i))return!0}return!1}function wV(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function EI(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,o=e.endAngle,c=Xt(t,n,r,i),u=Xt(t,n,r,o);return{points:[c,u],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function jV(e,t,n){var r,i,o,c;if(e==="horizontal")r=t.x,o=r,i=n.top,c=n.top+n.height;else if(e==="vertical")i=t.y,c=i,r=n.left,o=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var u=t.cx,d=t.cy,f=t.innerRadius,h=t.outerRadius,m=t.angle,x=Xt(u,d,f,m),v=Xt(u,d,h,m);r=x.x,i=x.y,o=v.x,c=v.y}else return EI(t);return[{x:r,y:i},{x:o,y:c}]}function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}function $P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ld(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$P(Object(n),!0).forEach(function(r){NV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$P(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NV(e,t,n){return t=SV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SV(e){var t=kV(e,"string");return kc(t)=="symbol"?t:String(t)}function kV(e,t){if(kc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CV(e){var t=e.element,n=e.tooltipEventType,r=e.isActive,i=e.activeCoordinate,o=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName;if(!t||!t.props.cursor||!r||!i||h!=="ScatterChart"&&n!=="axis")return null;var m,x=Ti;if(h==="ScatterChart")m=i,x=qU;else if(h==="BarChart")m=wV(f,i,c,d),x=Mb;else if(f==="radial"){var v=EI(i),j=v.cx,b=v.cy,w=v.radius,y=v.startAngle,k=v.endAngle;m={cx:j,cy:b,startAngle:y,endAngle:k,innerRadius:w,outerRadius:w},x=WO}else m={points:jV(f,i,c)},x=Ti;var P=ld(ld(ld(ld({stroke:"#ccc",pointerEvents:"none"},c),m),Le(t.props.cursor,!1)),{},{payload:o,payloadIndex:u,className:"recharts-tooltip-cursor"});return O.isValidElement(t.props.cursor)?O.cloneElement(t.props.cursor,P):O.createElement(x,P)}var AV=["item"],PV=["children","className","width","height","style","compact","title","desc"];function io(e){"@babel/helpers - typeof";return io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(e)}function Il(){return Il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Il.apply(this,arguments)}function zP(e,t){return OV(e)||DV(e,t)||OI(e,t)||EV()}function EV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DV(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,c,u=[],d=!0,f=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(d=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(h){f=!0,i=h}finally{try{if(!d&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(f)throw i}}return u}}function OV(e){if(Array.isArray(e))return e}function LP(e,t){if(e==null)return{};var n=IV(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function IV(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function TV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,II(r.key),r)}}function MV(e,t,n){return t&&_V(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function RV(e,t,n){return t=hf(t),$V(e,DI()?Reflect.construct(t,n||[],hf(e).constructor):t.apply(e,n))}function $V(e,t){if(t&&(io(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ke(e)}function DI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DI=function(){return!!e})()}function hf(e){return hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hf(e)}function Ke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xy(e,t)}function xy(e,t){return xy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xy(e,t)}function so(e){return FV(e)||BV(e)||OI(e)||LV()}function LV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OI(e,t){if(e){if(typeof e=="string")return gy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gy(e,t)}}function BV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FV(e){if(Array.isArray(e))return gy(e)}function gy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function BP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BP(Object(n),!0).forEach(function(r){Me(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Me(e,t,n){return t=II(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function II(e){var t=UV(e,"string");return io(t)=="symbol"?t:String(t)}function UV(e,t){if(io(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(io(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qV={xAxis:["bottom","top"],yAxis:["left","right"]},WV={width:"100%",height:"100%"},TI={x:0,y:0};function cd(e){return e}var HV=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},VV=function(t,n,r,i){var o=n.find(function(h){return h&&h.index===r});if(o){if(t==="horizontal")return{x:o.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:o.coordinate};if(t==="centric"){var c=o.coordinate,u=i.radius;return ae(ae(ae({},i),Xt(i.cx,i.cy,u,c)),{},{angle:c,radius:u})}var d=o.coordinate,f=i.angle;return ae(ae(ae({},i),Xt(i.cx,i.cy,d,f)),{},{angle:f,radius:d})}return TI},Jf=function(t,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,c=(r??[]).reduce(function(u,d){var f=d.props.data;return f&&f.length?[].concat(so(u),so(f)):u},[]);return c.length>0?c:t&&t.length&&he(i)&&he(o)?t.slice(i,o+1):[]};function _I(e){return e==="number"?[0,"auto"]:void 0}var vy=function(t,n,r,i){var o=t.graphicalItems,c=t.tooltipAxis,u=Jf(n,t);return r<0||!o||!o.length||r>=u.length?null:o.reduce(function(d,f){var h,m=(h=f.props.data)!==null&&h!==void 0?h:n;m&&t.dataStartIndex+t.dataEndIndex!==0&&(m=m.slice(t.dataStartIndex,t.dataEndIndex+1));var x;if(c.dataKey&&!c.allowDuplicatedCategory){var v=m===void 0?u:m;x=wd(v,c.dataKey,i)}else x=m&&m[r]||u[r];return x?[].concat(so(d),[FO(f,x)]):d},[])},FP=function(t,n,r,i){var o=i||{x:t.chartX,y:t.chartY},c=HV(o,r),u=t.orderedTooltipTicks,d=t.tooltipAxis,f=t.tooltipTicks,h=j7(c,u,f,d);if(h>=0&&f){var m=f[h]&&f[h].value,x=vy(t,n,h,m),v=VV(r,u,h,o);return{activeTooltipIndex:h,activeLabel:m,activePayload:x,activeCoordinate:v}}return null},KV=function(t,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,c=n.axisIdKey,u=n.stackGroups,d=n.dataStartIndex,f=n.dataEndIndex,h=t.layout,m=t.children,x=t.stackOffset,v=zO(h,o);return r.reduce(function(j,b){var w,y=b.props,k=y.type,P=y.dataKey,C=y.allowDataOverflow,S=y.allowDuplicatedCategory,E=y.scale,D=y.ticks,T=y.includeHidden,M=b.props[c];if(j[M])return j;var z=Jf(t.data,{graphicalItems:i.filter(function(X){return X.props[c]===M}),dataStartIndex:d,dataEndIndex:f}),R=z.length,$,B,L;bV(b.props.domain,C,k)&&($=$v(b.props.domain,null,C),v&&(k==="number"||E!=="auto")&&(L=Al(z,P,"category")));var F=_I(k);if(!$||$.length===0){var Y,W=(Y=b.props.domain)!==null&&Y!==void 0?Y:F;if(P){if($=Al(z,P,k),k==="category"&&v){var V=S3($);S&&V?(B=$,$=rf(0,R)):S||($=ZC(W,$,b).reduce(function(X,J){return X.indexOf(J)>=0?X:[].concat(so(X),[J])},[]))}else if(k==="category")S?$=$.filter(function(X){return X!==""&&!Be(X)}):$=ZC(W,$,b).reduce(function(X,J){return X.indexOf(J)>=0||J===""||Be(J)?X:[].concat(so(X),[J])},[]);else if(k==="number"){var ee=A7(z,i.filter(function(X){return X.props[c]===M&&(T||!X.props.hide)}),P,o,h);ee&&($=ee)}v&&(k==="number"||E!=="auto")&&(L=Al(z,P,"category"))}else v?$=rf(0,R):u&&u[M]&&u[M].hasStack&&k==="number"?$=x==="expand"?[0,1]:BO(u[M].stackGroups,d,f):$=$O(z,i.filter(function(X){return X.props[c]===M&&(T||!X.props.hide)}),k,h,!0);if(k==="number")$=my(m,$,M,o,D),W&&($=$v(W,$,C));else if(k==="category"&&W){var _=W,q=$.every(function(X){return _.indexOf(X)>=0});q&&($=_)}}return ae(ae({},j),{},Me({},M,ae(ae({},b.props),{},{axisType:o,domain:$,categoricalDomain:L,duplicateDomain:B,originalDomain:(w=b.props.domain)!==null&&w!==void 0?w:F,isCategorical:v,layout:h})))},{})},GV=function(t,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,c=n.axisIdKey,u=n.stackGroups,d=n.dataStartIndex,f=n.dataEndIndex,h=t.layout,m=t.children,x=Jf(t.data,{graphicalItems:r,dataStartIndex:d,dataEndIndex:f}),v=x.length,j=zO(h,o),b=-1;return r.reduce(function(w,y){var k=y.props[c],P=_I("number");if(!w[k]){b++;var C;return j?C=rf(0,v):u&&u[k]&&u[k].hasStack?(C=BO(u[k].stackGroups,d,f),C=my(m,C,k,o)):(C=$v(P,$O(x,r.filter(function(S){return S.props[c]===k&&!S.props.hide}),"number",h),i.defaultProps.allowDataOverflow),C=my(m,C,k,o)),ae(ae({},w),{},Me({},k,ae(ae({axisType:o},i.defaultProps),{},{hide:!0,orientation:er(qV,"".concat(o,".").concat(b%2),null),domain:C,originalDomain:P,isCategorical:j,layout:h})))}return w},{})},YV=function(t,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,c=n.graphicalItems,u=n.stackGroups,d=n.dataStartIndex,f=n.dataEndIndex,h=t.children,m="".concat(i,"Id"),x=kn(h,o),v={};return x&&x.length?v=KV(t,{axes:x,graphicalItems:c,axisType:i,axisIdKey:m,stackGroups:u,dataStartIndex:d,dataEndIndex:f}):c&&c.length&&(v=GV(t,{Axis:o,graphicalItems:c,axisType:i,axisIdKey:m,stackGroups:u,dataStartIndex:d,dataEndIndex:f})),v},XV=function(t){var n=Ua(t),r=na(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:ob(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Kd(n,r)}},UP=function(t){var n=t.children,r=t.defaultShowTooltip,i=Rn(n,Qs),o=0,c=0;return t.data&&t.data.length!==0&&(c=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(c=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:c,activeTooltipIndex:-1,isTooltipActive:!!r}},QV=function(t){return!t||!t.length?!1:t.some(function(n){var r=aa(n&&n.type);return r&&r.indexOf("Bar")>=0})},qP=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},ZV=function(t,n){var r=t.props,i=t.graphicalItems,o=t.xAxisMap,c=o===void 0?{}:o,u=t.yAxisMap,d=u===void 0?{}:u,f=r.width,h=r.height,m=r.children,x=r.margin||{},v=Rn(m,Qs),j=Rn(m,ql),b=Object.keys(d).reduce(function(S,E){var D=d[E],T=D.orientation;return!D.mirror&&!D.hide?ae(ae({},S),{},Me({},T,S[T]+D.width)):S},{left:x.left||0,right:x.right||0}),w=Object.keys(c).reduce(function(S,E){var D=c[E],T=D.orientation;return!D.mirror&&!D.hide?ae(ae({},S),{},Me({},T,er(S,"".concat(T))+D.height)):S},{top:x.top||0,bottom:x.bottom||0}),y=ae(ae({},w),b),k=y.bottom;v&&(y.bottom+=v.props.height||Qs.defaultProps.height),j&&n&&(y=k7(y,i,r,n));var P=f-y.left-y.right,C=h-y.top-y.bottom;return ae(ae({brushBottom:k},y),{},{width:Math.max(P,0),height:Math.max(C,0)})},MI=function(t){var n,r=t.chartName,i=t.GraphicalChild,o=t.defaultTooltipEventType,c=o===void 0?"axis":o,u=t.validateTooltipEventTypes,d=u===void 0?["axis"]:u,f=t.axisComponents,h=t.legendContent,m=t.formatAxisMap,x=t.defaultProps,v=function(w,y){var k=y.graphicalItems,P=y.stackGroups,C=y.offset,S=y.updateId,E=y.dataStartIndex,D=y.dataEndIndex,T=w.barSize,M=w.layout,z=w.barGap,R=w.barCategoryGap,$=w.maxBarSize,B=qP(M),L=B.numericAxisName,F=B.cateAxisName,Y=QV(k),W=Y&&N7({barSize:T,stackGroups:P}),V=[];return k.forEach(function(ee,_){var q=Jf(w.data,{graphicalItems:[ee],dataStartIndex:E,dataEndIndex:D}),X=ee.props,J=X.dataKey,le=X.maxBarSize,ge=ee.props["".concat(L,"Id")],xe=ee.props["".concat(F,"Id")],Ie={},Pe=f.reduce(function(qe,We){var xt=y["".concat(We.axisType,"Map")],Lt=ee.props["".concat(We.axisType,"Id")];xt&&xt[Lt]||We.axisType==="zAxis"||Bi();var me=xt[Lt];return ae(ae({},qe),{},Me(Me({},We.axisType,me),"".concat(We.axisType,"Ticks"),na(me)))},Ie),ie=Pe[F],Ce=Pe["".concat(F,"Ticks")],Se=P&&P[ge]&&P[ge].hasStack&&L7(ee,P[ge].stackGroups),se=aa(ee.type).indexOf("Bar")>=0,He=Kd(ie,Ce),$e=[];if(se){var Ze,de,_e=Be(le)?$:le,Ne=(Ze=(de=Kd(ie,Ce,!0))!==null&&de!==void 0?de:_e)!==null&&Ze!==void 0?Ze:0;$e=S7({barGap:z,barCategoryGap:R,bandSize:Ne!==He?Ne:He,sizeList:W[xe],maxBarSize:_e}),Ne!==He&&($e=$e.map(function(qe){return ae(ae({},qe),{},{position:ae(ae({},qe.position),{},{offset:qe.position.offset-Ne/2})})}))}var ze=ee&&ee.type&&ee.type.getComposedData;ze&&V.push({props:ae(ae({},ze(ae(ae({},Pe),{},{displayedData:q,props:w,dataKey:J,item:ee,bandSize:He,barPosition:$e,offset:C,stackedData:Se,layout:M,dataStartIndex:E,dataEndIndex:D}))),{},Me(Me(Me({key:ee.key||"item-".concat(_)},L,Pe[L]),F,Pe[F]),"animationId",S)),childIndex:R3(ee,w.children),item:ee})}),V},j=function(w,y){var k=w.props,P=w.dataStartIndex,C=w.dataEndIndex,S=w.updateId;if(!fN({props:k}))return null;var E=k.children,D=k.layout,T=k.stackOffset,M=k.data,z=k.reverseStackOrder,R=qP(D),$=R.numericAxisName,B=R.cateAxisName,L=kn(E,i),F=R7(M,L,"".concat($,"Id"),"".concat(B,"Id"),T,z),Y=f.reduce(function(q,X){var J="".concat(X.axisType,"Map");return ae(ae({},q),{},Me({},J,YV(k,ae(ae({},X),{},{graphicalItems:L,stackGroups:X.axisType===$&&F,dataStartIndex:P,dataEndIndex:C}))))},{}),W=ZV(ae(ae({},Y),{},{props:k,graphicalItems:L}),y==null?void 0:y.legendBBox);Object.keys(Y).forEach(function(q){Y[q]=m(k,Y[q],W,q.replace("Map",""),r)});var V=Y["".concat(B,"Map")],ee=XV(V),_=v(k,ae(ae({},Y),{},{dataStartIndex:P,dataEndIndex:C,updateId:S,graphicalItems:L,stackGroups:F,offset:W}));return ae(ae({formattedGraphicalItems:_,graphicalItems:L,offset:W,stackGroups:F},ee),Y)};return n=(function(b){zV(w,b);function w(y){var k,P,C;return TV(this,w),C=RV(this,w,[y]),Me(Ke(C),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Me(Ke(C),"accessibilityManager",new yV),Me(Ke(C),"handleLegendBBoxUpdate",function(S){if(S){var E=C.state,D=E.dataStartIndex,T=E.dataEndIndex,M=E.updateId;C.setState(ae({legendBBox:S},j({props:C.props,dataStartIndex:D,dataEndIndex:T,updateId:M},ae(ae({},C.state),{},{legendBBox:S}))))}}),Me(Ke(C),"handleReceiveSyncEvent",function(S,E,D){if(C.props.syncId===S){if(D===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(E)}}),Me(Ke(C),"handleBrushChange",function(S){var E=S.startIndex,D=S.endIndex;if(E!==C.state.dataStartIndex||D!==C.state.dataEndIndex){var T=C.state.updateId;C.setState(function(){return ae({dataStartIndex:E,dataEndIndex:D},j({props:C.props,dataStartIndex:E,dataEndIndex:D,updateId:T},C.state))}),C.triggerSyncEvent({dataStartIndex:E,dataEndIndex:D})}}),Me(Ke(C),"handleMouseEnter",function(S){var E=C.getMouseInfo(S);if(E){var D=ae(ae({},E),{},{isTooltipActive:!0});C.setState(D),C.triggerSyncEvent(D);var T=C.props.onMouseEnter;Fe(T)&&T(D,S)}}),Me(Ke(C),"triggeredAfterMouseMove",function(S){var E=C.getMouseInfo(S),D=E?ae(ae({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(D),C.triggerSyncEvent(D);var T=C.props.onMouseMove;Fe(T)&&T(D,S)}),Me(Ke(C),"handleItemMouseEnter",function(S){C.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Me(Ke(C),"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),Me(Ke(C),"handleMouseMove",function(S){S.persist(),C.throttleTriggeredAfterMouseMove(S)}),Me(Ke(C),"handleMouseLeave",function(S){C.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};C.setState(E),C.triggerSyncEvent(E);var D=C.props.onMouseLeave;Fe(D)&&D(E,S)}),Me(Ke(C),"handleOuterEvent",function(S){var E=M3(S),D=er(C.props,"".concat(E));if(E&&Fe(D)){var T,M;/.*touch.*/i.test(E)?M=C.getMouseInfo(S.changedTouches[0]):M=C.getMouseInfo(S),D((T=M)!==null&&T!==void 0?T:{},S)}}),Me(Ke(C),"handleClick",function(S){var E=C.getMouseInfo(S);if(E){var D=ae(ae({},E),{},{isTooltipActive:!0});C.setState(D),C.triggerSyncEvent(D);var T=C.props.onClick;Fe(T)&&T(D,S)}}),Me(Ke(C),"handleMouseDown",function(S){var E=C.props.onMouseDown;if(Fe(E)){var D=C.getMouseInfo(S);E(D,S)}}),Me(Ke(C),"handleMouseUp",function(S){var E=C.props.onMouseUp;if(Fe(E)){var D=C.getMouseInfo(S);E(D,S)}}),Me(Ke(C),"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Me(Ke(C),"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&C.handleMouseDown(S.changedTouches[0])}),Me(Ke(C),"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&C.handleMouseUp(S.changedTouches[0])}),Me(Ke(C),"triggerSyncEvent",function(S){C.props.syncId!==void 0&&Wg.emit(Hg,C.props.syncId,S,C.eventEmitterSymbol)}),Me(Ke(C),"applySyncEvent",function(S){var E=C.props,D=E.layout,T=E.syncMethod,M=C.state.updateId,z=S.dataStartIndex,R=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)C.setState(ae({dataStartIndex:z,dataEndIndex:R},j({props:C.props,dataStartIndex:z,dataEndIndex:R,updateId:M},C.state)));else if(S.activeTooltipIndex!==void 0){var $=S.chartX,B=S.chartY,L=S.activeTooltipIndex,F=C.state,Y=F.offset,W=F.tooltipTicks;if(!Y)return;if(typeof T=="function")L=T(W,S);else if(T==="value"){L=-1;for(var V=0;V<W.length;V++)if(W[V].value===S.activeLabel){L=V;break}}var ee=ae(ae({},Y),{},{x:Y.left,y:Y.top}),_=Math.min($,ee.x+ee.width),q=Math.min(B,ee.y+ee.height),X=W[L]&&W[L].value,J=vy(C.state,C.props.data,L),le=W[L]?{x:D==="horizontal"?W[L].coordinate:_,y:D==="horizontal"?q:W[L].coordinate}:TI;C.setState(ae(ae({},S),{},{activeLabel:X,activeCoordinate:le,activePayload:J,activeTooltipIndex:L}))}else C.setState(S)}),Me(Ke(C),"renderCursor",function(S){var E,D=C.state,T=D.isTooltipActive,M=D.activeCoordinate,z=D.activePayload,R=D.offset,$=D.activeTooltipIndex,B=D.tooltipAxisBandSize,L=C.getTooltipEventType(),F=(E=S.props.active)!==null&&E!==void 0?E:T,Y=C.props.layout,W=S.key||"_recharts-cursor";return H.createElement(CV,{key:W,activeCoordinate:M,activePayload:z,activeTooltipIndex:$,chartName:r,element:S,isActive:F,layout:Y,offset:R,tooltipAxisBandSize:B,tooltipEventType:L})}),Me(Ke(C),"renderPolarAxis",function(S,E,D){var T=er(S,"type.axisType"),M=er(C.state,"".concat(T,"Map")),z=M&&M[S.props["".concat(T,"Id")]];return O.cloneElement(S,ae(ae({},z),{},{className:T,key:S.key||"".concat(E,"-").concat(D),ticks:na(z,!0)}))}),Me(Ke(C),"renderPolarGrid",function(S){var E=S.props,D=E.radialLines,T=E.polarAngles,M=E.polarRadius,z=C.state,R=z.radiusAxisMap,$=z.angleAxisMap,B=Ua(R),L=Ua($),F=L.cx,Y=L.cy,W=L.innerRadius,V=L.outerRadius;return O.cloneElement(S,{polarAngles:Array.isArray(T)?T:na(L,!0).map(function(ee){return ee.coordinate}),polarRadius:Array.isArray(M)?M:na(B,!0).map(function(ee){return ee.coordinate}),cx:F,cy:Y,innerRadius:W,outerRadius:V,key:S.key||"polar-grid",radialLines:D})}),Me(Ke(C),"renderLegend",function(){var S=C.state.formattedGraphicalItems,E=C.props,D=E.children,T=E.width,M=E.height,z=C.props.margin||{},R=T-(z.left||0)-(z.right||0),$=MO({children:D,formattedGraphicalItems:S,legendWidth:R,legendContent:h});if(!$)return null;var B=$.item,L=LP($,AV);return O.cloneElement(B,ae(ae({},L),{},{chartWidth:T,chartHeight:M,margin:z,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),Me(Ke(C),"renderTooltip",function(){var S,E=C.props,D=E.children,T=E.accessibilityLayer,M=Rn(D,pr);if(!M)return null;var z=C.state,R=z.isTooltipActive,$=z.activeCoordinate,B=z.activePayload,L=z.activeLabel,F=z.offset,Y=(S=M.props.active)!==null&&S!==void 0?S:R;return O.cloneElement(M,{viewBox:ae(ae({},F),{},{x:F.left,y:F.top}),active:Y,label:L,payload:Y?B:[],coordinate:$,accessibilityLayer:T})}),Me(Ke(C),"renderBrush",function(S){var E=C.props,D=E.margin,T=E.data,M=C.state,z=M.offset,R=M.dataStartIndex,$=M.dataEndIndex,B=M.updateId;return O.cloneElement(S,{key:S.key||"_recharts-brush",onChange:ad(C.handleBrushChange,S.props.onChange),data:T,x:he(S.props.x)?S.props.x:z.left,y:he(S.props.y)?S.props.y:z.top+z.height+z.brushBottom-(D.bottom||0),width:he(S.props.width)?S.props.width:z.width,startIndex:R,endIndex:$,updateId:"brush-".concat(B)})}),Me(Ke(C),"renderReferenceElement",function(S,E,D){if(!S)return null;var T=Ke(C),M=T.clipPathId,z=C.state,R=z.xAxisMap,$=z.yAxisMap,B=z.offset,L=S.props,F=L.xAxisId,Y=L.yAxisId;return O.cloneElement(S,{key:S.key||"".concat(E,"-").concat(D),xAxis:R[F],yAxis:$[Y],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:M})}),Me(Ke(C),"renderActivePoints",function(S){var E=S.item,D=S.activePoint,T=S.basePoint,M=S.childIndex,z=S.isRange,R=[],$=E.props.key,B=E.item.props,L=B.activeDot,F=B.dataKey,Y=ae(ae({index:M,dataKey:F,cx:D.x,cy:D.y,r:4,fill:_b(E.item),strokeWidth:2,stroke:"#fff",payload:D.payload,value:D.value,key:"".concat($,"-activePoint-").concat(M)},Le(L,!1)),jd(L));return R.push(w.renderActiveDot(L,Y)),T?R.push(w.renderActiveDot(L,ae(ae({},Y),{},{cx:T.x,cy:T.y,key:"".concat($,"-basePoint-").concat(M)}))):z&&R.push(null),R}),Me(Ke(C),"renderGraphicChild",function(S,E,D){var T=C.filterFormatItem(S,E,D);if(!T)return null;var M=C.getTooltipEventType(),z=C.state,R=z.isTooltipActive,$=z.tooltipAxis,B=z.activeTooltipIndex,L=z.activeLabel,F=C.props.children,Y=Rn(F,pr),W=T.props,V=W.points,ee=W.isRange,_=W.baseLine,q=T.item.props,X=q.activeDot,J=q.hide,le=q.activeBar,ge=q.activeShape,xe=!!(!J&&R&&Y&&(X||le||ge)),Ie={};M!=="axis"&&Y&&Y.props.trigger==="click"?Ie={onClick:ad(C.handleItemMouseEnter,S.props.onClick)}:M!=="axis"&&(Ie={onMouseLeave:ad(C.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:ad(C.handleItemMouseEnter,S.props.onMouseEnter)});var Pe=O.cloneElement(S,ae(ae({},T.props),Ie));function ie(We){return typeof $.dataKey=="function"?$.dataKey(We.payload):null}if(xe)if(B>=0){var Ce,Se;if($.dataKey&&!$.allowDuplicatedCategory){var se=typeof $.dataKey=="function"?ie:"payload.".concat($.dataKey.toString());Ce=wd(V,se,L),Se=ee&&_&&wd(_,se,L)}else Ce=V==null?void 0:V[B],Se=ee&&_&&_[B];if(ge||le){var He=S.props.activeIndex!==void 0?S.props.activeIndex:B;return[O.cloneElement(S,ae(ae(ae({},T.props),Ie),{},{activeIndex:He})),null,null]}if(!Be(Ce))return[Pe].concat(so(C.renderActivePoints({item:T,activePoint:Ce,basePoint:Se,childIndex:B,isRange:ee})))}else{var $e,Ze=($e=C.getItemByXY(C.state.activeCoordinate))!==null&&$e!==void 0?$e:{graphicalItem:Pe},de=Ze.graphicalItem,_e=de.item,Ne=_e===void 0?S:_e,ze=de.childIndex,qe=ae(ae(ae({},T.props),Ie),{},{activeIndex:ze});return[O.cloneElement(Ne,qe),null,null]}return ee?[Pe,null,null]:[Pe,null]}),Me(Ke(C),"renderCustomized",function(S,E,D){return O.cloneElement(S,ae(ae({key:"recharts-customized-".concat(D)},C.props),C.state))}),Me(Ke(C),"renderMap",{CartesianGrid:{handler:cd,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:cd},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:cd},YAxis:{handler:cd},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((k=y.id)!==null&&k!==void 0?k:Ki("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=LD(C.triggeredAfterMouseMove,(P=y.throttleDelay)!==null&&P!==void 0?P:1e3/60),C.state={},C}return MV(w,[{key:"componentDidMount",value:function(){var k,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var k=this.props,P=k.children,C=k.data,S=k.height,E=k.layout,D=Rn(P,pr);if(D){var T=D.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length)){var M=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,z=vy(this.state,C,T,M),R=this.state.tooltipTicks[T].coordinate,$=(this.state.offset.top+S)/2,B=E==="horizontal",L=B?{x:R,y:$}:{y:R,x:$},F=this.state.formattedGraphicalItems.find(function(W){var V=W.item;return V.type.name==="Scatter"});F&&(L=ae(ae({},L),F.props.points[T].tooltipPosition),z=F.props.points[T].tooltipPayload);var Y={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:M,activePayload:z,activeCoordinate:L};this.setState(Y),this.renderCursor(D),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(k,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==k.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==k.margin){var C,S;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(k){ov([Rn(k.children,pr)],[Rn(this.props.children,pr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var k=Rn(this.props.children,pr);if(k&&typeof k.props.shared=="boolean"){var P=k.props.shared?"axis":"item";return d.indexOf(P)>=0?P:c}return c}},{key:"getMouseInfo",value:function(k){if(!this.container)return null;var P=this.container,C=P.getBoundingClientRect(),S=b8(C),E={chartX:Math.round(k.pageX-S.left),chartY:Math.round(k.pageY-S.top)},D=C.width/P.offsetWidth||1,T=this.inRange(E.chartX,E.chartY,D);if(!T)return null;var M=this.state,z=M.xAxisMap,R=M.yAxisMap,$=this.getTooltipEventType();if($!=="axis"&&z&&R){var B=Ua(z).scale,L=Ua(R).scale,F=B&&B.invert?B.invert(E.chartX):null,Y=L&&L.invert?L.invert(E.chartY):null;return ae(ae({},E),{},{xValue:F,yValue:Y})}var W=FP(this.state,this.props.data,this.props.layout,T);return W?ae(ae({},E),W):null}},{key:"inRange",value:function(k,P){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,E=k/C,D=P/C;if(S==="horizontal"||S==="vertical"){var T=this.state.offset,M=E>=T.left&&E<=T.left+T.width&&D>=T.top&&D<=T.top+T.height;return M?{x:E,y:D}:null}var z=this.state,R=z.angleAxisMap,$=z.radiusAxisMap;if(R&&$){var B=Ua(R);return tA({x:E,y:D},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var k=this.props.children,P=this.getTooltipEventType(),C=Rn(k,pr),S={};C&&P==="axis"&&(C.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var E=jd(this.props,this.handleOuterEvent);return ae(ae({},E),S)}},{key:"addListener",value:function(){Wg.on(Hg,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Wg.removeListener(Hg,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(k,P,C){for(var S=this.state.formattedGraphicalItems,E=0,D=S.length;E<D;E++){var T=S[E];if(T.item===k||T.props.key===k.key||P===aa(T.item.type)&&C===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var k=this.clipPathId,P=this.state.offset,C=P.left,S=P.top,E=P.height,D=P.width;return H.createElement("defs",null,H.createElement("clipPath",{id:k},H.createElement("rect",{x:C,y:S,height:E,width:D})))}},{key:"getXScales",value:function(){var k=this.state.xAxisMap;return k?Object.entries(k).reduce(function(P,C){var S=zP(C,2),E=S[0],D=S[1];return ae(ae({},P),{},Me({},E,D.scale))},{}):null}},{key:"getYScales",value:function(){var k=this.state.yAxisMap;return k?Object.entries(k).reduce(function(P,C){var S=zP(C,2),E=S[0],D=S[1];return ae(ae({},P),{},Me({},E,D.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(k){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[k])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(k){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[k])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(k){var P=this.state,C=P.formattedGraphicalItems,S=P.activeItem;if(C&&C.length)for(var E=0,D=C.length;E<D;E++){var T=C[E],M=T.props,z=T.item,R=aa(z.type);if(R==="Bar"){var $=(M.data||[]).find(function(Y){return TU(k,Y)});if($)return{graphicalItem:T,payload:$}}else if(R==="RadialBar"){var B=(M.data||[]).find(function(Y){return tA(k,Y)});if(B)return{graphicalItem:T,payload:B}}else if(Kf(T,S)||Gf(T,S)||xc(T,S)){var L=jq({graphicalItem:T,activeTooltipItem:S,itemData:z.props.data}),F=z.props.activeIndex===void 0?L:z.props.activeIndex;return{graphicalItem:ae(ae({},T),{},{childIndex:F}),payload:xc(T,S)?z.props.data[L]:T.props.data[L]}}}return null}},{key:"render",value:function(){var k=this,P;if(!fN(this))return null;var C=this.props,S=C.children,E=C.className,D=C.width,T=C.height,M=C.style,z=C.compact,R=C.title,$=C.desc,B=LP(C,PV),L=Le(B,!1);if(z)return H.createElement(xP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement(cv,Il({},L,{width:D,height:T,title:R,desc:$}),this.renderClipPath(),hN(S,this.renderMap)));if(this.props.accessibilityLayer){var F,Y;L.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,L.role=(Y=this.props.role)!==null&&Y!==void 0?Y:"application",L.onKeyDown=function(V){k.accessibilityManager.keyboardEvent(V)},L.onFocus=function(){k.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return H.createElement(xP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement("div",Il({className:Ye("recharts-wrapper",E),style:ae({position:"relative",cursor:"default",width:D,height:T},M)},W,{ref:function(ee){k.container=ee},role:(P=L.role)!==null&&P!==void 0?P:"region"}),H.createElement(cv,Il({},L,{width:D,height:T,title:R,desc:$,style:WV}),this.renderClipPath(),hN(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}]),w})(O.Component),Me(n,"displayName",r),Me(n,"defaultProps",ae({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},x)),Me(n,"getDerivedStateFromProps",function(b,w){var y=b.dataKey,k=b.data,P=b.children,C=b.width,S=b.height,E=b.layout,D=b.stackOffset,T=b.margin,M=w.dataStartIndex,z=w.dataEndIndex;if(w.updateId===void 0){var R=UP(b);return ae(ae(ae({},R),{},{updateId:0},j(ae(ae({props:b},R),{},{updateId:0}),w)),{},{prevDataKey:y,prevData:k,prevWidth:C,prevHeight:S,prevLayout:E,prevStackOffset:D,prevMargin:T,prevChildren:P})}if(y!==w.prevDataKey||k!==w.prevData||C!==w.prevWidth||S!==w.prevHeight||E!==w.prevLayout||D!==w.prevStackOffset||!Ms(T,w.prevMargin)){var $=UP(b),B={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},L=ae(ae({},FP(w,k,E)),{},{updateId:w.updateId+1}),F=ae(ae(ae({},$),B),L);return ae(ae(ae({},F),j(ae({props:b},F),w)),{},{prevDataKey:y,prevData:k,prevWidth:C,prevHeight:S,prevLayout:E,prevStackOffset:D,prevMargin:T,prevChildren:P})}if(!ov(P,w.prevChildren)){var Y,W,V,ee,_=Rn(P,Qs),q=_&&(Y=(W=_.props)===null||W===void 0?void 0:W.startIndex)!==null&&Y!==void 0?Y:M,X=_&&(V=(ee=_.props)===null||ee===void 0?void 0:ee.endIndex)!==null&&V!==void 0?V:z,J=q!==M||X!==z,le=!Be(k),ge=le&&!J?w.updateId:w.updateId+1;return ae(ae({updateId:ge},j(ae(ae({props:b},w),{},{updateId:ge,dataStartIndex:q,dataEndIndex:X}),w)),{},{prevChildren:P,dataStartIndex:q,dataEndIndex:X})}return null}),Me(n,"renderActiveDot",function(b,w){var y;return O.isValidElement(b)?y=O.cloneElement(b,w):Fe(b)?y=b(w):y=H.createElement(Vf,w),H.createElement(Qe,{className:"recharts-active-dot",key:w.key},y)}),n},JV=MI({chartName:"BarChart",GraphicalChild:fa,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ro},{axisType:"yAxis",AxisComp:ao}],formatAxisMap:oI}),eK=MI({chartName:"ComposedChart",GraphicalChild:[Xf,ai,fa,Zf],axisComponents:[{axisType:"xAxis",AxisComp:ro},{axisType:"yAxis",AxisComp:ao},{axisType:"zAxis",AxisComp:Qf}],formatAxisMap:oI});const ud=({label:e,value:t,subtext:n,icon:r,variant:i="light"})=>{const o=()=>{switch(i){case"dark":return"bg-slate-900 text-white border-slate-800";case"indigo":return"bg-indigo-600 text-white border-indigo-500";case"emerald":return"bg-emerald-600 text-white border-emerald-500";case"rose":return"bg-rose-600 text-white border-rose-500";default:return"bg-white text-slate-900 border-slate-100 hover:border-indigo-200"}},c=()=>{switch(i){case"dark":return"bg-white/10 text-white";case"indigo":return"bg-white/20 text-white";case"emerald":return"bg-white/20 text-white";case"rose":return"bg-white/20 text-white";default:return"bg-slate-50 text-slate-600"}};return a.jsxs("div",{className:`p-5 rounded-[2rem] border shadow-sm flex flex-col justify-between group transition-all ${o()}`,children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("div",{className:`p-2.5 rounded-xl transition-colors ${c()}`,children:a.jsx(r,{size:18})}),n&&a.jsx("span",{className:`text-[8px] font-black uppercase tracking-widest px-2 py-0.5 rounded-full ${i==="light"?"bg-indigo-50 text-indigo-400":"bg-white/10 text-white"}`,children:n})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("p",{className:`text-[8px] font-black uppercase tracking-widest mb-1 ${i==="light"?"text-slate-400":"text-white/60"}`,children:e}),a.jsx("h3",{className:"text-2xl font-black tracking-tighter leading-tight",children:t})]})]})},tK=({data:e})=>{const{payments:t,clients:n,vehicles:r,invoices:i,agents:o,simTopups:c}=e,u=O.useMemo(()=>{const v=[],j=new Date;for(let b=5;b>=0;b--){const w=new Date(j.getFullYear(),j.getMonth()-b,1),y=w.toLocaleString("en-US",{month:"short"}),k=t.filter(P=>{const C=new Date(P.Date);return C.getMonth()===w.getMonth()&&C.getFullYear()===w.getFullYear()});v.push({name:y,revenue:k.reduce((P,C)=>P+Number(C.Amount),0),txCount:k.length})}return v},[t]),d=O.useMemo(()=>{const v=new Date,j={current:0,late1_30:0,late31_60:0,late61Plus:0};return i.forEach(b=>{if(b.Status===jt.Paid||b.DocType!==st.Invoice)return;const w=new Date(b.DueDate),y=Math.ceil((v.getTime()-w.getTime())/(1e3*60*60*24));y<=0?j.current+=Number(b.BalanceDue):y<=30?j.late1_30+=Number(b.BalanceDue):y<=60?j.late31_60+=Number(b.BalanceDue):j.late61Plus+=Number(b.BalanceDue)}),[{category:"Current",value:j.current,fill:"#10b981"},{category:"1-30 Days",value:j.late1_30,fill:"#f59e0b"},{category:"31-60 Days",value:j.late31_60,fill:"#f97316"},{category:"61+ Days",value:j.late61Plus,fill:"#ef4444"}]},[i]);O.useMemo(()=>{const v=new Date,j=new Date;j.setDate(v.getDate()+30);let b=0,w=0,y=0;return r.forEach(k=>{const P=c.filter(S=>String(S.VehicleID).toLowerCase()===String(k.VehicleID).toLowerCase()).sort((S,E)=>new Date(E.ExpiryDate).getTime()-new Date(S.ExpiryDate).getTime()),C=P.length>0?new Date(P[0].ExpiryDate):null;!C||C<v?w++:C<j?y++:b++}),[{name:"Operational",value:b,color:"#10b981"},{name:"Renewal Due",value:y,color:"#f59e0b"},{name:"Offline/Expired",value:w,color:"#ef4444"}]},[r,c]);const f=u.reduce((v,j)=>v+j.revenue,0),h=d.reduce((v,j)=>j.category!=="Current"?v+j.value:v,0),m=r.length>0?f/6/r.length:0,x=f/(f+h)*100;return a.jsxs("div",{className:"h-full flex flex-col space-y-4 animate-in fade-in duration-1000 overflow-y-auto no-scrollbar pb-20",children:[a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 shrink-0",children:[a.jsx(ud,{variant:"dark",icon:co,label:"Total Sales Pool",value:`K${Oe(f)}`,subtext:"6-Month Trend"}),a.jsx(ud,{variant:"light",icon:zl,label:"Unit Yield (ARPU)",value:`K${Oe(m)}`,subtext:"SaaS Metric"}),a.jsx(ud,{variant:"light",icon:s_,label:"Collection Efficiency",value:`${x.toFixed(1)}%`,subtext:"Liquidity"}),a.jsx(ud,{variant:"light",icon:CE,label:"Total Receivables",value:`K${Oe(h)}`,subtext:"Exposure"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] border border-slate-100 shadow-sm flex flex-col h-[400px]",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("h4",{className:"text-xs font-black text-slate-900 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Sn,{size:16,className:"text-indigo-500"})," Revenue Flow Cycle"]})}),a.jsx("div",{className:"flex-1 w-full",children:a.jsx(Rk,{width:"100%",height:"100%",children:a.jsxs(eK,{data:u,children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"revGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"#6366f1",stopOpacity:.1}),a.jsx("stop",{offset:"95%",stopColor:"#6366f1",stopOpacity:0})]})}),a.jsx(oy,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),a.jsx(ro,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:9,fontWeight:900,fill:"#94a3b8"},dy:10}),a.jsx(ao,{axisLine:!1,tickLine:!1,tick:{fontSize:9,fontWeight:900,fill:"#94a3b8"}}),a.jsx(pr,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)",padding:"12px"},labelStyle:{fontWeight:900,fontSize:"10px",textTransform:"uppercase",color:"#64748b"}}),a.jsx(ai,{type:"monotone",dataKey:"revenue",fill:"url(#revGrad)",stroke:"#6366f1",strokeWidth:4}),a.jsx(fa,{dataKey:"txCount",fill:"#10b981",radius:[4,4,0,0],barSize:20})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] border border-slate-100 shadow-sm flex flex-col h-[400px]",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("h4",{className:"text-xs font-black text-slate-900 uppercase tracking-widest flex items-center gap-2",children:[a.jsx($t,{size:16,className:"text-rose-500"})," Accounts Receivable Aging"]})}),a.jsx("div",{className:"flex-1 w-full",children:a.jsx(Rk,{width:"100%",height:"100%",children:a.jsxs(JV,{data:d,layout:"vertical",margin:{left:20},children:[a.jsx(oy,{strokeDasharray:"3 3",horizontal:!1,stroke:"#f1f5f9"}),a.jsx(ro,{type:"number",hide:!0}),a.jsx(ao,{dataKey:"category",type:"category",axisLine:!1,tickLine:!1,tick:{fontSize:9,fontWeight:900,fill:"#64748b"}}),a.jsx(pr,{formatter:v=>[`K${Oe(v)}`,"Total Balance"],contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"}}),a.jsx(fa,{dataKey:"value",radius:[0,8,8,0],barSize:32})]})})})]})]})]})},dd=({active:e,onClick:t,icon:n,label:r})=>a.jsxs("button",{onClick:t,className:`flex items-center gap-2.5 px-6 py-4 text-xs font-semibold uppercase tracking-wider transition-all border-b-2 whitespace-nowrap
      ${e?"border-indigo-600 text-indigo-600 bg-white":"border-transparent text-slate-400 hover:text-slate-600 hover:bg-slate-50/50"}`,children:[a.jsx(n,{size:14}),r]}),bi=({icon:e,title:t,subtitle:n})=>a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-indigo-50 text-indigo-600 rounded-xl",children:a.jsx(e,{size:18})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900 uppercase tracking-tight leading-none",children:t}),a.jsx("p",{className:"text-[10px] text-slate-400 font-medium uppercase tracking-widest mt-1",children:n})]})]}),Yn=({label:e,icon:t,children:n})=>a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("label",{className:"text-[10px] font-semibold text-slate-500 uppercase tracking-wider flex items-center gap-1.5 ml-1",children:[t&&a.jsx(t,{size:12})," ",e]}),n]}),wi=({label:e,icon:t,value:n,onChange:r,color:i})=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100 group hover:border-indigo-200 transition-all",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${i} shadow-sm group-hover:scale-110 transition-transform`,children:a.jsx(t,{size:16})}),a.jsx("span",{className:"text-xs font-semibold text-slate-700",children:e})]}),a.jsx("button",{onClick:()=>r(!n),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n?"bg-indigo-600":"bg-slate-300"}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n?"translate-x-6":"translate-x-1"}`})})]}),nK=({onSave:e,onSync:t,lastSyncTime:n,appData:r})=>{const[i,o]=O.useState("profile"),[c,u]=O.useState($n),[d,f]=O.useState(!1),h=O.useRef(null),[m,x]=O.useState({ID:"1",CompanyName:"",Address:"",Phone:"",Email:"",Website:"",Logo:"",DisbursementDay:5,DefaultCommissionRate:10,DefaultBonusRate:500,IncentivesActive:!0,EmailInvoicesEnabled:!0,EmailPaymentsEnabled:!0,EmailContractsEnabled:!0,EmailTicketNewEnabled:!0,EmailTicketUpdateEnabled:!0,EmailTicketResolvedEnabled:!0,PortalUrl:"",MobileAppLink:""});O.useEffect(()=>{const k=localStorage.getItem("omni_script_url");u(k||$n),r!=null&&r.systemSettings&&x({...r.systemSettings})},[r]);const v=(k,P)=>{x(C=>({...C,[k]:P}))},j=k=>{var C;const P=(C=k.target.files)==null?void 0:C[0];if(P){const S=new FileReader;S.onloadend=()=>{v("Logo",S.result)},S.readAsDataURL(P)}},b=async()=>{f(!0);try{const k=(c||localStorage.getItem("omni_script_url")||$n).trim();await nt(k,"SystemSettings","update",m,"ID"),localStorage.setItem("omni_script_url",k),e(),alert("Settings updated successfully.")}catch(k){console.error(k),alert(`Update failed: ${k.message}`)}finally{f(!1)}},w=()=>{confirm("Reset to default database connection?")&&(u($n),localStorage.setItem("omni_script_url",$n),e())},y=n&&!isNaN(n.getTime())?n.toLocaleTimeString():"Not Synced";return a.jsxs("div",{className:"flex flex-col h-full overflow-hidden animate-in fade-in duration-500",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6 shrink-0 px-2",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-slate-900 text-white rounded-2xl shadow-xl",children:a.jsx(u_,{size:24})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-slate-900 tracking-tight leading-none",children:"System Settings"}),a.jsxs("p",{className:"text-[10px] text-slate-400 font-semibold uppercase tracking-widest mt-1.5 flex items-center gap-2",children:["Configure Organization & Automation ",a.jsx("div",{className:"w-1 h-1 rounded-full bg-slate-200"}),"Last Synced: ",y]})]})]}),a.jsxs("button",{onClick:b,disabled:d,className:"w-full sm:w-auto px-8 py-3.5 bg-indigo-600 text-white rounded-2xl font-bold text-xs uppercase tracking-widest shadow-xl flex items-center justify-center gap-3 hover:bg-indigo-700 transition-all active:scale-95 disabled:opacity-50",children:[d?a.jsx(Dt,{size:16,className:"animate-spin"}):a.jsx(zy,{size:16}),"Save Configuration"]})]}),a.jsxs("div",{className:"flex-1 min-h-0 bg-white rounded-[2rem] border border-slate-100 shadow-sm flex flex-col overflow-hidden",children:[a.jsxs("div",{className:"flex items-center border-b border-slate-50 bg-slate-50/30 px-6 overflow-x-auto no-scrollbar shrink-0",children:[a.jsx(dd,{active:i==="profile",onClick:()=>o("profile"),icon:Ei,label:"Company Profile"}),a.jsx(dd,{active:i==="finance",onClick:()=>o("finance"),icon:tv,label:"Finance & Rates"}),a.jsx(dd,{active:i==="notifications",onClick:()=>o("notifications"),icon:Yj,label:"Email Notifications"}),a.jsx(dd,{active:i==="integration",onClick:()=>o("integration"),icon:rv,label:"Connectivity"})]}),a.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar p-8 bg-slate-50/10",children:a.jsxs("div",{className:"max-w-5xl mx-auto",children:[i==="profile"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 animate-in slide-in-from-bottom-2 duration-300",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsx(bi,{icon:Ei,title:"Organization Identity",subtitle:"Primary business details"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(Yn,{label:"System ID (Auto)",icon:Di,children:a.jsx("input",{type:"text",value:m.ID,readOnly:!0,className:"w-full p-3.5 bg-slate-100 border border-slate-200 rounded-xl text-xs font-mono font-bold text-slate-500 outline-none cursor-not-allowed"})}),a.jsx(Yn,{label:"Company Name",icon:Ei,children:a.jsx("input",{type:"text",value:m.CompanyName,onChange:k=>v("CompanyName",k.target.value),className:"w-full p-3.5 bg-white border border-slate-200 rounded-xl text-sm font-semibold outline-none focus:ring-2 focus:ring-indigo-100 transition-all"})})]}),a.jsx(Yn,{label:"Business Address",icon:SE,children:a.jsx("input",{type:"text",value:m.Address,onChange:k=>v("Address",k.target.value),className:"w-full p-3.5 bg-white border border-slate-200 rounded-xl text-sm font-medium outline-none focus:ring-2 focus:ring-indigo-100 transition-all"})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(Yn,{label:"Support Email",icon:Ac,children:a.jsx("input",{type:"email",value:m.Email,onChange:k=>v("Email",k.target.value),className:"w-full p-3.5 bg-white border border-slate-200 rounded-xl text-sm font-medium outline-none focus:ring-2 focus:ring-indigo-100 transition-all"})}),a.jsx(Yn,{label:"Contact Phone",icon:My,children:a.jsx("input",{type:"text",value:m.Phone,onChange:k=>v("Phone",k.target.value),className:"w-full p-3.5 bg-white border border-slate-200 rounded-xl text-sm font-medium outline-none focus:ring-2 focus:ring-indigo-100 transition-all"})})]}),a.jsx(Yn,{label:"Website",icon:gd,children:a.jsx("input",{type:"text",value:m.Website,onChange:k=>v("Website",k.target.value),className:"w-full p-3.5 bg-white border border-slate-200 rounded-xl text-sm font-medium outline-none focus:ring-2 focus:ring-indigo-100 transition-all"})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(bi,{icon:X4,title:"Company Branding",subtitle:"Logo for documents and emails"}),a.jsxs("div",{className:"p-8 bg-white rounded-3xl border border-slate-100 shadow-sm flex flex-col items-center gap-6",children:[a.jsx("div",{onClick:()=>{var k;return(k=h.current)==null?void 0:k.click()},className:"w-40 h-40 bg-slate-50 rounded-[2.5rem] border-2 border-dashed border-slate-200 flex items-center justify-center overflow-hidden shadow-inner group cursor-pointer hover:border-indigo-300 transition-all",children:m.Logo?a.jsxs("div",{className:"relative w-full h-full group",children:[a.jsx("img",{src:m.Logo,className:"w-full h-full object-contain p-4",alt:"Logo"}),a.jsxs("div",{className:"absolute inset-0 bg-indigo-600/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[a.jsx(ev,{size:24,className:"text-white"}),a.jsx("span",{className:"text-[10px] font-bold text-white uppercase",children:"Upload New"})]})]}):a.jsxs("div",{className:"flex flex-col items-center gap-2 text-slate-300 group-hover:text-indigo-400 transition-colors",children:[a.jsx(y_,{size:40}),a.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Click to Upload"})]})}),a.jsx("input",{type:"file",ref:h,onChange:j,accept:"image/*",className:"hidden"}),a.jsxs("div",{className:"p-4 bg-indigo-50/50 rounded-2xl border border-indigo-100 flex items-start gap-3",children:[a.jsx(vd,{size:16,className:"text-indigo-500 shrink-0 mt-0.5"}),a.jsx("p",{className:"text-[11px] text-indigo-700 font-medium leading-relaxed",children:"Your logo will be automatically embedded in all generated Invoices, Quotations, and Service Agreements."})]})]})]})]}),i==="finance"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 animate-in slide-in-from-bottom-2 duration-300",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsx(bi,{icon:tv,title:"Payment Cycles",subtitle:"Standard disbursement settings"}),a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm space-y-6",children:[a.jsx(Yn,{label:"Monthly Pay Day",icon:zr,children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("input",{type:"number",min:"1",max:"31",value:m.DisbursementDay,onChange:k=>v("DisbursementDay",Number(k.target.value)),className:"w-24 p-3.5 bg-slate-50 border border-slate-200 rounded-xl text-lg font-bold text-center text-indigo-600 outline-none"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs font-semibold text-slate-700 leading-none",children:"Accounting Day"}),a.jsx("p",{className:"text-[10px] text-slate-400 font-medium mt-1",children:"The date each month when commissions are finalized for payout."})]})]})}),a.jsx(Yn,{label:"Default Commission Rate (%)",icon:_y,children:a.jsx("input",{type:"number",value:m.DefaultCommissionRate,onChange:k=>v("DefaultCommissionRate",Number(k.target.value)),className:"w-full p-3.5 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold text-emerald-600 outline-none focus:ring-2 focus:ring-emerald-100 transition-all"})}),a.jsx(Yn,{label:"Base Performance Bonus",icon:zl,children:a.jsx("input",{type:"number",value:m.DefaultBonusRate,onChange:k=>v("DefaultBonusRate",Number(k.target.value)),className:"w-full p-3.5 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold text-indigo-600 outline-none focus:ring-2 focus:ring-indigo-100 transition-all"})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(bi,{icon:Di,title:"Rewards Engine",subtitle:"Automated performance incentives"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(wi,{label:"Enable Performance Incentives",icon:Sn,value:m.IncentivesActive,onChange:k=>v("IncentivesActive",k),color:"bg-emerald-50 text-emerald-600"}),a.jsxs("div",{className:"p-8 bg-slate-900 rounded-[2.5rem] text-white relative overflow-hidden shadow-xl border border-slate-800",children:[a.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 rotate-12",children:a.jsx(Sn,{size:100})}),a.jsx("h4",{className:"text-[11px] font-bold uppercase tracking-widest text-indigo-400 mb-2",children:"Policy"}),a.jsx("p",{className:"text-xs text-slate-400 leading-relaxed font-medium",children:"When enabled, the system automatically calculates bonus overrides for staff members exceeding their monthly activation targets."})]})]})]})]}),i==="notifications"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 animate-in slide-in-from-bottom-2 duration-300",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsx(bi,{icon:Yj,title:"Customer Notifications",subtitle:"Automated email trigger rules"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(wi,{label:"Send New Ticket Confirmations",icon:tr,value:m.EmailTicketNewEnabled,onChange:k=>v("EmailTicketNewEnabled",k),color:"bg-indigo-50 text-indigo-600"}),a.jsx(wi,{label:"Send Ticket Update Alerts",icon:Sn,value:m.EmailTicketUpdateEnabled,onChange:k=>v("EmailTicketUpdateEnabled",k),color:"bg-amber-50 text-amber-600"}),a.jsx(wi,{label:"Send Resolution Notifications",icon:wr,value:m.EmailTicketResolvedEnabled,onChange:k=>v("EmailTicketResolvedEnabled",k),color:"bg-emerald-50 text-emerald-600"})]})]}),a.jsx("div",{className:"space-y-6 pt-12 md:pt-14",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx(wi,{label:"Dispatch Invoices via Email",icon:Cn,value:m.EmailInvoicesEnabled,onChange:k=>v("EmailInvoicesEnabled",k),color:"bg-slate-100 text-slate-600"}),a.jsx(wi,{label:"Dispatch Payment Receipts",icon:ha,value:m.EmailPaymentsEnabled,onChange:k=>v("EmailPaymentsEnabled",k),color:"bg-emerald-50 text-emerald-600"}),a.jsx(wi,{label:"Dispatch Contract Dispatches",icon:Di,value:m.EmailContractsEnabled,onChange:k=>v("EmailContractsEnabled",k),color:"bg-indigo-50 text-indigo-600"})]})})]}),i==="integration"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 animate-in slide-in-from-bottom-2 duration-300",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsx(bi,{icon:rv,title:"External Access",subtitle:"Client portal and app links"}),a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm space-y-6",children:[a.jsx(Yn,{label:"Client Portal URL",icon:gd,children:a.jsx("input",{type:"text",value:m.PortalUrl,onChange:k=>v("PortalUrl",k.target.value),placeholder:"https://portal.company.com",className:"w-full p-3.5 bg-slate-50 border border-slate-200 rounded-xl text-sm font-medium outline-none focus:ring-2 focus:ring-indigo-100 transition-all"})}),a.jsx(Yn,{label:"Mobile App Store Link",icon:oa,children:a.jsx("input",{type:"text",value:m.MobileAppLink,onChange:k=>v("MobileAppLink",k.target.value),placeholder:"https://play.google.com/store/...",className:"w-full p-3.5 bg-slate-50 border border-slate-200 rounded-xl text-sm font-medium outline-none focus:ring-2 focus:ring-indigo-100 transition-all"})}),a.jsxs("div",{className:"p-4 bg-amber-50 rounded-2xl border border-amber-100 flex items-start gap-3",children:[a.jsx(pa,{size:16,className:"text-amber-500 shrink-0 mt-0.5"}),a.jsx("p",{className:"text-[11px] text-amber-800 font-semibold leading-relaxed",children:"Ensure these links are correct as they are included in all automated customer correspondence and signature requests."})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(bi,{icon:Xj,title:"Database Connection",subtitle:"Google Sheets Registry Settings"}),a.jsx("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm space-y-6",children:a.jsx(Yn,{label:"Google Script URL",icon:Xj,children:a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:c,onChange:k=>u(k.target.value),className:"w-full p-4 pr-12 bg-slate-50 border border-slate-200 rounded-xl outline-none font-mono text-[10px] text-slate-500 focus:ring-2 focus:ring-indigo-100 transition-all"}),a.jsx("div",{className:"absolute right-2 top-2",children:a.jsx("button",{onClick:w,className:"p-2 text-slate-300 hover:text-slate-900 transition-colors",title:"Reset to Default",children:a.jsx(c_,{size:16})})})]})})})]})]})]})})]})]})},rK=({appState:e,visibleData:t,modals:n,handlers:r,lastSync:i,setSyncing:o})=>{var u,d,f;const c=h=>{var v,j;const m=e.currentUser;if(!m)return!1;if(m.role==="Admin")return!0;const x=["clients","vehicles","sim_manager","contracts","invoices","payments","commissions","support"];if(m.role==="Partner")return h==="dashboard"?!1:!!(h==="partner_hub"||x.includes(h));if(m.role==="Agent"&&(x.includes(h)||h==="dashboard"))return!0;if(m.role==="Agent"&&h==="agents"){const b=e.agents.find(w=>String(w.AgentID)===String(m.id));if((b==null?void 0:b.ExperienceLevel)==="Lead"||(b==null?void 0:b.ExperienceLevel)==="Mentor")return!0}return m.role==="Client"?!1:((j=(v=m.permissions)==null?void 0:v[h])==null?void 0:j.view)||!1};return a.jsxs(D4,{children:[a.jsx(nn,{path:"/",element:((u=e.currentUser)==null?void 0:u.role)==="Client"?a.jsx(RM,{data:e,onSignContract:r.handleSaveContract,onReportIssue:r.handleSaveTicket}):a.jsx(aM,{data:e,onClaimPayout:r.handleClaimPayout,onApplyForPartnership:r.handleApplyForPartnership})}),a.jsx(nn,{path:"/clients",element:c("clients")?a.jsx(sM,{clients:t.clients,agents:e.agents,vehicles:t.vehicles,activityLogs:e.activityLogs,onAdd:()=>{n.client.setSelected(null),n.client.setMode("add"),n.client.setOpen(!0)},onView:h=>{n.client.setSelected(h),n.client.setMode("view"),n.client.setOpen(!0)},onEdit:h=>{n.client.setSelected(h),n.client.setMode("edit"),n.client.setOpen(!0)}}):a.jsx(jn,{to:"/"})}),a.jsx(nn,{path:"/vehicles",element:c("vehicles")?a.jsx(oM,{vehicles:t.vehicles,agents:e.agents,clients:e.clients,onAdd:()=>{n.vehicle.setSelected(null),n.vehicle.setMode("add"),n.vehicle.setOpen(!0)},onView:h=>{n.vehicle.setSelected(h),n.vehicle.setMode("view"),n.vehicle.setOpen(!0)},onEdit:h=>{n.vehicle.setSelected(h),n.vehicle.setMode("edit"),n.vehicle.setOpen(!0)}}):a.jsx(jn,{to:"/"})}),a.jsx(nn,{path:"/sim-maintenance",element:c("sim_manager")?a.jsx(cM,{vehicles:t.vehicles,simTopups:e.simTopups,clients:e.clients,currentUser:e.currentUser,onTopUp:r.handleBulkSimTopUpAction}):a.jsx(jn,{to:"/"})}),a.jsx(nn,{path:"/maintenance",element:c("sim_manager")?a.jsx(uM,{logs:e.maintenance,onAdd:()=>{n.maintenance.setSelected(null),n.maintenance.setMode("add"),n.maintenance.setOpen(!0)},onView:h=>{n.maintenance.setSelected(h),n.maintenance.setMode("view"),n.maintenance.setOpen(!0)}}):a.jsx(jn,{to:"/"})}),a.jsx(nn,{path:"/contracts",element:c("contracts")?a.jsx(fM,{contracts:t.contracts,onAdd:()=>{n.contract.setSelected(null),n.contract.setMode("add"),n.contract.setOpen(!0)},onView:h=>{n.contract.setSelected(h),n.contract.setMode("view"),n.contract.setOpen(!0)},onEdit:h=>{n.contract.setSelected(h),n.contract.setMode("edit"),n.contract.setOpen(!0)}}):a.jsx(jn,{to:"/"})}),a.jsx(nn,{path:"/invoices",element:c("invoices")?a.jsx(hM,{invoices:t.invoices,onAdd:h=>{n.invoice.setType(h),n.invoice.setSelected(null),n.invoice.setMode("add"),n.invoice.setOpen(!0)},onView:h=>{n.invoice.setSelected(h),n.invoice.setMode("view"),n.invoice.setOpen(!0)},onEdit:h=>{n.invoice.setSelected(h),n.invoice.setMode("edit"),n.invoice.setOpen(!0)},onDelete:async h=>{o(!0),await nt(localStorage.getItem("omni_script_url")||$n,"Invoices","delete",{InvoiceID:h},"InvoiceID"),await r.loadData(!1),o(!1)}}):a.jsx(jn,{to:"/"})}),a.jsx(nn,{path:"/payments",element:c("payments")?a.jsx(xM,{payments:t.payments,onAdd:()=>{n.payment.setSelected(null),n.payment.setMode("add"),n.payment.setOpen(!0)},onView:h=>{n.payment.setSelected(h),n.payment.setMode("view"),n.payment.setOpen(!0)},onEdit:h=>{n.payment.setSelected(h),n.payment.setMode("edit"),n.payment.setOpen(!0)},onDelete:async h=>{o(!0),await nt(localStorage.getItem("omni_script_url")||$n,"Payments","delete",{PaymentID:h},"PaymentID"),await r.loadData(!1),o(!1)}}):a.jsx(jn,{to:"/"})}),a.jsx(nn,{path:"/commissions",element:c("commissions")?a.jsx(gM,{agents:t.agents.length>0?t.agents:e.agents,clients:e.clients,contracts:e.contracts,payments:e.payments,vehicles:e.vehicles,systemSettings:e.systemSettings,currentUser:e.currentUser,notifications:e.notifications}):a.jsx(jn,{to:"/"})}),a.jsx(nn,{path:"/support",element:c("support")?a.jsx($M,{tickets:t.tickets,clients:e.clients,agents:e.agents,onUpdateTicket:r.handleSaveTicket,currentUser:e.currentUser}):a.jsx(jn,{to:"/"})}),a.jsx(nn,{path:"/partner-hub",element:((d=e.currentUser)==null?void 0:d.role)==="Partner"?a.jsx(NM,{data:e,onUpdatePartner:r.handleSaveAgent}):a.jsx(jn,{to:"/"})}),a.jsx(nn,{path:"/agents",element:c("agents")?a.jsx(SM,{agents:t.agents.length>0?t.agents:e.agents,onAdd:()=>{n.agent.setSelected(null),n.agent.setMode("add"),n.agent.setOpen(!0)},onView:h=>{n.agent.setSelected(h),n.agent.setMode("view"),n.agent.setOpen(!0)},onEdit:h=>{n.agent.setSelected(h),n.agent.setMode("edit"),n.agent.setOpen(!0)}}):a.jsx(jn,{to:"/"})}),a.jsx(nn,{path:"/reports",element:c("dashboard")?a.jsx(tK,{data:e}):a.jsx(jn,{to:"/"})}),a.jsx(nn,{path:"/settings",element:((f=e.currentUser)==null?void 0:f.role)==="Admin"?a.jsx(nK,{onSave:()=>r.loadData(!1),onSync:()=>r.loadData(!1),lastSyncTime:i,appData:e}):a.jsx(jn,{to:"/"})}),a.jsx(nn,{path:"*",element:a.jsx(jn,{to:"/",replace:!0})})]})},aK=({user:e,profile:t,onComplete:n,onFinalize:r})=>{const[i,o]=O.useState(!1),[c,u]=O.useState(!1),[d,f]=O.useState(null),[h,m]=O.useState(""),[x,v]=O.useState(""),j=e.role.toLowerCase()==="client",b=j?"bg-indigo-600":"bg-slate-900",w=j?"text-indigo-600":"text-slate-900",y=async()=>{if(f(null),h.length<6){f("Required: Minimum 6 characters.");return}if(h!==x){f("Error: Passwords do not match.");return}o(!0);try{await n(h),u(!0)}catch(k){f(k.message||"Synchronization error.")}finally{o(!1)}};return a.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-50 flex items-center justify-center p-3 sm:p-4 overflow-hidden select-none font-sans",children:a.jsx("div",{className:"w-full max-w-md bg-white rounded-[2rem] shadow-2xl overflow-hidden flex flex-col animate-in fade-in zoom-in-95 duration-500 border border-slate-100",children:a.jsx("div",{className:"p-6 md:p-8 flex-1 flex flex-col",children:c?a.jsxs("div",{className:"space-y-6 animate-in zoom-in duration-500 text-center py-6",children:[a.jsx("div",{className:"mx-auto w-16 h-16 bg-emerald-50 rounded-full flex items-center justify-center text-emerald-500 border border-emerald-100 shadow-inner",children:a.jsx(wr,{size:36,strokeWidth:2.5})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("h2",{className:"text-xl font-black text-slate-900 uppercase tracking-tight",children:"Access Secured"}),a.jsxs("p",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest leading-relaxed",children:["Credentials updated successfully.",a.jsx("br",{}),"Return to the login screen to sign in."]})]}),a.jsxs("button",{onClick:r,className:`w-full py-4 ${b} text-white rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] shadow-2xl hover:opacity-95 transition-all active:scale-95 flex items-center justify-center gap-3`,children:["Return to Login ",a.jsx(t_,{size:14})]})]}):a.jsxs("div",{className:"space-y-5 animate-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex flex-col items-center text-center",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-white mb-4 shadow-lg ${b}`,children:a.jsx(Iy,{size:22})}),a.jsx("h1",{className:"text-xl font-black text-slate-900 uppercase tracking-tight",children:"Security Activation"}),a.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-[0.2em] mt-1",children:["Hello, ",e.name]})]}),a.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100 flex items-center gap-3",children:[a.jsx(hn,{className:w,size:16}),a.jsx("p",{className:"text-[10px] font-bold text-slate-500 leading-tight uppercase",children:"Please update your password to secure your account and gain access."})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"New Password"}),a.jsx("input",{type:"password",value:h,onChange:k=>m(k.target.value),disabled:i,className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-indigo-500/20 transition-all font-black text-sm tracking-widest text-slate-900",placeholder:""})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Verify Password"}),a.jsx("input",{type:"password",value:x,onChange:k=>v(k.target.value),disabled:i,className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-indigo-500/20 transition-all font-black text-sm tracking-widest text-slate-900",placeholder:""})]})]}),d&&a.jsxs("div",{className:"p-2 bg-rose-50 border border-rose-100 rounded-lg text-[8px] font-black text-rose-600 uppercase tracking-widest text-center flex items-center justify-center gap-2",children:[a.jsx(Nf,{size:12})," ",d]}),a.jsxs("button",{onClick:y,disabled:i||!h||!x,className:`w-full py-4 ${b} text-white rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] shadow-xl hover:opacity-90 transition-all active:scale-95 disabled:opacity-50 flex items-center justify-center gap-3`,children:[i?a.jsx(Dt,{size:14,className:"animate-spin"}):a.jsx(zl,{size:14}),i?"Saving Credentials...":"Activate Account"]})]})})})})},iK=({appState:e,onSendMessage:t,onMarkAsRead:n,onUpdateTyping:r,onRefresh:i,onOpenBroadcast:o})=>{var L;const[c,u]=O.useState(!1),[d,f]=O.useState(null),[h,m]=O.useState(""),[x,v]=O.useState(""),[j,b]=O.useState(!1),w=O.useRef(null),y=O.useRef(null),k=O.useRef(null),P=O.useRef(!1),C=e.currentUser,S=F=>String(F||"").trim().toLowerCase(),E=(F="smooth")=>{w.current&&w.current.scrollIntoView({behavior:F,block:"end"})};O.useEffect(()=>(c&&C&&(y.current=window.setInterval(()=>{document.visibilityState==="visible"&&i(!1,!0,!0)},7e3)),()=>{y.current&&clearInterval(y.current)}),[c,i,C]),O.useEffect(()=>{if(d&&c&&C){const F=S(C.id),Y=S(d),W=(e.messages||[]).filter(V=>S(V.SenderID)===Y&&S(V.ReceiverID)===F&&V.Status==="Sent").map(V=>V.ID);W.length>0&&n(W)}},[d,c,e.messages.length,C==null?void 0:C.id]),O.useEffect(()=>{c&&d&&E("auto")},[d,c]),O.useEffect(()=>{c&&d&&E("smooth")},[(L=e.messages)==null?void 0:L.length]);const D=F=>{if(!C)return{online:!1,isTyping:!1,lastSeen:"N/A"};const Y=e.messages.find(_=>_.ID===`PRESENCE-${F}`);if(!Y)return{online:!1,isTyping:!1,lastSeen:"N/A"};const W=new Date(Y.Timestamp),V=Date.now()-W.getTime()<300*1e3,ee=V&&S(Y.Message)===S(C.id);return{online:V,isTyping:ee,lastSeen:Ae(Y.Timestamp)}},T=O.useMemo(()=>{if(!C)return[];const F=S(C.id),Y=new Map,W=_=>(e.messages||[]).filter(q=>S(q.SenderID)===S(_)&&S(q.ReceiverID)===F&&q.Status==="Sent"&&!q.ID.startsWith("PRESENCE-")).length,V=_=>{const q=(e.messages||[]).filter(le=>!le.ID.startsWith("PRESENCE-")&&(S(le.SenderID)===F&&S(le.ReceiverID)===S(_)||S(le.SenderID)===S(_)&&S(le.ReceiverID)===F));if(q.length===0)return null;const X=q[q.length-1];return(S(X.SenderID)===F?"You: ":"")+X.Message},ee=_=>{const q=(e.messages||[]).filter(X=>!X.ID.startsWith("PRESENCE-")&&(S(X.SenderID)===F&&S(X.ReceiverID)===S(_)||S(X.SenderID)===S(_)&&S(X.ReceiverID)===F));return q.length===0?0:new Date(q[q.length-1].Timestamp).getTime()};return e.agents.forEach(_=>{if(S(_.AgentID)!==F){const q=D(_.AgentID);Y.set(S(_.AgentID),{id:_.AgentID,name:_.AgentName,type:_.Role,...q,unreadCount:W(_.AgentID),lastInteraction:ee(_.AgentID),lastMessage:V(_.AgentID)})}}),C.role!=="Client"&&e.clients.forEach(_=>{const q=D(_.ClientID);Y.set(S(_.ClientID),{id:_.ClientID,name:_.CompanyName,type:"Client Account",...q,unreadCount:W(_.ClientID),lastInteraction:ee(_.ClientID),lastMessage:V(_.ClientID)})}),Array.from(Y.values()).filter(_=>_.name.toLowerCase().includes(x.toLowerCase())).sort((_,q)=>q.lastInteraction-_.lastInteraction||q.unreadCount-_.unreadCount)},[e.agents,e.clients,e.messages,C,x]),M=T.find(F=>S(F.id)===S(d)),z=O.useMemo(()=>{if(!d||!C)return[];const F=S(C.id),Y=S(d);return(e.messages||[]).filter(W=>!W.ID.startsWith("PRESENCE-")&&(S(W.SenderID)===F&&S(W.ReceiverID)===Y||S(W.SenderID)===Y&&S(W.ReceiverID)===F))},[e.messages,d,C==null?void 0:C.id]);if(!C)return null;const R=F=>{m(F.target.value),d&&(P.current||(P.current=!0,r(d)),k.current&&clearTimeout(k.current),k.current=window.setTimeout(()=>{r(null),P.current=!1},3e3))},$=async F=>{if(F.preventDefault(),!h.trim()||!d||j)return;b(!0);const Y={ID:`MSG-${Date.now()}-${Math.random().toString(36).substring(2,7)}`,SenderID:C.id,SenderName:C.name,ReceiverID:d,Message:h.trim(),Timestamp:new Date().toISOString(),Status:"Sent"},W=h;m("");try{await t(Y),E()}catch{m(W)}finally{b(!1)}},B=(e.messages||[]).filter(F=>!F.ID.startsWith("PRESENCE-")&&S(F.ReceiverID)===S(C.id)&&F.Status==="Sent").length;return a.jsxs("div",{className:"fixed bottom-6 right-6 z-[100] flex flex-col items-end pointer-events-none",children:[c&&a.jsxs("div",{className:"mb-4 w-[340px] sm:w-[400px] h-[640px] max-h-[calc(100vh-140px)] bg-white rounded-[2.5rem] border border-slate-200 shadow-[0_32px_64px_-16px_rgba(15,23,42,0.3)] overflow-hidden flex flex-col animate-in fade-in slide-in-from-bottom-12 duration-500 pointer-events-auto",children:[a.jsxs("div",{className:"p-6 bg-slate-900 text-white flex items-center justify-between shrink-0 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5",children:a.jsx(Ly,{size:80})}),a.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[d?a.jsx("button",{onClick:()=>f(null),className:"p-2 bg-white/10 hover:bg-white/20 rounded-xl transition-all",children:a.jsx(vf,{size:16})}):a.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-600 flex items-center justify-center shadow-lg",children:a.jsx(Zj,{size:20,className:"fill-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-bold truncate max-w-[160px] leading-tight",children:M?M.name:"Team Comms"}),M&&a.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest mt-0.5",children:M.isTyping?a.jsx("span",{className:"text-indigo-400 animate-pulse font-black",children:"Typing..."}):M.online?"Online":`Seen ${M.lastSeen}`})]})]}),a.jsxs("div",{className:"flex items-center gap-2 relative z-[110]",children:[!d&&C.role!=="Client"&&o&&a.jsxs("button",{onClick:F=>{F.preventDefault(),F.stopPropagation(),o()},className:"flex items-center gap-2 px-3 py-2 bg-indigo-600 text-white rounded-xl transition-all hover:bg-indigo-500 hover:scale-105 active:scale-95 shadow-lg group pointer-events-auto",title:"Broadcast Message",children:[a.jsx(nv,{size:14,className:"group-hover:animate-bounce"}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest hidden sm:block",children:"Broadcast"})]}),a.jsx("button",{onClick:F=>{F.stopPropagation(),u(!1)},className:"p-2 hover:bg-white/10 rounded-full transition-colors pointer-events-auto",children:a.jsx(bt,{size:20})})]})]}),d?a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden bg-white",children:[a.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-5 space-y-4",children:[z.length>0?z.map((F,Y)=>{const W=S(F.SenderID)===S(C.id),V=Y===0||Ae(F.Timestamp)!==Ae(z[Y-1].Timestamp),ee=z[Y+1],_=!ee||S(ee.SenderID)!==S(F.SenderID)||new Date(ee.Timestamp).getTime()-new Date(F.Timestamp).getTime()>3e5;return a.jsxs(H.Fragment,{children:[V&&a.jsx("div",{className:"flex justify-center my-6",children:a.jsx("span",{className:"px-4 py-1.5 bg-slate-50 border border-slate-100 rounded-full text-[7px] font-black text-slate-400 uppercase tracking-[0.2em] shadow-sm",children:Ae(F.Timestamp)})}),a.jsxs("div",{className:`flex flex-col ${W?"items-end":"items-start"} ${_?"mb-2":"mb-0.5"}`,children:[a.jsx("div",{className:`max-w-[85%] px-4 py-2.5 rounded-2xl text-[13px] font-medium shadow-sm leading-tight border relative transition-all duration-300 ${W?"bg-slate-900 text-white border-slate-900 "+(_?"rounded-tr-none":""):"bg-slate-100 border-slate-100 text-slate-800 "+(_?"rounded-tl-none":"")}`,children:F.Message}),_&&a.jsxs("div",{className:"flex items-center gap-1.5 mt-1.5 px-1",children:[a.jsx("span",{className:"text-[7px] font-black text-slate-400 uppercase tracking-tighter",children:new Date(F.Timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),W&&(F.Status==="Read"?a.jsx(Cy,{size:11,strokeWidth:3,className:"text-sky-400"}):a.jsx(bf,{size:11,strokeWidth:3,className:"text-slate-300"}))]})]})]},F.ID)}):a.jsxs("div",{className:"py-24 text-center opacity-10",children:[a.jsx($t,{size:40,className:"mx-auto mb-4"}),a.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.4em]",children:"Start encrypted flow"})]}),(M==null?void 0:M.isTyping)&&a.jsx("div",{className:"flex items-start gap-2 animate-in fade-in slide-in-from-bottom-2 duration-300",children:a.jsxs("div",{className:"px-4 py-3 bg-slate-100 rounded-2xl rounded-tl-none flex gap-1 items-center border border-slate-200",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),a.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),a.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})}),a.jsx("div",{ref:w,className:"h-4 shrink-0"})]}),a.jsx("div",{className:"p-4 bg-slate-50 border-t border-slate-100 shrink-0",children:a.jsxs("form",{onSubmit:$,className:"flex items-center gap-3",children:[a.jsx("input",{autoFocus:!0,type:"text",value:h,onChange:R,disabled:j,placeholder:"Secure message...",className:"flex-1 bg-white border border-slate-200 p-3.5 rounded-2xl text-sm font-semibold outline-none focus:ring-4 focus:ring-indigo-50/5 focus:border-indigo-600/30 transition-all placeholder:text-slate-300 shadow-sm"}),a.jsx("button",{type:"submit",disabled:!h.trim()||j,className:`w-12 h-12 rounded-2xl shadow-xl flex items-center justify-center transition-all active:scale-90 shrink-0 ${h.trim()&&!j?"bg-slate-900 text-white hover:bg-black shadow-slate-900/20":"bg-slate-200 text-slate-400 cursor-not-allowed shadow-none"}`,children:j?a.jsx(Dt,{size:18,className:"animate-spin"}):a.jsx(Rr,{size:18})})]})})]}):a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden bg-slate-50/30",children:[a.jsx("div",{className:"p-4 bg-white border-b border-slate-100",children:a.jsxs("div",{className:"relative",children:[a.jsx(An,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:14}),a.jsx("input",{type:"text",placeholder:"Search team or clients...",value:x,onChange:F=>v(F.target.value),className:"w-full pl-9 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-xs outline-none focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium"})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar py-2",children:T.length>0?a.jsx("div",{className:"px-2 space-y-1",children:T.map(F=>a.jsxs("div",{onClick:()=>f(F.id),className:`px-4 py-3.5 flex items-center justify-between rounded-2xl hover:bg-white hover:shadow-sm cursor-pointer group transition-all ${F.unreadCount>0?"bg-indigo-50/50":""}`,children:[a.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[a.jsxs("div",{className:"relative shrink-0",children:[a.jsx("div",{className:"w-11 h-11 rounded-2xl bg-white border border-slate-200 flex items-center justify-center text-slate-400 group-hover:bg-indigo-50 group-hover:text-indigo-600 transition-all",children:a.jsx(Nt,{size:20})}),a.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 w-3 h-3 rounded-full border-2 border-white ${F.online?"bg-emerald-500 shadow-sm":"bg-slate-300"}`})]}),a.jsxs("div",{className:"flex flex-col min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`text-[11px] font-black uppercase tracking-tight truncate ${F.unreadCount>0?"text-indigo-900":"text-slate-800"}`,children:F.name}),F.unreadCount>0&&a.jsx("span",{className:"px-1.5 py-0.5 rounded-md bg-indigo-600 text-white text-[8px] font-black animate-bounce",children:F.unreadCount})]}),a.jsx("p",{className:"text-[10px] text-slate-500 truncate mt-0.5 max-w-[180px] font-medium italic",children:F.lastMessage||"No recent history"})]})]}),a.jsx(Ay,{size:14,className:"text-slate-200 group-hover:text-indigo-600 transition-colors shrink-0"})]},F.id))}):a.jsxs("div",{className:"py-24 text-center opacity-20",children:[a.jsx(Nt,{size:40,className:"mx-auto mb-4"}),a.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.4em]",children:"No Active Sessions"})]})})]})]}),a.jsxs("button",{onClick:()=>u(!c),className:`w-16 h-16 rounded-[2rem] shadow-2xl flex items-center justify-center transition-all active:scale-90 relative pointer-events-auto overflow-hidden group ${c?"bg-rose-600 text-white hover:bg-rose-700":"bg-slate-900 text-white hover:bg-black hover:-translate-y-1"}`,children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),c?a.jsx(bt,{size:28}):a.jsx(Zj,{size:28,className:"fill-white"}),!c&&B>0&&a.jsx("span",{className:"absolute top-0.5 right-0.5 w-6 h-6 bg-indigo-500 border-2 border-slate-900 rounded-full animate-bounce flex items-center justify-center text-[10px] font-black text-white shadow-lg z-20",children:B>9?"9+":B}),!c&&B>0&&a.jsx("div",{className:"absolute inset-0 bg-indigo-500/20 animate-pulse"})]})]})},Kg="sally_chanza_db_cache",Gg="sally_chanza_last_fetch",sK=1e4,WP=(e,t,n,r)=>{const i=new Map;Array.isArray(e)&&e.forEach(c=>i.set(String(c[n]),c)),Array.isArray(t)&&t.forEach(c=>{const u=String(c[n]);i.set(u,c)});const o=Array.from(i.values());return r&&o.sort((c,u)=>{const d=new Date(c[r]||0).getTime(),f=new Date(u[r]||0).getTime();return d-f}),o},oK=()=>{var f;const[e,t]=O.useState(()=>{const h=localStorage.getItem(Kg);return h?JSON.parse(h):{clients:[],assets:[],vehicles:[],maintenance:[],simTopups:[],contracts:[],invoices:[],payments:[],commissions:[],notifications:[],tickets:[],agents:[],servicePlans:[],loginRecords:[],activityLogs:[],messages:[],systemSettings:null,currentUser:null}}),[n,r]=O.useState(!localStorage.getItem(Kg)),[i,o]=O.useState(!1),[c,u]=O.useState(()=>{const h=localStorage.getItem(Gg);return h&&h!=="null"?new Date(Number(h)):null});O.useEffect(()=>{localStorage.setItem(Kg,JSON.stringify(e))},[e]);const d=O.useCallback(async(h=!1,m=!1,x=!1)=>{const v=Date.now(),j=Number(localStorage.getItem(Gg)||0);if(!h&&!m&&v-j<sK)return;if(!navigator.onLine){r(!1),o(!1);return}h&&(!e.clients||!e.clients.length)?r(!0):x||o(!0);const w=(localStorage.getItem("omni_script_url")||$n).trim();try{const y=await N_(w);if(y){t(P=>{const C=WP(P.messages||[],y.messages||[],"ID","Timestamp"),S=WP(P.activityLogs||[],y.activityLogs||[],"ID","Date");return{...P,...y,messages:C,activityLogs:S}});const k=new Date;u(k),localStorage.setItem(Gg,String(k.getTime())),r(!1)}}catch(y){console.error("Ledger Sync Failure:",y.message),h&&r(!1)}finally{o(!1),r(!1)}},[(f=e.clients)==null?void 0:f.length]);return{appState:e,setAppState:t,loading:n,syncing:i,setSyncing:o,lastSync:c,loadData:d}},lK=5,cK=6e4,uK=1800*1e3,dK=3600*1e3,za=e=>String(e||"").trim().toLowerCase(),fK={dashboard:{view:!0,create:!0,update:!0,delete:!0},clients:{view:!0,create:!0,update:!0,delete:!0},vehicles:{view:!0,create:!0,update:!0,delete:!0},sim_manager:{view:!0,create:!0,update:!0,delete:!0},contracts:{view:!0,create:!0,update:!0,delete:!0},invoices:{view:!0,create:!0,update:!0,delete:!0},payments:{view:!0,create:!0,update:!0,delete:!0},commissions:{view:!0,create:!0,update:!0,delete:!0},support:{view:!0,create:!0,update:!0,delete:!0},agents:{view:!0,create:!0,update:!0,delete:!0},settings:{view:!0,create:!0,update:!0,delete:!0}},HP={dashboard:{view:!0,create:!1,update:!1,delete:!1},clients:{view:!0,create:!0,update:!0,delete:!1},vehicles:{view:!0,create:!0,update:!0,delete:!1},sim_manager:{view:!0,create:!0,update:!0,delete:!1},contracts:{view:!0,create:!0,update:!0,delete:!1},invoices:{view:!0,create:!0,update:!0,delete:!1},payments:{view:!0,create:!0,update:!0,delete:!1},commissions:{view:!0,create:!1,update:!1,delete:!1},support:{view:!0,create:!0,update:!0,delete:!1},agents:{view:!1,create:!1,update:!1,delete:!1},settings:{view:!1,create:!1,update:!1,delete:!1}},pK=(e,t)=>{var h;const[n,r]=O.useState(!1),[i,o]=O.useState(0),[c,u]=O.useState(null),d=()=>t(m=>({...m,currentUser:null}));return O.useEffect(()=>{if(!e.currentUser)return;let m=Date.now(),x;const v=()=>{m=Date.now()},j=()=>{Date.now()-m>uK&&(console.warn("Security: Session expired due to inactivity."),d())},b=()=>{document.visibilityState==="visible"&&Date.now()-m>dK&&(console.warn("Security: Session expired during background period."),d())},w=["mousedown","keydown","scroll","touchstart","mousemove"];return w.forEach(y=>window.addEventListener(y,v)),document.addEventListener("visibilitychange",b),x=window.setInterval(j,6e4),()=>{w.forEach(y=>window.removeEventListener(y,v)),document.removeEventListener("visibilitychange",b),clearInterval(x)}},[(h=e.currentUser)==null?void 0:h.id]),O.useEffect(()=>{c&&Date.now()>=c&&(u(null),o(0))},[c]),{authLoading:n,handleLogin:async(m,x)=>{if(c)return`Security Lock: Try again in ${Math.ceil((c-Date.now())/1e3)}s.`;r(!0);try{await new Promise(S=>setTimeout(S,800));const v=e.loginRecords.find(S=>za(S.Email)===za(m));if(!v||String(v.Password).trim()!==String(x).trim()){const S=i+1;return o(S),S>=lK&&u(Date.now()+cK),r(!1),"Invalid credentials."}if(za(v.Status)==="inactive")return r(!1),"Account restricted.";const j=e.agents.find(S=>za(S.AgentID)===za(v.AgentID)),b=e.clients.find(S=>za(S.ClientID)===za(v.AgentID)),w=za(v.Role||(j?j.Role:"agent"));let y="Agent",k={dashboard:{view:!0,create:!1,update:!1,delete:!1}},P=(j==null?void 0:j.AgentName)||(b==null?void 0:b.CompanyName)||v.Email.split("@")[0];w.includes("admin")?(y="Admin",k={...fK}):w.includes("partner")?(y="Partner",k={...HP}):w.includes("client")?(y="Client",k={dashboard:{view:!0,create:!1,update:!1,delete:!1}}):k={...HP};const C=v.LastLogin?String(v.LastLogin).trim():null;return t(S=>({...S,currentUser:{id:v.AgentID,name:P,role:y,permissions:k,lastLogin:C||void 0}})),r(!1),o(0),null}catch{return r(!1),"Terminal connection error."}},handleLogout:d,lockoutTime:c?Math.ceil((c-Date.now())/1e3):0}},Er=e=>String(e||"").trim().toLowerCase(),hK=(e,t,n)=>{var f;const[r,i]=O.useState([]),o=O.useRef(new Set),c=O.useMemo(()=>{const{currentUser:h,notifications:m}=e;if(!h)return[];const x=h.role==="Admin",v=h.role==="Client",j=Er(h.id),b=w=>{const y=`${w}_${j}`;return r.includes(y)?!0:m.some(k=>(Er(k.ID)===Er(y)||Er(k.ID)===Er(w))&&k.Status==="Read"&&Er(k.AssignedTo)===j)};return m.filter(w=>{if(w.Status==="Read")return!1;const y=Er(w.AssignedTo),k=Er(w.ClientID);return(y===j||!v&&y==="global"||x&&y==="admin"||v&&k===j)&&!b(w.ID)}).sort((w,y)=>new Date(y.Time).getTime()-new Date(w.Time).getTime())},[e.notifications,e.currentUser,r]);O.useEffect(()=>{if(!e.currentUser||Notification.permission!=="granted")return;const h=Er(e.currentUser.id);c.forEach(x=>{var v;if(!o.current.has(x.ID)&&(o.current.add(x.ID),x.Priority===la.Critical||x.Priority===la.High)){const j=new Notification("Sally Chanza - System Alert",{body:x.Message,icon:((v=e.systemSettings)==null?void 0:v.Logo)||void 0,tag:x.ID,requireInteraction:!0});j.onclick=()=>{window.focus()}}}),(e.messages||[]).filter(x=>Er(x.ReceiverID)===h&&x.Status==="Sent"&&!x.ID.startsWith("PRESENCE-")).forEach(x=>{var v;if(!o.current.has(x.ID)){o.current.add(x.ID);const j=new Notification(`Message from ${x.SenderName}`,{body:x.Message.length>70?x.Message.substring(0,70)+"...":x.Message,icon:((v=e.systemSettings)==null?void 0:v.Logo)||void 0,tag:"chat-"+x.SenderID,silent:!1});j.onclick=()=>{window.focus()}}})},[c,e.messages,(f=e.currentUser)==null?void 0:f.id]);const u=async h=>{var j;const m=localStorage.getItem("omni_script_url")||$n,x=((j=e.currentUser)==null?void 0:j.id)||"SYSTEM",v=h.includes("_")?h:`${h}_${x}`;n(!0),i(b=>[...b,v]);try{await nt(m,"Notifications","create",{ID:v,Status:"Read",Time:new Date().toISOString(),Message:"User Dismissed",Type:"DISMISSAL",Priority:"Low",ClientID:"SYSTEM",AssignedTo:x,Sent:!0},"ID"),await t(!1)}catch(b){console.error("Dismissal Error:",b)}finally{n(!1)}};return{augmentedNotifications:c,handleDismissNotification:u,handleClearNotifications:async()=>{if(e.currentUser)for(const h of c)await u(h.ID)}}},Wb=(e,t)=>{const n=(t==null?void 0:t.CompanyName)||"Sally Chanza Business Caf",r=(t==null?void 0:t.Email)||"info@sallychanza.com";return`
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    * { box-sizing: border-box; }
    body { margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background-color: #f8fafc; color: #334155; }
    .wrapper { width: 100%; table-layout: fixed; background-color: #f8fafc; padding: 20px 0; }
    .container { width: 95%; max-width: 600px; margin: 0 auto; background-color: #ffffff; border-radius: 12px; border: 1px solid #e2e8f0; overflow: hidden; }
    .header { padding: 30px; background-color: #ffffff; text-align: center; border-bottom: 1px solid #f1f5f9; }
    .content { padding: 30px; }
    .footer { padding: 25px; text-align: center; font-size: 11px; color: #94a3b8; border-top: 1px solid #f1f5f9; background-color: #fafafa; }
    .button { display: inline-block; background-color: #0f172a; color: #ffffff !important; padding: 16px 30px; border-radius: 8px; text-decoration: none; font-weight: bold; font-size: 14px; margin-top: 10px; }
    .details-box { background-color: #f1f5f9; border-radius: 10px; padding: 20px; margin: 20px 0; }
    .feature-item { margin-bottom: 15px; }
    @media only screen and (max-width: 600px) {
       .button { width: 100%; text-align: center; padding: 16px 0; }
    }
  </style>
</head>
<body>
  <div class="wrapper">
    <div class="container">
      <div class="header">
        <div style="font-size: 18px; font-weight: 800; color: #0f172a; text-transform: uppercase;">${n}</div>
      </div>
      <div class="content">
        ${e}
      </div>
      <div class="footer">
        ${n}<br>
        Email: ${r}<br>
        &copy; ${new Date().getFullYear()} All rights reserved.
      </div>
    </div>
  </div>
</body>
</html>
`},mK=(e,t,n)=>{const r=(n==null?void 0:n.PortalUrl)||"https://sallychanza.com/portal",i=t?t.AgentName:"Operations Team",o=`
    <h2 style="margin: 0 0 16px 0; color: #0f172a; font-size: 20px;">Welcome to the Platform</h2>
    <p style="font-size: 15px; line-height: 1.6; margin-bottom: 20px;">Dear ${e.CompanyName},</p>
    <p style="font-size: 15px; line-height: 1.6; margin-bottom: 20px;">Your account is now active. We have assigned <strong>${i}</strong> as your dedicated account manager.</p>

    <div class="details-box">
      <h3 style="margin: 0 0 15px 0; font-size: 14px; color: #0f172a;">What is in your portal?</h3>
      <div class="feature-item"><strong> Fleet Registry:</strong> View and track all your registered vehicles.</div>
      <div class="feature-item"><strong> Digital Contracts:</strong> Sign and download your service agreements.</div>
      <div class="feature-item"><strong> Billing & History:</strong> View invoices and payment receipts.</div>
      <div class="feature-item"><strong> Support Desk:</strong> Report issues and get quick help.</div>
    </div>

    ${e.PortalEnabled?`
      <div style="background-color: #f8fafc; border: 1px solid #e2e8f0; border-radius: 10px; padding: 20px; margin: 20px 0;">
        <p style="margin: 0 0 8px 0; font-size: 13px;"><strong>Login Email:</strong> ${e.Email}</p>
        <p style="margin: 0; font-size: 13px;"><strong>Temporary Password:</strong> ${e.TempPassword||"Already configured"}</p>
      </div>
      <div style="text-align: center;">
        <a href="${r}" class="button">Log In to Portal</a>
      </div>
    `:""}
  `;return Wb(o,n)},xK=(e,t)=>{const n=`
    <h2 style="margin: 0 0 16px 0; color: #0f172a; font-size: 20px;">Profile Update Notice</h2>
    <p style="font-size: 15px; line-height: 1.6;">Dear ${e.CompanyName},</p>
    <p style="font-size: 15px; line-height: 1.6;">This is to notify you that your client profile details have been updated in our system by an administrator.</p>
    <p style="font-size: 15px; line-height: 1.6;">Please log in to your portal to review your information and ensure everything is correct.</p>
  `;return Wb(n,t)},gK=(e,t,n)=>{const r=`
    <h2 style="margin: 0 0 16px 0; color: #0f172a; font-size: 20px;">New Account Manager Assigned</h2>
    <p style="font-size: 15px; line-height: 1.6;">Dear ${e.CompanyName},</p>
    <p style="font-size: 15px; line-height: 1.6;">We have assigned a new Account Manager to your profile to provide you with better service.</p>
    <div class="details-box">
      <p style="margin: 0; font-size: 14px;"><strong>Manager Name:</strong> ${t.AgentName}</p>
      <p style="margin: 5px 0 0 0; font-size: 14px;"><strong>Contact Email:</strong> ${t.Email}</p>
      <p style="margin: 5px 0 0 0; font-size: 14px;"><strong>Contact Phone:</strong> ${t.Phone}</p>
    </div>
    <p style="font-size: 15px; line-height: 1.6;">Your new manager is ready to assist you with any questions.</p>
  `;return Wb(r,n)},vK=(e,t,n)=>{const r=(n==null?void 0:n.CompanyName)||"Sally Chanza Business Caf",i=(n==null?void 0:n.PortalUrl)||"https://sallychanza.com/portal";return`
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body style="margin: 0; padding: 0; background-color: #f8fafc; font-family: -apple-system, sans-serif; color: #334155;">
      <table border="0" cellpadding="0" cellspacing="0" width="100%" style="background-color: #f8fafc; padding: 20px;">
        <tr>
          <td align="center">
            <table border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width: 600px; background-color: #ffffff; border-radius: 8px; border: 1px solid #e2e8f0;">
              <tr>
                <td style="padding: 30px;">
                  <h2 style="margin: 0 0 20px 0; color: #0f172a; font-size: 18px;">Account Assignment</h2>
                  
                  <p style="font-size: 14px; line-height: 1.5; margin-bottom: 20px;">
                    Hello <strong>${t.AgentName}</strong>,<br><br>
                    The following client record has been assigned to your portfolio for management.
                  </p>

                  <div style="background-color: #f1f5f9; border-radius: 8px; padding: 20px; margin-bottom: 25px;">
                    <p style="margin: 5px 0; font-size: 13px;"><strong>Entity:</strong> ${e.CompanyName}</p>
                    <p style="margin: 5px 0; font-size: 13px;"><strong>Classification:</strong> ${e.ClientType}</p>
                    <p style="margin: 5px 0; font-size: 13px;"><strong>Contact:</strong> ${e.Phone}</p>
                    <p style="margin: 5px 0; font-size: 13px;"><strong>Email:</strong> ${e.Email}</p>
                  </div>

                  <div style="text-align: center;">
                    <a href="${i}" style="display: inline-block; background-color: #0f172a; color: #ffffff; padding: 12px 24px; border-radius: 6px; text-decoration: none; font-weight: bold; font-size: 13px;">Open Portal</a>
                  </div>

                  <p style="margin-top: 30px; font-size: 10px; color: #94a3b8; text-align: center; text-transform: uppercase; letter-spacing: 1px;">
                    System Notice &bull; ${r}
                  </p>
                </td>
              </tr>
            </table>
          </td>
        </tr>
      </table>
    </body>
    </html>
  `},yK=(e,t)=>{const n=(t==null?void 0:t.CompanyName)||"Sally Chanza Business Caf",r=(t==null?void 0:t.PortalUrl)||"https://sallychanza.com/portal";return`
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <style>
        body { margin: 0; padding: 0; width: 100% !important; background-color: #f8fafc; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; }
        .wrapper { width: 100%; table-layout: fixed; background-color: #f8fafc; padding: 20px 0; }
        .container { width: 95%; max-width: 600px; margin: 0 auto; background-color: #ffffff; border: 1px solid #e2e8f0; border-radius: 12px; overflow: hidden; }
        .header { padding: 30px; background-color: #0f172a; text-align: center; color: #ffffff; }
        .content { padding: 30px; color: #334155; line-height: 1.6; }
        .footer { padding: 20px; text-align: center; font-size: 11px; color: #94a3b8; border-top: 1px solid #f1f5f9; }
        .btn { display: inline-block; background-color: #4f46e5; color: #ffffff !important; padding: 14px 28px; border-radius: 8px; text-decoration: none; font-weight: bold; font-size: 14px; margin: 20px 0; }
        .info-box { background-color: #f1f5f9; border-radius: 10px; padding: 20px; margin: 20px 0; }
        .label { font-size: 10px; font-weight: bold; color: #64748b; text-transform: uppercase; display: block; margin-bottom: 4px; }
        .value { font-size: 14px; font-weight: 600; color: #0f172a; }
        @media only screen and (max-width: 600px) {
          .container { width: 100% !important; border-radius: 0; border-left: 0; border-right: 0; }
          .btn { display: block; text-align: center; }
        }
      </style>
    </head>
    <body>
      <div class="wrapper">
        <div class="container">
          <div class="header">
            <h2 style="margin: 0; font-size: 18px; text-transform: uppercase; letter-spacing: 1px;">Account Access Ready</h2>
          </div>
          <div class="content">
            <p>Hello ${e.AgentName},</p>
            <p>Your account on the <strong>${n}</strong> management portal has been created. You can now log in to manage your portfolio and view performance reports.</p>
            
            <div class="info-box">
              <div style="margin-bottom: 15px;">
                <span class="label">Access Link</span>
                <span class="value">${r}</span>
              </div>
              <div style="margin-bottom: 15px;">
                <span class="label">Your Email</span>
                <span class="value">${e.Email}</span>
              </div>
              <div>
                <span class="label">Temporary Password</span>
                <span class="value" style="font-family: monospace; letter-spacing: 1px;">${e.Password}</span>
              </div>
            </div>

            <p><strong>Note:</strong> You will be asked to change this temporary password during your first login for security purposes.</p>
            
            <div style="text-align: center;">
              <a href="${r}" class="btn">Log In Now</a>
            </div>
          </div>
          <div class="footer">
            &copy; ${new Date().getFullYear()} ${n}<br>
            Automated System Notification
          </div>
        </div>
      </div>
    </body>
    </html>
  `},bK=(e,t,n,r)=>async(i,o)=>{var c,u,d;try{n(!0);const f=e.clients.find(w=>pe(w.ClientID)===pe(i.ClientID)),h=!f,m=f&&pe(f.AssignedAgentID)!==pe(i.AssignedAgentID),x=o||m,v=e.agents.find(w=>pe(w.AgentID)===pe(i.AssignedAgentID)),j=Jr(e.agents,i.AssignedAgentID);let b={recipientEmail:i.Email};if(x&&i.Email&&(b.sendEmail=!0,b.senderName=((c=e.systemSettings)==null?void 0:c.CompanyName)||Wa,b.senderEmail=((u=e.systemSettings)==null?void 0:u.Email)||gr,b.emailSubject=h?`Welcome to ${((d=e.systemSettings)==null?void 0:d.CompanyName)||"Our Platform"}`:m?`Account Manager Update: ${(v==null?void 0:v.AgentName)||"New Assignment"}`:"Profile Updated",b.emailHtml=h?mK(i,v,e.systemSettings):m&&v?gK(i,v,e.systemSettings):xK(i,e.systemSettings)),await nt(r,"Clients",h?"create":"update",i,"ClientID",b),i.PortalEnabled&&i.Email){const w={Email:i.Email.trim(),Password:i.TempPassword||(f==null?void 0:f.TempPassword)||"Client123",AgentID:i.ClientID,Role:"client",Status:i.Status===ln.Active?"Active":"Inactive",LoginAttempts:0,LastLogin:new Date().toISOString()};await nt(r,"Logins",e.loginRecords.some(y=>pe(y.Email)===pe(i.Email))?"update":"create",w,"Email")}if(x&&(h||m)&&v){const w={sendEmail:!0,recipientEmail:j,emailSubject:m?`URGENT: Client Reassigned to You - ${i.CompanyName}`:`New Client Assignment: ${i.CompanyName}`,emailHtml:vK(i,v,e.systemSettings)},y={ID:`ASSIGN-${i.ClientID}-${Date.now()}`,Time:new Date().toISOString(),Type:"ASSIGNMENT",Priority:la.Normal,ClientID:i.ClientID,ClientName:i.CompanyName,ContractID:"",Message:m?`Reassignment: You have taken over management for ${i.CompanyName}.`:`New assignment: ${i.CompanyName} (${i.ClientType})`,DueDate:new Date().toISOString(),Status:"Unread",AssignedTo:i.AssignedAgentID,Sent:!0};await nt(r,"Notifications","create",y,"ID",w)}await t(!1,!0)}catch(f){throw console.error("Client Sync Error:",f),f}finally{n(!1)}},wK=(e,t)=>{const n=(t==null?void 0:t.CompanyName)||"Sally Chanza Business Caf",r=(t==null?void 0:t.Email)||"info@sallychanza.com";return`
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    * { box-sizing: border-box; }
    body { margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; background-color: #f8fafc; color: #334155; }
    .wrapper { width: 100%; table-layout: fixed; background-color: #f8fafc; padding: 20px 0; }
    .container { width: 95%; max-width: 600px; margin: 0 auto; background-color: #ffffff; border-radius: 12px; border: 1px solid #e2e8f0; overflow: hidden; }
    .header { padding: 30px; background-color: #ffffff; border-bottom: 1px solid #f1f5f9; text-align: center; }
    .content { padding: 30px; }
    .footer { padding: 25px; background-color: #f8fafc; text-align: center; font-size: 12px; color: #94a3b8; border-top: 1px solid #f1f5f9; }
    .button { display: inline-block; padding: 16px 30px; background-color: #0f172a; color: #ffffff !important; text-decoration: none; border-radius: 8px; font-weight: bold; font-size: 14px; margin-top: 10px; }
    .details-box { background-color: #f1f5f9; border-radius: 10px; padding: 20px; margin: 20px 0; }
    @media only screen and (max-width: 600px) {
      .content, .header, .footer { padding: 20px; }
      .button { width: 100%; text-align: center; padding: 16px 0; }
    }
  </style>
</head>
<body>
  <div class="wrapper">
    <div class="container">
      <div class="header">
        <div style="font-size: 18px; font-weight: 800; color: #0f172a; text-transform: uppercase; letter-spacing: -0.5px;">${n}</div>
      </div>
      <div class="content">
        ${e}
      </div>
      <div class="footer">
        ${n}<br>
        Email: ${r}<br>
        &copy; ${new Date().getFullYear()} All rights reserved.
      </div>
    </div>
  </div>
</body>
</html>
`},jK=(e,t,n)=>{const r=(n==null?void 0:n.PortalUrl)||"https://sallychanza.com/portal",i=`
    <h2 style="margin: 0 0 16px 0; color: #0f172a; font-size: 20px;">Review and Sign Your Contract</h2>
    <p style="font-size: 15px; line-height: 1.6; margin-bottom: 20px;">Dear ${t.CompanyName},</p>
    <p style="font-size: 15px; line-height: 1.6; margin-bottom: 20px;">A new service contract has been created for you. Please log in to your portal to review and sign the document.</p>
    
    <div class="details-box">
      <p style="margin: 0; font-size: 13px; color: #64748b;"><strong>Contract ID:</strong> ${e.ContractID}</p>
      <p style="margin: 5px 0 0 0; font-size: 13px; color: #64748b;"><strong>Plan Type:</strong> ${e.PlanType} (${e.NoOfUnits} Units)</p>
    </div>

    <div style="text-align: center;">
      <a href="${r}" class="button">Log In and Sign</a>
    </div>
    <p style="font-size: 13px; color: #94a3b8; text-align: center; margin-top: 20px;">Service starts as soon as the contract is signed and payment is received.</p>
  `;return wK(i,n)},NK=(e,t,n,r)=>async(i,o)=>{var c,u;try{n(!0);const d=!e.contracts.some(x=>pe(x.ContractID)===pe(i.ContractID)),f=e.clients.find(x=>pe(x.ClientID)===pe(i.ClientID)),h=Jr(e.agents,i.AssignedAgentID||(f==null?void 0:f.AssignedAgentID));let m={recipientEmail:f==null?void 0:f.Email,senderName:((c=e.systemSettings)==null?void 0:c.CompanyName)||Wa,senderEmail:((u=e.systemSettings)==null?void 0:u.Email)||gr,emailCc:`${h},${Zr}`};o&&(f!=null&&f.Email)&&(m.sendEmail=!0,m.pdfAttachmentHtml=Is(i,f,e.vehicles,e.systemSettings,e.agents),m.pdfFileName=`Agreement_${i.ContractID}.pdf`,m.emailSubject=`Service Agreement: ${i.ContractID}`,m.emailHtml=jK(i,f,e.systemSettings)),await nt(r,"Contracts",d?"create":"update",i,"ContractID",m),await t(!1,!0)}catch(d){console.error("Contract Sync Error:",d)}finally{n(!1)}},SK=e=>`
  <div style="width: 100%; overflow-x: auto; margin: 20px 0;">
    <table width="100%" cellpadding="0" cellspacing="0" style="border-collapse: collapse; min-width: 300px; font-family: sans-serif;">
      <thead>
        <tr style="background-color: #f8fafc; border-bottom: 2px solid #e2e8f0;">
          <th align="left" style="padding: 12px 8px; font-size: 9px; color: #64748b; text-transform: uppercase; letter-spacing: 1px; width: 40%;">Description of Service</th>
          <th align="right" style="padding: 12px 8px; font-size: 9px; color: #64748b; text-transform: uppercase; width: 15%;">Rate</th>
          <th align="center" style="padding: 12px 8px; font-size: 9px; color: #64748b; text-transform: uppercase; width: 10%;">Qty</th>
          <th align="center" style="padding: 12px 8px; font-size: 9px; color: #64748b; text-transform: uppercase; width: 15%;">Months</th>
          <th align="right" style="padding: 12px 8px; font-size: 9px; color: #64748b; text-transform: uppercase; width: 20%;">Total</th>
        </tr>
      </thead>
      <tbody style="color: #1e293b;">
        <tr>
          <td style="padding: 15px 8px; font-size: 11px; font-weight: bold; border-bottom: 1px solid #f1f5f9; vertical-align: top;">${e.Description||"Fleet Services"}</td>
          <td align="right" style="padding: 15px 8px; font-size: 11px; border-bottom: 1px solid #f1f5f9; vertical-align: top;">K ${Oe(e.UnitPrice)}</td>
          <td align="center" style="padding: 15px 8px; font-size: 11px; font-weight: bold; border-bottom: 1px solid #f1f5f9; vertical-align: top;">${e.NoOfUnits}</td>
          <td align="center" style="padding: 15px 8px; font-size: 11px; font-weight: bold; color: #4f46e5; border-bottom: 1px solid #f1f5f9; vertical-align: top;">${e.PeriodMonths||1}</td>
          <td align="right" style="padding: 15px 8px; font-size: 11px; font-weight: 800; border-bottom: 1px solid #f1f5f9; vertical-align: top;">K ${Oe(e.TotalAmount)}</td>
        </tr>
      </tbody>
      <tfoot>
        <tr>
          <td colspan="4" align="right" style="padding: 15px 8px 5px 8px; font-size: 10px; color: #94a3b8; text-transform: uppercase; font-weight: bold;">Grand Total</td>
          <td align="right" style="padding: 15px 8px 5px 8px; font-size: 12px; color: #0f172a; font-weight: 800;">K ${Oe(e.TotalAmount)}</td>
        </tr>
        <tr>
          <td colspan="4" align="right" style="padding: 5px 8px; font-size: 10px; color: #10b981; text-transform: uppercase; font-weight: bold;">Amount Paid</td>
          <td align="right" style="padding: 5px 8px; font-size: 12px; color: #10b981; font-weight: 800;">- K ${Oe(e.AmountPaid)}</td>
        </tr>
        <tr>
          <td colspan="4" align="right" style="padding: 10px 8px; font-size: 11px; color: #0f172a; text-transform: uppercase; font-weight: 800; border-top: 1px solid #e2e8f0;">Unsettled Balance</td>
          <td align="right" style="padding: 10px 8px; font-size: 16px; color: #4f46e5; font-weight: 900; border-top: 1px solid #e2e8f0;">K ${Oe(e.BalanceDue)}</td>
        </tr>
      </tfoot>
    </table>
  </div>
`,Hb=(e,t,n)=>{const r=(n==null?void 0:n.CompanyName)||"Sally Chanza Business Caf";return n!=null&&n.Email,`
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background-color: #f1f5f9; color: #1e293b; width: 100% !important; -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; }
    .wrapper { width: 100%; background-color: #f1f5f9; padding: 20px 0; }
    .container { width: 95%; max-width: 600px; margin: 0 auto; background-color: #ffffff; border-radius: 20px; border: 1px solid #e2e8f0; overflow: hidden; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05); }
    .header { padding: 30px 20px; background-color: #0f172a; text-align: center; color: #ffffff; }
    .content { padding: 30px 20px; }
    .footer { padding: 25px; text-align: center; font-size: 10px; color: #94a3b8; border-top: 1px solid #f1f5f9; background-color: #fafafa; }
    .button { display: inline-block; background-color: #4f46e5; color: #ffffff !important; padding: 16px 32px; border-radius: 12px; text-decoration: none; font-weight: bold; font-size: 14px; margin-top: 20px; text-align: center; }
    @media only screen and (max-width: 480px) {
      .content { padding: 20px 15px; }
      .button { width: 100%; box-sizing: border-box; }
    }
  </style>
</head>
<body>
  <div class="wrapper">
    <div class="container">
      <div class="header">
        <div style="font-size: 10px; font-weight: 800; text-transform: uppercase; letter-spacing: 2px; color: #6366f1; margin-bottom: 5px;">Digital Document Dispatch</div>
        <div style="font-size: 20px; font-weight: 900; text-transform: uppercase;">${r}</div>
      </div>
      <div class="content">
        <h2 style="margin: 0 0 16px 0; color: #0f172a; font-size: 18px; font-weight: 800; letter-spacing: -0.5px;">${t}</h2>
        ${e}
      </div>
      <div class="footer">
        <strong>${r}</strong><br>
        Zambia Operations  Registry Dispatch Hub<br>
        &copy; ${new Date().getFullYear()} All rights reserved.
      </div>
    </div>
  </div>
</body>
</html>
`},kK=(e,t,n)=>{const r=`
    <p style="font-size: 14px; line-height: 1.6;">Dear ${t.CompanyName},</p>
    <p style="font-size: 14px; line-height: 1.6;">A new service invoice <strong>#${e.InvoiceID}</strong> has been issued for your fleet management account. Please review the itemized breakdown below.</p>

    ${SK(e)}

    <div style="background-color: #fef2f2; border: 1px solid #fee2e2; border-radius: 12px; padding: 20px; margin-top: 20px; text-align: center;">
       <div style="font-size: 9px; color: #991b1b; font-weight: 800; text-transform: uppercase; margin-bottom: 5px;">Settlement Due By</div>
       <div style="font-size: 18px; color: #991b1b; font-weight: 900;">${Ae(e.DueDate)}</div>
       <div style="font-size: 10px; color: #ef4444; font-weight: 700; margin-top: 5px;">Cycle Coverage: ${e.PeriodMonths||1} Month(s)</div>
    </div>

    <div style="text-align: center;">
      <a href="${(n==null?void 0:n.PortalUrl)||"#"}" class="button">View & Pay Online</a>
    </div>
  `;return Hb(r,"New Invoice Notification",n)},CK=(e,t,n)=>AK(e,t,n),AK=(e,t,n)=>{const r=`
    <p style="font-size: 14px; line-height: 1.6;">Dear ${t.CompanyName},</p>
    <p style="font-size: 14px; line-height: 1.6;">We have successfully processed your payment. Your service period has been updated as follows:</p>

    <div style="background-color: #f8fafc; border-radius: 16px; padding: 20px; margin: 20px 0; border: 1px solid #e2e8f0;">
      <table width="100%">
        <tr>
          <td style="font-size: 10px; color: #94a3b8; text-transform: uppercase; font-weight: bold;">Amount Paid</td>
          <td align="right" style="font-size: 16px; color: #10b981; font-weight: 800;">K ${Oe(e.AmountPaid)}</td>
        </tr>
        <tr>
          <td style="padding-top: 10px; font-size: 10px; color: #94a3b8; font-weight: bold; text-transform: uppercase;">Duration Covered</td>
          <td align="right" style="padding-top: 10px; font-size: 12px; color: #0f172a; font-weight: 800;">${e.PeriodMonths||1} Month(s)</td>
        </tr>
      </table>
    </div>

    <div style="background-color: #eff6ff; border: 1px solid #dbeafe; border-radius: 12px; padding: 20px; text-align: center;">
       <div style="font-size: 9px; color: #1e40af; font-weight: 800; text-transform: uppercase; margin-bottom: 5px;">Next Payment Schedule</div>
       <div style="font-size: 18px; color: #1e3a8a; font-weight: 900;">${Ae(e.DueDate)}</div>
    </div>

    <p style="font-size: 13px; line-height: 1.6; color: #64748b; margin-top: 25px;">Thank you for choosing our fleet solutions. A PDF version of this receipt is attached for your records.</p>
  `;return Hb(r,"Payment Receipt Confirmation",n)},PK=(e,t,n,r)=>{const i=`
    <p style="font-size: 14px; line-height: 1.6;">Dear ${t.CompanyName},</p>
    <p style="font-size: 14px; line-height: 1.6;">
      ${`Our records show that invoice <strong>#${e.InvoiceID}</strong> is now past its due date. Please settle the balance immediately to avoid service restrictions.`}
    </p>
    
    <div style="background-color: #fef2f2; border: 1px solid #fee2e2; padding: 20px; border-radius: 12px; margin: 20px 0; text-align: center;">
       <div style="font-size: 9px; color: #991b1b; font-weight: 800; text-transform: uppercase;">Outstanding Amount</div>
       <div style="font-size: 22px; color: #991b1b; font-weight: 900;">K ${Oe(e.BalanceDue)}</div>
       <div style="font-size: 10px; font-weight: bold; margin-top: 5px;">Due Date: ${Ae(e.DueDate)}</div>
    </div>

    <p style="font-size: 13px; color: #64748b; text-align: center;">If you have already made this payment, please disregard this notice.</p>
  `;return Hb(i,"Overdue Payment Notice",r)},EK=(e,t,n,r)=>async(i,o)=>{var c,u;try{n(!0);const d=!e.invoices.some(v=>pe(v.InvoiceID)===pe(i.InvoiceID)),f=e.clients.find(v=>pe(v.ClientID)===pe(i.ClientID)),m=[Jr(e.agents,f==null?void 0:f.AssignedAgentID),Zr].filter(Boolean).join(",");let x={recipientEmail:f==null?void 0:f.Email,senderName:((c=e.systemSettings)==null?void 0:c.CompanyName)||Wa,senderEmail:((u=e.systemSettings)==null?void 0:u.Email)||gr,emailCc:m};o&&(f!=null&&f.Email)&&(x.sendEmail=!0,x.pdfAttachmentHtml=Fy(i,f,e.systemSettings),x.pdfFileName=`Invoice_${i.InvoiceID}.pdf`,x.emailSubject=`Invoice: ${i.InvoiceID}`,x.emailHtml=kK(i,f,e.systemSettings)),await nt(r,"Invoices",d?"create":"update",{...i,Email:f==null?void 0:f.Email},"InvoiceID",x),await t(!1,!0)}catch(d){console.error("Invoice Sync Error:",d)}finally{n(!1)}},DK=(e,t,n,r)=>async(i,o)=>{var c,u,d;try{n(!0);const f=e.clients.find(y=>pe(y.ClientID)===pe(i.ClientID)),h=Jr(e.agents,i.AgentID||(f==null?void 0:f.AssignedAgentID));if(!i.Reference||i.Reference.trim()===""){const y=Date.now().toString().slice(-6);i.Reference=`AUTO-REF-${i.PaymentID.split("-")[1]||y}`}const m=Number(i.MonthsCovered)||1,x=new Date(i.Date),v=!isNaN(x.getTime());let j=i.NextDueDate;if(!j&&v){const y=new Date(x);y.setMonth(y.getMonth()+m),j=y.toISOString().split("T")[0]}let b=e.invoices.find(y=>pe(y.InvoiceID)===pe(i.InvoiceID));if(b){const y=Number(b.AmountPaid)+Number(i.Amount),k=Math.max(0,Number(b.TotalAmount)-y);b={...b,AmountPaid:y,BalanceDue:k,Status:k<=0?jt.Paid:jt.Partial,DueDate:j||b.DueDate},await nt(r,"Invoices","update",b,"InvoiceID")}else{const y=i.NoOfUnits||1,k=e.contracts.find(S=>pe(S.ClientID)===pe(i.ClientID)&&S.ContractStatus==="Active"),P=`Fleet Management Service (${y} Units) for ${m} Month(s) - ${i.ClientName}`,C={InvoiceID:`INV-AUTO-${i.PaymentID}`,InvoiceDate:i.Date,DueDate:j||i.Date,ClientID:i.ClientID,ClientName:i.ClientName,ContractID:i.ContractID||"ADHOC",ServiceType:(k==null?void 0:k.ServiceType)||"Unified Managed Fleet",Description:i.Remarks||P,PeriodMonths:m,UnitPrice:i.Amount/(m*y),NoOfUnits:y,TotalAmount:Number(i.Amount),AmountPaid:Number(i.Amount),BalanceDue:0,Status:jt.Paid,DocType:st.Invoice};await nt(r,"Invoices","create",C,"InvoiceID"),b=C,i.InvoiceID=C.InvoiceID}let w={recipientEmail:f==null?void 0:f.Email,emailCc:`${h},${Zr},${((c=e.systemSettings)==null?void 0:c.Email)||gr}`};o&&(f!=null&&f.Email)&&b&&(w.sendEmail=!0,w.senderName=((u=e.systemSettings)==null?void 0:u.CompanyName)||Wa,w.senderEmail=((d=e.systemSettings)==null?void 0:d.Email)||gr,w.emailSubject=`Official Receipt: ${i.Reference||i.PaymentID}`,w.emailHtml=CK(b,f,e.systemSettings),w.pdfAttachmentHtml=Fy(b,f,e.systemSettings),w.pdfFileName=`Receipt_${i.PaymentID}.pdf`),await nt(r,"Notifications","create",{ID:`PAY-LOG-${i.PaymentID}`,Time:new Date().toISOString(),Type:"PAYMENT_RECEIVED",Priority:la.Normal,ClientID:i.ClientID,ClientName:i.ClientName,Message:`Payment Processed: K${i.Amount.toLocaleString()} from ${i.ClientName}. Next billing cycle due: ${j}.`,Status:"Unread",AssignedTo:"ADMIN",Sent:!0},"ID"),await nt(r,"Payments","create",{...i,NextDueDate:j,Email:(f==null?void 0:f.Email)||""},"PaymentID",w),await t(!1,!0)}catch(f){console.error("Payment Sync Error:",f)}finally{n(!1)}},OK=(e,t,n)=>{const r=(n==null?void 0:n.CompanyName)||"Sally Chanza Business Caf",i=(n==null?void 0:n.PortalUrl)||"https://sallychanza.com/portal";return`
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <style>
        body { margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background-color: #fef2f2; color: #334155; }
        .wrapper { width: 100%; table-layout: fixed; background-color: #fef2f2; padding: 20px 0; }
        .container { width: 95%; max-width: 600px; margin: 0 auto; background-color: #ffffff; border-radius: 12px; border: 1px solid #fee2e2; overflow: hidden; }
        .header { padding: 30px; background-color: #ffffff; text-align: center; border-bottom: 1px solid #f1f5f9; }
        .content { padding: 30px; }
        .footer { padding: 25px; text-align: center; font-size: 11px; color: #94a3b8; border-top: 1px solid #f1f5f9; background-color: #fafafa; }
        .button { display: inline-block; background-color: #0f172a; color: #ffffff !important; padding: 16px 30px; border-radius: 8px; text-decoration: none; font-weight: bold; font-size: 14px; margin-top: 10px; }
        .details-box { background-color: #f8fafc; border-radius: 10px; padding: 20px; margin: 20px 0; border: 1px solid #e2e8f0; }
        @media only screen and (max-width: 600px) {
           .button { width: 100%; text-align: center; padding: 16px 0; }
        }
      </style>
    </head>
    <body>
      <div class="wrapper">
        <div class="container">
          <div class="header">
             <h2 style="margin: 0; color: #ef4444; font-size: 22px;">Your Contract Has Expired</h2>
          </div>
          <div class="content">
            <p style="font-size: 15px; line-height: 1.6;">Dear ${t.CompanyName},</p>
            <p style="font-size: 15px; line-height: 1.6; color: #64748b;">This is a notice that your service contract has expired. To keep your assets protected and your service active, please renew your contract as soon as possible.</p>

            <div class="details-box">
              <p style="margin: 0; font-size: 13px; color: #64748b;"><strong>Contract:</strong> ${e.ContractID}</p>
              <p style="margin: 5px 0 0 0; font-size: 13px; color: #ef4444;"><strong>Expired On:</strong> ${Ae(e.ExpiryDate)}</p>
            </div>

            <p style="font-size: 14px; line-height: 1.6;">You can renew your contract by logging into your portal or by contacting your account manager.</p>
            
            <div style="text-align: center;">
              <a href="${i}" class="button">Renew Now</a>
            </div>
          </div>
          <div class="footer">
            ${r}<br>
            Official Expiration Notice<br>
            Contact: info@sallychanza.com
          </div>
        </div>
      </div>
    </body>
    </html>
  `},IK=(e,t,n)=>async()=>{const r=new Date,i=e.systemSettings;for(const o of e.invoices){if(o.DocType!==st.Invoice||o.Status===jt.Paid)continue;const c=new Date(o.DueDate);if(isNaN(c.getTime()))continue;const u=Math.ceil((c.getTime()-r.getTime())/(1e3*60*60*24)),d=e.clients.find(h=>pe(h.ClientID)===pe(o.ClientID)),f=Jr(e.agents,d==null?void 0:d.AssignedAgentID);if(u<0){const h=`OVERDUE-${o.InvoiceID}`;if(!e.notifications.some(m=>m.ID===h)){const m=[f,Zr].filter(Boolean).join(","),x={sendEmail:!0,recipientEmail:d==null?void 0:d.Email,emailCc:m,emailSubject:`URGENT: Invoice #${o.InvoiceID} is OVERDUE`,emailHtml:PK(o,d,!0,i)};await nt(n,"Notifications","create",{ID:h,Time:r.toISOString(),Type:"OVERDUE_ALERT",Priority:la.Critical,ClientID:o.ClientID,ClientName:o.ClientName,Message:`URGENT: Invoice #${o.InvoiceID} is OVERDUE.`,DueDate:o.DueDate,Status:"Unread",AssignedTo:"GLOBAL",Sent:!0},"ID",x)}}}for(const o of e.contracts){if(o.ContractStatus!==pn.Active)continue;const c=new Date(o.ExpiryDate);if(isNaN(c.getTime()))continue;const u=Math.ceil((c.getTime()-r.getTime())/(1e3*60*60*24)),d=e.clients.find(f=>pe(f.ClientID)===pe(o.ClientID));if(u<=0){const f=`EXP-MAIL-${o.ContractID}-${o.ExpiryDate}`;let h={};d!=null&&d.Email&&!e.notifications.some(m=>m.ID===f)&&(h={sendEmail:!0,recipientEmail:d.Email,emailCc:[Zr].filter(Boolean).join(","),emailSubject:`Service Agreement Expired: ${o.ContractID}`,emailHtml:OK(o,d,i)}),await nt(n,"Contracts","update",{...o,ContractStatus:pn.Expired},"ContractID",h),h.sendEmail&&await nt(n,"Notifications","create",{ID:f,Time:r.toISOString(),Type:"CONTRACT_EXPIRED",Priority:la.High,ClientID:o.ClientID,ClientName:o.ClientName,Message:`Expiration notice sent to ${o.ClientName}.`,DueDate:o.ExpiryDate,Status:"Read",AssignedTo:"SYSTEM",Sent:!0},"ID")}}},TK=(e,t,n)=>{const r=localStorage.getItem("omni_script_url")||$n,i=bK(e,t,n,r),o=NK(e,t,n,r),c=EK(e,t,n,r),u=DK(e,t,n,r),d=IK(e,t,r);return{handleSaveClient:i,handleSaveContract:o,handleSaveInvoice:c,handleSavePayment:u,handleAutomationWorkflows:d}},Vb=(e,t)=>{const n=(t==null?void 0:t.CompanyName)||"Sally Chanza Business Caf",r=(t==null?void 0:t.Email)||"support@sallychanza.com";return`
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { margin: 0; padding: 0; font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; background-color: #f4f7f9; color: #374151; -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; }
    table { border-collapse: collapse !important; }
    .wrapper { width: 100% !important; max-width: 100%; background-color: #f4f7f9; padding: 20px 0; }
    .container { width: 100%; max-width: 600px; margin: 0 auto; background-color: #ffffff; border: 1px solid #e5e7eb; border-radius: 8px; overflow: hidden; }
    .header { padding: 25px; background-color: #0f172a; text-align: center; }
    .header-text { color: #ffffff; font-size: 16px; font-weight: 800; text-transform: uppercase; letter-spacing: 2px; margin: 0; }
    .content { padding: 30px; line-height: 1.6; }
    .footer { padding: 20px; text-align: center; font-size: 11px; color: #9ca3af; border-top: 1px solid #f3f4f6; }
    .important-notice { background-color: #f9fafb; border-left: 4px solid #6366f1; padding: 15px; margin: 20px 0; border-radius: 4px; }
    .important-title { font-weight: 800; font-size: 11px; color: #4338ca; text-transform: uppercase; margin-bottom: 5px; display: block; }
    .data-box { background-color: #f3f4f6; border-radius: 6px; padding: 15px; margin: 15px 0; }
    .data-row { font-size: 13px; margin-bottom: 4px; }
    .data-label { font-weight: 700; color: #4b5563; }
    h2 { font-size: 18px; color: #111827; margin: 0 0 15px 0; font-weight: 800; }
    p { margin-bottom: 15px; font-size: 14px; }
    @media only screen and (max-width: 600px) {
      .content { padding: 20px; }
      .container { width: 95% !important; }
    }
  </style>
</head>
<body>
  <div class="wrapper">
    <div class="container">
      <div class="header">
        <p class="header-text">Support Division</p>
      </div>
      <div class="content">
        ${e}
        <div class="important-notice">
          <span class="important-title">Important Notice</span>
          <p style="margin: 0; font-size: 12px;">This is an official communication regarding your technical service account. Please preserve the Ticket ID for all future inquiries related to this specific request.</p>
        </div>
      </div>
      <div class="footer">
        ${n} &bull; Lusaka, Zambia<br>
        Direct Support Line: ${r}<br>
        &copy; ${new Date().getFullYear()} Automated System Dispatch.
      </div>
    </div>
  </div>
</body>
</html>
`},_K=(e,t,n)=>{const r=`
    <h2>Support Request Recorded</h2>
    <p>Dear ${t.CompanyName},</p>
    <p>This email confirms that your support request has been successfully recorded in our system. Our technical team has been notified and will review your submission shortly.</p>
    <div class="data-box">
      <div class="data-row"><span class="data-label">Ticket ID:</span> #${e.TicketID}</div>
      <div class="data-row"><span class="data-label">Subject:</span> ${e.Subject}</div>
      <div class="data-row"><span class="data-label">Status:</span> Open / Queued</div>
    </div>
    <p>You may monitor the progress of this request through your client portal.</p>
  `;return Vb(r,n)},MK=(e,t,n)=>{const r=`
    <h2>Update: Support Ticket #${e.TicketID}</h2>
    <p>Dear ${t.CompanyName},</p>
    <p>The status of your support request has been updated by our technical department. Please review the details below:</p>
    <div class="data-box">
      <div class="data-row"><span class="data-label">Current Status:</span> ${e.Status}</div>
      <div class="data-row"><span class="data-label">Recent Activity:</span> ${e.Resolution||"Technical investigation in progress."}</div>
    </div>
    <p>Further updates will be dispatched as more information becomes available.</p>
  `;return Vb(r,n)},RK=(e,t,n)=>{const r=(n==null?void 0:n.Email)||"support@sallychanza.com",i=`
    <h2>Resolution: Support Ticket #${e.TicketID}</h2>
    <p>Dear ${t.CompanyName},</p>
    <p>Our technical team has marked your support request as resolved. We trust the solution provided meets your requirements.</p>
    <div class="data-box">
      <div class="data-row" style="color: #059669; font-weight: 700;">Final Status: Case Resolved</div>
      <div class="data-row" style="margin-top: 10px;"><span class="data-label">Outcome Details:</span></div>
      <p style="font-size: 13px; color: #4b5563; margin-top: 5px;">${e.Resolution||"The requested action has been completed."}</p>
    </div>
    <p>If you require additional assistance with this specific issue, please do not hesitate to contact us at ${r}.</p>
  `;return Vb(i,n)},VP=e=>String(e||"").trim().toLowerCase().replace(/\s+/g,""),$K=(e,t,n,r)=>{const i=(r==null?void 0:r.CompanyName)||"Sally Chanza Business Caf",o=(r==null?void 0:r.Email)||"support@sallychanza.com",c=n.length>0?n.map(u=>`
      <div style="background: #ffffff; padding: 12px; border-radius: 8px; margin-bottom: 8px; border: 1px solid #f1f5f9;">
        <span style="font-weight: 800; color: #0f172a; font-size: 14px; text-transform: uppercase;">${u.NumberPlate}</span><br>
        <span style="font-size: 11px; color: #64748b; font-weight: 500;">${u.Make} ${u.Model}</span>
      </div>
    `).join(""):'<p style="font-size: 12px; color: #94a3b8; font-style: italic;">Note: General System Maintenance</p>';return`
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <style>
        body { margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background-color: #f8fafc; color: #1e293b; -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; }
        table { border-collapse: collapse !important; table-layout: fixed; width: 100%; }
        .wrapper { width: 100%; background-color: #f8fafc; padding: 20px 0; }
        .container { width: 95%; max-width: 600px; margin: 0 auto; background: #ffffff; border-radius: 12px; overflow: hidden; border: 1px solid #e2e8f0; }
        .header { background: #0f172a; padding: 30px; text-align: center; color: #ffffff; }
        .content { padding: 30px; line-height: 1.5; word-wrap: break-word; }
        .footer { padding: 20px; background: #f8fafc; border-top: 1px solid #e2e8f0; text-align: center; font-size: 11px; color: #94a3b8; }
        .details { background: #f8fafc; border-radius: 10px; padding: 20px; margin: 20px 0; border: 1px solid #f1f5f9; }
        h1 { margin: 0; font-size: 20px; font-weight: 800; text-transform: uppercase; letter-spacing: 0.05em; }
        h2 { font-size: 16px; color: #0f172a; margin-top: 0; font-weight: 700; }
        .section-label { font-size: 10px; font-weight: 800; color: #94a3b8; text-transform: uppercase; letter-spacing: 0.1em; margin-bottom: 8px; display: block; }
        @media only screen and (max-width: 600px) {
          .content { padding: 20px !important; }
          .container { width: 95% !important; }
        }
      </style>
    </head>
    <body>
      <div class="wrapper">
        <div class="container">
          <div class="header">
            <h1>Service Accomplished</h1>
            <p style="opacity: 0.7; font-size: 12px; margin-top: 5px; font-weight: 600;">Official Maintenance Record</p>
          </div>
          <div class="content">
            <h2>Dear ${t.CompanyName},</h2>
            <p>This is to confirm that maintenance on your tracking hardware has been finished. Our technicians have verified that the following assets are fully operational.</p>
            
            <div class="details">
              <span class="section-label">Work Done</span>
              <p style="font-size: 14px; font-weight: 600; color: #334155; margin: 0;">${e.Description}</p>
              <p style="font-size: 11px; color: #64748b; margin-top: 4px;">Completed: ${Ae(e.Date)}</p>
            </div>

            <span class="section-label">Assets Serviced</span>
            <div style="width: 100%;">${c}</div>

            <p style="margin-top: 25px; font-size: 13px; color: #64748b;">No further action is required from you. Your fleet monitoring continues as usual.</p>
          </div>
          <div class="footer">
            ${i} &bull; Lusaka, Zambia<br>
            Support: ${o}<br>
            &copy; ${new Date().getFullYear()} Official Communication
          </div>
        </div>
      </div>
    </body>
    </html>
  `},zK=(e,t,n,r)=>{const i=(r==null?void 0:r.CompanyName)||"Internal System";return`
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <style>
        body { margin: 0; padding: 0; font-family: sans-serif; background-color: #f8fafc; color: #1e293b; -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; }
        .wrapper { width: 100%; padding: 20px 0; }
        .container { width: 95%; max-width: 600px; margin: 0 auto; background: #ffffff; border-radius: 12px; border: 1px solid #e2e8f0; overflow: hidden; }
        .header { background: #1e1b4b; padding: 25px; text-align: center; color: #ffffff; }
        .content { padding: 30px; word-wrap: break-word; }
        .card { background: #f8fafc; padding: 20px; border-radius: 10px; margin: 20px 0; border: 1px solid #f1f5f9; }
        .badge { display: inline-block; padding: 4px 12px; background: #dcfce7; color: #166534; border-radius: 99px; font-weight: 800; font-size: 11px; text-transform: uppercase; }
        h1 { margin: 0; font-size: 18px; font-weight: 800; text-transform: uppercase; }
        @media only screen and (max-width: 600px) {
          .container { width: 95% !important; }
        }
      </style>
    </head>
    <body>
      <div class="wrapper">
        <div class="container">
          <div class="header">
            <h1>Connectivity Record</h1>
            <p style="opacity: 0.7; font-size: 11px; margin-top: 4px;">Internal Team Update</p>
          </div>
          <div class="content">
            <h2 style="font-size: 16px;">Renewal Logged</h2>
            <p style="font-size: 14px;">The following service has been renewed for <strong>${t.CompanyName}</strong>.</p>
            
            <div class="card">
              <span style="font-size: 10px; font-weight: 800; color: #94a3b8; text-transform: uppercase;">Asset Details</span>
              <p style="font-size: 15px; font-weight: 800; margin: 5px 0;">${n.NumberPlate}</p>
              <p style="font-size: 12px; color: #64748b; margin: 0;">${n.Make} ${n.Model} (${n.NetworkProvider})</p>
              
              <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #e2e8f0;">
                <span style="font-size: 10px; font-weight: 800; color: #94a3b8; text-transform: uppercase;">Next Service Expiry</span><br>
                <div class="badge" style="margin-top: 5px;">${Ae(e.ExpiryDate)}</div>
              </div>
            </div>

            <p style="font-size: 13px; color: #64748b; font-style: italic;">Sync successful with database.</p>
          </div>
          <div style="padding: 15px; text-align: center; border-top: 1px solid #f1f5f9; font-size: 10px; color: #94a3b8;">
            ${i} Automated Notice
          </div>
        </div>
      </div>
    </body>
    </html>
  `},LK=(e,t,n,r)=>{const i=(r==null?void 0:r.CompanyName)||"Internal System",o=n.map(c=>{const u=e.find(d=>VP(d.VehicleID)===VP(c.VehicleID));return`
      <div style="background: #ffffff; padding: 12px; border-radius: 8px; margin-bottom: 8px; border: 1px solid #f1f5f9; display: flex; justify-content: space-between; align-items: center;">
        <div style="flex: 1; min-width: 0;">
          <span style="font-weight: 800; color: #0f172a; font-size: 13px; font-family: monospace; word-break: break-all;">${c.NumberPlate}</span><br>
          <span style="font-size: 10px; color: #94a3b8; text-transform: uppercase;">${c.Make} ${c.Model}</span>
        </div>
        <div style="text-align: right; min-width: 80px; margin-left: 10px;">
          <span style="font-size: 11px; color: #10b981; font-weight: 800;">${Ae(u==null?void 0:u.ExpiryDate)}</span>
        </div>
      </div>
    `}).join("");return`
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <style>
        body { margin: 0; padding: 0; font-family: sans-serif; background-color: #f1f5f9; color: #1e293b; -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; }
        .wrapper { width: 100%; padding: 20px 0; }
        .container { width: 95%; max-width: 600px; margin: 0 auto; background: #ffffff; border-radius: 15px; border: 1px solid #e2e8f0; overflow: hidden; }
        .header { background: #0f172a; padding: 35px; text-align: center; color: #ffffff; }
        .content { padding: 30px; word-wrap: break-word; }
        .list-box { background: #f8fafc; padding: 15px; border-radius: 12px; margin: 20px 0; border: 1px solid #f1f5f9; }
        @media only screen and (max-width: 600px) {
          .container { width: 95% !important; }
        }
      </style>
    </head>
    <body>
      <div class="wrapper">
        <div class="container">
          <div class="header">
            <h1 style="margin:0; font-size: 18px; text-transform: uppercase; letter-spacing: 1px;">Fleet Service Notice</h1>
            <p style="opacity: 0.6; font-size: 11px; margin-top: 5px;">Internal Record</p>
          </div>
          <div class="content">
            <h2 style="font-size: 16px; margin-top: 0;">Service Update Report</h2>
            <p style="font-size: 14px;">Connectivity has been renewed for <strong>${t.CompanyName}</strong>.</p>
            
            <div class="list-box">
              <span style="font-size: 10px; font-weight: 800; color: #94a3b8; text-transform: uppercase; letter-spacing: 0.1em; display: block; margin-bottom: 12px;">Renewed Assets (${n.length})</span>
              <div style="width: 100%;">${o}</div>
            </div>

            <p style="font-size: 13px; color: #64748b; line-height: 1.5;">This batch is now active. No further internal actions required.</p>
          </div>
          <div style="padding: 15px; text-align: center; border-top: 1px solid #f1f5f9; font-size: 10px; color: #94a3b8;">
            ${i} &bull; Internal Dispatch
          </div>
        </div>
      </div>
    </body>
    </html>
  `},BK=(e,t,n)=>{const r=localStorage.getItem("omni_script_url")||$n;return{handleSaveTicket:async d=>{const f=e.systemSettings,h=new Date().toISOString();try{n(!0);const m=e.tickets.find(y=>pe(y.TicketID)===pe(d.TicketID)),x=!m,v=e.clients.find(y=>pe(y.ClientID)===pe(d.ClientID)),j={...d,Email:(v==null?void 0:v.Email)||d.Email,UpdatedAt:h,CreatedAt:x?h:m.CreatedAt||h};let b={senderName:(f==null?void 0:f.CompanyName)||Wa,senderEmail:(f==null?void 0:f.Email)||gr,replyTo:(f==null?void 0:f.Email)||gr};const w=String((v==null?void 0:v.Email)||d.Email||"").trim();if(w.includes("@")){b.recipientEmail=w;const y=Jr(e.agents,d.AssignedAgentID||(v==null?void 0:v.AssignedAgentID));b.emailCc=`${(f==null?void 0:f.Email)||gr},${Zr},${y}`,x?(f==null?void 0:f.EmailTicketNewEnabled)!==!1&&(b.sendEmail=!0,b.emailSubject=`Support Acknowledgment: Ticket #${d.TicketID}`,b.emailHtml=_K(j,v,f)):d.Status===Qn.Resolved&&m.Status!==Qn.Resolved?(f==null?void 0:f.EmailTicketResolvedEnabled)!==!1&&(b.sendEmail=!0,b.emailSubject=`Resolution Confirmation: Ticket #${d.TicketID}`,b.emailHtml=RK(j,v,f)):(f==null?void 0:f.EmailTicketUpdateEnabled)!==!1&&(b.sendEmail=!0,b.emailSubject=`Ticket Activity Update: #${d.TicketID}`,b.emailHtml=MK(j,v,f))}await nt(r,"Tickets",x?"create":"update",j,"TicketID",b),await t(!1,!0)}catch(m){console.error("Save Ticket Dispatch Error:",m)}finally{n(!1)}},handleSaveMaintenance:async(d,f=!1)=>{const h=e.systemSettings;try{n(!0);const m=!e.maintenance.find(b=>pe(b.ID)===pe(d.ID)),x=e.clients.find(b=>pe(b.ClientID)===pe(d.ClientID));let v={};const j={...d,AssetIDs:d.AssetIDs.join(", "),Email:(x==null?void 0:x.Email)||d.Email};if(f&&d.Status===zn.Completed&&x){const b=Jr(e.agents,x.AssignedAgentID),w=e.vehicles.filter(y=>d.AssetIDs.some(k=>pe(k)===pe(y.VehicleID)));v.sendEmail=!0,v.recipientEmail=x.Email,v.senderName=(h==null?void 0:h.CompanyName)||Wa,v.senderEmail=(h==null?void 0:h.Email)||gr,v.emailCc=`${b},${Zr}`,v.emailSubject=`Maintenance Completed: Assets for ${x.CompanyName}`,v.emailHtml=$K(d,x,w,h)}await nt(r,"Maintenance",m?"create":"update",j,"ID",v),await t(!1,!0)}catch(m){console.error("Save Maintenance Error:",m)}finally{n(!1)}},handleSimTopUpAction:async(d,f=!1)=>{var m;const h=e.systemSettings;try{n(!0);const x=e.vehicles.find(w=>pe(w.VehicleID)===pe(d.VehicleID))||e.vehicles.find(w=>pe(w.NumberPlate)===pe(d.Plate));if(!x)return;const v=e.clients.find(w=>pe(w.ClientID)===pe(x.ClientID)),j=Jr(e.agents,(v==null?void 0:v.AssignedAgentID)||((m=e.currentUser)==null?void 0:m.id));let b={};f&&v&&v.Email&&(b.sendEmail=!0,b.recipientEmail=v.Email,b.emailCc=`${j},${Zr}`,b.senderName=(h==null?void 0:h.CompanyName)||Wa,b.emailSubject=`Connectivity Renewed: ${x.NumberPlate}`,b.emailHtml=zK(d,v,x,h)),await nt(r,"SimTopups","create",{...d,Email:(v==null?void 0:v.Email)||""},"ID",b),await t(!1,!0)}catch(x){console.error("SIM Maintenance Error:",x)}finally{n(!1)}},handleBulkSimTopUpAction:async(d,f=!1)=>{var m;const h=e.systemSettings;if(d.length!==0)try{n(!0);const x=d[0],v=e.vehicles.find(y=>pe(y.VehicleID)===pe(x.VehicleID))||e.vehicles.find(y=>pe(y.NumberPlate)===pe(x.Plate)),j=v?e.clients.find(y=>pe(y.ClientID)===pe(v.ClientID)):null,b=Jr(e.agents,(j==null?void 0:j.AssignedAgentID)||((m=e.currentUser)==null?void 0:m.id)),w=e.vehicles.filter(y=>d.some(k=>pe(k.VehicleID)===pe(y.VehicleID)||pe(k.Plate)===pe(y.NumberPlate)));for(let y=0;y<d.length;y++){const k=d[y];let P={};y===d.length-1&&f&&j&&j.Email&&(P.sendEmail=!0,P.recipientEmail=j.Email,P.emailCc=`${b},${Zr}`,P.senderName=(h==null?void 0:h.CompanyName)||Wa,P.emailSubject=`Fleet Connectivity Service Notice: ${j.CompanyName}`,P.emailHtml=LK(d,j,w,h));const C=e.vehicles.find(E=>pe(E.VehicleID)===pe(k.VehicleID))||e.vehicles.find(E=>pe(E.NumberPlate)===pe(k.Plate)),S=C?e.clients.find(E=>pe(E.ClientID)===pe(C.ClientID)):null;await nt(r,"SimTopups","create",{...k,Email:(S==null?void 0:S.Email)||""},"ID",P)}await t(!1,!0)}catch(x){console.error("Bulk SIM Maintenance Error:",x)}finally{n(!1)}}}},FK=(e,t,n)=>{const r=localStorage.getItem("omni_script_url")||$n;return{handleApplyForPartnership:async(u,d,f)=>{try{n(!0);const h={ID:`PARTNER-APP-${u}`,Time:new Date().toISOString(),Type:"PARTNERSHIP_APPLICATION",Priority:la.Critical,ClientID:"SYSTEM",ClientName:d,ContractID:"",Message:`SHAREHOLDER CANDIDACY: ${d} has applied for Partnership status. Pitch: ${f.substring(0,50)}...`,DueDate:new Date(new Date().getTime()+2880*60*1e3).toISOString(),Status:"Unread",AssignedTo:"ADMIN",Sent:!0,Notes:f};await nt(r,"Notifications","create",h,"ID"),await t(!1,!0)}catch(h){console.error("Partnership Application Error:",h)}finally{n(!1)}},handleClaimPayout:async(u,d,f,h)=>{try{n(!0);const m=new Date().getMonth()+1,x=new Date().getFullYear(),v={ID:`CLAIM-${u}-${m}-${x}`,Time:new Date().toISOString(),Type:"PAYOUT_REQUEST",Priority:la.High,ClientID:"SYSTEM",ClientName:d,ContractID:"",Message:`PAYOUT REQUEST: K${f.toFixed(2)} to MoMo ${h} (Agt: ${d})`,DueDate:new Date(new Date().getTime()+1440*60*1e3).toISOString(),Status:"Unread",AssignedTo:"ADMIN",Sent:!0};await nt(r,"Notifications","create",v,"ID"),await t(!1,!0)}catch(m){console.error("Payout Request Error:",m)}finally{n(!1)}},handleSaveAgent:async(u,d)=>{var f;try{if(n(!0),!u.AgentID)throw new Error("Unique AgentID is missing.");const h=pe(u.AgentID),m=e.agents.find(j=>pe(j.AgentID)===h),x=!m;let v={};if(d&&u.Email&&(v.sendEmail=!0,v.recipientEmail=u.Email,v.emailSubject=`Access Invitation: ${((f=e.systemSettings)==null?void 0:f.CompanyName)||"Sally Chanza Terminal"}`,v.emailHtml=yK(u,e.systemSettings)),await nt(r,"Agents",x?"create":"update",u,"AgentID",v),u.Email){const j=u.Email.trim().toLowerCase(),b={Email:u.Email.trim(),Password:u.Password||(m==null?void 0:m.Password)||"Sally123",AgentID:u.AgentID,Role:u.Role.toLowerCase(),Status:u.Status,LoginAttempts:0,LastLogin:new Date().toISOString()},w=e.loginRecords.find(y=>y.Email.trim().toLowerCase()===j);await nt(r,"Logins",w?"update":"create",b,"Email")}await t(!1,!0)}catch(h){throw console.error("Save Agent Sync Error:",h),h}finally{n(!1)}}}},UK=(e,t,n,r)=>{const i=localStorage.getItem("omni_script_url")||$n,o=TK(e,n,r),c=BK(e,n,r);return{...FK(e,n,r),...c,...o,handleSaveVehicle:async b=>{try{r(!0),await nt(i,"Vehicles","update",b,"VehicleID"),await n(!1,!0)}catch(w){console.error("Save Vehicle Error:",w)}finally{r(!1)}},handleSaveReferral:async b=>{try{r(!0),await nt(i,"Referrals","create",b,"ID"),await n(!1,!0)}catch(w){console.error("Save Referral Error:",w)}finally{r(!1)}},handleSaveActivityLog:async b=>{try{r(!0),await nt(i,"ActivityLogs","create",b,"ID"),await n(!1,!0)}catch(w){console.error("Save Activity Log Error:",w)}finally{r(!1)}},handleSendMessage:async(b,w=!1)=>{t(y=>({...y,messages:[...y.messages||[],b]}));try{await nt(i,"Messages","create",b,"ID"),w||setTimeout(()=>n(!1,!0),500)}catch(y){console.error("Send Message Sync Error:",y)}},handleTypingStatus:async b=>{var y,k;const w=(y=e.currentUser)==null?void 0:y.id;if(w)try{const P={ID:`PRESENCE-${w}`,SenderID:w,SenderName:((k=e.currentUser)==null?void 0:k.name)||"User",ReceiverID:"SYSTEM",Message:b||"ONLINE",Timestamp:new Date().toISOString(),Status:"Read"};fetch(i,{method:"POST",mode:"no-cors",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({sheet:"Messages",action:"update",idKey:"ID",id:P.ID,data:P})})}catch{}},handleReadMessages:async b=>{if(b.length!==0){t(w=>({...w,messages:w.messages.map(y=>b.includes(y.ID)?{...y,Status:"Read"}:y)}));try{for(const w of b){const y=e.messages.find(k=>k.ID===w);y&&await nt(i,"Messages","update",{...y,Status:"Read"},"ID")}}catch(w){console.error("Mark as read sync error:",w)}}},handleLogout:()=>t(b=>({...b,currentUser:null})),handleAutomationWorkflows:o.handleAutomationWorkflows}},yt=e=>String(e||"").trim().toLowerCase(),qK=()=>{const{appState:e,setAppState:t,loading:n,syncing:r,setSyncing:i,lastSync:o,loadData:c}=oK(),{authLoading:u,handleLogin:d,handleLogout:f,lockoutTime:h}=pK(e,t),{augmentedNotifications:m,handleDismissNotification:x,handleClearNotifications:v}=hK(e,c,i),j=UK(e,t,c,i);O.useEffect(()=>{c(!0).then(()=>{j.handleAutomationWorkflows()})},[c]);const[b,w]=O.useState(!1),[y,k]=O.useState("view"),[P,C]=O.useState(null),[S,E]=O.useState(!1),[D,T]=O.useState("view"),[M,z]=O.useState(null),[R,$]=O.useState(!1),[B,L]=O.useState("view"),[F,Y]=O.useState(null),[W,V]=O.useState(st.Invoice),[ee,_]=O.useState(!1),[q,X]=O.useState("view"),[J,le]=O.useState(null),[ge,xe]=O.useState(!1),[Ie,Pe]=O.useState("view"),[ie,Ce]=O.useState(null),[Se,se]=O.useState(!1),[He,$e]=O.useState("view"),[Ze,de]=O.useState(null),[_e,Ne]=O.useState(!1),[ze,qe]=O.useState("view"),[We,xt]=O.useState(null),[Lt,me]=O.useState(!1),rt=O.useMemo(()=>{const{currentUser:Vt,clients:Ot,contracts:va,vehicles:Qi,invoices:Fr,payments:Ur,tickets:bo,agents:Zi,servicePlans:Ji}=e;if(!Vt)return{clients:[],contracts:[],vehicles:[],invoices:[],payments:[],tickets:[],agents:[],servicePlans:[]};if(Vt.role==="Admin")return{clients:Ot,contracts:va,vehicles:Qi,invoices:Fr,payments:Ur,tickets:bo,agents:Zi,servicePlans:Ji};const mn=yt(Vt.id);if(Vt.role==="Client")return{clients:Ot.filter(Te=>yt(Te.ClientID)===mn),contracts:va.filter(Te=>yt(Te.ClientID)===mn),vehicles:Qi.filter(Te=>yt(Te.ClientID)===mn),invoices:Fr.filter(Te=>yt(Te.ClientID)===mn),payments:Ur.filter(Te=>yt(Te.ClientID)===mn),tickets:bo.filter(Te=>yt(Te.ClientID)===mn),agents:[],servicePlans:Ji};const wo=Zi.filter(Te=>yt(Te.ParentAgentID)===mn).filter(Te=>Te.ExperienceLevel==="Trainee"||!Te.ExperienceLevel).map(Te=>yt(Te.AgentID)),jo=Ot.filter(Te=>yt(Te.AssignedAgentID)===mn).map(Te=>yt(Te.ClientID)),No=Ot.filter(Te=>wo.includes(yt(Te.AssignedAgentID))).map(Te=>yt(Te.ClientID)),Nr=[...new Set([...jo,...No])];return{clients:Ot.filter(Te=>Nr.includes(yt(Te.ClientID))),contracts:va.filter(Te=>Nr.includes(yt(Te.ClientID))),vehicles:Qi.filter(Te=>Nr.includes(yt(Te.ClientID))),invoices:Fr.filter(Te=>Nr.includes(yt(Te.ClientID))),payments:Ur.filter(Te=>yt(Te.AgentID)===mn||Nr.includes(yt(Te.ClientID))),tickets:bo.filter(Te=>Nr.includes(yt(Te.ClientID))||yt(Te.AssignedAgentID)===mn),agents:Zi.filter(Te=>yt(Te.AgentID)===mn||yt(Te.ParentAgentID)===mn),servicePlans:Ji}},[e]);return{appState:e,setAppState:t,loading:n,authLoading:u,syncing:r,lastSync:o,augmentedNotifications:m,visibleData:rt,lockoutTime:h,modals:{client:{isOpen:b,mode:y,selected:P,setOpen:w,setMode:k,setSelected:C},contract:{isOpen:S,mode:D,selected:M,setOpen:E,setMode:T,setSelected:z},invoice:{isOpen:R,mode:B,selected:F,type:W,setOpen:$,setMode:L,setSelected:Y,setType:V},vehicle:{isOpen:ee,mode:q,selected:J,setOpen:_,setMode:X,setSelected:le},payment:{isOpen:ge,mode:Ie,selected:ie,setOpen:xe,setMode:Pe,setSelected:Ce},agent:{isOpen:Se,mode:He,selected:Ze,setOpen:se,setMode:$e,setSelected:de},maintenance:{isOpen:_e,mode:ze,selected:We,setOpen:Ne,setMode:qe,setSelected:xt},broadcast:{isOpen:Lt,setOpen:me}},handlers:{loadData:c,handleLogin:d,handleLogout:f,handleDismissNotification:x,handleClearNotifications:v,...j}}},WK=({appState:e,setAppState:t,augmentedNotifications:n,syncing:r,visibleData:i,modals:o,handlers:c,lastSync:u})=>{var m,x,v,j,b;const d=gf(),f=qi();if(O.useEffect(()=>{e.currentUser&&"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission()},[(m=e.currentUser)==null?void 0:m.id]),O.useEffect(()=>{var w;e.currentUser&&!((w=e.currentUser)!=null&&w.lastLogin)||e.currentUser&&(f.pathname==="/login"||f.pathname==="*"?d("/",{replace:!0}):d("/",{replace:!0}))},[(x=e.currentUser)==null?void 0:x.id]),!((v=e.currentUser)!=null&&v.lastLogin)){const y=String(((j=e.currentUser)==null?void 0:j.role)||"").toLowerCase()==="client",k=y?e.clients.find(P=>{var C;return String(P.ClientID)===String((C=e.currentUser)==null?void 0:C.id)}):e.agents.find(P=>{var C;return String(P.AgentID)===String((C=e.currentUser)==null?void 0:C.id)});return a.jsx(aK,{user:e.currentUser,profile:k||{},onComplete:async P=>{var C,S;y?await c.handleSaveClient({...k||{},ClientID:(C=e.currentUser)==null?void 0:C.id,TempPassword:P,PortalEnabled:!0},!1):await c.handleSaveAgent({...k||{},AgentID:(S=e.currentUser)==null?void 0:S.id,Password:P},!1)},onFinalize:c.handleLogout})}return a.jsxs(S_,{userRole:e.currentUser.role,userName:e.currentUser.name,notifications:n,permissions:e.currentUser.permissions,logo:(b=e.systemSettings)==null?void 0:b.Logo,onLogout:c.handleLogout,onClearNotifications:c.handleClearNotifications,onDismissNotification:c.handleDismissNotification,onRefresh:()=>c.loadData(!1),isSyncing:r,children:[a.jsx(C_,{isVisible:r}),a.jsx(rK,{appState:e,visibleData:i,modals:o,handlers:c,lastSync:u,setSyncing:()=>{}}),a.jsx(eM,{appState:e,modals:{client:{isOpen:o.client.isOpen,mode:o.client.mode,selected:o.client.selected,close:()=>o.client.setOpen(!1)},contract:{isOpen:o.contract.isOpen,mode:o.contract.mode,selected:o.contract.selected,close:()=>o.contract.setOpen(!1)},invoice:{isOpen:o.invoice.isOpen,mode:o.invoice.mode,selected:o.invoice.selected,type:o.invoice.type,close:()=>o.invoice.setOpen(!1)},vehicle:{isOpen:o.vehicle.isOpen,mode:o.vehicle.mode,selected:o.vehicle.selected,close:()=>o.vehicle.setOpen(!1)},payment:{isOpen:o.payment.isOpen,mode:o.payment.mode,selected:o.payment.selected,close:()=>o.payment.setOpen(!1)},agent:{isOpen:o.agent.isOpen,mode:o.agent.mode,selected:o.agent.selected,close:()=>o.agent.setOpen(!1)},maintenance:{isOpen:o.maintenance.isOpen,mode:o.maintenance.mode,selected:o.maintenance.selected,close:()=>o.maintenance.setOpen(!1)},broadcast:{isOpen:o.broadcast.isOpen,setOpen:o.broadcast.setOpen}},handlers:{onSaveClient:c.handleSaveClient,onSaveContract:c.handleSaveContract,onSaveInvoice:c.handleSaveInvoice,onSaveVehicle:c.handleSaveVehicle,onSavePayment:c.handleSavePayment,onSaveAgent:c.handleSaveAgent,onSaveMaintenance:c.handleSaveMaintenance,onSaveActivityLog:c.handleSaveActivityLog,onSendMessage:c.handleSendMessage,loadData:c.loadData}}),a.jsx(iK,{appState:e,onSendMessage:c.handleSendMessage,onMarkAsRead:c.handleReadMessages,onUpdateTyping:c.handleTypingStatus,onRefresh:c.loadData,onOpenBroadcast:()=>o.broadcast.setOpen(!0)})]})},HK=()=>{var m;const{appState:e,setAppState:t,loading:n,authLoading:r,syncing:i,lastSync:o,augmentedNotifications:c,visibleData:u,modals:d,handlers:f,lockoutTime:h}=qK();return a.jsx($4,{children:e.currentUser?a.jsx(WK,{appState:e,setAppState:t,augmentedNotifications:c,syncing:i,visibleData:u,modals:d,handlers:f,lastSync:o}):a.jsx(k_,{onLogin:f.handleLogin,isConnecting:n,isAuthenticating:r,logo:(m=e.systemSettings)==null?void 0:m.Logo,systemName:"Sally Chanza Caf",lockoutTime:h,isConnected:!n})})};let xl;const VK=()=>{const e=document.createElement("div");e.id="update-toast",e.style.cssText=`
    position: fixed;
    bottom: 140px;
    right: 24px;
    background: white;
    color: #0f172a;
    padding: 14px 20px;
    border-radius: 12px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.12);
    display: flex;
    align-items: center;
    gap: 16px;
    z-index: 9998;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    border-left: 4px solid #3b82f6;
    animation: slideIn 0.3s ease;
    max-width: 360px;
    backdrop-filter: blur(8px);
    border: 1px solid #e2e8f0;
  `;const t=document.createElement("span");t.textContent=" New version available",t.style.cssText=`
    font-size: 14px;
    font-weight: 500;
  `;const n=document.createElement("button");n.textContent="Update now",n.style.cssText=`
    background: #0f172a;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 20px;
    font-size: 13px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
    letter-spacing: 0.3px;
  `,n.onmouseover=()=>{n.style.background="#1e293b",n.style.transform="scale(1.02)"},n.onmouseout=()=>{n.style.background="#0f172a",n.style.transform="scale(1)"};const r=document.createElement("button");return r.innerHTML="",r.style.cssText=`
    background: none;
    border: none;
    color: #64748b;
    font-size: 18px;
    cursor: pointer;
    padding: 0 4px;
    transition: color 0.2s;
  `,r.onmouseover=()=>r.style.color="#0f172a",r.onmouseout=()=>r.style.color="#64748b",e.appendChild(t),e.appendChild(n),e.appendChild(r),{toast:e,updateBtn:n,closeBtn:r}};function KK(e="1.0.6"){const t=document.getElementById("pwa-version-badge");t&&t.remove();const r=new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"2-digit"}).replace(/ /g," "),i=document.createElement("div");i.id="pwa-version-badge",i.textContent=`v${e}  ${r}`,i.style.cssText=`
    position: fixed;
    bottom: 4px;
    right: 6px;
    background: rgba(15, 23, 42, 0.06);
    color: #94a3b8;
    font-size: 9px;
    padding: 3px 8px;
    border-radius: 12px;
    font-family: -apple-system, BlinkMacSystemFont, 'SF Mono', monospace;
    letter-spacing: 0.2px;
    backdrop-filter: blur(2px);
    z-index: 9999;
    pointer-events: none;
    opacity: 0.55;
    line-height: 1;
    border: none;
    font-weight: 400;
    transition: opacity 0.2s;
  `,i.onmouseover=()=>i.style.opacity="0.8",i.onmouseout=()=>i.style.opacity="0.55",document.body.appendChild(i)}function GK(){if(window.matchMedia("(display-mode: standalone)").matches||window.matchMedia("(display-mode: fullscreen)").matches||window.navigator.standalone===!0){console.log(" App is installed - running in standalone mode");return}if(localStorage.getItem("pwa-installed")==="true"){const n=document.createElement("button");n.id="pwa-open-button",n.innerHTML=" Open in app",n.style.cssText=`
      position: fixed;
      bottom: 80px;
      right: 24px;
      background: #0f172a;
      color: white;
      padding: 10px 20px;
      border-radius: 30px;
      border: none;
      font-weight: 500;
      font-size: 14px;
      cursor: pointer;
      z-index: 9999;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      display: flex;
      align-items: center;
      gap: 8px;
      border: 1px solid rgba(255,255,255,0.1);
      letter-spacing: 0.3px;
      backdrop-filter: blur(4px);
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      animation: slideIn 0.3s ease;
      opacity: 0.95;
      transition: all 0.2s;
    `,n.onmouseover=()=>{n.style.background="#1e293b",n.style.transform="scale(1.02)"},n.onmouseout=()=>{n.style.background="#0f172a",n.style.transform="scale(1)"},n.onclick=()=>{/android/i.test(navigator.userAgent)?(window.location.href="intent://scbc-app.github.io/Scbc-Suite/#Intent;scheme=https;package=com.scbc.suite;end;",setTimeout(()=>{window.location.href="https://scbc-app.github.io/Scbc-Suite/"},500)):window.location.href="https://scbc-app.github.io/Scbc-Suite/"},document.body.appendChild(n),setTimeout(()=>{document.body.contains(n)&&(n.style.animation="slideOut 0.3s ease",setTimeout(()=>n.remove(),300))},3e4)}}const RI=document.createElement("style");RI.textContent=`
  @keyframes slideIn {
    from {
      transform: translateX(100%);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }
  @keyframes slideOut {
    from {
      transform: translateX(0);
      opacity: 1;
    }
    to {
      transform: translateX(100%);
      opacity: 0;
    }
  }
`;document.head.appendChild(RI);function YK(){"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/Scbc-Suite/sw.js").then(e=>{console.log(" SW registered:",e),KK("1.0.6"),GK(),navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"KEEP_ALIVE"}),setInterval(()=>{navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"KEEP_ALIVE"})},2e4),e.addEventListener("updatefound",()=>{const t=e.installing;t&&t.addEventListener("statechange",()=>{if(t.state==="installed"&&navigator.serviceWorker.controller){const{toast:n,updateBtn:r,closeBtn:i}=VK();document.body.appendChild(n),r.onclick=()=>{n.style.animation="slideOut 0.3s ease",setTimeout(()=>{n.remove(),window.location.reload()},200)},i.onclick=()=>{n.style.animation="slideOut 0.3s ease",setTimeout(()=>n.remove(),200)},setTimeout(()=>{document.body.contains(n)&&(n.style.animation="slideOut 0.3s ease",setTimeout(()=>n.remove(),200))},1e4)}})})}).catch(e=>{console.error(" SW registration failed:",e)})})}window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),xl=e;const t=document.getElementById("pwa-install-button");t&&t.remove();const n=document.createElement("button");n.id="pwa-install-button",n.innerHTML=" Install App",n.style.cssText=`
    position: fixed;
    bottom: 24px;
    right: 24px;
    background: #0f172a;
    color: white;
    padding: 14px 28px;
    border-radius: 40px;
    border: none;
    font-weight: 600;
    font-size: 15px;
    cursor: pointer;
    z-index: 999999;
    box-shadow: 0 10px 30px -5px rgba(15, 23, 42, 0.3);
    display: flex;
    align-items: center;
    gap: 10px;
    transition: all 0.25s ease;
    border: 1px solid rgba(255,255,255,0.15);
    letter-spacing: 0.5px;
    backdrop-filter: blur(8px);
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  `,n.onmouseover=()=>{n.style.background="#1e293b",n.style.transform="scale(1.03)",n.style.boxShadow="0 15px 35px -5px rgba(15, 23, 42, 0.4)"},n.onmouseout=()=>{n.style.background="#0f172a",n.style.transform="scale(1)",n.style.boxShadow="0 10px 30px -5px rgba(15, 23, 42, 0.3)"},n.onclick=async()=>{if(!xl){n.remove();return}xl.prompt();const{outcome:r}=await xl.userChoice;console.log(` Install result: ${r}`),xl=null,n.remove()},document.body.appendChild(n)});window.addEventListener("appinstalled",()=>{console.log(" PWA installed successfully"),localStorage.setItem("pwa-installed","true");const e=document.getElementById("pwa-install-button");e&&e.remove();const t=document.getElementById("pwa-open-button");t&&t.remove()});const XK="modulepreload",QK=function(e){return"/Scbc-Suite/"+e},KP={},ZK=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let c=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=c(n.map(f=>{if(f=QK(f),f in KP)return;KP[f]=!0;const h=f.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const x=document.createElement("link");if(x.rel=h?"stylesheet":XK,h||(x.as="script"),x.crossOrigin="",x.href=f,d&&x.setAttribute("nonce",d),document.head.appendChild(x),h)return new Promise((v,j)=>{x.addEventListener("load",v),x.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return i.then(c=>{for(const u of c||[])u.status==="rejected"&&o(u.reason);return t().catch(o)})};/*! Capacitor: https://capacitorjs.com/ - MIT License */var oo;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(oo||(oo={}));class Yg extends Error{constructor(t,n,r){super(t),this.message=t,this.code=n,this.data=r}}const JK=e=>{var t,n;return e!=null&&e.androidBridge?"android":!((n=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},eG=e=>{const t=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},r=n.Plugins=n.Plugins||{},i=()=>t!==null?t.name:JK(e),o=()=>i()!=="web",c=m=>{const x=f.get(m);return!!(x!=null&&x.platforms.has(i())||u(m))},u=m=>{var x;return(x=n.PluginHeaders)===null||x===void 0?void 0:x.find(v=>v.name===m)},d=m=>e.console.error(m),f=new Map,h=(m,x={})=>{const v=f.get(m);if(v)return console.warn(`Capacitor plugin "${m}" already registered. Cannot register plugins twice.`),v.proxy;const j=i(),b=u(m);let w;const y=async()=>(!w&&j in x?w=typeof x[j]=="function"?w=await x[j]():w=x[j]:t!==null&&!w&&"web"in x&&(w=typeof x.web=="function"?w=await x.web():w=x.web),w),k=(T,M)=>{var z,R;if(b){const $=b==null?void 0:b.methods.find(B=>M===B.name);if($)return $.rtype==="promise"?B=>n.nativePromise(m,M.toString(),B):(B,L)=>n.nativeCallback(m,M.toString(),B,L);if(T)return(z=T[M])===null||z===void 0?void 0:z.bind(T)}else{if(T)return(R=T[M])===null||R===void 0?void 0:R.bind(T);throw new Yg(`"${m}" plugin is not implemented on ${j}`,oo.Unimplemented)}},P=T=>{let M;const z=(...R)=>{const $=y().then(B=>{const L=k(B,T);if(L){const F=L(...R);return M=F==null?void 0:F.remove,F}else throw new Yg(`"${m}.${T}()" is not implemented on ${j}`,oo.Unimplemented)});return T==="addListener"&&($.remove=async()=>M()),$};return z.toString=()=>`${T.toString()}() { [capacitor code] }`,Object.defineProperty(z,"name",{value:T,writable:!1,configurable:!1}),z},C=P("addListener"),S=P("removeListener"),E=(T,M)=>{const z=C({eventName:T},M),R=async()=>{const B=await z;S({eventName:T,callbackId:B},M)},$=new Promise(B=>z.then(()=>B({remove:R})));return $.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await R()},$},D=new Proxy({},{get(T,M){switch(M){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return b?E:C;case"removeListener":return S;default:return P(M)}}});return r[m]=D,f.set(m,{name:m,proxy:D,platforms:new Set([...Object.keys(x),...b?[j]:[]])}),D};return n.convertFileSrc||(n.convertFileSrc=m=>m),n.getPlatform=i,n.handleError=d,n.isNativePlatform=o,n.isPluginAvailable=c,n.registerPlugin=h,n.Exception=Yg,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},tG=e=>e.Capacitor=eG(e),mf=tG(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),ep=mf.registerPlugin;class Kb{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,n){let r=!1;this.listeners[t]||(this.listeners[t]=[],r=!0),this.listeners[t].push(n);const o=this.windowListeners[t];o&&!o.registered&&this.addWindowListener(o),r&&this.sendRetainedArgumentsForEvent(t);const c=async()=>this.removeListener(t,n);return Promise.resolve({remove:c})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,n,r){const i=this.listeners[t];if(!i){if(r){let o=this.retainedEventArguments[t];o||(o=[]),o.push(n),this.retainedEventArguments[t]=o}return}i.forEach(o=>o(n))}hasListeners(t){var n;return!!(!((n=this.listeners[t])===null||n===void 0)&&n.length)}registerWindowListener(t,n){this.windowListeners[n]={registered:!1,windowEventName:t,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(t="not implemented"){return new mf.Exception(t,oo.Unimplemented)}unavailable(t="not available"){return new mf.Exception(t,oo.Unavailable)}async removeListener(t,n){const r=this.listeners[t];if(!r)return;const i=r.indexOf(n);this.listeners[t].splice(i,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const n=this.retainedEventArguments[t];n&&(delete this.retainedEventArguments[t],n.forEach(r=>{this.notifyListeners(t,r)}))}}const GP=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),YP=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class nG extends Kb{async getCookies(){const t=document.cookie,n={};return t.split(";").forEach(r=>{if(r.length<=0)return;let[i,o]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=YP(i).trim(),o=YP(o).trim(),n[i]=o}),n}async setCookie(t){try{const n=GP(t.key),r=GP(t.value),i=t.expires?`; expires=${t.expires.replace("expires=","")}`:"",o=(t.path||"/").replace("path=",""),c=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${n}=${r||""}${i}; path=${o}; ${c};`}catch(n){return Promise.reject(n)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const n of t)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}ep("CapacitorCookies",{web:()=>new nG});const rG=async e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{const i=r.result;t(i.indexOf(",")>=0?i.split(",")[1]:i)},r.onerror=i=>n(i),r.readAsDataURL(e)}),aG=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(i=>i.toLocaleLowerCase()).reduce((i,o,c)=>(i[o]=e[t[c]],i),{})},iG=(e,t=!0)=>e?Object.entries(e).reduce((r,i)=>{const[o,c]=i;let u,d;return Array.isArray(c)?(d="",c.forEach(f=>{u=t?encodeURIComponent(f):f,d+=`${o}=${u}&`}),d.slice(0,-1)):(u=t?encodeURIComponent(c):c,d=`${o}=${u}`),`${r}&${d}`},"").substr(1):null,sG=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),i=aG(e.headers)["content-type"]||"";if(typeof e.data=="string")n.body=e.data;else if(i.includes("application/x-www-form-urlencoded")){const o=new URLSearchParams;for(const[c,u]of Object.entries(e.data||{}))o.set(c,u);n.body=o.toString()}else if(i.includes("multipart/form-data")||e.data instanceof FormData){const o=new FormData;if(e.data instanceof FormData)e.data.forEach((u,d)=>{o.append(d,u)});else for(const u of Object.keys(e.data))o.append(u,e.data[u]);n.body=o;const c=new Headers(n.headers);c.delete("content-type"),n.headers=c}else(i.includes("application/json")||typeof e.data=="object")&&(n.body=JSON.stringify(e.data));return n};class oG extends Kb{async request(t){const n=sG(t,t.webFetchExtra),r=iG(t.params,t.shouldEncodeUrlParams),i=r?`${t.url}?${r}`:t.url,o=await fetch(i,n),c=o.headers.get("content-type")||"";let{responseType:u="text"}=o.ok?t:{};c.includes("application/json")&&(u="json");let d,f;switch(u){case"arraybuffer":case"blob":f=await o.blob(),d=await rG(f);break;case"json":d=await o.json();break;case"document":case"text":default:d=await o.text()}const h={};return o.headers.forEach((m,x)=>{h[x]=m}),{data:d,headers:h,status:o.status,url:o.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}ep("CapacitorHttp",{web:()=>new oG});var XP;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(XP||(XP={}));var QP;(function(e){e.StatusBar="StatusBar",e.NavigationBar="NavigationBar"})(QP||(QP={}));class lG extends Kb{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}ep("SystemBars",{web:()=>new lG});const cG="__capgo_keep_url_path_after_reload",Xg="__capgo_history_stack__",ZP=100,uG=typeof window<"u"&&typeof document<"u"&&typeof history<"u";if(uG){const e=window;if(!e.__capgoHistoryPatched){e.__capgoHistoryPatched=!0;const t=()=>{try{if(e.__capgoKeepUrlPathAfterReload)return!0}catch{}try{return window.localStorage.getItem(cG)==="1"}catch{return!1}},n=()=>{try{const S=window.sessionStorage.getItem(Xg);if(!S)return{stack:[],index:-1};const E=JSON.parse(S);return!E||!Array.isArray(E.stack)||typeof E.index!="number"?{stack:[],index:-1}:E}catch{return{stack:[],index:-1}}},r=(S,E)=>{try{window.sessionStorage.setItem(Xg,JSON.stringify({stack:S,index:E}))}catch{}},i=()=>{try{window.sessionStorage.removeItem(Xg)}catch{}},o=S=>{try{const E=S??window.location.href,D=new URL(E instanceof URL?E.toString():E,window.location.href);return`${D.pathname}${D.search}${D.hash}`}catch{return null}},c=(S,E)=>{if(S.length<=ZP)return{stack:S,index:E};const D=S.length-ZP,T=S.slice(D),M=Math.max(0,E-D);return{stack:T,index:M}},u=S=>{document.readyState==="complete"||document.readyState==="interactive"?S():window.addEventListener("DOMContentLoaded",S,{once:!0})};let d=!1,f=!1,h=!1;const m=()=>{if(!d)return;const S=n(),E=o();if(E){if(S.stack.length===0){S.stack.push(E),S.index=0,r(S.stack,S.index);return}(S.index<0||S.index>=S.stack.length)&&(S.index=S.stack.length-1),S.stack[S.index]!==E&&(S.stack[S.index]=E,r(S.stack,S.index))}},x=(S,E)=>{if(!d||f)return;const D=o(S);if(!D)return;let{stack:T,index:M}=n();T.length===0?(T.push(D),M=T.length-1):E?((M<0||M>=T.length)&&(M=T.length-1),T[M]=D):M>=T.length-1?(T.push(D),M=T.length-1):(T=T.slice(0,M+1),T.push(D),M=T.length-1),{stack:T,index:M}=c(T,M),r(T,M)},v=()=>{if(!d||f)return;const S=n();if(S.stack.length===0){m();return}const E=S.index>=0&&S.index<S.stack.length?S.index:S.stack.length-1,D=o();if(S.stack.length===1&&D===S.stack[0])return;const T=S.stack[0];if(!T)return;f=!0;try{history.replaceState(history.state,document.title,T);for(let R=1;R<S.stack.length;R+=1)history.pushState(history.state,document.title,S.stack[R])}catch{f=!1;return}f=!1;const M=S.stack.length-1,z=E-M;z!==0?history.go(z):(history.replaceState(history.state,document.title,S.stack[E]),window.dispatchEvent(new PopStateEvent("popstate")))},j=()=>{!d||h||(h=!0,u(()=>{h=!1,v()}))};let b=null,w=null;const y=()=>{if(!d||f)return;const S=o();if(!S)return;const E=n(),D=E.stack.lastIndexOf(S);D>=0?E.index=D:(E.stack.push(S),E.index=E.stack.length-1);const T=c(E.stack,E.index);r(T.stack,T.index)},k=()=>{b&&w||(b=history.pushState,w=history.replaceState,history.pushState=function(E,D,T){const M=b==null?void 0:b.call(history,E,D,T);return x(T,!1),M},history.replaceState=function(E,D,T){const M=w==null?void 0:w.call(history,E,D,T);return x(T,!0),M},window.addEventListener("popstate",y))},P=()=>{b&&(history.pushState=b,b=null),w&&(history.replaceState=w,w=null),window.removeEventListener("popstate",y)},C=S=>{if(d===S){d&&(m(),j());return}d=S,d?(k(),m(),j()):(P(),i())};window.addEventListener("CapacitorUpdaterKeepUrlPathAfterReload",S=>{var E;const D=S,T=(E=D==null?void 0:D.detail)===null||E===void 0?void 0:E.enabled;typeof T=="boolean"?(e.__capgoKeepUrlPathAfterReload=T,C(T)):(e.__capgoKeepUrlPathAfterReload=!0,C(!0))}),C(t())}}var JP;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.UPDATE_NOT_AVAILABLE=1]="UPDATE_NOT_AVAILABLE",e[e.UPDATE_AVAILABLE=2]="UPDATE_AVAILABLE",e[e.UPDATE_IN_PROGRESS=3]="UPDATE_IN_PROGRESS"})(JP||(JP={}));var eE;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.PENDING=1]="PENDING",e[e.DOWNLOADING=2]="DOWNLOADING",e[e.INSTALLING=3]="INSTALLING",e[e.INSTALLED=4]="INSTALLED",e[e.FAILED=5]="FAILED",e[e.CANCELED=6]="CANCELED",e[e.DOWNLOADED=11]="DOWNLOADED"})(eE||(eE={}));var tE;(function(e){e[e.OK=0]="OK",e[e.CANCELED=1]="CANCELED",e[e.FAILED=2]="FAILED",e[e.NOT_AVAILABLE=3]="NOT_AVAILABLE",e[e.NOT_ALLOWED=4]="NOT_ALLOWED",e[e.INFO_MISSING=5]="INFO_MISSING"})(tE||(tE={}));const Es=ep("CapacitorUpdater",{web:()=>ZK(()=>import("./web-bYntxc4z.js"),[]).then(e=>new e.CapacitorUpdaterWeb)});async function dG(){if(mf.isNativePlatform()){Es.addListener("updateAvailable",e=>{console.log("Update available:",e.version),Es.set(e.version).catch(console.error)});try{await Es.notifyAppReady(),await Es.setUrl("https://scbc-app.github.io/Scbc-Suite/app-versions.json"),await Es.check();const t=await Es.getCurrent();fG(t.version)}catch(e){console.log("Update check failed:",e)}}}function fG(e){const t=document.getElementById("cap-version-indicator");t&&t.remove();const n=document.createElement("div");n.id="cap-version-indicator",n.style.cssText="position:fixed;bottom:8px;left:8px;background:rgba(15,23,42,0.08);color:#64748b;font-size:10px;padding:4px 8px;border-radius:12px;z-index:9999;",n.textContent=`v${e}`,document.body.appendChild(n)}class pG{constructor(){this.dbName="SCBCSuiteDB",this.dbVersion=1,this.storeName="appData"}async openDB(){return new Promise((t,n)=>{const r=indexedDB.open(this.dbName,this.dbVersion);r.onupgradeneeded=i=>{const o=i.target.result;if(!o.objectStoreNames.contains(this.storeName)){const c=o.createObjectStore(this.storeName,{keyPath:"id"});c.createIndex("timestamp","timestamp",{unique:!1}),c.createIndex("type","type",{unique:!1}),console.log(" IndexedDB store created")}},r.onsuccess=i=>t(i.target.result),r.onerror=i=>n(i.target.error)})}async setItem(t,n,r){try{const i=await this.openDB(),o=i.transaction([this.storeName],"readwrite"),c=o.objectStore(this.storeName),u={id:t,value:n,timestamp:Date.now(),expiry:r?Date.now()+r:null};return new Promise((d,f)=>{const h=c.put(u);h.onsuccess=()=>{console.log(` Saved: ${t}`),d()},h.onerror=m=>f(m.target.error),o.oncomplete=()=>i.close()})}catch(i){console.error(" Storage set error:",i)}}async getItem(t){try{const n=await this.openDB(),o=n.transaction([this.storeName],"readonly").objectStore(this.storeName).get(t);return new Promise((c,u)=>{o.onsuccess=d=>{const f=d.target.result;n.close(),f?f.expiry&&Date.now()>f.expiry?(console.log(` Cache expired for: ${t}`),this.removeItem(t),c(null)):(console.log(` Read from cache: ${t}`),c(f.value)):c(null)},o.onerror=d=>{n.close(),u(d.target.error)}})}catch(n){return console.error(" Storage get error:",n),null}}async removeItem(t){const n=await this.openDB(),r=n.transaction([this.storeName],"readwrite");r.objectStore(this.storeName).delete(t),r.oncomplete=()=>n.close(),console.log(` Removed: ${t}`)}async clear(){const t=await this.openDB(),n=t.transaction([this.storeName],"readwrite");n.objectStore(this.storeName).clear(),n.oncomplete=()=>t.close(),console.log(" Storage cleared")}async prune(t){const n=await this.openDB(),r=n.transaction([this.storeName],"readwrite"),i=r.objectStore(this.storeName),o=i.index("timestamp"),c=Date.now()-t,u=IDBKeyRange.upperBound(c);let d=0;return new Promise((f,h)=>{const m=o.openCursor(u);m.onsuccess=x=>{const v=x.target.result;v?(i.delete(v.primaryKey),d++,v.continue()):(console.log(` Pruned ${d} old records`),f(d))},m.onerror=h,r.oncomplete=()=>n.close()})}}const hG=new pG,$I=document.getElementById("root");if(!$I)throw new Error("Could not find root element to mount to");const mG=FT.createRoot($I);mG.render(a.jsx(H.StrictMode,{children:a.jsx(HK,{})}));if(localStorage.getItem("appState"))try{const e=JSON.parse(localStorage.getItem("appState")||"{}"),t=["messages","notifications","clients","agents","vehicles","contracts","invoices","payments","referrals"];let n=!1;for(const r of t)if(e[r]===void 0){console.log(` Missing array: ${r} - clearing cache`),n=!0;break}if(!n){for(const r of t)if(e[r]!==null&&typeof e[r]!="object"){console.log(` Invalid array type: ${r} - clearing cache`),n=!0;break}}n&&(console.log(" Clearing corrupted app state from localStorage"),localStorage.removeItem("appState"),localStorage.removeItem("pwa-installed"),window.location.reload())}catch{console.log(" Clearing corrupted app state from localStorage (parse error)"),localStorage.removeItem("appState"),localStorage.removeItem("pwa-installed"),window.location.reload()}else console.log(" Fresh app install - no cache to clear");YK();dG();"indexedDB"in window&&setTimeout(()=>{hG.prune(6048e5).catch(e=>console.error("Storage cleanup failed:",e)),console.log(" Professional PWA Storage initialized")},5e3);export{JP as A,Kb as W};
