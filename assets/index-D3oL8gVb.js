function E5(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();var zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Oh={exports:{}},nl={},Ih={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aj;function D5(){if(Aj)return Ue;Aj=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function g(M){return M===null||typeof M!="object"?null:(M=m&&M[m]||M["@@iterator"],typeof M=="function"?M:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,w={};function b(M,X,ee){this.props=M,this.context=X,this.refs=w,this.updater=ee||v}b.prototype.isReactComponent={},b.prototype.setState=function(M,X){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,X,"setState")},b.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function y(){}y.prototype=b.prototype;function S(M,X,ee){this.props=M,this.context=X,this.refs=w,this.updater=ee||v}var P=S.prototype=new y;P.constructor=S,j(P,b.prototype),P.isPureReactComponent=!0;var k=Array.isArray,C=Object.prototype.hasOwnProperty,E={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function I(M,X,ee){var ne,pe={},we=null,je=null;if(X!=null)for(ne in X.ref!==void 0&&(je=X.ref),X.key!==void 0&&(we=""+X.key),X)C.call(X,ne)&&!D.hasOwnProperty(ne)&&(pe[ne]=X[ne]);var $e=arguments.length-2;if($e===1)pe.children=ee;else if(1<$e){for(var Oe=Array($e),oe=0;oe<$e;oe++)Oe[oe]=arguments[oe+2];pe.children=Oe}if(M&&M.defaultProps)for(ne in $e=M.defaultProps,$e)pe[ne]===void 0&&(pe[ne]=$e[ne]);return{$$typeof:e,type:M,key:we,ref:je,props:pe,_owner:E.current}}function $(M,X){return{$$typeof:e,type:M.type,key:X,ref:M.ref,props:M.props,_owner:M._owner}}function B(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function _(M){var X={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ee){return X[ee]})}var R=/\/+/g;function L(M,X){return typeof M=="object"&&M!==null&&M.key!=null?_(""+M.key):X.toString(36)}function z(M,X,ee,ne,pe){var we=typeof M;(we==="undefined"||we==="boolean")&&(M=null);var je=!1;if(M===null)je=!0;else switch(we){case"string":case"number":je=!0;break;case"object":switch(M.$$typeof){case e:case t:je=!0}}if(je)return je=M,pe=pe(je),M=ne===""?"."+L(je,0):ne,k(pe)?(ee="",M!=null&&(ee=M.replace(R,"$&/")+"/"),z(pe,X,ee,"",function(oe){return oe})):pe!=null&&(B(pe)&&(pe=$(pe,ee+(!pe.key||je&&je.key===pe.key?"":(""+pe.key).replace(R,"$&/")+"/")+M)),X.push(pe)),1;if(je=0,ne=ne===""?".":ne+":",k(M))for(var $e=0;$e<M.length;$e++){we=M[$e];var Oe=ne+L(we,$e);je+=z(we,X,ee,Oe,pe)}else if(Oe=g(M),typeof Oe=="function")for(M=Oe.call(M),$e=0;!(we=M.next()).done;)we=we.value,Oe=ne+L(we,$e++),je+=z(we,X,ee,Oe,pe);else if(we==="object")throw X=String(M),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return je}function H(M,X,ee){if(M==null)return M;var ne=[],pe=0;return z(M,ne,"","",function(we){return X.call(ee,we,pe++)}),ne}function U(M){if(M._status===-1){var X=M._result;X=X(),X.then(function(ee){(M._status===0||M._status===-1)&&(M._status=1,M._result=ee)},function(ee){(M._status===0||M._status===-1)&&(M._status=2,M._result=ee)}),M._status===-1&&(M._status=0,M._result=X)}if(M._status===1)return M._result.default;throw M._result}var Q={current:null},G={transition:null},Y={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:G,ReactCurrentOwner:E};return Ue.Children={map:H,forEach:function(M,X,ee){H(M,function(){X.apply(this,arguments)},ee)},count:function(M){var X=0;return H(M,function(){X++}),X},toArray:function(M){return H(M,function(X){return X})||[]},only:function(M){if(!B(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ue.Component=b,Ue.Fragment=n,Ue.Profiler=a,Ue.PureComponent=S,Ue.StrictMode=r,Ue.Suspense=f,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,Ue.cloneElement=function(M,X,ee){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var ne=j({},M.props),pe=M.key,we=M.ref,je=M._owner;if(X!=null){if(X.ref!==void 0&&(we=X.ref,je=E.current),X.key!==void 0&&(pe=""+X.key),M.type&&M.type.defaultProps)var $e=M.type.defaultProps;for(Oe in X)C.call(X,Oe)&&!D.hasOwnProperty(Oe)&&(ne[Oe]=X[Oe]===void 0&&$e!==void 0?$e[Oe]:X[Oe])}var Oe=arguments.length-2;if(Oe===1)ne.children=ee;else if(1<Oe){$e=Array(Oe);for(var oe=0;oe<Oe;oe++)$e[oe]=arguments[oe+2];ne.children=$e}return{$$typeof:e,type:M.type,key:pe,ref:we,props:ne,_owner:je}},Ue.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:o,_context:M},M.Consumer=M},Ue.createElement=I,Ue.createFactory=function(M){var X=I.bind(null,M);return X.type=M,X},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(M){return{$$typeof:u,render:M}},Ue.isValidElement=B,Ue.lazy=function(M){return{$$typeof:h,_payload:{_status:-1,_result:M},_init:U}},Ue.memo=function(M,X){return{$$typeof:d,type:M,compare:X===void 0?null:X}},Ue.startTransition=function(M){var X=G.transition;G.transition={};try{M()}finally{G.transition=X}},Ue.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Ue.useCallback=function(M,X){return Q.current.useCallback(M,X)},Ue.useContext=function(M){return Q.current.useContext(M)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(M){return Q.current.useDeferredValue(M)},Ue.useEffect=function(M,X){return Q.current.useEffect(M,X)},Ue.useId=function(){return Q.current.useId()},Ue.useImperativeHandle=function(M,X,ee){return Q.current.useImperativeHandle(M,X,ee)},Ue.useInsertionEffect=function(M,X){return Q.current.useInsertionEffect(M,X)},Ue.useLayoutEffect=function(M,X){return Q.current.useLayoutEffect(M,X)},Ue.useMemo=function(M,X){return Q.current.useMemo(M,X)},Ue.useReducer=function(M,X,ee){return Q.current.useReducer(M,X,ee)},Ue.useRef=function(M){return Q.current.useRef(M)},Ue.useState=function(M){return Q.current.useState(M)},Ue.useSyncExternalStore=function(M,X,ee){return Q.current.useSyncExternalStore(M,X,ee)},Ue.useTransition=function(){return Q.current.useTransition()},Ue.version="18.2.0",Ue}var Pj;function my(){return Pj||(Pj=1,Ih.exports=D5()),Ih.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ej;function O5(){if(Ej)return nl;Ej=1;var e=my(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(u,f,d){var h,m={},g=null,v=null;d!==void 0&&(g=""+d),f.key!==void 0&&(g=""+f.key),f.ref!==void 0&&(v=f.ref);for(h in f)r.call(f,h)&&!o.hasOwnProperty(h)&&(m[h]=f[h]);if(u&&u.defaultProps)for(h in f=u.defaultProps,f)m[h]===void 0&&(m[h]=f[h]);return{$$typeof:t,type:u,key:g,ref:v,props:m,_owner:a.current}}return nl.Fragment=n,nl.jsx=c,nl.jsxs=c,nl}var Dj;function I5(){return Dj||(Dj=1,Oh.exports=O5()),Oh.exports}var i=I5(),O=my();const q=lt(O),T5=E5({__proto__:null,default:q},[O]);var Lu={},Th={exports:{}},bn={},_h={exports:{}},Mh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oj;function _5(){return Oj||(Oj=1,(function(e){function t(G,Y){var M=G.length;G.push(Y);e:for(;0<M;){var X=M-1>>>1,ee=G[X];if(0<a(ee,Y))G[X]=Y,G[M]=ee,M=X;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var Y=G[0],M=G.pop();if(M!==Y){G[0]=M;e:for(var X=0,ee=G.length,ne=ee>>>1;X<ne;){var pe=2*(X+1)-1,we=G[pe],je=pe+1,$e=G[je];if(0>a(we,M))je<ee&&0>a($e,we)?(G[X]=$e,G[je]=M,X=je):(G[X]=we,G[pe]=M,X=pe);else if(je<ee&&0>a($e,M))G[X]=$e,G[je]=M,X=je;else break e}}return Y}function a(G,Y){var M=G.sortIndex-Y.sortIndex;return M!==0?M:G.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var f=[],d=[],h=1,m=null,g=3,v=!1,j=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(G){for(var Y=n(d);Y!==null;){if(Y.callback===null)r(d);else if(Y.startTime<=G)r(d),Y.sortIndex=Y.expirationTime,t(f,Y);else break;Y=n(d)}}function k(G){if(w=!1,P(G),!j)if(n(f)!==null)j=!0,U(C);else{var Y=n(d);Y!==null&&Q(k,Y.startTime-G)}}function C(G,Y){j=!1,w&&(w=!1,y(I),I=-1),v=!0;var M=g;try{for(P(Y),m=n(f);m!==null&&(!(m.expirationTime>Y)||G&&!_());){var X=m.callback;if(typeof X=="function"){m.callback=null,g=m.priorityLevel;var ee=X(m.expirationTime<=Y);Y=e.unstable_now(),typeof ee=="function"?m.callback=ee:m===n(f)&&r(f),P(Y)}else r(f);m=n(f)}if(m!==null)var ne=!0;else{var pe=n(d);pe!==null&&Q(k,pe.startTime-Y),ne=!1}return ne}finally{m=null,g=M,v=!1}}var E=!1,D=null,I=-1,$=5,B=-1;function _(){return!(e.unstable_now()-B<$)}function R(){if(D!==null){var G=e.unstable_now();B=G;var Y=!0;try{Y=D(!0,G)}finally{Y?L():(E=!1,D=null)}}else E=!1}var L;if(typeof S=="function")L=function(){S(R)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,H=z.port2;z.port1.onmessage=R,L=function(){H.postMessage(null)}}else L=function(){b(R,0)};function U(G){D=G,E||(E=!0,L())}function Q(G,Y){I=b(function(){G(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){j||v||(j=!0,U(C))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(G){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var M=g;g=Y;try{return G()}finally{g=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,Y){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var M=g;g=G;try{return Y()}finally{g=M}},e.unstable_scheduleCallback=function(G,Y,M){var X=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?X+M:X):M=X,G){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=M+ee,G={id:h++,callback:Y,priorityLevel:G,startTime:M,expirationTime:ee,sortIndex:-1},M>X?(G.sortIndex=M,t(d,G),n(f)===null&&G===n(d)&&(w?(y(I),I=-1):w=!0,Q(k,M-X))):(G.sortIndex=ee,t(f,G),j||v||(j=!0,U(C))),G},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(G){var Y=g;return function(){var M=g;g=Y;try{return G.apply(this,arguments)}finally{g=M}}}})(Mh)),Mh}var Ij;function M5(){return Ij||(Ij=1,_h.exports=_5()),_h.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tj;function R5(){if(Tj)return bn;Tj=1;var e=my(),t=M5();function n(s){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+s,p=1;p<arguments.length;p++)l+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,a={};function o(s,l){c(s,l),c(s+"Capture",l)}function c(s,l){for(a[s]=l,s=0;s<l.length;s++)r.add(l[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function g(s){return f.call(m,s)?!0:f.call(h,s)?!1:d.test(s)?m[s]=!0:(h[s]=!0,!1)}function v(s,l,p,x){if(p!==null&&p.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return x?!1:p!==null?!p.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function j(s,l,p,x){if(l===null||typeof l>"u"||v(s,l,p,x))return!0;if(x)return!1;if(p!==null)switch(p.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function w(s,l,p,x,N,A,T){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=x,this.attributeNamespace=N,this.mustUseProperty=p,this.propertyName=s,this.type=l,this.sanitizeURL=A,this.removeEmptyString=T}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new w(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var l=s[0];b[l]=new w(l,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new w(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new w(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new w(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new w(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new w(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new w(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new w(s,5,!1,s.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function S(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var l=s.replace(y,S);b[l]=new w(l,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var l=s.replace(y,S);b[l]=new w(l,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var l=s.replace(y,S);b[l]=new w(l,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new w(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new w(s,1,!1,s.toLowerCase(),null,!0,!0)});function P(s,l,p,x){var N=b.hasOwnProperty(l)?b[l]:null;(N!==null?N.type!==0:x||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(j(l,p,N,x)&&(p=null),x||N===null?g(l)&&(p===null?s.removeAttribute(l):s.setAttribute(l,""+p)):N.mustUseProperty?s[N.propertyName]=p===null?N.type===3?!1:"":p:(l=N.attributeName,x=N.attributeNamespace,p===null?s.removeAttribute(l):(N=N.type,p=N===3||N===4&&p===!0?"":""+p,x?s.setAttributeNS(x,l,p):s.setAttribute(l,p))))}var k=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),E=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),_=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),G=Symbol.iterator;function Y(s){return s===null||typeof s!="object"?null:(s=G&&s[G]||s["@@iterator"],typeof s=="function"?s:null)}var M=Object.assign,X;function ee(s){if(X===void 0)try{throw Error()}catch(p){var l=p.stack.trim().match(/\n( *(at )?)/);X=l&&l[1]||""}return`
`+X+s}var ne=!1;function pe(s,l){if(!s||ne)return"";ne=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(te){var x=te}Reflect.construct(s,[],l)}else{try{l.call()}catch(te){x=te}s.call(l.prototype)}else{try{throw Error()}catch(te){x=te}s()}}catch(te){if(te&&x&&typeof te.stack=="string"){for(var N=te.stack.split(`
`),A=x.stack.split(`
`),T=N.length-1,F=A.length-1;1<=T&&0<=F&&N[T]!==A[F];)F--;for(;1<=T&&0<=F;T--,F--)if(N[T]!==A[F]){if(T!==1||F!==1)do if(T--,F--,0>F||N[T]!==A[F]){var V=`
`+N[T].replace(" at new "," at ");return s.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",s.displayName)),V}while(1<=T&&0<=F);break}}}finally{ne=!1,Error.prepareStackTrace=p}return(s=s?s.displayName||s.name:"")?ee(s):""}function we(s){switch(s.tag){case 5:return ee(s.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return s=pe(s.type,!1),s;case 11:return s=pe(s.type.render,!1),s;case 1:return s=pe(s.type,!0),s;default:return""}}function je(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case E:return"Portal";case $:return"Profiler";case I:return"StrictMode";case L:return"Suspense";case z:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case _:return(s.displayName||"Context")+".Consumer";case B:return(s._context.displayName||"Context")+".Provider";case R:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case H:return l=s.displayName||null,l!==null?l:je(s.type)||"Memo";case U:l=s._payload,s=s._init;try{return je(s(l))}catch{}}return null}function $e(s){var l=s.type;switch(s.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=l.render,s=s.displayName||s.name||"",l.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(l);case 8:return l===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Oe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function oe(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ce(s){var l=oe(s)?"checked":"value",p=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),x=""+s[l];if(!s.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var N=p.get,A=p.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return N.call(this)},set:function(T){x=""+T,A.call(this,T)}}),Object.defineProperty(s,l,{enumerable:p.enumerable}),{getValue:function(){return x},setValue:function(T){x=""+T},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function ke(s){s._valueTracker||(s._valueTracker=Ce(s))}function ie(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var p=l.getValue(),x="";return s&&(x=oe(s)?s.checked?"true":"false":s.value),s=x,s!==p?(l.setValue(s),!0):!1}function He(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Re(s,l){var p=l.checked;return M({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??s._wrapperState.initialChecked})}function Je(s,l){var p=l.defaultValue==null?"":l.defaultValue,x=l.checked!=null?l.checked:l.defaultChecked;p=Oe(l.value!=null?l.value:p),s._wrapperState={initialChecked:x,initialValue:p,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function ue(s,l){l=l.checked,l!=null&&P(s,"checked",l,!1)}function Ie(s,l){ue(s,l);var p=Oe(l.value),x=l.type;if(p!=null)x==="number"?(p===0&&s.value===""||s.value!=p)&&(s.value=""+p):s.value!==""+p&&(s.value=""+p);else if(x==="submit"||x==="reset"){s.removeAttribute("value");return}l.hasOwnProperty("value")?ze(s,l.type,p):l.hasOwnProperty("defaultValue")&&ze(s,l.type,Oe(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(s.defaultChecked=!!l.defaultChecked)}function Ne(s,l,p){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var x=l.type;if(!(x!=="submit"&&x!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+s._wrapperState.initialValue,p||l===s.value||(s.value=l),s.defaultValue=l}p=s.name,p!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,p!==""&&(s.name=p)}function ze(s,l,p){(l!=="number"||He(s.ownerDocument)!==s)&&(p==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+p&&(s.defaultValue=""+p))}var qe=Array.isArray;function We(s,l,p,x){if(s=s.options,l){l={};for(var N=0;N<p.length;N++)l["$"+p[N]]=!0;for(p=0;p<s.length;p++)N=l.hasOwnProperty("$"+s[p].value),s[p].selected!==N&&(s[p].selected=N),N&&x&&(s[p].defaultSelected=!0)}else{for(p=""+Oe(p),l=null,N=0;N<s.length;N++){if(s[N].value===p){s[N].selected=!0,x&&(s[N].defaultSelected=!0);return}l!==null||s[N].disabled||(l=s[N])}l!==null&&(l.selected=!0)}}function gt(s,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return M({},l,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Rt(s,l){var p=l.value;if(p==null){if(p=l.children,l=l.defaultValue,p!=null){if(l!=null)throw Error(n(92));if(qe(p)){if(1<p.length)throw Error(n(93));p=p[0]}l=p}l==null&&(l=""),p=l}s._wrapperState={initialValue:Oe(p)}}function me(s,l){var p=Oe(l.value),x=Oe(l.defaultValue);p!=null&&(p=""+p,p!==s.value&&(s.value=p),l.defaultValue==null&&s.defaultValue!==p&&(s.defaultValue=p)),x!=null&&(s.defaultValue=""+x)}function Ge(s){var l=s.textContent;l===s._wrapperState.initialValue&&l!==""&&l!==null&&(s.value=l)}function Yt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wt(s,l){return s==null||s==="http://www.w3.org/1999/xhtml"?Yt(l):s==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ga,Gi=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,p,x,N){MSApp.execUnsafeLocalFunction(function(){return s(l,p,x,N)})}:s})(function(s,l){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=l;else{for(ga=ga||document.createElement("div"),ga.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=ga.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;l.firstChild;)s.appendChild(l.firstChild)}});function zr(s,l){if(l){var p=s.firstChild;if(p&&p===s.lastChild&&p.nodeType===3){p.nodeValue=l;return}}s.textContent=l}var Lr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xo=["Webkit","ms","Moz","O"];Object.keys(Lr).forEach(function(s){xo.forEach(function(l){l=l+s.charAt(0).toUpperCase()+s.substring(1),Lr[l]=Lr[s]})});function ln(s,l,p){return l==null||typeof l=="boolean"||l===""?"":p||typeof l!="number"||l===0||Lr.hasOwnProperty(s)&&Lr[s]?(""+l).trim():l+"px"}function Hf(s,l){s=s.style;for(var p in l)if(l.hasOwnProperty(p)){var x=p.indexOf("--")===0,N=ln(p,l[p],x);p==="float"&&(p="cssFloat"),x?s.setProperty(p,N):s[p]=N}}var Vf=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vo(s,l){if(l){if(Vf[s]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function yo(s,l){if(s.indexOf("-")===-1)return typeof l.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jr=null;function _e(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Kf=null,Yi=null,Xi=null;function qb(s){if(s=Fo(s)){if(typeof Kf!="function")throw Error(n(280));var l=s.stateNode;l&&(l=Jc(l),Kf(s.stateNode,s.type,l))}}function Wb(s){Yi?Xi?Xi.push(s):Xi=[s]:Yi=s}function Hb(){if(Yi){var s=Yi,l=Xi;if(Xi=Yi=null,qb(s),l)for(s=0;s<l.length;s++)qb(l[s])}}function Vb(s,l){return s(l)}function Kb(){}var Gf=!1;function Gb(s,l,p){if(Gf)return s(l,p);Gf=!0;try{return Vb(s,l,p)}finally{Gf=!1,(Yi!==null||Xi!==null)&&(Kb(),Hb())}}function bo(s,l){var p=s.stateNode;if(p===null)return null;var x=Jc(p);if(x===null)return null;p=x[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(s=s.type,x=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!x;break e;default:s=!1}if(s)return null;if(p&&typeof p!="function")throw Error(n(231,l,typeof p));return p}var Yf=!1;if(u)try{var wo={};Object.defineProperty(wo,"passive",{get:function(){Yf=!0}}),window.addEventListener("test",wo,wo),window.removeEventListener("test",wo,wo)}catch{Yf=!1}function MI(s,l,p,x,N,A,T,F,V){var te=Array.prototype.slice.call(arguments,3);try{l.apply(p,te)}catch(le){this.onError(le)}}var jo=!1,Oc=null,Ic=!1,Xf=null,RI={onError:function(s){jo=!0,Oc=s}};function $I(s,l,p,x,N,A,T,F,V){jo=!1,Oc=null,MI.apply(RI,arguments)}function zI(s,l,p,x,N,A,T,F,V){if($I.apply(this,arguments),jo){if(jo){var te=Oc;jo=!1,Oc=null}else throw Error(n(198));Ic||(Ic=!0,Xf=te)}}function ii(s){var l=s,p=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(p=l.return),s=l.return;while(s)}return l.tag===3?p:null}function Yb(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function Xb(s){if(ii(s)!==s)throw Error(n(188))}function LI(s){var l=s.alternate;if(!l){if(l=ii(s),l===null)throw Error(n(188));return l!==s?null:s}for(var p=s,x=l;;){var N=p.return;if(N===null)break;var A=N.alternate;if(A===null){if(x=N.return,x!==null){p=x;continue}break}if(N.child===A.child){for(A=N.child;A;){if(A===p)return Xb(N),s;if(A===x)return Xb(N),l;A=A.sibling}throw Error(n(188))}if(p.return!==x.return)p=N,x=A;else{for(var T=!1,F=N.child;F;){if(F===p){T=!0,p=N,x=A;break}if(F===x){T=!0,x=N,p=A;break}F=F.sibling}if(!T){for(F=A.child;F;){if(F===p){T=!0,p=A,x=N;break}if(F===x){T=!0,x=A,p=N;break}F=F.sibling}if(!T)throw Error(n(189))}}if(p.alternate!==x)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?s:l}function Qb(s){return s=LI(s),s!==null?Zb(s):null}function Zb(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var l=Zb(s);if(l!==null)return l;s=s.sibling}return null}var Jb=t.unstable_scheduleCallback,e1=t.unstable_cancelCallback,BI=t.unstable_shouldYield,FI=t.unstable_requestPaint,jt=t.unstable_now,UI=t.unstable_getCurrentPriorityLevel,Qf=t.unstable_ImmediatePriority,t1=t.unstable_UserBlockingPriority,Tc=t.unstable_NormalPriority,qI=t.unstable_LowPriority,n1=t.unstable_IdlePriority,_c=null,Nr=null;function WI(s){if(Nr&&typeof Nr.onCommitFiberRoot=="function")try{Nr.onCommitFiberRoot(_c,s,void 0,(s.current.flags&128)===128)}catch{}}var nr=Math.clz32?Math.clz32:KI,HI=Math.log,VI=Math.LN2;function KI(s){return s>>>=0,s===0?32:31-(HI(s)/VI|0)|0}var Mc=64,Rc=4194304;function No(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function $c(s,l){var p=s.pendingLanes;if(p===0)return 0;var x=0,N=s.suspendedLanes,A=s.pingedLanes,T=p&268435455;if(T!==0){var F=T&~N;F!==0?x=No(F):(A&=T,A!==0&&(x=No(A)))}else T=p&~N,T!==0?x=No(T):A!==0&&(x=No(A));if(x===0)return 0;if(l!==0&&l!==x&&(l&N)===0&&(N=x&-x,A=l&-l,N>=A||N===16&&(A&4194240)!==0))return l;if((x&4)!==0&&(x|=p&16),l=s.entangledLanes,l!==0)for(s=s.entanglements,l&=x;0<l;)p=31-nr(l),N=1<<p,x|=s[p],l&=~N;return x}function GI(s,l){switch(s){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YI(s,l){for(var p=s.suspendedLanes,x=s.pingedLanes,N=s.expirationTimes,A=s.pendingLanes;0<A;){var T=31-nr(A),F=1<<T,V=N[T];V===-1?((F&p)===0||(F&x)!==0)&&(N[T]=GI(F,l)):V<=l&&(s.expiredLanes|=F),A&=~F}}function Zf(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function r1(){var s=Mc;return Mc<<=1,(Mc&4194240)===0&&(Mc=64),s}function Jf(s){for(var l=[],p=0;31>p;p++)l.push(s);return l}function So(s,l,p){s.pendingLanes|=l,l!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,l=31-nr(l),s[l]=p}function XI(s,l){var p=s.pendingLanes&~l;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=l,s.mutableReadLanes&=l,s.entangledLanes&=l,l=s.entanglements;var x=s.eventTimes;for(s=s.expirationTimes;0<p;){var N=31-nr(p),A=1<<N;l[N]=0,x[N]=-1,s[N]=-1,p&=~A}}function ep(s,l){var p=s.entangledLanes|=l;for(s=s.entanglements;p;){var x=31-nr(p),N=1<<x;N&l|s[x]&l&&(s[x]|=l),p&=~N}}var nt=0;function a1(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var i1,tp,s1,o1,l1,np=!1,zc=[],xa=null,va=null,ya=null,ko=new Map,Co=new Map,ba=[],QI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function c1(s,l){switch(s){case"focusin":case"focusout":xa=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":ya=null;break;case"pointerover":case"pointerout":ko.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Co.delete(l.pointerId)}}function Ao(s,l,p,x,N,A){return s===null||s.nativeEvent!==A?(s={blockedOn:l,domEventName:p,eventSystemFlags:x,nativeEvent:A,targetContainers:[N]},l!==null&&(l=Fo(l),l!==null&&tp(l)),s):(s.eventSystemFlags|=x,l=s.targetContainers,N!==null&&l.indexOf(N)===-1&&l.push(N),s)}function ZI(s,l,p,x,N){switch(l){case"focusin":return xa=Ao(xa,s,l,p,x,N),!0;case"dragenter":return va=Ao(va,s,l,p,x,N),!0;case"mouseover":return ya=Ao(ya,s,l,p,x,N),!0;case"pointerover":var A=N.pointerId;return ko.set(A,Ao(ko.get(A)||null,s,l,p,x,N)),!0;case"gotpointercapture":return A=N.pointerId,Co.set(A,Ao(Co.get(A)||null,s,l,p,x,N)),!0}return!1}function u1(s){var l=si(s.target);if(l!==null){var p=ii(l);if(p!==null){if(l=p.tag,l===13){if(l=Yb(p),l!==null){s.blockedOn=l,l1(s.priority,function(){s1(p)});return}}else if(l===3&&p.stateNode.current.memoizedState.isDehydrated){s.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Lc(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var p=ap(s.domEventName,s.eventSystemFlags,l[0],s.nativeEvent);if(p===null){p=s.nativeEvent;var x=new p.constructor(p.type,p);jr=x,p.target.dispatchEvent(x),jr=null}else return l=Fo(p),l!==null&&tp(l),s.blockedOn=p,!1;l.shift()}return!0}function d1(s,l,p){Lc(s)&&p.delete(l)}function JI(){np=!1,xa!==null&&Lc(xa)&&(xa=null),va!==null&&Lc(va)&&(va=null),ya!==null&&Lc(ya)&&(ya=null),ko.forEach(d1),Co.forEach(d1)}function Po(s,l){s.blockedOn===l&&(s.blockedOn=null,np||(np=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,JI)))}function Eo(s){function l(N){return Po(N,s)}if(0<zc.length){Po(zc[0],s);for(var p=1;p<zc.length;p++){var x=zc[p];x.blockedOn===s&&(x.blockedOn=null)}}for(xa!==null&&Po(xa,s),va!==null&&Po(va,s),ya!==null&&Po(ya,s),ko.forEach(l),Co.forEach(l),p=0;p<ba.length;p++)x=ba[p],x.blockedOn===s&&(x.blockedOn=null);for(;0<ba.length&&(p=ba[0],p.blockedOn===null);)u1(p),p.blockedOn===null&&ba.shift()}var Qi=k.ReactCurrentBatchConfig,Bc=!0;function eT(s,l,p,x){var N=nt,A=Qi.transition;Qi.transition=null;try{nt=1,rp(s,l,p,x)}finally{nt=N,Qi.transition=A}}function tT(s,l,p,x){var N=nt,A=Qi.transition;Qi.transition=null;try{nt=4,rp(s,l,p,x)}finally{nt=N,Qi.transition=A}}function rp(s,l,p,x){if(Bc){var N=ap(s,l,p,x);if(N===null)wp(s,l,x,Fc,p),c1(s,x);else if(ZI(N,s,l,p,x))x.stopPropagation();else if(c1(s,x),l&4&&-1<QI.indexOf(s)){for(;N!==null;){var A=Fo(N);if(A!==null&&i1(A),A=ap(s,l,p,x),A===null&&wp(s,l,x,Fc,p),A===N)break;N=A}N!==null&&x.stopPropagation()}else wp(s,l,x,null,p)}}var Fc=null;function ap(s,l,p,x){if(Fc=null,s=_e(x),s=si(s),s!==null)if(l=ii(s),l===null)s=null;else if(p=l.tag,p===13){if(s=Yb(l),s!==null)return s;s=null}else if(p===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null);return Fc=s,null}function f1(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(UI()){case Qf:return 1;case t1:return 4;case Tc:case qI:return 16;case n1:return 536870912;default:return 16}default:return 16}}var wa=null,ip=null,Uc=null;function p1(){if(Uc)return Uc;var s,l=ip,p=l.length,x,N="value"in wa?wa.value:wa.textContent,A=N.length;for(s=0;s<p&&l[s]===N[s];s++);var T=p-s;for(x=1;x<=T&&l[p-x]===N[A-x];x++);return Uc=N.slice(s,1<x?1-x:void 0)}function qc(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Wc(){return!0}function h1(){return!1}function An(s){function l(p,x,N,A,T){this._reactName=p,this._targetInst=N,this.type=x,this.nativeEvent=A,this.target=T,this.currentTarget=null;for(var F in s)s.hasOwnProperty(F)&&(p=s[F],this[F]=p?p(A):A[F]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Wc:h1,this.isPropagationStopped=h1,this}return M(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Wc)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Wc)},persist:function(){},isPersistent:Wc}),l}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sp=An(Zi),Do=M({},Zi,{view:0,detail:0}),nT=An(Do),op,lp,Oo,Hc=M({},Do,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:up,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Oo&&(Oo&&s.type==="mousemove"?(op=s.screenX-Oo.screenX,lp=s.screenY-Oo.screenY):lp=op=0,Oo=s),op)},movementY:function(s){return"movementY"in s?s.movementY:lp}}),m1=An(Hc),rT=M({},Hc,{dataTransfer:0}),aT=An(rT),iT=M({},Do,{relatedTarget:0}),cp=An(iT),sT=M({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),oT=An(sT),lT=M({},Zi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),cT=An(lT),uT=M({},Zi,{data:0}),g1=An(uT),dT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hT(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=pT[s])?!!l[s]:!1}function up(){return hT}var mT=M({},Do,{key:function(s){if(s.key){var l=dT[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=qc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?fT[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:up,charCode:function(s){return s.type==="keypress"?qc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?qc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),gT=An(mT),xT=M({},Hc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x1=An(xT),vT=M({},Do,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:up}),yT=An(vT),bT=M({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),wT=An(bT),jT=M({},Hc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),NT=An(jT),ST=[9,13,27,32],dp=u&&"CompositionEvent"in window,Io=null;u&&"documentMode"in document&&(Io=document.documentMode);var kT=u&&"TextEvent"in window&&!Io,v1=u&&(!dp||Io&&8<Io&&11>=Io),y1=" ",b1=!1;function w1(s,l){switch(s){case"keyup":return ST.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function j1(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ji=!1;function CT(s,l){switch(s){case"compositionend":return j1(l);case"keypress":return l.which!==32?null:(b1=!0,y1);case"textInput":return s=l.data,s===y1&&b1?null:s;default:return null}}function AT(s,l){if(Ji)return s==="compositionend"||!dp&&w1(s,l)?(s=p1(),Uc=ip=wa=null,Ji=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return v1&&l.locale!=="ko"?null:l.data;default:return null}}var PT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function N1(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!PT[s.type]:l==="textarea"}function S1(s,l,p,x){Wb(x),l=Xc(l,"onChange"),0<l.length&&(p=new sp("onChange","change",null,p,x),s.push({event:p,listeners:l}))}var To=null,_o=null;function ET(s){U1(s,0)}function Vc(s){var l=as(s);if(ie(l))return s}function DT(s,l){if(s==="change")return l}var k1=!1;if(u){var fp;if(u){var pp="oninput"in document;if(!pp){var C1=document.createElement("div");C1.setAttribute("oninput","return;"),pp=typeof C1.oninput=="function"}fp=pp}else fp=!1;k1=fp&&(!document.documentMode||9<document.documentMode)}function A1(){To&&(To.detachEvent("onpropertychange",P1),_o=To=null)}function P1(s){if(s.propertyName==="value"&&Vc(_o)){var l=[];S1(l,_o,s,_e(s)),Gb(ET,l)}}function OT(s,l,p){s==="focusin"?(A1(),To=l,_o=p,To.attachEvent("onpropertychange",P1)):s==="focusout"&&A1()}function IT(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Vc(_o)}function TT(s,l){if(s==="click")return Vc(l)}function _T(s,l){if(s==="input"||s==="change")return Vc(l)}function MT(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var rr=typeof Object.is=="function"?Object.is:MT;function Mo(s,l){if(rr(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var p=Object.keys(s),x=Object.keys(l);if(p.length!==x.length)return!1;for(x=0;x<p.length;x++){var N=p[x];if(!f.call(l,N)||!rr(s[N],l[N]))return!1}return!0}function E1(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function D1(s,l){var p=E1(s);s=0;for(var x;p;){if(p.nodeType===3){if(x=s+p.textContent.length,s<=l&&x>=l)return{node:p,offset:l-s};s=x}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=E1(p)}}function O1(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?O1(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function I1(){for(var s=window,l=He();l instanceof s.HTMLIFrameElement;){try{var p=typeof l.contentWindow.location.href=="string"}catch{p=!1}if(p)s=l.contentWindow;else break;l=He(s.document)}return l}function hp(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}function RT(s){var l=I1(),p=s.focusedElem,x=s.selectionRange;if(l!==p&&p&&p.ownerDocument&&O1(p.ownerDocument.documentElement,p)){if(x!==null&&hp(p)){if(l=x.start,s=x.end,s===void 0&&(s=l),"selectionStart"in p)p.selectionStart=l,p.selectionEnd=Math.min(s,p.value.length);else if(s=(l=p.ownerDocument||document)&&l.defaultView||window,s.getSelection){s=s.getSelection();var N=p.textContent.length,A=Math.min(x.start,N);x=x.end===void 0?A:Math.min(x.end,N),!s.extend&&A>x&&(N=x,x=A,A=N),N=D1(p,A);var T=D1(p,x);N&&T&&(s.rangeCount!==1||s.anchorNode!==N.node||s.anchorOffset!==N.offset||s.focusNode!==T.node||s.focusOffset!==T.offset)&&(l=l.createRange(),l.setStart(N.node,N.offset),s.removeAllRanges(),A>x?(s.addRange(l),s.extend(T.node,T.offset)):(l.setEnd(T.node,T.offset),s.addRange(l)))}}for(l=[],s=p;s=s.parentNode;)s.nodeType===1&&l.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<l.length;p++)s=l[p],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var $T=u&&"documentMode"in document&&11>=document.documentMode,es=null,mp=null,Ro=null,gp=!1;function T1(s,l,p){var x=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;gp||es==null||es!==He(x)||(x=es,"selectionStart"in x&&hp(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Ro&&Mo(Ro,x)||(Ro=x,x=Xc(mp,"onSelect"),0<x.length&&(l=new sp("onSelect","select",null,l,p),s.push({event:l,listeners:x}),l.target=es)))}function Kc(s,l){var p={};return p[s.toLowerCase()]=l.toLowerCase(),p["Webkit"+s]="webkit"+l,p["Moz"+s]="moz"+l,p}var ts={animationend:Kc("Animation","AnimationEnd"),animationiteration:Kc("Animation","AnimationIteration"),animationstart:Kc("Animation","AnimationStart"),transitionend:Kc("Transition","TransitionEnd")},xp={},_1={};u&&(_1=document.createElement("div").style,"AnimationEvent"in window||(delete ts.animationend.animation,delete ts.animationiteration.animation,delete ts.animationstart.animation),"TransitionEvent"in window||delete ts.transitionend.transition);function Gc(s){if(xp[s])return xp[s];if(!ts[s])return s;var l=ts[s],p;for(p in l)if(l.hasOwnProperty(p)&&p in _1)return xp[s]=l[p];return s}var M1=Gc("animationend"),R1=Gc("animationiteration"),$1=Gc("animationstart"),z1=Gc("transitionend"),L1=new Map,B1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ja(s,l){L1.set(s,l),o(l,[s])}for(var vp=0;vp<B1.length;vp++){var yp=B1[vp],zT=yp.toLowerCase(),LT=yp[0].toUpperCase()+yp.slice(1);ja(zT,"on"+LT)}ja(M1,"onAnimationEnd"),ja(R1,"onAnimationIteration"),ja($1,"onAnimationStart"),ja("dblclick","onDoubleClick"),ja("focusin","onFocus"),ja("focusout","onBlur"),ja(z1,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BT=new Set("cancel close invalid load scroll toggle".split(" ").concat($o));function F1(s,l,p){var x=s.type||"unknown-event";s.currentTarget=p,zI(x,l,void 0,s),s.currentTarget=null}function U1(s,l){l=(l&4)!==0;for(var p=0;p<s.length;p++){var x=s[p],N=x.event;x=x.listeners;e:{var A=void 0;if(l)for(var T=x.length-1;0<=T;T--){var F=x[T],V=F.instance,te=F.currentTarget;if(F=F.listener,V!==A&&N.isPropagationStopped())break e;F1(N,F,te),A=V}else for(T=0;T<x.length;T++){if(F=x[T],V=F.instance,te=F.currentTarget,F=F.listener,V!==A&&N.isPropagationStopped())break e;F1(N,F,te),A=V}}}if(Ic)throw s=Xf,Ic=!1,Xf=null,s}function dt(s,l){var p=l[Ap];p===void 0&&(p=l[Ap]=new Set);var x=s+"__bubble";p.has(x)||(q1(l,s,2,!1),p.add(x))}function bp(s,l,p){var x=0;l&&(x|=4),q1(p,s,x,l)}var Yc="_reactListening"+Math.random().toString(36).slice(2);function zo(s){if(!s[Yc]){s[Yc]=!0,r.forEach(function(p){p!=="selectionchange"&&(BT.has(p)||bp(p,!1,s),bp(p,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[Yc]||(l[Yc]=!0,bp("selectionchange",!1,l))}}function q1(s,l,p,x){switch(f1(l)){case 1:var N=eT;break;case 4:N=tT;break;default:N=rp}p=N.bind(null,l,p,s),N=void 0,!Yf||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(N=!0),x?N!==void 0?s.addEventListener(l,p,{capture:!0,passive:N}):s.addEventListener(l,p,!0):N!==void 0?s.addEventListener(l,p,{passive:N}):s.addEventListener(l,p,!1)}function wp(s,l,p,x,N){var A=x;if((l&1)===0&&(l&2)===0&&x!==null)e:for(;;){if(x===null)return;var T=x.tag;if(T===3||T===4){var F=x.stateNode.containerInfo;if(F===N||F.nodeType===8&&F.parentNode===N)break;if(T===4)for(T=x.return;T!==null;){var V=T.tag;if((V===3||V===4)&&(V=T.stateNode.containerInfo,V===N||V.nodeType===8&&V.parentNode===N))return;T=T.return}for(;F!==null;){if(T=si(F),T===null)return;if(V=T.tag,V===5||V===6){x=A=T;continue e}F=F.parentNode}}x=x.return}Gb(function(){var te=A,le=_e(p),ce=[];e:{var se=L1.get(s);if(se!==void 0){var ge=sp,ye=s;switch(s){case"keypress":if(qc(p)===0)break e;case"keydown":case"keyup":ge=gT;break;case"focusin":ye="focus",ge=cp;break;case"focusout":ye="blur",ge=cp;break;case"beforeblur":case"afterblur":ge=cp;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=m1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=aT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=yT;break;case M1:case R1:case $1:ge=oT;break;case z1:ge=wT;break;case"scroll":ge=nT;break;case"wheel":ge=NT;break;case"copy":case"cut":case"paste":ge=cT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=x1}var be=(l&4)!==0,Nt=!be&&s==="scroll",Z=be?se!==null?se+"Capture":null:se;be=[];for(var K=te,J;K!==null;){J=K;var de=J.stateNode;if(J.tag===5&&de!==null&&(J=de,Z!==null&&(de=bo(K,Z),de!=null&&be.push(Lo(K,de,J)))),Nt)break;K=K.return}0<be.length&&(se=new ge(se,ye,null,p,le),ce.push({event:se,listeners:be}))}}if((l&7)===0){e:{if(se=s==="mouseover"||s==="pointerover",ge=s==="mouseout"||s==="pointerout",se&&p!==jr&&(ye=p.relatedTarget||p.fromElement)&&(si(ye)||ye[Br]))break e;if((ge||se)&&(se=le.window===le?le:(se=le.ownerDocument)?se.defaultView||se.parentWindow:window,ge?(ye=p.relatedTarget||p.toElement,ge=te,ye=ye?si(ye):null,ye!==null&&(Nt=ii(ye),ye!==Nt||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(ge=null,ye=te),ge!==ye)){if(be=m1,de="onMouseLeave",Z="onMouseEnter",K="mouse",(s==="pointerout"||s==="pointerover")&&(be=x1,de="onPointerLeave",Z="onPointerEnter",K="pointer"),Nt=ge==null?se:as(ge),J=ye==null?se:as(ye),se=new be(de,K+"leave",ge,p,le),se.target=Nt,se.relatedTarget=J,de=null,si(le)===te&&(be=new be(Z,K+"enter",ye,p,le),be.target=J,be.relatedTarget=Nt,de=be),Nt=de,ge&&ye)t:{for(be=ge,Z=ye,K=0,J=be;J;J=ns(J))K++;for(J=0,de=Z;de;de=ns(de))J++;for(;0<K-J;)be=ns(be),K--;for(;0<J-K;)Z=ns(Z),J--;for(;K--;){if(be===Z||Z!==null&&be===Z.alternate)break t;be=ns(be),Z=ns(Z)}be=null}else be=null;ge!==null&&W1(ce,se,ge,be,!1),ye!==null&&Nt!==null&&W1(ce,Nt,ye,be,!0)}}e:{if(se=te?as(te):window,ge=se.nodeName&&se.nodeName.toLowerCase(),ge==="select"||ge==="input"&&se.type==="file")var Se=DT;else if(N1(se))if(k1)Se=_T;else{Se=IT;var Ae=OT}else(ge=se.nodeName)&&ge.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(Se=TT);if(Se&&(Se=Se(s,te))){S1(ce,Se,p,le);break e}Ae&&Ae(s,se,te),s==="focusout"&&(Ae=se._wrapperState)&&Ae.controlled&&se.type==="number"&&ze(se,"number",se.value)}switch(Ae=te?as(te):window,s){case"focusin":(N1(Ae)||Ae.contentEditable==="true")&&(es=Ae,mp=te,Ro=null);break;case"focusout":Ro=mp=es=null;break;case"mousedown":gp=!0;break;case"contextmenu":case"mouseup":case"dragend":gp=!1,T1(ce,p,le);break;case"selectionchange":if($T)break;case"keydown":case"keyup":T1(ce,p,le)}var Pe;if(dp)e:{switch(s){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Ji?w1(s,p)&&(Me="onCompositionEnd"):s==="keydown"&&p.keyCode===229&&(Me="onCompositionStart");Me&&(v1&&p.locale!=="ko"&&(Ji||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Ji&&(Pe=p1()):(wa=le,ip="value"in wa?wa.value:wa.textContent,Ji=!0)),Ae=Xc(te,Me),0<Ae.length&&(Me=new g1(Me,s,null,p,le),ce.push({event:Me,listeners:Ae}),Pe?Me.data=Pe:(Pe=j1(p),Pe!==null&&(Me.data=Pe)))),(Pe=kT?CT(s,p):AT(s,p))&&(te=Xc(te,"onBeforeInput"),0<te.length&&(le=new g1("onBeforeInput","beforeinput",null,p,le),ce.push({event:le,listeners:te}),le.data=Pe))}U1(ce,l)})}function Lo(s,l,p){return{instance:s,listener:l,currentTarget:p}}function Xc(s,l){for(var p=l+"Capture",x=[];s!==null;){var N=s,A=N.stateNode;N.tag===5&&A!==null&&(N=A,A=bo(s,p),A!=null&&x.unshift(Lo(s,A,N)),A=bo(s,l),A!=null&&x.push(Lo(s,A,N))),s=s.return}return x}function ns(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function W1(s,l,p,x,N){for(var A=l._reactName,T=[];p!==null&&p!==x;){var F=p,V=F.alternate,te=F.stateNode;if(V!==null&&V===x)break;F.tag===5&&te!==null&&(F=te,N?(V=bo(p,A),V!=null&&T.unshift(Lo(p,V,F))):N||(V=bo(p,A),V!=null&&T.push(Lo(p,V,F)))),p=p.return}T.length!==0&&s.push({event:l,listeners:T})}var FT=/\r\n?/g,UT=/\u0000|\uFFFD/g;function H1(s){return(typeof s=="string"?s:""+s).replace(FT,`
`).replace(UT,"")}function Qc(s,l,p){if(l=H1(l),H1(s)!==l&&p)throw Error(n(425))}function Zc(){}var jp=null,Np=null;function Sp(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var kp=typeof setTimeout=="function"?setTimeout:void 0,qT=typeof clearTimeout=="function"?clearTimeout:void 0,V1=typeof Promise=="function"?Promise:void 0,WT=typeof queueMicrotask=="function"?queueMicrotask:typeof V1<"u"?function(s){return V1.resolve(null).then(s).catch(HT)}:kp;function HT(s){setTimeout(function(){throw s})}function Cp(s,l){var p=l,x=0;do{var N=p.nextSibling;if(s.removeChild(p),N&&N.nodeType===8)if(p=N.data,p==="/$"){if(x===0){s.removeChild(N),Eo(l);return}x--}else p!=="$"&&p!=="$?"&&p!=="$!"||x++;p=N}while(p);Eo(l)}function Na(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return s}function K1(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var p=s.data;if(p==="$"||p==="$!"||p==="$?"){if(l===0)return s;l--}else p==="/$"&&l++}s=s.previousSibling}return null}var rs=Math.random().toString(36).slice(2),Sr="__reactFiber$"+rs,Bo="__reactProps$"+rs,Br="__reactContainer$"+rs,Ap="__reactEvents$"+rs,VT="__reactListeners$"+rs,KT="__reactHandles$"+rs;function si(s){var l=s[Sr];if(l)return l;for(var p=s.parentNode;p;){if(l=p[Br]||p[Sr]){if(p=l.alternate,l.child!==null||p!==null&&p.child!==null)for(s=K1(s);s!==null;){if(p=s[Sr])return p;s=K1(s)}return l}s=p,p=s.parentNode}return null}function Fo(s){return s=s[Sr]||s[Br],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function as(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Jc(s){return s[Bo]||null}var Pp=[],is=-1;function Sa(s){return{current:s}}function ft(s){0>is||(s.current=Pp[is],Pp[is]=null,is--)}function ct(s,l){is++,Pp[is]=s.current,s.current=l}var ka={},Xt=Sa(ka),mn=Sa(!1),oi=ka;function ss(s,l){var p=s.type.contextTypes;if(!p)return ka;var x=s.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===l)return x.__reactInternalMemoizedMaskedChildContext;var N={},A;for(A in p)N[A]=l[A];return x&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=l,s.__reactInternalMemoizedMaskedChildContext=N),N}function gn(s){return s=s.childContextTypes,s!=null}function eu(){ft(mn),ft(Xt)}function G1(s,l,p){if(Xt.current!==ka)throw Error(n(168));ct(Xt,l),ct(mn,p)}function Y1(s,l,p){var x=s.stateNode;if(l=l.childContextTypes,typeof x.getChildContext!="function")return p;x=x.getChildContext();for(var N in x)if(!(N in l))throw Error(n(108,$e(s)||"Unknown",N));return M({},p,x)}function tu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ka,oi=Xt.current,ct(Xt,s),ct(mn,mn.current),!0}function X1(s,l,p){var x=s.stateNode;if(!x)throw Error(n(169));p?(s=Y1(s,l,oi),x.__reactInternalMemoizedMergedChildContext=s,ft(mn),ft(Xt),ct(Xt,s)):ft(mn),ct(mn,p)}var Fr=null,nu=!1,Ep=!1;function Q1(s){Fr===null?Fr=[s]:Fr.push(s)}function GT(s){nu=!0,Q1(s)}function Ca(){if(!Ep&&Fr!==null){Ep=!0;var s=0,l=nt;try{var p=Fr;for(nt=1;s<p.length;s++){var x=p[s];do x=x(!0);while(x!==null)}Fr=null,nu=!1}catch(N){throw Fr!==null&&(Fr=Fr.slice(s+1)),Jb(Qf,Ca),N}finally{nt=l,Ep=!1}}return null}var os=[],ls=0,ru=null,au=0,Ln=[],Bn=0,li=null,Ur=1,qr="";function ci(s,l){os[ls++]=au,os[ls++]=ru,ru=s,au=l}function Z1(s,l,p){Ln[Bn++]=Ur,Ln[Bn++]=qr,Ln[Bn++]=li,li=s;var x=Ur;s=qr;var N=32-nr(x)-1;x&=~(1<<N),p+=1;var A=32-nr(l)+N;if(30<A){var T=N-N%5;A=(x&(1<<T)-1).toString(32),x>>=T,N-=T,Ur=1<<32-nr(l)+N|p<<N|x,qr=A+s}else Ur=1<<A|p<<N|x,qr=s}function Dp(s){s.return!==null&&(ci(s,1),Z1(s,1,0))}function Op(s){for(;s===ru;)ru=os[--ls],os[ls]=null,au=os[--ls],os[ls]=null;for(;s===li;)li=Ln[--Bn],Ln[Bn]=null,qr=Ln[--Bn],Ln[Bn]=null,Ur=Ln[--Bn],Ln[Bn]=null}var Pn=null,En=null,ht=!1,ar=null;function J1(s,l){var p=Wn(5,null,null,0);p.elementType="DELETED",p.stateNode=l,p.return=s,l=s.deletions,l===null?(s.deletions=[p],s.flags|=16):l.push(p)}function ew(s,l){switch(s.tag){case 5:var p=s.type;return l=l.nodeType!==1||p.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(s.stateNode=l,Pn=s,En=Na(l.firstChild),!0):!1;case 6:return l=s.pendingProps===""||l.nodeType!==3?null:l,l!==null?(s.stateNode=l,Pn=s,En=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(p=li!==null?{id:Ur,overflow:qr}:null,s.memoizedState={dehydrated:l,treeContext:p,retryLane:1073741824},p=Wn(18,null,null,0),p.stateNode=l,p.return=s,s.child=p,Pn=s,En=null,!0):!1;default:return!1}}function Ip(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Tp(s){if(ht){var l=En;if(l){var p=l;if(!ew(s,l)){if(Ip(s))throw Error(n(418));l=Na(p.nextSibling);var x=Pn;l&&ew(s,l)?J1(x,p):(s.flags=s.flags&-4097|2,ht=!1,Pn=s)}}else{if(Ip(s))throw Error(n(418));s.flags=s.flags&-4097|2,ht=!1,Pn=s}}}function tw(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Pn=s}function iu(s){if(s!==Pn)return!1;if(!ht)return tw(s),ht=!0,!1;var l;if((l=s.tag!==3)&&!(l=s.tag!==5)&&(l=s.type,l=l!=="head"&&l!=="body"&&!Sp(s.type,s.memoizedProps)),l&&(l=En)){if(Ip(s))throw nw(),Error(n(418));for(;l;)J1(s,l),l=Na(l.nextSibling)}if(tw(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8){var p=s.data;if(p==="/$"){if(l===0){En=Na(s.nextSibling);break e}l--}else p!=="$"&&p!=="$!"&&p!=="$?"||l++}s=s.nextSibling}En=null}}else En=Pn?Na(s.stateNode.nextSibling):null;return!0}function nw(){for(var s=En;s;)s=Na(s.nextSibling)}function cs(){En=Pn=null,ht=!1}function _p(s){ar===null?ar=[s]:ar.push(s)}var YT=k.ReactCurrentBatchConfig;function ir(s,l){if(s&&s.defaultProps){l=M({},l),s=s.defaultProps;for(var p in s)l[p]===void 0&&(l[p]=s[p]);return l}return l}var su=Sa(null),ou=null,us=null,Mp=null;function Rp(){Mp=us=ou=null}function $p(s){var l=su.current;ft(su),s._currentValue=l}function zp(s,l,p){for(;s!==null;){var x=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,x!==null&&(x.childLanes|=l)):x!==null&&(x.childLanes&l)!==l&&(x.childLanes|=l),s===p)break;s=s.return}}function ds(s,l){ou=s,Mp=us=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&l)!==0&&(xn=!0),s.firstContext=null)}function Fn(s){var l=s._currentValue;if(Mp!==s)if(s={context:s,memoizedValue:l,next:null},us===null){if(ou===null)throw Error(n(308));us=s,ou.dependencies={lanes:0,firstContext:s}}else us=us.next=s;return l}var ui=null;function Lp(s){ui===null?ui=[s]:ui.push(s)}function rw(s,l,p,x){var N=l.interleaved;return N===null?(p.next=p,Lp(l)):(p.next=N.next,N.next=p),l.interleaved=p,Wr(s,x)}function Wr(s,l){s.lanes|=l;var p=s.alternate;for(p!==null&&(p.lanes|=l),p=s,s=s.return;s!==null;)s.childLanes|=l,p=s.alternate,p!==null&&(p.childLanes|=l),p=s,s=s.return;return p.tag===3?p.stateNode:null}var Aa=!1;function Bp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aw(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Hr(s,l){return{eventTime:s,lane:l,tag:0,payload:null,callback:null,next:null}}function Pa(s,l,p){var x=s.updateQueue;if(x===null)return null;if(x=x.shared,(Ve&2)!==0){var N=x.pending;return N===null?l.next=l:(l.next=N.next,N.next=l),x.pending=l,Wr(s,p)}return N=x.interleaved,N===null?(l.next=l,Lp(x)):(l.next=N.next,N.next=l),x.interleaved=l,Wr(s,p)}function lu(s,l,p){if(l=l.updateQueue,l!==null&&(l=l.shared,(p&4194240)!==0)){var x=l.lanes;x&=s.pendingLanes,p|=x,l.lanes=p,ep(s,p)}}function iw(s,l){var p=s.updateQueue,x=s.alternate;if(x!==null&&(x=x.updateQueue,p===x)){var N=null,A=null;if(p=p.firstBaseUpdate,p!==null){do{var T={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};A===null?N=A=T:A=A.next=T,p=p.next}while(p!==null);A===null?N=A=l:A=A.next=l}else N=A=l;p={baseState:x.baseState,firstBaseUpdate:N,lastBaseUpdate:A,shared:x.shared,effects:x.effects},s.updateQueue=p;return}s=p.lastBaseUpdate,s===null?p.firstBaseUpdate=l:s.next=l,p.lastBaseUpdate=l}function cu(s,l,p,x){var N=s.updateQueue;Aa=!1;var A=N.firstBaseUpdate,T=N.lastBaseUpdate,F=N.shared.pending;if(F!==null){N.shared.pending=null;var V=F,te=V.next;V.next=null,T===null?A=te:T.next=te,T=V;var le=s.alternate;le!==null&&(le=le.updateQueue,F=le.lastBaseUpdate,F!==T&&(F===null?le.firstBaseUpdate=te:F.next=te,le.lastBaseUpdate=V))}if(A!==null){var ce=N.baseState;T=0,le=te=V=null,F=A;do{var se=F.lane,ge=F.eventTime;if((x&se)===se){le!==null&&(le=le.next={eventTime:ge,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var ye=s,be=F;switch(se=l,ge=p,be.tag){case 1:if(ye=be.payload,typeof ye=="function"){ce=ye.call(ge,ce,se);break e}ce=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=be.payload,se=typeof ye=="function"?ye.call(ge,ce,se):ye,se==null)break e;ce=M({},ce,se);break e;case 2:Aa=!0}}F.callback!==null&&F.lane!==0&&(s.flags|=64,se=N.effects,se===null?N.effects=[F]:se.push(F))}else ge={eventTime:ge,lane:se,tag:F.tag,payload:F.payload,callback:F.callback,next:null},le===null?(te=le=ge,V=ce):le=le.next=ge,T|=se;if(F=F.next,F===null){if(F=N.shared.pending,F===null)break;se=F,F=se.next,se.next=null,N.lastBaseUpdate=se,N.shared.pending=null}}while(!0);if(le===null&&(V=ce),N.baseState=V,N.firstBaseUpdate=te,N.lastBaseUpdate=le,l=N.shared.interleaved,l!==null){N=l;do T|=N.lane,N=N.next;while(N!==l)}else A===null&&(N.shared.lanes=0);pi|=T,s.lanes=T,s.memoizedState=ce}}function sw(s,l,p){if(s=l.effects,l.effects=null,s!==null)for(l=0;l<s.length;l++){var x=s[l],N=x.callback;if(N!==null){if(x.callback=null,x=p,typeof N!="function")throw Error(n(191,N));N.call(x)}}}var ow=new e.Component().refs;function Fp(s,l,p,x){l=s.memoizedState,p=p(x,l),p=p==null?l:M({},l,p),s.memoizedState=p,s.lanes===0&&(s.updateQueue.baseState=p)}var uu={isMounted:function(s){return(s=s._reactInternals)?ii(s)===s:!1},enqueueSetState:function(s,l,p){s=s._reactInternals;var x=un(),N=Ia(s),A=Hr(x,N);A.payload=l,p!=null&&(A.callback=p),l=Pa(s,A,N),l!==null&&(lr(l,s,N,x),lu(l,s,N))},enqueueReplaceState:function(s,l,p){s=s._reactInternals;var x=un(),N=Ia(s),A=Hr(x,N);A.tag=1,A.payload=l,p!=null&&(A.callback=p),l=Pa(s,A,N),l!==null&&(lr(l,s,N,x),lu(l,s,N))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var p=un(),x=Ia(s),N=Hr(p,x);N.tag=2,l!=null&&(N.callback=l),l=Pa(s,N,x),l!==null&&(lr(l,s,x,p),lu(l,s,x))}};function lw(s,l,p,x,N,A,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(x,A,T):l.prototype&&l.prototype.isPureReactComponent?!Mo(p,x)||!Mo(N,A):!0}function cw(s,l,p){var x=!1,N=ka,A=l.contextType;return typeof A=="object"&&A!==null?A=Fn(A):(N=gn(l)?oi:Xt.current,x=l.contextTypes,A=(x=x!=null)?ss(s,N):ka),l=new l(p,A),s.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=uu,s.stateNode=l,l._reactInternals=s,x&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=N,s.__reactInternalMemoizedMaskedChildContext=A),l}function uw(s,l,p,x){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(p,x),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(p,x),l.state!==s&&uu.enqueueReplaceState(l,l.state,null)}function Up(s,l,p,x){var N=s.stateNode;N.props=p,N.state=s.memoizedState,N.refs=ow,Bp(s);var A=l.contextType;typeof A=="object"&&A!==null?N.context=Fn(A):(A=gn(l)?oi:Xt.current,N.context=ss(s,A)),N.state=s.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(Fp(s,l,A,p),N.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(l=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),l!==N.state&&uu.enqueueReplaceState(N,N.state,null),cu(s,p,N,x),N.state=s.memoizedState),typeof N.componentDidMount=="function"&&(s.flags|=4194308)}function Uo(s,l,p){if(s=p.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(n(309));var x=p.stateNode}if(!x)throw Error(n(147,s));var N=x,A=""+s;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===A?l.ref:(l=function(T){var F=N.refs;F===ow&&(F=N.refs={}),T===null?delete F[A]:F[A]=T},l._stringRef=A,l)}if(typeof s!="string")throw Error(n(284));if(!p._owner)throw Error(n(290,s))}return s}function du(s,l){throw s=Object.prototype.toString.call(l),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s))}function dw(s){var l=s._init;return l(s._payload)}function fw(s){function l(Z,K){if(s){var J=Z.deletions;J===null?(Z.deletions=[K],Z.flags|=16):J.push(K)}}function p(Z,K){if(!s)return null;for(;K!==null;)l(Z,K),K=K.sibling;return null}function x(Z,K){for(Z=new Map;K!==null;)K.key!==null?Z.set(K.key,K):Z.set(K.index,K),K=K.sibling;return Z}function N(Z,K){return Z=_a(Z,K),Z.index=0,Z.sibling=null,Z}function A(Z,K,J){return Z.index=J,s?(J=Z.alternate,J!==null?(J=J.index,J<K?(Z.flags|=2,K):J):(Z.flags|=2,K)):(Z.flags|=1048576,K)}function T(Z){return s&&Z.alternate===null&&(Z.flags|=2),Z}function F(Z,K,J,de){return K===null||K.tag!==6?(K=kh(J,Z.mode,de),K.return=Z,K):(K=N(K,J),K.return=Z,K)}function V(Z,K,J,de){var Se=J.type;return Se===D?le(Z,K,J.props.children,de,J.key):K!==null&&(K.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===U&&dw(Se)===K.type)?(de=N(K,J.props),de.ref=Uo(Z,K,J),de.return=Z,de):(de=Du(J.type,J.key,J.props,null,Z.mode,de),de.ref=Uo(Z,K,J),de.return=Z,de)}function te(Z,K,J,de){return K===null||K.tag!==4||K.stateNode.containerInfo!==J.containerInfo||K.stateNode.implementation!==J.implementation?(K=Ch(J,Z.mode,de),K.return=Z,K):(K=N(K,J.children||[]),K.return=Z,K)}function le(Z,K,J,de,Se){return K===null||K.tag!==7?(K=xi(J,Z.mode,de,Se),K.return=Z,K):(K=N(K,J),K.return=Z,K)}function ce(Z,K,J){if(typeof K=="string"&&K!==""||typeof K=="number")return K=kh(""+K,Z.mode,J),K.return=Z,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case C:return J=Du(K.type,K.key,K.props,null,Z.mode,J),J.ref=Uo(Z,null,K),J.return=Z,J;case E:return K=Ch(K,Z.mode,J),K.return=Z,K;case U:var de=K._init;return ce(Z,de(K._payload),J)}if(qe(K)||Y(K))return K=xi(K,Z.mode,J,null),K.return=Z,K;du(Z,K)}return null}function se(Z,K,J,de){var Se=K!==null?K.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Se!==null?null:F(Z,K,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case C:return J.key===Se?V(Z,K,J,de):null;case E:return J.key===Se?te(Z,K,J,de):null;case U:return Se=J._init,se(Z,K,Se(J._payload),de)}if(qe(J)||Y(J))return Se!==null?null:le(Z,K,J,de,null);du(Z,J)}return null}function ge(Z,K,J,de,Se){if(typeof de=="string"&&de!==""||typeof de=="number")return Z=Z.get(J)||null,F(K,Z,""+de,Se);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case C:return Z=Z.get(de.key===null?J:de.key)||null,V(K,Z,de,Se);case E:return Z=Z.get(de.key===null?J:de.key)||null,te(K,Z,de,Se);case U:var Ae=de._init;return ge(Z,K,J,Ae(de._payload),Se)}if(qe(de)||Y(de))return Z=Z.get(J)||null,le(K,Z,de,Se,null);du(K,de)}return null}function ye(Z,K,J,de){for(var Se=null,Ae=null,Pe=K,Me=K=0,Lt=null;Pe!==null&&Me<J.length;Me++){Pe.index>Me?(Lt=Pe,Pe=null):Lt=Pe.sibling;var Ye=se(Z,Pe,J[Me],de);if(Ye===null){Pe===null&&(Pe=Lt);break}s&&Pe&&Ye.alternate===null&&l(Z,Pe),K=A(Ye,K,Me),Ae===null?Se=Ye:Ae.sibling=Ye,Ae=Ye,Pe=Lt}if(Me===J.length)return p(Z,Pe),ht&&ci(Z,Me),Se;if(Pe===null){for(;Me<J.length;Me++)Pe=ce(Z,J[Me],de),Pe!==null&&(K=A(Pe,K,Me),Ae===null?Se=Pe:Ae.sibling=Pe,Ae=Pe);return ht&&ci(Z,Me),Se}for(Pe=x(Z,Pe);Me<J.length;Me++)Lt=ge(Pe,Z,Me,J[Me],de),Lt!==null&&(s&&Lt.alternate!==null&&Pe.delete(Lt.key===null?Me:Lt.key),K=A(Lt,K,Me),Ae===null?Se=Lt:Ae.sibling=Lt,Ae=Lt);return s&&Pe.forEach(function(Ma){return l(Z,Ma)}),ht&&ci(Z,Me),Se}function be(Z,K,J,de){var Se=Y(J);if(typeof Se!="function")throw Error(n(150));if(J=Se.call(J),J==null)throw Error(n(151));for(var Ae=Se=null,Pe=K,Me=K=0,Lt=null,Ye=J.next();Pe!==null&&!Ye.done;Me++,Ye=J.next()){Pe.index>Me?(Lt=Pe,Pe=null):Lt=Pe.sibling;var Ma=se(Z,Pe,Ye.value,de);if(Ma===null){Pe===null&&(Pe=Lt);break}s&&Pe&&Ma.alternate===null&&l(Z,Pe),K=A(Ma,K,Me),Ae===null?Se=Ma:Ae.sibling=Ma,Ae=Ma,Pe=Lt}if(Ye.done)return p(Z,Pe),ht&&ci(Z,Me),Se;if(Pe===null){for(;!Ye.done;Me++,Ye=J.next())Ye=ce(Z,Ye.value,de),Ye!==null&&(K=A(Ye,K,Me),Ae===null?Se=Ye:Ae.sibling=Ye,Ae=Ye);return ht&&ci(Z,Me),Se}for(Pe=x(Z,Pe);!Ye.done;Me++,Ye=J.next())Ye=ge(Pe,Z,Me,Ye.value,de),Ye!==null&&(s&&Ye.alternate!==null&&Pe.delete(Ye.key===null?Me:Ye.key),K=A(Ye,K,Me),Ae===null?Se=Ye:Ae.sibling=Ye,Ae=Ye);return s&&Pe.forEach(function(P5){return l(Z,P5)}),ht&&ci(Z,Me),Se}function Nt(Z,K,J,de){if(typeof J=="object"&&J!==null&&J.type===D&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case C:e:{for(var Se=J.key,Ae=K;Ae!==null;){if(Ae.key===Se){if(Se=J.type,Se===D){if(Ae.tag===7){p(Z,Ae.sibling),K=N(Ae,J.props.children),K.return=Z,Z=K;break e}}else if(Ae.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===U&&dw(Se)===Ae.type){p(Z,Ae.sibling),K=N(Ae,J.props),K.ref=Uo(Z,Ae,J),K.return=Z,Z=K;break e}p(Z,Ae);break}else l(Z,Ae);Ae=Ae.sibling}J.type===D?(K=xi(J.props.children,Z.mode,de,J.key),K.return=Z,Z=K):(de=Du(J.type,J.key,J.props,null,Z.mode,de),de.ref=Uo(Z,K,J),de.return=Z,Z=de)}return T(Z);case E:e:{for(Ae=J.key;K!==null;){if(K.key===Ae)if(K.tag===4&&K.stateNode.containerInfo===J.containerInfo&&K.stateNode.implementation===J.implementation){p(Z,K.sibling),K=N(K,J.children||[]),K.return=Z,Z=K;break e}else{p(Z,K);break}else l(Z,K);K=K.sibling}K=Ch(J,Z.mode,de),K.return=Z,Z=K}return T(Z);case U:return Ae=J._init,Nt(Z,K,Ae(J._payload),de)}if(qe(J))return ye(Z,K,J,de);if(Y(J))return be(Z,K,J,de);du(Z,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,K!==null&&K.tag===6?(p(Z,K.sibling),K=N(K,J),K.return=Z,Z=K):(p(Z,K),K=kh(J,Z.mode,de),K.return=Z,Z=K),T(Z)):p(Z,K)}return Nt}var fs=fw(!0),pw=fw(!1),qo={},kr=Sa(qo),Wo=Sa(qo),Ho=Sa(qo);function di(s){if(s===qo)throw Error(n(174));return s}function qp(s,l){switch(ct(Ho,l),ct(Wo,s),ct(kr,qo),s=l.nodeType,s){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Wt(null,"");break;default:s=s===8?l.parentNode:l,l=s.namespaceURI||null,s=s.tagName,l=Wt(l,s)}ft(kr),ct(kr,l)}function ps(){ft(kr),ft(Wo),ft(Ho)}function hw(s){di(Ho.current);var l=di(kr.current),p=Wt(l,s.type);l!==p&&(ct(Wo,s),ct(kr,p))}function Wp(s){Wo.current===s&&(ft(kr),ft(Wo))}var xt=Sa(0);function fu(s){for(var l=s;l!==null;){if(l.tag===13){var p=l.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Hp=[];function Vp(){for(var s=0;s<Hp.length;s++)Hp[s]._workInProgressVersionPrimary=null;Hp.length=0}var pu=k.ReactCurrentDispatcher,Kp=k.ReactCurrentBatchConfig,fi=0,vt=null,Dt=null,$t=null,hu=!1,Vo=!1,Ko=0,XT=0;function Qt(){throw Error(n(321))}function Gp(s,l){if(l===null)return!1;for(var p=0;p<l.length&&p<s.length;p++)if(!rr(s[p],l[p]))return!1;return!0}function Yp(s,l,p,x,N,A){if(fi=A,vt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,pu.current=s===null||s.memoizedState===null?e5:t5,s=p(x,N),Vo){A=0;do{if(Vo=!1,Ko=0,25<=A)throw Error(n(301));A+=1,$t=Dt=null,l.updateQueue=null,pu.current=n5,s=p(x,N)}while(Vo)}if(pu.current=xu,l=Dt!==null&&Dt.next!==null,fi=0,$t=Dt=vt=null,hu=!1,l)throw Error(n(300));return s}function Xp(){var s=Ko!==0;return Ko=0,s}function Cr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?vt.memoizedState=$t=s:$t=$t.next=s,$t}function Un(){if(Dt===null){var s=vt.alternate;s=s!==null?s.memoizedState:null}else s=Dt.next;var l=$t===null?vt.memoizedState:$t.next;if(l!==null)$t=l,Dt=s;else{if(s===null)throw Error(n(310));Dt=s,s={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},$t===null?vt.memoizedState=$t=s:$t=$t.next=s}return $t}function Go(s,l){return typeof l=="function"?l(s):l}function Qp(s){var l=Un(),p=l.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=s;var x=Dt,N=x.baseQueue,A=p.pending;if(A!==null){if(N!==null){var T=N.next;N.next=A.next,A.next=T}x.baseQueue=N=A,p.pending=null}if(N!==null){A=N.next,x=x.baseState;var F=T=null,V=null,te=A;do{var le=te.lane;if((fi&le)===le)V!==null&&(V=V.next={lane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),x=te.hasEagerState?te.eagerState:s(x,te.action);else{var ce={lane:le,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null};V===null?(F=V=ce,T=x):V=V.next=ce,vt.lanes|=le,pi|=le}te=te.next}while(te!==null&&te!==A);V===null?T=x:V.next=F,rr(x,l.memoizedState)||(xn=!0),l.memoizedState=x,l.baseState=T,l.baseQueue=V,p.lastRenderedState=x}if(s=p.interleaved,s!==null){N=s;do A=N.lane,vt.lanes|=A,pi|=A,N=N.next;while(N!==s)}else N===null&&(p.lanes=0);return[l.memoizedState,p.dispatch]}function Zp(s){var l=Un(),p=l.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=s;var x=p.dispatch,N=p.pending,A=l.memoizedState;if(N!==null){p.pending=null;var T=N=N.next;do A=s(A,T.action),T=T.next;while(T!==N);rr(A,l.memoizedState)||(xn=!0),l.memoizedState=A,l.baseQueue===null&&(l.baseState=A),p.lastRenderedState=A}return[A,x]}function mw(){}function gw(s,l){var p=vt,x=Un(),N=l(),A=!rr(x.memoizedState,N);if(A&&(x.memoizedState=N,xn=!0),x=x.queue,Jp(yw.bind(null,p,x,s),[s]),x.getSnapshot!==l||A||$t!==null&&$t.memoizedState.tag&1){if(p.flags|=2048,Yo(9,vw.bind(null,p,x,N,l),void 0,null),zt===null)throw Error(n(349));(fi&30)!==0||xw(p,l,N)}return N}function xw(s,l,p){s.flags|=16384,s={getSnapshot:l,value:p},l=vt.updateQueue,l===null?(l={lastEffect:null,stores:null},vt.updateQueue=l,l.stores=[s]):(p=l.stores,p===null?l.stores=[s]:p.push(s))}function vw(s,l,p,x){l.value=p,l.getSnapshot=x,bw(l)&&ww(s)}function yw(s,l,p){return p(function(){bw(l)&&ww(s)})}function bw(s){var l=s.getSnapshot;s=s.value;try{var p=l();return!rr(s,p)}catch{return!0}}function ww(s){var l=Wr(s,1);l!==null&&lr(l,s,1,-1)}function jw(s){var l=Cr();return typeof s=="function"&&(s=s()),l.memoizedState=l.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:s},l.queue=s,s=s.dispatch=JT.bind(null,vt,s),[l.memoizedState,s]}function Yo(s,l,p,x){return s={tag:s,create:l,destroy:p,deps:x,next:null},l=vt.updateQueue,l===null?(l={lastEffect:null,stores:null},vt.updateQueue=l,l.lastEffect=s.next=s):(p=l.lastEffect,p===null?l.lastEffect=s.next=s:(x=p.next,p.next=s,s.next=x,l.lastEffect=s)),s}function Nw(){return Un().memoizedState}function mu(s,l,p,x){var N=Cr();vt.flags|=s,N.memoizedState=Yo(1|l,p,void 0,x===void 0?null:x)}function gu(s,l,p,x){var N=Un();x=x===void 0?null:x;var A=void 0;if(Dt!==null){var T=Dt.memoizedState;if(A=T.destroy,x!==null&&Gp(x,T.deps)){N.memoizedState=Yo(l,p,A,x);return}}vt.flags|=s,N.memoizedState=Yo(1|l,p,A,x)}function Sw(s,l){return mu(8390656,8,s,l)}function Jp(s,l){return gu(2048,8,s,l)}function kw(s,l){return gu(4,2,s,l)}function Cw(s,l){return gu(4,4,s,l)}function Aw(s,l){if(typeof l=="function")return s=s(),l(s),function(){l(null)};if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function Pw(s,l,p){return p=p!=null?p.concat([s]):null,gu(4,4,Aw.bind(null,l,s),p)}function eh(){}function Ew(s,l){var p=Un();l=l===void 0?null:l;var x=p.memoizedState;return x!==null&&l!==null&&Gp(l,x[1])?x[0]:(p.memoizedState=[s,l],s)}function Dw(s,l){var p=Un();l=l===void 0?null:l;var x=p.memoizedState;return x!==null&&l!==null&&Gp(l,x[1])?x[0]:(s=s(),p.memoizedState=[s,l],s)}function Ow(s,l,p){return(fi&21)===0?(s.baseState&&(s.baseState=!1,xn=!0),s.memoizedState=p):(rr(p,l)||(p=r1(),vt.lanes|=p,pi|=p,s.baseState=!0),l)}function QT(s,l){var p=nt;nt=p!==0&&4>p?p:4,s(!0);var x=Kp.transition;Kp.transition={};try{s(!1),l()}finally{nt=p,Kp.transition=x}}function Iw(){return Un().memoizedState}function ZT(s,l,p){var x=Ia(s);if(p={lane:x,action:p,hasEagerState:!1,eagerState:null,next:null},Tw(s))_w(l,p);else if(p=rw(s,l,p,x),p!==null){var N=un();lr(p,s,x,N),Mw(p,l,x)}}function JT(s,l,p){var x=Ia(s),N={lane:x,action:p,hasEagerState:!1,eagerState:null,next:null};if(Tw(s))_w(l,N);else{var A=s.alternate;if(s.lanes===0&&(A===null||A.lanes===0)&&(A=l.lastRenderedReducer,A!==null))try{var T=l.lastRenderedState,F=A(T,p);if(N.hasEagerState=!0,N.eagerState=F,rr(F,T)){var V=l.interleaved;V===null?(N.next=N,Lp(l)):(N.next=V.next,V.next=N),l.interleaved=N;return}}catch{}finally{}p=rw(s,l,N,x),p!==null&&(N=un(),lr(p,s,x,N),Mw(p,l,x))}}function Tw(s){var l=s.alternate;return s===vt||l!==null&&l===vt}function _w(s,l){Vo=hu=!0;var p=s.pending;p===null?l.next=l:(l.next=p.next,p.next=l),s.pending=l}function Mw(s,l,p){if((p&4194240)!==0){var x=l.lanes;x&=s.pendingLanes,p|=x,l.lanes=p,ep(s,p)}}var xu={readContext:Fn,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},e5={readContext:Fn,useCallback:function(s,l){return Cr().memoizedState=[s,l===void 0?null:l],s},useContext:Fn,useEffect:Sw,useImperativeHandle:function(s,l,p){return p=p!=null?p.concat([s]):null,mu(4194308,4,Aw.bind(null,l,s),p)},useLayoutEffect:function(s,l){return mu(4194308,4,s,l)},useInsertionEffect:function(s,l){return mu(4,2,s,l)},useMemo:function(s,l){var p=Cr();return l=l===void 0?null:l,s=s(),p.memoizedState=[s,l],s},useReducer:function(s,l,p){var x=Cr();return l=p!==void 0?p(l):l,x.memoizedState=x.baseState=l,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:l},x.queue=s,s=s.dispatch=ZT.bind(null,vt,s),[x.memoizedState,s]},useRef:function(s){var l=Cr();return s={current:s},l.memoizedState=s},useState:jw,useDebugValue:eh,useDeferredValue:function(s){return Cr().memoizedState=s},useTransition:function(){var s=jw(!1),l=s[0];return s=QT.bind(null,s[1]),Cr().memoizedState=s,[l,s]},useMutableSource:function(){},useSyncExternalStore:function(s,l,p){var x=vt,N=Cr();if(ht){if(p===void 0)throw Error(n(407));p=p()}else{if(p=l(),zt===null)throw Error(n(349));(fi&30)!==0||xw(x,l,p)}N.memoizedState=p;var A={value:p,getSnapshot:l};return N.queue=A,Sw(yw.bind(null,x,A,s),[s]),x.flags|=2048,Yo(9,vw.bind(null,x,A,p,l),void 0,null),p},useId:function(){var s=Cr(),l=zt.identifierPrefix;if(ht){var p=qr,x=Ur;p=(x&~(1<<32-nr(x)-1)).toString(32)+p,l=":"+l+"R"+p,p=Ko++,0<p&&(l+="H"+p.toString(32)),l+=":"}else p=XT++,l=":"+l+"r"+p.toString(32)+":";return s.memoizedState=l},unstable_isNewReconciler:!1},t5={readContext:Fn,useCallback:Ew,useContext:Fn,useEffect:Jp,useImperativeHandle:Pw,useInsertionEffect:kw,useLayoutEffect:Cw,useMemo:Dw,useReducer:Qp,useRef:Nw,useState:function(){return Qp(Go)},useDebugValue:eh,useDeferredValue:function(s){var l=Un();return Ow(l,Dt.memoizedState,s)},useTransition:function(){var s=Qp(Go)[0],l=Un().memoizedState;return[s,l]},useMutableSource:mw,useSyncExternalStore:gw,useId:Iw,unstable_isNewReconciler:!1},n5={readContext:Fn,useCallback:Ew,useContext:Fn,useEffect:Jp,useImperativeHandle:Pw,useInsertionEffect:kw,useLayoutEffect:Cw,useMemo:Dw,useReducer:Zp,useRef:Nw,useState:function(){return Zp(Go)},useDebugValue:eh,useDeferredValue:function(s){var l=Un();return Dt===null?l.memoizedState=s:Ow(l,Dt.memoizedState,s)},useTransition:function(){var s=Zp(Go)[0],l=Un().memoizedState;return[s,l]},useMutableSource:mw,useSyncExternalStore:gw,useId:Iw,unstable_isNewReconciler:!1};function hs(s,l){try{var p="",x=l;do p+=we(x),x=x.return;while(x);var N=p}catch(A){N=`
Error generating stack: `+A.message+`
`+A.stack}return{value:s,source:l,stack:N,digest:null}}function th(s,l,p){return{value:s,source:null,stack:p??null,digest:l??null}}function nh(s,l){try{console.error(l.value)}catch(p){setTimeout(function(){throw p})}}var r5=typeof WeakMap=="function"?WeakMap:Map;function Rw(s,l,p){p=Hr(-1,p),p.tag=3,p.payload={element:null};var x=l.value;return p.callback=function(){Su||(Su=!0,xh=x),nh(s,l)},p}function $w(s,l,p){p=Hr(-1,p),p.tag=3;var x=s.type.getDerivedStateFromError;if(typeof x=="function"){var N=l.value;p.payload=function(){return x(N)},p.callback=function(){nh(s,l)}}var A=s.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(p.callback=function(){nh(s,l),typeof x!="function"&&(Da===null?Da=new Set([this]):Da.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})}),p}function zw(s,l,p){var x=s.pingCache;if(x===null){x=s.pingCache=new r5;var N=new Set;x.set(l,N)}else N=x.get(l),N===void 0&&(N=new Set,x.set(l,N));N.has(p)||(N.add(p),s=x5.bind(null,s,l,p),l.then(s,s))}function Lw(s){do{var l;if((l=s.tag===13)&&(l=s.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return s;s=s.return}while(s!==null);return null}function Bw(s,l,p,x,N){return(s.mode&1)===0?(s===l?s.flags|=65536:(s.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(l=Hr(-1,1),l.tag=2,Pa(p,l,1))),p.lanes|=1),s):(s.flags|=65536,s.lanes=N,s)}var a5=k.ReactCurrentOwner,xn=!1;function cn(s,l,p,x){l.child=s===null?pw(l,null,p,x):fs(l,s.child,p,x)}function Fw(s,l,p,x,N){p=p.render;var A=l.ref;return ds(l,N),x=Yp(s,l,p,x,A,N),p=Xp(),s!==null&&!xn?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~N,Vr(s,l,N)):(ht&&p&&Dp(l),l.flags|=1,cn(s,l,x,N),l.child)}function Uw(s,l,p,x,N){if(s===null){var A=p.type;return typeof A=="function"&&!Sh(A)&&A.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(l.tag=15,l.type=A,qw(s,l,A,x,N)):(s=Du(p.type,null,x,l,l.mode,N),s.ref=l.ref,s.return=l,l.child=s)}if(A=s.child,(s.lanes&N)===0){var T=A.memoizedProps;if(p=p.compare,p=p!==null?p:Mo,p(T,x)&&s.ref===l.ref)return Vr(s,l,N)}return l.flags|=1,s=_a(A,x),s.ref=l.ref,s.return=l,l.child=s}function qw(s,l,p,x,N){if(s!==null){var A=s.memoizedProps;if(Mo(A,x)&&s.ref===l.ref)if(xn=!1,l.pendingProps=x=A,(s.lanes&N)!==0)(s.flags&131072)!==0&&(xn=!0);else return l.lanes=s.lanes,Vr(s,l,N)}return rh(s,l,p,x,N)}function Ww(s,l,p){var x=l.pendingProps,N=x.children,A=s!==null?s.memoizedState:null;if(x.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(gs,Dn),Dn|=p;else{if((p&1073741824)===0)return s=A!==null?A.baseLanes|p:p,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:s,cachePool:null,transitions:null},l.updateQueue=null,ct(gs,Dn),Dn|=s,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=A!==null?A.baseLanes:p,ct(gs,Dn),Dn|=x}else A!==null?(x=A.baseLanes|p,l.memoizedState=null):x=p,ct(gs,Dn),Dn|=x;return cn(s,l,N,p),l.child}function Hw(s,l){var p=l.ref;(s===null&&p!==null||s!==null&&s.ref!==p)&&(l.flags|=512,l.flags|=2097152)}function rh(s,l,p,x,N){var A=gn(p)?oi:Xt.current;return A=ss(l,A),ds(l,N),p=Yp(s,l,p,x,A,N),x=Xp(),s!==null&&!xn?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~N,Vr(s,l,N)):(ht&&x&&Dp(l),l.flags|=1,cn(s,l,p,N),l.child)}function Vw(s,l,p,x,N){if(gn(p)){var A=!0;tu(l)}else A=!1;if(ds(l,N),l.stateNode===null)yu(s,l),cw(l,p,x),Up(l,p,x,N),x=!0;else if(s===null){var T=l.stateNode,F=l.memoizedProps;T.props=F;var V=T.context,te=p.contextType;typeof te=="object"&&te!==null?te=Fn(te):(te=gn(p)?oi:Xt.current,te=ss(l,te));var le=p.getDerivedStateFromProps,ce=typeof le=="function"||typeof T.getSnapshotBeforeUpdate=="function";ce||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(F!==x||V!==te)&&uw(l,T,x,te),Aa=!1;var se=l.memoizedState;T.state=se,cu(l,x,T,N),V=l.memoizedState,F!==x||se!==V||mn.current||Aa?(typeof le=="function"&&(Fp(l,p,le,x),V=l.memoizedState),(F=Aa||lw(l,p,F,x,se,V,te))?(ce||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(l.flags|=4194308)):(typeof T.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=x,l.memoizedState=V),T.props=x,T.state=V,T.context=te,x=F):(typeof T.componentDidMount=="function"&&(l.flags|=4194308),x=!1)}else{T=l.stateNode,aw(s,l),F=l.memoizedProps,te=l.type===l.elementType?F:ir(l.type,F),T.props=te,ce=l.pendingProps,se=T.context,V=p.contextType,typeof V=="object"&&V!==null?V=Fn(V):(V=gn(p)?oi:Xt.current,V=ss(l,V));var ge=p.getDerivedStateFromProps;(le=typeof ge=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(F!==ce||se!==V)&&uw(l,T,x,V),Aa=!1,se=l.memoizedState,T.state=se,cu(l,x,T,N);var ye=l.memoizedState;F!==ce||se!==ye||mn.current||Aa?(typeof ge=="function"&&(Fp(l,p,ge,x),ye=l.memoizedState),(te=Aa||lw(l,p,te,x,se,ye,V)||!1)?(le||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(x,ye,V),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(x,ye,V)),typeof T.componentDidUpdate=="function"&&(l.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof T.componentDidUpdate!="function"||F===s.memoizedProps&&se===s.memoizedState||(l.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||F===s.memoizedProps&&se===s.memoizedState||(l.flags|=1024),l.memoizedProps=x,l.memoizedState=ye),T.props=x,T.state=ye,T.context=V,x=te):(typeof T.componentDidUpdate!="function"||F===s.memoizedProps&&se===s.memoizedState||(l.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||F===s.memoizedProps&&se===s.memoizedState||(l.flags|=1024),x=!1)}return ah(s,l,p,x,A,N)}function ah(s,l,p,x,N,A){Hw(s,l);var T=(l.flags&128)!==0;if(!x&&!T)return N&&X1(l,p,!1),Vr(s,l,A);x=l.stateNode,a5.current=l;var F=T&&typeof p.getDerivedStateFromError!="function"?null:x.render();return l.flags|=1,s!==null&&T?(l.child=fs(l,s.child,null,A),l.child=fs(l,null,F,A)):cn(s,l,F,A),l.memoizedState=x.state,N&&X1(l,p,!0),l.child}function Kw(s){var l=s.stateNode;l.pendingContext?G1(s,l.pendingContext,l.pendingContext!==l.context):l.context&&G1(s,l.context,!1),qp(s,l.containerInfo)}function Gw(s,l,p,x,N){return cs(),_p(N),l.flags|=256,cn(s,l,p,x),l.child}var ih={dehydrated:null,treeContext:null,retryLane:0};function sh(s){return{baseLanes:s,cachePool:null,transitions:null}}function Yw(s,l,p){var x=l.pendingProps,N=xt.current,A=!1,T=(l.flags&128)!==0,F;if((F=T)||(F=s!==null&&s.memoizedState===null?!1:(N&2)!==0),F?(A=!0,l.flags&=-129):(s===null||s.memoizedState!==null)&&(N|=1),ct(xt,N&1),s===null)return Tp(l),s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((l.mode&1)===0?l.lanes=1:s.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(T=x.children,s=x.fallback,A?(x=l.mode,A=l.child,T={mode:"hidden",children:T},(x&1)===0&&A!==null?(A.childLanes=0,A.pendingProps=T):A=Ou(T,x,0,null),s=xi(s,x,p,null),A.return=l,s.return=l,A.sibling=s,l.child=A,l.child.memoizedState=sh(p),l.memoizedState=ih,s):oh(l,T));if(N=s.memoizedState,N!==null&&(F=N.dehydrated,F!==null))return i5(s,l,T,x,F,N,p);if(A){A=x.fallback,T=l.mode,N=s.child,F=N.sibling;var V={mode:"hidden",children:x.children};return(T&1)===0&&l.child!==N?(x=l.child,x.childLanes=0,x.pendingProps=V,l.deletions=null):(x=_a(N,V),x.subtreeFlags=N.subtreeFlags&14680064),F!==null?A=_a(F,A):(A=xi(A,T,p,null),A.flags|=2),A.return=l,x.return=l,x.sibling=A,l.child=x,x=A,A=l.child,T=s.child.memoizedState,T=T===null?sh(p):{baseLanes:T.baseLanes|p,cachePool:null,transitions:T.transitions},A.memoizedState=T,A.childLanes=s.childLanes&~p,l.memoizedState=ih,x}return A=s.child,s=A.sibling,x=_a(A,{mode:"visible",children:x.children}),(l.mode&1)===0&&(x.lanes=p),x.return=l,x.sibling=null,s!==null&&(p=l.deletions,p===null?(l.deletions=[s],l.flags|=16):p.push(s)),l.child=x,l.memoizedState=null,x}function oh(s,l){return l=Ou({mode:"visible",children:l},s.mode,0,null),l.return=s,s.child=l}function vu(s,l,p,x){return x!==null&&_p(x),fs(l,s.child,null,p),s=oh(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function i5(s,l,p,x,N,A,T){if(p)return l.flags&256?(l.flags&=-257,x=th(Error(n(422))),vu(s,l,T,x)):l.memoizedState!==null?(l.child=s.child,l.flags|=128,null):(A=x.fallback,N=l.mode,x=Ou({mode:"visible",children:x.children},N,0,null),A=xi(A,N,T,null),A.flags|=2,x.return=l,A.return=l,x.sibling=A,l.child=x,(l.mode&1)!==0&&fs(l,s.child,null,T),l.child.memoizedState=sh(T),l.memoizedState=ih,A);if((l.mode&1)===0)return vu(s,l,T,null);if(N.data==="$!"){if(x=N.nextSibling&&N.nextSibling.dataset,x)var F=x.dgst;return x=F,A=Error(n(419)),x=th(A,x,void 0),vu(s,l,T,x)}if(F=(T&s.childLanes)!==0,xn||F){if(x=zt,x!==null){switch(T&-T){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=(N&(x.suspendedLanes|T))!==0?0:N,N!==0&&N!==A.retryLane&&(A.retryLane=N,Wr(s,N),lr(x,s,N,-1))}return Nh(),x=th(Error(n(421))),vu(s,l,T,x)}return N.data==="$?"?(l.flags|=128,l.child=s.child,l=v5.bind(null,s),N._reactRetry=l,null):(s=A.treeContext,En=Na(N.nextSibling),Pn=l,ht=!0,ar=null,s!==null&&(Ln[Bn++]=Ur,Ln[Bn++]=qr,Ln[Bn++]=li,Ur=s.id,qr=s.overflow,li=l),l=oh(l,x.children),l.flags|=4096,l)}function Xw(s,l,p){s.lanes|=l;var x=s.alternate;x!==null&&(x.lanes|=l),zp(s.return,l,p)}function lh(s,l,p,x,N){var A=s.memoizedState;A===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:x,tail:p,tailMode:N}:(A.isBackwards=l,A.rendering=null,A.renderingStartTime=0,A.last=x,A.tail=p,A.tailMode=N)}function Qw(s,l,p){var x=l.pendingProps,N=x.revealOrder,A=x.tail;if(cn(s,l,x.children,p),x=xt.current,(x&2)!==0)x=x&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Xw(s,p,l);else if(s.tag===19)Xw(s,p,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}x&=1}if(ct(xt,x),(l.mode&1)===0)l.memoizedState=null;else switch(N){case"forwards":for(p=l.child,N=null;p!==null;)s=p.alternate,s!==null&&fu(s)===null&&(N=p),p=p.sibling;p=N,p===null?(N=l.child,l.child=null):(N=p.sibling,p.sibling=null),lh(l,!1,N,p,A);break;case"backwards":for(p=null,N=l.child,l.child=null;N!==null;){if(s=N.alternate,s!==null&&fu(s)===null){l.child=N;break}s=N.sibling,N.sibling=p,p=N,N=s}lh(l,!0,p,null,A);break;case"together":lh(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function yu(s,l){(l.mode&1)===0&&s!==null&&(s.alternate=null,l.alternate=null,l.flags|=2)}function Vr(s,l,p){if(s!==null&&(l.dependencies=s.dependencies),pi|=l.lanes,(p&l.childLanes)===0)return null;if(s!==null&&l.child!==s.child)throw Error(n(153));if(l.child!==null){for(s=l.child,p=_a(s,s.pendingProps),l.child=p,p.return=l;s.sibling!==null;)s=s.sibling,p=p.sibling=_a(s,s.pendingProps),p.return=l;p.sibling=null}return l.child}function s5(s,l,p){switch(l.tag){case 3:Kw(l),cs();break;case 5:hw(l);break;case 1:gn(l.type)&&tu(l);break;case 4:qp(l,l.stateNode.containerInfo);break;case 10:var x=l.type._context,N=l.memoizedProps.value;ct(su,x._currentValue),x._currentValue=N;break;case 13:if(x=l.memoizedState,x!==null)return x.dehydrated!==null?(ct(xt,xt.current&1),l.flags|=128,null):(p&l.child.childLanes)!==0?Yw(s,l,p):(ct(xt,xt.current&1),s=Vr(s,l,p),s!==null?s.sibling:null);ct(xt,xt.current&1);break;case 19:if(x=(p&l.childLanes)!==0,(s.flags&128)!==0){if(x)return Qw(s,l,p);l.flags|=128}if(N=l.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),ct(xt,xt.current),x)break;return null;case 22:case 23:return l.lanes=0,Ww(s,l,p)}return Vr(s,l,p)}var Zw,ch,Jw,ej;Zw=function(s,l){for(var p=l.child;p!==null;){if(p.tag===5||p.tag===6)s.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===l)break;for(;p.sibling===null;){if(p.return===null||p.return===l)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},ch=function(){},Jw=function(s,l,p,x){var N=s.memoizedProps;if(N!==x){s=l.stateNode,di(kr.current);var A=null;switch(p){case"input":N=Re(s,N),x=Re(s,x),A=[];break;case"select":N=M({},N,{value:void 0}),x=M({},x,{value:void 0}),A=[];break;case"textarea":N=gt(s,N),x=gt(s,x),A=[];break;default:typeof N.onClick!="function"&&typeof x.onClick=="function"&&(s.onclick=Zc)}vo(p,x);var T;p=null;for(te in N)if(!x.hasOwnProperty(te)&&N.hasOwnProperty(te)&&N[te]!=null)if(te==="style"){var F=N[te];for(T in F)F.hasOwnProperty(T)&&(p||(p={}),p[T]="")}else te!=="dangerouslySetInnerHTML"&&te!=="children"&&te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&te!=="autoFocus"&&(a.hasOwnProperty(te)?A||(A=[]):(A=A||[]).push(te,null));for(te in x){var V=x[te];if(F=N!=null?N[te]:void 0,x.hasOwnProperty(te)&&V!==F&&(V!=null||F!=null))if(te==="style")if(F){for(T in F)!F.hasOwnProperty(T)||V&&V.hasOwnProperty(T)||(p||(p={}),p[T]="");for(T in V)V.hasOwnProperty(T)&&F[T]!==V[T]&&(p||(p={}),p[T]=V[T])}else p||(A||(A=[]),A.push(te,p)),p=V;else te==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,F=F?F.__html:void 0,V!=null&&F!==V&&(A=A||[]).push(te,V)):te==="children"?typeof V!="string"&&typeof V!="number"||(A=A||[]).push(te,""+V):te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&(a.hasOwnProperty(te)?(V!=null&&te==="onScroll"&&dt("scroll",s),A||F===V||(A=[])):(A=A||[]).push(te,V))}p&&(A=A||[]).push("style",p);var te=A;(l.updateQueue=te)&&(l.flags|=4)}},ej=function(s,l,p,x){p!==x&&(l.flags|=4)};function Xo(s,l){if(!ht)switch(s.tailMode){case"hidden":l=s.tail;for(var p=null;l!==null;)l.alternate!==null&&(p=l),l=l.sibling;p===null?s.tail=null:p.sibling=null;break;case"collapsed":p=s.tail;for(var x=null;p!==null;)p.alternate!==null&&(x=p),p=p.sibling;x===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:x.sibling=null}}function Zt(s){var l=s.alternate!==null&&s.alternate.child===s.child,p=0,x=0;if(l)for(var N=s.child;N!==null;)p|=N.lanes|N.childLanes,x|=N.subtreeFlags&14680064,x|=N.flags&14680064,N.return=s,N=N.sibling;else for(N=s.child;N!==null;)p|=N.lanes|N.childLanes,x|=N.subtreeFlags,x|=N.flags,N.return=s,N=N.sibling;return s.subtreeFlags|=x,s.childLanes=p,l}function o5(s,l,p){var x=l.pendingProps;switch(Op(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(l),null;case 1:return gn(l.type)&&eu(),Zt(l),null;case 3:return x=l.stateNode,ps(),ft(mn),ft(Xt),Vp(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(s===null||s.child===null)&&(iu(l)?l.flags|=4:s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,ar!==null&&(bh(ar),ar=null))),ch(s,l),Zt(l),null;case 5:Wp(l);var N=di(Ho.current);if(p=l.type,s!==null&&l.stateNode!=null)Jw(s,l,p,x,N),s.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!x){if(l.stateNode===null)throw Error(n(166));return Zt(l),null}if(s=di(kr.current),iu(l)){x=l.stateNode,p=l.type;var A=l.memoizedProps;switch(x[Sr]=l,x[Bo]=A,s=(l.mode&1)!==0,p){case"dialog":dt("cancel",x),dt("close",x);break;case"iframe":case"object":case"embed":dt("load",x);break;case"video":case"audio":for(N=0;N<$o.length;N++)dt($o[N],x);break;case"source":dt("error",x);break;case"img":case"image":case"link":dt("error",x),dt("load",x);break;case"details":dt("toggle",x);break;case"input":Je(x,A),dt("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!A.multiple},dt("invalid",x);break;case"textarea":Rt(x,A),dt("invalid",x)}vo(p,A),N=null;for(var T in A)if(A.hasOwnProperty(T)){var F=A[T];T==="children"?typeof F=="string"?x.textContent!==F&&(A.suppressHydrationWarning!==!0&&Qc(x.textContent,F,s),N=["children",F]):typeof F=="number"&&x.textContent!==""+F&&(A.suppressHydrationWarning!==!0&&Qc(x.textContent,F,s),N=["children",""+F]):a.hasOwnProperty(T)&&F!=null&&T==="onScroll"&&dt("scroll",x)}switch(p){case"input":ke(x),Ne(x,A,!0);break;case"textarea":ke(x),Ge(x);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(x.onclick=Zc)}x=N,l.updateQueue=x,x!==null&&(l.flags|=4)}else{T=N.nodeType===9?N:N.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Yt(p)),s==="http://www.w3.org/1999/xhtml"?p==="script"?(s=T.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof x.is=="string"?s=T.createElement(p,{is:x.is}):(s=T.createElement(p),p==="select"&&(T=s,x.multiple?T.multiple=!0:x.size&&(T.size=x.size))):s=T.createElementNS(s,p),s[Sr]=l,s[Bo]=x,Zw(s,l,!1,!1),l.stateNode=s;e:{switch(T=yo(p,x),p){case"dialog":dt("cancel",s),dt("close",s),N=x;break;case"iframe":case"object":case"embed":dt("load",s),N=x;break;case"video":case"audio":for(N=0;N<$o.length;N++)dt($o[N],s);N=x;break;case"source":dt("error",s),N=x;break;case"img":case"image":case"link":dt("error",s),dt("load",s),N=x;break;case"details":dt("toggle",s),N=x;break;case"input":Je(s,x),N=Re(s,x),dt("invalid",s);break;case"option":N=x;break;case"select":s._wrapperState={wasMultiple:!!x.multiple},N=M({},x,{value:void 0}),dt("invalid",s);break;case"textarea":Rt(s,x),N=gt(s,x),dt("invalid",s);break;default:N=x}vo(p,N),F=N;for(A in F)if(F.hasOwnProperty(A)){var V=F[A];A==="style"?Hf(s,V):A==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&Gi(s,V)):A==="children"?typeof V=="string"?(p!=="textarea"||V!=="")&&zr(s,V):typeof V=="number"&&zr(s,""+V):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(a.hasOwnProperty(A)?V!=null&&A==="onScroll"&&dt("scroll",s):V!=null&&P(s,A,V,T))}switch(p){case"input":ke(s),Ne(s,x,!1);break;case"textarea":ke(s),Ge(s);break;case"option":x.value!=null&&s.setAttribute("value",""+Oe(x.value));break;case"select":s.multiple=!!x.multiple,A=x.value,A!=null?We(s,!!x.multiple,A,!1):x.defaultValue!=null&&We(s,!!x.multiple,x.defaultValue,!0);break;default:typeof N.onClick=="function"&&(s.onclick=Zc)}switch(p){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Zt(l),null;case 6:if(s&&l.stateNode!=null)ej(s,l,s.memoizedProps,x);else{if(typeof x!="string"&&l.stateNode===null)throw Error(n(166));if(p=di(Ho.current),di(kr.current),iu(l)){if(x=l.stateNode,p=l.memoizedProps,x[Sr]=l,(A=x.nodeValue!==p)&&(s=Pn,s!==null))switch(s.tag){case 3:Qc(x.nodeValue,p,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Qc(x.nodeValue,p,(s.mode&1)!==0)}A&&(l.flags|=4)}else x=(p.nodeType===9?p:p.ownerDocument).createTextNode(x),x[Sr]=l,l.stateNode=x}return Zt(l),null;case 13:if(ft(xt),x=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ht&&En!==null&&(l.mode&1)!==0&&(l.flags&128)===0)nw(),cs(),l.flags|=98560,A=!1;else if(A=iu(l),x!==null&&x.dehydrated!==null){if(s===null){if(!A)throw Error(n(318));if(A=l.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));A[Sr]=l}else cs(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Zt(l),A=!1}else ar!==null&&(bh(ar),ar=null),A=!0;if(!A)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=p,l):(x=x!==null,x!==(s!==null&&s.memoizedState!==null)&&x&&(l.child.flags|=8192,(l.mode&1)!==0&&(s===null||(xt.current&1)!==0?Ot===0&&(Ot=3):Nh())),l.updateQueue!==null&&(l.flags|=4),Zt(l),null);case 4:return ps(),ch(s,l),s===null&&zo(l.stateNode.containerInfo),Zt(l),null;case 10:return $p(l.type._context),Zt(l),null;case 17:return gn(l.type)&&eu(),Zt(l),null;case 19:if(ft(xt),A=l.memoizedState,A===null)return Zt(l),null;if(x=(l.flags&128)!==0,T=A.rendering,T===null)if(x)Xo(A,!1);else{if(Ot!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(T=fu(s),T!==null){for(l.flags|=128,Xo(A,!1),x=T.updateQueue,x!==null&&(l.updateQueue=x,l.flags|=4),l.subtreeFlags=0,x=p,p=l.child;p!==null;)A=p,s=x,A.flags&=14680066,T=A.alternate,T===null?(A.childLanes=0,A.lanes=s,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=T.childLanes,A.lanes=T.lanes,A.child=T.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=T.memoizedProps,A.memoizedState=T.memoizedState,A.updateQueue=T.updateQueue,A.type=T.type,s=T.dependencies,A.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),p=p.sibling;return ct(xt,xt.current&1|2),l.child}s=s.sibling}A.tail!==null&&jt()>xs&&(l.flags|=128,x=!0,Xo(A,!1),l.lanes=4194304)}else{if(!x)if(s=fu(T),s!==null){if(l.flags|=128,x=!0,p=s.updateQueue,p!==null&&(l.updateQueue=p,l.flags|=4),Xo(A,!0),A.tail===null&&A.tailMode==="hidden"&&!T.alternate&&!ht)return Zt(l),null}else 2*jt()-A.renderingStartTime>xs&&p!==1073741824&&(l.flags|=128,x=!0,Xo(A,!1),l.lanes=4194304);A.isBackwards?(T.sibling=l.child,l.child=T):(p=A.last,p!==null?p.sibling=T:l.child=T,A.last=T)}return A.tail!==null?(l=A.tail,A.rendering=l,A.tail=l.sibling,A.renderingStartTime=jt(),l.sibling=null,p=xt.current,ct(xt,x?p&1|2:p&1),l):(Zt(l),null);case 22:case 23:return jh(),x=l.memoizedState!==null,s!==null&&s.memoizedState!==null!==x&&(l.flags|=8192),x&&(l.mode&1)!==0?(Dn&1073741824)!==0&&(Zt(l),l.subtreeFlags&6&&(l.flags|=8192)):Zt(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function l5(s,l){switch(Op(l),l.tag){case 1:return gn(l.type)&&eu(),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return ps(),ft(mn),ft(Xt),Vp(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 5:return Wp(l),null;case 13:if(ft(xt),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(n(340));cs()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return ft(xt),null;case 4:return ps(),null;case 10:return $p(l.type._context),null;case 22:case 23:return jh(),null;case 24:return null;default:return null}}var bu=!1,Jt=!1,c5=typeof WeakSet=="function"?WeakSet:Set,xe=null;function ms(s,l){var p=s.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(x){bt(s,l,x)}else p.current=null}function uh(s,l,p){try{p()}catch(x){bt(s,l,x)}}var tj=!1;function u5(s,l){if(jp=Bc,s=I1(),hp(s)){if("selectionStart"in s)var p={start:s.selectionStart,end:s.selectionEnd};else e:{p=(p=s.ownerDocument)&&p.defaultView||window;var x=p.getSelection&&p.getSelection();if(x&&x.rangeCount!==0){p=x.anchorNode;var N=x.anchorOffset,A=x.focusNode;x=x.focusOffset;try{p.nodeType,A.nodeType}catch{p=null;break e}var T=0,F=-1,V=-1,te=0,le=0,ce=s,se=null;t:for(;;){for(var ge;ce!==p||N!==0&&ce.nodeType!==3||(F=T+N),ce!==A||x!==0&&ce.nodeType!==3||(V=T+x),ce.nodeType===3&&(T+=ce.nodeValue.length),(ge=ce.firstChild)!==null;)se=ce,ce=ge;for(;;){if(ce===s)break t;if(se===p&&++te===N&&(F=T),se===A&&++le===x&&(V=T),(ge=ce.nextSibling)!==null)break;ce=se,se=ce.parentNode}ce=ge}p=F===-1||V===-1?null:{start:F,end:V}}else p=null}p=p||{start:0,end:0}}else p=null;for(Np={focusedElem:s,selectionRange:p},Bc=!1,xe=l;xe!==null;)if(l=xe,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,xe=s;else for(;xe!==null;){l=xe;try{var ye=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var be=ye.memoizedProps,Nt=ye.memoizedState,Z=l.stateNode,K=Z.getSnapshotBeforeUpdate(l.elementType===l.type?be:ir(l.type,be),Nt);Z.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var J=l.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(de){bt(l,l.return,de)}if(s=l.sibling,s!==null){s.return=l.return,xe=s;break}xe=l.return}return ye=tj,tj=!1,ye}function Qo(s,l,p){var x=l.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var N=x=x.next;do{if((N.tag&s)===s){var A=N.destroy;N.destroy=void 0,A!==void 0&&uh(l,p,A)}N=N.next}while(N!==x)}}function wu(s,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var p=l=l.next;do{if((p.tag&s)===s){var x=p.create;p.destroy=x()}p=p.next}while(p!==l)}}function dh(s){var l=s.ref;if(l!==null){var p=s.stateNode;switch(s.tag){case 5:s=p;break;default:s=p}typeof l=="function"?l(s):l.current=s}}function nj(s){var l=s.alternate;l!==null&&(s.alternate=null,nj(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&(delete l[Sr],delete l[Bo],delete l[Ap],delete l[VT],delete l[KT])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function rj(s){return s.tag===5||s.tag===3||s.tag===4}function aj(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||rj(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function fh(s,l,p){var x=s.tag;if(x===5||x===6)s=s.stateNode,l?p.nodeType===8?p.parentNode.insertBefore(s,l):p.insertBefore(s,l):(p.nodeType===8?(l=p.parentNode,l.insertBefore(s,p)):(l=p,l.appendChild(s)),p=p._reactRootContainer,p!=null||l.onclick!==null||(l.onclick=Zc));else if(x!==4&&(s=s.child,s!==null))for(fh(s,l,p),s=s.sibling;s!==null;)fh(s,l,p),s=s.sibling}function ph(s,l,p){var x=s.tag;if(x===5||x===6)s=s.stateNode,l?p.insertBefore(s,l):p.appendChild(s);else if(x!==4&&(s=s.child,s!==null))for(ph(s,l,p),s=s.sibling;s!==null;)ph(s,l,p),s=s.sibling}var Ht=null,sr=!1;function Ea(s,l,p){for(p=p.child;p!==null;)ij(s,l,p),p=p.sibling}function ij(s,l,p){if(Nr&&typeof Nr.onCommitFiberUnmount=="function")try{Nr.onCommitFiberUnmount(_c,p)}catch{}switch(p.tag){case 5:Jt||ms(p,l);case 6:var x=Ht,N=sr;Ht=null,Ea(s,l,p),Ht=x,sr=N,Ht!==null&&(sr?(s=Ht,p=p.stateNode,s.nodeType===8?s.parentNode.removeChild(p):s.removeChild(p)):Ht.removeChild(p.stateNode));break;case 18:Ht!==null&&(sr?(s=Ht,p=p.stateNode,s.nodeType===8?Cp(s.parentNode,p):s.nodeType===1&&Cp(s,p),Eo(s)):Cp(Ht,p.stateNode));break;case 4:x=Ht,N=sr,Ht=p.stateNode.containerInfo,sr=!0,Ea(s,l,p),Ht=x,sr=N;break;case 0:case 11:case 14:case 15:if(!Jt&&(x=p.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){N=x=x.next;do{var A=N,T=A.destroy;A=A.tag,T!==void 0&&((A&2)!==0||(A&4)!==0)&&uh(p,l,T),N=N.next}while(N!==x)}Ea(s,l,p);break;case 1:if(!Jt&&(ms(p,l),x=p.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=p.memoizedProps,x.state=p.memoizedState,x.componentWillUnmount()}catch(F){bt(p,l,F)}Ea(s,l,p);break;case 21:Ea(s,l,p);break;case 22:p.mode&1?(Jt=(x=Jt)||p.memoizedState!==null,Ea(s,l,p),Jt=x):Ea(s,l,p);break;default:Ea(s,l,p)}}function sj(s){var l=s.updateQueue;if(l!==null){s.updateQueue=null;var p=s.stateNode;p===null&&(p=s.stateNode=new c5),l.forEach(function(x){var N=y5.bind(null,s,x);p.has(x)||(p.add(x),x.then(N,N))})}}function or(s,l){var p=l.deletions;if(p!==null)for(var x=0;x<p.length;x++){var N=p[x];try{var A=s,T=l,F=T;e:for(;F!==null;){switch(F.tag){case 5:Ht=F.stateNode,sr=!1;break e;case 3:Ht=F.stateNode.containerInfo,sr=!0;break e;case 4:Ht=F.stateNode.containerInfo,sr=!0;break e}F=F.return}if(Ht===null)throw Error(n(160));ij(A,T,N),Ht=null,sr=!1;var V=N.alternate;V!==null&&(V.return=null),N.return=null}catch(te){bt(N,l,te)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)oj(l,s),l=l.sibling}function oj(s,l){var p=s.alternate,x=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(or(l,s),Ar(s),x&4){try{Qo(3,s,s.return),wu(3,s)}catch(be){bt(s,s.return,be)}try{Qo(5,s,s.return)}catch(be){bt(s,s.return,be)}}break;case 1:or(l,s),Ar(s),x&512&&p!==null&&ms(p,p.return);break;case 5:if(or(l,s),Ar(s),x&512&&p!==null&&ms(p,p.return),s.flags&32){var N=s.stateNode;try{zr(N,"")}catch(be){bt(s,s.return,be)}}if(x&4&&(N=s.stateNode,N!=null)){var A=s.memoizedProps,T=p!==null?p.memoizedProps:A,F=s.type,V=s.updateQueue;if(s.updateQueue=null,V!==null)try{F==="input"&&A.type==="radio"&&A.name!=null&&ue(N,A),yo(F,T);var te=yo(F,A);for(T=0;T<V.length;T+=2){var le=V[T],ce=V[T+1];le==="style"?Hf(N,ce):le==="dangerouslySetInnerHTML"?Gi(N,ce):le==="children"?zr(N,ce):P(N,le,ce,te)}switch(F){case"input":Ie(N,A);break;case"textarea":me(N,A);break;case"select":var se=N._wrapperState.wasMultiple;N._wrapperState.wasMultiple=!!A.multiple;var ge=A.value;ge!=null?We(N,!!A.multiple,ge,!1):se!==!!A.multiple&&(A.defaultValue!=null?We(N,!!A.multiple,A.defaultValue,!0):We(N,!!A.multiple,A.multiple?[]:"",!1))}N[Bo]=A}catch(be){bt(s,s.return,be)}}break;case 6:if(or(l,s),Ar(s),x&4){if(s.stateNode===null)throw Error(n(162));N=s.stateNode,A=s.memoizedProps;try{N.nodeValue=A}catch(be){bt(s,s.return,be)}}break;case 3:if(or(l,s),Ar(s),x&4&&p!==null&&p.memoizedState.isDehydrated)try{Eo(l.containerInfo)}catch(be){bt(s,s.return,be)}break;case 4:or(l,s),Ar(s);break;case 13:or(l,s),Ar(s),N=s.child,N.flags&8192&&(A=N.memoizedState!==null,N.stateNode.isHidden=A,!A||N.alternate!==null&&N.alternate.memoizedState!==null||(gh=jt())),x&4&&sj(s);break;case 22:if(le=p!==null&&p.memoizedState!==null,s.mode&1?(Jt=(te=Jt)||le,or(l,s),Jt=te):or(l,s),Ar(s),x&8192){if(te=s.memoizedState!==null,(s.stateNode.isHidden=te)&&!le&&(s.mode&1)!==0)for(xe=s,le=s.child;le!==null;){for(ce=xe=le;xe!==null;){switch(se=xe,ge=se.child,se.tag){case 0:case 11:case 14:case 15:Qo(4,se,se.return);break;case 1:ms(se,se.return);var ye=se.stateNode;if(typeof ye.componentWillUnmount=="function"){x=se,p=se.return;try{l=x,ye.props=l.memoizedProps,ye.state=l.memoizedState,ye.componentWillUnmount()}catch(be){bt(x,p,be)}}break;case 5:ms(se,se.return);break;case 22:if(se.memoizedState!==null){uj(ce);continue}}ge!==null?(ge.return=se,xe=ge):uj(ce)}le=le.sibling}e:for(le=null,ce=s;;){if(ce.tag===5){if(le===null){le=ce;try{N=ce.stateNode,te?(A=N.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(F=ce.stateNode,V=ce.memoizedProps.style,T=V!=null&&V.hasOwnProperty("display")?V.display:null,F.style.display=ln("display",T))}catch(be){bt(s,s.return,be)}}}else if(ce.tag===6){if(le===null)try{ce.stateNode.nodeValue=te?"":ce.memoizedProps}catch(be){bt(s,s.return,be)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===s)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===s)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===s)break e;le===ce&&(le=null),ce=ce.return}le===ce&&(le=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:or(l,s),Ar(s),x&4&&sj(s);break;case 21:break;default:or(l,s),Ar(s)}}function Ar(s){var l=s.flags;if(l&2){try{e:{for(var p=s.return;p!==null;){if(rj(p)){var x=p;break e}p=p.return}throw Error(n(160))}switch(x.tag){case 5:var N=x.stateNode;x.flags&32&&(zr(N,""),x.flags&=-33);var A=aj(s);ph(s,A,N);break;case 3:case 4:var T=x.stateNode.containerInfo,F=aj(s);fh(s,F,T);break;default:throw Error(n(161))}}catch(V){bt(s,s.return,V)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function d5(s,l,p){xe=s,lj(s)}function lj(s,l,p){for(var x=(s.mode&1)!==0;xe!==null;){var N=xe,A=N.child;if(N.tag===22&&x){var T=N.memoizedState!==null||bu;if(!T){var F=N.alternate,V=F!==null&&F.memoizedState!==null||Jt;F=bu;var te=Jt;if(bu=T,(Jt=V)&&!te)for(xe=N;xe!==null;)T=xe,V=T.child,T.tag===22&&T.memoizedState!==null?dj(N):V!==null?(V.return=T,xe=V):dj(N);for(;A!==null;)xe=A,lj(A),A=A.sibling;xe=N,bu=F,Jt=te}cj(s)}else(N.subtreeFlags&8772)!==0&&A!==null?(A.return=N,xe=A):cj(s)}}function cj(s){for(;xe!==null;){var l=xe;if((l.flags&8772)!==0){var p=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Jt||wu(5,l);break;case 1:var x=l.stateNode;if(l.flags&4&&!Jt)if(p===null)x.componentDidMount();else{var N=l.elementType===l.type?p.memoizedProps:ir(l.type,p.memoizedProps);x.componentDidUpdate(N,p.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var A=l.updateQueue;A!==null&&sw(l,A,x);break;case 3:var T=l.updateQueue;if(T!==null){if(p=null,l.child!==null)switch(l.child.tag){case 5:p=l.child.stateNode;break;case 1:p=l.child.stateNode}sw(l,T,p)}break;case 5:var F=l.stateNode;if(p===null&&l.flags&4){p=F;var V=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&p.focus();break;case"img":V.src&&(p.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var te=l.alternate;if(te!==null){var le=te.memoizedState;if(le!==null){var ce=le.dehydrated;ce!==null&&Eo(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Jt||l.flags&512&&dh(l)}catch(se){bt(l,l.return,se)}}if(l===s){xe=null;break}if(p=l.sibling,p!==null){p.return=l.return,xe=p;break}xe=l.return}}function uj(s){for(;xe!==null;){var l=xe;if(l===s){xe=null;break}var p=l.sibling;if(p!==null){p.return=l.return,xe=p;break}xe=l.return}}function dj(s){for(;xe!==null;){var l=xe;try{switch(l.tag){case 0:case 11:case 15:var p=l.return;try{wu(4,l)}catch(V){bt(l,p,V)}break;case 1:var x=l.stateNode;if(typeof x.componentDidMount=="function"){var N=l.return;try{x.componentDidMount()}catch(V){bt(l,N,V)}}var A=l.return;try{dh(l)}catch(V){bt(l,A,V)}break;case 5:var T=l.return;try{dh(l)}catch(V){bt(l,T,V)}}}catch(V){bt(l,l.return,V)}if(l===s){xe=null;break}var F=l.sibling;if(F!==null){F.return=l.return,xe=F;break}xe=l.return}}var f5=Math.ceil,ju=k.ReactCurrentDispatcher,hh=k.ReactCurrentOwner,qn=k.ReactCurrentBatchConfig,Ve=0,zt=null,At=null,Vt=0,Dn=0,gs=Sa(0),Ot=0,Zo=null,pi=0,Nu=0,mh=0,Jo=null,vn=null,gh=0,xs=1/0,Kr=null,Su=!1,xh=null,Da=null,ku=!1,Oa=null,Cu=0,el=0,vh=null,Au=-1,Pu=0;function un(){return(Ve&6)!==0?jt():Au!==-1?Au:Au=jt()}function Ia(s){return(s.mode&1)===0?1:(Ve&2)!==0&&Vt!==0?Vt&-Vt:YT.transition!==null?(Pu===0&&(Pu=r1()),Pu):(s=nt,s!==0||(s=window.event,s=s===void 0?16:f1(s.type)),s)}function lr(s,l,p,x){if(50<el)throw el=0,vh=null,Error(n(185));So(s,p,x),((Ve&2)===0||s!==zt)&&(s===zt&&((Ve&2)===0&&(Nu|=p),Ot===4&&Ta(s,Vt)),yn(s,x),p===1&&Ve===0&&(l.mode&1)===0&&(xs=jt()+500,nu&&Ca()))}function yn(s,l){var p=s.callbackNode;YI(s,l);var x=$c(s,s===zt?Vt:0);if(x===0)p!==null&&e1(p),s.callbackNode=null,s.callbackPriority=0;else if(l=x&-x,s.callbackPriority!==l){if(p!=null&&e1(p),l===1)s.tag===0?GT(pj.bind(null,s)):Q1(pj.bind(null,s)),WT(function(){(Ve&6)===0&&Ca()}),p=null;else{switch(a1(x)){case 1:p=Qf;break;case 4:p=t1;break;case 16:p=Tc;break;case 536870912:p=n1;break;default:p=Tc}p=wj(p,fj.bind(null,s))}s.callbackPriority=l,s.callbackNode=p}}function fj(s,l){if(Au=-1,Pu=0,(Ve&6)!==0)throw Error(n(327));var p=s.callbackNode;if(vs()&&s.callbackNode!==p)return null;var x=$c(s,s===zt?Vt:0);if(x===0)return null;if((x&30)!==0||(x&s.expiredLanes)!==0||l)l=Eu(s,x);else{l=x;var N=Ve;Ve|=2;var A=mj();(zt!==s||Vt!==l)&&(Kr=null,xs=jt()+500,mi(s,l));do try{m5();break}catch(F){hj(s,F)}while(!0);Rp(),ju.current=A,Ve=N,At!==null?l=0:(zt=null,Vt=0,l=Ot)}if(l!==0){if(l===2&&(N=Zf(s),N!==0&&(x=N,l=yh(s,N))),l===1)throw p=Zo,mi(s,0),Ta(s,x),yn(s,jt()),p;if(l===6)Ta(s,x);else{if(N=s.current.alternate,(x&30)===0&&!p5(N)&&(l=Eu(s,x),l===2&&(A=Zf(s),A!==0&&(x=A,l=yh(s,A))),l===1))throw p=Zo,mi(s,0),Ta(s,x),yn(s,jt()),p;switch(s.finishedWork=N,s.finishedLanes=x,l){case 0:case 1:throw Error(n(345));case 2:gi(s,vn,Kr);break;case 3:if(Ta(s,x),(x&130023424)===x&&(l=gh+500-jt(),10<l)){if($c(s,0)!==0)break;if(N=s.suspendedLanes,(N&x)!==x){un(),s.pingedLanes|=s.suspendedLanes&N;break}s.timeoutHandle=kp(gi.bind(null,s,vn,Kr),l);break}gi(s,vn,Kr);break;case 4:if(Ta(s,x),(x&4194240)===x)break;for(l=s.eventTimes,N=-1;0<x;){var T=31-nr(x);A=1<<T,T=l[T],T>N&&(N=T),x&=~A}if(x=N,x=jt()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*f5(x/1960))-x,10<x){s.timeoutHandle=kp(gi.bind(null,s,vn,Kr),x);break}gi(s,vn,Kr);break;case 5:gi(s,vn,Kr);break;default:throw Error(n(329))}}}return yn(s,jt()),s.callbackNode===p?fj.bind(null,s):null}function yh(s,l){var p=Jo;return s.current.memoizedState.isDehydrated&&(mi(s,l).flags|=256),s=Eu(s,l),s!==2&&(l=vn,vn=p,l!==null&&bh(l)),s}function bh(s){vn===null?vn=s:vn.push.apply(vn,s)}function p5(s){for(var l=s;;){if(l.flags&16384){var p=l.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var x=0;x<p.length;x++){var N=p[x],A=N.getSnapshot;N=N.value;try{if(!rr(A(),N))return!1}catch{return!1}}}if(p=l.child,l.subtreeFlags&16384&&p!==null)p.return=l,l=p;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ta(s,l){for(l&=~mh,l&=~Nu,s.suspendedLanes|=l,s.pingedLanes&=~l,s=s.expirationTimes;0<l;){var p=31-nr(l),x=1<<p;s[p]=-1,l&=~x}}function pj(s){if((Ve&6)!==0)throw Error(n(327));vs();var l=$c(s,0);if((l&1)===0)return yn(s,jt()),null;var p=Eu(s,l);if(s.tag!==0&&p===2){var x=Zf(s);x!==0&&(l=x,p=yh(s,x))}if(p===1)throw p=Zo,mi(s,0),Ta(s,l),yn(s,jt()),p;if(p===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=l,gi(s,vn,Kr),yn(s,jt()),null}function wh(s,l){var p=Ve;Ve|=1;try{return s(l)}finally{Ve=p,Ve===0&&(xs=jt()+500,nu&&Ca())}}function hi(s){Oa!==null&&Oa.tag===0&&(Ve&6)===0&&vs();var l=Ve;Ve|=1;var p=qn.transition,x=nt;try{if(qn.transition=null,nt=1,s)return s()}finally{nt=x,qn.transition=p,Ve=l,(Ve&6)===0&&Ca()}}function jh(){Dn=gs.current,ft(gs)}function mi(s,l){s.finishedWork=null,s.finishedLanes=0;var p=s.timeoutHandle;if(p!==-1&&(s.timeoutHandle=-1,qT(p)),At!==null)for(p=At.return;p!==null;){var x=p;switch(Op(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&eu();break;case 3:ps(),ft(mn),ft(Xt),Vp();break;case 5:Wp(x);break;case 4:ps();break;case 13:ft(xt);break;case 19:ft(xt);break;case 10:$p(x.type._context);break;case 22:case 23:jh()}p=p.return}if(zt=s,At=s=_a(s.current,null),Vt=Dn=l,Ot=0,Zo=null,mh=Nu=pi=0,vn=Jo=null,ui!==null){for(l=0;l<ui.length;l++)if(p=ui[l],x=p.interleaved,x!==null){p.interleaved=null;var N=x.next,A=p.pending;if(A!==null){var T=A.next;A.next=N,x.next=T}p.pending=x}ui=null}return s}function hj(s,l){do{var p=At;try{if(Rp(),pu.current=xu,hu){for(var x=vt.memoizedState;x!==null;){var N=x.queue;N!==null&&(N.pending=null),x=x.next}hu=!1}if(fi=0,$t=Dt=vt=null,Vo=!1,Ko=0,hh.current=null,p===null||p.return===null){Ot=1,Zo=l,At=null;break}e:{var A=s,T=p.return,F=p,V=l;if(l=Vt,F.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var te=V,le=F,ce=le.tag;if((le.mode&1)===0&&(ce===0||ce===11||ce===15)){var se=le.alternate;se?(le.updateQueue=se.updateQueue,le.memoizedState=se.memoizedState,le.lanes=se.lanes):(le.updateQueue=null,le.memoizedState=null)}var ge=Lw(T);if(ge!==null){ge.flags&=-257,Bw(ge,T,F,A,l),ge.mode&1&&zw(A,te,l),l=ge,V=te;var ye=l.updateQueue;if(ye===null){var be=new Set;be.add(V),l.updateQueue=be}else ye.add(V);break e}else{if((l&1)===0){zw(A,te,l),Nh();break e}V=Error(n(426))}}else if(ht&&F.mode&1){var Nt=Lw(T);if(Nt!==null){(Nt.flags&65536)===0&&(Nt.flags|=256),Bw(Nt,T,F,A,l),_p(hs(V,F));break e}}A=V=hs(V,F),Ot!==4&&(Ot=2),Jo===null?Jo=[A]:Jo.push(A),A=T;do{switch(A.tag){case 3:A.flags|=65536,l&=-l,A.lanes|=l;var Z=Rw(A,V,l);iw(A,Z);break e;case 1:F=V;var K=A.type,J=A.stateNode;if((A.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(Da===null||!Da.has(J)))){A.flags|=65536,l&=-l,A.lanes|=l;var de=$w(A,F,l);iw(A,de);break e}}A=A.return}while(A!==null)}xj(p)}catch(Se){l=Se,At===p&&p!==null&&(At=p=p.return);continue}break}while(!0)}function mj(){var s=ju.current;return ju.current=xu,s===null?xu:s}function Nh(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),zt===null||(pi&268435455)===0&&(Nu&268435455)===0||Ta(zt,Vt)}function Eu(s,l){var p=Ve;Ve|=2;var x=mj();(zt!==s||Vt!==l)&&(Kr=null,mi(s,l));do try{h5();break}catch(N){hj(s,N)}while(!0);if(Rp(),Ve=p,ju.current=x,At!==null)throw Error(n(261));return zt=null,Vt=0,Ot}function h5(){for(;At!==null;)gj(At)}function m5(){for(;At!==null&&!BI();)gj(At)}function gj(s){var l=bj(s.alternate,s,Dn);s.memoizedProps=s.pendingProps,l===null?xj(s):At=l,hh.current=null}function xj(s){var l=s;do{var p=l.alternate;if(s=l.return,(l.flags&32768)===0){if(p=o5(p,l,Dn),p!==null){At=p;return}}else{if(p=l5(p,l),p!==null){p.flags&=32767,At=p;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Ot=6,At=null;return}}if(l=l.sibling,l!==null){At=l;return}At=l=s}while(l!==null);Ot===0&&(Ot=5)}function gi(s,l,p){var x=nt,N=qn.transition;try{qn.transition=null,nt=1,g5(s,l,p,x)}finally{qn.transition=N,nt=x}return null}function g5(s,l,p,x){do vs();while(Oa!==null);if((Ve&6)!==0)throw Error(n(327));p=s.finishedWork;var N=s.finishedLanes;if(p===null)return null;if(s.finishedWork=null,s.finishedLanes=0,p===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var A=p.lanes|p.childLanes;if(XI(s,A),s===zt&&(At=zt=null,Vt=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||ku||(ku=!0,wj(Tc,function(){return vs(),null})),A=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||A){A=qn.transition,qn.transition=null;var T=nt;nt=1;var F=Ve;Ve|=4,hh.current=null,u5(s,p),oj(p,s),RT(Np),Bc=!!jp,Np=jp=null,s.current=p,d5(p),FI(),Ve=F,nt=T,qn.transition=A}else s.current=p;if(ku&&(ku=!1,Oa=s,Cu=N),A=s.pendingLanes,A===0&&(Da=null),WI(p.stateNode),yn(s,jt()),l!==null)for(x=s.onRecoverableError,p=0;p<l.length;p++)N=l[p],x(N.value,{componentStack:N.stack,digest:N.digest});if(Su)throw Su=!1,s=xh,xh=null,s;return(Cu&1)!==0&&s.tag!==0&&vs(),A=s.pendingLanes,(A&1)!==0?s===vh?el++:(el=0,vh=s):el=0,Ca(),null}function vs(){if(Oa!==null){var s=a1(Cu),l=qn.transition,p=nt;try{if(qn.transition=null,nt=16>s?16:s,Oa===null)var x=!1;else{if(s=Oa,Oa=null,Cu=0,(Ve&6)!==0)throw Error(n(331));var N=Ve;for(Ve|=4,xe=s.current;xe!==null;){var A=xe,T=A.child;if((xe.flags&16)!==0){var F=A.deletions;if(F!==null){for(var V=0;V<F.length;V++){var te=F[V];for(xe=te;xe!==null;){var le=xe;switch(le.tag){case 0:case 11:case 15:Qo(8,le,A)}var ce=le.child;if(ce!==null)ce.return=le,xe=ce;else for(;xe!==null;){le=xe;var se=le.sibling,ge=le.return;if(nj(le),le===te){xe=null;break}if(se!==null){se.return=ge,xe=se;break}xe=ge}}}var ye=A.alternate;if(ye!==null){var be=ye.child;if(be!==null){ye.child=null;do{var Nt=be.sibling;be.sibling=null,be=Nt}while(be!==null)}}xe=A}}if((A.subtreeFlags&2064)!==0&&T!==null)T.return=A,xe=T;else e:for(;xe!==null;){if(A=xe,(A.flags&2048)!==0)switch(A.tag){case 0:case 11:case 15:Qo(9,A,A.return)}var Z=A.sibling;if(Z!==null){Z.return=A.return,xe=Z;break e}xe=A.return}}var K=s.current;for(xe=K;xe!==null;){T=xe;var J=T.child;if((T.subtreeFlags&2064)!==0&&J!==null)J.return=T,xe=J;else e:for(T=K;xe!==null;){if(F=xe,(F.flags&2048)!==0)try{switch(F.tag){case 0:case 11:case 15:wu(9,F)}}catch(Se){bt(F,F.return,Se)}if(F===T){xe=null;break e}var de=F.sibling;if(de!==null){de.return=F.return,xe=de;break e}xe=F.return}}if(Ve=N,Ca(),Nr&&typeof Nr.onPostCommitFiberRoot=="function")try{Nr.onPostCommitFiberRoot(_c,s)}catch{}x=!0}return x}finally{nt=p,qn.transition=l}}return!1}function vj(s,l,p){l=hs(p,l),l=Rw(s,l,1),s=Pa(s,l,1),l=un(),s!==null&&(So(s,1,l),yn(s,l))}function bt(s,l,p){if(s.tag===3)vj(s,s,p);else for(;l!==null;){if(l.tag===3){vj(l,s,p);break}else if(l.tag===1){var x=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Da===null||!Da.has(x))){s=hs(p,s),s=$w(l,s,1),l=Pa(l,s,1),s=un(),l!==null&&(So(l,1,s),yn(l,s));break}}l=l.return}}function x5(s,l,p){var x=s.pingCache;x!==null&&x.delete(l),l=un(),s.pingedLanes|=s.suspendedLanes&p,zt===s&&(Vt&p)===p&&(Ot===4||Ot===3&&(Vt&130023424)===Vt&&500>jt()-gh?mi(s,0):mh|=p),yn(s,l)}function yj(s,l){l===0&&((s.mode&1)===0?l=1:(l=Rc,Rc<<=1,(Rc&130023424)===0&&(Rc=4194304)));var p=un();s=Wr(s,l),s!==null&&(So(s,l,p),yn(s,p))}function v5(s){var l=s.memoizedState,p=0;l!==null&&(p=l.retryLane),yj(s,p)}function y5(s,l){var p=0;switch(s.tag){case 13:var x=s.stateNode,N=s.memoizedState;N!==null&&(p=N.retryLane);break;case 19:x=s.stateNode;break;default:throw Error(n(314))}x!==null&&x.delete(l),yj(s,p)}var bj;bj=function(s,l,p){if(s!==null)if(s.memoizedProps!==l.pendingProps||mn.current)xn=!0;else{if((s.lanes&p)===0&&(l.flags&128)===0)return xn=!1,s5(s,l,p);xn=(s.flags&131072)!==0}else xn=!1,ht&&(l.flags&1048576)!==0&&Z1(l,au,l.index);switch(l.lanes=0,l.tag){case 2:var x=l.type;yu(s,l),s=l.pendingProps;var N=ss(l,Xt.current);ds(l,p),N=Yp(null,l,x,s,N,p);var A=Xp();return l.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,gn(x)?(A=!0,tu(l)):A=!1,l.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,Bp(l),N.updater=uu,l.stateNode=N,N._reactInternals=l,Up(l,x,s,p),l=ah(null,l,x,!0,A,p)):(l.tag=0,ht&&A&&Dp(l),cn(null,l,N,p),l=l.child),l;case 16:x=l.elementType;e:{switch(yu(s,l),s=l.pendingProps,N=x._init,x=N(x._payload),l.type=x,N=l.tag=w5(x),s=ir(x,s),N){case 0:l=rh(null,l,x,s,p);break e;case 1:l=Vw(null,l,x,s,p);break e;case 11:l=Fw(null,l,x,s,p);break e;case 14:l=Uw(null,l,x,ir(x.type,s),p);break e}throw Error(n(306,x,""))}return l;case 0:return x=l.type,N=l.pendingProps,N=l.elementType===x?N:ir(x,N),rh(s,l,x,N,p);case 1:return x=l.type,N=l.pendingProps,N=l.elementType===x?N:ir(x,N),Vw(s,l,x,N,p);case 3:e:{if(Kw(l),s===null)throw Error(n(387));x=l.pendingProps,A=l.memoizedState,N=A.element,aw(s,l),cu(l,x,null,p);var T=l.memoizedState;if(x=T.element,A.isDehydrated)if(A={element:x,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},l.updateQueue.baseState=A,l.memoizedState=A,l.flags&256){N=hs(Error(n(423)),l),l=Gw(s,l,x,p,N);break e}else if(x!==N){N=hs(Error(n(424)),l),l=Gw(s,l,x,p,N);break e}else for(En=Na(l.stateNode.containerInfo.firstChild),Pn=l,ht=!0,ar=null,p=pw(l,null,x,p),l.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(cs(),x===N){l=Vr(s,l,p);break e}cn(s,l,x,p)}l=l.child}return l;case 5:return hw(l),s===null&&Tp(l),x=l.type,N=l.pendingProps,A=s!==null?s.memoizedProps:null,T=N.children,Sp(x,N)?T=null:A!==null&&Sp(x,A)&&(l.flags|=32),Hw(s,l),cn(s,l,T,p),l.child;case 6:return s===null&&Tp(l),null;case 13:return Yw(s,l,p);case 4:return qp(l,l.stateNode.containerInfo),x=l.pendingProps,s===null?l.child=fs(l,null,x,p):cn(s,l,x,p),l.child;case 11:return x=l.type,N=l.pendingProps,N=l.elementType===x?N:ir(x,N),Fw(s,l,x,N,p);case 7:return cn(s,l,l.pendingProps,p),l.child;case 8:return cn(s,l,l.pendingProps.children,p),l.child;case 12:return cn(s,l,l.pendingProps.children,p),l.child;case 10:e:{if(x=l.type._context,N=l.pendingProps,A=l.memoizedProps,T=N.value,ct(su,x._currentValue),x._currentValue=T,A!==null)if(rr(A.value,T)){if(A.children===N.children&&!mn.current){l=Vr(s,l,p);break e}}else for(A=l.child,A!==null&&(A.return=l);A!==null;){var F=A.dependencies;if(F!==null){T=A.child;for(var V=F.firstContext;V!==null;){if(V.context===x){if(A.tag===1){V=Hr(-1,p&-p),V.tag=2;var te=A.updateQueue;if(te!==null){te=te.shared;var le=te.pending;le===null?V.next=V:(V.next=le.next,le.next=V),te.pending=V}}A.lanes|=p,V=A.alternate,V!==null&&(V.lanes|=p),zp(A.return,p,l),F.lanes|=p;break}V=V.next}}else if(A.tag===10)T=A.type===l.type?null:A.child;else if(A.tag===18){if(T=A.return,T===null)throw Error(n(341));T.lanes|=p,F=T.alternate,F!==null&&(F.lanes|=p),zp(T,p,l),T=A.sibling}else T=A.child;if(T!==null)T.return=A;else for(T=A;T!==null;){if(T===l){T=null;break}if(A=T.sibling,A!==null){A.return=T.return,T=A;break}T=T.return}A=T}cn(s,l,N.children,p),l=l.child}return l;case 9:return N=l.type,x=l.pendingProps.children,ds(l,p),N=Fn(N),x=x(N),l.flags|=1,cn(s,l,x,p),l.child;case 14:return x=l.type,N=ir(x,l.pendingProps),N=ir(x.type,N),Uw(s,l,x,N,p);case 15:return qw(s,l,l.type,l.pendingProps,p);case 17:return x=l.type,N=l.pendingProps,N=l.elementType===x?N:ir(x,N),yu(s,l),l.tag=1,gn(x)?(s=!0,tu(l)):s=!1,ds(l,p),cw(l,x,N),Up(l,x,N,p),ah(null,l,x,!0,s,p);case 19:return Qw(s,l,p);case 22:return Ww(s,l,p)}throw Error(n(156,l.tag))};function wj(s,l){return Jb(s,l)}function b5(s,l,p,x){this.tag=s,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(s,l,p,x){return new b5(s,l,p,x)}function Sh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function w5(s){if(typeof s=="function")return Sh(s)?1:0;if(s!=null){if(s=s.$$typeof,s===R)return 11;if(s===H)return 14}return 2}function _a(s,l){var p=s.alternate;return p===null?(p=Wn(s.tag,l,s.key,s.mode),p.elementType=s.elementType,p.type=s.type,p.stateNode=s.stateNode,p.alternate=s,s.alternate=p):(p.pendingProps=l,p.type=s.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=s.flags&14680064,p.childLanes=s.childLanes,p.lanes=s.lanes,p.child=s.child,p.memoizedProps=s.memoizedProps,p.memoizedState=s.memoizedState,p.updateQueue=s.updateQueue,l=s.dependencies,p.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},p.sibling=s.sibling,p.index=s.index,p.ref=s.ref,p}function Du(s,l,p,x,N,A){var T=2;if(x=s,typeof s=="function")Sh(s)&&(T=1);else if(typeof s=="string")T=5;else e:switch(s){case D:return xi(p.children,N,A,l);case I:T=8,N|=8;break;case $:return s=Wn(12,p,l,N|2),s.elementType=$,s.lanes=A,s;case L:return s=Wn(13,p,l,N),s.elementType=L,s.lanes=A,s;case z:return s=Wn(19,p,l,N),s.elementType=z,s.lanes=A,s;case Q:return Ou(p,N,A,l);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case B:T=10;break e;case _:T=9;break e;case R:T=11;break e;case H:T=14;break e;case U:T=16,x=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return l=Wn(T,p,l,N),l.elementType=s,l.type=x,l.lanes=A,l}function xi(s,l,p,x){return s=Wn(7,s,x,l),s.lanes=p,s}function Ou(s,l,p,x){return s=Wn(22,s,x,l),s.elementType=Q,s.lanes=p,s.stateNode={isHidden:!1},s}function kh(s,l,p){return s=Wn(6,s,null,l),s.lanes=p,s}function Ch(s,l,p){return l=Wn(4,s.children!==null?s.children:[],s.key,l),l.lanes=p,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}function j5(s,l,p,x,N){this.tag=l,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jf(0),this.expirationTimes=Jf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jf(0),this.identifierPrefix=x,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null}function Ah(s,l,p,x,N,A,T,F,V){return s=new j5(s,l,p,F,V),l===1?(l=1,A===!0&&(l|=8)):l=0,A=Wn(3,null,null,l),s.current=A,A.stateNode=s,A.memoizedState={element:x,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bp(A),s}function N5(s,l,p){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:x==null?null:""+x,children:s,containerInfo:l,implementation:p}}function jj(s){if(!s)return ka;s=s._reactInternals;e:{if(ii(s)!==s||s.tag!==1)throw Error(n(170));var l=s;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(gn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(s.tag===1){var p=s.type;if(gn(p))return Y1(s,p,l)}return l}function Nj(s,l,p,x,N,A,T,F,V){return s=Ah(p,x,!0,s,N,A,T,F,V),s.context=jj(null),p=s.current,x=un(),N=Ia(p),A=Hr(x,N),A.callback=l??null,Pa(p,A,N),s.current.lanes=N,So(s,N,x),yn(s,x),s}function Iu(s,l,p,x){var N=l.current,A=un(),T=Ia(N);return p=jj(p),l.context===null?l.context=p:l.pendingContext=p,l=Hr(A,T),l.payload={element:s},x=x===void 0?null:x,x!==null&&(l.callback=x),s=Pa(N,l,T),s!==null&&(lr(s,N,T,A),lu(s,N,T)),T}function Tu(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Sj(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var p=s.retryLane;s.retryLane=p!==0&&p<l?p:l}}function Ph(s,l){Sj(s,l),(s=s.alternate)&&Sj(s,l)}function S5(){return null}var kj=typeof reportError=="function"?reportError:function(s){console.error(s)};function Eh(s){this._internalRoot=s}_u.prototype.render=Eh.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(n(409));Iu(s,l,null,null)},_u.prototype.unmount=Eh.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;hi(function(){Iu(null,s,null,null)}),l[Br]=null}};function _u(s){this._internalRoot=s}_u.prototype.unstable_scheduleHydration=function(s){if(s){var l=o1();s={blockedOn:null,target:s,priority:l};for(var p=0;p<ba.length&&l!==0&&l<ba[p].priority;p++);ba.splice(p,0,s),p===0&&u1(s)}};function Dh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Mu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Cj(){}function k5(s,l,p,x,N){if(N){if(typeof x=="function"){var A=x;x=function(){var te=Tu(T);A.call(te)}}var T=Nj(l,x,s,0,null,!1,!1,"",Cj);return s._reactRootContainer=T,s[Br]=T.current,zo(s.nodeType===8?s.parentNode:s),hi(),T}for(;N=s.lastChild;)s.removeChild(N);if(typeof x=="function"){var F=x;x=function(){var te=Tu(V);F.call(te)}}var V=Ah(s,0,!1,null,null,!1,!1,"",Cj);return s._reactRootContainer=V,s[Br]=V.current,zo(s.nodeType===8?s.parentNode:s),hi(function(){Iu(l,V,p,x)}),V}function Ru(s,l,p,x,N){var A=p._reactRootContainer;if(A){var T=A;if(typeof N=="function"){var F=N;N=function(){var V=Tu(T);F.call(V)}}Iu(l,T,s,N)}else T=k5(p,l,s,N,x);return Tu(T)}i1=function(s){switch(s.tag){case 3:var l=s.stateNode;if(l.current.memoizedState.isDehydrated){var p=No(l.pendingLanes);p!==0&&(ep(l,p|1),yn(l,jt()),(Ve&6)===0&&(xs=jt()+500,Ca()))}break;case 13:hi(function(){var x=Wr(s,1);if(x!==null){var N=un();lr(x,s,1,N)}}),Ph(s,1)}},tp=function(s){if(s.tag===13){var l=Wr(s,134217728);if(l!==null){var p=un();lr(l,s,134217728,p)}Ph(s,134217728)}},s1=function(s){if(s.tag===13){var l=Ia(s),p=Wr(s,l);if(p!==null){var x=un();lr(p,s,l,x)}Ph(s,l)}},o1=function(){return nt},l1=function(s,l){var p=nt;try{return nt=s,l()}finally{nt=p}},Kf=function(s,l,p){switch(l){case"input":if(Ie(s,p),l=p.name,p.type==="radio"&&l!=null){for(p=s;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<p.length;l++){var x=p[l];if(x!==s&&x.form===s.form){var N=Jc(x);if(!N)throw Error(n(90));ie(x),Ie(x,N)}}}break;case"textarea":me(s,p);break;case"select":l=p.value,l!=null&&We(s,!!p.multiple,l,!1)}},Vb=wh,Kb=hi;var C5={usingClientEntryPoint:!1,Events:[Fo,as,Jc,Wb,Hb,wh]},tl={findFiberByHostInstance:si,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},A5={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Qb(s),s===null?null:s.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||S5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$u.isDisabled&&$u.supportsFiber)try{_c=$u.inject(A5),Nr=$u}catch{}}return bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C5,bn.createPortal=function(s,l){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dh(l))throw Error(n(200));return N5(s,l,null,p)},bn.createRoot=function(s,l){if(!Dh(s))throw Error(n(299));var p=!1,x="",N=kj;return l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onRecoverableError!==void 0&&(N=l.onRecoverableError)),l=Ah(s,1,!1,null,null,p,!1,x,N),s[Br]=l.current,zo(s.nodeType===8?s.parentNode:s),new Eh(l)},bn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Qb(l),s=s===null?null:s.stateNode,s},bn.flushSync=function(s){return hi(s)},bn.hydrate=function(s,l,p){if(!Mu(l))throw Error(n(200));return Ru(null,s,l,!0,p)},bn.hydrateRoot=function(s,l,p){if(!Dh(s))throw Error(n(405));var x=p!=null&&p.hydratedSources||null,N=!1,A="",T=kj;if(p!=null&&(p.unstable_strictMode===!0&&(N=!0),p.identifierPrefix!==void 0&&(A=p.identifierPrefix),p.onRecoverableError!==void 0&&(T=p.onRecoverableError)),l=Nj(l,null,s,1,p??null,N,!1,A,T),s[Br]=l.current,zo(s),x)for(s=0;s<x.length;s++)p=x[s],N=p._getVersion,N=N(p._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[p,N]:l.mutableSourceEagerHydrationData.push(p,N);return new _u(l)},bn.render=function(s,l,p){if(!Mu(l))throw Error(n(200));return Ru(null,s,l,!1,p)},bn.unmountComponentAtNode=function(s){if(!Mu(s))throw Error(n(40));return s._reactRootContainer?(hi(function(){Ru(null,null,s,!1,function(){s._reactRootContainer=null,s[Br]=null})}),!0):!1},bn.unstable_batchedUpdates=wh,bn.unstable_renderSubtreeIntoContainer=function(s,l,p,x){if(!Mu(p))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Ru(s,l,p,!1,x)},bn.version="18.2.0-next-9e3b772b8-20220608",bn}var _j;function XP(){if(_j)return Th.exports;_j=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Th.exports=R5(),Th.exports}var Mj;function $5(){if(Mj)return Lu;Mj=1;var e=XP();return Lu.createRoot=e.createRoot,Lu.hydrateRoot=e.hydrateRoot,Lu}var z5=$5();XP();/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pl(){return Pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pl.apply(this,arguments)}var Fa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Fa||(Fa={}));const Rj="popstate";function L5(e){e===void 0&&(e={});function t(a,o){let{pathname:c="/",search:u="",hash:f=""}=Bi(a.location.hash.substr(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Hx("",{pathname:c,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){let c=a.document.querySelector("base"),u="";if(c&&c.getAttribute("href")){let f=a.location.href,d=f.indexOf("#");u=d===-1?f:f.slice(0,d)}return u+"#"+(typeof o=="string"?o:sd(o))}function r(a,o){gy(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return F5(t,n,r,e)}function kt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function gy(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function B5(){return Math.random().toString(36).substr(2,8)}function $j(e,t){return{usr:e.state,key:e.key,idx:t}}function Hx(e,t,n,r){return n===void 0&&(n=null),Pl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Bi(t):t,{state:n,key:t&&t.key||r||B5()})}function sd(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Bi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function F5(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:o=!1}=r,c=a.history,u=Fa.Pop,f=null,d=h();d==null&&(d=0,c.replaceState(Pl({},c.state,{idx:d}),""));function h(){return(c.state||{idx:null}).idx}function m(){u=Fa.Pop;let b=h(),y=b==null?null:b-d;d=b,f&&f({action:u,location:w.location,delta:y})}function g(b,y){u=Fa.Push;let S=Hx(w.location,b,y);n&&n(S,b),d=h()+1;let P=$j(S,d),k=w.createHref(S);try{c.pushState(P,"",k)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(k)}o&&f&&f({action:u,location:w.location,delta:1})}function v(b,y){u=Fa.Replace;let S=Hx(w.location,b,y);n&&n(S,b),d=h();let P=$j(S,d),k=w.createHref(S);c.replaceState(P,"",k),o&&f&&f({action:u,location:w.location,delta:0})}function j(b){let y=a.location.origin!=="null"?a.location.origin:a.location.href,S=typeof b=="string"?b:sd(b);return S=S.replace(/ $/,"%20"),kt(y,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,y)}let w={get action(){return u},get location(){return e(a,c)},listen(b){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(Rj,m),f=b,()=>{a.removeEventListener(Rj,m),f=null}},createHref(b){return t(a,b)},createURL:j,encodeLocation(b){let y=j(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:g,replace:v,go(b){return c.go(b)}};return w}var zj;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(zj||(zj={}));function U5(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Bi(t):t,a=xy(r.pathname||"/",n);if(a==null)return null;let o=QP(e);q5(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let f=t4(a);c=Z5(o[u],f)}return c}function QP(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(o,c,u)=>{let f={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};f.relativePath.startsWith("/")&&(kt(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let d=Va([r,f.relativePath]),h=n.concat(f);o.children&&o.children.length>0&&(kt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),QP(o.children,t,h,d)),!(o.path==null&&!o.index)&&t.push({path:d,score:X5(d,o.index),routesMeta:h})};return e.forEach((o,c)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))a(o,c);else for(let f of ZP(o.path))a(o,c,f)}),t}function ZP(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let c=ZP(r.join("/")),u=[];return u.push(...c.map(f=>f===""?o:[o,f].join("/"))),a&&u.push(...c),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function q5(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Q5(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const W5=/^:[\w-]+$/,H5=3,V5=2,K5=1,G5=10,Y5=-2,Lj=e=>e==="*";function X5(e,t){let n=e.split("/"),r=n.length;return n.some(Lj)&&(r+=Y5),t&&(r+=V5),n.filter(a=>!Lj(a)).reduce((a,o)=>a+(W5.test(o)?H5:o===""?K5:G5),r)}function Q5(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function Z5(e,t){let{routesMeta:n}=e,r={},a="/",o=[];for(let c=0;c<n.length;++c){let u=n[c],f=c===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",h=J5({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},d);if(!h)return null;Object.assign(r,h.params);let m=u.route;o.push({params:r,pathname:Va([a,h.pathname]),pathnameBase:i4(Va([a,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(a=Va([a,h.pathnameBase]))}return o}function J5(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=e4(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:r.reduce((d,h,m)=>{let{paramName:g,isOptional:v}=h;if(g==="*"){let w=u[m]||"";c=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const j=u[m];return v&&!j?d[g]=void 0:d[g]=(j||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:c,pattern:e}}function e4(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),gy(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function t4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gy(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function xy(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function n4(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?Bi(e):e;return{pathname:n?n.startsWith("/")?n:r4(n,t):t,search:s4(r),hash:o4(a)}}function r4(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Rh(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function a4(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function vy(e,t){let n=a4(e);return t?n.map((r,a)=>a===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function yy(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=Bi(e):(a=Pl({},e),kt(!a.pathname||!a.pathname.includes("?"),Rh("?","pathname","search",a)),kt(!a.pathname||!a.pathname.includes("#"),Rh("#","pathname","hash",a)),kt(!a.search||!a.search.includes("#"),Rh("#","search","hash",a)));let o=e===""||a.pathname==="",c=o?"/":a.pathname,u;if(c==null)u=n;else{let m=t.length-1;if(!r&&c.startsWith("..")){let g=c.split("/");for(;g[0]==="..";)g.shift(),m-=1;a.pathname=g.join("/")}u=m>=0?t[m]:"/"}let f=n4(a,u),d=c&&c!=="/"&&c.endsWith("/"),h=(o||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(d||h)&&(f.pathname+="/"),f}const Va=e=>e.join("/").replace(/\/\/+/g,"/"),i4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),s4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,o4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function l4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const JP=["post","put","patch","delete"];new Set(JP);const c4=["get",...JP];new Set(c4);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function El(){return El=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},El.apply(this,arguments)}const by=O.createContext(null),u4=O.createContext(null),Ya=O.createContext(null),of=O.createContext(null),Xa=O.createContext({outlet:null,matches:[],isDataRoute:!1}),eE=O.createContext(null);function d4(e,t){let{relative:n}=t===void 0?{}:t;ao()||kt(!1);let{basename:r,navigator:a}=O.useContext(Ya),{hash:o,pathname:c,search:u}=nE(e,{relative:n}),f=c;return r!=="/"&&(f=c==="/"?r:Va([r,c])),a.createHref({pathname:f,search:u,hash:o})}function ao(){return O.useContext(of)!=null}function Fi(){return ao()||kt(!1),O.useContext(of).location}function tE(e){O.useContext(Ya).static||O.useLayoutEffect(e)}function lf(){let{isDataRoute:e}=O.useContext(Xa);return e?S4():f4()}function f4(){ao()||kt(!1);let e=O.useContext(by),{basename:t,future:n,navigator:r}=O.useContext(Ya),{matches:a}=O.useContext(Xa),{pathname:o}=Fi(),c=JSON.stringify(vy(a,n.v7_relativeSplatPath)),u=O.useRef(!1);return tE(()=>{u.current=!0}),O.useCallback(function(d,h){if(h===void 0&&(h={}),!u.current)return;if(typeof d=="number"){r.go(d);return}let m=yy(d,JSON.parse(c),o,h.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Va([t,m.pathname])),(h.replace?r.replace:r.push)(m,h.state,h)},[t,r,c,o,e])}function nE(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=O.useContext(Ya),{matches:a}=O.useContext(Xa),{pathname:o}=Fi(),c=JSON.stringify(vy(a,r.v7_relativeSplatPath));return O.useMemo(()=>yy(e,JSON.parse(c),o,n==="path"),[e,c,o,n])}function p4(e,t){return h4(e,t)}function h4(e,t,n,r){ao()||kt(!1);let{navigator:a}=O.useContext(Ya),{matches:o}=O.useContext(Xa),c=o[o.length-1],u=c?c.params:{};c&&c.pathname;let f=c?c.pathnameBase:"/";c&&c.route;let d=Fi(),h;if(t){var m;let b=typeof t=="string"?Bi(t):t;f==="/"||(m=b.pathname)!=null&&m.startsWith(f)||kt(!1),h=b}else h=d;let g=h.pathname||"/",v=g;if(f!=="/"){let b=f.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(b.length).join("/")}let j=U5(e,{pathname:v}),w=y4(j&&j.map(b=>Object.assign({},b,{params:Object.assign({},u,b.params),pathname:Va([f,a.encodeLocation?a.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?f:Va([f,a.encodeLocation?a.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,n,r);return t&&w?O.createElement(of.Provider,{value:{location:El({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Fa.Pop}},w):w}function m4(){let e=N4(),t=l4(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),n?O.createElement("pre",{style:a},n):null,null)}const g4=O.createElement(m4,null);class x4 extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?O.createElement(Xa.Provider,{value:this.props.routeContext},O.createElement(eE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function v4(e){let{routeContext:t,match:n,children:r}=e,a=O.useContext(by);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement(Xa.Provider,{value:t},r)}function y4(e,t,n,r){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if((o=n)!=null&&o.errors)e=n.matches;else return null}let c=e,u=(a=n)==null?void 0:a.errors;if(u!=null){let h=c.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id]));h>=0||kt(!1),c=c.slice(0,Math.min(c.length,h+1))}let f=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<c.length;h++){let m=c[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=h),m.route.id){let{loaderData:g,errors:v}=n,j=m.route.loader&&g[m.route.id]===void 0&&(!v||v[m.route.id]===void 0);if(m.route.lazy||j){f=!0,d>=0?c=c.slice(0,d+1):c=[c[0]];break}}}return c.reduceRight((h,m,g)=>{let v,j=!1,w=null,b=null;n&&(v=u&&m.route.id?u[m.route.id]:void 0,w=m.route.errorElement||g4,f&&(d<0&&g===0?(k4("route-fallback"),j=!0,b=null):d===g&&(j=!0,b=m.route.hydrateFallbackElement||null)));let y=t.concat(c.slice(0,g+1)),S=()=>{let P;return v?P=w:j?P=b:m.route.Component?P=O.createElement(m.route.Component,null):m.route.element?P=m.route.element:P=h,O.createElement(v4,{match:m,routeContext:{outlet:h,matches:y,isDataRoute:n!=null},children:P})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?O.createElement(x4,{location:n.location,revalidation:n.revalidation,component:w,error:v,children:S(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):S()},null)}var rE=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(rE||{}),aE=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(aE||{});function b4(e){let t=O.useContext(by);return t||kt(!1),t}function w4(e){let t=O.useContext(u4);return t||kt(!1),t}function j4(e){let t=O.useContext(Xa);return t||kt(!1),t}function iE(e){let t=j4(),n=t.matches[t.matches.length-1];return n.route.id||kt(!1),n.route.id}function N4(){var e;let t=O.useContext(eE),n=w4(),r=iE();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function S4(){let{router:e}=b4(rE.UseNavigateStable),t=iE(aE.UseNavigateStable),n=O.useRef(!1);return tE(()=>{n.current=!0}),O.useCallback(function(a,o){o===void 0&&(o={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,El({fromRouteId:t},o)))},[e,t])}const Bj={};function k4(e,t,n){Bj[e]||(Bj[e]=!0)}function wn(e){let{to:t,replace:n,state:r,relative:a}=e;ao()||kt(!1);let{future:o,static:c}=O.useContext(Ya),{matches:u}=O.useContext(Xa),{pathname:f}=Fi(),d=lf(),h=yy(t,vy(u,o.v7_relativeSplatPath),f,a==="path"),m=JSON.stringify(h);return O.useEffect(()=>d(JSON.parse(m),{replace:n,state:r,relative:a}),[d,m,a,n,r]),null}function tn(e){kt(!1)}function C4(e){let{basename:t="/",children:n=null,location:r,navigationType:a=Fa.Pop,navigator:o,static:c=!1,future:u}=e;ao()&&kt(!1);let f=t.replace(/^\/*/,"/"),d=O.useMemo(()=>({basename:f,navigator:o,static:c,future:El({v7_relativeSplatPath:!1},u)}),[f,u,o,c]);typeof r=="string"&&(r=Bi(r));let{pathname:h="/",search:m="",hash:g="",state:v=null,key:j="default"}=r,w=O.useMemo(()=>{let b=xy(h,f);return b==null?null:{location:{pathname:b,search:m,hash:g,state:v,key:j},navigationType:a}},[f,h,m,g,v,j,a]);return w==null?null:O.createElement(Ya.Provider,{value:d},O.createElement(of.Provider,{children:n,value:w}))}function A4(e){let{children:t,location:n}=e;return p4(Vx(t),n)}new Promise(()=>{});function Vx(e,t){t===void 0&&(t=[]);let n=[];return O.Children.forEach(e,(r,a)=>{if(!O.isValidElement(r))return;let o=[...t,a];if(r.type===O.Fragment){n.push.apply(n,Vx(r.props.children,o));return}r.type!==tn&&kt(!1),!r.props.index||!r.props.children||kt(!1);let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Vx(r.props.children,o)),n.push(c)}),n}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kx(){return Kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kx.apply(this,arguments)}function P4(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function E4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function D4(e,t){return e.button===0&&(!t||t==="_self")&&!E4(e)}const O4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],I4="6";try{window.__reactRouterVersion=I4}catch{}const T4="startTransition",Fj=T5[T4];function _4(e){let{basename:t,children:n,future:r,window:a}=e,o=O.useRef();o.current==null&&(o.current=L5({window:a,v5Compat:!0}));let c=o.current,[u,f]=O.useState({action:c.action,location:c.location}),{v7_startTransition:d}=r||{},h=O.useCallback(m=>{d&&Fj?Fj(()=>f(m)):f(m)},[f,d]);return O.useLayoutEffect(()=>c.listen(h),[c,h]),O.createElement(C4,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:c,future:r})}const M4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",R4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sE=O.forwardRef(function(t,n){let{onClick:r,relative:a,reloadDocument:o,replace:c,state:u,target:f,to:d,preventScrollReset:h,unstable_viewTransition:m}=t,g=P4(t,O4),{basename:v}=O.useContext(Ya),j,w=!1;if(typeof d=="string"&&R4.test(d)&&(j=d,M4))try{let P=new URL(window.location.href),k=d.startsWith("//")?new URL(P.protocol+d):new URL(d),C=xy(k.pathname,v);k.origin===P.origin&&C!=null?d=C+k.search+k.hash:w=!0}catch{}let b=d4(d,{relative:a}),y=$4(d,{replace:c,state:u,target:f,preventScrollReset:h,relative:a,unstable_viewTransition:m});function S(P){r&&r(P),P.defaultPrevented||y(P)}return O.createElement("a",Kx({},g,{href:j||b,onClick:w||o?r:S,ref:n,target:f}))});var Uj;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Uj||(Uj={}));var qj;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(qj||(qj={}));function $4(e,t){let{target:n,replace:r,state:a,preventScrollReset:o,relative:c,unstable_viewTransition:u}=t===void 0?{}:t,f=lf(),d=Fi(),h=nE(e,{relative:c});return O.useCallback(m=>{if(D4(m,n)){m.preventDefault();let g=r!==void 0?r:sd(d)===sd(h);f(e,{replace:g,state:a,preventScrollReset:o,relative:c,unstable_viewTransition:u})}},[d,f,h,r,a,n,e,o,c,u])}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var z4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),re=(e,t)=>{const n=O.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:c,className:u="",children:f,...d},h)=>O.createElement("svg",{ref:h,...z4,width:a,height:a,stroke:r,strokeWidth:c?Number(o)*24/Number(a):o,className:["lucide",`lucide-${L4(e)}`,u].join(" "),...d},[...t.map(([m,g])=>O.createElement(m,g)),...Array.isArray(f)?f:[f]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=re("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=re("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=re("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=re("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=re("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=re("ArrowRightCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=re("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=re("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=re("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=re("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=re("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=re("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=re("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=re("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=re("CalendarRange",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=re("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=re("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=re("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=re("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=re("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=re("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=re("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=re("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=re("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=re("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=re("Contact",[["path",{d:"M17 18a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2",key:"1mghuy"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["circle",{cx:"12",cy:"10",r:"2",key:"1yojzk"}],["line",{x1:"8",x2:"8",y1:"2",y2:"4",key:"1ff9gb"}],["line",{x1:"16",x2:"16",y1:"2",y2:"4",key:"1ufoma"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=re("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=re("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=re("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=re("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=re("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=re("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=re("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=re("FileCode",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=re("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=re("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=re("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=re("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=re("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=re("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=re("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=re("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=re("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=re("HeartHandshake",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08v0c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"12sd6o"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=re("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=re("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=re("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=re("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=re("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=re("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=re("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=re("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=re("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=re("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=re("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=re("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=re("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=re("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=re("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=re("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=re("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=re("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=re("MonitorCheck",[["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=re("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=re("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=re("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=re("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=re("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=re("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=re("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=re("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2h0V5z",key:"uf6l00"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h0",key:"k2aug8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=re("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=re("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=re("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=re("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=re("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=re("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=re("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=re("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=re("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=re("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=re("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=re("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=re("Signal",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=re("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=re("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=re("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=re("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=re("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=re("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=re("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=re("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=re("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=re("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=re("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=re("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=re("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=re("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=re("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=re("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=re("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=re("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=re("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=re("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Mn="https://script.google.com/macros/s/AKfycbyaZwMLQ7_mKG2HO3fTAlaqwQl8vVUIOXz4dqbdA9l7aYnTPXJHmNcgsBP54G1Q9dQ5/exec",De=e=>{if(!e||e==="0"||e==="N/A")return"N/A";try{const t=new Date(e);if(isNaN(t.getTime()))return String(e);const n=t.getDate(),r=t.toLocaleString("en-US",{month:"short"}),a=t.getFullYear();return`${n}-${r}-${a}`}catch{return String(e)}},dd=e=>{if(!e||e==="0")return"";try{const t=new Date(e);return isNaN(t.getTime())?"":t.toISOString().split("T")[0]}catch{return""}},Ee=e=>e==null?"0.00":((typeof e=="string"?parseFloat(e.replace(/[^0-9.-]+/g,"")):e)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),Gj=(e,t=4)=>{if(!e)return"N/A";const n=String(e).trim();return n.length<=t?n:"".repeat(n.length-t)+n.slice(-t)},v_=({children:e,userRole:t,userName:n,notifications:r=[],permissions:a,logo:o,onLogout:c,onClearNotifications:u,onDismissNotification:f,onRefresh:d,isSyncing:h=!1})=>{const[m,g]=O.useState(!1),v=O.useRef(null),j=Fi(),w=lf();O.useEffect(()=>{const D=I=>{v.current&&!v.current.contains(I.target)&&g(!1)};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]);const b=j.pathname==="/",y=t==="Guest",S=r.filter(D=>D.Status==="Unread").length,P=[...r].sort((D,I)=>new Date(I.Time).getTime()-new Date(D.Time).getTime()).slice(0,15),k=D=>{switch(D){case"Critical":return"bg-rose-500";case"High":return"bg-orange-500";case"Normal":return"bg-indigo-500";default:return"bg-slate-400"}},C=D=>D.split(" ").map(I=>I[0]).join("").toUpperCase().substring(0,2),E=D=>{if(!D)return i.jsx(cd,{size:16});const I=D.toUpperCase();return I.includes("SIM")?i.jsx(aa,{size:16}):I.includes("PAYOUT")?i.jsx(Mi,{size:16}):I.includes("PARTNER")?i.jsx(df,{size:16}):i.jsx(cd,{size:16})};return i.jsxs("div",{className:"flex flex-col h-screen w-screen bg-white overflow-hidden font-sans",children:[i.jsxs("header",{className:"flex items-center justify-between h-14 md:h-20 px-4 md:px-10 bg-white border-b border-gray-100 shrink-0 z-50",children:[i.jsx("div",{className:"flex items-center space-x-4 md:space-x-8",children:i.jsxs(sE,{to:"/",className:"flex items-center space-x-3 group",children:[i.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-white border border-slate-100 rounded-2xl flex items-center justify-center overflow-hidden shadow-2xl group-hover:scale-105 transition-all",children:o?i.jsx("img",{src:o,alt:"Logo",className:"w-full h-full object-contain p-1.5"}):i.jsx("div",{className:"w-full h-full bg-slate-900 flex items-center justify-center font-bold text-white text-sm",children:"S"})}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-lg md:text-2xl font-semibold tracking-tighter text-slate-900 leading-none",children:"Sally Chanza"}),i.jsx("span",{className:"text-[7px] md:text-[9px] font-medium text-slate-400 uppercase tracking-[0.4em] mt-1.5 hidden sm:block",children:"Business Caf"})]})]})}),!y&&i.jsxs("div",{className:"flex items-center space-x-1 md:space-x-4",children:[i.jsx("button",{onClick:d,disabled:h,className:`p-2.5 md:p-3 text-slate-400 hover:text-indigo-600 transition-all rounded-xl hover:bg-indigo-50 disabled:opacity-30 ${h?"animate-spin text-indigo-500 bg-indigo-50":""}`,title:"Sync Data",children:i.jsx(Dl,{size:18,className:"md:w-[20px] md:h-[20px]"})}),i.jsxs("div",{className:"relative",ref:v,children:[i.jsxs("button",{onClick:()=>g(!m),className:"p-2.5 md:p-3 text-slate-400 hover:text-slate-900 transition-all relative rounded-xl hover:bg-slate-50",children:[i.jsx(od,{size:18,className:"md:w-[20px] md:h-[20px]"}),S>0&&i.jsx("span",{className:"absolute top-1.5 right-1.5 md:top-2 md:right-2 w-3.5 h-3.5 md:w-4 md:h-4 bg-rose-500 text-white text-[7px] md:text-[8px] font-black rounded-full flex items-center justify-center animate-pulse border-2 border-white",children:S})]}),m&&i.jsxs("div",{className:"absolute right-0 mt-4 w-[320px] sm:w-[340px] bg-white rounded-[2rem] border border-slate-100 shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"p-6 border-b border-slate-50 flex items-center justify-between bg-slate-50/50",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-slate-900",children:"Activity Hub"}),i.jsxs("span",{className:"text-[8px] font-bold text-indigo-600 mt-0.5 uppercase tracking-tighter",children:[S," Pending Actions"]})]}),S>0&&u&&i.jsxs("button",{onClick:D=>{D.stopPropagation(),u()},className:"flex items-center gap-1.5 px-3 py-1.5 bg-white border border-slate-200 text-slate-500 hover:text-indigo-600 hover:border-indigo-100 rounded-xl transition-all shadow-sm group",children:[i.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest",children:"Clear All"}),i.jsx(dE,{size:12,className:"group-hover:scale-110 transition-transform"})]})]}),i.jsx("div",{className:"max-h-[380px] sm:max-h-[420px] overflow-y-auto no-scrollbar",children:P.length>0?P.map(D=>i.jsxs("div",{className:`p-4 border-b border-slate-50 hover:bg-slate-50 transition-colors flex gap-3 group relative ${D.Status==="Unread"?"bg-indigo-50/20":""}`,children:[i.jsx("div",{className:`shrink-0 w-9 h-9 rounded-xl flex items-center justify-center text-white shadow-sm ${k(D.Priority)}`,children:E(D.Type)}),i.jsxs("div",{className:"flex flex-col gap-1 min-w-0 flex-1",children:[i.jsx("p",{className:"text-[11px] font-bold text-slate-900 leading-tight pr-6",children:D.Message}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-tighter",children:De(D.Time)}),D.ClientName&&i.jsx("span",{className:"text-[8px] font-bold text-indigo-500 uppercase tracking-tighter truncate max-w-[120px]",children:D.ClientName})]})]}),i.jsx("button",{onClick:I=>{I.stopPropagation(),f==null||f(D.ID)},className:"absolute right-4 top-1/2 -translate-y-1/2 p-2 bg-white rounded-lg border border-slate-100 text-slate-300 hover:text-emerald-600 hover:border-emerald-100 opacity-0 group-hover:opacity-100 transition-all shadow-sm",title:"Dismiss",children:i.jsx(wy,{size:14,strokeWidth:3})})]},D.ID)):i.jsxs("div",{className:"py-16 flex flex-col items-center opacity-20",children:[i.jsx(od,{size:40,className:"mb-3"}),i.jsx("p",{className:"text-[9px] font-black uppercase tracking-[0.2em]",children:"Queue is currently empty"})]})}),i.jsx("div",{className:"p-4 bg-slate-50 text-center border-t border-slate-100",children:i.jsx("button",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest hover:text-slate-900 transition-colors",children:"Open System Log"})})]})]}),i.jsxs("div",{className:"flex items-center space-x-2 bg-slate-50 p-1 rounded-xl md:pr-4 md:rounded-[1.25rem] border border-gray-100",children:[i.jsx("div",{className:"h-8 w-8 md:h-10 md:w-10 rounded-lg md:rounded-xl bg-slate-900 flex items-center justify-center text-white font-semibold text-[10px] md:text-xs shadow-xl",children:C(n)}),i.jsxs("div",{className:"hidden md:block",children:[i.jsx("p",{className:"text-[11px] font-semibold text-slate-900 leading-none truncate max-w-[100px]",children:n}),i.jsx("p",{className:"text-[8px] text-slate-400 font-medium uppercase tracking-[0.2em] mt-1.5",children:t})]})]}),i.jsx("button",{onClick:c,className:"p-2.5 md:p-3 text-slate-300 hover:text-slate-900 transition-all rounded-xl hover:bg-slate-50",children:i.jsx(e_,{size:18,className:"md:w-[20px] md:h-[20px]"})})]})]}),i.jsxs("main",{className:"flex-1 flex flex-col min-h-0 relative",children:[!b&&!y&&i.jsxs("div",{className:"px-4 pt-6 md:px-10 lg:px-20 shrink-0 flex items-center gap-4 animate-in fade-in slide-in-from-left-4 duration-500",children:[i.jsx("button",{onClick:()=>w("/"),className:"p-3 bg-white border border-gray-100 rounded-2xl shadow-sm hover:bg-slate-900 hover:text-white text-slate-400 transition-all active:scale-90",children:i.jsx(cf,{size:18})}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-[9px] font-medium text-slate-300 uppercase tracking-widest",children:"Main Menu"}),i.jsx("h2",{className:"text-xs font-black text-slate-900 uppercase tracking-tighter mt-1",children:j.pathname.substring(1).replace("-"," ")})]})]}),i.jsx("div",{className:`flex-1 min-h-0 w-full overflow-hidden ${b?"":"p-4 md:p-10 lg:p-20 lg:pt-8 pt-4"}`,children:i.jsx("div",{className:"mx-auto w-full max-w-[1600px] h-full",children:e})})]})]})},y_=({onLogin:e,isConnecting:t,isAuthenticating:n,logo:r,systemName:a="Sally Chanza",lockoutTime:o=0,isConnected:c=!0})=>{const[u,f]=O.useState(""),[d,h]=O.useState(""),[m,g]=O.useState(null),v=async b=>{if(b.preventDefault(),!u||!d){g("Please enter your email and password.");return}g(null);const y=await e(u,d);y&&g(y)},j=o>0,w=t||n;return i.jsxs("div",{className:"h-screen w-full flex flex-col lg:flex-row overflow-hidden bg-white select-none",children:[i.jsxs("div",{className:"hidden lg:flex w-[35%] bg-[#002d1a] p-16 flex-col justify-between relative overflow-hidden shrink-0",children:[i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"w-16 h-16 bg-white rounded-xl flex items-center justify-center mb-10 shadow-2xl overflow-hidden",children:r?i.jsx("img",{src:r,alt:"Company Logo",className:"w-full h-full object-contain p-2"}):i.jsx("div",{className:"w-12 h-12 border-2 border-[#002d1a] rounded flex items-center justify-center font-black text-[#002d1a] text-xl",children:"S"})}),i.jsx("h1",{className:"text-4xl font-black text-white uppercase tracking-tighter leading-tight",children:a}),i.jsx("p",{className:"text-[10px] font-bold text-[#10b981] uppercase tracking-[0.4em] mt-3",children:"Unified Business Portal"})]}),i.jsxs("div",{className:"relative z-10 space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`h-4 w-1 transition-colors duration-500 ${c?"bg-[#10b981]":"bg-slate-500"}`}),i.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest transition-colors duration-500 ${c?"text-white":"text-slate-500"}`,children:c?"Engine Online":"Engine Connecting..."})]}),i.jsxs("p",{className:"text-[10px] font-bold text-white/30 uppercase tracking-widest",children:[" ",new Date().getFullYear()," SCBC Fleet Solutions"]})]})]}),i.jsxs("div",{className:"flex-1 flex flex-col relative overflow-hidden bg-white",children:[i.jsxs("div",{className:"lg:hidden p-8 bg-[#002d1a] text-white flex items-center justify-between",children:[i.jsx("h1",{className:"text-xl font-black uppercase tracking-tighter",children:a}),r&&i.jsx("div",{className:"w-10 h-10 bg-white rounded-lg p-1.5 overflow-hidden",children:i.jsx("img",{src:r,alt:"Logo",className:"w-full h-full object-contain"})})]}),i.jsx("div",{className:"flex-1 flex flex-col justify-center items-center lg:items-start lg:pl-32 overflow-y-auto no-scrollbar py-12 lg:py-0",children:i.jsxs("div",{className:"w-full max-w-[400px] px-8 lg:px-0",children:[i.jsxs("div",{className:"mb-10",children:[i.jsx("h2",{className:"text-3xl font-black text-[#0f172a] mb-2 tracking-tight",children:"Login"}),i.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Sign in to access your account."})]}),m&&i.jsxs("div",{className:"mb-6 p-4 bg-rose-50 border border-rose-100 rounded-xl flex items-center gap-3 animate-in shake",children:[i.jsx(oE,{className:"text-rose-500 shrink-0",size:18}),i.jsx("p",{className:"text-[10px] text-rose-600 font-black uppercase tracking-wider",children:m})]}),i.jsxs("form",{onSubmit:v,className:"space-y-4",children:[i.jsx("div",{className:"space-y-1",children:i.jsx("input",{type:"email",value:u,onChange:b=>f(b.target.value),className:"w-full px-5 py-4 bg-[#f8fafc] border border-slate-100 rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:bg-white transition-all outline-none text-sm font-bold text-slate-700 placeholder:text-slate-400",placeholder:"Email Address",disabled:w||j,autoComplete:"username"})}),i.jsx("div",{className:"space-y-1",children:i.jsx("input",{type:"password",value:d,onChange:b=>h(b.target.value),className:"w-full px-5 py-4 bg-[#f8fafc] border border-slate-100 rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:bg-white transition-all outline-none text-sm font-bold text-slate-700 placeholder:text-slate-400",placeholder:"Password",disabled:w||j,autoComplete:"current-password"})}),i.jsx("div",{className:"pt-2 flex items-center justify-between",children:i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[i.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-200 text-[#0f172a] focus:ring-0"}),i.jsx("span",{className:"text-xs font-bold text-slate-400 group-hover:text-slate-600 transition-colors",children:"Stay signed in"})]})}),i.jsx("div",{className:"pt-8",children:i.jsx("button",{type:"submit",disabled:w||j,className:`w-full py-5 rounded-2xl shadow-xl transition-all flex items-center justify-center font-black text-xs uppercase tracking-[0.2em] active:scale-[0.98] ${j?"bg-slate-100 text-slate-400 shadow-none":"bg-[#0f172a] text-white hover:bg-black shadow-slate-900/10"}`,children:t?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ut,{className:"animate-spin",size:20,strokeWidth:3}),i.jsx("span",{children:"Connecting... Please wait"})]}):n?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ut,{className:"animate-spin",size:20,strokeWidth:3}),i.jsx("span",{children:"Verifying Identity..."})]}):j?`Locked: ${o}s`:"Sign In"})})]})]})}),i.jsx("div",{className:"absolute bottom-10 right-10 hidden lg:block opacity-20 hover:opacity-50 transition-opacity",children:i.jsx(kn,{size:20,className:"text-slate-400"})})]})]})},b_=({isVisible:e})=>{const[t,n]=O.useState(navigator.onLine);return O.useEffect(()=>{const r=()=>n(navigator.onLine);return window.addEventListener("online",r),window.addEventListener("offline",r),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",r)}},[]),t?e?i.jsxs("div",{className:"fixed top-4 right-1/2 translate-x-1/2 z-[100] bg-slate-900 text-white px-5 py-2 rounded-full text-[9px] font-black uppercase tracking-[0.3em] flex items-center shadow-2xl animate-in slide-in-from-top-4 border border-slate-800",children:[i.jsx(Ut,{size:12,className:"animate-spin mr-2"}),"Synchronizing..."]}):null:i.jsxs("div",{className:"fixed top-4 right-1/2 translate-x-1/2 z-[100] bg-rose-600 text-white px-5 py-2 rounded-full text-[9px] font-black uppercase tracking-[0.2em] flex items-center shadow-2xl animate-in fade-in slide-in-from-top-4 border border-rose-500",children:[i.jsx(Ui,{size:12,className:"mr-2"}),"Offline Mode (Read Only)"]})};var on=(e=>(e.Active="Active",e.Inactive="Inactive",e.Suspended="Suspended",e))(on||{}),Cs=(e=>(e.Active="Active",e.Inactive="Inactive",e.Maintenance="Maintenance",e))(Cs||{}),pn=(e=>(e.Active="Active",e.Expired="Expired",e.Cancelled="Cancelled",e))(pn||{}),wt=(e=>(e.Pending="Pending",e.Paid="Paid",e.Partial="Partial",e.Overdue="Overdue",e))(wt||{}),As=(e=>(e.Completed="Completed",e.Pending="Pending",e.Failed="Failed",e))(As||{}),Xn=(e=>(e.Open="Open",e.InProgress="In Progress",e.Resolved="Resolved",e))(Xn||{}),Rn=(e=>(e.Scheduled="Scheduled",e.InProgress="In Progress",e.Completed="Completed",e))(Rn||{}),ia=(e=>(e.Critical="Critical",e.High="High",e.Normal="Normal",e.Low="Low",e))(ia||{}),st=(e=>(e.Invoice="Invoice",e.Proforma="Proforma",e.Quotation="Quotation",e))(st||{}),ea=(e=>(e.InterestOnly="InterestOnly",e.PrincipalPlusInterest="PrincipalPlusInterest",e))(ea||{}),rn=(e=>(e.Draft="Draft",e.UnderReview="UnderReview",e.CounterProposed="CounterProposed",e.Approved="Approved",e.Active="Active",e))(rn||{}),Gr=(e=>(e.Call="Call",e.Email="Email",e.Meeting="Meeting",e.PaymentFollowUp="Payment Follow-Up",e.TechnicalSupport="Technical Support",e.GeneralNote="General Note",e.NoResponse="No Response",e))(Gr||{});const w_=({status:e})=>i.jsxs("div",{className:"relative mb-2",children:[i.jsx("div",{className:"w-16 h-16 rounded-2xl border border-slate-100 flex items-center justify-center bg-white shadow-sm ring-4 ring-slate-50 relative",children:i.jsx(Et,{size:28,strokeWidth:1.5,className:"text-slate-400"})}),i.jsx("div",{className:`absolute -bottom-1 -right-1 w-3.5 h-3.5 rounded-full border-2 border-white shadow-sm ${e===on.Active?"bg-emerald-500":"bg-rose-500"}`})]}),j_=({name:e,type:t,id:n})=>{const r=()=>{switch(t){case"Individual":return"Personal Account";case"SME":return"SME Business";case"Corporate":return"Enterprise Entity";default:return t||"Client"}};return i.jsxs("div",{className:"text-center mb-4",children:[i.jsx("h3",{className:"text-base font-bold text-slate-900 tracking-tight leading-none mb-1.5 px-4",children:e||"Unknown Client"}),i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("span",{className:"text-[8px] font-black text-indigo-600 bg-indigo-50 px-1.5 py-0.5 rounded uppercase tracking-widest",children:r()}),i.jsxs("span",{className:"text-[8px] font-mono text-slate-400 uppercase tracking-widest border border-slate-100 px-1 rounded",children:["ID: ",n||"---"]})]})]})},On=({icon:e,label:t,value:n,colorClass:r="text-slate-700",isEven:a=!1})=>i.jsxs("div",{className:`flex items-center justify-between py-2.5 px-4 border-b border-slate-100 transition-colors group ${a?"bg-slate-50/40":"bg-white"}`,children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(e,{size:12,className:"text-slate-300 group-hover:text-indigo-400 transition-colors"}),i.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-wider",children:t})]}),i.jsx("span",{className:`text-[11px] font-bold text-right truncate max-w-[130px] ${r}`,children:n||""})]}),N_=({formData:e,agentDisplayName:t})=>{const n=e.ClientType==="Individual";return i.jsxs("div",{className:"flex flex-col items-center px-4 pb-6 select-none",children:[i.jsx(w_,{status:e.Status}),i.jsx(j_,{name:e.CompanyName,type:e.ClientType,id:e.ClientID}),i.jsxs("div",{className:"w-full grid grid-cols-1 md:grid-cols-2 border border-slate-100 bg-white rounded-[1.5rem] overflow-hidden shadow-sm",children:[i.jsxs("div",{className:"md:border-r border-slate-100 flex flex-col",children:[i.jsx("div",{className:"bg-slate-50/50 px-4 py-1.5 border-b border-slate-100",children:i.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Primary Details"})}),i.jsx(On,{icon:n?Et:Ei,label:n?"Legal Name":"Entity Name",value:e.CompanyName}),n&&i.jsx(On,{icon:W4,label:"Gender",value:e.Gender,isEven:!0}),!n&&i.jsx(On,{icon:Et,label:"Primary Contact",value:e.PrimaryContactName,isEven:!0}),i.jsx(On,{icon:yc,label:"Email Address",value:e.Email,isEven:!n}),i.jsx(On,{icon:Ey,label:"Primary Phone",value:e.Phone,isEven:n}),i.jsx(On,{icon:aa,label:"Alt Phone",value:e.AltPhone,isEven:!n}),i.jsx(On,{icon:wE,label:"Address",value:e.BillingAddress,isEven:n})]}),i.jsxs("div",{className:"flex flex-col border-t md:border-t-0 border-slate-100",children:[i.jsx("div",{className:"bg-slate-50/50 px-4 py-1.5 border-b border-slate-100",children:i.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Management & Meta"})}),n&&i.jsx(On,{icon:V4,label:"NRC Number",value:e.NRC,colorClass:"text-indigo-600"}),i.jsx(On,{icon:io,label:"Assigned Agent",value:t,colorClass:"text-slate-900",isEven:n}),i.jsx(On,{icon:Py,label:"Comm. Protocol",value:`${e.AgentCommissionRate||0}%`,isEven:!n}),i.jsx(On,{icon:da,label:"Active Since",value:De(e.OnboardingDate),isEven:n}),i.jsx(On,{icon:kn,label:"Portal Access",value:e.PortalEnabled?"Enabled":"Restricted",colorClass:e.PortalEnabled?"text-emerald-600":"text-slate-400",isEven:!n}),i.jsx(On,{icon:xr,label:"Registry Status",value:e.Status,colorClass:e.Status===on.Active?"text-emerald-600":"text-rose-600",isEven:n})]})]})]})},vi=({label:e,required:t,...n})=>i.jsxs("div",{className:"space-y-1",children:[i.jsxs("label",{className:"text-[10px] font-medium text-slate-500 uppercase tracking-wider",children:[e," ",t&&"*"]}),i.jsx("input",{...n,className:"w-full p-2.5 bg-slate-50 border border-slate-100 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:bg-white outline-none transition-all text-sm font-medium"})]}),S_=({isEnabled:e,onToggle:t,password:n,setPassword:r,showPassword:a,setShowPassword:o,error:c,forcePasswordChange:u,showWalkthrough:f,onCheckboxChange:d,isSaving:h})=>i.jsxs("div",{className:"col-span-1 md:col-span-2 bg-slate-900 rounded-2xl p-6 text-white mt-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:`p-3 rounded-xl ${e?"bg-indigo-500 text-white shadow-lg shadow-indigo-500/20":"bg-slate-800 text-slate-500"}`,children:i.jsx(Cy,{size:18,strokeWidth:2})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-11px font-bold uppercase tracking-widest",children:"Portal Credentials"}),i.jsx("p",{className:"text-[9px] text-slate-400 font-medium tracking-wide",children:"Secure self-service node for client interaction."})]})]}),i.jsx("button",{type:"button",disabled:h,onClick:t,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none ${e?"bg-indigo-500":"bg-slate-800"} ${h?"opacity-50 cursor-not-allowed":""}`,children:i.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 ease-in-out shadow-sm ${e?"translate-x-6":"translate-x-1"}`})})]}),e&&i.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-800 animate-in fade-in slide-in-from-top-2 duration-300",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"text-[9px] font-bold text-slate-500 uppercase tracking-widest",children:"Set Access Pin / Password"}),i.jsxs("div",{className:"relative mt-2",children:[i.jsx("input",{type:a?"text":"password",value:n,onChange:m=>r(m.target.value),disabled:h,placeholder:"Enter temporary password...",className:`w-full p-2.5 pr-12 bg-slate-800 border rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-xs font-mono tracking-widest text-white ${c?"border-rose-500":"border-slate-700"}`}),i.jsx("button",{type:"button",onClick:()=>o(!a),className:"absolute right-3 top-2 text-slate-500 hover:text-white transition-colors",children:a?i.jsx(K4,{size:16}):i.jsx(jy,{size:16})})]}),c&&i.jsx("p",{className:"text-[9px] text-rose-400 mt-2 font-bold uppercase tracking-widest",children:c})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer group",children:[i.jsx("input",{name:"ForcePasswordChange",type:"checkbox",disabled:h,checked:u,onChange:d,className:"w-4 h-4 text-indigo-500 border-slate-700 bg-slate-800 rounded focus:ring-indigo-500"}),i.jsx("span",{className:"text-[9px] font-medium text-slate-400 uppercase tracking-widest group-hover:text-white transition-colors",children:"Strict Password Reset"})]}),i.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer group",children:[i.jsx("input",{name:"ShowWalkthrough",type:"checkbox",disabled:h,checked:f,onChange:d,className:"w-4 h-4 text-indigo-500 border-slate-700 bg-slate-800 rounded focus:ring-indigo-500"}),i.jsx("span",{className:"text-[9px] font-medium text-slate-400 uppercase tracking-widest group-hover:text-white transition-colors",children:"Guided Onboarding"})]})]})]})]}),k_=({formData:e,agents:t,isSaving:n,isAgentRestricted:r,isPortalEnabled:a,tempPassword:o,showPassword:c,passwordError:u,sendEmail:f,onSetSendEmail:d,onSetClientType:h,onTogglePortal:m,onSetTempPassword:g,onSetShowPassword:v,onChange:j,onAgentChange:w,onCheckboxChange:b,onSubmit:y})=>{const S=e.ClientType==="Individual";return i.jsxs("form",{id:"client-form",onSubmit:y,className:"px-8 pb-10 space-y-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"flex items-center justify-between border-b border-slate-50 pb-1",children:i.jsx("h3",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Account Classification"})}),i.jsx("div",{className:"grid grid-cols-3 gap-2",children:["Corporate","SME","Individual"].map(P=>i.jsxs("div",{onClick:()=>!n&&h(P),className:`relative p-2 rounded-xl border-2 transition-all cursor-pointer group flex flex-col items-center text-center gap-1 ${e.ClientType===P?"bg-indigo-50 border-indigo-500 ring-4 ring-indigo-500/5":"bg-white border-slate-100 hover:border-indigo-100"} ${n?"opacity-50 cursor-not-allowed":""}`,children:[e.ClientType===P&&i.jsx(Qa,{size:12,className:"absolute top-1.5 right-1.5 text-indigo-500 animate-in zoom-in"}),i.jsx("div",{className:`p-1.5 rounded-lg transition-colors ${e.ClientType===P?"bg-indigo-500 text-white":"bg-slate-50 text-slate-400 group-hover:text-indigo-400"}`,children:P==="Corporate"?i.jsx(Ei,{size:18}):P==="SME"?i.jsx(u_,{size:18}):i.jsx(Et,{size:18})}),i.jsx("p",{className:`text-[9px] font-bold uppercase tracking-wider ${e.ClientType===P?"text-indigo-900":"text-slate-500"}`,children:P})]},P))})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx("div",{className:"col-span-1 md:col-span-2",children:i.jsx("h3",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-4 border-b border-slate-50 pb-2",children:"Primary Identity"})}),i.jsx(vi,{required:!0,label:S?"Full Legal Name":"Registered Entity Name",name:"CompanyName",value:e.CompanyName||"",onChange:j,disabled:n}),S?i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-medium text-slate-500 uppercase tracking-wider",children:"Gender *"}),i.jsxs("select",{required:!0,name:"Gender",value:e.Gender||"",onChange:j,disabled:n,className:"w-full p-2.5 bg-slate-50 border border-slate-100 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm font-medium",children:[i.jsx("option",{value:"",disabled:!0,children:"-- Select Gender --"}),i.jsx("option",{value:"Male",children:"Male"}),i.jsx("option",{value:"Female",children:"Female"}),i.jsx("option",{value:"Other",children:"Other"})]})]}):i.jsx(vi,{required:!0,label:"Primary Contact Person",name:"PrimaryContactName",value:e.PrimaryContactName||"",onChange:j,disabled:n}),S&&i.jsx(vi,{label:"NRC Number (Individual)",name:"NRC",value:e.NRC||"",onChange:j,disabled:n,placeholder:"000000/00/0"}),i.jsx("div",{className:S?"col-span-1":"col-span-1 md:col-span-2",children:i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-medium text-slate-500 uppercase tracking-wider",children:"Registry Status"}),i.jsxs("select",{name:"Status",value:e.Status,onChange:j,disabled:n,className:"w-full p-2.5 bg-slate-50 border border-slate-100 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm font-medium",children:[i.jsx("option",{value:on.Active,children:"Active"}),i.jsx("option",{value:on.Inactive,children:"Inactive"}),i.jsx("option",{value:on.Suspended,children:"Suspended"})]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx("div",{className:"col-span-1 md:col-span-2",children:i.jsx("h3",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest border-b border-slate-50 pb-2",children:"Reach & Logistics"})}),i.jsx(vi,{required:!0,type:"email",label:"Global Email Address",name:"Email",value:e.Email||"",onChange:j,disabled:n}),i.jsx(vi,{required:!0,label:"Primary Phone Line",name:"Phone",value:e.Phone||"",onChange:j,disabled:n}),i.jsx(vi,{label:"Alternative Phone",name:"AltPhone",value:e.AltPhone||"",onChange:j,disabled:n}),i.jsx("div",{className:"col-span-1 md:col-span-2",children:i.jsx(vi,{label:"Full Address",name:"BillingAddress",value:e.BillingAddress||"",onChange:j,disabled:n})})]}),i.jsxs("div",{className:"bg-slate-50/50 rounded-2xl p-6 border border-slate-100",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[i.jsx(io,{size:16,className:"text-slate-400"}),i.jsx("h4",{className:"font-bold text-slate-800 text-[10px] uppercase tracking-widest",children:"Account Manager"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-medium text-slate-500 uppercase",children:"Assigned Agent"}),i.jsxs("select",{disabled:r||n,name:"AssignedAgentID",value:e.AssignedAgentID||"",onChange:w,className:"w-full p-2.5 bg-white border border-slate-100 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm font-medium",children:[i.jsx("option",{value:"",children:"-- Select Agent --"}),t.map(P=>i.jsx("option",{value:P.AgentID,children:P.AgentName},P.AgentID))]}),i.jsx("p",{className:"text-[8px] text-slate-400 font-bold uppercase mt-1",children:"Note: Commission protocol is managed globally via the Team Access module."})]})]}),i.jsx("div",{className:"bg-white rounded-2xl p-6 border border-slate-100 shadow-sm",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`p-2.5 rounded-xl ${f?"bg-indigo-100 text-indigo-600":"bg-slate-100 text-slate-400"}`,children:i.jsx(yc,{size:18})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest",children:"Onboarding Notification"}),i.jsx("p",{className:"text-[8px] font-bold text-slate-400 uppercase mt-0.5",children:"Send a professional welcome email to the client"})]})]}),i.jsx("button",{type:"button",onClick:()=>d(!f),disabled:n,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none ${f?"bg-indigo-600":"bg-slate-200"}`,children:i.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 ease-in-out shadow-sm ${f?"translate-x-6":"translate-x-1"}`})})]})}),i.jsx(S_,{isEnabled:a,onToggle:m,password:o,setPassword:g,showPassword:c,setShowPassword:v,error:u,forcePasswordChange:e.ForcePasswordChange,showWalkthrough:e.ShowWalkthrough,onCheckboxChange:b,isSaving:n})]})},C_=({logs:e,clientID:t,currentUser:n,onSaveLog:r})=>{const[a,o]=O.useState(!1),[c,u]=O.useState(!1),[f,d]=O.useState({Category:Gr.GeneralNote,Note:"",FollowUpDate:"",Status:"Open"}),h=async j=>{if(j.preventDefault(),!f.Note||c)return;u(!0);const w={ID:`LOG-${Math.floor(1e4+Math.random()*9e4)}`,ClientID:t,AgentID:n.id,AgentName:n.name,Date:new Date().toISOString(),Category:f.Category,Note:f.Note,FollowUpDate:f.FollowUpDate,Status:"Closed"};try{await r(w),o(!1),d({Category:Gr.GeneralNote,Note:"",FollowUpDate:"",Status:"Open"})}finally{u(!1)}},m=j=>{switch(j){case Gr.Call:return i.jsx(Ey,{size:14});case Gr.Email:return i.jsx(yc,{size:14});case Gr.Meeting:return i.jsx(bc,{size:14});case Gr.PaymentFollowUp:return i.jsx(hn,{size:14});default:return i.jsx(yr,{size:14})}},g=[...e].sort((j,w)=>new Date(w.Date).getTime()-new Date(j.Date).getTime()),v=new Date;return v.setHours(0,0,0,0),i.jsxs("div",{className:"flex flex-col h-full animate-in fade-in slide-in-from-bottom-2 duration-500 overflow-hidden bg-white",children:[i.jsx("div",{className:"px-6 py-4 bg-slate-50 border-b border-slate-100 shrink-0",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsxs("h3",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 flex items-center gap-2",children:[i.jsx(yE,{size:14})," Chronological Registry"]}),i.jsx("p",{className:"text-[9px] font-bold text-slate-400 mt-0.5",children:"Track touchpoints and follow-ups"})]}),!a&&i.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 bg-slate-900 text-white rounded-xl text-[9px] font-black uppercase tracking-widest shadow-xl hover:bg-indigo-600 transition-all active:scale-95",children:[i.jsx(Rr,{size:12,strokeWidth:3})," Record Contact"]})]})}),i.jsxs("div",{className:"flex-1 flex flex-col min-h-0 relative",children:[a&&i.jsx("div",{className:"absolute inset-x-0 top-0 z-40 px-4 py-4 bg-white/95 backdrop-blur-sm border-b border-slate-100 animate-in slide-in-from-top-2 duration-300",children:i.jsxs("form",{onSubmit:h,className:"bg-white border-2 border-indigo-100 rounded-2xl p-4 shadow-xl space-y-4 max-w-full",children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsx("span",{className:"text-[9px] font-black text-indigo-600 uppercase tracking-widest",children:"New Interaction Log"}),i.jsx("button",{type:"button",onClick:()=>o(!1),className:"p-1 text-slate-300 hover:text-slate-500",children:i.jsx(Ct,{size:16})})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase ml-1",children:"Type"}),i.jsx("select",{value:f.Category,onChange:j=>d({...f,Category:j.target.value}),className:"w-full p-2.5 bg-slate-50 border border-slate-100 rounded-xl text-xs font-bold outline-none",children:Object.values(Gr).map(j=>i.jsx("option",{value:j,children:j},j))})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase ml-1",children:"Follow-Up Date (Optional)"}),i.jsx("input",{type:"date",value:f.FollowUpDate,onChange:j=>d({...f,FollowUpDate:j.target.value}),className:"w-full p-2.5 bg-slate-50 border border-slate-100 rounded-xl text-xs font-bold outline-none"})]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase ml-1",children:"Interaction Notes"}),i.jsx("textarea",{required:!0,autoFocus:!0,value:f.Note,onChange:j=>d({...f,Note:j.target.value}),placeholder:"What happened? (e.g. 'No answer', 'Requested discount')",className:"w-full h-24 p-3 bg-slate-50 border border-slate-100 rounded-xl text-xs font-medium outline-none resize-none focus:ring-2 focus:ring-indigo-100"})]}),i.jsx("div",{className:"flex gap-2",children:i.jsxs("button",{type:"submit",disabled:c,className:"flex-1 py-3 bg-indigo-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest flex items-center justify-center gap-2 shadow-lg active:scale-95 transition-all",children:[c?i.jsx(Ut,{size:12,className:"animate-spin"}):i.jsx(Qa,{size:12}),"Log Interaction"]})})]})}),i.jsx("div",{className:`flex-1 overflow-y-auto no-scrollbar px-6 py-6 space-y-4 ${a?"pt-72 sm:pt-64":""}`,children:g.length>0?g.map(j=>{const w=j.FollowUpDate&&new Date(j.FollowUpDate)<=v;return i.jsxs("div",{className:"relative pl-10 group",children:[i.jsx("div",{className:"absolute left-0 top-1 w-8 h-8 rounded-full bg-white border border-slate-100 shadow-sm flex items-center justify-center text-slate-400 z-10 group-hover:bg-slate-900 group-hover:text-white transition-all",children:m(j.Category)}),i.jsxs("div",{className:`bg-white p-4 rounded-2xl border transition-all group-hover:shadow-md ${w?"border-rose-100 ring-2 ring-rose-50":"border-slate-100"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-[9px] font-black text-slate-900 uppercase",children:j.AgentName}),i.jsx("span",{className:"text-[8px] font-bold text-slate-400 uppercase tracking-tighter",children:De(j.Date)})]}),i.jsx("span",{className:`px-2 py-0.5 rounded text-[7px] font-black uppercase tracking-widest border ${j.Category===Gr.NoResponse?"bg-rose-50 text-rose-600 border-rose-100":"bg-slate-50 text-slate-500 border-slate-100"}`,children:j.Category})]}),i.jsx("p",{className:"text-[11px] font-medium text-slate-600 leading-relaxed whitespace-pre-wrap",children:j.Note}),j.FollowUpDate&&i.jsxs("div",{className:`mt-2 flex items-center gap-2 px-2.5 py-1 rounded-lg w-fit border ${w?"bg-rose-50 text-rose-700 border-rose-200 animate-pulse":"bg-amber-50 text-amber-700 border-amber-200"}`,children:[w?i.jsx(ua,{size:10}):i.jsx(da,{size:10}),i.jsxs("span",{className:"text-[8px] font-black uppercase tracking-widest",children:[w?"OVERDUE":"REMINDER",": ",De(j.FollowUpDate)]})]})]})]},j.ID)}):i.jsxs("div",{className:"py-24 text-center flex flex-col items-center opacity-20 select-none",children:[i.jsx(yr,{size:32,className:"mb-3"}),i.jsx("p",{className:"text-[9px] font-black uppercase tracking-[0.4em]",children:"No Interactions Logged"})]})})]})]})},Bu=e=>String(e||"").trim().toLowerCase(),A_=({isOpen:e,onClose:t,mode:n,client:r,agents:a,activityLogs:o=[],currentUser:c,onSave:u,onSaveActivityLog:f,onDelete:d})=>{const[h,m]=O.useState(n),[g,v]=O.useState("profile"),[j,w]=O.useState({}),[b,y]=O.useState(!1),[S,P]=O.useState(""),[k,C]=O.useState(!1),[E,D]=O.useState(""),[I,$]=O.useState(!1),[B,_]=O.useState(!0),[R,L]=O.useState(navigator.onLine);if(O.useEffect(()=>{const ne=()=>L(navigator.onLine);return window.addEventListener("online",ne),window.addEventListener("offline",ne),()=>{window.removeEventListener("online",ne),window.removeEventListener("offline",ne)}},[]),O.useEffect(()=>{if(e){if(m(n),v("profile"),D(""),$(!1),_(n==="add"),n==="add"){const ne=(c==null?void 0:c.role)==="Agent"||(c==null?void 0:c.role)==="Partner"?a.find(pe=>String(pe.AgentID)===String(c.id)):null;w({ClientID:`CL-${Math.floor(1e3+Math.random()*9e3)}`,Status:on.Active,ClientType:"Corporate",OnboardingDate:new Date().toISOString().split("T")[0],ForcePasswordChange:!0,ShowWalkthrough:!0,AssignedAgentID:(ne==null?void 0:ne.AgentID)||"",AgentCommissionRate:(ne==null?void 0:ne.CommissionRate)||0,Gender:"N/A",CompanyName:"",Email:"",Phone:"",BillingAddress:"",PrimaryContactName:""}),y(!1)}else r&&(w({...r}),y(!!r.ClientAccountID&&r.PortalEnabled!==!1));P("")}},[n,r,e,c,a]),!e)return null;const z=ne=>{if(I)return;const{name:pe,value:we}=ne.target;w(je=>({...je,[pe]:we}))},H=ne=>{if(I)return;const pe=ne.target.value,we=a.find(je=>String(je.AgentID)===String(pe));w(je=>({...je,AssignedAgentID:pe,AgentCommissionRate:(we==null?void 0:we.CommissionRate)||0}))},U=ne=>{if(I)return;const{name:pe,checked:we}=ne.target;w(je=>({...je,[pe]:we}))},Q=ne=>{I||w(pe=>({...pe,ClientType:ne,Gender:ne==="Individual"?pe.Gender!=="N/A"?pe.Gender:void 0:"N/A"}))},G=async ne=>{if(ne.preventDefault(),I||!R)return;if(D(""),b&&!j.ClientAccountID&&!S){D("A temporary password is required to enable portal access.");return}const pe={...j};if(!pe.CompanyName||!pe.Email){D("Required fields missing.");return}$(!0);try{await u({...pe,PortalEnabled:b,ClientAccountID:b?pe.ClientAccountID||`ACC-${Math.floor(1e4+Math.random()*9e4)}`:"",TempPassword:S},B),t()}catch{D("Synchronization failed. Check connection."),$(!1)}},Y=(c==null?void 0:c.role)==="Agent"||(c==null?void 0:c.role)==="Partner",M=a.find(ne=>Bu(ne.AgentID)===Bu(j.AssignedAgentID)),X=M?M.AgentName:"Unassigned",ee=o.filter(ne=>Bu(ne.ClientID)===Bu(j.ClientID));return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:i.jsxs("div",{className:`bg-white rounded-[2.5rem] shadow-2xl w-full max-w-2xl flex flex-col overflow-hidden animate-in fade-in zoom-in duration-300 ${h==="view"?"h-auto max-h-[90vh]":"h-full max-h-[90vh]"}`,children:[i.jsxs("div",{className:"flex justify-between items-center px-6 pt-6 shrink-0",children:[i.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-2xl",children:[i.jsxs("button",{onClick:()=>v("profile"),className:`flex items-center gap-2 px-6 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${g==="profile"?"bg-white text-slate-900 shadow-md":"text-slate-400 hover:text-slate-600"}`,children:[i.jsx(Et,{size:14})," Profile"]}),h!=="add"&&i.jsxs("button",{onClick:()=>v("interactions"),className:`flex items-center gap-2 px-6 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${g==="interactions"?"bg-white text-indigo-600 shadow-md":"text-slate-400 hover:text-slate-600"}`,children:[i.jsx(yr,{size:14})," Interaction Hub"]})]}),i.jsx("button",{onClick:t,disabled:I,className:"p-2 text-slate-300 hover:text-slate-900 transition-colors disabled:opacity-30",children:i.jsx(Ct,{size:20})})]}),i.jsx("div",{className:`flex-1 overflow-y-auto custom-scrollbar ${I?"pointer-events-none":""}`,children:g==="profile"?h==="view"?i.jsx(N_,{formData:j,agentDisplayName:X}):i.jsx("fieldset",{disabled:I,children:i.jsx(k_,{formData:j,agents:a,isSaving:I,isAgentRestricted:Y,isPortalEnabled:b,tempPassword:S,showPassword:k,passwordError:E,sendEmail:B,onSetSendEmail:_,onSetClientType:Q,onTogglePortal:()=>y(!b),onSetTempPassword:P,onSetShowPassword:C,onChange:z,onAgentChange:H,onCheckboxChange:U,onSubmit:G})}):i.jsx(C_,{logs:ee,clientID:j.ClientID,currentUser:c,onSaveLog:f})}),g==="profile"&&i.jsxs("div",{className:"p-6 pt-0 flex flex-col md:flex-row justify-center items-center gap-3 bg-white shrink-0",children:[!R&&i.jsxs("div",{className:"flex items-center gap-2 text-rose-500 font-black text-[8px] uppercase tracking-widest mb-2 md:mb-0",children:[i.jsx(Ui,{size:12})," Syncing Disabled: Device is Offline"]}),h==="view"?i.jsx("button",{onClick:()=>m("edit"),className:"w-full md:w-auto px-10 py-3 bg-slate-900 text-white rounded-2xl font-black shadow-lg hover:bg-slate-800 transition-all text-[10px] uppercase tracking-widest active:scale-95",children:"Modify Profile"}):i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:t,disabled:I,className:"w-full md:w-auto px-8 py-3 text-slate-400 bg-slate-50 hover:bg-slate-100 rounded-2xl transition-all text-[10px] font-black uppercase tracking-widest",children:"Cancel"}),i.jsx("button",{form:"client-form",type:"submit",disabled:I||!R,className:`w-full md:w-auto px-10 py-3 rounded-2xl font-black shadow-lg transition-all text-[10px] uppercase tracking-widest active:scale-95 min-w-[180px] flex items-center justify-center ${R?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:I?i.jsxs(i.Fragment,{children:[i.jsx(Ut,{size:14,className:"animate-spin mr-2"}),"Synchronizing..."]}):h==="add"?"Initiate Account":"Commit Changes"})]})]})]})})},My=({isOpen:e,onClose:t,role:n,onConfirm:r,defaultName:a,defaultTitle:o=""})=>{const[c,u]=O.useState("draw"),[f,d]=O.useState(a),[h,m]=O.useState(o),[g,v]=O.useState(!1),[j,w]=O.useState(!1),b=O.useRef(null);O.useEffect(()=>{e&&(d(a),m(o),w(!1),setTimeout(y,100))},[e,a,o]);const y=()=>{const D=b.current;if(D){const I=D.getContext("2d");I==null||I.clearRect(0,0,D.width,D.height),w(!1)}},S=D=>{const I=b.current;if(!I)return;const $=I.getContext("2d");if(!$)return;const B=I.getBoundingClientRect(),_="touches"in D?D.touches[0].clientX-B.left:D.clientX-B.left,R="touches"in D?D.touches[0].clientY-B.top:D.clientY-B.top;$.beginPath(),$.moveTo(_,R),$.strokeStyle="#000",$.lineWidth=2,$.lineCap="round",v(!0)},P=D=>{if(!g)return;const I=b.current;if(!I)return;const $=I.getContext("2d");if(!$)return;const B=I.getBoundingClientRect(),_="touches"in D?D.touches[0].clientX-B.left:D.clientX-B.left,R="touches"in D?D.touches[0].clientY-B.top:D.clientY-B.top;$.lineTo(_,R),$.stroke(),w(!0)},k=()=>{v(!1)},C=()=>{let D="";c==="draw"&&b.current&&(D=b.current.toDataURL("image/png")),r(f,h,D,c)};if(!e)return null;const E=n==="Provider";return i.jsx("div",{className:"fixed inset-0 z-[70] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 animate-in zoom-in-95 duration-200",children:i.jsxs("div",{className:"bg-white w-full max-w-lg rounded-xl shadow-2xl p-6 flex flex-col max-h-[90vh]",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[i.jsx(ud,{className:"mr-2 text-blue-600",size:24}),E?"Authorized Representative":"Client Representative"]}),i.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:i.jsx(Ct,{size:24})})]}),i.jsxs("div",{className:"flex space-x-2 mb-4 bg-gray-100 p-1 rounded-lg self-start",children:[i.jsxs("button",{onClick:()=>u("draw"),className:`flex items-center px-3 py-1.5 text-xs font-bold rounded-md transition-all ${c==="draw"?"bg-white text-blue-600 shadow-sm":"text-gray-500"}`,children:[i.jsx(Ay,{size:12,className:"mr-2"})," Draw"]}),i.jsxs("button",{onClick:()=>u("type"),className:`flex items-center px-3 py-1.5 text-xs font-bold rounded-md transition-all ${c==="type"?"bg-white text-blue-600 shadow-sm":"text-gray-500"}`,children:[i.jsx(h_,{size:12,className:"mr-2"})," Type"]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:"Signatory Name"}),i.jsx("input",{type:"text",value:f,onChange:D=>d(D.target.value),className:"w-full p-2.5 border border-gray-200 rounded-lg text-sm font-medium focus:ring-2 focus:ring-blue-500 outline-none mt-1 bg-white text-slate-900",placeholder:"Full Name"}),i.jsx("p",{className:"text-[8px] text-slate-400 font-bold uppercase mt-1",children:"Open for manual adjustment"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:"Signatory Title"}),i.jsx("input",{type:"text",value:h,onChange:D=>m(D.target.value),className:"w-full p-2.5 border border-gray-200 rounded-lg text-sm font-medium focus:ring-2 focus:ring-blue-500 outline-none mt-1",placeholder:"e.g. Director"})]})]}),c==="draw"?i.jsxs("div",{className:"relative border border-gray-300 rounded-xl overflow-hidden bg-white touch-none",children:[i.jsx("canvas",{ref:b,width:450,height:200,className:"w-full h-[200px] bg-gray-50 cursor-crosshair",onMouseDown:S,onMouseMove:P,onMouseUp:k,onMouseLeave:k,onTouchStart:S,onTouchMove:P,onTouchEnd:k}),i.jsx("div",{className:"absolute top-2 right-2",children:i.jsxs("button",{onClick:y,className:"text-[10px] bg-white/80 hover:bg-white border border-gray-200 px-2 py-1 rounded shadow-sm text-gray-600 flex items-center",children:[i.jsx(Dl,{size:10,className:"mr-1"})," Clear"]})}),!j&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none text-gray-300 text-xs font-black uppercase tracking-widest select-none",children:"Draw your signature here"})]}):i.jsx("div",{className:"p-10 bg-gray-50 border border-dashed border-gray-300 rounded-xl text-center h-[200px] flex items-center justify-center overflow-hidden",children:i.jsx("p",{className:"text-4xl text-slate-800 truncate px-4",style:{fontFamily:"cursive"},children:f||"Your Name"})}),i.jsxs("div",{className:"flex items-start bg-blue-50 p-3 rounded-lg border border-blue-100",children:[i.jsx(kn,{className:"text-blue-600 shrink-0 mt-0.5 mr-2",size:16}),i.jsx("p",{className:"text-[10px] text-blue-800 font-medium",children:"I verify that this electronic signature is intended to be my legally binding signature for this agreement."})]}),i.jsx("button",{onClick:C,disabled:!f||c==="draw"&&!j,className:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-bold shadow-lg shadow-blue-600/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all text-sm uppercase tracking-widest",children:"Confirm Signature"})]})]})})},IE=({isOpen:e,onClose:t,previewHtml:n,contract:r,userRole:a,onInitiateSigning:o,onDownload:c,onShare:u,onDispatch:f})=>{const d=O.useRef(null),h=O.useRef(null),[m,g]=O.useState(100);if(O.useEffect(()=>{if(e&&h.current){const y=()=>{var P;const S=((P=h.current)==null?void 0:P.clientWidth)||0;if(S<850){const k=Math.floor(S/850*100)-2;g(Math.max(30,k))}else g(100)};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)}},[e]),O.useEffect(()=>{if(e&&n&&d.current){const y=d.current,P=setTimeout(()=>{if(y.contentWindow&&y.contentWindow.document.body){const k=y.contentWindow.document.documentElement.scrollHeight;y.style.height=`${k+50}px`}},300);return()=>clearTimeout(P)}},[e,n,m]),!e||!n)return null;const v=!!(r.ProviderSign||r.ProviderSignImage),j=!!(r.ClientSign||r.ClientSignImage),w=v&&j,b=(a==null?void 0:a.toLowerCase())==="client";return i.jsx("div",{className:"fixed inset-0 z-[60] bg-slate-900/95 backdrop-blur-md flex items-center justify-center p-0 sm:p-4 md:p-6 lg:p-10 animate-in fade-in duration-300",children:i.jsxs("div",{className:"bg-slate-800 w-full max-w-6xl h-full sm:h-[95vh] sm:rounded-[2.5rem] flex flex-col shadow-2xl overflow-hidden border border-slate-700/50 relative",children:[i.jsxs("div",{className:"px-6 py-4 flex flex-wrap justify-between items-center border-b border-slate-700/50 bg-slate-800/50 backdrop-blur-xl gap-4 z-30",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("button",{onClick:t,className:"group p-2.5 bg-slate-700 hover:bg-slate-600 rounded-2xl text-white transition-all active:scale-95 flex items-center gap-2 pr-5 shadow-lg border border-slate-600",children:[i.jsx(cf,{size:18,className:"group-hover:-translate-x-1 transition-transform"}),i.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em]",children:"Exit Preview"})]}),i.jsx("div",{className:"h-10 w-px bg-slate-700/50 mx-2 hidden sm:block"}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-2.5 bg-indigo-500/10 rounded-2xl text-indigo-400 hidden sm:block border border-indigo-500/20",children:i.jsx(Sn,{size:20})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("h3",{className:"font-black text-sm text-white tracking-tight truncate uppercase tracking-widest",children:"Document Authorization"}),i.jsxs("p",{className:"text-[9px] text-slate-400 font-black uppercase tracking-[0.3em] mt-0.5",children:["REF: ",r.ContractID||"PENDING"]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[i.jsxs("div",{className:"hidden lg:flex items-center bg-slate-900/50 rounded-2xl border border-slate-700 p-1 mr-2",children:[i.jsx("button",{onClick:()=>g(y=>Math.max(30,y-10)),className:"p-2 text-slate-400 hover:text-white transition-colors",children:i.jsx(OE,{size:16})}),i.jsxs("span",{className:"text-[10px] font-black text-slate-500 w-12 text-center",children:[m,"%"]}),i.jsx("button",{onClick:()=>g(y=>Math.min(150,y+10)),className:"p-2 text-slate-400 hover:text-white transition-colors",children:i.jsx(DE,{size:16})})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[b?!j&&i.jsxs("button",{onClick:()=>o("Client"),className:"flex items-center px-5 py-2.5 bg-amber-500 hover:bg-amber-400 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all shadow-xl active:scale-95 border border-amber-500",children:[i.jsx(ud,{size:16,className:"sm:mr-2"})," Authorize Now"]}):v?!w&&i.jsxs("button",{onClick:f,className:"flex items-center px-6 py-2.5 bg-indigo-600 hover:bg-indigo-50 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all shadow-xl active:scale-95 border border-indigo-500 animate-in zoom-in",children:[i.jsx(Ga,{size:16,className:"sm:mr-2 animate-pulse"})," Dispatch Authorized Agreement"]}):i.jsxs("button",{onClick:()=>o("Provider"),className:"flex items-center px-5 py-2.5 bg-amber-500 hover:bg-amber-400 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all shadow-xl active:scale-95 border border-amber-500",children:[i.jsx(ud,{size:16,className:"sm:mr-2"})," Sign Agreement"]}),i.jsxs("button",{onClick:c,className:"flex items-center px-5 py-2.5 bg-slate-900 hover:bg-slate-950 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all shadow-xl active:scale-95 border border-slate-700",children:[i.jsx(jE,{size:16,className:"sm:mr-2"})," ",i.jsx("span",{className:"hidden sm:inline",children:"Print Document"})]})]})]})]}),i.jsxs("div",{ref:h,className:"flex-1 bg-slate-950 overflow-y-auto overflow-x-hidden flex flex-col items-center p-4 sm:p-12 no-scrollbar relative scroll-smooth",children:[i.jsx("div",{className:"bg-white w-full max-w-4xl shadow-[0_50px_100px_-20px_rgba(0,0,0,0.8)] transition-all duration-300 transform-gpu origin-top rounded-sm",style:{transform:`scale(${m/100})`,marginBottom:`-${100-m}%`},children:i.jsx("iframe",{ref:d,srcDoc:n,className:"w-full border-none block",style:{height:"auto",minHeight:"100vh"},title:"Contract Preview",scrolling:"no"})}),i.jsx("div",{className:"h-32 w-full shrink-0"})]}),i.jsx("div",{className:"absolute bottom-10 right-10 z-40 animate-bounce hidden md:block",children:i.jsx("div",{className:"bg-slate-800/80 backdrop-blur-md border border-slate-700 p-4 rounded-full shadow-2xl",children:i.jsxs("div",{className:"flex flex-col items-center gap-1",children:[i.jsx("span",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest",children:"End of Doc"}),i.jsx("div",{className:"w-1 h-3 bg-indigo-500 rounded-full"})]})})})]})})},ys=({icon:e,label:t,value:n})=>i.jsxs("div",{className:"flex items-start p-3 bg-gray-50 rounded-lg",children:[i.jsx("div",{className:"p-2 bg-white rounded-md border border-gray-100 mr-3 text-indigo-600",children:i.jsx(e,{size:18})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-gray-500",children:t}),i.jsx("p",{className:"text-sm font-semibold mt-1 text-slate-800",children:n||"0"})]})]}),P_=({contract:e,agents:t,vehicles:n,onPreview:r})=>{const a=(e.AssetIDs||[]).map(f=>String(f).trim().toLowerCase()),o=n.filter(f=>{const d=String(f.VehicleID||"").trim().toLowerCase();return a.includes(d)}),c=t.find(f=>String(f.AgentID)===String(e.AssignedAgentID)),u=c?c.AgentName:e.AssignedAgentID&&e.AssignedAgentID!=="0"?e.AssignedAgentID:"Unassigned";return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-indigo-600 rounded-3xl p-6 text-white shadow-xl relative overflow-hidden",children:[i.jsx("div",{className:"absolute right-0 top-0 p-8 opacity-10 rotate-12",children:i.jsx(io,{size:120})}),i.jsxs("div",{className:"relative z-10 space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-white/20 rounded-xl",children:i.jsx(Di,{size:20})}),i.jsx("h3",{className:"text-sm font-black uppercase tracking-[0.2em]",children:"Nature of Agreement"})]}),i.jsxs("p",{className:"text-xs text-indigo-50 leading-relaxed font-medium",children:["This agreement is for the supply and installation of ",i.jsx("span",{className:"font-bold text-white",children:"GPS Tracking or Dashcam hardware"}),", and the provision of access to a ",i.jsx("span",{className:"font-bold text-white",children:"digital tracking platform"}),". The service allows ",i.jsx("span",{className:"font-bold text-white",children:e.ClientName})," to monitor vehicles in real-time, view route history, and receive technical support for asset management."]})]})]}),i.jsxs("div",{className:"bg-white border border-gray-100 p-4 sm:p-6 rounded-2xl shadow-sm flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 transition-all",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[i.jsx("h3",{className:"text-xl sm:text-2xl font-black text-slate-900 tracking-tight",children:e.PlanType||"Standard"}),i.jsxs("div",{className:"flex gap-1.5",children:[i.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-lg text-[9px] font-black bg-indigo-50 text-indigo-600 border border-indigo-100 uppercase tracking-wider",children:[i.jsx(jy,{size:10,className:"mr-1"})," Digital Registry"]}),i.jsx("span",{className:`px-2 py-0.5 rounded-lg text-[9px] font-black uppercase tracking-wider border ${e.ContractStatus==="Active"?"bg-emerald-50 text-emerald-700 border-emerald-100":"bg-rose-50 text-rose-700 border-rose-100"}`,children:e.ContractStatus})]})]}),i.jsxs("div",{className:"flex items-center text-slate-500 text-sm font-medium",children:[i.jsx(Et,{size:14,className:"mr-1.5 opacity-50"}),i.jsx("span",{className:"tracking-tight",children:e.ClientName||"N/A"})]})]}),i.jsxs("div",{className:"w-full sm:w-auto text-left sm:text-right border-t sm:border-0 pt-4 sm:pt-0",children:[i.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-black tracking-[0.15em] mb-1",children:"Service Value"}),i.jsxs("div",{className:"flex items-baseline sm:justify-end gap-1",children:[i.jsxs("span",{className:"text-2xl sm:text-3xl font-black text-emerald-600 tracking-tighter",children:["K",Ee(e.TotalAmount)]}),i.jsxs("span",{className:"text-[10px] text-slate-400 font-bold uppercase",children:["/",e.BillingCycle]})]}),e.ClientSign&&i.jsx("div",{className:"mt-1 flex sm:justify-end",children:i.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-md text-[9px] font-bold bg-blue-50 text-blue-700 border border-blue-100",children:[i.jsx(Ny,{size:10,className:"mr-1"})," Legally Executed"]})})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4",children:[i.jsx(ys,{icon:ky,label:"Technology Type",value:e.ServiceType}),i.jsx(ys,{icon:da,label:"Effective Date",value:De(e.StartDate)}),i.jsx(ys,{icon:hn,label:"Agreement Maturity",value:De(e.ExpiryDate)}),i.jsx(ys,{icon:uf,label:"Asset Nodes",value:e.NoOfUnits}),i.jsx(ys,{icon:Et,label:"Managing Agent",value:u}),i.jsx(ys,{icon:hn,label:"Renewal Frequency",value:e.BillingCycle})]}),o.length>0&&i.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl overflow-hidden shadow-sm",children:[i.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-b border-gray-100 flex items-center gap-2",children:[i.jsx(vr,{size:16,className:"text-slate-400"}),i.jsx("h4",{className:"text-sm font-bold text-slate-700 uppercase tracking-wider",children:"Targeted Hardware Inventory"})]}),i.jsx("div",{className:"p-0 overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left text-xs",children:[i.jsx("thead",{className:"bg-slate-50 text-[9px] uppercase tracking-widest text-slate-400",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-5 py-3 font-bold",children:"Registration"}),i.jsx("th",{className:"px-5 py-3 font-bold",children:"Asset Model"}),i.jsx("th",{className:"px-5 py-3 font-bold",children:"Digital Identity (IMEI)"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-100",children:o.map(f=>i.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[i.jsx("td",{className:"px-5 py-3 font-mono font-bold text-slate-900",children:f.NumberPlate}),i.jsxs("td",{className:"px-5 py-3 text-slate-600",children:[f.Year," ",f.Make," ",f.Model]}),i.jsx("td",{className:"px-5 py-3 font-mono text-xs text-slate-400",children:f.DeviceSerial})]},f.VehicleID))})]})})]}),i.jsxs("div",{className:"bg-slate-900 text-white rounded-2xl p-6 flex flex-col md:flex-row justify-between items-center shadow-lg shadow-slate-900/10",children:[i.jsxs("div",{className:"mb-4 md:mb-0",children:[i.jsxs("h4",{className:"font-bold text-lg flex items-center",children:[i.jsx(Sn,{size:20,className:"mr-2 text-blue-400"})," Contractual Instrument"]}),i.jsx("p",{className:"text-sm text-slate-300 mt-1 max-w-md",children:"The binding legal document containing exhaustive terms, conditions, and inventory schedules."})]}),i.jsx("div",{className:"flex gap-3 w-full md:w-auto",children:i.jsx("button",{onClick:r,className:"flex-1 md:flex-none flex items-center justify-center px-6 py-2.5 bg-slate-800 hover:bg-slate-700 text-white rounded-xl transition-all font-bold text-xs uppercase tracking-widest border border-slate-700 shadow-xl active:scale-95",children:"Open Document View"})})]})]})},wc=({options:e,value:t,onChange:n,placeholder:r="Select...",className:a="",disabled:o=!1,required:c=!1,label:u})=>{const[f,d]=O.useState(!1),[h,m]=O.useState(""),g=O.useRef(null),v=O.useRef(null),j=e.find(b=>b.value===t);O.useEffect(()=>{const b=y=>{g.current&&!g.current.contains(y.target)&&d(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]),O.useEffect(()=>{f&&v.current&&v.current.focus(),f||m("")},[f]);const w=e.filter(b=>b.label.toLowerCase().includes(h.toLowerCase())||b.subtext&&b.subtext.toLowerCase().includes(h.toLowerCase()));return i.jsxs("div",{className:`space-y-1 ${a}`,ref:g,children:[u&&i.jsxs("label",{className:"text-sm font-medium text-gray-700",children:[u," ",c&&"*"]}),i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:`w-full min-h-[42px] px-3 py-2 bg-white border border-gray-200 rounded-lg flex items-center justify-between cursor-pointer transition-all ${o?"bg-gray-100 cursor-not-allowed opacity-70":f?"ring-2 ring-blue-500 border-blue-500":"hover:border-blue-300"}`,onClick:()=>!o&&d(!f),children:[i.jsx("span",{className:`block truncate text-sm ${j?"text-gray-900 font-medium":"text-gray-400"}`,children:j?j.label:r}),i.jsx(_i,{size:16,className:`text-gray-400 shrink-0 ml-2 transition-transform duration-200 ${f?"rotate-180":""}`})]}),f&&i.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-xl max-h-60 overflow-hidden flex flex-col animate-in fade-in zoom-in-95 duration-100 origin-top",children:[i.jsx("div",{className:"p-2 border-b border-gray-100 bg-gray-50 sticky top-0",children:i.jsxs("div",{className:"relative",children:[i.jsx(zn,{className:"absolute left-2.5 top-2.5 text-gray-400",size:14}),i.jsx("input",{ref:v,type:"text",className:"w-full pl-8 pr-8 py-1.5 text-sm bg-white border border-gray-200 rounded-md focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 placeholder-gray-400",placeholder:"Type to filter...",value:h,onChange:b=>m(b.target.value),onClick:b=>b.stopPropagation()}),h&&i.jsx("button",{onClick:b=>{var y;b.stopPropagation(),m(""),(y=v.current)==null||y.focus()},className:"absolute right-2 top-2 text-gray-400 hover:text-gray-600",children:i.jsx(Ct,{size:14})})]})}),i.jsx("div",{className:"overflow-y-auto flex-1 p-1",children:w.length>0?w.map(b=>i.jsxs("div",{className:`px-3 py-2 text-sm rounded-md cursor-pointer transition-colors flex items-center justify-between ${b.disabled?"opacity-50 cursor-not-allowed bg-gray-50":b.value===t?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>{b.disabled||(n(b.value),d(!1))},children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{children:b.label}),b.subtext&&i.jsx("span",{className:"text-xs text-gray-400 mt-0.5",children:b.subtext})]}),b.value===t&&i.jsx(wy,{size:14,className:"text-blue-600 ml-2"})]},b.value)):i.jsxs("div",{className:"px-4 py-6 text-sm text-gray-400 text-center flex flex-col items-center",children:[i.jsx(zn,{size:16,className:"mb-2 opacity-50"}),"No matches found"]})})]}),c&&i.jsx("input",{type:"text",className:"absolute opacity-0 pointer-events-none inset-0 -z-10",value:t,required:!0,onChange:()=>{},tabIndex:-1})]})]})},E_=({formData:e,clientOptions:t,groupedPlans:n,selectedPlanID:r,isCustomPlan:a,clientVehicles:o,onChange:c,onClientChange:u,onAssetToggle:f,onSelectAll:d})=>{const h=Array.isArray(e.AssetIDs)?e.AssetIDs.length:0,m=o.length>0&&h===o.length;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-slate-900 rounded-[2rem] p-6 text-white shadow-xl relative overflow-hidden border border-slate-800",children:[i.jsx("div",{className:"absolute right-0 top-0 p-6 opacity-5 rotate-12",children:i.jsx(df,{size:80})}),i.jsxs("div",{className:"relative z-10",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"p-2 bg-indigo-500 rounded-xl",children:i.jsx(kn,{size:18})}),i.jsx("h3",{className:"text-xs font-black uppercase tracking-[0.2em]",children:"Service Level Commitment"})]}),i.jsxs("p",{className:"text-[10px] text-slate-400 leading-relaxed font-medium uppercase tracking-wider",children:["This agreement is for the supply and installation of ",i.jsx("span",{className:"text-indigo-400 font-black",children:"GPS Tracking or Dashcam hardware"}),", and the provision of access to a ",i.jsx("span",{className:"text-indigo-400 font-black",children:"digital tracking platform"}),". The service allows the Client to monitor vehicles in real-time, view route history, and receive technical support for asset management."]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx("div",{className:"space-y-2",children:i.jsx(wc,{label:"Client / Subscriber",required:!0,options:t,value:e.ClientID||"",onChange:u,placeholder:"Select Client..."})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Contract Standing"}),i.jsxs("select",{name:"ContractStatus",value:e.ContractStatus,onChange:c,className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",children:[i.jsx("option",{value:pn.Active,children:"Active / Enforced"}),i.jsx("option",{value:pn.Expired,children:"Matured / Expired"}),i.jsx("option",{value:pn.Cancelled,children:"Terminated"})]})]}),e.ClientID&&i.jsxs("div",{className:"col-span-1 md:col-span-2 bg-indigo-50 border border-indigo-100 rounded-xl p-5 animate-in fade-in duration-300",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 text-indigo-900",children:[i.jsx(vr,{size:18}),i.jsx("h4",{className:"font-bold",children:"Subject Assets (Hardware Nodes)"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[o.length>0&&d&&i.jsxs("button",{type:"button",onClick:d,className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-widest transition-all ${m?"bg-indigo-600 text-white":"bg-white text-indigo-600 border border-indigo-200 hover:bg-indigo-50"}`,children:[i.jsx(Qa,{size:12}),m?"Deselect All":"Select All"]}),i.jsxs("span",{className:"text-[10px] font-black uppercase text-indigo-600 bg-white px-2 py-1.5 rounded shadow-sm border border-indigo-100",children:[h," Units Targeted"]})]})]}),o.length>0?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 max-h-[200px] overflow-y-auto pr-2 custom-scrollbar",children:o.map(g=>{const v=Array.isArray(e.AssetIDs)&&e.AssetIDs.includes(g.VehicleID);return i.jsxs("div",{onClick:()=>f(g.VehicleID),className:`flex items-center gap-3 p-3 rounded-lg border cursor-pointer transition-all ${v?"bg-indigo-600 border-indigo-700 text-white shadow-md":"bg-white border-indigo-100 text-indigo-900 hover:border-indigo-400"}`,children:[v?i.jsx(Yx,{size:18}):i.jsx(Jx,{size:18,className:"text-indigo-200"}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"text-xs font-bold font-mono tracking-wider",children:g.NumberPlate}),i.jsxs("p",{className:`text-[10px] truncate ${v?"text-indigo-100":"text-slate-400"}`,children:["IMEI: ",g.DeviceSerial]})]})]},g.VehicleID)})}):i.jsxs("div",{className:"text-center py-6 bg-white/50 border border-dashed border-indigo-200 rounded-lg",children:[i.jsx(oE,{size:24,className:"mx-auto text-indigo-300 mb-2"}),i.jsx("p",{className:"text-xs font-medium text-indigo-700",children:"No active vehicles found for this client."})]})]}),i.jsx("div",{className:"col-span-1 md:col-span-2 bg-slate-50 border border-slate-200 rounded-xl p-5",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Service Plan Classification *"}),i.jsxs("select",{name:"PlanID",value:r,onChange:c,className:"w-full p-2.5 bg-white border border-slate-200 rounded-lg focus:ring-2 focus:ring-slate-500 outline-none",children:[i.jsx("option",{value:"",children:"-- Select Plan --"}),Object.keys(n).map(g=>i.jsx("optgroup",{label:g,children:n[g].map(v=>i.jsxs("option",{value:v.PlanID,children:[v.Class," - K",v.BasePrice]},v.PlanID))},g)),i.jsx("option",{value:"custom",children:"-- Ad-hoc Custom Plan --"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Renewal Cycle"}),i.jsxs("select",{name:"BillingCycle",value:e.BillingCycle,onChange:c,className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg outline-none",children:[i.jsx("option",{value:"Monthly",children:"Monthly Recurring"}),i.jsx("option",{value:"Quarterly",children:"Quarterly Cycle"}),i.jsx("option",{value:"Annual",children:"Annual Commitment"}),i.jsx("option",{value:"Term",children:"Fixed Term"}),i.jsx("option",{value:"Once-off",children:"One-Time Provision"})]})]})]})}),i.jsxs("div",{className:"col-span-1 md:col-span-2 bg-slate-50 border border-slate-200 rounded-xl p-5 space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-slate-700 border-b border-slate-200 pb-2",children:[i.jsx(fa,{size:18}),i.jsx("h4",{className:"font-bold text-sm",children:"Settlement Terms"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Preferred Method"}),i.jsxs("select",{name:"PaymentMethod",value:e.PaymentMethod||"Bank Transfer",onChange:c,className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),i.jsx("option",{value:"Mobile Money",children:"Mobile Money"}),i.jsx("option",{value:"Cash",children:"Direct Cash"}),i.jsx("option",{value:"Cheque",children:"Corporate Cheque"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"First Payment Due"}),i.jsx("input",{type:"date",name:"PaymentDueDate",value:dd(e.PaymentDueDate),onChange:c,className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Agreement Activation Date"}),i.jsx("input",{type:"date",name:"StartDate",value:dd(e.StartDate),onChange:c,className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Term Length (Months)"}),i.jsx("input",{type:"number",name:"DurationMonths",value:e.DurationMonths||0,onChange:c,className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),i.jsxs("div",{className:"p-4 bg-slate-900 rounded-2xl border border-slate-800 flex items-center justify-between shadow-xl",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2.5 bg-indigo-500/20 rounded-xl text-indigo-400",children:i.jsx(da,{size:20})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] font-black uppercase text-slate-500 tracking-widest leading-none",children:"Agreement Expiration"}),i.jsx("h4",{className:"text-lg font-black text-white mt-1 uppercase tracking-tight",children:e.ExpiryDate?De(e.ExpiryDate):"Pending Data Entry"})]})]}),i.jsx("div",{className:"text-right",children:i.jsx("span",{className:"text-[8px] font-black uppercase bg-indigo-600 text-white px-2 py-0.5 rounded",children:"Auto-Calculated"})})]}),i.jsxs("div",{className:"p-5 bg-gray-50 rounded-xl border border-gray-200",children:[i.jsxs("h4",{className:"text-sm font-bold text-gray-900 mb-4 flex items-center",children:[i.jsx(Mi,{size:16,className:"mr-2 text-green-600"})," Portfolio Valuations"]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-semibold text-gray-500",children:"Unit Price"}),i.jsx("input",{type:"number",step:"0.01",name:"UnitPrice",value:e.UnitPrice||0,onChange:c,readOnly:!a,className:`w-full p-2 border border-gray-200 rounded ${a?"bg-white":"bg-gray-100 text-gray-500"}`})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-semibold text-gray-500",children:"Asset Count"}),i.jsx("input",{type:"number",name:"NoOfUnits",value:e.NoOfUnits||0,onChange:c,className:"w-full p-2 border border-gray-200 rounded bg-white font-bold text-slate-900"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-semibold text-gray-500",children:"Maintenance Fees"}),i.jsx("input",{type:"number",step:"0.01",name:"AdditionalCost",value:e.AdditionalCost||0,onChange:c,className:"w-full p-2 border border-gray-200 rounded bg-white"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-semibold text-gray-500",children:"Client Discount"}),i.jsx("input",{type:"number",step:"0.01",name:"Discount",value:e.Discount||0,onChange:c,className:"w-full p-2 border border-gray-200 rounded bg-white"})]})]}),i.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 flex justify-end items-center",children:[i.jsxs("span",{className:"text-sm font-medium text-gray-500 mr-3",children:["Unified Total (",e.BillingCycle,"):"]}),i.jsxs("span",{className:"text-xl font-bold text-emerald-600",children:["K",Ee(e.TotalAmount)]})]})]})]})},Ps=(e,t,n,r,a=[])=>{const o=(r==null?void 0:r.CompanyName)||"Sally Chanza Business Caf",c=(r==null?void 0:r.Address)||"House #39 Salam Park, Lusaka - Zambia",u=(r==null?void 0:r.Phone)||"260966862012",f=(r==null?void 0:r.Email)||"notifications@sallychanza.com",d=(r==null?void 0:r.Logo)||null,h=(e.AssetIDs||[]).map(y=>String(y).trim().toLowerCase()),m=n.filter(y=>h.includes(String(y.VehicleID).trim().toLowerCase())),g=m.length>0?m.map(y=>`
      <tr style="border-bottom: 1px solid #e2e8f0;">
        <td style="padding: 10px; font-size: 11px; font-weight: bold; color: #0f172a;">${y.NumberPlate||"N/A"}</td>
        <td style="padding: 10px; font-size: 11px; color: #475569;">${y.Make||""} ${y.Model||""} (${y.Year||"N/A"})</td>
        <td style="padding: 10px; font-size: 11px; font-family: monospace; color: #64748b;">${Gj(y.DeviceSerial)}</td>
        <td style="padding: 10px; font-size: 11px; font-family: monospace; color: #64748b;">${Gj(y.SimNumber)}</td>
      </tr>
    `).join(""):'<tr><td colspan="4" style="text-align:center; padding: 30px; color: #94a3b8; font-style: italic; background: #f8fafc;">No specific assets were selected for this schedule.</td></tr>',v=a.find(y=>String(y.AgentID)===String(e.AssignedAgentID)),j=v?v.AgentName:"Authorized Representative",w=e.ProviderSign||e.ProviderSignImage,b=e.ClientSign||e.ClientSignImage;return`
    <html>
    <head>
      <style>
        body { font-family: sans-serif; color: #1e293b; line-height: 1.4; font-size: 10px; margin: 0; padding: 40px; }
        .header-table { width: 100%; border-bottom: 3px solid #0f172a; padding-bottom: 15px; margin-bottom: 20px; }
        .logo { max-height: 60px; margin-bottom: 5px; }
        .doc-title { font-size: 20pt; font-weight: 900; text-transform: uppercase; color: #0f172a; margin: 15px 0 5px 0; letter-spacing: -1px; }
        .section-header { background: #0f172a; color: #ffffff; padding: 6px 12px; font-weight: 800; text-transform: uppercase; font-size: 8px; letter-spacing: 1px; margin: 20px 0 10px 0; border-radius: 4px; }
        .info-table { width: 100%; border-collapse: collapse; margin-bottom: 10px; }
        .info-table td { width: 50%; vertical-align: top; padding: 4px 12px 4px 0; }
        .label { font-size: 7px; font-weight: 800; color: #64748b; text-transform: uppercase; display: block; margin-bottom: 1px; }
        .value { font-weight: 700; color: #0f172a; font-size: 10px; }
        .asset-table { width: 100%; border-collapse: collapse; margin: 5px 0; border: 1px solid #e2e8f0; }
        .asset-table th { background: #f8fafc; text-align: left; padding: 8px; font-size: 8px; text-transform: uppercase; color: #64748b; border-bottom: 2px solid #e2e8f0; }
        .terms-text { font-size: 8px; color: #475569; text-align: justify; margin-top: 5px; }
        .terms-text p { margin-bottom: 6px; }
        .summary-row { padding: 10px; border-top: 2px solid #0f172a; margin-top: 15px; text-align: right; }
        .total-amount { font-size: 14px; font-weight: 900; color: #059669; }
        .signature-table { width: 100%; margin-top: 30px; border-collapse: collapse; }
        .sig-cell { width: 50%; padding: 10px 20px 10px 0; vertical-align: bottom; }
        .sig-line { border-bottom: 2px solid #cbd5e1; height: 50px; margin-bottom: 10px; position: relative; }
        .sig-img { max-height: 40px; max-width: 150px; display: block; margin: 0 auto; }
        .footer { position: fixed; bottom: 0; left: 0; right: 0; text-align: center; font-size: 7px; color: #94a3b8; border-top: 1px solid #f1f5f9; padding-top: 8px; }
        .parameters-grid { width: 100%; border-collapse: collapse; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 8px; overflow: hidden; margin-bottom: 10px; }
        .parameters-grid td { padding: 12px; border: 1px solid #e2e8f0; width: 25%; }
        .highlight-value { font-weight: 900; color: #6366f1; }
        .service-scope-box { background: #f1f5f9; border-left: 4px solid #6366f1; padding: 15px; margin: 15px 0; font-size: 9px; color: #334155; }
      </style>
    </head>
    <body>
      <table class="header-table">
        <tr>
          <td style="width: 60%;">
            ${d?`<img src="${d}" class="logo" />`:""}
            <div style="font-size: 14px; font-weight: 900; color: #0f172a; text-transform: uppercase;">${o}</div>
            <div style="font-size: 8px; color: #64748b;">${c}</div>
            <div style="font-size: 8px; color: #64748b;">${u} | ${f}</div>
          </td>
          <td style="width: 40%; text-align: right; vertical-align: top;">
            <div class="doc-title">Agreement</div>
            <div style="color: #6366f1; font-weight: 900; font-size: 10px;">REF: ${e.ContractID}</div>
          </td>
        </tr>
      </table>

      <div class="section-header">1. Contracting Entities</div>
      <table class="info-table">
        <tr>
          <td>
            <span class="label">The Service Provider</span>
            <span class="value">${o}</span>
            <div style="font-size: 8px; color: #64748b;">Represented by: ${j}</div>
          </td>
          <td>
            <span class="label">The Subscriber / Client</span>
            <span class="value">${(t==null?void 0:t.CompanyName)||e.ClientName||"Valued Subscriber"}</span>
            <div style="font-size: 8px; color: #64748b;"><strong>NRC / ID Number:</strong> ${(t==null?void 0:t.NRC)||"N/A"}</div>
            <div style="font-size: 8px; color: #64748b;">Email: ${(t==null?void 0:t.Email)||"N/A"}</div>
            <div style="font-size: 8px; color: #64748b;">Contact: ${(t==null?void 0:t.Phone)||"N/A"}</div>
          </td>
        </tr>
      </table>

      <div class="section-header">2. Statement of Service & Product Scope</div>
      <div class="service-scope-box">
        <strong>NATURE OF AGREEMENT:</strong><br/>
        This agreement is for the supply and installation of <strong>GPS Tracking or Dashcam hardware</strong>, 
        and the provision of access to a <strong>digital tracking platform</strong>. 
        The service allows the Client to monitor vehicles in real-time, view route history, 
        and receive technical support for asset management.
      </div>

      <div class="section-header">3. Agreement Lifecycle & Service Parameters</div>
      <table class="parameters-grid">
        <tr>
          <td>
            <span class="label">Effective Start Date</span>
            <span class="value">${De(e.StartDate)}</span>
          </td>
          <td>
            <span class="label">Contract Maturity (Expiry)</span>
            <span class="value" style="color: #ef4444;">${De(e.ExpiryDate)}</span>
          </td>
          <td>
            <span class="label">Total Duration</span>
            <span class="value">${e.DurationMonths||0} Month(s)</span>
          </td>
          <td>
            <span class="label">Agreement Status</span>
            <span class="value" style="color: #10b981;">${e.ContractStatus||"ACTIVE"}</span>
          </td>
        </tr>
        <tr>
          <td>
            <span class="label">Billing Frequency</span>
            <span class="value">${e.BillingCycle||"Monthly"}</span>
          </td>
          <td>
            <span class="label">Payment Mode</span>
            <span class="value">${e.PaymentMethod||"Not Specified"}</span>
          </td>
          <td>
            <span class="label">Unit Allocation</span>
            <span class="value">${e.NoOfUnits||0} Verified Assets</span>
          </td>
          <td>
            <span class="label">Plan Designation</span>
            <span class="value highlight-value">${e.PlanType||"Standard"}</span>
          </td>
        </tr>
      </table>

      <div class="section-header">4. Schedule of Assets (Inventory)</div>
      <table class="asset-table">
        <thead>
          <tr>
            <th style="width: 20%;">Plate Number</th>
            <th style="width: 30%;">Description</th>
            <th style="width: 25%;">Hardware ID (Masked)</th>
            <th style="width: 25%;">Connectivity ID</th>
          </tr>
        </thead>
        <tbody>
          ${g}
        </tbody>
      </table>

      <div class="section-header">5. Terms & Conditions of Service</div>
      <div class="terms-text">
        <p><strong>1. MAINTENANCE:</strong> Hardware component failure due to manufacturing defect or normal wear and tear will be repaired or replaced by the Provider. The Client is liable for the full cost of repair or replacement resulting from any accident, misuse, tampering, vandalism, neglect, or intentional damage.</p>
        <p><strong>2. MONITORING DISCLAIMER:</strong> The tracking platform is provided as a self-service tool. The Provider is not a security company, rapid response service, or active monitoring agency. The Provider does not monitor Client assets, dispatch emergency services, or intervene in incidents.</p>
        <p><strong>3. SYSTEM RELIABILITY:</strong> Location accuracy and system functionality depend entirely on the availability and quality of third-party GSM cellular networks and GPS satellite signals. Temporary loss of signal or inaccurate location reporting in tunnels, underground areas, dense urban environments, or remote geographic regions is a known environmental limitation and does not constitute a service failure by the Provider.</p>
        <p><strong>4. CLIENT'S MONITORING OBLIGATION:</strong> The Client is solely responsible for regularly checking the status and location of its assets via the tracking platform. The Client must report any suspected malfunction, anomaly, or offline status of the hardware or software to the Provider immediately to initiate any technical support. Failure to report in a timely manner may limit the Provider's ability to assist.</p>
        <p><strong>5. PAYMENT TERMS & ACCESS:</strong> Service is prepaid. Full access to the platform and tracking services is granted only after the Provider has verified receipt of payment. Service, including all tracking and platform access, will be restricted immediately and automatically upon the expiration of the prepaid term.</p>
        <p><strong>6. DEFAULT AND RECOVERY:</strong> Accounts overdue by more than thirty (30) days are in default. The Provider reserves the right to permanently deactivate services and, upon providing written notice, to physically locate and recover all tracking hardware installed on Client assets. All costs associated with recovery will be billed to the Client.</p>
        <p><strong>7. ASSET SALE OR TRANSFER:</strong> The Client must formally notify the Provider in writing prior to the sale, transfer, or disposal of any asset equipped with the Provider's tracking hardware. The Client must either: 1) Arrange for the physical removal and return of the hardware, or 2) Facilitate the official reassignment of the tracking subscription to the new asset owner through a new contract with the Provider. The Client remains financially responsible for the subscription until one of these actions is completed.</p>
        <p><strong>8. SUBSCRIPTION CHANGES:</strong> The Client may upgrade their service plan at any time. Downgrades to a lower-tier service plan are only permitted upon the expiry of the current prepaid contract term.</p>
        <p><strong>9. DATA PRIVACY:</strong> The Provider will keep all Client location and tracking data confidential. This data will be used solely for the purpose of delivering the service and for authorized technical support. Data will not be sold or shared with unauthorized third parties.</p>
        <p><strong>10. GOVERNING LAW & DISPUTES:</strong> This Agreement shall be governed by and construed in accordance with the laws of the Republic of Zambia. Any dispute arising from this Agreement shall be resolved exclusively through final and binding arbitration in Zambia, in accordance with the Arbitration Act of Zambia or the rules of an agreed-upon Zambian arbitration body.</p>
        <p><strong>11. HARDWARE TITLE & OWNERSHIP:</strong> Tracking hardware remains the property of <strong>${o}</strong> unless explicitly purchased outright and documented as a sale in writing.</p>
      </div>

      <div class="summary-row">
        <span style="font-size: 8px; font-weight: 800; color: #94a3b8; text-transform: uppercase; margin-right: 15px;">Total Subscription Amount (${e.BillingCycle}):</span>
        <span class="total-amount">K ${Ee(e.TotalAmount)}</span>
      </div>

      <div class="section-header">6. Authorization & Execution</div>
      <table class="signature-table">
        <tr>
          <td class="sig-cell">
            <span class="label">For the Provider</span>
            <div class="sig-line">
               ${w?`<img src="${w}" class="sig-img" />`:""}
            </div>
            <div class="value">${e.ProviderSignName||j}</div>
            <div style="font-size: 7px; color: #64748b;">Authenticated: ${e.ProviderSignDate?De(e.ProviderSignDate):"Pending"}</div>
          </td>
          <td class="sig-cell">
            <span class="label">For the Subscriber</span>
            <div class="sig-line">
               ${b?`<img src="${b}" class="sig-img" />`:""}
            </div>
            <div class="value">${e.ClientSignName||"Authorized Signatory"}</div>
            <div style="font-size: 7px; color: #64748b;">Signed: ${e.ClientSignDate?De(e.ClientSignDate):"Pending"}</div>
          </td>
        </tr>
      </table>

      <div class="footer">
        Digital Agreement  ID: ${e.ContractID}  Generated by ${o} Automated Registry.
      </div>
    </body>
    </html>
  `},Ua="Sally Chanza Support Desk",mr="support@sallychanza.com",Yr="",fe=e=>String(e||"").trim().toLowerCase().replace(/\s+/g,""),Xr=(e,t)=>{const n=fe(t);if(!n||n==="0")return mr;const r=e.find(a=>fe(a.AgentID)===n);return r!=null&&r.Email&&r.Email.includes("@")?r.Email.trim():mr},D_=[{PlanID:"SYS-BASIC",Category:"GPS Tracking",Type:"Basic",Class:"Economy",BasePrice:100,MaintenanceFee:20,LastUpdated:new Date().toISOString()},{PlanID:"SYS-STD",Category:"GPS Tracking",Type:"Standard",Class:"Value",BasePrice:150,MaintenanceFee:30,LastUpdated:new Date().toISOString()},{PlanID:"SYS-PRO",Category:"GPS Tracking",Type:"Professional",Class:"Enterprise",BasePrice:250,MaintenanceFee:50,LastUpdated:new Date().toISOString()},{PlanID:"SYS-CUSTOM",Category:"Tailored",Type:"Custom",Class:"Bespoke",BasePrice:0,MaintenanceFee:0,LastUpdated:new Date().toISOString()}],O_=({isOpen:e,onClose:t,mode:n,contract:r,clients:a,agents:o,servicePlans:c,vehicles:u=[],companySettings:f,userRole:d,currentUser:h,onSave:m,onDelete:g})=>{const[v,j]=O.useState(n),[w,b]=O.useState({}),[y,S]=O.useState(!1),[P,k]=O.useState(!0),[C,E]=O.useState(navigator.onLine),[D,I]=O.useState(!1),[$,B]=O.useState(""),[_,R]=O.useState(null),[L,z]=O.useState(!1),[H,U]=O.useState("Provider");O.useEffect(()=>{const ue=()=>E(navigator.onLine);return window.addEventListener("online",ue),window.addEventListener("offline",ue),()=>{window.removeEventListener("online",ue),window.removeEventListener("offline",ue)}},[]);const Q=c&&c.length>0?c:D_,G=Q.reduce((ue,Ie)=>{const Ne=Ie.Category||"General Plans";return ue[Ne]||(ue[Ne]=[]),ue[Ne].push(Ie),ue},{}),Y=a.map(ue=>({value:ue.ClientID,label:ue.CompanyName,disabled:ue.Status!==on.Active,subtext:ue.Status!==on.Active?"Inactive Account":ue.ClientType})),M=u.filter(ue=>fe(ue.ClientID)===fe(w.ClientID)&&ue.Status==="Active");O.useEffect(()=>{if(e){if(j(n),I(!1),B(""),R(null),S(!1),k(n==="add"),n==="add"){const ue=new Date().toISOString().split("T")[0];b({ContractID:`CN-${Math.floor(3e3+Math.random()*9e3)}`,StartDate:ue,PaymentDueDate:ue,DurationMonths:12,ContractStatus:pn.Active,NoOfUnits:0,UnitPrice:0,AdditionalCost:0,Discount:0,SubTotal:0,TotalAmount:0,BillingCycle:"Monthly",PlanType:"",ServiceType:"",AssetIDs:[],AssignedAgentID:(h==null?void 0:h.role)==="Agent"||(h==null?void 0:h.role)==="Partner"?h.id:""})}else if(r){const ue=r.AssetIDs||[],Ie=r.NoOfUnits>0?r.NoOfUnits:ue.length;b({...r,AssetIDs:ue,NoOfUnits:Ie});const Ne=Q.find(ze=>{var qe,We;return((qe=ze.Type)==null?void 0:qe.trim().toLowerCase())===((We=r.PlanType)==null?void 0:We.trim().toLowerCase())});Ne?B(Ne.PlanID):(B("custom"),I(!0))}}},[n,r,e,Q,h]),O.useEffect(()=>{if(v==="view")return;const ue=w.AssetIDs&&w.AssetIDs.length>0?w.AssetIDs.length:Number(w.NoOfUnits)||0,Ie=Number(w.UnitPrice)||0,Ne=Number(w.AdditionalCost)||0,ze=Number(w.Discount)||0,qe=ue*Ie,We=qe+Ne-ze;let gt="";if(w.StartDate&&w.DurationMonths){const Rt=new Date(w.StartDate);Rt.setMonth(Rt.getMonth()+Number(w.DurationMonths)),gt=Rt.toISOString().split("T")[0]}(w.NoOfUnits!==ue||w.TotalAmount!==We||w.ExpiryDate!==gt)&&b(Rt=>({...Rt,NoOfUnits:ue,SubTotal:qe,TotalAmount:We,ExpiryDate:gt}))},[w.NoOfUnits,w.AssetIDs,w.UnitPrice,w.AdditionalCost,w.Discount,w.StartDate,w.DurationMonths,v]);const X=()=>{if(!r)return;const ue=new Date().toISOString().split("T")[0],Ie=r.DurationMonths||12,Ne=new Date;Ne.setMonth(Ne.getMonth()+Ie),b({...r,ContractID:`CN-R-${Math.floor(1e3+Math.random()*9e3)}`,StartDate:ue,PaymentDueDate:ue,ExpiryDate:Ne.toISOString().split("T")[0],ContractStatus:pn.Active,ProviderSignDate:"",ProviderSign:"",ClientSignName:"",ClientSignTitle:"",ClientSignDate:"",ClientSign:""}),j("add"),k(!0)},ee=()=>{var qe;const ue=fe(w.ClientID),Ie=a.find(We=>fe(We.ClientID)===ue),Ne={...w,NoOfUnits:((qe=w.AssetIDs)==null?void 0:qe.length)||w.NoOfUnits||0},ze=Ps(Ne,Ie,u,f||null,o);R(ze)},ne=()=>{if(y||!C)return;S(!0);const ue=w.AssetIDs&&w.AssetIDs.length>0?w.AssetIDs.length:Number(w.NoOfUnits)||0,Ie=fe(w.ClientID),Ne=a.find(gt=>fe(gt.ClientID)===Ie),ze={...w,NoOfUnits:ue,Email:(Ne==null?void 0:Ne.Email)||""},We=String(ze.ProviderSign||ze.ProviderSignImage||"").trim().length>20;m(ze,We?!0:P).then(()=>{R(null),t()}).finally(()=>S(!1))},pe=ue=>{if(y)return;const{name:Ie,value:Ne}=ue.target;if(Ie==="PlanID"){if(Ne==="custom")I(!0),B("custom");else{I(!1),B(Ne);const ze=Q.find(qe=>qe.PlanID===Ne);ze&&b(qe=>({...qe,PlanType:ze.Type,ServiceType:`${ze.Category||"General"} - ${ze.Class||"Standard"}`,UnitPrice:ze.BasePrice,AdditionalCost:ze.MaintenanceFee}))}return}b(ze=>({...ze,[Ie]:Ne}))},we=ue=>{y||b(Ie=>{const Ne=Ie.AssetIDs||[],ze=Ne.includes(ue)?Ne.filter(qe=>qe!==ue):[...Ne,ue];return{...Ie,AssetIDs:ze,NoOfUnits:ze.length}})},je=(ue,Ie,Ne,ze)=>{const qe=new Date().toISOString(),We=H==="Provider",gt={...w,[We?"ProviderSignName":"ClientSignName"]:ue,[We?"ProviderSignTitle":"ClientSignTitle"]:Ie,[We?"ProviderSignDate":"ClientSignDate"]:qe,[We?"ProviderSign":"ClientSign"]:Ne,[We?"ProviderSignImage":"ClientSignImage"]:Ne};b(gt),z(!1);const Rt=fe(gt.ClientID),me=a.find(Ge=>fe(Ge.ClientID)===Rt);R(Ps(gt,me,u,f||null,o)),We&&k(!0),v==="view"&&m({...gt,Email:(me==null?void 0:me.Email)||""},!0)};if(!e)return null;const $e=w.ExpiryDate&&new Date(w.ExpiryDate)<new Date,Oe=fe(w.ClientID),oe=a.find(ue=>fe(ue.ClientID)===Oe),ke=String(w.ProviderSign||w.ProviderSignImage||"").trim().length>20,ie=!!(w.ClientSign||w.ClientSignImage),He=ke&&ie,Je=(oe==null?void 0:oe.ClientType)==="Corporate"||(oe==null?void 0:oe.ClientType)==="SME"?(oe==null?void 0:oe.PrimaryContactName)||w.ClientName||"":w.ClientName||"";return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden animate-in fade-in zoom-in duration-300",children:[i.jsxs("div",{className:"flex justify-between items-center p-8 border-b border-gray-100 bg-gray-50/50",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:`p-3 rounded-2xl ${v==="view"?"bg-indigo-100 text-indigo-600":"bg-slate-900 text-white"}`,children:i.jsx(Dl,{size:24})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:v==="view"?"Agreement Overview":v==="edit"?"Edit Agreement":"New Service Agreement"}),i.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-0.5",children:v==="view"?`REF: ${w.ContractID}`:"Configure Terms & Inventory"})]})]}),i.jsx("button",{onClick:t,disabled:y,className:"p-2 text-slate-300 hover:text-slate-900 transition-colors disabled:opacity-30",children:i.jsx(Ct,{size:24})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-8 no-scrollbar",children:v==="view"?i.jsx(P_,{contract:w,agents:o,vehicles:u,onPreview:()=>{const ue=fe(w.ClientID),Ie=a.find(Ne=>fe(Ne.ClientID)===ue);R(Ps(w,Ie,u,f||null,o))}}):i.jsxs("fieldset",{disabled:y,className:"space-y-8",children:[i.jsx("form",{id:"contract-form",onSubmit:ue=>{ue.preventDefault(),ne()},className:"space-y-6",children:i.jsx(E_,{formData:w,clientOptions:Y,groupedPlans:G,selectedPlanID:$,isCustomPlan:D,clientVehicles:M,onChange:pe,onClientChange:ue=>{if(!y){const Ie=fe(ue),Ne=a.find(ze=>fe(ze.ClientID)===Ie);b(ze=>({...ze,ClientID:ue,ClientName:(Ne==null?void 0:Ne.CompanyName)||"",AssetIDs:[]}))}},onAssetToggle:we,onSelectAll:()=>{if(!y){const ue=M.map(Ne=>Ne.VehicleID);(w.AssetIDs||[]).length===ue.length?b(Ne=>({...Ne,AssetIDs:[],NoOfUnits:0})):b(Ne=>({...Ne,AssetIDs:ue,NoOfUnits:ue.length}))}}})}),i.jsxs("div",{className:"bg-slate-900 rounded-[2rem] p-6 text-white shadow-xl relative overflow-hidden border border-slate-800",children:[i.jsx("div",{className:"absolute right-0 top-0 p-6 opacity-5 rotate-12",children:i.jsx(Ga,{size:80})}),i.jsxs("div",{className:"relative z-10 flex flex-col sm:flex-row items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:`p-3 rounded-2xl transition-all duration-500 ${P||ke?"bg-indigo-500 text-white":"bg-slate-800 text-slate-600"}`,children:i.jsx(Ga,{size:20,className:P||ke?"animate-pulse":""})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-[11px] font-black uppercase tracking-widest",children:"Digital Dispatch Protocol"}),i.jsx("p",{className:`text-[9px] font-bold uppercase mt-0.5 ${P||ke?"text-indigo-400":"text-slate-500"}`,children:ke?`Authorized: Dispatching document to ${(oe==null?void 0:oe.Email)||"Unset Address"}`:P?"Active: System will trigger a review request email.":"Standby: Internal record update only."})]})]}),!ke&&i.jsx("button",{type:"button",onClick:()=>!y&&k(!P),className:`relative inline-flex h-7 w-12 items-center rounded-full transition-colors focus:outline-none ${P?"bg-indigo-600":"bg-slate-800"}`,children:i.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform duration-200 ease-in-out shadow-sm ${P?"translate-x-6":"translate-x-1"}`})})]})]})]})}),i.jsxs("div",{className:"p-8 border-t border-gray-100 bg-gray-50 flex flex-col sm:flex-row justify-end items-center gap-4 shrink-0",children:[!C&&v!=="view"&&i.jsxs("div",{className:"flex items-center gap-2 text-rose-500 font-black text-[9px] uppercase tracking-widest mb-2 sm:mb-0",children:[i.jsx(Ui,{size:14})," Offline Mode: Registry Locked"]}),v==="view"?i.jsxs(i.Fragment,{children:[$e&&i.jsxs("button",{onClick:X,className:"flex-1 sm:flex-none px-8 py-3 bg-indigo-600 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-xl hover:bg-indigo-700 transition-all flex items-center justify-center",children:[i.jsx(Dl,{size:14,className:"mr-2"})," Renew Agreement"]}),g&&i.jsx("button",{onClick:()=>{confirm("Permanently remove this agreement?")&&(g(w.ContractID),t())},className:"px-6 py-3 text-rose-500 bg-rose-50 hover:bg-rose-100 rounded-2xl font-black text-[10px] uppercase tracking-widest",children:"Delete"}),i.jsx("button",{onClick:()=>j("edit"),className:"px-8 py-3 bg-slate-900 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-xl hover:bg-slate-800 transition-all",children:"Edit Record"})]}):i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:t,disabled:y,type:"button",className:"px-6 py-3 text-slate-400 bg-white border border-slate-100 rounded-2xl font-black text-[11px] uppercase tracking-widest",children:"Cancel"}),i.jsxs("button",{type:"button",onClick:ee,disabled:!w.ClientID||!w.PlanType||y,className:"flex items-center px-6 py-3 bg-slate-100 text-slate-600 hover:bg-slate-200 rounded-2xl font-black text-[11px] uppercase tracking-widest transition-all disabled:opacity-30",children:[i.jsx(jy,{size:14,className:"mr-2"})," ",ke?"Review Final Doc":"Preview & Authorize"]}),!He&&i.jsxs("button",{form:"contract-form",type:"submit",disabled:y||!C,className:`px-10 py-3 rounded-2xl font-black text-[11px] uppercase tracking-widest shadow-xl flex items-center justify-center min-w-[160px] transition-all ${ke?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-slate-900 text-white"} disabled:bg-slate-200 disabled:text-slate-400`,children:[y&&i.jsx(Ut,{size:14,className:"animate-spin mr-2"}),y?"Processing...":ke?"Dispatch & Sync":"Save Draft"]})]})]})]})}),i.jsx(IE,{isOpen:!!_,onClose:()=>R(null),previewHtml:_,contract:w,userRole:d,onInitiateSigning:ue=>{U(ue),z(!0)},onDownload:()=>{const ue=fe(w.ClientID),Ie=a.find(qe=>fe(qe.ClientID)===ue),Ne=Ps(w,Ie,u,f||null,o),ze=window.open("","_blank");ze&&(ze.document.write(Ne),ze.document.close(),ze.onload=()=>ze.print())},onShare:()=>{},onDispatch:ne}),i.jsx(My,{isOpen:L,onClose:()=>z(!1),role:H,defaultName:H==="Provider"?(h==null?void 0:h.name)||"":Je,defaultTitle:H==="Provider"?w.ProviderSignTitle||"":w.ClientSignTitle||"",onConfirm:je})]})},$h=({icon:e,label:t,value:n,colorClass:r="text-slate-700"})=>i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 border border-slate-100 rounded-xl flex-1 min-w-[140px]",children:[i.jsx("div",{className:"p-2 bg-white rounded-lg text-slate-400 border border-slate-100 shadow-sm",children:i.jsx(e,{size:14})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"text-[8px] font-black uppercase tracking-widest text-slate-400 leading-none mb-1",children:t}),i.jsx("p",{className:`text-xs font-bold truncate ${r}`,children:n||""})]})]}),I_=({invoice:e,onPreview:t})=>{const n=r=>{switch(r){case wt.Paid:return"bg-emerald-50 text-emerald-700 border-emerald-100";case wt.Overdue:return"bg-rose-50 text-rose-700 border-rose-100";default:return"bg-amber-50 text-amber-700 border-amber-100"}};return i.jsxs("div",{className:"space-y-6 animate-in fade-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:`px-2 py-0.5 rounded text-[8px] font-black uppercase tracking-widest border ${n(e.Status)}`,children:e.Status}),i.jsxs("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-tighter",children:["Document Node: ",e.InvoiceID]})]}),i.jsx("h3",{className:"text-lg font-black text-slate-900 leading-none uppercase tracking-tight",children:e.ClientName})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Unsettled Balance"}),i.jsxs("h4",{className:`text-2xl font-black tracking-tighter leading-none ${e.Status===wt.Overdue?"text-rose-600":"text-indigo-600"}`,children:["K",Ee(e.BalanceDue)]})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsx($h,{icon:da,label:"Date Issued",value:De(e.InvoiceDate)}),i.jsx($h,{icon:hn,label:"Settlement Goal",value:De(e.DueDate),colorClass:e.Status===wt.Overdue?"text-rose-600":"text-slate-900"}),i.jsx($h,{icon:ky,label:"Billing Period",value:`${e.PeriodMonths||1} Month(s)`})]}),i.jsxs("div",{className:"bg-white border border-slate-100 rounded-3xl overflow-hidden shadow-sm",children:[i.jsx("div",{className:"px-6 py-4 bg-slate-50 border-b border-slate-100",children:i.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500",children:"Service Line Entry"})}),i.jsx("div",{className:"p-0 overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left text-[11px]",children:[i.jsx("thead",{className:"bg-white text-[8px] uppercase tracking-widest text-slate-400 border-b border-slate-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 font-black",children:"Description of Service"}),i.jsx("th",{className:"px-6 py-4 font-black text-right",children:"Rate"}),i.jsx("th",{className:"px-6 py-4 font-black text-center",children:"Qty"}),i.jsx("th",{className:"px-6 py-4 font-black text-center",children:"Months"}),i.jsx("th",{className:"px-6 py-4 font-black text-right",children:"Total"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-50 text-slate-700",children:i.jsxs("tr",{children:[i.jsx("td",{className:"px-6 py-5 font-bold text-slate-900 uppercase leading-relaxed max-w-[200px]",children:e.Description||"Unified Fleet Connectivity Services"}),i.jsxs("td",{className:"px-6 py-5 text-right font-mono text-slate-500",children:["K",Ee(e.UnitPrice)]}),i.jsx("td",{className:"px-6 py-5 text-center font-bold",children:e.NoOfUnits}),i.jsx("td",{className:"px-6 py-5 text-center font-black text-indigo-600",children:e.PeriodMonths||1}),i.jsxs("td",{className:"px-6 py-5 text-right font-black text-slate-900 text-sm",children:["K",Ee(e.TotalAmount)]})]})})]})})]}),i.jsxs("div",{className:"bg-slate-900 rounded-3xl p-5 flex justify-between items-center text-white shadow-xl relative overflow-hidden",children:[i.jsx("div",{className:"absolute right-0 top-0 p-5 opacity-5 rotate-12",children:i.jsx(fa,{size:60})}),i.jsxs("div",{className:"flex items-center gap-8 relative z-10",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"Amount Settled"}),i.jsxs("p",{className:"text-base font-bold text-emerald-400 tracking-tight",children:["K",Ee(e.AmountPaid)]})]}),i.jsx("div",{className:"h-10 w-px bg-slate-800"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1",children:"System Entity"}),i.jsxs("p",{className:"text-xs font-bold text-indigo-300 tracking-tight",children:["#",e.InvoiceID]})]})]}),i.jsx("div",{className:"text-right",children:i.jsx("span",{className:`text-[8px] font-black uppercase px-3 py-1 rounded-lg border ${e.Status===wt.Paid?"bg-emerald-500/10 text-emerald-400 border-emerald-500/20":"bg-indigo-500/10 text-indigo-300 border-indigo-500/20"}`,children:"Registry Record"})})]}),i.jsxs("button",{onClick:t,className:"w-full group bg-white hover:bg-slate-50 border border-slate-200 p-6 rounded-[2.5rem] flex items-center justify-between transition-all active:scale-[0.98] shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"p-4 bg-indigo-50 text-indigo-600 rounded-2xl group-hover:bg-indigo-600 group-hover:text-white transition-all duration-300",children:i.jsx(Sn,{size:20})}),i.jsxs("div",{className:"text-left",children:[i.jsx("h4",{className:"text-xs font-black text-slate-900 uppercase tracking-widest",children:"Generate Print Artifact"}),i.jsx("p",{className:"text-[9px] text-slate-400 font-medium uppercase mt-1",children:"Official A4 Document for Client Dispatch"})]})]}),i.jsx("div",{className:"text-slate-200 group-hover:text-slate-900 group-hover:translate-x-2 transition-all",children:i.jsx(lE,{size:24})})]})]})},T_=({isOpen:e,onClose:t,previewHtml:n,invoice:r,onDownload:a,onEdit:o})=>{const c=O.useRef(null),u=O.useRef(null),[f,d]=O.useState(100),[h,m]=O.useState(!0);return O.useEffect(()=>{if(e&&u.current&&h){const g=()=>{var w;const v=((w=u.current)==null?void 0:w.clientWidth)||0,j=800;if(v<640)d(85);else if(v<j){const b=Math.floor(v/j*100)-5;d(Math.max(50,b))}else d(100)};return g(),window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)}},[e,h]),O.useEffect(()=>{if(e&&n&&c.current){const g=c.current,j=setTimeout(()=>{if(g.contentWindow&&g.contentWindow.document.body){const w=g.contentWindow.document.documentElement.scrollHeight;g.style.height=`${w+100}px`}},400);return()=>clearTimeout(j)}},[e,n,f]),!e||!n?null:i.jsx("div",{className:"fixed inset-0 z-[60] bg-slate-900/98 backdrop-blur-xl flex items-center justify-center p-0 sm:p-4 md:p-8 animate-in fade-in duration-300",children:i.jsxs("div",{className:"bg-slate-800 w-full max-w-6xl h-full sm:h-[95vh] sm:rounded-[2.5rem] flex flex-col shadow-2xl overflow-hidden border border-slate-700/50 relative",children:[i.jsxs("div",{className:"px-6 py-4 flex flex-wrap justify-between items-center border-b border-slate-700/50 bg-slate-800/80 backdrop-blur-md gap-4 z-20",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("button",{onClick:t,className:"group p-2.5 bg-slate-700 hover:bg-slate-600 rounded-2xl text-white transition-all active:scale-95 flex items-center gap-2 pr-5 shadow-lg border border-slate-600",children:[i.jsx(cf,{size:18,className:"group-hover:-translate-x-1 transition-transform"}),i.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Close"})]}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("h3",{className:"font-black text-xs text-white uppercase tracking-widest leading-none",children:"Document Preview"}),i.jsxs("p",{className:"text-[9px] text-slate-400 font-black tracking-[0.3em] uppercase mt-1",children:["REF: ",r.InvoiceID]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[i.jsxs("div",{className:"hidden sm:flex items-center bg-slate-900/50 rounded-2xl border border-slate-700 p-1 mr-2",children:[i.jsx("button",{onClick:()=>{d(g=>Math.max(30,g-10)),m(!1)},className:"p-2 text-slate-400 hover:text-white transition-colors",title:"Zoom Out",children:i.jsx(OE,{size:16})}),i.jsxs("span",{className:"text-[10px] font-black text-slate-500 w-12 text-center",children:[f,"%"]}),i.jsx("button",{onClick:()=>{d(g=>Math.min(200,g+10)),m(!1)},className:"p-2 text-slate-400 hover:text-white transition-colors",title:"Zoom In",children:i.jsx(DE,{size:16})}),i.jsx("button",{onClick:()=>m(!h),className:`ml-1 p-2 rounded-xl transition-all ${h?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,title:"Toggle Auto-Fit",children:h?i.jsx(r_,{size:16}):i.jsx(t_,{size:16})})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:o,className:"hidden md:block px-5 py-2.5 bg-slate-700 hover:bg-slate-600 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest border border-slate-600 transition-all active:scale-95",children:"Modify Data"}),i.jsxs("button",{onClick:a,className:"flex items-center px-6 py-2.5 bg-indigo-600 hover:bg-indigo-500 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all shadow-xl active:scale-95 border border-indigo-500",children:[i.jsx(jE,{size:16,className:"sm:mr-2"})," ",i.jsx("span",{className:"hidden sm:inline",children:"Print / PDF"})]})]})]})]}),i.jsxs("div",{ref:u,className:"flex-1 bg-slate-900/50 overflow-auto flex flex-col items-center p-4 sm:p-12 no-scrollbar scroll-smooth",children:[i.jsxs("div",{className:"relative bg-white shadow-[0_50px_100px_-20px_rgba(0,0,0,0.6)] transition-all duration-500 transform-gpu origin-top flex flex-col mb-20",style:{transform:`scale(${f/100})`,marginBottom:`calc(100px - ${100-f}%)`,width:"800px",minWidth:"800px"},children:[i.jsxs("div",{className:"absolute -top-8 left-0 right-0 flex justify-between items-center px-2 opacity-40",children:[i.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"Document Node Start"}),i.jsxs("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest",children:["A4 Scale: ",f,"%"]})]}),i.jsx("iframe",{ref:c,srcDoc:n,className:"w-full border-none block bg-white",style:{height:"auto",minHeight:"100vh"},title:"Digital Invoice",scrolling:"no"}),i.jsx("div",{className:"absolute -bottom-1 left-4 right-4 h-1 bg-slate-300/20 blur-sm rounded-full"})]}),i.jsx("div",{className:"h-24 w-full shrink-0"})]}),i.jsx("div",{className:"sm:hidden absolute bottom-6 left-1/2 -translate-x-1/2 pointer-events-none z-30 flex flex-col items-center gap-2",children:i.jsxs("div",{className:"bg-slate-800/90 backdrop-blur-md px-4 py-2 rounded-full border border-slate-700 shadow-2xl flex items-center gap-3",children:[i.jsx("div",{className:"w-1 h-1 rounded-full bg-indigo-500 animate-ping"}),i.jsx("span",{className:"text-[9px] font-black text-slate-300 uppercase tracking-widest",children:"Scroll Horizontally to Read"})]})}),i.jsx("div",{className:"absolute top-1/2 right-4 -translate-y-1/2 hidden xl:block opacity-20 hover:opacity-100 transition-opacity",children:i.jsxs("div",{className:"flex flex-col items-center gap-4 py-8 px-2 bg-slate-800 border border-slate-700 rounded-full text-slate-500",children:[i.jsx("span",{className:"rotate-90 text-[8px] font-black uppercase tracking-widest whitespace-nowrap",children:"End of Document"}),i.jsx("div",{className:"w-px h-20 bg-gradient-to-b from-slate-700 to-transparent"})]})})]})})},Ry=(e,t,n)=>{const r=(n==null?void 0:n.CompanyName)||"Sally Chanza Business Caf",a=((n==null?void 0:n.Address)||"House #39 Salam Park, Lusaka - Zambia").split("|"),o=(n==null?void 0:n.Phone)||"260966862012",c=(n==null?void 0:n.Email)||"notifications@sallychanza.com",u=(n==null?void 0:n.Website)||"www.sallychanza.com",f=(n==null?void 0:n.Logo)||null,d=e.DocType===st.Quotation,h=e.Status===wt.Paid,m=e.Status===wt.Overdue;let g=e.DocType||"Invoice";h&&!d&&(g="Payment Receipt");const v=Number(e.PeriodMonths)||1,j=Number(e.NoOfUnits)||1,w=Number(e.UnitPrice)||0,b=w*j*v||e.TotalAmount||0,y=Number(e.AmountPaid)||0,S=h?0:e.BalanceDue!==void 0?e.BalanceDue:Math.max(0,b-y),P=(t==null?void 0:t.CompanyName)||e.ClientName||"Valued Client",k=e.Description||(w>0&&j>0?`Fleet Management Service (${j} Units for ${v} Month${v>1?"s":""})`:"Professional Technical Services");return`
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="UTF-8">
      <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap');
        @page { size: A4; margin: 0; }
        body { font-family: 'Inter', sans-serif; color: #1e293b; margin: 0; padding: 0; background: #ffffff; line-height: 1.5; }
        .page { width: 210mm; min-height: 297mm; padding: 20mm; margin: 0 auto; box-sizing: border-box; position: relative; }
        
        .header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 40px; }
        .company-info h1 { font-size: 16pt; font-weight: 800; margin: 0; color: #0f172a; }
        .company-info p { font-size: 9pt; color: #64748b; margin: 2px 0; }
        
        .doc-meta { text-align: right; }
        .status-pill { display: inline-block; padding: 4px 12px; border-radius: 4px; font-size: 8pt; font-weight: 700; text-transform: uppercase; margin-bottom: 10px; }
        .status-paid { background: #dcfce7; color: #166534; border: 1px solid #bbf7d0; }
        .status-pending { background: #fef3c7; color: #92400e; border: 1px solid #fde68a; }
        .status-overdue { background: #fee2e2; color: #991b1b; border: 1px solid #fecaca; }

        .doc-meta h2 { font-size: 22pt; font-weight: 900; margin: 0; color: #0f172a; text-transform: uppercase; }
        .meta-data { margin-top: 10px; font-size: 10pt; display: grid; gap: 4px; }

        .billing-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 40px; margin-bottom: 40px; padding-top: 20px; border-top: 1px solid #f1f5f9; }
        .section-label { font-size: 8pt; font-weight: 700; color: #94a3b8; text-transform: uppercase; margin-bottom: 8px; display: block; }
        .client-name { font-size: 12pt; font-weight: 700; color: #0f172a; margin-bottom: 4px; }
        .address-text { font-size: 9pt; color: #475569; }

        .items-table { width: 100%; border-collapse: collapse; margin-bottom: 30px; }
        .items-table th { background: #f8fafc; text-align: left; padding: 12px; font-size: 8pt; font-weight: 700; color: #64748b; text-transform: uppercase; border-bottom: 1px solid #e2e8f0; }
        .items-table td { padding: 15px 12px; font-size: 10pt; border-bottom: 1px solid #f1f5f9; }

        .summary-container { display: flex; justify-content: flex-end; }
        .summary-box { width: 300px; padding: 20px; border: 1px solid #e2e8f0; border-radius: 12px; }
        .summary-row { display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 9pt; color: #475569; }
        .summary-row.total { border-top: 1px solid #e2e8f0; padding-top: 12px; margin-top: 12px; font-size: 12pt; font-weight: 800; color: #0f172a; }
        .next-due-banner { background: #f0f9ff; border: 1px solid #bae6fd; padding: 12px; border-radius: 8px; margin-top: 20px; color: #0369a1; font-size: 9pt; text-align: center; }

        .footer { position: absolute; bottom: 20mm; left: 20mm; right: 20mm; border-top: 1px solid #f1f5f9; padding-top: 15px; text-align: center; font-size: 8pt; color: #94a3b8; }
      </style>
    </head>
    <body>
      <div class="page">
        <div class="header">
          <div class="company-info">
            ${f?`<img src="${f}" style="height:50px; margin-bottom:10px;" />`:""}
            <h1>${r}</h1>
            ${a.map(C=>`<p>${C.trim()}</p>`).join("")}
            <p>${o} | ${c}</p>
          </div>
          <div class="doc-meta">
            <div class="status-pill ${h?"status-paid":m?"status-overdue":"status-pending"}">
               ${h?"Payment Confirmed":m?"Payment Overdue":"Payment Pending"}
            </div>
            <h2>${g}</h2>
            <div class="meta-data">
              <div><strong>No:</strong> ${e.InvoiceID}</div>
              <div><strong>Date:</strong> ${De(e.InvoiceDate)}</div>
              <div><strong>Valid Until:</strong> ${De(e.DueDate)}</div>
            </div>
          </div>
        </div>

        <div class="billing-grid">
          <div>
            <span class="section-label">Bill To</span>
            <div class="client-name">${P}</div>
            <div class="address-text">${(t==null?void 0:t.BillingAddress)||"N/A"}</div>
            <div class="address-text">Email: ${(t==null?void 0:t.Email)||"N/A"}</div>
          </div>
          <div>
            <span class="section-label">Account Details</span>
            <div class="address-text"><strong>Contract Ref:</strong> ${e.ContractID||"ADHOC"}</div>
            <div class="address-text"><strong>Service Type:</strong> ${e.ServiceType||"Unified Managed Fleet"}</div>
          </div>
        </div>

        <table class="items-table">
          <thead>
            <tr>
              <th style="width: 60%;">Description of Service</th>
              <th style="text-align: center; width: 15%;">Unit Price</th>
              <th style="text-align: center; width: 10%;">Qty</th>
              <th style="text-align: right; width: 15%;">Total</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <div style="font-weight: 600;">${k}</div>
                <div style="font-size: 8pt; color: #94a3b8; margin-top: 4px;">Includes priority technical support and system access.</div>
              </td>
              <td style="text-align: center;">K ${Ee(w)}</td>
              <td style="text-align: center;">${j}</td>
              <td style="text-align: right; font-weight: 600;">K ${Ee(b)}</td>
            </tr>
          </tbody>
        </table>

        <div class="summary-container">
          <div class="summary-box">
            <div class="summary-row"><span>Subtotal</span><span>K ${Ee(b)}</span></div>
            <div class="summary-row" style="color: #10b981;"><span>Total Paid</span><span>- K ${Ee(y)}</span></div>
            <div class="summary-row total">
              <span>${h?"Balance":"Amount Due"}</span>
              <span>K ${Ee(h?0:S)}</span>
            </div>
            
            ${h?`
              <div class="next-due-banner">
                <strong>NEXT PAYMENT DUE:</strong> ${De(e.DueDate)}
              </div>
            `:""}
          </div>
        </div>

        <div class="footer">
          Thank you for your business. For any inquiries, please contact us at ${c}<br>
          ${u}
        </div>
      </div>
    </body>
    </html>
  `},__=({isOpen:e,onClose:t,mode:n,invoice:r,clients:a,contracts:o,systemSettings:c,onSave:u,type:f=st.Invoice})=>{const[d,h]=O.useState(n),[m,g]=O.useState({}),[v,j]=O.useState(!1),[w,b]=O.useState(!1),[y,S]=O.useState(!1),[P,k]=O.useState(navigator.onLine);if(O.useEffect(()=>{const _=()=>k(navigator.onLine);return window.addEventListener("online",_),window.addEventListener("offline",_),()=>{window.removeEventListener("online",_),window.removeEventListener("offline",_)}},[]),O.useEffect(()=>{if(n==="add"){const _=new Date().toISOString().split("T")[0],R=new Date;R.setDate(R.getDate()+7),g({InvoiceID:`${f===st.Quotation?"QU":f===st.Proforma?"PR":"INV"}-${Math.floor(1e4+Math.random()*9e4)}`,InvoiceDate:_,DueDate:R.toISOString().split("T")[0],Status:wt.Pending,DocType:f,PeriodMonths:1,UnitPrice:0,NoOfUnits:0,TotalAmount:0,AmountPaid:0,BalanceDue:0,Description:"",ServiceType:""}),b(!1),S(!0)}else r&&(g({...r}),b(!1),S(!1));h(n)},[n,r,e,f]),O.useEffect(()=>{if(d==="view")return;const _=Number(m.UnitPrice)||0,R=Number(m.NoOfUnits)||0,L=Number(m.PeriodMonths)||1,z=_*R*L,H=Number(m.AmountPaid)||0;g(U=>({...U,TotalAmount:z,BalanceDue:z-H}))},[m.UnitPrice,m.NoOfUnits,m.PeriodMonths,m.AmountPaid,d]),!e)return null;const C=_=>{var z;if(d!=="add"||v)return;const R=((z=m.InvoiceID)==null?void 0:z.split("-")[1])||Math.floor(1e4+Math.random()*9e4),L=_===st.Quotation?"QU":_===st.Proforma?"PR":"INV";g(H=>({...H,DocType:_,InvoiceID:`${L}-${R}`}))},E=_=>{if(v)return;const R=a.find(z=>z.ClientID===_),L=o.find(z=>z.ClientID===_&&z.ContractStatus==="Active");g(z=>({...z,ClientID:_,ClientName:(R==null?void 0:R.CompanyName)||"",ContractID:(L==null?void 0:L.ContractID)||"ADHOC",ServiceType:(L==null?void 0:L.ServiceType)||"Unified Managed Fleet",Description:L?`${L.PlanType} - Connectivity Services`:z.Description,UnitPrice:L?L.UnitPrice:z.UnitPrice,NoOfUnits:L?L.NoOfUnits:z.NoOfUnits}))},D=a.map(_=>({value:_.ClientID,label:_.CompanyName,disabled:_.Status!==on.Active,subtext:_.ClientType})),I=_=>{_.preventDefault(),!(v||!P)&&(j(!0),u(m,y).then(t).finally(()=>j(!1)))},$=a.find(_=>_.ClientID===m.ClientID),B=Ry(m,$,c);return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col overflow-hidden animate-in fade-in zoom-in duration-300",children:[i.jsxs("div",{className:"flex justify-between items-center p-8 border-b border-gray-100 bg-gray-50/50",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:`p-3 rounded-2xl shadow-lg ${d==="view"?"bg-indigo-600":"bg-slate-900"} text-white`,children:m.DocType===st.Quotation?i.jsx(pE,{size:24}):m.DocType===st.Proforma?i.jsx(hE,{size:24}):i.jsx(Sn,{size:24})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:d==="view"?`${m.DocType} Overview`:d==="edit"?`Edit ${m.DocType}`:`New ${m.DocType}`}),i.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-0.5",children:["Reference: ",m.InvoiceID]})]})]}),i.jsx("button",{onClick:t,disabled:v,className:"p-2 text-slate-300 hover:text-slate-900 transition-colors disabled:opacity-30",children:i.jsx(Ct,{size:24})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-8 no-scrollbar",children:d==="view"?i.jsx(I_,{invoice:m,onPreview:()=>b(!0)}):i.jsx("fieldset",{disabled:v,className:"space-y-8",children:i.jsxs("form",{id:"invoice-form",onSubmit:I,className:"space-y-8",children:[d==="add"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.2em] block mb-2",children:"Select Document Type"}),i.jsx("div",{className:"grid grid-cols-3 gap-3",children:[st.Invoice,st.Proforma,st.Quotation].map(_=>i.jsx("button",{type:"button",onClick:()=>C(_),className:`py-3 rounded-xl text-[9px] font-black uppercase tracking-widest border transition-all ${m.DocType===_?"bg-slate-900 border-slate-900 text-white shadow-xl":"bg-slate-50 border-slate-100 text-slate-400 hover:bg-slate-100"}`,children:_},_))})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx("div",{className:"col-span-1 md:col-span-2",children:i.jsx(wc,{label:"Select Client",required:!0,options:D,value:m.ClientID||"",onChange:E})}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Document Date"}),i.jsx("input",{type:"date",value:m.InvoiceDate,onChange:_=>g({...m,InvoiceDate:_.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-100 rounded-xl outline-none"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:m.DocType===st.Quotation?"Validity Expiry":"Payment Due Date"}),i.jsx("input",{type:"date",value:m.DueDate,onChange:_=>g({...m,DueDate:_.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-100 rounded-xl outline-none"})]}),i.jsxs("div",{className:"col-span-1 md:col-span-2 space-y-1",children:[i.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Service Description"}),i.jsx("input",{required:!0,type:"text",value:m.Description,onChange:_=>g({...m,Description:_.target.value}),placeholder:"e.g. Annual Fleet Tracking Service",className:"w-full p-3 bg-slate-50 border border-slate-100 rounded-xl outline-none font-bold"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Rate per Unit (K)"}),i.jsx("input",{type:"number",step:"0.01",value:m.UnitPrice,onChange:_=>g({...m,UnitPrice:Number(_.target.value)}),className:"w-full p-3 bg-slate-50 border border-slate-100 rounded-xl outline-none font-bold"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Units / Quantity"}),i.jsx("input",{type:"number",value:m.NoOfUnits,onChange:_=>g({...m,NoOfUnits:Number(_.target.value)}),className:"w-full p-3 bg-slate-50 border border-slate-100 rounded-xl outline-none font-bold"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Billing Period (Months)"}),i.jsx("input",{type:"number",min:"1",value:m.PeriodMonths,onChange:_=>g({...m,PeriodMonths:Number(_.target.value)}),className:"w-full p-3 bg-indigo-50 border border-indigo-100 text-indigo-900 rounded-xl outline-none font-black"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Current Status"}),i.jsxs("select",{value:m.Status,onChange:_=>g({...m,Status:_.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-100 rounded-xl outline-none text-[11px] font-bold uppercase tracking-widest",children:[i.jsx("option",{value:wt.Pending,children:"Pending"}),i.jsx("option",{value:wt.Paid,children:"Paid"}),i.jsx("option",{value:wt.Partial,children:"Partial"}),i.jsx("option",{value:wt.Overdue,children:"Overdue"})]})]})]}),i.jsxs("div",{className:"bg-slate-900 rounded-3xl p-6 text-white shadow-2xl relative overflow-hidden border border-slate-800",children:[i.jsx("div",{className:"absolute right-0 top-0 p-6 opacity-5 rotate-12",children:i.jsx(yc,{size:80})}),i.jsxs("div",{className:"relative z-10 flex flex-col sm:flex-row items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:`p-3 rounded-2xl transition-all duration-500 ${y?"bg-indigo-500 text-white":"bg-slate-800 text-slate-600"}`,children:i.jsx(Ga,{size:20,className:y?"animate-pulse":""})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-[11px] font-black uppercase tracking-widest",children:"Notification Protocol"}),i.jsx("p",{className:`text-[9px] font-bold uppercase mt-0.5 ${y?"text-indigo-400":"text-slate-500"}`,children:y?`Sending to: ${($==null?void 0:$.Email)||"No Email Found"}`:"Internal Database Entry Only"})]})]}),i.jsx("button",{type:"button",disabled:v,onClick:()=>S(!y),className:`relative inline-flex h-7 w-12 items-center rounded-full transition-colors focus:outline-none ${y?"bg-indigo-500":"bg-slate-800"}`,children:i.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform duration-200 ease-in-out shadow-sm ${y?"translate-x-6":"translate-x-1"}`})})]})]})]})})}),i.jsxs("div",{className:"p-8 border-t border-gray-100 bg-gray-50 flex flex-col sm:flex-row justify-end items-center gap-4 shrink-0",children:[!P&&d!=="view"&&i.jsxs("div",{className:"flex items-center gap-2 text-rose-500 font-black text-[9px] uppercase tracking-widest mb-2 sm:mb-0",children:[i.jsx(Ui,{size:14})," Offline Mode: Registry Locked"]}),d==="view"?i.jsx(i.Fragment,{children:i.jsxs("button",{onClick:()=>h("edit"),className:"px-10 py-3.5 bg-slate-900 text-white rounded-2xl font-black text-[11px] uppercase tracking-widest shadow-xl flex items-center gap-2",children:[i.jsx(kE,{size:16})," Edit Document"]})}):i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:t,disabled:v,className:"px-8 py-3.5 text-slate-400 bg-white border border-slate-100 rounded-2xl font-black text-[11px] uppercase tracking-widest",children:"Cancel"}),i.jsxs("button",{form:"invoice-form",type:"submit",disabled:v||!P,className:`px-10 py-3.5 rounded-2xl font-black text-[11px] uppercase tracking-widest shadow-xl flex items-center justify-center min-w-[160px] ${P?"bg-indigo-600 text-white":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:[v&&i.jsx(Ut,{size:14,className:"animate-spin mr-2"}),v?"Processing...":d==="add"?y?"Dispatch & Save":"Execute Only":"Execute Changes"]})]})]})]})}),i.jsx(T_,{isOpen:w,onClose:()=>b(!1),previewHtml:B,invoice:m,onDownload:()=>{const _=window.open("","_blank");_&&(_.document.write(B),_.document.close(),_.onload=()=>_.print())},onEdit:()=>{b(!1),h("edit")}})]})},M_=({isOpen:e,onClose:t,mode:n,vehicle:r,clients:a,onSave:o,onDelete:c})=>{const[u,f]=O.useState(n),[d,h]=O.useState({}),[m,g]=O.useState(!1),[v,j]=O.useState(navigator.onLine),w=O.useRef(null),b=O.useRef(null);O.useEffect(()=>{const $=()=>j(navigator.onLine);return window.addEventListener("online",$),window.addEventListener("offline",$),()=>{window.removeEventListener("online",$),window.removeEventListener("offline",$)}},[]),O.useEffect(()=>{e?(b.current!==((r==null?void 0:r.VehicleID)||"new")&&(f(n),b.current=(r==null?void 0:r.VehicleID)||"new",n==="add"?h({VehicleID:`VH-${Math.floor(2e3+Math.random()*9e3)}`,InstallationDate:new Date().toISOString().split("T")[0],Status:Cs.Active,Year:new Date().getFullYear().toString(),SimNumber:"",NetworkProvider:"",Photo:""}):r&&h({...r})),g(!1)):b.current=null},[e,r,n]);const y=a.map($=>({value:$.ClientID,label:$.CompanyName,disabled:$.Status!==on.Active,subtext:$.Status!==on.Active?"Inactive Account":$.ClientType}));if(!e)return null;const S=$=>{if(m)return;const{name:B,value:_}=$.target;if(B==="NumberPlate"){h(R=>({...R,[B]:_.toUpperCase()}));return}h(R=>({...R,[B]:_}))},P=$=>{if(m)return;const B=a.find(_=>_.ClientID===$);h(_=>({..._,ClientID:$,ClientName:(B==null?void 0:B.CompanyName)||""}))},k=$=>{var _;if(m)return;const B=(_=$.target.files)==null?void 0:_[0];if(B){const R=new FileReader;R.onloadend=()=>{h(L=>({...L,Photo:R.result}))},R.readAsDataURL(B)}},C=$=>{m||($.stopPropagation(),h(B=>({...B,Photo:""})))},E=()=>{var $;u!=="view"&&!m&&(($=w.current)==null||$.click())},D=async $=>{if($.preventDefault(),!(m||!v)&&d.NumberPlate&&d.ClientID){g(!0);try{await o(d),t()}finally{g(!1)}}},I=({icon:$,label:B,value:_})=>i.jsxs("div",{className:"flex items-center p-3 border-b border-gray-100 last:border-0",children:[i.jsx("div",{className:"text-gray-400 mr-3",children:i.jsx($,{size:18})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs text-gray-500 uppercase font-medium",children:B}),i.jsx("p",{className:"text-sm font-semibold text-gray-900",children:_||"N/A"})]})]});return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col overflow-hidden animate-in fade-in zoom-in duration-200",children:[i.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100 bg-gray-50/50",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:`p-2 rounded-lg ${u==="view"?"bg-orange-100 text-orange-600":"bg-indigo-100 text-indigo-600"}`,children:i.jsx(vr,{size:24})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-slate-800",children:u==="view"?"Vehicle Details":u==="edit"?"Edit Vehicle":"Register Vehicle"}),i.jsx("p",{className:"text-sm text-gray-500",children:u==="view"?`Viewing ${d.NumberPlate}`:"Manage GPS/Dashcam installation"})]})]}),i.jsx("button",{onClick:t,disabled:m,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors disabled:opacity-30",children:i.jsx(Ct,{size:24})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:u==="view"?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-5 text-white shadow-lg relative overflow-hidden group",children:[i.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:i.jsx(vr,{size:80})}),d.Photo?i.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 w-20 h-20 sm:w-24 sm:h-24 rounded-lg overflow-hidden border-2 border-white/20 shadow-xl hidden sm:block",children:i.jsx("img",{src:d.Photo,alt:"Vehicle",className:"w-full h-full object-cover"})}):null,i.jsxs("div",{className:"relative z-10 flex flex-col h-full justify-between",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-400 text-[10px] uppercase tracking-widest font-bold",children:"License Plate"}),i.jsx("h3",{className:"text-2xl font-mono font-bold tracking-wider text-white border-2 border-white/50 inline-block px-3 py-1 rounded mt-1 shadow-sm",children:d.NumberPlate})]}),i.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider ${d.Status==="Active"?"bg-green-500 text-white":"bg-yellow-500 text-black"}`,children:d.Status})]}),d.Photo&&i.jsx("div",{className:"sm:hidden mb-4 w-16 h-16 rounded-lg overflow-hidden border-2 border-white/20",children:i.jsx("img",{src:d.Photo,alt:"Vehicle",className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm border-t border-white/10 pt-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-400 text-[10px] uppercase font-bold tracking-tight",children:"Make/Model"}),i.jsxs("p",{className:"font-semibold text-white/90",children:[d.Year," ",d.Make," ",d.Model]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-400 text-[10px] uppercase font-bold tracking-tight",children:"Client Owner"}),i.jsx("p",{className:"font-semibold text-white/90 truncate max-w-[120px]",children:d.ClientName})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-gray-50 rounded-xl border border-gray-100 p-4",children:[i.jsxs("h4",{className:"text-sm font-bold text-gray-800 mb-2 flex items-center",children:[i.jsx(Ol,{size:16,className:"mr-2"})," Device Configuration"]}),i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[i.jsx(I,{icon:Q4,label:"Device Serial / IMEI",value:d.DeviceSerial}),i.jsx(I,{icon:Sn,label:"Service Type",value:d.ServiceType}),i.jsx(I,{icon:da,label:"Installation Date",value:De(d.InstallationDate)})]})]}),i.jsxs("div",{className:"bg-blue-50 rounded-xl border border-blue-100 p-4",children:[i.jsxs("h4",{className:"text-sm font-bold text-blue-800 mb-2 flex items-center",children:[i.jsx(aa,{size:16,className:"mr-2"})," SIM Connectivity"]}),i.jsxs("div",{className:"bg-white rounded-lg border border-blue-200",children:[i.jsx(I,{icon:aa,label:"SIM Number",value:d.SimNumber}),i.jsx(I,{icon:SE,label:"Network",value:d.NetworkProvider})]})]})]})]}):i.jsx("fieldset",{disabled:m,children:i.jsx("form",{id:"vehicle-form",onSubmit:D,className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"col-span-1 md:col-span-2",children:[i.jsx("input",{type:"file",accept:"image/*",capture:"environment",ref:w,onChange:k,className:"hidden"}),i.jsx("div",{onClick:E,className:`relative overflow-hidden group cursor-pointer border-2 border-dashed rounded-2xl transition-all h-32 flex flex-col items-center justify-center ${d.Photo?"border-transparent":"border-gray-200 hover:border-indigo-300 bg-gray-50 hover:bg-indigo-50/30"} ${m?"opacity-50 cursor-not-allowed":""}`,children:d.Photo?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:d.Photo,alt:"Captured",className:"absolute inset-0 w-full h-full object-cover"}),!m&&i.jsxs("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-4",children:[i.jsx("div",{className:"p-2 bg-white rounded-full text-indigo-600",children:i.jsx(Gx,{size:20})}),i.jsx("button",{type:"button",onClick:C,className:"p-2 bg-white rounded-full text-red-600 hover:scale-110 transition-transform",children:i.jsx(f_,{size:20})})]})]}):i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mx-auto w-10 h-10 bg-white rounded-xl shadow-sm border border-gray-100 flex items-center justify-center text-gray-400 group-hover:text-indigo-500 mb-2 transition-colors",children:i.jsx(Gx,{size:24})}),i.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest group-hover:text-indigo-600 transition-colors",children:"Capture Vehicle Picture"})]})})]}),i.jsx("div",{className:"col-span-1 md:col-span-2 space-y-2",children:i.jsx(wc,{label:"Client Owner",required:!0,options:y,value:d.ClientID||"",onChange:P,placeholder:"Search and Select Client..."})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"License Plate *"}),i.jsx("input",{required:!0,type:"text",name:"NumberPlate",value:d.NumberPlate||"",onChange:S,placeholder:"e.g. TX-990-ZZ",className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none font-mono uppercase"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Vehicle Status"}),i.jsxs("select",{name:"Status",value:d.Status,onChange:S,className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",children:[i.jsx("option",{value:Cs.Active,children:"Active"}),i.jsx("option",{value:Cs.Inactive,children:"Inactive"}),i.jsx("option",{value:Cs.Maintenance,children:"Maintenance"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Make"}),i.jsx("input",{type:"text",name:"Make",value:d.Make||"",onChange:S,placeholder:"Toyota",className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Model"}),i.jsx("input",{type:"text",name:"Model",value:d.Model||"",onChange:S,placeholder:"Corolla",className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Year"}),i.jsx("input",{type:"number",name:"Year",value:d.Year||"",onChange:S,className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Device Serial (IMEI)"}),i.jsx("input",{type:"text",name:"DeviceSerial",value:d.DeviceSerial||"",onChange:S,placeholder:"IMEI-...",className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Type (Contract)"}),i.jsx("input",{type:"text",name:"ServiceType",value:d.ServiceType||"",onChange:S,placeholder:"e.g. GPS Premium",className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),i.jsx("div",{className:"col-span-1 md:col-span-2",children:i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:[i.jsx("h4",{className:"text-sm font-bold text-blue-800 mb-3",children:"Tracker SIM Configuration"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"SIM Number"}),i.jsx("input",{type:"text",name:"SimNumber",value:d.SimNumber||"",onChange:S,placeholder:"09XX...",className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Network Provider"}),i.jsxs("select",{name:"NetworkProvider",value:d.NetworkProvider||"",onChange:S,className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",children:[i.jsx("option",{value:"",children:"-- Select --"}),i.jsx("option",{value:"MTN",children:"MTN"}),i.jsx("option",{value:"Airtel",children:"Airtel"}),i.jsx("option",{value:"Zamtel",children:"Zamtel"}),i.jsx("option",{value:"Other",children:"Other"})]})]})]})]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Installation Date"}),i.jsx("input",{type:"date",name:"InstallationDate",value:d.InstallationDate||"",onChange:S,className:"w-full p-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]})]})})})}),i.jsxs("div",{className:"p-6 border-t border-gray-100 bg-gray-50 flex flex-col sm:flex-row justify-end items-center gap-3",children:[!v&&u!=="view"&&i.jsxs("div",{className:"flex items-center gap-2 text-rose-500 font-black text-[9px] uppercase tracking-widest mb-2 sm:mb-0",children:[i.jsx(Ui,{size:14})," Offline Mode: Registry Locked"]}),u==="view"?i.jsxs(i.Fragment,{children:[c&&i.jsxs("button",{onClick:()=>{confirm("Are you sure you want to delete this vehicle?")&&(c(d.VehicleID),t())},className:"flex items-center px-4 py-2 text-red-600 bg-red-50 hover:bg-red-100 rounded-lg transition-colors font-medium",children:[i.jsx(d_,{size:18,className:"mr-2"}),"Delete"]}),i.jsxs("button",{onClick:()=>f("edit"),className:"flex items-center px-6 py-2 bg-slate-900 text-white hover:bg-slate-800 rounded-lg transition-colors font-medium shadow-lg shadow-slate-900/20",children:[i.jsx(kE,{size:18,className:"mr-2"}),"Edit"]})]}):i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:t,disabled:m,type:"button",className:"px-5 py-2 text-gray-600 bg-white border border-gray-200 hover:bg-gray-50 rounded-lg transition-colors font-medium",children:"Cancel"}),i.jsxs("button",{form:"vehicle-form",type:"submit",disabled:m||!v,className:`flex items-center px-6 py-2 rounded-lg transition-colors font-medium shadow-lg min-w-[160px] justify-center ${v?"bg-blue-600 text-white hover:bg-blue-700 shadow-blue-600/20":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:[m?i.jsx(Ut,{size:18,className:"animate-spin mr-2"}):i.jsx(Iy,{size:18,className:"mr-2"}),m?"Processing...":u==="add"?"Register Vehicle":"Save Changes"]})]})]})]})})},Fu=({icon:e,label:t,value:n})=>i.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-slate-50 last:border-0",children:[i.jsxs("div",{className:"flex items-center text-slate-400",children:[i.jsx(e,{size:12,className:"mr-2"}),i.jsx("span",{className:"text-[10px] font-medium uppercase tracking-wider",children:t})]}),i.jsx("span",{className:"text-xs font-medium text-slate-700",children:n||""})]}),R_=({isOpen:e,onClose:t,mode:n,payment:r,payments:a,invoices:o,contracts:c=[],clients:u,currentUser:f,onSave:d})=>{const[h,m]=O.useState(n),[g,v]=O.useState({}),[j,w]=O.useState(!1),[b,y]=O.useState(!0),[S,P]=O.useState(!1),[k,C]=O.useState(navigator.onLine);O.useEffect(()=>{const _=()=>C(navigator.onLine);return window.addEventListener("online",_),window.addEventListener("offline",_),()=>{window.removeEventListener("online",_),window.removeEventListener("offline",_)}},[]);const E=O.useMemo(()=>{if(!(!g.ClientID||g.ClientID==="WALK-IN"))return c.find(_=>fe(_.ClientID)===fe(g.ClientID)&&fe(_.ContractStatus)===fe(pn.Active))},[c,g.ClientID]),D=O.useMemo(()=>{if(!g.ClientID||g.ClientID==="WALK-IN")return null;const _=a.filter(H=>fe(H.ClientID)===fe(g.ClientID)).sort((H,U)=>new Date(U.Date).getTime()-new Date(H.Date).getTime()),R=_.length>0?_[0]:null,L=c.find(H=>fe(H.ClientID)===fe(g.ClientID)&&H.ContractStatus==="Active");let z=0;if(L&&L.ExpiryDate){const H=new Date(L.ExpiryDate),U=new Date;z=Math.max(0,(H.getFullYear()-U.getFullYear())*12+(H.getMonth()-U.getMonth()))}return{lastPayDate:R==null?void 0:R.Date,nextRenewal:(R==null?void 0:R.NextDueDate)||(L==null?void 0:L.PaymentDueDate),expiryDate:L==null?void 0:L.ExpiryDate,monthsRemaining:z,contractSigned:!!(L!=null&&L.ClientSign||L!=null&&L.ClientSignImage),status:(L==null?void 0:L.ContractStatus)||"No Active Plan"}},[g.ClientID,a,c]),I=O.useMemo(()=>{if(!g.MonthsCovered||g.MonthsCovered<=0)return null;const _=g.Date?new Date(g.Date):new Date;if(isNaN(_.getTime()))return null;const R=new Date(_);return R.setMonth(R.getMonth()+Number(g.MonthsCovered)),R.toISOString().split("T")[0]},[g.Date,g.MonthsCovered]);O.useEffect(()=>{e&&(P(!1),y(!0),m(n),w(!1),n==="add"?v({PaymentID:`PAY-${Math.floor(1e4+Math.random()*9e4)}`,Date:new Date().toISOString().split("T")[0],Status:As.Completed,Method:"Bank Transfer",Amount:0,MonthsCovered:1,AdditionalCost:0,Discount:0,Remarks:"",AgentID:f.id,Reference:"",ClientName:""}):r&&v({...r}))},[n,r,e,f]),O.useEffect(()=>{var Q;if(h!=="add"||j||!E)return;const _=Number(E.NoOfUnits)||((Q=E.AssetIDs)==null?void 0:Q.length)||0,R=Number(E.UnitPrice)||0,L=Number(g.MonthsCovered)||1,z=Number(g.AdditionalCost)||0,H=Number(g.Discount)||0,U=R*_*L+z-H;v(G=>({...G,Amount:U,ContractID:E.ContractID,NoOfUnits:_,UnitPrice:R}))},[g.ClientID,E,h,j,g.MonthsCovered,g.AdditionalCost,g.Discount]);const $=_=>{const R=u.find(L=>L.ClientID===_);v(L=>({...L,ClientID:_,ClientName:(R==null?void 0:R.CompanyName)||"",Amount:0,NoOfUnits:0,MonthsCovered:1,Remarks:""}))},B=async _=>{if(_.preventDefault(),!(S||!k)){P(!0);try{await d({...g,NextDueDate:I},b),t()}finally{P(!1)}}};return e?i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-[2rem] shadow-2xl w-full max-w-md max-h-[95vh] flex flex-col overflow-hidden animate-in zoom-in duration-200",children:[i.jsxs("div",{className:"flex justify-between items-center px-6 py-5 border-b border-slate-100 bg-slate-50/50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-slate-900 text-white rounded-xl",children:i.jsx(fa,{size:18})}),i.jsx("h2",{className:"text-sm font-medium text-slate-800 uppercase tracking-tight",children:"Record Payment"})]}),i.jsx("button",{onClick:t,disabled:S,className:"p-1 text-slate-300 hover:text-slate-900 transition-colors",children:i.jsx(Ct,{size:24})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-6 no-scrollbar",children:h==="view"?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"text-center py-6 bg-slate-50 border border-slate-100 rounded-2xl",children:[i.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-medium mb-1",children:"Total Received"}),i.jsxs("h1",{className:"text-3xl font-medium text-emerald-600 tracking-tighter",children:["K ",Ee(g.Amount)]}),i.jsx("div",{className:"mt-2",children:i.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-medium uppercase tracking-widest border ${g.Status==="Completed"?"bg-emerald-100 text-emerald-700 border-emerald-200":"bg-amber-100 text-amber-700 border-amber-200"}`,children:g.Status})})]}),i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-4 shadow-sm space-y-1",children:[i.jsx(Fu,{icon:Et,label:"Client",value:g.ClientName}),i.jsx(Fu,{icon:da,label:"Settlement Date",value:De(g.Date)}),i.jsx(Fu,{icon:Oy,label:"Bank Reference",value:g.Reference}),g.Remarks&&i.jsx(Fu,{icon:Sn,label:"Notes",value:g.Remarks})]})]}):i.jsxs("form",{id:"payment-form",onSubmit:B,className:"space-y-5",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("label",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest ml-1",children:"Client Name"}),i.jsxs("button",{type:"button",onClick:()=>{w(!j),j||v({...g,ClientID:"WALK-IN",ClientName:""})},className:"flex items-center gap-1.5 text-[9px] font-medium uppercase text-indigo-600 hover:text-indigo-700 transition-colors",children:[j?i.jsx(bc,{size:12}):i.jsx(AE,{size:12})," ",j?"Registry":"Guest Payment"]})]}),j?i.jsx("input",{required:!0,value:g.ClientName,onChange:_=>v({...g,ClientName:_.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-medium outline-none focus:ring-2 focus:ring-indigo-100 transition-all",placeholder:"Enter guest name..."}):i.jsx(wc,{required:!0,options:u.map(_=>({value:_.ClientID,label:_.CompanyName,disabled:_.Status!==on.Active})),value:g.ClientID||"",onChange:$,placeholder:"Select from registry..."})]}),D&&i.jsxs("div",{className:"bg-white border border-slate-100 rounded-2xl p-4 shadow-sm space-y-3 animate-in fade-in duration-500",children:[i.jsxs("div",{className:"flex items-center justify-between pb-2 border-b border-slate-50",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`p-1.5 rounded-lg ${D.contractSigned?"bg-emerald-50 text-emerald-600":"bg-amber-50 text-amber-600"}`,children:D.contractSigned?i.jsx(kn,{size:12}):i.jsx(xr,{size:12})}),i.jsxs("span",{className:"text-[10px] font-medium text-slate-700 uppercase tracking-tight",children:["Status: ",D.status]})]}),i.jsxs("span",{className:"text-[9px] font-medium text-slate-400 uppercase",children:[D.monthsRemaining," Mo Remaining"]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-[8px] font-medium text-slate-400 uppercase tracking-widest",children:"Last Activity"}),i.jsx("p",{className:"text-[10px] font-medium text-slate-700",children:De(D.lastPayDate)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[8px] font-medium text-slate-400 uppercase tracking-widest",children:"Next Renewal Goal"}),i.jsx("p",{className:"text-[10px] font-medium text-indigo-600",children:De(D.nextRenewal)})]})]})]}),E&&i.jsxs("div",{className:"bg-slate-50 border border-slate-200 p-4 rounded-2xl space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest mb-0.5",children:"Active Service"}),i.jsxs("h4",{className:"text-xs font-medium text-slate-900",children:[E.PlanType,"  ",g.NoOfUnits," Units"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest mb-0.5",children:"Base Rate"}),i.jsxs("h4",{className:"text-xs font-medium text-slate-900",children:["K",Ee(E.UnitPrice)]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-slate-200",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest ml-1",children:"Period Paid (Months)"}),i.jsx("input",{type:"number",min:"1",value:g.MonthsCovered,onChange:_=>v({...g,MonthsCovered:Number(_.target.value)}),className:"w-full p-2.5 bg-white border border-slate-200 rounded-xl text-sm font-medium text-indigo-600 outline-none"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest ml-1",children:"Extended Expiry"}),i.jsxs("div",{className:"w-full p-2.5 bg-indigo-50/50 rounded-xl text-[11px] font-medium text-indigo-700 flex items-center gap-2 border border-indigo-100",children:[i.jsx(hn,{size:14})," ",I?De(I):"N/A"]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest ml-1",children:"Payment Date"}),i.jsx("input",{required:!0,type:"date",value:g.Date,onChange:_=>v({...g,Date:_.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl text-xs font-medium outline-none"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest ml-1",children:"Method"}),i.jsxs("select",{value:g.Method,onChange:_=>v({...g,Method:_.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl text-xs font-medium outline-none",children:[i.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),i.jsx("option",{value:"Mobile Money",children:"Mobile Money"}),i.jsx("option",{value:"Cash",children:"Cash"}),i.jsx("option",{value:"Card",children:"Card"})]})]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest ml-1",children:"Outstanding Invoices"}),i.jsxs("select",{value:g.InvoiceID||"",onChange:_=>v({...g,InvoiceID:_.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl text-xs font-medium outline-none",children:[i.jsx("option",{value:"",children:"-- Apply to Future Cycle --"}),o.filter(_=>fe(_.ClientID)===fe(g.ClientID)&&_.Status!=="Paid").map(_=>i.jsxs("option",{value:_.InvoiceID,children:[_.InvoiceID," (Balance: K",Ee(_.BalanceDue),")"]},_.InvoiceID))]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest ml-1",children:"Bank Reference ID"}),i.jsx("input",{required:!0,type:"text",value:g.Reference||"",onChange:_=>v({...g,Reference:_.target.value}),placeholder:"Unique identifier...",className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-medium text-indigo-600 outline-none focus:ring-2 focus:ring-indigo-100"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest ml-1",children:"Notes"}),i.jsx("textarea",{value:g.Remarks||"",onChange:_=>v({...g,Remarks:_.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl text-sm outline-none resize-none h-20 focus:ring-2 focus:ring-indigo-100 font-medium",placeholder:"Keep blank for default..."})]}),i.jsxs("div",{className:"bg-slate-900 p-5 rounded-[2rem] flex justify-between items-center text-white shadow-xl relative overflow-hidden",children:[i.jsx("div",{className:"absolute right-0 top-0 p-5 opacity-5 rotate-12",children:i.jsx(uf,{size:48})}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("p",{className:"text-[10px] font-medium text-slate-500 uppercase tracking-widest mb-1 leading-none",children:"Total Settlement"}),i.jsxs("h4",{className:"text-2xl font-medium text-emerald-400 leading-none tracking-tighter",children:["K ",Ee(g.Amount)]})]}),i.jsxs("div",{className:"relative z-10 flex flex-col items-end gap-1",children:[i.jsx("span",{className:"text-[8px] font-medium text-slate-500 uppercase",children:"Notify Client"}),i.jsx("button",{type:"button",onClick:()=>y(!b),className:`h-5 w-10 rounded-full relative transition-colors ${b?"bg-emerald-500":"bg-slate-700"}`,children:i.jsx("span",{className:`absolute top-0.5 h-4 w-4 rounded-full bg-white transition-all ${b?"right-0.5":"left-0.5"}`})})]})]})]})}),i.jsxs("div",{className:"px-6 py-5 border-t border-slate-100 bg-slate-50/50 flex justify-end gap-3 shrink-0",children:[i.jsx("button",{onClick:t,disabled:S,className:"px-5 py-2.5 text-[10px] font-medium uppercase text-slate-400 hover:text-slate-600 transition-colors",children:"Cancel"}),h!=="view"&&i.jsxs("button",{form:"payment-form",type:"submit",disabled:S||!k,className:`px-10 py-2.5 rounded-xl text-[10px] font-medium uppercase shadow-xl flex items-center gap-2 transition-all active:scale-95 ${k?"bg-slate-900 text-white hover:bg-black":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:[S?i.jsx(Ut,{size:14,className:"animate-spin"}):i.jsx(kn,{size:14}),S?"Processing...":"Finalize Settlement"]})]})]})}):null},$_=({formData:e,isReadOnly:t,duration:n,onDurationChange:r,handleChange:a})=>i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 animate-in fade-in duration-300",children:[i.jsxs("div",{className:"col-span-1 sm:col-span-2 space-y-1",children:[i.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Full Name"}),i.jsx("input",{type:"text",name:"AgentName",value:e.AgentName||"",onChange:a,disabled:t,className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm outline-none focus:ring-1 focus:ring-indigo-500",placeholder:"e.g. John Doe"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Account Role"}),i.jsxs("select",{name:"Role",value:e.Role,onChange:a,disabled:t,className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm outline-none",children:[i.jsx("option",{value:"Agent",children:"Agent"}),i.jsx("option",{value:"Partner",children:"Partner"}),i.jsx("option",{value:"Admin",children:"Admin"}),i.jsx("option",{value:"Support",children:"Support"})]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Experience Level"}),i.jsxs("select",{name:"ExperienceLevel",value:e.ExperienceLevel||"Trainee",onChange:a,disabled:t||e.Role==="Partner",className:`w-full p-2 border rounded-lg text-sm outline-none ${e.Role==="Partner"?"bg-slate-100 text-slate-500 cursor-not-allowed border-slate-200":"bg-slate-50 border-slate-200"}`,children:[i.jsx("option",{value:"Trainee",children:"Trainee"}),i.jsx("option",{value:"Independent",children:"Independent"}),i.jsx("option",{value:"Mentor",children:"Mentor"}),i.jsx("option",{value:"Lead",children:"Lead"}),i.jsx("option",{value:"Partner",children:"Partner"})]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Department"}),i.jsx("input",{type:"text",name:"Department",value:e.Department||"",onChange:a,disabled:t,className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm outline-none",placeholder:"Sales / Ops"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Email Address"}),i.jsx("input",{type:"email",name:"Email",value:e.Email||"",onChange:a,disabled:t,className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm outline-none",placeholder:"name@company.com"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Phone Number"}),i.jsx("input",{type:"text",name:"Phone",value:e.Phone||"",onChange:a,disabled:t,className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm outline-none",placeholder:"+260..."})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Agreement Start Date"}),i.jsx("input",{type:"date",name:"StartDate",value:dd(e.StartDate),onChange:a,disabled:t,className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm outline-none"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Duration (Months)"}),i.jsx("input",{type:"number",min:"1",value:n,onChange:o=>r(o.target.value),disabled:t,className:"w-full p-2 bg-indigo-50 border border-indigo-100 rounded-lg text-sm outline-none text-indigo-700 font-semibold",placeholder:"e.g. 12"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-medium text-slate-600 italic",children:"Agreement End Date (Calculated)"}),i.jsx("input",{type:"date",name:"EndDate",value:dd(e.EndDate),readOnly:!0,disabled:!0,className:"w-full p-2 bg-slate-100 border border-slate-200 rounded-lg text-sm outline-none font-semibold text-slate-500 cursor-not-allowed shadow-inner"})]}),i.jsxs("div",{className:"col-span-1 sm:col-span-2 space-y-1",children:[i.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Professional Notes"}),i.jsx("textarea",{name:"Notes",value:e.Notes||"",onChange:a,disabled:t,className:"w-full h-20 p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm outline-none resize-none",placeholder:"Optional notes regarding staff background or scope..."})]})]}),z_=({formData:e,isReadOnly:t,handleChange:n,permissions:r,handlePermissionToggle:a,defaultPermissions:o})=>i.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[i.jsxs("div",{className:"p-4 bg-slate-900 rounded-xl text-white",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(Cy,{size:16,className:"text-indigo-400"}),i.jsx("h3",{className:"text-sm font-semibold",children:"Login Details"})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-medium text-slate-400 uppercase",children:"Temp Password"}),i.jsx("input",{type:"text",name:"Password",value:e.Password||"",onChange:n,disabled:t,className:"w-full bg-white/10 border border-white/10 p-2 rounded-lg text-sm font-mono"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-medium text-slate-400 uppercase",children:"Account Status"}),i.jsxs("select",{name:"Status",value:e.Status,onChange:n,disabled:t,className:"w-full bg-white/10 border border-white/10 p-2 rounded-lg text-sm",children:[i.jsx("option",{className:"text-black",value:"Active",children:"Active"}),i.jsx("option",{className:"text-black",value:"Inactive",children:"Inactive"})]})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2 border-b border-slate-100 pb-1",children:[i.jsx(Di,{size:14,className:"text-slate-400"}),i.jsx("h3",{className:"text-xs font-semibold text-slate-700",children:"Permissions"})]}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:Object.keys(o).map(c=>i.jsxs("div",{className:"p-2 border border-slate-100 rounded-lg bg-slate-50/50",children:[i.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase mb-2 truncate",children:c.replace("_"," ")}),i.jsx("div",{className:"flex flex-wrap gap-1",children:["view","create","update"].map(u=>{var f;return i.jsx("button",{type:"button",onClick:()=>a(c,u),className:`px-1.5 py-0.5 rounded text-[9px] font-medium capitalize border ${(f=r[c])!=null&&f[u]?"bg-indigo-600 text-white border-indigo-600":"bg-white text-slate-400 border-slate-200"}`,children:u},u)})})]},c))})]})]}),L_=({isPartner:e,formData:t,isReadOnly:n,handleChange:r})=>i.jsxs("div",{className:"p-4 bg-slate-50 border border-slate-100 rounded-xl shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-slate-800",children:[i.jsx(EE,{size:16,className:"text-slate-400"}),i.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wider",children:e?"Partner Remuneration":"Payroll & Banking"})]}),e&&i.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase bg-slate-200/50 px-2 py-0.5 rounded",children:"Management Fees"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase",children:e?"Fixed Draw (ZMW)":"Base Salary (ZMW)"}),i.jsx("input",{type:"number",name:"BaseSalary",value:t.BaseSalary||0,onChange:r,disabled:n,className:"w-full p-2 bg-white border border-slate-200 rounded-lg text-sm font-semibold"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Comm. Rate (%)"}),i.jsx("input",{type:"number",name:"CommissionRate",value:t.CommissionRate||0,onChange:r,disabled:n,className:"w-full p-2 bg-white border border-slate-200 rounded-lg text-sm font-semibold"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Bank Name"}),i.jsx("input",{type:"text",name:"BankName",value:t.BankName||"",onChange:r,disabled:n,className:"w-full p-2 bg-white border border-slate-200 rounded-lg text-sm",placeholder:"e.g. Stanbic"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Account No."}),i.jsx("input",{type:"text",name:"AccountNumber",value:t.AccountNumber||"",onChange:r,disabled:n,className:"w-full p-2 bg-white border border-slate-200 rounded-lg text-sm"})]})]})]}),B_=({formData:e,isReadOnly:t,handleChange:n})=>i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-bold text-amber-700 uppercase",children:"Principal (ZMW)"}),i.jsx("input",{type:"number",name:"InvestmentPrincipal",value:e.InvestmentPrincipal||0,onChange:n,disabled:t||e.InvestmentStatus===rn.Active,className:"w-full p-2 bg-white border border-amber-200 rounded-lg text-sm font-bold text-amber-900"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-bold text-amber-700 uppercase",children:"Equity Share (%)"}),i.jsx("input",{type:"number",step:"0.1",name:"EquityShare",value:e.EquityShare||0,onChange:n,disabled:t||e.InvestmentStatus===rn.Active,className:"w-full p-2 bg-white border border-amber-200 rounded-lg text-sm font-bold text-amber-900"})]}),i.jsxs("div",{className:"col-span-2 space-y-1",children:[i.jsx("label",{className:"text-[10px] font-bold text-amber-700 uppercase tracking-widest",children:"Yield Model"}),i.jsxs("select",{name:"PartnerPayoutModel",value:e.PartnerPayoutModel||ea.InterestOnly,onChange:n,disabled:t||e.InvestmentStatus===rn.Active,className:"w-full p-2 bg-white border border-amber-200 rounded-lg text-xs font-bold text-amber-900 outline-none",children:[i.jsx("option",{value:ea.InterestOnly,children:"Capital Preservation (Profits Only)"}),i.jsx("option",{value:ea.PrincipalPlusInterest,children:"Amortized Recovery (Profits + Principal)"})]})]})]}),F_=({simPool:e,setSimPool:t,isCapped:n,monthlyPrincipalReturn:r,estimatedVariableInterest:a,roiCapPercent:o,totalProjectedTakeaway:c,duration:u,totalTermInterest:f,totalTermYield:d})=>i.jsxs("div",{className:`rounded-xl p-4 border transition-all duration-500 ${n?"bg-amber-100/50 border-amber-300 shadow-lg":"bg-white border-amber-200 shadow-md"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-4 border-b border-amber-50 pb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(uf,{size:14,className:n?"text-amber-600":"text-indigo-600"}),i.jsx("h4",{className:"text-[10px] font-black text-slate-800 uppercase tracking-widest",children:"Simulation Projection"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-[8px] font-bold text-slate-400 uppercase",children:"Monthly Pool:"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-1.5 top-1/2 -translate-y-1/2 text-[8px] font-black text-slate-400",children:"K"}),i.jsx("input",{type:"number",value:e,onChange:h=>t(Number(h.target.value)),className:"w-16 pl-4 py-0.5 bg-slate-50 border border-slate-200 rounded text-[9px] font-black outline-none"})]})]})]}),i.jsxs("div",{className:"space-y-2 mb-4",children:[i.jsxs("div",{className:"flex justify-between items-center text-[11px]",children:[i.jsx("span",{className:"text-slate-500 font-medium",children:"Monthly Principal Return:"}),i.jsxs("span",{className:"font-bold text-slate-900 tracking-tight",children:["K ",Ee(r)]})]}),i.jsxs("div",{className:"flex justify-between items-center text-[11px]",children:[i.jsx("span",{className:"text-slate-500 font-medium",children:"Monthly Interest (Share):"}),i.jsxs("div",{className:"flex flex-col items-end",children:[i.jsxs("span",{className:`font-bold ${n?"text-amber-700":"text-indigo-600"}`,children:["K ",Ee(a)]}),n&&i.jsxs("span",{className:"text-[7px] font-black text-amber-600 uppercase tracking-tighter flex items-center gap-1 animate-pulse",children:[i.jsx(B4,{size:7})," Capped at ",o,"% ROI"]})]})]}),i.jsxs("div",{className:"pt-2 border-t border-amber-100 flex justify-between items-center",children:[i.jsx("span",{className:"text-[10px] font-black text-amber-700 uppercase tracking-tighter",children:"Net Monthly Yield"}),i.jsxs("span",{className:`text-sm font-black ${n?"text-amber-600":"text-emerald-600"}`,children:["K ",Ee(c)]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2 border-t border-dashed border-amber-100",children:[i.jsxs("div",{className:"bg-amber-100/50 p-2 rounded-lg border border-amber-200/50",children:[i.jsxs("p",{className:"text-[7px] font-black text-amber-800 uppercase leading-none mb-1",children:["Total ",u,"mo Interest"]}),i.jsxs("p",{className:"text-[10px] font-black text-amber-900 tracking-tight",children:["K ",Ee(f)]})]}),i.jsxs("div",{className:"bg-emerald-500 p-2 rounded-lg border border-emerald-600 shadow-sm",children:[i.jsx("p",{className:"text-[7px] font-black text-emerald-100 uppercase leading-none mb-1",children:"Total Term Payout"}),i.jsxs("p",{className:"text-[10px] font-black text-white tracking-tight",children:["K ",Ee(d)]})]})]})]}),U_=({formData:e})=>i.jsxs("div",{className:"p-4 bg-emerald-50 rounded-2xl border border-emerald-200 flex items-center justify-between animate-in zoom-in duration-300",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-emerald-600 text-white rounded-xl shadow-lg",children:i.jsx(Qa,{size:16})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-[10px] font-black text-emerald-800 uppercase tracking-widest leading-none",children:"Agreement Executed"}),i.jsxs("p",{className:"text-[8px] font-bold text-emerald-600 uppercase mt-1",children:["Signed on ",De(e.InvestmentSignedDate)]})]})]}),i.jsx("div",{className:"bg-white p-1 rounded-lg border border-emerald-100",children:i.jsx("img",{src:e.InvestmentSignature,alt:"Signed",className:"h-6 opacity-60 mix-blend-multiply"})})]}),q_=({formData:e,handleChange:t,isReadOnly:n})=>i.jsxs("div",{className:"pt-4 border-t border-amber-100 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("label",{className:"text-[10px] font-bold text-amber-700 uppercase flex items-center gap-1",children:["Max Monthly ROI Cap (%)",i.jsxs("div",{className:"group relative",children:[i.jsx(cd,{size:10,className:"text-amber-400 cursor-help"}),i.jsxs("div",{className:"absolute bottom-full left-0 mb-2 w-56 p-3 bg-slate-900 text-white text-[9px] rounded-xl opacity-0 group-hover:opacity-100 transition-all pointer-events-none z-10 shadow-2xl border border-white/10",children:[i.jsx("strong",{children:"Stabilization Cap:"})," Excess profits are diverted to a Reserve Buffer to maintain consistent payouts during low-revenue months."]})]})]}),i.jsx("input",{type:"number",step:"0.1",name:"MaxMonthlyROI",value:e.MaxMonthlyROI||0,onChange:t,disabled:n||e.InvestmentStatus===rn.Active,className:"w-full p-2 bg-white border border-amber-200 rounded-lg text-xs font-bold text-amber-900"})]}),i.jsx("div",{className:"flex flex-col justify-center pt-2",children:i.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[i.jsx("div",{className:"relative",children:i.jsx("input",{type:"checkbox",name:"SmartYieldActive",checked:!!e.SmartYieldActive,onChange:t,disabled:n||e.InvestmentStatus===rn.Active,className:"w-5 h-5 rounded border-amber-300 text-amber-600 focus:ring-amber-500"})}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-[10px] font-black text-amber-700 uppercase tracking-tighter",children:"SmartYield Active"}),i.jsx("span",{className:"text-[7px] text-slate-400 font-bold uppercase",children:"Automated Smoothing"})]})]})})]}),W_=({formData:e,isReadOnly:t,handleChange:n,isAdmin:r})=>{const[a,o]=O.useState(5e4);if(!r)return null;const c=e.Role==="Partner",u=Number(e.InvestmentPrincipal||0),f=Number(e.InvestmentTermMonths||12),d=Number(e.EquityShare||0),h=Number(e.MaxMonthlyROI||0),m=!!e.SmartYieldActive,g=e.PartnerPayoutModel===ea.PrincipalPlusInterest?u/Math.max(1,f):0,v=a*(d/100),j=u*(h/100),w=m&&h>0&&v>j,b=w?j:v,y=g+b,S=b*f,P=y*f;return i.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[i.jsx(L_,{isPartner:c,formData:e,isReadOnly:t,handleChange:n}),c&&i.jsxs("div",{className:"p-5 bg-amber-50 border border-amber-100 rounded-2xl space-y-5 animate-in slide-in-from-top-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-amber-800",children:[i.jsx(Dy,{size:18}),i.jsx("h3",{className:"text-sm font-black uppercase tracking-widest",children:"Equity Governance"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-[9px] font-bold text-amber-600 uppercase",children:"Agreement Status:"}),i.jsxs("select",{name:"InvestmentStatus",value:e.InvestmentStatus||rn.Draft,onChange:n,disabled:t,className:`px-2 py-0.5 text-[8px] font-black rounded uppercase shadow-sm border-none outline-none cursor-pointer transition-colors ${e.InvestmentStatus===rn.Active?"bg-emerald-500 text-white":e.InvestmentStatus===rn.UnderReview?"bg-amber-400 text-slate-900":"bg-slate-200 text-slate-600"}`,children:[i.jsx("option",{value:rn.Draft,children:"Draft (Admin Only)"}),i.jsx("option",{value:rn.UnderReview,children:"Issue for Partner Signature"}),i.jsx("option",{value:rn.Active,children:"Executed / Active"})]})]})]}),i.jsx(B_,{formData:e,isReadOnly:t,handleChange:n}),i.jsx(F_,{simPool:a,setSimPool:o,isCapped:w,monthlyPrincipalReturn:g,estimatedVariableInterest:b,roiCapPercent:h,totalProjectedTakeaway:y,duration:f,totalTermInterest:S,totalTermYield:P}),e.InvestmentSignature&&i.jsx(U_,{formData:e}),i.jsx(q_,{formData:e,handleChange:n,isReadOnly:t})]})]})},bs={dashboard:{view:!0,create:!1,update:!1,delete:!1},clients:{view:!0,create:!0,update:!0,delete:!1},vehicles:{view:!0,create:!0,update:!0,delete:!1},sim_manager:{view:!0,create:!0,update:!0,delete:!1},contracts:{view:!0,create:!0,update:!0,delete:!1},invoices:{view:!0,create:!0,update:!0,delete:!1},payments:{view:!0,create:!0,update:!0,delete:!1},commissions:{view:!0,create:!1,update:!1,delete:!1},agents:{view:!1,create:!1,update:!1,delete:!1},support:{view:!0,create:!0,update:!0,delete:!1},settings:{view:!0,create:!0,update:!0,delete:!0}},H_=({isOpen:e,onClose:t,mode:n,agent:r,agents:a=[],currentUser:o,onSave:c})=>{const[u,f]=O.useState(n),[d,h]=O.useState("info"),[m,g]=O.useState({}),[v,j]=O.useState(""),[w,b]=O.useState(bs),[y,S]=O.useState(!1),[P,k]=O.useState(!1),[C,E]=O.useState(navigator.onLine),D=(o==null?void 0:o.role)==="Admin";O.useEffect(()=>{const z=()=>E(navigator.onLine);return window.addEventListener("online",z),window.addEventListener("offline",z),()=>{window.removeEventListener("online",z),window.removeEventListener("offline",z)}},[]),O.useEffect(()=>{var z;if(e){if(f(n),h("info"),S(n==="add"),k(!1),j(""),n==="add"){const H="SC"+Math.floor(1e3+Math.random()*9e3);g({AgentID:`AGT-${Math.floor(1e3+Math.random()*9e3)}`,Status:"Active",StartDate:new Date().toISOString().split("T")[0],Role:"Agent",CommissionRate:10,ExperienceLevel:"Trainee",Password:H,Department:"Sales",BaseSalary:0,Notes:"",InvestmentTermMonths:12}),j("12"),b(bs)}else if(r){g({...r}),j(((z=r.InvestmentTermMonths)==null?void 0:z.toString())||"");try{const H=r.Privileges?JSON.parse(r.Privileges):bs;b({...bs,...H})}catch{b(bs)}}}},[n,r,e]);const I=(z,H)=>{if(!z||!H)return;const U=parseInt(H);if(isNaN(U))return;const Q=new Date(z);Q.setMonth(Q.getMonth()+U),g(G=>({...G,EndDate:Q.toISOString().split("T")[0],InvestmentTermMonths:U}))},$=z=>{j(z);const H=parseInt(z);m.StartDate?I(m.StartDate,z):g(U=>({...U,InvestmentTermMonths:isNaN(H)?0:H}))},B=z=>{if(P||u==="view")return;const{name:H,value:U,type:Q}=z.target;if(Q==="checkbox"){const{checked:G}=z.target;g(Y=>({...Y,[H]:G}))}else g(G=>{let Y={...G,[H]:U};return H==="Role"&&U==="Partner"&&(Y.ExperienceLevel="Partner"),H==="StartDate"&&v&&setTimeout(()=>I(U,v),0),Y})},_=(z,H)=>{P||u==="view"||b(U=>({...U,[z]:{...U[z],[H]:!U[z][H]}}))},R=z=>{if(z.preventDefault(),P||!C)return;if(u==="view"){f("edit");return}if(u==="add"){if(d==="info"){h("access");return}if(d==="access"){h("finance");return}}k(!0);const H={...m,Privileges:JSON.stringify(w)};c(H,y),t()},L=u==="view";return e?i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-xl max-h-[95vh] flex flex-col overflow-hidden animate-in fade-in zoom-in duration-200",children:[i.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b border-slate-100 bg-slate-50/50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-slate-900 text-white rounded-lg",children:i.jsx(Et,{size:18})}),i.jsx("div",{children:i.jsx("h2",{className:"text-base font-semibold text-slate-900",children:u==="add"?"Staff Onboarding":u==="edit"?"Edit Staff Profile":"Staff Profile"})})]}),i.jsx("button",{onClick:t,className:"p-1 text-slate-400 hover:text-slate-600 transition-colors",children:i.jsx(Ct,{size:20})})]}),i.jsx("div",{className:"flex border-b border-slate-100 bg-white px-6 shrink-0",children:[{id:"info",label:"General Info"},{id:"access",label:"Security Access"},{id:"finance",label:"Financials",hidden:!D}].filter(z=>!z.hidden).map(z=>i.jsxs("button",{onClick:()=>h(z.id),className:`px-4 py-3 text-[10px] font-bold border-b-2 transition-all uppercase tracking-widest flex items-center gap-2 ${d===z.id?"border-indigo-600 text-indigo-600":"border-transparent text-slate-400 hover:text-slate-700"}`,children:[u==="add"&&d!==z.id&&i.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${["info","access","finance"].indexOf(d)>["info","access","finance"].indexOf(z.id)?"bg-emerald-50":"bg-slate-200"}`}),z.label]},z.id))}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6 no-scrollbar",children:i.jsxs("fieldset",{disabled:P,children:[d==="info"&&i.jsx($_,{formData:m,isReadOnly:L,duration:v,onDurationChange:$,handleChange:B}),d==="access"&&i.jsx(z_,{formData:m,isReadOnly:L,handleChange:B,permissions:w,handlePermissionToggle:_,defaultPermissions:bs}),d==="finance"&&i.jsx(W_,{formData:m,isReadOnly:L,handleChange:B,isAdmin:D})]})}),i.jsxs("div",{className:"px-6 py-4 border-t border-slate-100 bg-slate-50/50 flex flex-col sm:flex-row justify-between items-center gap-3 shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[u==="add"&&d==="finance"&&i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:y,onChange:z=>S(z.target.checked),className:"w-3.5 h-3.5 rounded border-slate-300 text-indigo-600"}),i.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Dispatch Login Details"})]}),!C&&i.jsxs("span",{className:"text-[10px] font-medium text-rose-500 flex items-center gap-1",children:[i.jsx(Ui,{size:12})," Offline"]})]}),i.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[i.jsx("button",{onClick:t,className:"flex-1 sm:flex-none px-4 py-2 text-[10px] font-black uppercase tracking-widest text-slate-400 hover:text-slate-600",children:"Cancel"}),i.jsxs("button",{onClick:R,disabled:P||!C,className:`flex-1 sm:flex-none flex items-center justify-center gap-3 px-8 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest shadow-xl transition-all active:scale-95 ${C?"bg-slate-900 text-white hover:bg-black":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:[P?i.jsx(Ut,{size:14,className:"animate-spin"}):u==="add"?d==="finance"?i.jsx(Qa,{size:14}):i.jsx(lE,{size:14}):u==="view"?i.jsx(i_,{size:14}):i.jsx(Iy,{size:14}),P?"Synchronizing...":u==="add"?d==="info"?"Next: Setup Access":d==="access"?"Next: Financials":"Complete Onboarding":u==="view"?"Modify Profile":"Save Changes"]})]})]})]})}):null},V_=({isOpen:e,onClose:t,mode:n,record:r,clients:a,vehicles:o,onSave:c})=>{const[u,f]=O.useState({}),[d,h]=O.useState(!1),[m,g]=O.useState(!1),[v,j]=O.useState(navigator.onLine);if(O.useEffect(()=>{const k=()=>j(navigator.onLine);return window.addEventListener("online",k),window.addEventListener("offline",k),()=>{window.removeEventListener("online",k),window.removeEventListener("offline",k)}},[]),O.useEffect(()=>{n==="add"?(f({ID:`MNT-${Math.floor(1e4+Math.random()*9e4)}`,Date:new Date().toISOString().split("T")[0],Status:Rn.Scheduled,AssetIDs:[],Cost:0,Description:""}),g(!0)):r&&(f({...r}),g(!1)),h(!1)},[n,r,e]),!e)return null;const w=k=>{if(d)return;const C=a.find(E=>E.ClientID===k);f(E=>({...E,ClientID:k,ClientName:(C==null?void 0:C.CompanyName)||"",AssetIDs:[]}))},b=k=>{d||f(C=>{const E=C.AssetIDs||[],D=E.includes(k)?E.filter(I=>I!==k):[...E,k];return{...C,AssetIDs:D}})},y=async k=>{if(k.preventDefault(),!(d||!v)&&!(!u.ClientID||!u.Description)){h(!0);try{await c(u,m),t()}finally{h(!1)}}},S=a.map(k=>({value:k.ClientID,label:k.CompanyName,disabled:k.Status!==on.Active,subtext:k.ClientType})),P=o.filter(k=>k.ClientID===u.ClientID);return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col overflow-hidden animate-in fade-in zoom-in duration-200",children:[i.jsxs("div",{className:"flex justify-between items-center p-8 border-b border-slate-100 bg-slate-50/50",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-3 rounded-2xl bg-indigo-600 text-white shadow-lg",children:i.jsx(Ol,{size:24})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:n==="add"?"New Asset Service":"Service Record"}),i.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:["Ref: ",u.ID]})]})]}),i.jsx("button",{onClick:t,disabled:d,className:"p-2 text-slate-300 hover:text-slate-900 transition-colors disabled:opacity-30",children:i.jsx(Ct,{size:24})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:i.jsx("fieldset",{disabled:d,children:i.jsxs("form",{id:"maintenance-form",onSubmit:y,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx("div",{className:"col-span-1 md:col-span-2",children:i.jsx(wc,{label:"Target Company",required:!0,options:S,value:u.ClientID||"",onChange:w})}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Service Status"}),i.jsxs("select",{value:u.Status,onChange:k=>f({...u,Status:k.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-100 rounded-xl outline-none font-bold text-xs",children:[i.jsx("option",{value:Rn.Scheduled,children:"Scheduled / Pending"}),i.jsx("option",{value:Rn.InProgress,children:"Currently In Progress"}),i.jsx("option",{value:Rn.Completed,children:"Task Completed"})]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Service Date"}),i.jsx("input",{type:"date",value:u.Date,onChange:k=>f({...u,Date:k.target.value}),className:"w-full p-3 bg-slate-50 border border-slate-100 rounded-xl outline-none text-xs"})]}),i.jsxs("div",{className:"col-span-1 md:col-span-2 space-y-1",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Work Description"}),i.jsx("textarea",{required:!0,value:u.Description,onChange:k=>f({...u,Description:k.target.value}),placeholder:"Details of the repair or maintenance performed...",className:"w-full h-32 p-4 bg-slate-50 border border-slate-100 rounded-2xl outline-none text-sm font-medium resize-none focus:ring-4 focus:ring-indigo-50 transition-all"})]}),u.ClientID&&P.length>0&&i.jsxs("div",{className:"col-span-1 md:col-span-2 space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Affect Assets"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:P.map(k=>{var C,E,D;return i.jsxs("button",{type:"button",onClick:()=>b(k.VehicleID),className:`flex items-center gap-3 p-3 rounded-xl border text-left transition-all ${(C=u.AssetIDs)!=null&&C.includes(k.VehicleID)?"bg-indigo-600 border-indigo-700 text-white shadow-md":"bg-white border-slate-100 text-slate-500 hover:border-indigo-200"} ${d?"opacity-50 cursor-not-allowed":""}`,children:[i.jsx(vr,{size:16,className:(E=u.AssetIDs)!=null&&E.includes(k.VehicleID)?"text-indigo-200":"text-slate-300"}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"text-[10px] font-black font-mono leading-none",children:k.NumberPlate}),i.jsxs("p",{className:`text-[8px] font-bold uppercase truncate mt-0.5 ${(D=u.AssetIDs)!=null&&D.includes(k.VehicleID)?"text-indigo-300":"text-slate-400"}`,children:[k.Make," ",k.Model]})]})]},k.VehicleID)})})]})]}),u.Status===Rn.Completed&&i.jsxs("div",{className:"bg-slate-900 rounded-[2rem] p-6 text-white shadow-2xl relative overflow-hidden border border-slate-800 animate-in zoom-in duration-300",children:[i.jsx("div",{className:"absolute right-0 top-0 p-6 opacity-5 rotate-12",children:i.jsx(Ga,{size:80})}),i.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:`p-3 rounded-2xl transition-all duration-500 ${m?"bg-emerald-500 text-white shadow-lg":"bg-slate-800 text-slate-600"}`,children:i.jsx(_s,{size:18})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-[11px] font-black uppercase tracking-widest leading-none",children:"Completion Dispatch"}),i.jsx("p",{className:`text-[8px] font-bold uppercase mt-1.5 ${m?"text-emerald-400":"text-slate-500"}`,children:m?"Client will receive service confirmation":"Silent record update only"})]})]}),i.jsx("button",{type:"button",disabled:d,onClick:()=>g(!m),className:`relative inline-flex h-7 w-12 items-center rounded-full transition-colors focus:outline-none ${m?"bg-emerald-500":"bg-slate-800"}`,children:i.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform duration-200 shadow-sm ${m?"translate-x-6":"translate-x-1"}`})})]})]})]})})}),i.jsxs("div",{className:"p-8 border-t border-slate-100 bg-slate-50 flex flex-col sm:flex-row justify-end items-center gap-4 shrink-0",children:[!v&&i.jsxs("div",{className:"flex items-center gap-2 text-rose-500 font-black text-[9px] uppercase tracking-widest mb-2 sm:mb-0",children:[i.jsx(Ui,{size:14})," Offline Mode: Registry Locked"]}),i.jsx("button",{onClick:t,disabled:d,className:"px-8 py-3 text-slate-400 bg-white border border-slate-200 rounded-2xl font-black text-[10px] uppercase tracking-widest disabled:opacity-30",children:"Cancel"}),i.jsxs("button",{form:"maintenance-form",type:"submit",disabled:d||!v,className:`px-12 py-3 rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-xl flex items-center justify-center gap-2 active:scale-95 transition-all min-w-[180px] ${v?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:[d?i.jsx(Ut,{size:14,className:"animate-spin"}):i.jsx(_s,{size:14}),d?"Processing...":n==="add"?"Log Maintenance":"Update Record"]})]})]})})},K_=({appState:e,modals:t,handlers:n})=>e.currentUser?i.jsxs(i.Fragment,{children:[i.jsx(A_,{isOpen:t.client.isOpen,onClose:t.client.close,mode:t.client.mode,client:t.client.selected,agents:e.agents,activityLogs:e.activityLogs,currentUser:e.currentUser,onSave:n.onSaveClient,onSaveActivityLog:n.onSaveActivityLog}),i.jsx(O_,{isOpen:t.contract.isOpen,onClose:t.contract.close,mode:t.contract.mode,contract:t.contract.selected,clients:e.clients,agents:e.agents,servicePlans:e.servicePlans,vehicles:e.vehicles,companySettings:e.systemSettings,userRole:e.currentUser.role,currentUser:e.currentUser,onSave:n.onSaveContract,onCreateServicePlan:()=>{}}),i.jsx(__,{isOpen:t.invoice.isOpen,onClose:t.invoice.close,mode:t.invoice.mode,invoice:t.invoice.selected,clients:e.clients,contracts:e.contracts,systemSettings:e.systemSettings,onSave:n.onSaveInvoice,type:t.invoice.type}),i.jsx(M_,{isOpen:t.vehicle.isOpen,onClose:t.vehicle.close,mode:t.vehicle.mode,vehicle:t.vehicle.selected,clients:e.clients,onSave:n.onSaveVehicle}),i.jsx(R_,{isOpen:t.payment.isOpen,onClose:t.payment.close,mode:t.payment.mode,payment:t.payment.selected,payments:e.payments,invoices:e.invoices,contracts:e.contracts,agents:e.agents,clients:e.clients,currentUser:e.currentUser,onSave:n.onSavePayment,onSaveInvoice:n.onSaveInvoice}),i.jsx(H_,{isOpen:t.agent.isOpen,onClose:t.agent.close,mode:t.agent.mode,agent:t.agent.selected,agents:e.agents,currentUser:e.currentUser,onSave:n.onSaveAgent}),i.jsx(V_,{isOpen:t.maintenance.isOpen,onClose:t.maintenance.close,mode:t.maintenance.mode,record:t.maintenance.selected,clients:e.clients,vehicles:e.vehicles,onSave:n.onSaveMaintenance})]}):null,G_=({tiles:e})=>i.jsx("div",{className:"w-full max-w-5xl grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-y-16 gap-x-8 md:gap-y-24 md:gap-x-16 py-10",children:e.map(t=>i.jsxs(sE,{to:t.path,className:"group flex flex-col items-center justify-center transition-all duration-300 active:scale-95",children:[i.jsx("div",{className:`mb-4 md:mb-8 transform transition-transform duration-500 group-hover:-translate-y-4 ${t.key==="partner_hub"?"text-amber-500":"text-slate-800"}`,children:i.jsx(t.icon,{className:"w-14 h-14 md:w-24 md:h-24",strokeWidth:1})}),i.jsx("div",{className:"text-center px-2",children:i.jsx("h3",{className:`text-[11px] md:text-sm font-black tracking-widest uppercase leading-tight group-hover:text-slate-900 transition-colors ${t.key==="partner_hub"?"text-amber-600":"text-slate-400"}`,children:t.name})})]},t.name+t.path))}),Y_=({isOpen:e,onClose:t,isAdmin:n,isAgent:r,myClientsCount:a,myTraineesCount:o,estimatedEarnings:c,monthActivations:u,referralLeaders:f,agentPerformance:d,questProgress:h,hasClaimed:m,onApplyForPartnership:g})=>e?i.jsxs("div",{className:"fixed inset-0 z-[100] flex justify-end",children:[i.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",onClick:t}),i.jsxs("div",{className:"relative w-full max-w-xl bg-white h-full shadow-2xl overflow-y-auto no-scrollbar animate-in slide-in-from-right duration-500 flex flex-col",children:[i.jsxs("div",{className:"p-8 border-b border-slate-100 flex items-center justify-between sticky top-0 bg-white z-10",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"p-3 bg-slate-900 text-white rounded-2xl",children:i.jsx(Zx,{size:20})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-black text-slate-900 uppercase tracking-tight leading-none",children:"Network Node"}),i.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-1",children:"Growth Mechanics & Overrides"})]})]}),i.jsx("button",{onClick:t,className:"p-2 text-slate-300 hover:text-slate-900 transition-colors",children:i.jsx(Ct,{size:24})})]}),i.jsxs("div",{className:"p-8 space-y-10 pb-24",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-slate-50 p-5 rounded-[2rem] border border-slate-100 flex flex-col gap-3",children:[i.jsx("div",{className:"p-2 w-fit bg-indigo-100 text-indigo-600 rounded-xl",children:i.jsx(bc,{size:20})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 leading-none",children:"Direct Portfolio"}),i.jsxs("p",{className:"text-xl font-black text-slate-900 tracking-tighter leading-none",children:[a," Accounts"]})]})]}),i.jsxs("div",{className:"bg-slate-50 p-5 rounded-[2rem] border border-slate-100 flex flex-col gap-3",children:[i.jsx("div",{className:"p-2 w-fit bg-emerald-100 text-emerald-600 rounded-xl",children:i.jsx(PE,{size:20})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 leading-none",children:"Team Network"}),i.jsxs("p",{className:"text-xl font-black text-slate-900 tracking-tighter leading-none",children:[o," Nodes"]})]})]}),i.jsxs("div",{className:`p-5 rounded-[2rem] shadow-lg flex flex-col gap-3 text-white ${n?"bg-amber-500":"bg-indigo-600"}`,children:[i.jsx("div",{className:"p-2 w-fit bg-white/20 rounded-xl",children:i.jsx(Mi,{size:20})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] font-black text-white/60 uppercase tracking-widest mb-1 leading-none",children:"Monthly Earning"}),i.jsxs("p",{className:"text-xl font-black tracking-tighter leading-none",children:["K",Ee(c)]})]})]}),i.jsxs("div",{className:`p-5 rounded-[2rem] shadow-lg flex flex-col gap-3 text-white ${u>=1?"bg-emerald-600":"bg-rose-500"} group overflow-hidden`,children:[i.jsx("div",{className:"p-2 w-fit bg-white/20 rounded-xl",children:i.jsx(NE,{size:20})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] font-black text-white/60 uppercase tracking-widest mb-1 leading-none",children:"Compliance State"}),i.jsx("p",{className:"text-xl font-black tracking-tighter leading-none",children:u>=1?"Target Met":"Action Required"})]})]})]}),n&&i.jsxs("div",{className:"bg-slate-50 border border-slate-100 rounded-[2.5rem] p-8 space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-indigo-600 text-white rounded-xl",children:i.jsx(mE,{size:16})}),i.jsx("h3",{className:"text-xs font-black text-slate-900 uppercase tracking-widest",children:"Referral Activity"})]}),i.jsx("div",{className:"space-y-3",children:f.map((v,j)=>i.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-slate-100 shadow-sm flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-[10px] font-black text-slate-400",children:j+1}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] font-black text-slate-900 uppercase",children:v.name}),i.jsx("p",{className:"text-[8px] font-bold text-slate-400 uppercase",children:"Top Referrer"})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm font-black text-indigo-600",children:v.count}),i.jsx("p",{className:"text-[8px] font-bold text-slate-300 uppercase",children:"Leads"})]})]},v.name))})]}),r&&i.jsxs("div",{className:"rounded-[2.5rem] p-8 text-white shadow-2xl relative overflow-hidden border transition-all duration-500 bg-slate-900 border-slate-800 animate-in slide-in-from-top-4",children:[i.jsx("div",{className:"absolute right-0 top-0 p-8 opacity-5 rotate-12",children:h.icon}),i.jsxs("div",{className:"relative z-10 flex flex-col gap-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:`p-4 rounded-2xl shadow-xl transition-transform hover:scale-110 ${h.color}`,children:h.icon}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-xs font-black uppercase tracking-[0.2em] text-white",children:h.label}),i.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-1.5",children:h.subtext})]})]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("div",{className:"h-3 w-full bg-white/5 rounded-full overflow-hidden border border-white/5",children:i.jsx("div",{className:"h-full transition-all duration-1000 bg-indigo-500",style:{width:`${h.percentage}%`}})})}),i.jsxs("span",{className:"text-sm font-black tracking-tighter text-white shrink-0",children:[h.percentage.toFixed(0),"%"]})]}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsxs("span",{className:"text-[8px] font-black px-3 py-1 rounded-lg uppercase tracking-widest border bg-white/5 border-white/10 text-slate-400",children:["Rank: ",h.level]}),h.canApply&&!m&&i.jsxs("button",{onClick:g,className:"px-6 py-2 bg-amber-500 hover:bg-amber-400 text-slate-900 rounded-xl text-[9px] font-black uppercase tracking-widest shadow-xl flex items-center justify-center gap-2 animate-pulse",children:[i.jsx(df,{size:14})," Claim Partner Rank"]})]})]})]})]}),i.jsxs("div",{className:"bg-slate-50 border border-slate-100 rounded-[2.5rem] p-8 space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-slate-900 text-white rounded-xl",children:i.jsx(kn,{size:16})}),i.jsx("h3",{className:"text-xs font-black text-slate-900 uppercase tracking-widest",children:"Operational Policy"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("section",{className:"bg-white p-4 rounded-2xl border border-slate-100 shadow-sm flex items-start gap-3",children:[i.jsx(Ty,{size:16,className:"text-rose-500 shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h5",{className:"text-[10px] font-black text-slate-900 uppercase",children:"Payout Eligibility"}),i.jsx("p",{className:"text-[10px] text-slate-500 font-medium leading-relaxed mt-1",children:"Minimum 1 new client activation required monthly to maintain base payout standing."})]})]}),i.jsxs("section",{className:"bg-white p-4 rounded-2xl border border-slate-100 shadow-sm flex items-start gap-3",children:[i.jsx(so,{size:16,className:"text-indigo-500 shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h5",{className:"text-[10px] font-black text-slate-900 uppercase",children:"Growth Bonus"}),i.jsx("p",{className:"text-[10px] text-slate-500 font-medium leading-relaxed mt-1",children:"Onboarding 2+ clients monthly accelerates rank progression and increases base commission rate."})]})]})]})]}),n&&i.jsxs("div",{className:"bg-slate-900 rounded-[2.5rem] p-6 text-white shadow-xl relative overflow-hidden",children:[i.jsx("div",{className:"absolute right-0 top-0 p-6 opacity-10",children:i.jsx(p_,{size:80})}),i.jsx("h4",{className:"text-[11px] font-black uppercase text-indigo-400 tracking-widest mb-6",children:"Staff Leaderboard"}),i.jsx("div",{className:"space-y-4",children:d.slice(0,5).map((v,j)=>i.jsx("div",{className:"flex items-center justify-between group",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center text-xs font-black ${j===0?"bg-amber-500 shadow-lg":"bg-slate-800"}`,children:j+1}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"text-xs font-black uppercase tracking-tight",children:v.AgentName}),i.jsxs("p",{className:"text-[9px] text-slate-500 uppercase tracking-widest font-bold mt-1",children:[v.monthlyOnboards," Onboards  ",v.ExperienceLevel]})]})]})},v.AgentID))})]})]})]})]}):null,Uu=({title:e,icon:t,children:n})=>i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-slate-900 border-b border-slate-100 pb-2",children:[i.jsx(t,{size:18,className:"text-indigo-600"}),i.jsx("h3",{className:"text-xs font-black uppercase tracking-widest",children:e})]}),i.jsx("div",{className:"space-y-3",children:n})]}),zh=({role:e,icon:t,tasks:n,color:r})=>i.jsxs("div",{className:`p-4 rounded-2xl border ${r} bg-white shadow-sm`,children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"p-2 rounded-xl bg-slate-50 text-slate-800",children:i.jsx(t,{size:16})}),i.jsx("h4",{className:"text-[11px] font-black uppercase tracking-tight",children:e})]}),i.jsx("ul",{className:"space-y-2",children:n.map((a,o)=>i.jsxs("li",{className:"flex items-start gap-2 text-[10px] text-slate-600 leading-tight",children:[i.jsx("div",{className:"w-1 h-1 rounded-full bg-slate-300 mt-1.5 shrink-0"}),a]},o))})]}),X_=({isOpen:e,onClose:t})=>e?i.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md",children:i.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col overflow-hidden animate-in zoom-in duration-300",children:[i.jsxs("div",{className:"p-6 md:p-8 border-b border-slate-50 flex justify-between items-center bg-slate-50/50",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"p-3 bg-slate-900 text-white rounded-2xl shadow-lg",children:i.jsx(cE,{size:20})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-black text-slate-900 uppercase tracking-tight",children:"Staff Operations Guide"}),i.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:"Internal Guidance & Procedures"})]})]}),i.jsx("button",{onClick:t,className:"p-2 text-slate-300 hover:text-slate-900 transition-colors",children:i.jsx(Ct,{size:24})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-6 md:p-10 space-y-10 no-scrollbar",children:[i.jsx(Uu,{title:"About Our Team",icon:bc,children:i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[i.jsx(zh,{role:"SCBC Agent",icon:io,color:"border-indigo-100",tasks:["Onboard new clients","Manage client accounts","Provide client support","Escalate technical issues","Guide clients on system usage"]}),i.jsx(zh,{role:"Partner",icon:Vj,color:"border-amber-100",tasks:["Strategic investment work","Manage client accounts","Provide support & guidance","Follow up on client issues","Onboard new clients"]}),i.jsx(zh,{role:"Support Staff",icon:vc,color:"border-slate-100",tasks:["Help clients with system usage","Resolve account issues","Escalate technical problems","Maintain smooth communication"]})]})}),i.jsx(Uu,{title:"Daily Responsibilities",icon:Z4,children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["Manage assigned client accounts","Find and onboard new clients","Follow up on all due payments","Record payments accurately in the system","Monitor upcoming payment due dates","Create, sign, and renew client contracts","Maintain regular contact with all clients"].map((n,r)=>i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-xl border border-slate-100",children:[i.jsx(kn,{size:14,className:"text-emerald-500 shrink-0"}),i.jsx("span",{className:"text-[10px] font-bold text-slate-700 uppercase leading-tight",children:n})]},r))})}),i.jsx(Uu,{title:"Monthly Earnings",icon:Mi,children:i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{className:"bg-indigo-600 rounded-3xl p-6 text-white relative overflow-hidden shadow-xl",children:[i.jsx("div",{className:"absolute right-0 top-0 p-6 opacity-10 rotate-12",children:i.jsx(Mi,{size:80})}),i.jsxs("div",{className:"relative z-10 space-y-2",children:[i.jsx("h4",{className:"text-xs font-black uppercase text-indigo-200",children:"Agents and Support Staff"}),i.jsxs("p",{className:"text-sm font-bold leading-relaxed",children:["Receive a monthly share of not less than ",i.jsx("span",{className:"text-emerald-300",children:"25%"})," from revenue generated by clients assigned to you."]}),i.jsx("p",{className:"text-[10px] text-indigo-100/70 font-medium",children:"Earnings increase based on performance and number of clients managed. Bonuses may be awarded for high performance."})]})]}),i.jsxs("div",{className:"bg-amber-500 rounded-3xl p-6 text-white relative overflow-hidden shadow-xl",children:[i.jsx("div",{className:"absolute right-0 top-0 p-6 opacity-10 rotate-12",children:i.jsx(Vj,{size:80})}),i.jsxs("div",{className:"relative z-10 space-y-2",children:[i.jsx("h4",{className:"text-xs font-black uppercase text-amber-100",children:"Partners"}),i.jsx("p",{className:"text-sm font-bold leading-relaxed",children:"Earnings are based on mutual agreement and investment contribution over an agreed period."})]})]})]})}),i.jsx(Uu,{title:"Client Onboarding Procedures",icon:H4,children:i.jsx("div",{className:"space-y-2",children:['Add the client under "Clients" in the system','Add the clients vehicle or vehicles under "Vehicles"',"Complete installation and confirm system activation","Create and sign the contract in the system","The system automatically sends the contract to the client","The client signs and returns it digitally via portal","Generate payment and invoice through the system","Record payment once received into the system","Monitor the next payment due date using the system"].map((n,r)=>i.jsxs("div",{className:"flex items-center gap-4 p-3 border-l-4 border-indigo-500 bg-white shadow-sm rounded-r-xl",children:[i.jsx("span",{className:"text-[10px] font-black text-indigo-600 w-4",children:r+1}),i.jsx("span",{className:"text-[10px] font-bold text-slate-600 uppercase tracking-wide leading-tight",children:n})]},r))})})]}),i.jsx("div",{className:"p-8 border-t border-slate-100 bg-slate-50 flex justify-center shrink-0",children:i.jsx("button",{onClick:t,className:"px-10 py-3 bg-slate-900 text-white rounded-2xl text-[10px] font-black uppercase tracking-[0.2em] shadow-xl hover:bg-black transition-all active:scale-95",children:"I Understand the Guide"})})]})}):null,Q_=({data:e,onClaimPayout:t,onApplyForPartnership:n})=>{var L,z,H;const[r,a]=O.useState(!1),[o,c]=O.useState(!1),[u,f]=O.useState(!0),d=((L=e.currentUser)==null?void 0:L.role)||"Agent",h=d==="Admin",m=d==="Agent",g=((z=e.currentUser)==null?void 0:z.id)||"",v=((H=e.currentUser)==null?void 0:H.name)||"",j=new Date,w=j.getMonth(),b=j.getFullYear();O.useEffect(()=>{if(u){const U=setTimeout(()=>{f(!1)},15e3);return()=>clearTimeout(U)}},[u]);const y=O.useMemo(()=>e.clients.filter(U=>String(U.AssignedAgentID).trim().toLowerCase()===String(g).trim().toLowerCase()),[e.clients,g]),S=O.useMemo(()=>y.filter(U=>{const Q=new Date(U.OnboardingDate);return Q.getMonth()===w&&Q.getFullYear()===b}).length,[y,w,b]),P=O.useMemo(()=>{const U={};return e.referrals.forEach(Q=>{U[Q.ReferrerID]||(U[Q.ReferrerID]={name:Q.ReferrerName,count:0}),U[Q.ReferrerID].count++}),Object.values(U).sort((Q,G)=>G.count-Q.count).slice(0,5)},[e.referrals]),k=O.useMemo(()=>e.agents.filter(U=>U.Role==="Agent"||U.Role==="Admin").map(U=>{const Q=e.clients.filter(X=>String(X.AssignedAgentID).trim().toLowerCase()===String(U.AgentID).trim().toLowerCase()),G=Q.filter(X=>{const ee=new Date(X.OnboardingDate);return ee.getMonth()===w&&ee.getFullYear()===b}).length,Y=e.payments.filter(X=>{const ee=(Q||[]).some(pe=>pe.ClientID===X.ClientID),ne=new Date(X.Date);return ee&&ne.getMonth()===w&&ne.getFullYear()===b}).reduce((X,ee)=>X+Number(ee.Amount)/(ee.MonthsCovered||1),0),M=e.agents.filter(X=>String(X.ParentAgentID).trim().toLowerCase()===String(U.AgentID).trim().toLowerCase()).length;return{...U,monthlyOnboards:G,monthlyRevenue:Y,teamSize:M,score:G*100+Y/10}}).sort((U,Q)=>Q.score-U.score),[e.agents,e.clients,e.payments,w,b]),C=O.useMemo(()=>(e.notifications||[]).filter(U=>(U.Type==="PAYOUT_REQUEST"||U.Type==="PARTNERSHIP_APPLICATION")&&U.Status==="Unread").sort((U,Q)=>new Date(Q.Time).getTime()-new Date(U.Time).getTime()),[e.notifications]),E=e.agents.find(U=>String(U.AgentID).trim().toLowerCase()===String(g).trim().toLowerCase()),D=e.agents.filter(U=>String(U.ParentAgentID).trim().toLowerCase()===String(g).trim().toLowerCase()),I=O.useMemo(()=>{const U=y.length,Q=(E==null?void 0:E.GraduatedTraineesCount)||0,G=(E==null?void 0:E.ExperienceLevel)||"Trainee";let Y=10,M="Path to Independent Agent",X=`${10-U} more clients to unlock Independent status.`,ee=i.jsx(gE,{size:24}),ne="bg-indigo-600";U>=10&&G==="Trainee"?(Y=25,M="Path to Mentor Unlock",X="Reached 10! Add 15 more to unlock Trainee Slots.",ee=i.jsx(_y,{size:24}),ne="bg-emerald-500"):(U>=25||G==="Mentor")&&(Y=50,M="Path to Partner (Lead)",X=`Graduated: ${Q}/5. Mentor override active.`,ee=i.jsx(fE,{size:24}),ne="bg-amber-500");const pe=Math.min(100,U/Y*100),we=G==="Mentor"&&Q>=5;return{percentage:pe,label:M,subtext:X,icon:ee,color:ne,canApply:we,graduatedCount:Q,level:G}},[y,E]),$=O.useMemo(()=>{const U=(E==null?void 0:E.CommissionRate)??10,Q=e.payments.filter(Y=>{const M=(y||[]).some(ee=>ee.ClientID===Y.ClientID),X=new Date(Y.Date);return M&&X.getMonth()===w&&X.getFullYear()===b}).reduce((Y,M)=>Y+Number(M.Amount)/(M.MonthsCovered||1),0),G=e.payments.filter(Y=>{const M=D.find(ee=>String(ee.AgentID)===String(Y.AgentID)),X=new Date(Y.Date);return!!M&&X.getMonth()===w&&X.getFullYear()===b}).reduce((Y,M)=>Y+Number(M.Amount)/(M.MonthsCovered||1),0);return Q*(U/100)+G*.05},[e.payments,y,D,w,b,E]),B=O.useMemo(()=>{const U=`CLAIM-${g}-${w+1}-${b}`;return(e.notifications||[]).some(Q=>Q.ID===U)},[e.notifications,g,w,b]),R=[{name:"Partner Hub",path:"/partner-hub",icon:Dy,key:"partner_hub",roles:["Partner"]},{name:"Clients",path:"/clients",icon:bc,key:"clients"},{name:"Vehicles",path:"/vehicles",icon:vr,key:"vehicles"},{name:"Asset Service",path:"/maintenance",icon:Ol,key:"sim_manager"},{name:"SIM Assets",path:"/sim-maintenance",icon:aa,key:"sim_manager"},{name:"Contracts",path:"/contracts",icon:Sn,key:"contracts"},{name:"Invoices",path:"/invoices",icon:Sn,key:"invoices"},{name:"Payments",path:"/payments",icon:fa,key:"payments"},{name:"Commissions",path:"/commissions",icon:Py,key:"commissions"},{name:"Support Desk",path:"/support",icon:yr,key:"support"},{name:"Team Access",path:"/agents",icon:io,key:"agents"},{name:"Reports",path:"/reports",icon:U4,key:"dashboard"},{name:"Settings",path:"/settings",icon:c_,key:"settings"}].filter(U=>{var G,Y,M;return U.roles&&!U.roles.includes(d)?!1:d==="Admin"||d==="Partner"&&U.key==="partner_hub"||d==="Agent"&&["clients","vehicles","sim_manager","contracts","invoices","payments","commissions","support","dashboard"].includes(U.key)?!0:(M=(Y=(G=e.currentUser)==null?void 0:G.permissions)==null?void 0:Y[U.key])==null?void 0:M.view});return i.jsxs("div",{className:"h-full flex flex-col items-center select-none overflow-y-auto no-scrollbar py-12 px-4 animate-in fade-in duration-1000 relative",children:[i.jsxs("div",{className:"fixed bottom-24 right-6 z-[60] flex flex-col gap-3 items-end",children:[!u&&i.jsx("button",{onClick:()=>f(!0),className:"w-12 h-12 bg-slate-900 text-white rounded-2xl shadow-xl flex items-center justify-center transition-all hover:scale-110 active:scale-95 border border-white/10 animate-in zoom-in",title:"Expand Tools",children:i.jsx(bE,{size:18})}),u&&i.jsxs("div",{className:"flex flex-col gap-3 items-end animate-in slide-in-from-bottom-5 fade-in duration-300",children:[i.jsxs("div",{className:"flex items-center gap-3 group",children:[i.jsx("span",{className:"hidden md:block opacity-0 group-hover:opacity-100 transition-all -translate-x-2 group-hover:translate-x-0 bg-slate-900 text-white text-[9px] font-black uppercase tracking-widest px-3 py-1.5 rounded-lg shadow-xl border border-white/10 whitespace-nowrap pointer-events-none",children:"Staff Guide"}),i.jsx("button",{onClick:()=>c(!0),className:"w-14 h-14 bg-white text-slate-400 rounded-2xl shadow-xl flex items-center justify-center transition-all hover:scale-110 active:scale-95 hover:text-indigo-600 border border-slate-100",title:"Staff Handbook",children:i.jsx(cE,{size:20})})]}),i.jsxs("div",{className:"flex items-center gap-3 group",children:[i.jsx("span",{className:"hidden md:block opacity-0 group-hover:opacity-100 transition-all -translate-x-2 group-hover:translate-x-0 bg-indigo-600 text-white text-[9px] font-black uppercase tracking-widest px-3 py-1.5 rounded-lg shadow-xl border border-white/10 whitespace-nowrap pointer-events-none",children:"Network Hub"}),i.jsxs("button",{onClick:()=>a(!0),className:"w-14 h-14 bg-slate-900 text-white rounded-2xl shadow-xl flex flex-col items-center justify-center transition-all hover:scale-110 active:scale-95 hover:bg-indigo-600 relative overflow-hidden group/btn",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-indigo-500/20 to-transparent opacity-0 group-hover/btn:opacity-100 transition-opacity"}),i.jsx(pf,{size:22,className:"relative z-10"}),i.jsx("span",{className:"text-[7px] font-black uppercase tracking-widest mt-1 relative z-10",children:"Network"}),C.length>0&&h&&i.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-rose-500 border-2 border-white rounded-full flex items-center justify-center text-[8px] font-black animate-bounce",children:C.length})]})]}),i.jsx("button",{onClick:()=>f(!1),className:"w-8 h-8 mr-3 bg-white border border-slate-100 text-slate-300 rounded-full flex items-center justify-center hover:text-slate-600 transition-colors shadow-sm",title:"Hide Tools",children:i.jsx(_i,{size:14})})]})]}),i.jsx(G_,{tiles:R}),i.jsx(Y_,{isOpen:r,onClose:()=>a(!1),isAdmin:h,isAgent:m,myClientsCount:y.length,myTraineesCount:D.length,estimatedEarnings:$,monthActivations:S,referralLeaders:P,agentPerformance:k,questProgress:I,hasClaimed:B,onApplyForPartnership:()=>n==null?void 0:n(g,v,"Promotion to Partner Status Request")}),i.jsx(X_,{isOpen:o,onClose:()=>c(!1)})]})},Z_=({client:e,assignedAgent:t,assetCount:n,activityLogs:r=[],onView:a})=>{var g;const o=!e.AssignedAgentID||String(e.AssignedAgentID)==="0"||String(e.AssignedAgentID).trim()==="",c=t?t.AgentName.split(" ")[0]:null,u=((g=t==null?void 0:t.Role)==null?void 0:g.toLowerCase())==="partner",f=r.filter(v=>String(v.ClientID)===String(e.ClientID)),d=f.length>0,h=new Date;h.setHours(0,0,0,0);const m=f==null?void 0:f.some(v=>v.FollowUpDate?new Date(v.FollowUpDate)<=h:!1);return i.jsxs("div",{onClick:()=>a(e),className:"group relative flex flex-col items-center cursor-pointer transition-transform duration-300 hover:-translate-y-1",children:[i.jsx("button",{className:"absolute -right-1 -top-1 p-2 text-slate-200 hover:text-slate-400 transition-colors z-10",children:i.jsx(ff,{size:14})}),o&&i.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 z-20 animate-pulse",children:i.jsx("div",{className:"bg-rose-500 text-white px-2 py-0.5 rounded-full text-[7px] font-black uppercase tracking-widest shadow-xl border border-white",children:"NEEDS AGENT"})}),i.jsxs("div",{className:"relative mb-3 md:mb-5",children:[i.jsx("div",{className:`w-20 h-20 md:w-32 md:h-32 rounded-full border flex items-center justify-center transition-all duration-500 group-hover:scale-105 group-hover:shadow-xl bg-white
          ${o?"border-rose-100 bg-rose-50/10":e.ClientType==="Individual"?e.Gender==="Female"?"border-rose-100 text-rose-300":"border-indigo-100 text-indigo-300":"border-slate-100 text-slate-300"}`,children:o?i.jsx(g_,{className:"w-8 h-8 md:w-12 md:h-12 text-rose-200",strokeWidth:1}):e.ClientType==="Individual"?i.jsx(Et,{className:"w-8 h-8 md:w-12 md:h-12",strokeWidth:1}):i.jsx(Ei,{className:"w-8 h-8 md:w-12 md:h-12",strokeWidth:1})}),i.jsx("div",{className:`absolute bottom-0.5 right-0.5 md:bottom-2 md:right-2 w-3.5 h-3.5 md:w-5 md:h-5 rounded-full border-2 md:border-4 border-white shadow-sm
          ${e.Status===on.Active?"bg-emerald-500":"bg-rose-500"}`}),i.jsxs("div",{className:"absolute top-0 -right-2 flex flex-col gap-1 z-20",children:[m&&i.jsx("div",{className:"bg-rose-600 text-white p-1.5 rounded-full shadow-lg border-2 border-white animate-bounce ring-4 ring-rose-500/20",title:"Follow-up Required Today",children:i.jsx(od,{size:10,strokeWidth:3})}),d&&i.jsx("div",{className:"bg-indigo-500 text-white p-1.5 rounded-full shadow-lg border-2 border-white",title:"Has Activity History",children:i.jsx(yr,{size:10,strokeWidth:3})})]}),i.jsx("div",{className:`absolute -top-1 -left-1 px-1.5 py-0.5 rounded-md border flex items-center animate-in fade-in duration-1000 ${o?"bg-rose-50 border-rose-100 text-rose-400":"bg-white/40 border-slate-100/30 text-slate-400"} backdrop-blur-[2px]`,children:i.jsx("span",{className:"text-[6px] md:text-[8px] font-black uppercase tracking-tighter truncate max-w-[40px] md:max-w-[70px]",children:o?"Unassigned":c})}),n>0&&i.jsx("div",{className:"absolute -bottom-1 -left-1 w-5 h-5 md:w-7 md:h-7 bg-slate-50/80 backdrop-blur-[2px] text-slate-400 rounded-full border border-slate-100/50 flex items-center justify-center animate-in zoom-in duration-500",children:i.jsx("span",{className:"text-[7px] md:text-[9px] font-black leading-none",children:n})})]}),i.jsxs("div",{className:"text-center space-y-0.5 px-1 w-full",children:[i.jsx("h3",{className:`text-[10px] md:text-xs font-black uppercase tracking-tight transition-colors line-clamp-1 ${o?"text-rose-900":"text-slate-900 group-hover:text-indigo-600"}`,children:e.CompanyName}),i.jsx("p",{className:"text-[7px] md:text-[8px] font-bold text-slate-400 uppercase tracking-[0.2em] leading-none opacity-60",children:e.ClientType})]}),u&&!o&&i.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsx("div",{className:"bg-indigo-600 text-white text-[6px] font-black uppercase px-2 py-0.5 rounded-full tracking-widest",children:"Partner"})})]})},J_=({clients:e,agents:t,vehicles:n=[],activityLogs:r=[],onAdd:a,onView:o,onEdit:c})=>{const[u,f]=O.useState(""),[d,h]=O.useState("All"),m=e.filter(v=>{if(!(v.CompanyName.toLowerCase().includes(u.toLowerCase())||v.Phone&&v.Phone.includes(u)||v.NRC&&v.NRC.toLowerCase().includes(u.toLowerCase())))return!1;const w=!v.AssignedAgentID||String(v.AssignedAgentID)==="0"||String(v.AssignedAgentID).trim()==="";return d==="Unassigned"?w:!0}),g=e.filter(v=>!v.AssignedAgentID||String(v.AssignedAgentID)==="0"||String(v.AssignedAgentID).trim()==="").length;return i.jsxs("div",{className:"flex flex-col h-full animate-in fade-in duration-700 overflow-hidden",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 pb-6 shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-1.5 p-1 bg-slate-100 border border-slate-200 rounded-2xl w-fit",children:[i.jsx("button",{onClick:()=>h("All"),className:`px-5 py-2 text-[9px] font-black uppercase tracking-widest rounded-xl transition-all ${d==="All"?"bg-slate-900 text-white shadow-md":"text-slate-400 hover:text-slate-600"}`,children:"All Accounts"}),i.jsxs("button",{onClick:()=>h("Unassigned"),className:`px-5 py-2 text-[9px] font-black uppercase tracking-widest rounded-xl transition-all flex items-center gap-2 ${d==="Unassigned"?"bg-rose-50 text-white shadow-md":"text-slate-400 hover:text-slate-600"}`,children:[g>0&&i.jsx(ua,{size:12,className:d==="Unassigned"?"text-white":"text-rose-500"}),"Unassigned (",g,")"]})]}),i.jsxs("div",{className:"flex w-full md:max-w-lg items-center gap-2",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(zn,{size:14,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),i.jsx("input",{type:"text",placeholder:"SEARCH REGISTRY...",value:u,onChange:v=>f(v.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-100 rounded-full text-[9px] font-black text-slate-600 placeholder:text-slate-300 outline-none focus:ring-4 focus:ring-slate-100/50 transition-all uppercase tracking-widest"})]}),i.jsx("button",{onClick:a,className:"p-2.5 bg-slate-900 text-white rounded-full hover:bg-slate-800 transition-all shadow-lg active:scale-90 flex-shrink-0",children:i.jsx(Rr,{size:16,strokeWidth:3})})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-10 pt-2",children:i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-3 md:gap-x-8 gap-y-8 md:gap-y-12",children:m.length>0?m.map(v=>i.jsx(Z_,{client:v,assignedAgent:t.find(j=>String(j.AgentID)===String(v.AssignedAgentID)),assetCount:n.filter(j=>String(j.ClientID)===String(v.ClientID)).length,activityLogs:r,onView:o},v.ClientID)):i.jsxs("div",{className:"col-span-full py-20 flex flex-col items-center opacity-10",children:[i.jsx(Et,{size:40,className:"mb-2"}),i.jsx("p",{className:"text-[8px] font-black uppercase tracking-[0.5em]",children:"No Data"})]})})})]})},eM=({vehicles:e,agents:t,clients:n,onAdd:r,onView:a,onEdit:o})=>{const[c,u]=O.useState(""),f=e.filter(d=>d.NumberPlate.toLowerCase().includes(c.toLowerCase())||d.ClientName.toLowerCase().includes(c.toLowerCase())||d.Make.toLowerCase().includes(c.toLowerCase())||d.Model.toLowerCase().includes(c.toLowerCase()));return i.jsxs("div",{className:"flex flex-col h-full animate-in fade-in duration-700 overflow-hidden",children:[i.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-end gap-4 pb-6 shrink-0",children:i.jsxs("div",{className:"flex w-full md:max-w-lg items-center gap-2",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(zn,{size:14,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),i.jsx("input",{type:"text",placeholder:"SEARCH FLEET...",value:c,onChange:d=>u(d.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-100 rounded-full text-[9px] font-black text-slate-600 placeholder:text-slate-300 outline-none focus:ring-4 focus:ring-slate-100/50 transition-all uppercase tracking-widest"})]}),i.jsx("button",{onClick:r,className:"p-2.5 bg-slate-900 text-white rounded-full hover:bg-slate-800 transition-all shadow-lg active:scale-90 flex-shrink-0",children:i.jsx(Rr,{size:16,strokeWidth:3})})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-10 pt-2",children:i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-3 md:gap-x-8 gap-y-8 md:gap-y-12",children:f.length>0?f.map(d=>i.jsxs("div",{onClick:()=>a(d),className:"group relative flex flex-col items-center cursor-pointer transition-transform duration-300 hover:-translate-y-1",children:[i.jsx("div",{className:"absolute -right-1 -top-1 z-20 flex gap-1",children:i.jsx("button",{onClick:h=>{h.stopPropagation(),o(d)},className:"p-2 bg-white border border-slate-100 text-slate-300 hover:text-indigo-600 rounded-full transition-all shadow-md active:scale-90",children:i.jsx(Ay,{size:14})})}),i.jsxs("div",{className:"relative mb-3 md:mb-5",children:[i.jsx("div",{className:"w-20 h-20 md:w-32 md:h-32 rounded-full border border-slate-100 flex items-center justify-center transition-all duration-500 group-hover:scale-105 group-hover:shadow-xl bg-white text-slate-300",children:i.jsx(vr,{className:"w-8 h-8 md:w-12 md:h-12",strokeWidth:1})}),i.jsx("div",{className:`absolute bottom-0.5 right-0.5 md:bottom-2 md:right-2 w-3.5 h-3.5 md:w-5 md:h-5 rounded-full border-2 md:border-4 border-white shadow-sm
                      ${d.Status===Cs.Active?"bg-indigo-500":"bg-orange-500"}`}),i.jsxs("div",{className:"absolute bottom-0 -left-1 px-1.5 py-0.5 bg-white/60 backdrop-blur-[2px] rounded-full border border-slate-100/30 flex items-center gap-1 animate-in slide-in-from-bottom-2 duration-700",children:[i.jsx(Et,{size:8,className:"text-slate-400"}),i.jsx("span",{className:"text-[6px] md:text-[7px] font-black text-slate-400 uppercase tracking-tight truncate max-w-[50px] md:max-w-[80px]",children:d.ClientName})]}),i.jsxs("div",{className:"absolute -top-1 -right-1 px-1.5 py-0.5 bg-slate-900/90 backdrop-blur-[2px] text-white rounded-md border border-white/10 flex items-center animate-in zoom-in duration-500",children:[i.jsx(xE,{size:8,className:"text-indigo-400 mr-0.5"}),i.jsx("span",{className:"text-[7px] md:text-[9px] font-black leading-none uppercase tracking-tighter",children:d.NumberPlate})]})]}),i.jsxs("div",{className:"text-center space-y-0.5 px-1 w-full",children:[i.jsxs("h3",{className:"text-[10px] md:text-xs font-black text-slate-900 uppercase tracking-tight group-hover:text-indigo-600 transition-colors line-clamp-1",children:[d.Make," ",d.Model]}),i.jsxs("p",{className:"text-[7px] md:text-[8px] font-bold text-slate-400 uppercase tracking-[0.2em] leading-none opacity-60",children:[d.Year,"  ",d.ServiceType]})]})]},d.VehicleID)):i.jsxs("div",{className:"col-span-full py-20 flex flex-col items-center opacity-10",children:[i.jsx(vr,{size:40,className:"mb-2"}),i.jsx("p",{className:"text-[8px] font-black uppercase tracking-[0.5em]",children:"No Assets"})]})})})]})},tM=({isOpen:e,onClose:t,vehicles:n,agent:r,onSave:a})=>{const[o,c]=O.useState({}),[u,f]=O.useState(!1),[d,h]=O.useState(!0),[m,g]=O.useState("30"),v=n.length>1;O.useEffect(()=>{if(n.length>0&&e){const y=n[0],S=new Date().toISOString().split("T")[0],P=new Date;P.setDate(P.getDate()+30),c({ID:`SIM-${Math.floor(1e4+Math.random()*9e4)}`,Date:S,ExpiryDate:P.toISOString().split("T")[0],AgentID:r.id,Reference:"",Amount:50,VehicleID:y.VehicleID,Plate:y.NumberPlate,SimNumber:y.SimNumber,Network:y.NetworkProvider}),g("30")}},[n,e,r]);const j=(y,S)=>{if(!y||S==="custom")return;const P=new Date(y);P.setDate(P.getDate()+parseInt(S)),c(k=>({...k,ExpiryDate:P.toISOString().split("T")[0]}))},w=y=>{g(y),y!=="custom"&&o.Date&&j(o.Date,y)},b=async y=>{if(y.preventDefault(),!!o.ExpiryDate){f(!0);try{const S=n.map((P,k)=>({ID:`SIM-${Math.floor(1e4+Math.random()*9e4)}-${k}`,VehicleID:P.VehicleID,Plate:P.NumberPlate,SimNumber:P.SimNumber,Network:P.NetworkProvider,Amount:o.Amount||0,Date:o.Date,ExpiryDate:o.ExpiryDate,AgentID:r.id,Reference:o.Reference||"MANUAL-RENEW"}));await a(S,d),t()}catch(S){console.error("Renewal Error:",S)}finally{f(!1)}}};return!e||n.length===0?null:i.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-3 bg-slate-900/40 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in duration-200",children:[i.jsxs("div",{className:"px-5 py-4 border-b border-slate-100 flex items-center justify-between bg-slate-50/50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-indigo-600 text-white rounded-lg",children:v?i.jsx(ky,{size:18}):i.jsx(aa,{size:18})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-sm font-semibold text-slate-900 leading-tight",children:v?`Batch Renewal (${n.length})`:"SIM Renewal"}),i.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:"Security Protocol Active"})]})]}),i.jsx("button",{onClick:t,className:"p-1 text-slate-300 hover:text-slate-900",children:i.jsx(Ct,{size:20})})]}),i.jsxs("form",{onSubmit:b,className:"p-5 space-y-4",children:[v?i.jsxs("div",{className:"bg-indigo-50 border border-indigo-100 p-3 rounded-xl",children:[i.jsx("p",{className:"text-[10px] font-semibold text-indigo-400 uppercase tracking-tighter",children:"Processing Multi-Node Renewal"}),i.jsxs("p",{className:"text-xs font-semibold text-indigo-700 mt-0.5",children:[n.length," Assets in Queue"]})]}):i.jsxs("div",{className:"bg-slate-50 border border-slate-100 p-3 rounded-xl flex items-center justify-between",children:[i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"text-[10px] font-semibold text-slate-400 uppercase tracking-tighter",children:"Target Plate"}),i.jsx("p",{className:"text-sm font-bold text-slate-900 font-mono tracking-tighter",children:n[0].NumberPlate})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-[10px] font-semibold text-slate-400 uppercase tracking-tighter",children:"SIM Provider"}),i.jsx("p",{className:"text-xs font-semibold text-slate-700",children:n[0].NetworkProvider})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-semibold text-slate-400 uppercase",children:"Service Plan"}),i.jsxs("select",{value:m,onChange:y=>w(y.target.value),className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg outline-none text-xs font-medium",children:[i.jsx("option",{value:"30",children:"Monthly"}),i.jsx("option",{value:"180",children:"6 Months"}),i.jsx("option",{value:"365",children:"Annual"}),i.jsx("option",{value:"custom",children:"Custom"})]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-semibold text-slate-400 uppercase",children:"Cost / SIM"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-slate-400 text-xs",children:"K"}),i.jsx("input",{type:"number",value:o.Amount||0,onChange:y=>c({...o,Amount:parseFloat(y.target.value)}),className:"w-full pl-6 p-2 bg-slate-50 border border-slate-200 rounded-lg text-xs font-semibold"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-semibold text-slate-400 uppercase",children:"Entry Date"}),i.jsx("input",{type:"date",value:o.Date,onChange:y=>{c({...o,Date:y.target.value}),j(y.target.value,m)},className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-xs font-medium"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-semibold text-slate-400 uppercase",children:"Expiry Node"}),i.jsx("input",{type:"date",value:o.ExpiryDate||"",onChange:y=>c({...o,ExpiryDate:y.target.value}),readOnly:m!=="custom",className:`w-full p-2 border rounded-lg text-xs font-semibold ${m==="custom"?"bg-slate-50 border-slate-200":"bg-indigo-50 border-indigo-100 text-indigo-600 cursor-not-allowed"}`})]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-semibold text-slate-400 uppercase tracking-widest",children:"Network Transaction ID (Optional)"}),i.jsx("input",{value:o.Reference||"",onChange:y=>c({...o,Reference:y.target.value}),placeholder:"Ref from SMS...",className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-xs font-semibold text-indigo-600 outline-none focus:border-indigo-300"})]}),i.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-slate-900 rounded-xl",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ga,{size:12,className:d?"text-emerald-400":"text-slate-500"}),i.jsx("span",{className:"text-[10px] font-medium text-slate-300",children:"Notify Customer via Email"})]}),i.jsx("button",{type:"button",onClick:()=>h(!d),className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors ${d?"bg-emerald-500":"bg-slate-700"}`,children:i.jsx("span",{className:`inline-block h-3.5 w-3.5 transform rounded-full bg-white transition-transform ${d?"translate-x-4.5":"translate-x-1"}`})})]}),i.jsxs("div",{className:"pt-2 flex gap-3",children:[i.jsx("button",{type:"button",onClick:t,className:"flex-1 py-2 text-xs font-semibold text-slate-400 hover:text-slate-600",children:"Cancel"}),i.jsxs("button",{type:"submit",disabled:u,className:"flex-[2] bg-indigo-600 hover:bg-indigo-500 text-white py-2 rounded-xl text-xs font-semibold shadow-lg transition-all flex items-center justify-center gap-2",children:[u?i.jsx(Ut,{size:14,className:"animate-spin"}):i.jsx(_s,{size:14}),v?"Commit Multi-Node":"Record Renewal"]})]})]})]})})},Yj=e=>{if(!e)return-1;const t=new Date(e);if(isNaN(t.getTime()))return-1;const n=new Date,r=t.getTime()-n.getTime();return Math.ceil(r/(1e3*60*60*24))},nM=({vehicles:e,simTopups:t,clients:n,currentUser:r,onTopUp:a})=>{const[o,c]=O.useState(""),[u,f]=O.useState("All"),[d,h]=O.useState([]),[m,g]=O.useState(null),[v,j]=O.useState([]),w=C=>{const E=t.filter(D=>D.VehicleID===C).sort((D,I)=>{const $=new Date(D.ExpiryDate).getTime(),B=new Date(I.ExpiryDate).getTime();return(isNaN(B)?0:B)-(isNaN($)?0:$)});return E.length>0?E[0].ExpiryDate:null},b=C=>{const E=t.filter(D=>D.VehicleID===C).sort((D,I)=>{const $=new Date(D.Date).getTime(),B=new Date(I.Date).getTime();return(isNaN(B)?0:B)-(isNaN($)?0:$)});return E.length>0?E[0].Date:null},y=O.useMemo(()=>{const C={};return e.forEach(E=>{if(u!=="All"&&E.NetworkProvider!==u)return;const D=o.toLowerCase();if(E.NumberPlate.toLowerCase().includes(D)||E.SimNumber&&E.SimNumber.toLowerCase().includes(D)||E.ClientName.toLowerCase().includes(D)){if(!C[E.ClientID]){const $=n.find(B=>B.ClientID===E.ClientID);$&&(C[E.ClientID]={client:$,items:[],stats:{}})}C[E.ClientID]&&C[E.ClientID].items.push(E)}}),Object.values(C).forEach(E=>{const D=E.items.map(L=>L.VehicleID),$=t.filter(L=>D.includes(L.VehicleID)).map(L=>new Date(L.Date).getTime()).filter(L=>!isNaN(L)),B=$.length>0?new Date(Math.max(...$)).toISOString():null,_=E.items.reduce((L,z)=>{const H=w(z.VehicleID);return!H||isNaN(new Date(H).getTime())?L:L?new Date(H)<new Date(L)?H:L:H},null),R=E.items.filter(L=>{const z=w(L.VehicleID);return Yj(z)<=0}).length;E.stats={lastMaintained:B,nextMaintenance:_,dueCount:R}}),Object.values(C).sort((E,D)=>D.stats.dueCount-E.stats.dueCount)},[e,n,t,u,o]),S=C=>g(E=>E===C?null:C),P=(C,E)=>{const D=E.every(I=>d.includes(I));h(D?I=>I.filter($=>!E.includes($)):I=>[...new Set([...I,...E])])},k=C=>{h(E=>E.includes(C)?E.filter(D=>D!==C):[...E,C])};return i.jsxs("div",{className:"flex flex-col h-full animate-in fade-in duration-500",children:[i.jsxs("div",{className:"flex items-center gap-3 pb-3 border-b border-slate-100 mb-2 shrink-0",children:[i.jsx("div",{className:"flex items-center gap-1 p-0.5 bg-slate-100 rounded-lg shrink-0",children:["All","Airtel","MTN"].map(C=>i.jsx("button",{onClick:()=>f(C),className:`px-3 py-1 text-xs font-medium rounded-md transition-all ${u===C?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:C},C))}),i.jsxs("div",{className:"relative flex-1",children:[i.jsx(zn,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300"}),i.jsx("input",{type:"text",placeholder:"Search accounts or sims...",value:o,onChange:C=>c(C.target.value),className:"w-full pl-9 pr-4 py-2 bg-slate-50 border border-slate-100 rounded-lg text-sm font-normal text-slate-600 outline-none focus:border-indigo-200 transition-all"})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar",children:i.jsxs("table",{className:"w-full border-separate border-spacing-y-1",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-xs font-semibold text-slate-400",children:[i.jsx("th",{className:"w-10 px-2 py-2"}),i.jsx("th",{className:"text-left px-2 py-2",children:"Account Entity"}),i.jsx("th",{className:"text-left px-2 py-2 hidden md:table-cell",children:"Last Maintained"}),i.jsx("th",{className:"text-left px-2 py-2",children:"Earliest Expiry"}),i.jsx("th",{className:"text-center px-2 py-2 hidden sm:table-cell",children:"Compliance"}),i.jsx("th",{className:"w-10 px-2 py-2"})]})}),i.jsx("tbody",{children:y.length>0?y.map(({client:C,items:E,stats:D})=>{const I=m===C.ClientID,$=E.map(R=>R.VehicleID),B=$.every(R=>d.includes(R)),_=($==null?void 0:$.some(R=>d.includes(R)))&&!B;return i.jsxs(q.Fragment,{children:[i.jsxs("tr",{className:`group transition-all ${I?"bg-indigo-50/40":"hover:bg-slate-50"}`,children:[i.jsx("td",{className:"px-2 py-2.5 text-center",children:i.jsx("button",{onClick:()=>P(C.ClientID,$),className:`transition-colors ${B?"text-indigo-600":_?"text-indigo-400":"text-slate-300 hover:text-slate-400"}`,children:B?i.jsx(Yx,{size:18}):i.jsx(Jx,{size:18})})}),i.jsx("td",{className:"px-2 py-2.5 cursor-pointer",onClick:()=>S(C.ClientID),children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`p-1.5 rounded-md border transition-colors ${I?"bg-indigo-600 border-indigo-700 text-white":"bg-white border-slate-100 text-slate-400"}`,children:i.jsx(Ei,{size:14})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:`text-sm font-semibold truncate ${I?"text-indigo-900":"text-slate-700"}`,children:C.CompanyName}),i.jsxs("p",{className:"text-[10px] text-slate-400 font-medium",children:[E.length," Assets"]})]})]})}),i.jsx("td",{className:"px-2 py-2.5 hidden md:table-cell text-sm text-slate-500",children:D.lastMaintained?i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(da,{size:12,className:"text-slate-300"}),i.jsx("span",{children:De(D.lastMaintained)})]}):i.jsx("span",{className:"text-slate-300 italic text-[10px] uppercase font-bold tracking-tighter",children:"No Activity Logged"})}),i.jsx("td",{className:"px-2 py-2.5 text-sm font-medium",children:i.jsx("span",{className:D.dueCount>0?"text-rose-500":"text-emerald-600",children:De(D.nextMaintenance)})}),i.jsx("td",{className:"px-2 py-2.5 text-center hidden sm:table-cell",children:i.jsxs("div",{className:`inline-flex items-center gap-1.5 px-2 py-0.5 rounded-full text-[10px] font-semibold border ${D.dueCount>0?"bg-rose-50 border-rose-100 text-rose-600":"bg-emerald-50 border-emerald-100 text-emerald-600"}`,children:[D.dueCount>0?i.jsx(ua,{size:10}):i.jsx(SE,{size:10}),D.dueCount>0?`${D.dueCount} Due`:"Healthy"]})}),i.jsx("td",{className:"px-2 py-2.5 text-right",children:i.jsx("button",{onClick:()=>S(C.ClientID),className:`p-1.5 transition-all rounded-full ${I?"bg-indigo-100 text-indigo-600 rotate-180":"text-slate-300 hover:text-slate-600"}`,children:i.jsx(_i,{size:16})})})]}),I&&E.map(R=>{const L=w(R.VehicleID),z=b(R.VehicleID),H=Yj(L),U=H<=0,Q=d.includes(R.VehicleID);return i.jsxs("tr",{className:"bg-white border-b border-slate-50 animate-in slide-in-from-top-1",children:[i.jsx("td",{className:"px-2 py-2 text-center pl-6",children:i.jsx("button",{onClick:()=>k(R.VehicleID),className:`transition-colors ${Q?"text-indigo-600":"text-slate-200 hover:text-slate-300"}`,children:Q?i.jsx(Yx,{size:16}):i.jsx(Jx,{size:16})})}),i.jsx("td",{className:"px-2 py-2",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(aa,{size:12,className:"text-slate-300"}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-xs font-semibold text-slate-600 font-mono tracking-tight",children:R.NumberPlate}),i.jsxs("span",{className:"text-[10px] text-slate-400 leading-none",children:["SIM: ",R.SimNumber||"N/A"," ",z&&`  Last Renewal: ${De(z)}`]})]})]})}),i.jsx("td",{className:"px-2 py-2 hidden md:table-cell text-xs text-slate-400",children:i.jsx("span",{className:"opacity-0",children:""})}),i.jsx("td",{className:"px-2 py-2",children:i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(hn,{size:10,className:U?"text-rose-400":"text-slate-300"}),i.jsx("span",{className:`text-[11px] font-medium ${U?"text-rose-500 font-black":"text-slate-400"}`,children:U?"Expired":`${H}d left`})]})}),i.jsx("td",{className:"px-2 py-2 text-center hidden sm:table-cell",children:i.jsx("span",{className:`text-[10px] font-medium px-1.5 py-0.5 rounded border ${U?"bg-rose-50 border-rose-100 text-rose-500":"bg-slate-50 border-slate-100 text-slate-400"}`,children:R.NetworkProvider||"Unknown"})}),i.jsx("td",{className:"px-2 py-2 text-right pr-4",children:i.jsx("button",{onClick:()=>j([R]),className:"p-1.5 text-slate-300 hover:text-indigo-600 transition-colors",children:i.jsx(Dl,{size:14})})})]},R.VehicleID)})]},C.ClientID)}):i.jsx("tr",{children:i.jsx("td",{colSpan:6,className:"py-24 text-center text-slate-300 text-sm font-medium",children:"Inventory Empty"})})})]})}),d.length>0&&i.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 z-40 animate-in slide-in-from-bottom-5",children:i.jsxs("div",{className:"bg-slate-900 text-white rounded-xl py-2 px-4 flex items-center gap-6 shadow-2xl border border-white/10 backdrop-blur-md",children:[i.jsxs("span",{className:"text-xs font-semibold text-indigo-400",children:[d.length," Items Selected"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>h([]),className:"px-3 py-1.5 text-slate-400 hover:text-white text-xs font-medium",children:"Clear"}),i.jsx("button",{onClick:()=>j(e.filter(C=>d.includes(C.VehicleID))),className:"bg-indigo-600 hover:bg-indigo-500 text-white px-4 py-1.5 rounded-lg text-xs font-semibold shadow-lg flex items-center gap-2",children:"Renew Batch"})]})]})}),v.length>0&&i.jsx(tM,{isOpen:!0,onClose:()=>{j([]),h([])},vehicles:v,agent:r,onSave:a})]})},rM=({logs:e,onAdd:t,onView:n})=>{const[r,a]=O.useState(""),[o,c]=O.useState("All"),u=e.filter(d=>!(!(d.ClientName.toLowerCase().includes(r.toLowerCase())||d.Description.toLowerCase().includes(r.toLowerCase())||d.ID.toLowerCase().includes(r.toLowerCase()))||o!=="All"&&d.Status!==o)).sort((d,h)=>new Date(h.Date).getTime()-new Date(d.Date).getTime()),f=d=>{switch(d){case Rn.Completed:return"bg-emerald-50 text-emerald-600 border-emerald-100";case Rn.InProgress:return"bg-indigo-50 text-indigo-600 border-indigo-100";default:return"bg-amber-50 text-amber-600 border-amber-100"}};return i.jsxs("div",{className:"flex flex-col h-full animate-in fade-in duration-700 overflow-hidden",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 pb-8 shrink-0",children:[i.jsx("div",{className:"flex items-center gap-1.5 p-1 bg-slate-100 border border-slate-200 rounded-2xl w-fit overflow-x-auto no-scrollbar max-w-full",children:["All",Rn.Scheduled,Rn.InProgress,Rn.Completed].map(d=>i.jsx("button",{onClick:()=>c(d),className:`px-5 py-2 text-[9px] font-black uppercase tracking-widest rounded-xl transition-all whitespace-nowrap ${o===d?"bg-slate-900 text-white shadow-md":"text-slate-400 hover:text-slate-600"}`,children:d},d))}),i.jsxs("div",{className:"flex w-full md:max-w-md items-center gap-2",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(zn,{size:14,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),i.jsx("input",{type:"text",placeholder:"SEARCH SERVICE LOGS...",value:r,onChange:d=>a(d.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-100 rounded-full text-[9px] font-black text-slate-600 placeholder:text-slate-300 outline-none focus:ring-4 focus:ring-slate-100/50 transition-all uppercase tracking-widest"})]}),i.jsx("button",{onClick:t,className:"p-2.5 bg-slate-900 text-white rounded-full hover:bg-slate-800 transition-all shadow-lg active:scale-90 flex-shrink-0",children:i.jsx(Rr,{size:16,strokeWidth:3})})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-10 pt-2",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.length>0?u.map(d=>i.jsxs("div",{onClick:()=>n(d),className:"group bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm hover:shadow-xl transition-all cursor-pointer relative overflow-hidden",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx("div",{className:"p-2.5 bg-slate-50 text-slate-400 rounded-xl group-hover:bg-indigo-50 group-hover:text-indigo-600 transition-colors",children:i.jsx(Ol,{size:18})}),i.jsx("span",{className:`px-2 py-0.5 rounded-full text-[8px] font-black uppercase border ${f(d.Status)}`,children:d.Status})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h3",{className:"text-sm font-black text-slate-900 uppercase truncate leading-tight",children:d.ClientName}),i.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest mt-1",children:["ID: ",d.ID]})]}),i.jsx("div",{className:"bg-slate-50 rounded-xl p-3 mb-4 min-h-[50px] border border-slate-50",children:i.jsx("p",{className:"text-[11px] text-slate-600 line-clamp-2 leading-relaxed",children:d.Description})}),i.jsxs("div",{className:"flex items-center justify-between border-t border-slate-50 pt-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(hn,{size:12,className:"text-slate-300"}),i.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:De(d.Date)})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(vr,{size:12,className:"text-indigo-300"}),i.jsxs("span",{className:"text-[9px] font-black text-indigo-400 uppercase tracking-widest",children:[d.AssetIDs.length," Units Affected"]})]})]})]},d.ID)):i.jsxs("div",{className:"col-span-full py-24 flex flex-col items-center opacity-10",children:[i.jsx(Ol,{size:50,className:"mb-4"}),i.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.8em]",children:"No Maintenance Logs"})]})})})]})},aM=({contract:e,onView:t})=>{const n=new Date,r=()=>{const d=new Date(e.ExpiryDate),h=Math.ceil((d.getTime()-n.getTime())/(1e3*60*60*24));return h>0&&h<=30},a=()=>new Date(e.ExpiryDate)<n,o=!!e.ProviderSign&&!!e.ClientSign,c=e.ClientName.split(" ")[0],u=r(),f=a();return i.jsxs("div",{onClick:()=>t(e),className:"group relative flex flex-col items-center cursor-pointer transition-transform duration-300 hover:-translate-y-1",children:[i.jsx("button",{className:"absolute -right-1 -top-1 p-2 text-slate-200 hover:text-slate-400 transition-colors z-10",children:i.jsx(ff,{size:14})}),i.jsxs("div",{className:"relative mb-3 md:mb-5",children:[i.jsx("div",{className:`w-20 h-20 md:w-32 md:h-32 rounded-full border flex items-center justify-center transition-all duration-500 group-hover:scale-105 group-hover:shadow-xl bg-white
          ${o?"border-indigo-100 text-indigo-300 ring-4 ring-indigo-50/50":e.ContractStatus===pn.Active?f?"border-rose-100 text-rose-300":"border-emerald-100 text-emerald-300":"border-slate-100 text-slate-300"}`,children:o?i.jsx(Ny,{className:"w-8 h-8 md:w-12 md:h-12",strokeWidth:1}):i.jsx(Sn,{className:"w-8 h-8 md:w-12 md:h-12",strokeWidth:1})}),i.jsx("div",{className:`absolute bottom-0.5 right-0.5 md:bottom-2 md:right-2 w-3.5 h-3.5 md:w-5 md:h-5 rounded-full border-2 md:border-4 border-white shadow-sm
          ${o?"bg-indigo-500":e.ContractStatus===pn.Active?f?"bg-rose-500 animate-pulse":"bg-emerald-500":"bg-slate-400"}`}),i.jsxs("div",{className:"absolute bottom-0 -left-1 px-1.5 py-0.5 bg-white/60 backdrop-blur-[2px] rounded-full border border-slate-100/30 flex items-center gap-1",children:[i.jsx(Et,{size:8,className:"text-slate-400"}),i.jsx("span",{className:"text-[6px] md:text-[7px] font-black text-slate-400 uppercase tracking-tight truncate max-w-[50px] md:max-w-[80px]",children:c})]}),i.jsxs("div",{className:`absolute -top-1 -right-1 px-2 py-1 text-white rounded-md border border-white/10 flex items-center animate-in zoom-in duration-500 shadow-lg ${o?"bg-indigo-600":"bg-slate-900"}`,children:[i.jsx(fa,{size:8,className:o?"text-indigo-200 mr-1":"text-emerald-400 mr-1"}),i.jsxs("span",{className:"text-[7px] md:text-[9px] font-black leading-none uppercase tracking-tighter",children:["K",Ee(e.TotalAmount)]})]}),u&&!f&&!o&&e.ContractStatus===pn.Active&&i.jsx("div",{className:"absolute top-1/2 -left-3 -translate-y-1/2 p-1.5 bg-amber-500 text-white rounded-full border-2 border-white shadow-xl animate-pulse",children:i.jsx(hn,{size:10})})]}),i.jsxs("div",{className:"text-center space-y-0.5 px-1 w-full",children:[i.jsx("h3",{className:`text-[10px] md:text-xs font-black uppercase tracking-tight transition-colors line-clamp-1 ${o?"text-indigo-600":"text-slate-900 group-hover:text-indigo-600"}`,children:e.PlanType}),i.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[i.jsx("p",{className:`text-[7px] md:text-[8px] font-bold uppercase tracking-[0.2em] leading-none ${o?"text-indigo-400":f?"text-rose-400":"text-slate-400 opacity-60"}`,children:o?"FULLY EXECUTED":f?"EXPIRED":`${e.NoOfUnits} UNITS  ${e.BillingCycle}`}),i.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[i.jsx(hn,{size:8,className:o?"text-indigo-300":f?"text-rose-400":"text-slate-300"}),i.jsxs("span",{className:`text-[6px] md:text-[7px] font-black uppercase tracking-tighter ${o?"text-indigo-400":f?"text-rose-400":"text-slate-300"}`,children:["Exp: ",De(e.ExpiryDate)]})]})]})]})]})},iM=({contracts:e,onAdd:t,onView:n})=>{const[r,a]=O.useState(""),[o,c]=O.useState("all"),u=new Date,f=q.useMemo(()=>({active:e.filter(h=>h.ContractStatus==="Active"&&new Date(h.ExpiryDate)>=u).length,expiring:e.filter(h=>{const m=Math.ceil((new Date(h.ExpiryDate).getTime()-u.getTime())/864e5);return h.ContractStatus==="Active"&&m>0&&m<=30}).length,executed:e.filter(h=>!!h.ProviderSign&&!!h.ClientSign).length}),[e,u]),d=e.filter(h=>{if(!(h.ClientName.toLowerCase().includes(r.toLowerCase())||h.PlanType.toLowerCase().includes(r.toLowerCase())||h.ContractID.toLowerCase().includes(r.toLowerCase())))return!1;if(o==="active")return h.ContractStatus===pn.Active&&new Date(h.ExpiryDate)>=u;if(o==="expiring"){const g=Math.ceil((new Date(h.ExpiryDate).getTime()-u.getTime())/864e5);return h.ContractStatus===pn.Active&&g>0&&g<=30}return o==="executed"?!!h.ProviderSign&&!!h.ClientSign:o==="expired"?h.ContractStatus===pn.Active&&new Date(h.ExpiryDate)<u:!0});return i.jsxs("div",{className:"flex flex-col h-full animate-in fade-in duration-700 overflow-hidden",children:[i.jsxs("div",{className:"w-full grid grid-cols-1 sm:grid-cols-3 gap-3 mb-8 shrink-0",children:[i.jsxs("div",{onClick:()=>c("active"),className:`cursor-pointer p-4 rounded-3xl border flex items-center justify-between transition-all ${o==="active"?"bg-emerald-50 border-emerald-600 shadow-lg scale-[1.02]":"bg-white border-slate-100 hover:border-emerald-100"}`,children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:`text-[8px] font-black uppercase tracking-widest mb-1 ${o==="active"?"text-white/70":"text-slate-400"}`,children:"Active Contracts"}),i.jsx("span",{className:`text-xl font-black leading-none ${o==="active"?"text-white":"text-slate-900"}`,children:f.active})]}),i.jsx(kn,{size:18,className:o==="active"?"text-white":"text-emerald-500"})]}),i.jsxs("div",{onClick:()=>c("executed"),className:`cursor-pointer p-4 rounded-3xl border flex items-center justify-between transition-all ${o==="executed"?"bg-indigo-600 border-indigo-700 shadow-lg scale-[1.02]":"bg-white border-slate-100 hover:border-indigo-100"}`,children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:`text-[8px] font-black uppercase tracking-widest mb-1 ${o==="executed"?"text-white/70":"text-slate-400"}`,children:"Fully Executed"}),i.jsx("span",{className:`text-xl font-black leading-none ${o==="executed"?"text-white":"text-slate-900"}`,children:f.executed})]}),i.jsx(Ny,{size:18,className:o==="executed"?"text-white":"text-indigo-500"})]}),i.jsxs("div",{onClick:()=>c("expiring"),className:`cursor-pointer p-4 rounded-3xl border flex items-center justify-between transition-all ${o==="expiring"?"bg-amber-500 border-amber-600 shadow-lg scale-[1.02]":"bg-white border-slate-100 hover:border-amber-100"}`,children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:`text-[8px] font-black uppercase tracking-widest mb-1 ${o==="expiring"?"text-white/70":"text-slate-400"}`,children:"Expiring Soon"}),i.jsx("span",{className:`text-xl font-black leading-none ${o==="expiring"?"text-white":"text-slate-900"}`,children:f.expiring})]}),i.jsx(hn,{size:18,className:o==="expiring"?"text-white":"text-amber-500"})]})]}),i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 pb-6 shrink-0 border-t border-slate-50 pt-6",children:[i.jsx("div",{className:"flex items-center gap-1.5 p-1 bg-slate-100 border border-slate-200 rounded-2xl w-fit overflow-x-auto no-scrollbar max-w-full",children:["all","executed","active","expiring","expired"].map(h=>i.jsx("button",{onClick:()=>c(h),className:`px-4 py-1.5 text-[8px] font-black uppercase tracking-widest rounded-xl transition-all whitespace-nowrap ${o===h?"bg-slate-900 text-white":"text-slate-400 hover:text-slate-600"}`,children:h==="executed"?"Signed Both":h},h))}),i.jsxs("div",{className:"flex w-full md:max-w-lg items-center gap-2",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(zn,{size:14,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),i.jsx("input",{type:"text",placeholder:"SEARCH CONTRACTS...",value:r,onChange:h=>a(h.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-100 rounded-full text-[9px] font-black text-slate-600 placeholder:text-slate-300 outline-none focus:ring-4 focus:ring-slate-100/50 transition-all uppercase tracking-widest"})]}),i.jsx("button",{onClick:t,className:"p-2.5 bg-slate-900 text-white rounded-full hover:bg-slate-800 transition-all shadow-lg active:scale-90 flex-shrink-0",children:i.jsx(Rr,{size:16,strokeWidth:3})})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-10 pt-2",children:i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-3 md:gap-x-8 gap-y-8 md:gap-y-12",children:d.length>0?d.map(h=>i.jsx(aM,{contract:h,onView:n},h.ContractID)):i.jsxs("div",{className:"col-span-full py-20 flex flex-col items-center opacity-10",children:[i.jsx(Sn,{size:40,className:"mb-2"}),i.jsx("p",{className:"text-[8px] font-black uppercase tracking-[0.5em]",children:"No matching contracts"})]})})})]})},sM=({inv:e,lastPayment:t,activeMenu:n,onView:r,onToggleMenu:a,onDelete:o})=>{const c=new Date,u=new Date(e.DueDate),f=e.BalanceDue>0&&u<c&&e.DocType===st.Invoice;t&&new Date().getTime()-new Date(t.Date).getTime()<2880*60*1e3;const d=!f&&u>c&&e.Status!==wt.Paid,h=u.getTime()-c.getTime(),m=Math.ceil(h/(1e3*60*60*24)),g=()=>e.Status===wt.Paid?"bg-emerald-500 text-white ring-4 ring-emerald-500/20":f?"bg-rose-600 text-white ring-4 ring-rose-500/20 animate-pulse":e.Status===wt.Partial?"bg-amber-500 text-white ring-4 ring-amber-500/20":"bg-indigo-400 text-white ring-4 ring-indigo-500/10";return i.jsxs("div",{onClick:()=>r(e),className:"group relative flex flex-col items-center cursor-pointer transition-transform duration-300 hover:-translate-y-1",children:[i.jsxs("div",{className:"absolute -right-1 -top-1 z-20",children:[i.jsx("button",{onClick:v=>{v.stopPropagation(),a(e.InvoiceID)},className:`p-2 rounded-full transition-all ${n===e.InvoiceID?"bg-slate-900 text-white":"text-slate-200 hover:text-slate-900"}`,children:i.jsx(ff,{size:18})}),n===e.InvoiceID&&i.jsx("div",{className:"absolute right-0 mt-1 w-32 bg-white rounded-xl shadow-2xl border border-slate-100 overflow-hidden animate-in fade-in zoom-in-95 duration-150",children:i.jsx("button",{onClick:v=>{v.stopPropagation(),o(e.InvoiceID)},className:"w-full flex items-center gap-2 px-4 py-3 text-rose-600 hover:bg-rose-50 text-[9px] font-black uppercase tracking-widest",children:"Delete"})})]}),f&&i.jsx("div",{className:"absolute -left-2 -top-2 z-30",children:i.jsxs("div",{className:"bg-rose-700 text-white px-2 py-1 rounded-lg text-[8px] font-black uppercase shadow-xl flex items-center gap-1 border border-white/20",children:[i.jsx(ua,{size:10})," ",Math.abs(m)," DAYS OVERDUE"]})}),i.jsxs("div",{className:"relative mb-4 md:mb-6",children:[i.jsx("div",{className:`w-24 h-24 md:w-36 md:h-36 rounded-full border border-slate-100 flex items-center justify-center transition-all duration-500 group-hover:scale-105 group-hover:shadow-xl bg-white text-slate-200 ring-8 ${f?"ring-rose-50":d?"ring-indigo-50/50":"ring-slate-50/50"}`,children:e.DocType===st.Quotation?i.jsx(pE,{size:24}):e.DocType===st.Proforma?i.jsx(hE,{size:24}):i.jsx(Sn,{size:24})}),i.jsx("div",{className:`absolute bottom-0.5 right-0.5 md:bottom-3 md:right-3 px-2.5 py-1 rounded-full text-[8px] font-bold uppercase tracking-widest shadow-lg border-2 border-white ${g()}`,children:f?"OVERDUE":e.Status}),i.jsx("div",{className:`absolute -top-1 -right-2 px-3 py-1.5 text-white rounded-xl border border-white/10 flex items-center shadow-2xl transition-colors ${f?"bg-rose-700":e.Status==="Paid"?"bg-emerald-600":d?"bg-indigo-600":"bg-slate-900"}`,children:i.jsxs("span",{className:"text-[8px] md:text-[10px] font-black leading-none uppercase tracking-tighter",children:["K",Ee(f?e.BalanceDue:e.TotalAmount)]})}),i.jsxs("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 bg-slate-800 text-white px-2 py-0.5 rounded border border-slate-700 flex items-center gap-1 shadow-sm",children:[i.jsx(uE,{size:10,className:"text-indigo-400"}),i.jsxs("span",{className:"text-[8px] font-black uppercase whitespace-nowrap",children:[e.PeriodMonths||1," Mo Subscription"]})]})]}),i.jsxs("div",{className:"text-center space-y-1 px-1 w-full",children:[i.jsx("h3",{className:`text-[11px] md:text-xs font-black uppercase tracking-widest transition-colors line-clamp-1 ${f?"text-rose-700":"text-slate-900 group-hover:text-indigo-600"}`,children:e.InvoiceID}),i.jsxs("div",{className:"flex flex-col items-center gap-1",children:[i.jsx("p",{className:"text-[8px] md:text-[9px] font-bold uppercase tracking-[0.2em] leading-none text-slate-400 opacity-80",children:e.ClientName}),i.jsxs("div",{className:`flex items-center gap-2 mt-1.5 py-1 px-2 rounded-lg ${f?"bg-rose-50 text-rose-600":d?"bg-indigo-50 text-indigo-500":"bg-slate-50 text-slate-400"}`,children:[i.jsx(hn,{size:10,className:f?"text-rose-400":d?"text-indigo-300":"text-slate-300"}),i.jsxs("span",{className:"text-[7px] md:text-[8px] font-black uppercase tracking-widest",children:[f?"EXPIRED":d?`DUE IN ${m}D`:"DUE",": ",De(e.DueDate)]})]})]})]})]})},oM=({invoices:e,payments:t=[],onAdd:n,onView:r,onDelete:a})=>{const[o,c]=O.useState(""),[u,f]=O.useState("All"),[d,h]=O.useState(null),m=new Date,g=O.useMemo(()=>{const w={};return t.forEach(b=>{!b.InvoiceID||b.InvoiceID==="0"||(!w[b.InvoiceID]||new Date(b.Date)>new Date(w[b.InvoiceID].Date))&&(w[b.InvoiceID]=b)}),w},[t]),v=O.useMemo(()=>{const w=e.filter(b=>{const y=new Date(b.DueDate);return b.BalanceDue>0&&y<m&&b.DocType===st.Invoice});return{count:w.length,total:w.reduce((b,y)=>b+Number(y.BalanceDue),0)}},[e,m]),j=e.filter(w=>{if(!(w.ClientName.toLowerCase().includes(o.toLowerCase())||w.InvoiceID.toLowerCase().includes(o.toLowerCase())))return!1;if(u==="Overdue"){const y=new Date(w.DueDate);return w.BalanceDue>0&&y<m&&w.DocType===st.Invoice}return!(u!=="All"&&w.DocType!==u)});return i.jsxs("div",{className:"flex flex-col h-full animate-in fade-in duration-700 overflow-hidden",onClick:()=>h(null),children:[i.jsxs("div",{className:"w-full bg-rose-50 border border-rose-100 rounded-3xl p-6 mb-8 flex flex-col md:flex-row justify-between items-center gap-4 shadow-sm shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"p-3 bg-rose-500 text-white rounded-2xl shadow-lg",children:i.jsx(ua,{size:24})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-[10px] font-black text-rose-900 uppercase tracking-widest",children:"Revenue at Risk"}),i.jsxs("p",{className:"text-2xl font-black text-rose-900 tracking-tighter",children:["K",Ee(v.total)]})]})]}),i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("h4",{className:"text-[9px] font-black text-rose-400 uppercase tracking-widest",children:"Overdue Accounts"}),i.jsxs("p",{className:"text-lg font-black text-rose-900 leading-none",children:[v.count," Items"]})]}),i.jsxs("button",{onClick:()=>f("Overdue"),className:"flex items-center gap-2 bg-rose-900 text-white px-5 py-2.5 rounded-2xl text-[9px] font-black uppercase tracking-widest hover:bg-rose-800 transition-all active:scale-95",children:["Review Delinquency ",i.jsx(F4,{size:14})]})]})]}),i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 pb-8 shrink-0",children:[i.jsx("div",{className:"flex items-center gap-1.5 p-1 bg-slate-100 border border-slate-200 rounded-2xl w-fit overflow-x-auto no-scrollbar max-w-full",children:["All","Overdue",st.Invoice,st.Proforma,st.Quotation].map(w=>i.jsxs("button",{onClick:()=>f(w),className:`px-5 py-2 text-[9px] font-black uppercase tracking-widest rounded-xl transition-all whitespace-nowrap ${u===w?w==="Overdue"?"bg-rose-50 text-white":"bg-white text-slate-900 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:[w,w!=="All"&&w!=="Overdue"?"s":""]},w))}),i.jsxs("div",{className:"flex w-full md:max-w-lg items-center gap-2",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(zn,{size:14,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),i.jsx("input",{type:"text",placeholder:"SEARCH REGISTRY...",value:o,onChange:w=>c(w.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-100 rounded-full text-[9px] font-black text-slate-600 placeholder:text-slate-300 outline-none focus:ring-4 focus:ring-slate-100/50 transition-all uppercase tracking-widest"})]}),i.jsx("button",{onClick:()=>n(st.Invoice),className:"p-2.5 bg-slate-900 text-white rounded-full hover:bg-slate-800 transition-all shadow-lg active:scale-90 flex-shrink-0",children:i.jsx(Rr,{size:16,strokeWidth:3})})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-10 pt-2",children:i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-3 md:gap-x-8 gap-y-10 md:gap-y-16",children:j.length>0?j.map(w=>i.jsx(sM,{inv:w,lastPayment:g[w.InvoiceID],activeMenu:d,onView:r,onToggleMenu:h,onDelete:b=>{confirm(`Delete document ${b}?`)&&a(b)}},w.InvoiceID)):i.jsxs("div",{className:"col-span-full py-24 flex flex-col items-center opacity-10",children:[i.jsx(Sn,{size:50,className:"mb-4"}),i.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.8em]",children:"No records found"})]})})})]})},lM=({pay:e,activeMenu:t,onView:n,onToggleMenu:r,onDelete:a})=>{const o=()=>{switch(e.Status){case As.Completed:return"bg-emerald-50 text-emerald-700 border-emerald-100";case As.Pending:return"bg-amber-50 text-amber-700 border-amber-100";case As.Failed:return"bg-rose-50 text-rose-700 border-rose-100";default:return"bg-slate-400 text-white ring-4 ring-slate-400/20"}},c=()=>{switch(e.Method){case"Bank Transfer":return i.jsx(xE,{size:24});case"Mobile Money":return i.jsx(EE,{size:24});case"Card":return i.jsx(fa,{size:24});default:return i.jsx(Mi,{size:24})}};return i.jsxs("div",{onClick:()=>n(e),className:"group relative flex flex-col items-center cursor-pointer transition-transform duration-300 hover:-translate-y-1",children:[i.jsxs("div",{className:"absolute -right-1 -top-1 z-20",children:[i.jsx("button",{onClick:u=>{u.stopPropagation(),r(e.PaymentID)},className:`p-2 rounded-full transition-all ${t===e.PaymentID?"bg-slate-900 text-white":"text-slate-200 hover:text-slate-900"}`,children:i.jsx(ff,{size:18})}),t===e.PaymentID&&i.jsx("div",{className:"absolute right-0 mt-1 w-32 bg-white rounded-xl shadow-2xl border border-slate-100 overflow-hidden animate-in fade-in zoom-in-95 duration-150",children:i.jsx("button",{onClick:u=>{u.stopPropagation(),a(e.PaymentID)},className:"w-full flex items-center gap-2 px-4 py-3 text-rose-600 hover:bg-rose-50 text-[9px] font-black uppercase tracking-widest transition-colors",children:"Delete"})})]}),i.jsxs("div",{className:"relative mb-4 md:mb-6",children:[i.jsx("div",{className:"w-24 h-24 md:w-36 md:h-36 rounded-full border border-slate-100 flex items-center justify-center transition-all duration-500 group-hover:scale-105 group-hover:shadow-xl bg-white text-slate-200 ring-8 ring-slate-50/50",children:c()}),i.jsxs("div",{className:`absolute bottom-0.5 right-0.5 md:bottom-3 md:right-3 px-2.5 py-1 rounded-full text-[8px] font-bold uppercase tracking-widest shadow-lg border-2 border-white ${o()}`,children:[e.Status===As.Completed?i.jsx(Qa,{size:10,className:"inline mr-1"}):null,e.Status]}),i.jsx("div",{className:"absolute -top-1 -right-2 px-3 py-1.5 bg-slate-900 text-white rounded-xl border border-white/10 flex items-center shadow-2xl",children:i.jsxs("span",{className:"text-[8px] md:text-[10px] font-bold leading-none uppercase tracking-tighter",children:["K",Ee(e.Amount)]})}),i.jsxs("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 bg-indigo-50 text-indigo-600 px-2 py-0.5 rounded border border-indigo-100 flex items-center gap-1 shadow-sm",children:[i.jsx(uE,{size:10}),i.jsxs("span",{className:"text-[8px] font-black uppercase tracking-tighter whitespace-nowrap",children:[e.MonthsCovered||1," Mo Paid"]})]})]}),i.jsxs("div",{className:"text-center space-y-1 px-1 w-full",children:[i.jsx("h3",{className:"text-[11px] md:text-xs font-black text-slate-900 uppercase tracking-widest group-hover:text-indigo-600 transition-colors line-clamp-1",children:e.Remarks||e.Reference}),i.jsxs("div",{className:"flex flex-col items-center gap-1",children:[i.jsx("p",{className:"text-[8px] md:text-[9px] font-bold uppercase tracking-[0.2em] leading-none text-slate-400 opacity-80",children:e.ClientName}),i.jsxs("div",{className:"flex items-center gap-2 mt-1.5 py-1 px-2 bg-slate-50 rounded-lg",children:[i.jsx(hn,{size:10,className:"text-slate-300"}),i.jsx("span",{className:"text-[7px] md:text-[8px] font-bold uppercase tracking-widest text-slate-400",children:De(e.Date)})]})]})]})]})},cM=({payments:e,onAdd:t,onView:n,onDelete:r})=>{const[a,o]=O.useState(""),[c,u]=O.useState("All"),[f,d]=O.useState(null),h=e.filter(m=>!(!(m.ClientName.toLowerCase().includes(a.toLowerCase())||m.Reference.toLowerCase().includes(a.toLowerCase())||m.PaymentID.toLowerCase().includes(a.toLowerCase()))||c!=="All"&&m.Method!==c)).sort((m,g)=>new Date(g.Date).getTime()-new Date(m.Date).getTime());return i.jsxs("div",{className:"flex flex-col h-full animate-in fade-in duration-700 overflow-hidden",onClick:()=>d(null),children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 pb-8 shrink-0",children:[i.jsx("div",{className:"flex items-center gap-1.5 p-1 bg-slate-100 border border-slate-200 rounded-2xl w-fit overflow-x-auto no-scrollbar max-w-full",children:["All","Bank Transfer","Mobile Money","Cash","Card"].map(m=>i.jsx("button",{onClick:()=>u(m),className:`px-4 py-1.5 text-[9px] font-bold uppercase tracking-widest rounded-xl transition-all whitespace-nowrap ${c===m?"bg-white text-slate-900 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:m},m))}),i.jsxs("div",{className:"flex w-full md:max-w-lg items-center gap-2",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(zn,{size:14,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),i.jsx("input",{type:"text",placeholder:"SEARCH PAYMENTS & REF...",value:a,onChange:m=>o(m.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-100 rounded-full text-[9px] font-bold text-slate-600 placeholder:text-slate-300 outline-none focus:ring-4 focus:ring-slate-100/50 transition-all uppercase tracking-widest"})]}),i.jsx("button",{onClick:t,className:"p-2.5 bg-slate-900 text-white rounded-full hover:bg-slate-800 transition-all shadow-lg active:scale-90 flex-shrink-0",children:i.jsx(Rr,{size:16,strokeWidth:3})})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-10 pt-2",children:i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-3 md:gap-x-8 gap-y-10 md:gap-y-16",children:h.length>0?h.map(m=>i.jsx(lM,{pay:m,activeMenu:f,onView:()=>n(m),onToggleMenu:d,onDelete:g=>{confirm(`Delete transaction ${g}?`)&&r(g)}},m.PaymentID)):i.jsxs("div",{className:"col-span-full py-24 flex flex-col items-center opacity-10",children:[i.jsx(fa,{size:50,className:"mb-4"}),i.jsx("p",{className:"text-[10px] font-bold uppercase tracking-[0.8em]",children:"No payments recorded"})]})})})]})},uM=({agents:e,clients:t,contracts:n,payments:r,vehicles:a,systemSettings:o,currentUser:c})=>{const[u,f]=O.useState(""),[d,h]=O.useState(null);c==null||c.role;const m=(c==null?void 0:c.role)==="Agent",g=new Date,v=g.getMonth(),j=g.getFullYear();O.useEffect(()=>{m&&(c!=null&&c.id)&&!d&&h(c.id)},[m,c,d]);const w=O.useMemo(()=>e.map(y=>{const S=t.filter(I=>String(I.AssignedAgentID).trim().toLowerCase()===String(y.AgentID).trim().toLowerCase()),P=Number(y.CommissionRate||10),k=r.filter(I=>{const $=new Date(I.Date);return String(I.AgentID).trim().toLowerCase()===String(y.AgentID).trim().toLowerCase()&&$.getMonth()===v&&$.getFullYear()===j}),C=k.reduce((I,$)=>I+Number($.Amount),0),D=C*(P/100)+Number(y.BaseSalary||0)+Number(y.PerformanceBonus||0);return{...y,portfolioRevenue:C,totalClientsCount:S.length,effectiveRate:P,currentMonthLogs:k.sort((I,$)=>new Date($.Date).getTime()-new Date(I.Date).getTime()),payout:D}}).filter(y=>y.AgentName.toLowerCase().includes(u.toLowerCase())),[e,t,r,v,j]),b=w.find(y=>String(y.AgentID).trim().toLowerCase()===String(d||"").trim().toLowerCase());return i.jsxs("div",{className:"flex flex-col h-full overflow-hidden animate-in fade-in duration-500 max-w-full",children:[!m&&i.jsxs("div",{className:"w-full bg-slate-900 rounded-2xl p-4 mb-4 shadow-lg border border-slate-800 shrink-0 flex flex-col sm:flex-row justify-between items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-indigo-500 rounded-lg flex items-center justify-center text-white",children:i.jsx(Mi,{size:16})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-[7px] font-black text-indigo-400 uppercase tracking-widest leading-none mb-1",children:"Payroll Settlement Engine"}),i.jsxs("p",{className:"text-lg font-black text-white tracking-tighter leading-none",children:["K",Ee(w.reduce((y,S)=>y+S.payout,0))]})]})]}),i.jsxs("div",{className:"relative w-full sm:w-48",children:[i.jsx(zn,{size:12,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500"}),i.jsx("input",{type:"text",placeholder:"SEARCH STAFF...",value:u,onChange:y=>f(y.target.value),className:"w-full pl-9 pr-3 py-1.5 bg-white/5 border border-white/10 rounded-lg text-[8px] font-black text-white uppercase outline-none focus:bg-white/10 transition-all"})]})]}),!b&&i.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-6 px-1",children:i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3",children:w.map(y=>i.jsxs("div",{onClick:()=>h(y.AgentID),className:"bg-white p-4 rounded-2xl border border-slate-100 shadow-sm hover:border-indigo-200 cursor-pointer transition-all",children:[i.jsx("div",{className:"w-10 h-10 bg-slate-50 rounded-full flex items-center justify-center text-slate-300 mb-3 mx-auto",children:i.jsx(Et,{size:20})}),i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"text-[10px] font-black text-slate-800 uppercase truncate",children:y.AgentName}),i.jsxs("p",{className:"text-xs font-black text-emerald-600 mt-1",children:["K",Ee(y.payout)]}),i.jsxs("p",{className:"text-[8px] font-bold text-slate-400 uppercase mt-1",children:[y.effectiveRate,"% Rate"]})]})]},y.AgentID))})}),b&&i.jsxs("div",{className:"flex-1 bg-white rounded-[1.5rem] border border-slate-100 shadow-xl flex flex-col overflow-hidden animate-in zoom-in duration-300",children:[i.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-50 bg-slate-50/30 shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-xl bg-slate-200 text-slate-500",children:i.jsx(Et,{size:16})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("h2",{className:"text-sm font-black text-slate-800 uppercase tracking-tight truncate leading-none mb-1",children:b.AgentName}),i.jsxs("p",{className:"text-[8px] font-bold text-slate-400 uppercase tracking-widest leading-none",children:["Fixed Rate: ",b.effectiveRate,"%"]})]})]}),!m&&i.jsx("button",{onClick:()=>h(null),className:"p-1.5 text-slate-300 hover:text-slate-900 transition-colors",children:i.jsx(Ct,{size:18})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-5 space-y-6 no-scrollbar",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-indigo-600 p-6 rounded-3xl text-white shadow-xl relative overflow-hidden",children:[i.jsx("div",{className:"absolute right-0 top-0 p-8 opacity-10 rotate-12",children:i.jsx(so,{size:100})}),i.jsx("p",{className:"text-[10px] font-black text-indigo-200 uppercase tracking-widest mb-2",children:"Month Net Earnings"}),i.jsxs("h3",{className:"text-3xl font-black tracking-tighter",children:["K",Ee(b.payout)]}),i.jsxs("div",{className:"mt-4 flex gap-2",children:[i.jsxs("span",{className:"text-[8px] font-black bg-white/20 px-2 py-0.5 rounded uppercase",children:["Base: K",Ee(b.BaseSalary||0)]}),i.jsxs("span",{className:"text-[8px] font-black bg-white/20 px-2 py-0.5 rounded uppercase",children:["Comm: ",b.effectiveRate,"%"]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm flex flex-col justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Managed Volume"}),i.jsxs("h3",{className:"text-2xl font-black text-slate-900 tracking-tighter",children:["K",Ee(b.portfolioRevenue)]})]}),i.jsxs("div",{className:"pt-2 border-t border-slate-50 flex justify-between items-center",children:[i.jsxs("span",{className:"text-[9px] font-bold text-slate-400 uppercase",children:[b.totalClientsCount," Active Clients"]}),i.jsx(CE,{size:14,className:"text-indigo-400"})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2 px-1",children:[i.jsx(xr,{size:14})," Revenue Log (Current Cycle)"]}),i.jsx("div",{className:"space-y-2",children:b.currentMonthLogs.length>0?b.currentMonthLogs.map(y=>i.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl border border-slate-100 flex items-center justify-between",children:[i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"text-[10px] font-black text-slate-800 uppercase truncate mb-1",children:y.ClientName}),i.jsxs("p",{className:"text-[8px] font-bold text-slate-400 uppercase",children:[De(y.Date),"  Ref: ",y.Reference]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-xs font-black text-slate-900 leading-none",children:["K",Ee(y.Amount)]}),i.jsxs("p",{className:"text-[8px] font-bold text-emerald-600 uppercase mt-1",children:["+",y.MonthsCovered||1," Mo"]})]})]},y.PaymentID)):i.jsx("div",{className:"py-12 text-center opacity-10 text-[10px] font-black uppercase tracking-widest",children:"No matching payments found"})})]})]})]})]})},dM=({currentPartner:e,isPendingReview:t,principal:n,share:r,termMonths:a,monthlyCapital:o,setShowNegotiationModal:c,setShowSigningModal:u})=>{var f;return e.PartnerPayoutModel,ea.PrincipalPlusInterest,i.jsx("div",{className:"flex flex-col h-full bg-slate-50 p-6 md:p-12 overflow-y-auto no-scrollbar animate-in fade-in duration-700",children:i.jsxs("div",{className:"max-w-4xl mx-auto w-full space-y-8",children:[i.jsxs("div",{className:"text-center space-y-3",children:[i.jsx("div",{className:"w-16 h-16 bg-white rounded-3xl shadow-xl flex items-center justify-center text-amber-500 mx-auto border border-amber-100",children:i.jsx(df,{size:32})}),i.jsx("h1",{className:"text-3xl font-black text-slate-900 uppercase tracking-tighter",children:"Agreement Review"}),i.jsx("p",{className:"text-slate-500 font-medium max-w-md mx-auto",children:"Please review and authorize the professional partnership terms drafted by the Admin."})]}),i.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-200 shadow-2xl overflow-hidden relative",children:[i.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5",children:i.jsx(Sy,{size:120})}),i.jsxs("div",{className:"p-8 border-b border-slate-100 flex items-center justify-between bg-slate-50/50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-2 h-2 rounded-full animate-pulse ${t?"bg-indigo-500":"bg-slate-300"}`}),i.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:["Status: ",t?"Ready for Signature":((f=e.InvestmentStatus)==null?void 0:f.replace(/([A-Z])/g," $1").trim())||"Terms Pending"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase",children:"Registry Reference"}),i.jsxs("p",{className:"text-xs font-black text-slate-900 uppercase",children:["PARTNER-",e.AgentID]})]})]}),i.jsxs("div",{className:"p-10 grid grid-cols-1 md:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Active Principal"}),i.jsxs("p",{className:"text-3xl font-black text-slate-900 tracking-tighter",children:["K",Ee(n)]}),i.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase",children:"Capital Commitment"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Equity Allocation"}),i.jsxs("p",{className:"text-3xl font-black text-indigo-600 tracking-tighter",children:[r,"%"]}),i.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase",children:"On Global Sales Volume"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Agreement Term"}),i.jsxs("p",{className:"text-3xl font-black text-slate-900 tracking-tighter",children:[a," Mo"]}),i.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase",children:"Maturity Horizon"})]})]}),i.jsxs("div",{className:"mx-10 mb-8 p-6 bg-slate-900 text-white rounded-3xl grid grid-cols-1 md:grid-cols-2 gap-8 relative overflow-hidden",children:[i.jsx("div",{className:"absolute right-0 top-0 p-8 opacity-5",children:i.jsx(Ty,{size:100})}),i.jsxs("div",{className:"space-y-4 relative z-10",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-indigo-500 rounded-xl text-white shadow-lg",children:i.jsx(xr,{size:20})}),i.jsx("h4",{className:"text-[11px] font-black uppercase tracking-widest",children:"Yield Mechanism"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm font-bold text-white uppercase",children:e.PartnerPayoutModel===ea.InterestOnly?"Capital Preservation":"Amortized Recovery"}),i.jsx("p",{className:"text-[10px] text-slate-400 leading-relaxed",children:e.PartnerPayoutModel===ea.InterestOnly?"Principal remains locked for the duration. Monthly payouts consist of profit share only.":"Monthly payouts include a portion of your principal + profit share for gradual capital exit."})]})]}),i.jsxs("div",{className:"space-y-4 relative z-10",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-emerald-500 rounded-xl text-white shadow-lg",children:i.jsx(CE,{size:20})}),i.jsx("h4",{className:"text-[11px] font-black uppercase tracking-widest",children:"Risk Mitigation"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm font-bold text-white uppercase",children:e.SmartYieldActive?"SmartYield Enabled":"Standard Yield"}),i.jsx("p",{className:"text-[10px] text-slate-400 leading-relaxed",children:e.SmartYieldActive?`Stabilized returns capped at ${e.MaxMonthlyROI}% ROI per month to ensure long-term solvency.`:"Variable returns based strictly on monthly unified sales performance."})]})]})]}),i.jsxs("div",{className:"mx-10 mb-8 p-6 bg-slate-50 border border-slate-100 rounded-3xl grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"p-3 bg-white rounded-2xl shadow-sm text-indigo-600",children:i.jsx(uf,{size:24})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Monthly Principal Exit"}),i.jsxs("p",{className:"text-xl font-black text-slate-900 leading-none mt-1",children:["K",Ee(o)]})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"p-3 bg-white rounded-2xl shadow-sm text-emerald-600",children:i.jsx(so,{size:24})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Guaranteed Draw"}),i.jsxs("p",{className:"text-xl font-black text-slate-900 leading-none mt-1",children:["K",Ee(e.BaseSalary)]})]})]})]}),e.ProposalNotes&&i.jsxs("div",{className:"mx-10 mb-10 p-6 bg-indigo-50 border border-indigo-100 text-indigo-900 rounded-3xl relative overflow-hidden",children:[i.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10",children:i.jsx(yr,{size:40})}),i.jsx("h4",{className:"text-[10px] font-black uppercase text-indigo-400 mb-2",children:"Internal Proposal Addendum"}),i.jsxs("p",{className:"text-sm font-medium italic leading-relaxed text-indigo-800",children:['"',e.ProposalNotes,'"']})]}),i.jsxs("div",{className:"p-10 bg-slate-100 border-t border-slate-200 flex flex-col md:flex-row gap-4",children:[i.jsxs("button",{onClick:()=>c(!0),className:"flex-1 px-8 py-4 bg-white border-2 border-slate-200 text-slate-600 rounded-2xl text-[10px] font-black uppercase tracking-widest hover:border-amber-400 transition-all flex items-center justify-center gap-2",children:[i.jsx(yr,{size:16})," Negotiate Terms"]}),i.jsxs("button",{onClick:()=>u(!0),disabled:!t,className:`flex-1 px-8 py-4 rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-xl flex items-center justify-center gap-2 transition-all ${t?"bg-slate-900 text-white hover:bg-emerald-600":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:[i.jsx(ud,{size:16})," ",t?"Authorize & Sign Agreement":"Draft Status: Awaiting Publication"]})]})]})]})})},fM=({principal:e,share:t,payoutModel:n,setShowDepositModal:r})=>i.jsxs("div",{className:"bg-slate-900 rounded-[2.5rem] p-8 mb-8 text-white relative overflow-hidden shadow-2xl border border-slate-800",children:[i.jsx("div",{className:"absolute right-0 top-0 p-12 opacity-10 rotate-12",children:i.jsx(Dy,{size:180})}),i.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-center gap-8",children:[i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsx("div",{className:"w-16 h-16 bg-amber-500 rounded-2xl flex items-center justify-center shadow-lg",children:i.jsx(Sy,{size:32})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-[10px] font-black text-amber-400 uppercase tracking-[0.3em] mb-1",children:"Active Share Principal"}),i.jsxs("p",{className:"text-4xl font-black tracking-tighter",children:["K",Ee(e)]}),i.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[i.jsxs("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest flex items-center gap-1",children:[i.jsx(xr,{size:12,className:"text-emerald-500"})," Share: ",t,"% Revenue Node"]}),i.jsxs("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest flex items-center gap-1",children:[i.jsx(so,{size:12,className:"text-indigo-400"})," Model: ",n===ea.InterestOnly?"Capital Preservation":"Amortized Recovery"]})]})]})]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("button",{onClick:()=>r(!0),className:"px-8 py-3 bg-white text-slate-900 rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-amber-400 transition-all active:scale-95 flex items-center gap-2 shadow-xl",children:[i.jsx(Rr,{size:16})," Increase Principal"]}),i.jsxs("div",{className:"px-8 py-3 bg-emerald-500 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest flex items-center gap-2 shadow-xl border border-emerald-400",children:[i.jsx(kn,{size:16})," Authenticated Partner"]})]})]})]}),pM=({monthsRemaining:e,progressPercent:t,endDate:n,baseSalary:r,equityShare:a})=>i.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 animate-in slide-in-from-bottom-4 duration-500",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm flex flex-col justify-between h-[160px]",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Maturity Progress"}),i.jsxs("div",{className:"flex items-end justify-between mb-3",children:[i.jsxs("h3",{className:"text-2xl font-black text-slate-900",children:[e," Months Remaining"]}),i.jsxs("span",{className:"text-xs font-bold text-amber-600",children:[t.toFixed(0),"%"]})]}),i.jsx("div",{className:"h-3 w-full bg-slate-100 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-amber-500 transition-all duration-1000",style:{width:`${t}%`}})})]}),i.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase mt-4",children:["Termination Node: ",De(n)]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm flex flex-col justify-between h-[160px]",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Operational Draw"}),i.jsxs("h3",{className:"text-2xl font-black text-slate-900 tracking-tighter",children:["K",Ee(r)]})]}),i.jsx("div",{className:"pt-2 border-t border-slate-50",children:i.jsxs("span",{className:"text-[9px] font-bold text-emerald-600 uppercase tracking-widest flex items-center gap-1",children:[i.jsx(_s,{size:10})," Guaranteed Disbursement"]})})]}),i.jsxs("div",{className:"bg-amber-900 p-6 rounded-3xl shadow-xl flex flex-col justify-between relative overflow-hidden h-[160px]",children:[i.jsx("div",{className:"absolute -right-4 -bottom-4 opacity-10",children:i.jsx(so,{size:120})}),i.jsx("p",{className:"text-[10px] font-black text-amber-200/60 uppercase tracking-widest mb-4",children:"Equity Participation"}),i.jsxs("h3",{className:"text-2xl font-black text-white leading-tight",children:[a,"% Variable Performance Allocation"]})]})]}),i.jsxs("div",{className:"bg-white rounded-[2rem] p-8 border border-slate-100 shadow-sm",children:[i.jsx("div",{className:"flex justify-between items-center mb-8",children:i.jsxs("h3",{className:"text-xs font-black text-slate-900 uppercase tracking-widest flex items-center gap-2",children:[i.jsx(xr,{size:16,className:"text-amber-500"})," Monthly Growth Trend"]})}),i.jsx("div",{className:"h-64 flex items-end justify-between gap-4 px-4",children:[40,45,42,55,60,58,65,75,80,78,85,95].map((o,c)=>i.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2 group",children:[i.jsxs("div",{className:"w-full relative",children:[i.jsx("div",{className:"bg-indigo-500 rounded-t-lg transition-all duration-700 w-full group-hover:bg-indigo-400",style:{height:`${o*.8}px`}}),i.jsx("div",{className:"bg-amber-500 rounded-t-lg transition-all duration-700 w-full absolute bottom-0 opacity-50",style:{height:`${o*.4}px`}})]}),i.jsx("span",{className:"text-[7px] font-black text-slate-300 uppercase",children:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][c]})]},c))})]})]}),hM=({salesForce:e})=>i.jsxs("div",{className:"max-w-6xl mx-auto animate-in slide-in-from-right-4 duration-500",children:[i.jsx("div",{className:"flex items-center justify-between mb-8",children:i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-black text-slate-900 uppercase tracking-tight",children:"Active Sales Team"}),i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Personnel contributing to the global revenue pool"})]})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(t=>i.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm hover:shadow-lg transition-all group",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("div",{className:"w-14 h-14 bg-slate-50 rounded-2xl flex items-center justify-center text-slate-300 group-hover:bg-amber-50 transition-colors",children:i.jsx(Et,{size:28})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-xs font-black text-slate-900 uppercase tracking-tight",children:t.AgentName}),i.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase mt-0.5",children:t.Department})]})]}),i.jsx("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-slate-50",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-[8px] font-black text-slate-300 uppercase mb-1",children:"Status"}),i.jsx("span",{className:`px-2 py-0.5 rounded-full text-[7px] font-black uppercase ${t.Status==="Active"?"bg-emerald-50 text-emerald-600":"bg-slate-100 text-slate-400"}`,children:t.Status})]})})]},t.AgentID))})]}),mM=({currentPartner:e})=>i.jsx("div",{className:"max-w-4xl mx-auto animate-in fade-in zoom-in duration-500",children:i.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-200 shadow-2xl overflow-hidden p-12",children:[i.jsxs("div",{className:"flex justify-between items-start mb-12 border-b border-slate-100 pb-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-black text-slate-900 uppercase tracking-tighter mb-2",children:"Master Shareholder Agreement"}),i.jsxs("p",{className:"text-[10px] font-bold text-amber-600 uppercase tracking-[0.3em]",children:["Binding Partnership Terms  Ref: PARTNER-",e.AgentID]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase",children:"Effective Since"}),i.jsx("p",{className:"text-sm font-black text-slate-900",children:De(e.InvestmentSignedDate)})]})]}),i.jsxs("div",{className:"space-y-8 text-slate-600 text-sm leading-relaxed max-h-[600px] overflow-y-auto pr-6 custom-scrollbar",children:[i.jsxs("section",{children:[i.jsxs("h4",{className:"font-black text-slate-900 uppercase text-xs mb-3 flex items-center gap-2",children:[i.jsx("div",{className:"w-1 h-4 bg-amber-500 rounded-full"})," 1. FINANCIAL POSITION"]}),i.jsxs("p",{children:["The Partner maintains an active investment principal of ",i.jsxs("strong",{children:["K",Ee(e.InvestmentPrincipal)]}),". The company acknowledges receipt of this capital, which grants the Partner a preferential right to ",i.jsxs("strong",{children:[e.EquityShare,"%"]})," of the gross monthly sales revenue generated by the unified sales force."]})]}),i.jsxs("section",{children:[i.jsxs("h4",{className:"font-black text-slate-900 uppercase text-xs mb-3 flex items-center gap-2",children:[i.jsx("div",{className:"w-1 h-4 bg-amber-500 rounded-full"})," 2. DISBURSEMENT PROTOCOL"]}),i.jsx("p",{children:"Profits are calculated based on realized monthly collections. Payouts are dispatched on the company's standard disbursement cycle. In the event of an Amortized Recovery model, the Principal portion of the payout is treated as a return of capital, and the variable portion as investment yield."})]}),i.jsxs("section",{children:[i.jsxs("h4",{className:"font-black text-slate-900 uppercase text-xs mb-3 flex items-center gap-2",children:[i.jsx("div",{className:"w-1 h-4 bg-amber-500 rounded-full"})," 3. GOVERNANCE"]}),i.jsxs("p",{children:["This agreement remains in effect for ",i.jsxs("strong",{children:[e.InvestmentTermMonths," months"]}),". Early termination or withdrawal of principal requires a standard 90-day written notice to ensure fleet operational continuity is not disrupted by capital fluctuations."]})]})]}),i.jsxs("div",{className:"mt-12 pt-8 border-t border-slate-100 grid grid-cols-2 gap-12",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"For Sally Chanza Business Caf"}),i.jsx("div",{className:"h-16 border-b border-slate-200 flex items-end pb-2 italic text-slate-400 font-serif text-lg",children:"Sally Chanza"}),i.jsx("p",{className:"text-[11px] font-bold text-slate-700 uppercase",children:"Director & Administrator"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Shareholder Authorization"}),i.jsx("div",{className:"h-16 border-b border-slate-200 flex items-end pb-2",children:i.jsx("img",{src:e.InvestmentSignature,alt:"Signature",className:"h-14 mix-blend-multiply"})}),i.jsxs("p",{className:"text-[11px] font-bold text-slate-700 uppercase",children:[e.AgentName,"  Partner"]})]})]})]})}),Xj=({showDepositModal:e,setShowDepositModal:t,depositAmount:n,setDepositAmount:r,handleDeposit:a,isProcessing:o,showNegotiationModal:c,setShowNegotiationModal:u,counterShare:f,setCounterShare:d,counterTerm:h,setCounterTerm:m,counterNote:g,setCounterNote:v,handleCounterPropose:j})=>i.jsxs(i.Fragment,{children:[e&&i.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-[2rem] shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in duration-200",children:[i.jsxs("div",{className:"p-8 border-b border-slate-50 flex justify-between items-center bg-slate-50/50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-amber-100 text-amber-600 rounded-xl",children:i.jsx(Xx,{size:20})}),i.jsx("h3",{className:"font-black text-slate-900 uppercase text-sm",children:"Principal Injection"})]}),i.jsx("button",{onClick:()=>t(!1),children:i.jsx(Ct,{size:20,className:"text-slate-300"})})]}),i.jsx("div",{className:"p-10 space-y-6",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Contribution (ZMW)"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-xl font-black text-slate-300",children:"K"}),i.jsx("input",{autoFocus:!0,type:"number",value:n,onChange:w=>r(Number(w.target.value)),className:"w-full pl-10 p-5 bg-slate-50 border border-slate-100 rounded-2xl outline-none text-3xl font-black"})]})]})}),i.jsxs("div",{className:"p-8 bg-slate-50 flex gap-4",children:[i.jsx("button",{onClick:()=>t(!1),className:"flex-1 px-6 py-3 text-[10px] font-black uppercase text-slate-400",children:"Cancel"}),i.jsx("button",{onClick:a,disabled:o||n<=0,className:"flex-1 bg-slate-900 text-white px-6 py-3 rounded-2xl text-[10px] font-black uppercase shadow-xl",children:"Confirm Capital"})]})]})}),c&&i.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-[2rem] shadow-2xl w-full max-w-lg overflow-hidden animate-in zoom-in duration-200",children:[i.jsxs("div",{className:"p-8 border-b border-slate-50 flex justify-between items-center",children:[i.jsx("h3",{className:"font-black text-slate-900 uppercase text-sm",children:"Negotiation Panel"}),i.jsx("button",{onClick:()=>u(!1),children:i.jsx(Ct,{size:20,className:"text-slate-300"})})]}),i.jsxs("div",{className:"p-10 space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Target Share (%)"}),i.jsx("input",{type:"number",step:"0.1",value:f,onChange:w=>d(Number(w.target.value)),className:"w-full p-3 bg-slate-50 border rounded-xl outline-none font-black text-indigo-600"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Target Term (Mo)"}),i.jsx("input",{type:"number",value:h,onChange:w=>m(Number(w.target.value)),className:"w-full p-3 bg-slate-50 border rounded-xl outline-none font-black text-slate-900"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Rationale"}),i.jsx("textarea",{value:g,onChange:w=>v(w.target.value),placeholder:"Explain your suggested changes...",className:"w-full h-32 p-4 bg-slate-50 border border-slate-100 rounded-2xl outline-none text-sm font-medium resize-none focus:ring-4 focus:ring-indigo-50"})]})]}),i.jsxs("div",{className:"p-8 bg-slate-50 flex gap-4",children:[i.jsx("button",{onClick:()=>u(!1),className:"flex-1 px-6 py-3 text-[10px] font-black uppercase text-slate-400",children:"Cancel"}),i.jsx("button",{onClick:j,className:"flex-1 bg-amber-500 text-white px-6 py-3 rounded-2xl text-[10px] font-black uppercase",children:"Submit Counter-Offer"})]})]})})]}),gM=({data:e,onUpdatePartner:t})=>{const[n,r]=O.useState("wealth"),[a,o]=O.useState(!1),[c,u]=O.useState(!1),[f,d]=O.useState(!1),[h,m]=O.useState(0),[g,v]=O.useState(!1),[j,w]=O.useState(0),[b,y]=O.useState(0),[S,P]=O.useState(""),k=e.agents.find(U=>{var Q;return U.AgentID===((Q=e.currentUser)==null?void 0:Q.id)}),C=e.agents.filter(U=>U.Role==="Agent"||U.Role==="Support");if(!k)return null;const E=k.InvestmentStatus===rn.Active,D=k.InvestmentStatus===rn.UnderReview,I=Number(k.InvestmentTermMonths||12),$=k.InvestmentDate?new Date(k.InvestmentDate):new Date,B=new Date($);B.setMonth(B.getMonth()+I);const _=Math.max(0,Math.ceil((B.getTime()-new Date().getTime())/(1e3*60*60*24*30.44))),R=Math.min(100,Math.max(0,(I-_)/I*100)),L=async()=>{if(!(!k||h<=0)){v(!0);try{await t({...k,InvestmentPrincipal:(k.InvestmentPrincipal||0)+h}),m(0),o(!1)}finally{v(!1)}}},z=async()=>{v(!0);try{await t({...k,EquityShare:j,InvestmentTermMonths:b,ProposalNotes:`PARTNER SUGGESTION: ${S}`,InvestmentStatus:rn.CounterProposed}),d(!1)}finally{v(!1)}},H=async(U,Q,G)=>{v(!0);try{await t({...k,InvestmentSignature:G,InvestmentSignedDate:new Date().toISOString(),InvestmentStatus:rn.Active}),u(!1)}finally{v(!1)}};return E?i.jsxs("div",{className:"flex flex-col h-full animate-in fade-in duration-500 overflow-hidden",children:[i.jsx(fM,{principal:k.InvestmentPrincipal,share:k.EquityShare,payoutModel:k.PartnerPayoutModel,setShowDepositModal:o}),i.jsx("div",{className:"flex border-b border-gray-100 bg-white px-6 shrink-0",children:["wealth","team","legal"].map(U=>i.jsx("button",{onClick:()=>r(U),className:`px-6 py-4 text-[10px] font-black tracking-widest border-b-2 transition-colors uppercase ${n===U?"border-amber-600 text-amber-600":"border-transparent text-gray-400"}`,children:U==="wealth"?"Node Performance":U==="team"?"Sales Distribution":"MSA Record"},U))}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-8 no-scrollbar bg-slate-50/30",children:[n==="wealth"&&i.jsx(pM,{monthsRemaining:_,progressPercent:R,endDate:B.toISOString(),baseSalary:k.BaseSalary,equityShare:k.EquityShare}),n==="team"&&i.jsx(hM,{salesForce:C}),n==="legal"&&i.jsx(mM,{currentPartner:k})]}),i.jsx(Xj,{showDepositModal:a,setShowDepositModal:o,depositAmount:h,setDepositAmount:m,handleDeposit:L,isProcessing:g})]}):i.jsxs(i.Fragment,{children:[i.jsx(dM,{currentPartner:k,isPendingReview:D,principal:k.InvestmentPrincipal||0,share:k.EquityShare||0,termMonths:I,monthlyCapital:(k.InvestmentPrincipal||0)/Math.max(1,I),setShowNegotiationModal:d,setShowSigningModal:u}),i.jsx(Xj,{showNegotiationModal:f,setShowNegotiationModal:d,counterShare:j,setCounterShare:w,counterTerm:b,setCounterTerm:y,counterNote:S,setCounterNote:P,handleCounterPropose:z}),i.jsx(My,{isOpen:c,onClose:()=>u(!1),role:"Client",defaultName:k.AgentName,defaultTitle:"Authorized Shareholder",onConfirm:H})]})},xM=({agents:e,onAdd:t,onView:n,onEdit:r})=>{const[a,o]=q.useState(""),c=e.filter(d=>{var h;return d.AgentName.toLowerCase().includes(a.toLowerCase())||d.Role.toLowerCase().includes(a.toLowerCase())||((h=d.Department)==null?void 0:h.toLowerCase().includes(a.toLowerCase()))}),u=d=>{if(d.ExperienceLevel==="Lead")return fE;if(d.ExperienceLevel==="Trainee")return gE;switch(d.Role.toLowerCase()){case"admin":return Di;case"partner":return Sy;default:return io}},f=d=>{if(d.ExperienceLevel==="Lead")return"border-amber-100 text-amber-500 ring-4 ring-amber-50";if(d.ExperienceLevel==="Independent")return"border-indigo-100 text-indigo-400";switch(d.Role.toLowerCase()){case"admin":return"border-indigo-100 text-indigo-400";case"partner":return"border-amber-100 text-amber-500";default:return"border-slate-100 text-slate-300"}};return i.jsxs("div",{className:"flex flex-col h-full animate-in fade-in duration-700 overflow-hidden",children:[i.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-end gap-4 pb-8 shrink-0",children:i.jsxs("div",{className:"flex w-full md:max-w-lg items-center gap-2",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(zn,{size:14,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),i.jsx("input",{type:"text",placeholder:"SEARCH STAFF...",value:a,onChange:d=>o(d.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-100 rounded-full text-[9px] font-black text-slate-600 placeholder:text-slate-300 outline-none focus:ring-4 focus:ring-slate-100/50 transition-all uppercase tracking-widest"})]}),i.jsx("button",{onClick:t,className:"p-2.5 bg-slate-900 text-white rounded-full hover:bg-slate-800 transition-all shadow-lg active:scale-90 flex-shrink-0",children:i.jsx(Rr,{size:16,strokeWidth:3})})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-10 pt-2",children:i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-3 md:gap-x-8 gap-y-8 md:gap-y-12",children:c.length>0?c.map(d=>{const h=u(d),m=d.AgentName.split(" "),g=m.length>1?`${m[0]} ${m[1][0]}.`:d.AgentName,v=e.filter(j=>String(j.ParentAgentID).trim().toLowerCase()===String(d.AgentID).trim().toLowerCase()).length;return i.jsxs("div",{onClick:()=>n(d),className:"group relative flex flex-col items-center cursor-pointer transition-transform duration-300 hover:-translate-y-1",children:[i.jsx("div",{className:"absolute -right-1 -top-1 z-20 flex gap-1",children:i.jsx("button",{onClick:j=>{j.stopPropagation(),r(d)},className:"p-2 bg-white border border-slate-100 text-slate-300 hover:text-indigo-600 rounded-full transition-all shadow-md active:scale-90",children:i.jsx(Ay,{size:14})})}),i.jsxs("div",{className:"relative mb-3 md:mb-5",children:[i.jsx("div",{className:`w-20 h-20 md:w-32 md:h-32 rounded-full border flex items-center justify-center transition-all duration-500 group-hover:scale-105 group-hover:shadow-xl bg-white ${f(d)}`,children:i.jsx(h,{className:"w-8 h-8 md:w-12 md:h-12",strokeWidth:1})}),i.jsx("div",{className:`absolute bottom-0.5 right-0.5 md:bottom-2 md:right-2 w-3.5 h-3.5 md:w-5 md:h-5 rounded-full border-2 md:border-4 border-white shadow-sm
                      ${d.Status==="Active"?"bg-emerald-500":"bg-slate-300"}`}),v>0&&i.jsxs("div",{className:"absolute -top-1 -right-1 px-2 py-1 bg-amber-500 text-white rounded-full border border-white shadow-lg flex items-center gap-1 animate-in zoom-in duration-500",children:[i.jsx(PE,{size:10}),i.jsx("span",{className:"text-[8px] font-black leading-none",children:v})]}),i.jsx("div",{className:`absolute -top-1 -left-1 px-1.5 py-0.5 rounded-md border flex items-center shadow-sm animate-in zoom-in duration-500 bg-white/80 backdrop-blur-[2px] ${d.Role==="Partner"?"border-amber-100 text-amber-600":"border-slate-100 text-slate-400"}`,children:i.jsx("span",{className:"text-[6px] md:text-[7px] font-black uppercase tracking-tighter",children:d.ExperienceLevel||d.Role})}),i.jsx("div",{className:"absolute bottom-0 -left-1 px-1.5 py-0.5 bg-slate-900/90 backdrop-blur-[2px] text-white rounded-md border border-white/10 flex items-center animate-in slide-in-from-bottom-2 duration-700",children:i.jsx("span",{className:"text-[6px] md:text-[7px] font-black leading-none uppercase tracking-tighter",children:d.AgentID})})]}),i.jsxs("div",{className:"text-center space-y-0.5 px-1 w-full",children:[i.jsx("h3",{className:"text-[10px] md:text-xs font-black text-slate-900 uppercase tracking-tight group-hover:text-indigo-600 transition-colors line-clamp-1",children:g}),i.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[i.jsx("p",{className:"text-[7px] md:text-[8px] font-bold text-slate-400 uppercase tracking-[0.2em] leading-none opacity-60",children:d.Department||"Operations"}),v>0&&i.jsx("p",{className:"text-[6px] font-black text-amber-600 uppercase tracking-widest mt-1",children:"Leading Team"})]})]})]},d.AgentID)}):i.jsxs("div",{className:"col-span-full py-20 flex flex-col items-center opacity-10",children:[i.jsx(Et,{size:40,className:"mb-2"}),i.jsx("p",{className:"text-[8px] font-black uppercase tracking-[0.5em]",children:"No Staff Members Found"})]})})})]})},vM="https://www.overseetracking.com/index.aspx",yM="https://play.google.com/store/apps/details?id=com.myrope.icruises2&hl=en",bM=({client:e,invoices:t=[]})=>{const n=(t==null?void 0:t.some(a=>a.Status===wt.Overdue||a.BalanceDue>0&&new Date(a.DueDate)<new Date))||!1,r=t.reduce((a,o)=>a+(o.BalanceDue||0),0);return i.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h1",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:["Welcome, ",e==null?void 0:e.CompanyName]}),i.jsx("div",{className:"flex items-center gap-4",children:r>0?i.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-lg border text-[10px] font-black uppercase tracking-widest ${n?"bg-rose-50 border-rose-100 text-rose-600 animate-pulse":"bg-amber-50 border-amber-100 text-amber-600"}`,children:[i.jsx(ua,{size:12})," ",n?"Action Required: Payment Overdue":"Balance Due"]}):i.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 rounded-lg bg-emerald-50 border border-emerald-100 text-emerald-600 text-[10px] font-black uppercase tracking-widest",children:[i.jsx(_s,{size:12})," Account in Good Standing"]})})]}),i.jsxs("div",{className:"grid grid-cols-2 sm:flex sm:flex-row items-center gap-2 w-full lg:w-auto",children:[i.jsxs("a",{href:vM,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-1.5 px-3 py-2.5 bg-slate-900 text-white rounded-xl text-[10px] sm:text-xs font-bold hover:bg-slate-800 transition-all shadow-md active:scale-95 text-center",children:[i.jsx(Qx,{size:14,className:"shrink-0"})," Tracking Web"]}),i.jsxs("a",{href:yM,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-1.5 px-3 py-2.5 bg-indigo-600 text-white rounded-xl text-[10px] sm:text-xs font-bold hover:bg-indigo-700 transition-all shadow-md active:scale-95 text-center",children:[i.jsx(aa,{size:14,className:"shrink-0"})," Tracking App"]})]})]})},wM=({ticketTab:e,setTicketTab:t,displayedTickets:n,allCurrentTabTickets:r,showAllTickets:a,setShowAllTickets:o,onNewTicket:c})=>i.jsxs("div",{className:"lg:col-span-1 flex flex-col bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden h-fit",children:[i.jsxs("div",{className:"p-5 border-b border-slate-100 flex items-center justify-between bg-slate-50/30",children:[i.jsxs("div",{className:"flex items-center gap-2 font-bold text-slate-800",children:[i.jsx(yr,{size:18,className:"text-indigo-600"}),i.jsx("span",{className:"text-xs uppercase tracking-widest",children:"Support Center"})]}),i.jsx("button",{onClick:c,className:"p-1.5 bg-slate-900 text-white rounded-full hover:scale-105 transition-transform",children:i.jsx(Rr,{size:14})})]}),i.jsxs("div",{className:"p-4 space-y-3",children:[n.map(u=>i.jsxs("div",{className:"p-3 bg-slate-50 rounded-xl border border-slate-100 space-y-1.5",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("p",{className:"text-[11px] font-bold text-slate-900 truncate pr-2",children:u.Subject}),i.jsx("span",{className:"text-[9px] font-bold text-indigo-600 bg-indigo-50 px-1.5 py-0.5 rounded-full border border-indigo-100 shrink-0",children:u.Status})]}),i.jsxs("div",{className:"flex items-center justify-between text-[9px] text-slate-400 font-medium",children:[i.jsxs("span",{children:["#",u.TicketID]}),i.jsx("span",{children:De(u.CreatedAt)})]})]},u.TicketID)),r.length>3&&i.jsx("button",{onClick:()=>o(!a),className:"w-full py-2 flex items-center justify-center gap-1.5 text-[10px] font-bold text-slate-400 hover:text-indigo-600 transition-colors",children:a?i.jsxs(i.Fragment,{children:["Collapse History ",i.jsx(ld,{size:14})]}):i.jsxs(i.Fragment,{children:["View All Activity ",i.jsx(_i,{size:14})]})}),r.length===0&&i.jsxs("div",{className:"py-8 text-center text-slate-400 space-y-1",children:[i.jsx(vc,{size:24,className:"mx-auto opacity-20"}),i.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest",children:"No active tickets"})]})]}),i.jsxs("div",{className:"flex p-1.5 gap-1.5 bg-slate-50 border-t border-slate-100",children:[i.jsx("button",{onClick:()=>{t("active"),o(!1)},className:`flex-1 py-1.5 text-[9px] font-bold uppercase rounded-lg transition-all ${e==="active"?"bg-white text-indigo-600 shadow-sm":"text-slate-400"}`,children:"Active"}),i.jsx("button",{onClick:()=>{t("history"),o(!1)},className:`flex-1 py-1.5 text-[9px] font-bold uppercase rounded-lg transition-all ${e==="history"?"bg-white text-indigo-600 shadow-sm":"text-slate-400"}`,children:"History"})]})]}),Qj=({activeContract:e,vehicles:t})=>i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm flex flex-col justify-between h-[160px]",children:[i.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:[i.jsx(bE,{size:14})," My Service Plan"]}),e?i.jsxs("div",{className:"py-1",children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 uppercase tracking-tight",children:e.PlanType}),i.jsxs("p",{className:"text-[11px] text-slate-500 mt-0.5",children:[e.NoOfUnits," Assets  ",e.BillingCycle," Cycle"]})]}):i.jsx("p",{className:"text-sm text-slate-400 italic",children:"No active plan"}),i.jsx("div",{className:"pt-2 border-t border-slate-50",children:i.jsxs("span",{className:"text-lg font-bold text-emerald-600",children:["K",Ee((e==null?void 0:e.TotalAmount)||0)]})})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm flex flex-col justify-between h-[160px]",children:[i.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:[i.jsx(vr,{size:14})," Fleet Size"]}),i.jsxs("div",{className:"py-1",children:[i.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:t.length}),i.jsx("p",{className:"text-[11px] text-slate-500 mt-0.5",children:"Active Registered Assets"})]}),i.jsx("div",{className:"pt-2 border-t border-slate-50 text-[9px] font-bold text-slate-400 uppercase",children:"Verified Inventory"})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden flex flex-col",children:[i.jsx("div",{className:"p-4 bg-slate-50 border-b border-slate-200 flex justify-between items-center",children:i.jsx("span",{className:"text-[10px] font-bold text-slate-800 uppercase tracking-widest",children:"Fleet Inventory"})}),i.jsx("div",{className:"divide-y divide-slate-100",children:t.map(n=>i.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 transition-colors group",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 shadow-sm group-hover:scale-125 transition-transform"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-bold text-slate-900 font-mono tracking-tight",children:n.NumberPlate}),i.jsxs("p",{className:"text-[10px] text-slate-500 uppercase tracking-wide",children:[n.Make," ",n.Model,"  ",n.Year]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-tighter",children:"Status"}),i.jsx("p",{className:"text-[10px] font-black text-emerald-600 uppercase",children:n.Status})]})]},n.VehicleID))})]})]}),jM=({invoices:e,displayedInvoices:t,showAllInvoices:n,setShowAllInvoices:r,payments:a,displayedPayments:o,showAllPayments:c,setShowAllPayments:u})=>i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden h-fit flex flex-col",children:[i.jsxs("div",{className:"p-4 bg-slate-50 border-b border-slate-200 flex items-center gap-2",children:[i.jsx(Oy,{size:18,className:"text-slate-400"}),i.jsx("span",{className:"text-[10px] font-bold text-slate-800 uppercase tracking-widest",children:"Invoices"})]}),i.jsx("div",{className:"divide-y divide-slate-100",children:t.map(f=>i.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 transition-colors",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-[11px] font-bold text-slate-900",children:["INV #",f.InvoiceID]}),i.jsxs("p",{className:"text-[9px] text-slate-400 mt-0.5",children:["Due: ",De(f.DueDate)]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-sm font-bold text-slate-900",children:["K",Ee(f.TotalAmount)]}),i.jsx("span",{className:`text-[9px] font-bold uppercase ${f.Status==="Paid"?"text-emerald-500":"text-amber-500"}`,children:f.Status})]})]},f.InvoiceID))}),e.length>5&&i.jsx("button",{onClick:()=>r(!n),className:"p-3 bg-slate-50/50 border-t border-slate-100 flex items-center justify-center gap-1.5 text-[10px] font-bold text-slate-400 hover:text-indigo-600 transition-all",children:n?i.jsxs(i.Fragment,{children:["Show Recent ",i.jsx(ld,{size:14})]}):i.jsxs(i.Fragment,{children:["View All Documents ",i.jsx(_i,{size:14})]})})]}),i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden h-fit flex flex-col",children:[i.jsxs("div",{className:"p-4 bg-slate-50 border-b border-slate-200 flex items-center gap-2",children:[i.jsx(yE,{size:18,className:"text-slate-400"}),i.jsx("span",{className:"text-[10px] font-bold text-slate-800 uppercase tracking-widest",children:"Payment History"})]}),i.jsx("div",{className:"divide-y divide-slate-100",children:o.map(f=>i.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-1.5 bg-slate-100 rounded-lg text-slate-400",children:i.jsx(fa,{size:14})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[11px] font-bold text-slate-900",children:f.Method}),i.jsx("p",{className:"text-[9px] text-slate-400 mt-0.5",children:De(f.Date)})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-sm font-bold text-emerald-600",children:["K",Ee(f.Amount)]}),i.jsx("span",{className:"text-[9px] font-bold text-slate-300 uppercase",children:"Success"})]})]},f.PaymentID))}),a.length>5&&i.jsx("button",{onClick:()=>u(!c),className:"p-3 bg-slate-50/50 border-t border-slate-100 flex items-center justify-center gap-1.5 text-[10px] font-bold text-slate-400 hover:text-indigo-600 transition-all",children:c?i.jsxs(i.Fragment,{children:["Show Recent ",i.jsx(ld,{size:14})]}):i.jsxs(i.Fragment,{children:["View All Transactions ",i.jsx(_i,{size:14})]})})]})]}),NM=({activeTab:e,setActiveTab:t})=>{const[n,r]=O.useState(!1),a=[{id:"home",label:"Home",icon:X4},{id:"fleet",label:"Fleet",icon:vr},{id:"billing",label:"Billing",icon:Oy},{id:"support",label:"Support",icon:vc},{id:"services",label:"Services",icon:_y}],o=a.find(c=>c.id===e)||a[0];return i.jsxs("nav",{className:"relative z-30",children:[i.jsx("div",{className:"hidden md:grid grid-cols-5 bg-slate-100/80 p-1.5 rounded-[1.25rem] border border-slate-200/60 backdrop-blur-sm shadow-inner",children:a.map(({id:c,label:u,icon:f})=>{const d=e===c;return i.jsxs("button",{onClick:()=>t(c),className:`flex items-center justify-center gap-2.5 py-3.5 px-2 rounded-xl transition-all duration-300 group
                ${d?"bg-white text-indigo-600 shadow-md shadow-slate-200/50 transform scale-[1.02]":"text-slate-500 hover:text-slate-800 hover:bg-white/40"}`,children:[i.jsx(f,{size:16,className:`transition-colors duration-300 ${d?"text-indigo-600":"text-slate-400 group-hover:text-slate-600"}`}),i.jsx("span",{className:`text-[11px] font-black uppercase tracking-[0.1em] transition-all
                ${d?"opacity-100":"opacity-70 group-hover:opacity-100"}`,children:u})]},c)})}),i.jsxs("div",{className:"md:hidden flex flex-col gap-2",children:[i.jsxs("button",{onClick:()=>r(!n),className:"flex items-center justify-between w-full px-6 py-4 bg-white rounded-2xl shadow-sm border-2 border-indigo-50 text-indigo-600 active:scale-[0.98] transition-all",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-indigo-50 rounded-lg",children:i.jsx(o.icon,{size:20})}),i.jsxs("div",{className:"flex flex-col items-start",children:[i.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest leading-none mb-1",children:"Active Section"}),i.jsx("span",{className:"font-black text-xs uppercase tracking-widest leading-none",children:o.label})]})]}),i.jsx("div",{className:`p-1 rounded-full transition-all duration-300 ${n?"bg-indigo-600 text-white rotate-180":"bg-slate-50 text-slate-400"}`,children:i.jsx(_i,{size:18})})]}),n&&i.jsx("div",{className:"absolute top-full left-0 right-0 mt-3 bg-white rounded-[2rem] shadow-2xl border border-slate-100 overflow-hidden animate-in fade-in zoom-in-95 duration-200 ring-4 ring-slate-900/5",children:i.jsxs("div",{className:"flex flex-col p-2",children:[i.jsx("div",{className:"px-5 py-3 border-b border-slate-50",children:i.jsx("span",{className:"text-[9px] font-black text-slate-300 uppercase tracking-[0.3em]",children:"Select Destination"})}),a.map(({id:c,label:u,icon:f})=>{const d=e===c;return i.jsxs("button",{onClick:()=>{t(c),r(!1)},className:`flex items-center gap-4 px-5 py-4 text-left transition-all rounded-xl my-0.5
                      ${d?"bg-indigo-600 text-white shadow-lg shadow-indigo-200":"text-slate-500 hover:bg-slate-50"}`,children:[i.jsx(f,{size:18,className:d?"text-white":"text-slate-400"}),i.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:u}),d&&i.jsx("div",{className:"ml-auto w-2 h-2 rounded-full bg-white animate-pulse"})]},c)})]})})]})]})},SM=({isEligible:e,onClaim:t})=>e?i.jsxs("div",{className:"bg-gradient-to-r from-emerald-600 to-indigo-600 rounded-[2rem] p-8 text-white shadow-2xl relative overflow-hidden",children:[i.jsx("div",{className:"absolute right-0 top-0 p-8 opacity-10 rotate-12",children:i.jsx(s_,{size:120})}),i.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center justify-between gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:i.jsx(n_,{size:24,className:"text-amber-300"})}),i.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Professional Opportunity"})]}),i.jsxs("p",{className:"text-sm font-medium text-emerald-50 leading-relaxed max-w-xl",children:["Based on your exceptional referral record and timely payment history, you are eligible to become a ",i.jsx("strong",{children:"Trainee Agent"}),". Start earning commissions while managing your fleet."]})]}),i.jsx("button",{onClick:t,className:"px-8 py-4 bg-white text-indigo-700 rounded-2xl text-[10px] font-black uppercase tracking-[0.2em] shadow-xl hover:scale-105 transition-all active:scale-95",children:"Claim My Offer"})]})]}):null,kM=({contracts:e,onView:t})=>i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[i.jsxs("div",{className:"p-4 bg-slate-50 border-b border-slate-200 flex items-center gap-2",children:[i.jsx(kn,{size:18,className:"text-slate-400"}),i.jsx("span",{className:"text-[10px] font-bold text-slate-800 uppercase tracking-widest",children:"Official Contracts"})]}),i.jsx("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(n=>i.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl flex items-center justify-between border border-slate-100 group hover:border-indigo-200 transition-all",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"p-2 bg-white rounded-lg border border-slate-200 text-slate-400 group-hover:text-indigo-600 transition-colors",children:i.jsx(Sn,{size:20})}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-[11px] font-bold text-slate-900 uppercase tracking-tight",children:[n.PlanType," (",n.NoOfUnits," Units)"]}),i.jsxs("p",{className:"text-[9px] text-slate-400 uppercase font-medium",children:["ID: ",n.ContractID,"  Exp: ",De(n.ExpiryDate)]})]})]}),i.jsx("button",{onClick:()=>t(n),className:"px-3 py-1.5 bg-white border border-slate-200 rounded-lg text-[10px] font-bold text-slate-600 hover:border-indigo-600 hover:text-indigo-600 transition-all",children:"View"})]},n.ContractID))})]}),CM=({isOpen:e,onClose:t,subject:n,setSubject:r,description:a,setDescription:o,isSubmitting:c,onSubmit:u})=>e?i.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-[2rem] shadow-2xl w-full max-w-lg overflow-hidden animate-in zoom-in duration-300",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[i.jsxs("div",{className:"flex items-center gap-2 font-bold text-slate-800",children:[i.jsx(vc,{size:20}),i.jsx("span",{className:"text-sm uppercase tracking-widest",children:"Support Request"})]}),i.jsx("button",{onClick:t,children:i.jsx(Ct,{size:20,className:"text-slate-300 hover:text-slate-900 transition-colors"})})]}),i.jsxs("form",{onSubmit:u,className:"p-8 space-y-5",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest ml-1",children:"Subject"}),i.jsx("input",{required:!0,value:n,onChange:f=>r(f.target.value),placeholder:"How can we assist you?",className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-xl outline-none font-bold text-sm focus:ring-2 focus:ring-indigo-100 transition-all"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest ml-1",children:"Message"}),i.jsx("textarea",{required:!0,value:a,onChange:f=>o(f.target.value),placeholder:"Describe your request in detail...",className:"w-full h-32 p-4 bg-slate-50 border border-slate-200 rounded-xl outline-none text-sm font-medium resize-none focus:ring-2 focus:ring-indigo-100 transition-all"})]}),i.jsxs("button",{type:"submit",disabled:c,className:"w-full bg-slate-900 text-white py-4 rounded-xl text-xs font-bold uppercase tracking-widest shadow-lg flex items-center justify-center gap-3 active:scale-95 transition-all",children:[c?i.jsx(Ut,{size:16,className:"animate-spin"}):i.jsx(Ga,{size:16}),"Submit Request"]})]})]})}):null,AM=({isOpen:e,onClose:t,name:n,setName:r,company:a,setCompany:o,phone:c,setPhone:u,isSubmitting:f,onSubmit:d})=>e?i.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-[2rem] shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in duration-300",children:[i.jsxs("div",{className:"p-6 border-b border-indigo-100 flex justify-between items-center bg-indigo-50/30",children:[i.jsxs("div",{className:"flex items-center gap-2 font-bold text-indigo-900",children:[i.jsx(AE,{size:20}),i.jsx("span",{className:"text-sm uppercase tracking-widest",children:"Refer a Friend"})]}),i.jsx("button",{onClick:t,children:i.jsx(Ct,{size:20,className:"text-slate-300 hover:text-slate-900 transition-colors"})})]}),i.jsx("div",{className:"px-8 pt-6 pb-2 text-center",children:i.jsxs("p",{className:"text-xs text-slate-500",children:["Provide their details below. Once they join our platform, we will automatically credit your account with ",i.jsx("strong",{className:"text-indigo-600",children:"1 month of free service"}),"."]})}),i.jsxs("form",{onSubmit:d,className:"p-8 space-y-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest ml-1",children:"Contact Person Name"}),i.jsx("input",{required:!0,value:n,onChange:h=>r(h.target.value),placeholder:"Full name of your friend/contact...",className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-xl outline-none font-bold text-sm focus:ring-2 focus:ring-indigo-100 transition-all"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest ml-1",children:"Company Name"}),i.jsx("input",{required:!0,value:a,onChange:h=>o(h.target.value),placeholder:"Business or entity name...",className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-xl outline-none font-bold text-sm focus:ring-2 focus:ring-indigo-100 transition-all"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest ml-1",children:"Phone Number"}),i.jsx("input",{required:!0,value:c,onChange:h=>u(h.target.value),placeholder:"09XX XXX XXX",className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-xl outline-none font-bold text-sm focus:ring-2 focus:ring-indigo-100 transition-all"})]}),i.jsxs("button",{type:"submit",disabled:f,className:"w-full bg-indigo-600 text-white py-4 rounded-xl text-xs font-bold uppercase tracking-widest shadow-lg flex items-center justify-center gap-3 active:scale-95 transition-all mt-4",children:[f?i.jsx(Ut,{size:16,className:"animate-spin"}):i.jsx(vE,{size:16}),"Submit Referral"]})]})]})}):null,PM=[{id:"push",label:"Push to Start Conversion",icon:Y4,desc:"Upgrade from traditional key ignition to a modern push-button start system with proximity sensing."},{id:"dash",label:"Dashcams",icon:x_,desc:"High-definition video recording solutions for incident documentation and safety."},{id:"alarm",label:"Vehicle Alarm System",icon:od,desc:"Advanced anti-theft protection with precision sensors and remote monitoring integration."},{id:"rec",label:"Tracking Officer",icon:Di,desc:"Professional personnel dedicated to active monitoring of your high-value assets."}],EM=({data:e,onSignContract:t,onReportIssue:n,onSaveReferral:r})=>{var gt,Rt;const[a,o]=O.useState("home"),[c,u]=O.useState(null),[f,d]=O.useState(!1),[h,m]=O.useState(!1),[g,v]=O.useState(null),[j,w]=O.useState(!1),[b,y]=O.useState(!1),[S,P]=O.useState(""),[k,C]=O.useState(""),[E,D]=O.useState(!1),[I,$]=O.useState("active"),[B,_]=O.useState(""),[R,L]=O.useState(""),[z,H]=O.useState(""),[U,Q]=O.useState(!1),[G,Y]=O.useState(!1),[M,X]=O.useState(!1),ee=(gt=e.currentUser)==null?void 0:gt.id,ne=e.clients.find(me=>me.ClientID===ee),pe=O.useMemo(()=>ee?e.contracts.filter(me=>String(me.ClientID).trim()===String(ee).trim()).sort((me,Ge)=>new Date(Ge.StartDate).getTime()-new Date(me.StartDate).getTime()):[],[e.contracts,ee]),we=O.useMemo(()=>e.vehicles.filter(me=>me.ClientID===ee).sort((me,Ge)=>me.NumberPlate.localeCompare(Ge.NumberPlate)),[e.vehicles,ee]),je=O.useMemo(()=>e.invoices.filter(me=>me.ClientID===ee).sort((me,Ge)=>new Date(Ge.InvoiceDate).getTime()-new Date(me.InvoiceDate).getTime()),[e.invoices,ee]),$e=O.useMemo(()=>e.payments.filter(me=>me.ClientID===ee).sort((me,Ge)=>new Date(Ge.Date).getTime()-new Date(me.Date).getTime()),[e.payments,ee]),Oe=O.useMemo(()=>e.referrals.filter(me=>me.ReferrerID===ee),[e.referrals,ee]),oe=Oe.filter(me=>me.Status==="Successful"),Ce=O.useMemo(()=>{const me=oe.length>=2,Ge=!(je!=null&&je.some(Wt=>Wt.Status==="Overdue")),Yt=je.filter(Wt=>Wt.Status==="Paid").length>=3;return me&&Ge&&Yt},[oe,je]),ke=pe.find(me=>me.ContractStatus==="Active"),ie=O.useMemo(()=>e.tickets.filter(me=>me.ClientID===ee).sort((me,Ge)=>new Date(Ge.CreatedAt).getTime()-new Date(me.CreatedAt).getTime()),[e.tickets,ee]),He=ie.filter(me=>me.Status!=="Resolved"),Re=ie.filter(me=>me.Status==="Resolved"),Je=O.useMemo(()=>{if(ee)return pe.find(me=>!!!(me.ClientSign||me.ClientSignImage)&&me.ContractStatus==="Active")},[pe,ee]),ue=me=>{const Ge=e.clients.find(Wt=>Wt.ClientID===ee),Yt=Ps(me,Ge,e.vehicles,e.systemSettings,e.agents);v(Yt),u(me),d(!0)},Ie=async(me,Ge,Yt)=>{if(!c)return;const Wt={...c,ClientSignName:me,ClientSignTitle:Ge,ClientSignDate:new Date().toISOString(),ClientSign:Yt,ClientSignImage:Yt};await t(Wt),m(!1),d(!1),v(null),u(null)},Ne=async me=>{if(me.preventDefault(),!(!n||!ee)){D(!0);try{const Ge={TicketID:`TKT-${Math.floor(1e3+Math.random()*9e3)}`,ClientID:ee,Subject:S,Description:k,Status:Xn.Open,Priority:"Normal",CreatedAt:new Date().toISOString(),UpdatedAt:new Date().toISOString()};await n(Ge),P(""),C(""),w(!1),$("active")}finally{D(!1)}}},ze=async me=>{if(me.preventDefault(),!(!n||!r||!ee)){D(!0);try{const Ge=`REF-${Math.floor(1e3+Math.random()*9e3)}`,Yt={ID:Ge,ReferrerID:ee,ReferrerName:(ne==null?void 0:ne.CompanyName)||"Unknown",FriendName:B,FriendCompany:R,FriendPhone:z,Date:new Date().toISOString(),Status:"Pending"};await r(Yt);const Wt={TicketID:Ge,ClientID:ee,Subject:`REFERRAL RECORD: ${B}`,Description:`CLIENT REFERRAL PROGRAM
Referred: ${B}
Company: ${R}
Phone: ${z}

Client ${ne==null?void 0:ne.CompanyName} is requesting 1 month free credit upon activation.`,Status:Xn.Open,Priority:"High",CreatedAt:new Date().toISOString(),UpdatedAt:new Date().toISOString()};await n(Wt),_(""),L(""),H(""),y(!1)}finally{D(!1)}}},We=(ne==null?void 0:ne.ClientType)==="Corporate"||(ne==null?void 0:ne.ClientType)==="SME"?(ne==null?void 0:ne.PrimaryContactName)||(ne==null?void 0:ne.CompanyName)||"":(ne==null?void 0:ne.CompanyName)||"";return i.jsxs("div",{className:"flex flex-col h-full bg-slate-50 overflow-hidden font-sans",children:[i.jsxs("div",{className:"max-w-7xl mx-auto w-full p-4 md:p-8 space-y-6 flex-1 flex flex-col min-h-0",children:[i.jsx(bM,{client:ne,invoices:je}),i.jsx(NM,{activeTab:a,setActiveTab:o}),i.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-24",children:i.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a==="home"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx(SM,{isEligible:Ce,onClaim:()=>{P("Application: Trainee Agent Status"),C("I have met the eligibility criteria for Trainee Agent status and would like to apply."),w(!0)}}),Je&&i.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-2xl p-4 flex flex-col md:flex-row items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4 text-amber-800",children:[i.jsx(ua,{size:24}),i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-sm",children:"Signature Required"}),i.jsxs("p",{className:"text-xs",children:["Please review and sign your service agreement for ",Je.ContractID,"."]})]})]}),i.jsx("button",{onClick:()=>ue(Je),className:"w-full md:w-auto px-6 py-2 bg-amber-600 text-white rounded-lg text-xs font-bold hover:bg-amber-700 transition-all",children:"Sign Document"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"px-4 py-3 border-b border-slate-100 flex items-center gap-2 bg-slate-50/30",children:[i.jsx(mE,{size:14,className:"text-indigo-600"}),i.jsx("span",{className:"text-[10px] uppercase font-black tracking-widest text-slate-700",children:"Growth Tracker"})]}),i.jsxs("div",{className:"p-3 grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"bg-slate-50 p-2.5 rounded-xl text-center border border-slate-100",children:[i.jsx("p",{className:"text-[7px] font-black text-slate-400 uppercase mb-1",children:"Referrals"}),i.jsx("p",{className:"text-lg font-black text-slate-900 leading-none",children:Oe.length})]}),i.jsxs("div",{className:"bg-emerald-50 p-2.5 rounded-xl text-center border border-emerald-100",children:[i.jsx("p",{className:"text-[7px] font-black text-emerald-500 uppercase mb-1",children:"Activated"}),i.jsx("p",{className:"text-lg font-black text-emerald-700 leading-none",children:oe.length})]})]}),i.jsxs("div",{className:"px-4 pb-4",children:[i.jsxs("div",{className:"flex items-center justify-between text-[7px] font-black uppercase text-slate-400 mb-1.5",children:[i.jsx("span",{children:"Rank Progression"}),i.jsx("span",{className:Ce?"text-indigo-600":"text-slate-500",children:Ce?"Elite Tier":"Standard Tier"})]}),i.jsx("div",{className:"h-1 w-full bg-slate-100 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-indigo-600 transition-all duration-1000",style:{width:`${Math.min(100,oe.length/2*100)}%`}})})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm flex flex-col justify-between h-[160px]",children:[i.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:[i.jsx(kn,{size:14})," Account Status"]}),i.jsxs("div",{className:"py-1",children:[i.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:(ne==null?void 0:ne.Status)||"Active"}),i.jsx("p",{className:"text-[11px] text-slate-500 mt-0.5",children:"Verified Client Member"})]}),i.jsxs("div",{className:"pt-2 border-t border-slate-50 text-[9px] font-bold text-slate-400 uppercase",children:["Member Since ",De(ne==null?void 0:ne.OnboardingDate)]})]})]}),i.jsxs("div",{className:"lg:col-span-2",children:[i.jsx(Qj,{activeContract:ke,vehicles:we.slice(0,3)}),i.jsx("button",{onClick:()=>o("fleet"),className:"w-full mt-4 py-3 bg-white border border-slate-200 rounded-xl text-[10px] font-bold text-slate-400 hover:text-indigo-600 transition-all uppercase tracking-widest",children:"View Full Fleet Inventory"})]})]})]}),a==="fleet"&&i.jsx("div",{className:"space-y-6",children:i.jsx(Qj,{activeContract:ke,vehicles:we})}),a==="billing"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx(jM,{invoices:je,displayedInvoices:G?je:je.slice(0,5),showAllInvoices:G,setShowAllInvoices:Y,payments:$e,displayedPayments:M?$e:$e.slice(0,5),showAllPayments:M,setShowAllPayments:X}),i.jsx(kM,{contracts:pe,onView:ue})]}),a==="support"&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2",children:[i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-8 flex flex-col items-center text-center space-y-4 mb-6",children:[i.jsx("div",{className:"w-16 h-16 bg-indigo-50 rounded-full flex items-center justify-center text-indigo-600",children:i.jsx(vc,{size:32})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"How can we help today?"}),i.jsx("p",{className:"text-sm text-slate-500 max-w-sm mx-auto",children:"Our technical team is ready to assist you with any service or hardware inquiries."})]}),i.jsx("button",{onClick:()=>w(!0),className:"px-8 py-3 bg-slate-900 text-white rounded-xl text-xs font-bold uppercase tracking-widest shadow-xl hover:scale-105 transition-all",children:"Create New Ticket"})]}),i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[i.jsx("div",{className:"p-4 bg-slate-50 border-b border-slate-100 flex items-center gap-2",children:i.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Common Support Tasks"})}),i.jsx("div",{className:"p-2 grid grid-cols-1 sm:grid-cols-2 gap-2",children:[{label:"Technical Malfunction",sub:"GPS or Dashcam offline"},{label:"Asset Transfer",sub:"Moving hardware to new vehicle"},{label:"Plan Upgrade",sub:"Switching to higher service tier"},{label:"Billing Inquiry",sub:"Question about an invoice"}].map(me=>i.jsxs("button",{onClick:()=>{P(me.label),C(`Inquiry regarding ${me.label.toLowerCase()}...`),w(!0)},className:"p-4 text-left bg-slate-50 rounded-xl hover:bg-indigo-50 transition-colors group",children:[i.jsx("p",{className:"text-xs font-bold text-slate-900 group-hover:text-indigo-600",children:me.label}),i.jsx("p",{className:"text-[10px] text-slate-400",children:me.sub})]},me.label))})]})]}),i.jsx("div",{className:"lg:col-span-1",children:i.jsx(wM,{ticketTab:I,setTicketTab:$,displayedTickets:U?I==="active"?He:Re:I==="active"?He.slice(0,3):Re.slice(0,3),allCurrentTabTickets:I==="active"?He:Re,showAllTickets:U,setShowAllTickets:Q,onNewTicket:()=>w(!0)})})]}),a==="services"&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[PM.map(me=>i.jsx("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-200 shadow-sm hover:shadow-xl transition-all group",children:i.jsxs("div",{className:"flex items-start gap-6",children:[i.jsx("div",{className:"p-4 bg-slate-50 text-slate-400 rounded-3xl group-hover:bg-indigo-600 group-hover:text-white transition-all duration-500 group-hover:scale-110",children:i.jsx(me.icon,{size:32})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"text-lg font-black text-slate-900 uppercase tracking-tight",children:me.label}),i.jsx("p",{className:"text-sm text-slate-500 leading-relaxed",children:me.desc}),i.jsxs("button",{onClick:()=>{P(`Inquiry: ${me.label}`),C(`I am interested in the ${me.label} service. Please provide more details.`),w(!0)},className:"pt-4 flex items-center gap-2 text-[10px] font-black text-indigo-600 uppercase tracking-widest hover:translate-x-1 transition-transform",children:["Request Information ",i.jsx(ld,{className:"rotate-90",size:14})]})]})]})},me.id)),i.jsxs("div",{className:"md:col-span-2 bg-indigo-900 rounded-[2.5rem] p-10 text-white relative overflow-hidden shadow-2xl",children:[i.jsx("div",{className:"absolute right-0 top-0 p-10 opacity-10 rotate-12",children:i.jsx(kn,{size:140})}),i.jsxs("div",{className:"relative z-10 space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"p-3 bg-white/20 rounded-2xl",children:i.jsx(vE,{size:24,className:"fill-white"})}),i.jsx("h3",{className:"text-2xl font-black uppercase tracking-tight",children:"Refer & Earn"})]}),i.jsxs("p",{className:"text-lg text-indigo-100 max-w-2xl leading-relaxed",children:["Refer a friend or business partner to our tracking solutions. For every successful activation, you'll receive ",i.jsx("span",{className:"text-white font-bold underline decoration-indigo-400",children:"one full month of service credit"})," absolutely free."]}),i.jsx("button",{onClick:()=>y(!0),className:"px-10 py-4 bg-white text-indigo-900 rounded-2xl text-xs font-black uppercase tracking-[0.2em] shadow-xl hover:scale-105 transition-all active:scale-95",children:"Register Referral"})]})]})]})]})})]}),i.jsx(AM,{isOpen:b,onClose:()=>y(!1),name:B,setName:_,company:R,setCompany:L,phone:z,setPhone:H,isSubmitting:E,onSubmit:ze}),i.jsx(CM,{isOpen:j,onClose:()=>w(!1),subject:S,setSubject:P,description:k,setDescription:C,isSubmitting:E,onSubmit:Ne}),f&&g&&i.jsx(IE,{isOpen:f,onClose:()=>d(!1),previewHtml:g,contract:c,userRole:"Client",onInitiateSigning:()=>m(!0),onDownload:()=>{const me=window.open("","_blank");me&&(me.document.write(g),me.document.close(),me.onload=()=>me.print())},onShare:()=>{},onDispatch:()=>{}}),h&&i.jsx(My,{isOpen:h,onClose:()=>m(!1),role:"Client",defaultName:We||((Rt=e.currentUser)==null?void 0:Rt.name)||"",defaultTitle:"Authorized Representative",onConfirm:Ie})]})},DM=({tickets:e,clients:t,agents:n,onUpdateTicket:r,currentUser:a})=>{const[o,c]=O.useState(""),[u,f]=O.useState("All"),[d,h]=O.useState(null),[m,g]=O.useState(""),[v,j]=O.useState(!1),w=e.filter(S=>{const P=t.find(C=>C.ClientID===S.ClientID);return!(!(S.Subject.toLowerCase().includes(o.toLowerCase())||(P==null?void 0:P.CompanyName.toLowerCase().includes(o.toLowerCase()))||S.TicketID.toLowerCase().includes(o.toLowerCase()))||u!=="All"&&S.Status!==u)}).sort((S,P)=>new Date(P.CreatedAt).getTime()-new Date(S.CreatedAt).getTime()),b=async S=>{if(d){j(!0);try{const P={...d,Status:S,Resolution:m,AssignedAgentID:a.id,UpdatedAt:new Date().toISOString()};await r(P),h(null),g("")}finally{j(!1)}}},y=S=>{switch(S){case Xn.Resolved:return"bg-emerald-50 text-emerald-600 border-emerald-100";case Xn.InProgress:return"bg-indigo-50 text-indigo-600 border-indigo-100";default:return"bg-amber-50 text-amber-700 border-amber-100"}};return i.jsxs("div",{className:"flex flex-col h-full animate-in fade-in duration-700 overflow-hidden",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 pb-8 shrink-0",children:[i.jsx("div",{className:"flex items-center gap-1.5 p-1 bg-slate-100 border border-slate-200 rounded-2xl w-fit overflow-x-auto no-scrollbar max-w-full",children:["All",Xn.Open,Xn.InProgress,Xn.Resolved].map(S=>i.jsx("button",{onClick:()=>f(S),className:`px-5 py-2 text-[9px] font-black uppercase tracking-widest rounded-xl transition-all whitespace-nowrap ${u===S?"bg-slate-900 text-white shadow-md":"text-slate-400 hover:text-slate-600"}`,children:S},S))}),i.jsxs("div",{className:"relative w-full md:max-w-md",children:[i.jsx(zn,{size:14,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),i.jsx("input",{type:"text",placeholder:"SEARCH TICKETS OR CLIENTS...",value:o,onChange:S=>c(S.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-100 rounded-full text-[9px] font-black text-slate-600 placeholder:text-slate-300 outline-none focus:ring-4 focus:ring-slate-100/50 transition-all uppercase tracking-widest"})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-10 pt-2",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.length>0?w.map(S=>{const P=t.find(C=>C.ClientID===S.ClientID),k=n.find(C=>C.AgentID===S.AssignedAgentID);return i.jsxs("div",{onClick:()=>{h(S),g(S.Resolution||"")},className:"group bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm hover:shadow-xl transition-all cursor-pointer relative overflow-hidden",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx("div",{className:"p-2 bg-slate-50 text-slate-400 rounded-xl group-hover:bg-indigo-50 group-hover:text-indigo-600 transition-colors",children:i.jsx(yr,{size:18})}),i.jsx("span",{className:`px-2 py-0.5 rounded-full text-[8px] font-black uppercase border ${y(S.Status)}`,children:S.Status})]}),i.jsx("h3",{className:"text-sm font-bold text-slate-900 mb-1 truncate uppercase",children:S.Subject}),i.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-1",children:[i.jsx(Et,{size:10})," ",(P==null?void 0:P.CompanyName)||"Unknown Client"]}),i.jsx("div",{className:"bg-slate-50 rounded-xl p-3 mb-4 min-h-[60px]",children:i.jsx("p",{className:"text-[11px] text-slate-600 line-clamp-2 leading-relaxed",children:S.Description})}),i.jsxs("div",{className:"flex flex-col gap-2 border-t border-slate-50 pt-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(hn,{size:10,className:"text-slate-300"}),i.jsxs("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-tighter",children:["Reported: ",De(S.CreatedAt)]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(xr,{size:10,className:"text-indigo-300"}),i.jsxs("span",{className:"text-[8px] font-black text-indigo-400 uppercase tracking-tighter",children:["Update: ",De(S.UpdatedAt)]})]})]}),k&&i.jsx("div",{className:"flex justify-end",children:i.jsxs("span",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest bg-slate-50 px-2 py-0.5 rounded",children:["Owner: ",k.AgentName.split(" ")[0]]})})]})]},S.TicketID)}):i.jsxs("div",{className:"col-span-full py-24 flex flex-col items-center opacity-10",children:[i.jsx(yr,{size:50,className:"mb-4"}),i.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.8em]",children:"No support tickets found"})]})})}),d&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-2xl w-full max-w-lg overflow-hidden animate-in zoom-in duration-200",children:[i.jsxs("div",{className:"p-8 border-b border-slate-50 flex justify-between items-center bg-slate-50/50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-indigo-100 text-indigo-600 rounded-xl",children:i.jsx(ua,{size:20})}),i.jsx("h3",{className:"font-bold text-slate-800 uppercase tracking-tight",children:"Resolution Manager"})]}),i.jsx("button",{onClick:()=>h(null),children:i.jsx(Ct,{size:20,className:"text-slate-300 hover:text-slate-900 transition-colors"})})]}),i.jsxs("div",{className:"p-10 space-y-6",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-[0.2em] block mb-2",children:"Original Ticket Submission"}),i.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl border border-slate-100",children:[i.jsx("p",{className:"text-sm font-bold text-slate-800 mb-1",children:d.Subject}),i.jsx("p",{className:"text-xs text-slate-500 leading-relaxed",children:d.Description}),i.jsxs("div",{className:"mt-3 flex gap-4 text-[7px] font-black uppercase text-slate-400",children:[i.jsxs("span",{children:["Reported: ",De(d.CreatedAt)]}),i.jsxs("span",{children:["Last Activity: ",De(d.UpdatedAt)]})]})]})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Your Professional Response"}),i.jsx("textarea",{required:!0,autoFocus:!0,value:m,onChange:S=>g(S.target.value),placeholder:"Explain the technical resolution or provide a progress update...",className:"w-full h-32 p-4 bg-slate-50 border border-slate-100 rounded-2xl outline-none text-sm font-medium resize-none focus:ring-4 focus:ring-indigo-50 transition-all"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[i.jsx("button",{onClick:()=>b(Xn.InProgress),disabled:v,className:"w-full bg-slate-100 text-slate-600 py-3.5 rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-sm flex items-center justify-center gap-2 hover:bg-slate-200 transition-all active:scale-95 disabled:opacity-50",children:"Set to Pending"}),i.jsxs("button",{onClick:()=>b(Xn.Resolved),disabled:v||!m,className:"w-full bg-emerald-600 text-white py-3.5 rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-xl flex items-center justify-center gap-2 hover:bg-emerald-700 transition-all active:scale-95 disabled:opacity-50",children:[v?i.jsx(Ut,{size:16,className:"animate-spin"}):i.jsx(_s,{size:16}),"Mark Resolved"]})]})]})]})})]})};function TE(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=TE(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Xe(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=TE(e))&&(r&&(r+=" "),r+=t);return r}var Lh,Zj;function Cn(){if(Zj)return Lh;Zj=1;var e=Array.isArray;return Lh=e,Lh}var Bh,Jj;function _E(){if(Jj)return Bh;Jj=1;var e=typeof zu=="object"&&zu&&zu.Object===Object&&zu;return Bh=e,Bh}var Fh,e2;function $r(){if(e2)return Fh;e2=1;var e=_E(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Fh=n,Fh}var Uh,t2;function jc(){if(t2)return Uh;t2=1;var e=$r(),t=e.Symbol;return Uh=t,Uh}var qh,n2;function OM(){if(n2)return qh;n2=1;var e=jc(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,a=e?e.toStringTag:void 0;function o(c){var u=n.call(c,a),f=c[a];try{c[a]=void 0;var d=!0}catch{}var h=r.call(c);return d&&(u?c[a]=f:delete c[a]),h}return qh=o,qh}var Wh,r2;function IM(){if(r2)return Wh;r2=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Wh=n,Wh}var Hh,a2;function pa(){if(a2)return Hh;a2=1;var e=jc(),t=OM(),n=IM(),r="[object Null]",a="[object Undefined]",o=e?e.toStringTag:void 0;function c(u){return u==null?u===void 0?a:r:o&&o in Object(u)?t(u):n(u)}return Hh=c,Hh}var Vh,i2;function ha(){if(i2)return Vh;i2=1;function e(t){return t!=null&&typeof t=="object"}return Vh=e,Vh}var Kh,s2;function oo(){if(s2)return Kh;s2=1;var e=pa(),t=ha(),n="[object Symbol]";function r(a){return typeof a=="symbol"||t(a)&&e(a)==n}return Kh=r,Kh}var Gh,o2;function $y(){if(o2)return Gh;o2=1;var e=Cn(),t=oo(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(o,c){if(e(o))return!1;var u=typeof o;return u=="number"||u=="symbol"||u=="boolean"||o==null||t(o)?!0:r.test(o)||!n.test(o)||c!=null&&o in Object(c)}return Gh=a,Gh}var Yh,l2;function Za(){if(l2)return Yh;l2=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Yh=e,Yh}var Xh,c2;function zy(){if(c2)return Xh;c2=1;var e=pa(),t=Za(),n="[object AsyncFunction]",r="[object Function]",a="[object GeneratorFunction]",o="[object Proxy]";function c(u){if(!t(u))return!1;var f=e(u);return f==r||f==a||f==n||f==o}return Xh=c,Xh}var Qh,u2;function TM(){if(u2)return Qh;u2=1;var e=$r(),t=e["__core-js_shared__"];return Qh=t,Qh}var Zh,d2;function _M(){if(d2)return Zh;d2=1;var e=TM(),t=(function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!t&&t in r}return Zh=n,Zh}var Jh,f2;function ME(){if(f2)return Jh;f2=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return Jh=n,Jh}var em,p2;function MM(){if(p2)return em;p2=1;var e=zy(),t=_M(),n=Za(),r=ME(),a=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,f=c.toString,d=u.hasOwnProperty,h=RegExp("^"+f.call(d).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(g){if(!n(g)||t(g))return!1;var v=e(g)?h:o;return v.test(r(g))}return em=m,em}var tm,h2;function RM(){if(h2)return tm;h2=1;function e(t,n){return t==null?void 0:t[n]}return tm=e,tm}var nm,m2;function qi(){if(m2)return nm;m2=1;var e=MM(),t=RM();function n(r,a){var o=t(r,a);return e(o)?o:void 0}return nm=n,nm}var rm,g2;function hf(){if(g2)return rm;g2=1;var e=qi(),t=e(Object,"create");return rm=t,rm}var am,x2;function $M(){if(x2)return am;x2=1;var e=hf();function t(){this.__data__=e?e(null):{},this.size=0}return am=t,am}var im,v2;function zM(){if(v2)return im;v2=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return im=e,im}var sm,y2;function LM(){if(y2)return sm;y2=1;var e=hf(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function a(o){var c=this.__data__;if(e){var u=c[o];return u===t?void 0:u}return r.call(c,o)?c[o]:void 0}return sm=a,sm}var om,b2;function BM(){if(b2)return om;b2=1;var e=hf(),t=Object.prototype,n=t.hasOwnProperty;function r(a){var o=this.__data__;return e?o[a]!==void 0:n.call(o,a)}return om=r,om}var lm,w2;function FM(){if(w2)return lm;w2=1;var e=hf(),t="__lodash_hash_undefined__";function n(r,a){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=e&&a===void 0?t:a,this}return lm=n,lm}var cm,j2;function UM(){if(j2)return cm;j2=1;var e=$M(),t=zM(),n=LM(),r=BM(),a=FM();function o(c){var u=-1,f=c==null?0:c.length;for(this.clear();++u<f;){var d=c[u];this.set(d[0],d[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=a,cm=o,cm}var um,N2;function qM(){if(N2)return um;N2=1;function e(){this.__data__=[],this.size=0}return um=e,um}var dm,S2;function Ly(){if(S2)return dm;S2=1;function e(t,n){return t===n||t!==t&&n!==n}return dm=e,dm}var fm,k2;function mf(){if(k2)return fm;k2=1;var e=Ly();function t(n,r){for(var a=n.length;a--;)if(e(n[a][0],r))return a;return-1}return fm=t,fm}var pm,C2;function WM(){if(C2)return pm;C2=1;var e=mf(),t=Array.prototype,n=t.splice;function r(a){var o=this.__data__,c=e(o,a);if(c<0)return!1;var u=o.length-1;return c==u?o.pop():n.call(o,c,1),--this.size,!0}return pm=r,pm}var hm,A2;function HM(){if(A2)return hm;A2=1;var e=mf();function t(n){var r=this.__data__,a=e(r,n);return a<0?void 0:r[a][1]}return hm=t,hm}var mm,P2;function VM(){if(P2)return mm;P2=1;var e=mf();function t(n){return e(this.__data__,n)>-1}return mm=t,mm}var gm,E2;function KM(){if(E2)return gm;E2=1;var e=mf();function t(n,r){var a=this.__data__,o=e(a,n);return o<0?(++this.size,a.push([n,r])):a[o][1]=r,this}return gm=t,gm}var xm,D2;function gf(){if(D2)return xm;D2=1;var e=qM(),t=WM(),n=HM(),r=VM(),a=KM();function o(c){var u=-1,f=c==null?0:c.length;for(this.clear();++u<f;){var d=c[u];this.set(d[0],d[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=a,xm=o,xm}var vm,O2;function By(){if(O2)return vm;O2=1;var e=qi(),t=$r(),n=e(t,"Map");return vm=n,vm}var ym,I2;function GM(){if(I2)return ym;I2=1;var e=UM(),t=gf(),n=By();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return ym=r,ym}var bm,T2;function YM(){if(T2)return bm;T2=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return bm=e,bm}var wm,_2;function xf(){if(_2)return wm;_2=1;var e=YM();function t(n,r){var a=n.__data__;return e(r)?a[typeof r=="string"?"string":"hash"]:a.map}return wm=t,wm}var jm,M2;function XM(){if(M2)return jm;M2=1;var e=xf();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return jm=t,jm}var Nm,R2;function QM(){if(R2)return Nm;R2=1;var e=xf();function t(n){return e(this,n).get(n)}return Nm=t,Nm}var Sm,$2;function ZM(){if($2)return Sm;$2=1;var e=xf();function t(n){return e(this,n).has(n)}return Sm=t,Sm}var km,z2;function JM(){if(z2)return km;z2=1;var e=xf();function t(n,r){var a=e(this,n),o=a.size;return a.set(n,r),this.size+=a.size==o?0:1,this}return km=t,km}var Cm,L2;function Fy(){if(L2)return Cm;L2=1;var e=GM(),t=XM(),n=QM(),r=ZM(),a=JM();function o(c){var u=-1,f=c==null?0:c.length;for(this.clear();++u<f;){var d=c[u];this.set(d[0],d[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=a,Cm=o,Cm}var Am,B2;function RE(){if(B2)return Am;B2=1;var e=Fy(),t="Expected a function";function n(r,a){if(typeof r!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var o=function(){var c=arguments,u=a?a.apply(this,c):c[0],f=o.cache;if(f.has(u))return f.get(u);var d=r.apply(this,c);return o.cache=f.set(u,d)||f,d};return o.cache=new(n.Cache||e),o}return n.Cache=e,Am=n,Am}var Pm,F2;function e3(){if(F2)return Pm;F2=1;var e=RE(),t=500;function n(r){var a=e(r,function(c){return o.size===t&&o.clear(),c}),o=a.cache;return a}return Pm=n,Pm}var Em,U2;function t3(){if(U2)return Em;U2=1;var e=e3(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(a){var o=[];return a.charCodeAt(0)===46&&o.push(""),a.replace(t,function(c,u,f,d){o.push(f?d.replace(n,"$1"):u||c)}),o});return Em=r,Em}var Dm,q2;function Uy(){if(q2)return Dm;q2=1;function e(t,n){for(var r=-1,a=t==null?0:t.length,o=Array(a);++r<a;)o[r]=n(t[r],r,t);return o}return Dm=e,Dm}var Om,W2;function n3(){if(W2)return Om;W2=1;var e=jc(),t=Uy(),n=Cn(),r=oo(),a=e?e.prototype:void 0,o=a?a.toString:void 0;function c(u){if(typeof u=="string")return u;if(n(u))return t(u,c)+"";if(r(u))return o?o.call(u):"";var f=u+"";return f=="0"&&1/u==-1/0?"-0":f}return Om=c,Om}var Im,H2;function $E(){if(H2)return Im;H2=1;var e=n3();function t(n){return n==null?"":e(n)}return Im=t,Im}var Tm,V2;function zE(){if(V2)return Tm;V2=1;var e=Cn(),t=$y(),n=t3(),r=$E();function a(o,c){return e(o)?o:t(o,c)?[o]:n(r(o))}return Tm=a,Tm}var _m,K2;function vf(){if(K2)return _m;K2=1;var e=oo();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return _m=t,_m}var Mm,G2;function qy(){if(G2)return Mm;G2=1;var e=zE(),t=vf();function n(r,a){a=e(a,r);for(var o=0,c=a.length;r!=null&&o<c;)r=r[t(a[o++])];return o&&o==c?r:void 0}return Mm=n,Mm}var Rm,Y2;function LE(){if(Y2)return Rm;Y2=1;var e=qy();function t(n,r,a){var o=n==null?void 0:e(n,r);return o===void 0?a:o}return Rm=t,Rm}var r3=LE();const Jn=lt(r3);var $m,X2;function a3(){if(X2)return $m;X2=1;function e(t){return t==null}return $m=e,$m}var i3=a3();const Be=lt(i3);var zm,Q2;function s3(){if(Q2)return zm;Q2=1;var e=pa(),t=Cn(),n=ha(),r="[object String]";function a(o){return typeof o=="string"||!t(o)&&n(o)&&e(o)==r}return zm=a,zm}var o3=s3();const Nc=lt(o3);var l3=zy();const Fe=lt(l3);var c3=Za();const lo=lt(c3);var Lm={exports:{}},et={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z2;function u3(){if(Z2)return et;Z2=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,a=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,c=e?Symbol.for("react.provider"):60109,u=e?Symbol.for("react.context"):60110,f=e?Symbol.for("react.async_mode"):60111,d=e?Symbol.for("react.concurrent_mode"):60111,h=e?Symbol.for("react.forward_ref"):60112,m=e?Symbol.for("react.suspense"):60113,g=e?Symbol.for("react.suspense_list"):60120,v=e?Symbol.for("react.memo"):60115,j=e?Symbol.for("react.lazy"):60116,w=e?Symbol.for("react.block"):60121,b=e?Symbol.for("react.fundamental"):60117,y=e?Symbol.for("react.responder"):60118,S=e?Symbol.for("react.scope"):60119;function P(C){if(typeof C=="object"&&C!==null){var E=C.$$typeof;switch(E){case t:switch(C=C.type,C){case f:case d:case r:case o:case a:case m:return C;default:switch(C=C&&C.$$typeof,C){case u:case h:case j:case v:case c:return C;default:return E}}case n:return E}}}function k(C){return P(C)===d}return et.AsyncMode=f,et.ConcurrentMode=d,et.ContextConsumer=u,et.ContextProvider=c,et.Element=t,et.ForwardRef=h,et.Fragment=r,et.Lazy=j,et.Memo=v,et.Portal=n,et.Profiler=o,et.StrictMode=a,et.Suspense=m,et.isAsyncMode=function(C){return k(C)||P(C)===f},et.isConcurrentMode=k,et.isContextConsumer=function(C){return P(C)===u},et.isContextProvider=function(C){return P(C)===c},et.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===t},et.isForwardRef=function(C){return P(C)===h},et.isFragment=function(C){return P(C)===r},et.isLazy=function(C){return P(C)===j},et.isMemo=function(C){return P(C)===v},et.isPortal=function(C){return P(C)===n},et.isProfiler=function(C){return P(C)===o},et.isStrictMode=function(C){return P(C)===a},et.isSuspense=function(C){return P(C)===m},et.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===r||C===d||C===o||C===a||C===m||C===g||typeof C=="object"&&C!==null&&(C.$$typeof===j||C.$$typeof===v||C.$$typeof===c||C.$$typeof===u||C.$$typeof===h||C.$$typeof===b||C.$$typeof===y||C.$$typeof===S||C.$$typeof===w)},et.typeOf=P,et}var J2;function d3(){return J2||(J2=1,Lm.exports=u3()),Lm.exports}var ev=d3(),Bm,eN;function BE(){if(eN)return Bm;eN=1;var e=pa(),t=ha(),n="[object Number]";function r(a){return typeof a=="number"||t(a)&&e(a)==n}return Bm=r,Bm}var Fm,tN;function f3(){if(tN)return Fm;tN=1;var e=BE();function t(n){return e(n)&&n!=+n}return Fm=t,Fm}var p3=f3();const co=lt(p3);var h3=BE();const m3=lt(h3);var gr=function(t){return t===0?0:t>0?1:-1},Si=function(t){return Nc(t)&&t.indexOf("%")===t.length-1},he=function(t){return m3(t)&&!co(t)},Tt=function(t){return he(t)||Nc(t)},g3=0,Wi=function(t){var n=++g3;return"".concat(t||"").concat(n)},Ms=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!he(t)&&!Nc(t))return r;var o;if(Si(t)){var c=t.indexOf("%");o=n*parseFloat(t.slice(0,c))/100}else o=+t;return co(o)&&(o=r),a&&o>n&&(o=n),o},Ba=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},x3=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},a=0;a<n;a++)if(!r[t[a]])r[t[a]]=!0;else return!0;return!1},St=function(t,n){return he(t)&&he(n)?function(r){return t+r*(n-t)}:function(){return n}};function fd(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):Jn(r,t))===n})}var v3=function(t){if(!t||!t.length)return null;for(var n=t.length,r=0,a=0,o=0,c=0,u=1/0,f=-1/0,d=0,h=0,m=0;m<n;m++)d=t[m].cx||0,h=t[m].cy||0,r+=d,a+=h,o+=d*h,c+=d*d,u=Math.min(u,d),f=Math.max(f,d);var g=n*c!==r*r?(n*o-r*a)/(n*c-r*r):0;return{xmin:u,xmax:f,a:g,b:(a-g*r)/n}};function Os(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function tv(e){"@babel/helpers - typeof";return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tv(e)}var y3=["viewBox","children"],b3=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],nN=["points","pathLength"],Um={svg:y3,polygon:nN,polyline:nN},Wy=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],pd=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(O.isValidElement(t)&&(r=t.props),!lo(r))return null;var a={};return Object.keys(r).forEach(function(o){Wy.includes(o)&&(a[o]=n||function(c){return r[o](r,c)})}),a},w3=function(t,n,r){return function(a){return t(n,r,a),null}},Il=function(t,n,r){if(!lo(t)||tv(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(o){var c=t[o];Wy.includes(o)&&typeof c=="function"&&(a||(a={}),a[o]=w3(c,n,r))}),a},j3=["children"],N3=["children"];function rN(e,t){if(e==null)return{};var n=S3(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function S3(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function nv(e){"@babel/helpers - typeof";return nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nv(e)}var aN={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},ta=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},iN=null,qm=null,Hy=function e(t){if(t===iN&&Array.isArray(qm))return qm;var n=[];return O.Children.forEach(t,function(r){Be(r)||(ev.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),qm=n,iN=t,n};function Nn(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(a){return ta(a)}):r=[ta(t)],Hy(e).forEach(function(a){var o=Jn(a,"type.displayName")||Jn(a,"type.name");r.indexOf(o)!==-1&&n.push(a)}),n}function _n(e,t){var n=Nn(e,t);return n&&n[0]}var sN=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,a=n.height;return!(!he(r)||r<=0||!he(a)||a<=0)},k3=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],C3=function(t){return t&&t.type&&Nc(t.type)&&k3.indexOf(t.type)>=0},FE=function(t){return t&&nv(t)==="object"&&"cx"in t&&"cy"in t&&"r"in t},A3=function(t,n,r,a){var o,c=(o=Um==null?void 0:Um[a])!==null&&o!==void 0?o:[];return!Fe(t)&&(a&&c.includes(n)||b3.includes(n))||r&&Wy.includes(n)},Le=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(O.isValidElement(t)&&(a=t.props),!lo(a))return null;var o={};return Object.keys(a).forEach(function(c){var u;A3((u=a)===null||u===void 0?void 0:u[c],c,n,r)&&(o[c]=a[c])}),o},rv=function e(t,n){if(t===n)return!0;var r=O.Children.count(t);if(r!==O.Children.count(n))return!1;if(r===0)return!0;if(r===1)return oN(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var a=0;a<r;a++){var o=t[a],c=n[a];if(Array.isArray(o)||Array.isArray(c)){if(!e(o,c))return!1}else if(!oN(o,c))return!1}return!0},oN=function(t,n){if(Be(t)&&Be(n))return!0;if(!Be(t)&&!Be(n)){var r=t.props||{},a=r.children,o=rN(r,j3),c=n.props||{},u=c.children,f=rN(c,N3);return a&&u?Os(o,f)&&rv(a,u):!a&&!u?Os(o,f):!1}return!1},lN=function(t,n){var r=[],a={};return Hy(t).forEach(function(o,c){if(C3(o))r.push(o);else if(o){var u=ta(o.type),f=n[u]||{},d=f.handler,h=f.once;if(d&&(!h||!a[u])){var m=d(o,u,c);r.push(m),a[u]=!0}}}),r},P3=function(t){var n=t&&t.type;return n&&aN[n]?aN[n]:null},E3=function(t,n){return Hy(n).indexOf(t)},D3=["children","width","height","viewBox","className","style","title","desc"];function av(){return av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},av.apply(this,arguments)}function O3(e,t){if(e==null)return{};var n=I3(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function I3(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function iv(e){var t=e.children,n=e.width,r=e.height,a=e.viewBox,o=e.className,c=e.style,u=e.title,f=e.desc,d=O3(e,D3),h=a||{width:n,height:r,x:0,y:0},m=Xe("recharts-surface",o);return q.createElement("svg",av({},Le(d,!0,"svg"),{className:m,width:n,height:r,style:c,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),q.createElement("title",null,u),q.createElement("desc",null,f),t)}var T3=["children","className"];function sv(){return sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sv.apply(this,arguments)}function _3(e,t){if(e==null)return{};var n=M3(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function M3(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}var Ze=q.forwardRef(function(e,t){var n=e.children,r=e.className,a=_3(e,T3),o=Xe("recharts-layer",r);return q.createElement("g",sv({className:o},Le(a,!0),{ref:t}),n)}),na=function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o]},Wm,cN;function R3(){if(cN)return Wm;cN=1;function e(t,n,r){var a=-1,o=t.length;n<0&&(n=-n>o?0:o+n),r=r>o?o:r,r<0&&(r+=o),o=n>r?0:r-n>>>0,n>>>=0;for(var c=Array(o);++a<o;)c[a]=t[a+n];return c}return Wm=e,Wm}var Hm,uN;function $3(){if(uN)return Hm;uN=1;var e=R3();function t(n,r,a){var o=n.length;return a=a===void 0?o:a,!r&&a>=o?n:e(n,r,a)}return Hm=t,Hm}var Vm,dN;function UE(){if(dN)return Vm;dN=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=t+n+r,o="\\ufe0e\\ufe0f",c="\\u200d",u=RegExp("["+c+e+a+o+"]");function f(d){return u.test(d)}return Vm=f,Vm}var Km,fN;function z3(){if(fN)return Km;fN=1;function e(t){return t.split("")}return Km=e,Km}var Gm,pN;function L3(){if(pN)return Gm;pN=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=t+n+r,o="\\ufe0e\\ufe0f",c="["+e+"]",u="["+a+"]",f="\\ud83c[\\udffb-\\udfff]",d="(?:"+u+"|"+f+")",h="[^"+e+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",j=d+"?",w="["+o+"]?",b="(?:"+v+"(?:"+[h,m,g].join("|")+")"+w+j+")*",y=w+j+b,S="(?:"+[h+u+"?",u,m,g,c].join("|")+")",P=RegExp(f+"(?="+f+")|"+S+y,"g");function k(C){return C.match(P)||[]}return Gm=k,Gm}var Ym,hN;function B3(){if(hN)return Ym;hN=1;var e=z3(),t=UE(),n=L3();function r(a){return t(a)?n(a):e(a)}return Ym=r,Ym}var Xm,mN;function F3(){if(mN)return Xm;mN=1;var e=$3(),t=UE(),n=B3(),r=$E();function a(o){return function(c){c=r(c);var u=t(c)?n(c):void 0,f=u?u[0]:c.charAt(0),d=u?e(u,1).join(""):c.slice(1);return f[o]()+d}}return Xm=a,Xm}var Qm,gN;function U3(){if(gN)return Qm;gN=1;var e=F3(),t=e("toUpperCase");return Qm=t,Qm}var q3=U3();const yf=lt(q3);function ut(e){return function(){return e}}const qE=Math.cos,hd=Math.sin,wr=Math.sqrt,md=Math.PI,bf=2*md,ov=Math.PI,lv=2*ov,ji=1e-6,W3=lv-ji;function WE(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function H3(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return WE;const n=10**t;return function(r){this._+=r[0];for(let a=1,o=r.length;a<o;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class V3{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?WE:H3(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,o,c){this._append`C${+t},${+n},${+r},${+a},${this._x1=+o},${this._y1=+c}`}arcTo(t,n,r,a,o){if(t=+t,n=+n,r=+r,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let c=this._x1,u=this._y1,f=r-t,d=a-n,h=c-t,m=u-n,g=h*h+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>ji)if(!(Math.abs(m*f-d*h)>ji)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let v=r-c,j=a-u,w=f*f+d*d,b=v*v+j*j,y=Math.sqrt(w),S=Math.sqrt(g),P=o*Math.tan((ov-Math.acos((w+g-b)/(2*y*S)))/2),k=P/S,C=P/y;Math.abs(k-1)>ji&&this._append`L${t+k*h},${n+k*m}`,this._append`A${o},${o},0,0,${+(m*v>h*j)},${this._x1=t+C*f},${this._y1=n+C*d}`}}arc(t,n,r,a,o,c){if(t=+t,n=+n,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(a),f=r*Math.sin(a),d=t+u,h=n+f,m=1^c,g=c?a-o:o-a;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>ji||Math.abs(this._y1-h)>ji)&&this._append`L${d},${h}`,r&&(g<0&&(g=g%lv+lv),g>W3?this._append`A${r},${r},0,1,${m},${t-u},${n-f}A${r},${r},0,1,${m},${this._x1=d},${this._y1=h}`:g>ji&&this._append`A${r},${r},0,${+(g>=ov)},${m},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function Vy(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new V3(t)}function Ky(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function HE(e){this._context=e}HE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function wf(e){return new HE(e)}function VE(e){return e[0]}function KE(e){return e[1]}function GE(e,t){var n=ut(!0),r=null,a=wf,o=null,c=Vy(u);e=typeof e=="function"?e:e===void 0?VE:ut(e),t=typeof t=="function"?t:t===void 0?KE:ut(t);function u(f){var d,h=(f=Ky(f)).length,m,g=!1,v;for(r==null&&(o=a(v=c())),d=0;d<=h;++d)!(d<h&&n(m=f[d],d,f))===g&&((g=!g)?o.lineStart():o.lineEnd()),g&&o.point(+e(m,d,f),+t(m,d,f));if(v)return o=null,v+""||null}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:ut(+f),u):e},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:ut(+f),u):t},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:ut(!!f),u):n},u.curve=function(f){return arguments.length?(a=f,r!=null&&(o=a(r)),u):a},u.context=function(f){return arguments.length?(f==null?r=o=null:o=a(r=f),u):r},u}function qu(e,t,n){var r=null,a=ut(!0),o=null,c=wf,u=null,f=Vy(d);e=typeof e=="function"?e:e===void 0?VE:ut(+e),t=typeof t=="function"?t:ut(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?KE:ut(+n);function d(m){var g,v,j,w=(m=Ky(m)).length,b,y=!1,S,P=new Array(w),k=new Array(w);for(o==null&&(u=c(S=f())),g=0;g<=w;++g){if(!(g<w&&a(b=m[g],g,m))===y)if(y=!y)v=g,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),j=g-1;j>=v;--j)u.point(P[j],k[j]);u.lineEnd(),u.areaEnd()}y&&(P[g]=+e(b,g,m),k[g]=+t(b,g,m),u.point(r?+r(b,g,m):P[g],n?+n(b,g,m):k[g]))}if(S)return u=null,S+""||null}function h(){return GE().defined(a).curve(c).context(o)}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:ut(+m),r=null,d):e},d.x0=function(m){return arguments.length?(e=typeof m=="function"?m:ut(+m),d):e},d.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:ut(+m),d):r},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:ut(+m),n=null,d):t},d.y0=function(m){return arguments.length?(t=typeof m=="function"?m:ut(+m),d):t},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:ut(+m),d):n},d.lineX0=d.lineY0=function(){return h().x(e).y(t)},d.lineY1=function(){return h().x(e).y(n)},d.lineX1=function(){return h().x(r).y(t)},d.defined=function(m){return arguments.length?(a=typeof m=="function"?m:ut(!!m),d):a},d.curve=function(m){return arguments.length?(c=m,o!=null&&(u=c(o)),d):c},d.context=function(m){return arguments.length?(m==null?o=u=null:u=c(o=m),d):o},d}class YE{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function K3(e){return new YE(e,!0)}function G3(e){return new YE(e,!1)}const Gy={draw(e,t){const n=wr(t/md);e.moveTo(n,0),e.arc(0,0,n,0,bf)}},Y3={draw(e,t){const n=wr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},XE=wr(1/3),X3=XE*2,Q3={draw(e,t){const n=wr(t/X3),r=n*XE;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Z3={draw(e,t){const n=wr(t),r=-n/2;e.rect(r,r,n,n)}},J3=.8908130915292852,QE=hd(md/10)/hd(7*md/10),e6=hd(bf/10)*QE,t6=-qE(bf/10)*QE,n6={draw(e,t){const n=wr(t*J3),r=e6*n,a=t6*n;e.moveTo(0,-n),e.lineTo(r,a);for(let o=1;o<5;++o){const c=bf*o/5,u=qE(c),f=hd(c);e.lineTo(f*n,-u*n),e.lineTo(u*r-f*a,f*r+u*a)}e.closePath()}},Zm=wr(3),r6={draw(e,t){const n=-wr(t/(Zm*3));e.moveTo(0,n*2),e.lineTo(-Zm*n,-n),e.lineTo(Zm*n,-n),e.closePath()}},Hn=-.5,Vn=wr(3)/2,cv=1/wr(12),a6=(cv/2+1)*3,i6={draw(e,t){const n=wr(t/a6),r=n/2,a=n*cv,o=r,c=n*cv+n,u=-o,f=c;e.moveTo(r,a),e.lineTo(o,c),e.lineTo(u,f),e.lineTo(Hn*r-Vn*a,Vn*r+Hn*a),e.lineTo(Hn*o-Vn*c,Vn*o+Hn*c),e.lineTo(Hn*u-Vn*f,Vn*u+Hn*f),e.lineTo(Hn*r+Vn*a,Hn*a-Vn*r),e.lineTo(Hn*o+Vn*c,Hn*c-Vn*o),e.lineTo(Hn*u+Vn*f,Hn*f-Vn*u),e.closePath()}};function s6(e,t){let n=null,r=Vy(a);e=typeof e=="function"?e:ut(e||Gy),t=typeof t=="function"?t:ut(t===void 0?64:+t);function a(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return a.type=function(o){return arguments.length?(e=typeof o=="function"?o:ut(o),a):e},a.size=function(o){return arguments.length?(t=typeof o=="function"?o:ut(+o),a):t},a.context=function(o){return arguments.length?(n=o??null,a):n},a}function gd(){}function xd(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function ZE(e){this._context=e}ZE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function o6(e){return new ZE(e)}function JE(e){this._context=e}JE.prototype={areaStart:gd,areaEnd:gd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:xd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function l6(e){return new JE(e)}function eD(e){this._context=e}eD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:xd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function c6(e){return new eD(e)}function tD(e){this._context=e}tD.prototype={areaStart:gd,areaEnd:gd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function u6(e){return new tD(e)}function xN(e){return e<0?-1:1}function vN(e,t,n){var r=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(r||a<0&&-0),c=(n-e._y1)/(a||r<0&&-0),u=(o*a+c*r)/(r+a);return(xN(o)+xN(c))*Math.min(Math.abs(o),Math.abs(c),.5*Math.abs(u))||0}function yN(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Jm(e,t,n){var r=e._x0,a=e._y0,o=e._x1,c=e._y1,u=(o-r)/3;e._context.bezierCurveTo(r+u,a+u*t,o-u,c-u*n,o,c)}function vd(e){this._context=e}vd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Jm(this,this._t0,yN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Jm(this,yN(this,n=vN(this,e,t)),n);break;default:Jm(this,this._t0,n=vN(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function nD(e){this._context=new rD(e)}(nD.prototype=Object.create(vd.prototype)).point=function(e,t){vd.prototype.point.call(this,t,e)};function rD(e){this._context=e}rD.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,o){this._context.bezierCurveTo(t,e,r,n,o,a)}};function d6(e){return new vd(e)}function f6(e){return new nD(e)}function aD(e){this._context=e}aD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=bN(e),a=bN(t),o=0,c=1;c<n;++o,++c)this._context.bezierCurveTo(r[0][o],a[0][o],r[1][o],a[1][o],e[c],t[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function bN(e){var t,n=e.length-1,r,a=new Array(n),o=new Array(n),c=new Array(n);for(a[0]=0,o[0]=2,c[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,o[t]=4,c[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,o[n-1]=7,c[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/o[t-1],o[t]-=r,c[t]-=r*c[t-1];for(a[n-1]=c[n-1]/o[n-1],t=n-2;t>=0;--t)a[t]=(c[t]-a[t+1])/o[t];for(o[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function p6(e){return new aD(e)}function jf(e,t){this._context=e,this._t=t}jf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function h6(e){return new jf(e,.5)}function m6(e){return new jf(e,0)}function g6(e){return new jf(e,1)}function Rs(e,t){if((c=e.length)>1)for(var n=1,r,a,o=e[t[0]],c,u=o.length;n<c;++n)for(a=o,o=e[t[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function uv(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function x6(e,t){return e[t]}function v6(e){const t=[];return t.key=e,t}function y6(){var e=ut([]),t=uv,n=Rs,r=x6;function a(o){var c=Array.from(e.apply(this,arguments),v6),u,f=c.length,d=-1,h;for(const m of o)for(u=0,++d;u<f;++u)(c[u][d]=[0,+r(m,c[u].key,d,o)]).data=m;for(u=0,h=Ky(t(c));u<f;++u)c[h[u]].index=u;return n(c,h),c}return a.keys=function(o){return arguments.length?(e=typeof o=="function"?o:ut(Array.from(o)),a):e},a.value=function(o){return arguments.length?(r=typeof o=="function"?o:ut(+o),a):r},a.order=function(o){return arguments.length?(t=o==null?uv:typeof o=="function"?o:ut(Array.from(o)),a):t},a.offset=function(o){return arguments.length?(n=o??Rs,a):n},a}function b6(e,t){if((r=e.length)>0){for(var n,r,a=0,o=e[0].length,c;a<o;++a){for(c=n=0;n<r;++n)c+=e[n][a][1]||0;if(c)for(n=0;n<r;++n)e[n][a][1]/=c}Rs(e,t)}}function w6(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,o=r.length;n<o;++n){for(var c=0,u=0;c<a;++c)u+=e[c][n][1]||0;r[n][1]+=r[n][0]=-u/2}Rs(e,t)}}function j6(e,t){if(!(!((c=e.length)>0)||!((o=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,o,c;r<o;++r){for(var u=0,f=0,d=0;u<c;++u){for(var h=e[t[u]],m=h[r][1]||0,g=h[r-1][1]||0,v=(m-g)/2,j=0;j<u;++j){var w=e[t[j]],b=w[r][1]||0,y=w[r-1][1]||0;v+=b-y}f+=m,d+=v*m}a[r-1][1]+=a[r-1][0]=n,f&&(n-=d/f)}a[r-1][1]+=a[r-1][0]=n,Rs(e,t)}}function Tl(e){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tl(e)}var N6=["type","size","sizeType"];function dv(){return dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dv.apply(this,arguments)}function wN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function jN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wN(Object(n),!0).forEach(function(r){S6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function S6(e,t,n){return t=k6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k6(e){var t=C6(e,"string");return Tl(t)=="symbol"?t:String(t)}function C6(e,t){if(Tl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A6(e,t){if(e==null)return{};var n=P6(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function P6(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}var iD={symbolCircle:Gy,symbolCross:Y3,symbolDiamond:Q3,symbolSquare:Z3,symbolStar:n6,symbolTriangle:r6,symbolWye:i6},E6=Math.PI/180,D6=function(t){var n="symbol".concat(yf(t));return iD[n]||Gy},O6=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*E6;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},I6=function(t,n){iD["symbol".concat(yf(t))]=n},Nf=function(t){var n=t.type,r=n===void 0?"circle":n,a=t.size,o=a===void 0?64:a,c=t.sizeType,u=c===void 0?"area":c,f=A6(t,N6),d=jN(jN({},f),{},{type:r,size:o,sizeType:u}),h=function(){var b=D6(r),y=s6().type(b).size(O6(o,u,r));return y()},m=d.className,g=d.cx,v=d.cy,j=Le(d,!0);return g===+g&&v===+v&&o===+o?q.createElement("path",dv({},j,{className:Xe("recharts-symbols",m),transform:"translate(".concat(g,", ").concat(v,")"),d:h()})):null};Nf.registerSymbol=I6;function $s(e){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(e)}function fv(){return fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fv.apply(this,arguments)}function NN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function T6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NN(Object(n),!0).forEach(function(r){_l(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,oD(r.key),r)}}function R6(e,t,n){return t&&M6(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $6(e,t,n){return t=yd(t),z6(e,sD()?Reflect.construct(t,n||[],yd(e).constructor):t.apply(e,n))}function z6(e,t){if(t&&($s(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L6(e)}function L6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sD=function(){return!!e})()}function yd(e){return yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yd(e)}function B6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pv(e,t)}function pv(e,t){return pv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},pv(e,t)}function _l(e,t,n){return t=oD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oD(e){var t=F6(e,"string");return $s(t)=="symbol"?t:String(t)}function F6(e,t){if($s(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if($s(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Kn=32,Yy=(function(e){B6(t,e);function t(){return _6(this,t),$6(this,t,arguments)}return R6(t,[{key:"renderIcon",value:function(r){var a=this.props.inactiveColor,o=Kn/2,c=Kn/6,u=Kn/3,f=r.inactive?a:r.color;if(r.type==="plainline")return q.createElement("line",{strokeWidth:4,fill:"none",stroke:f,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Kn,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return q.createElement("path",{strokeWidth:4,fill:"none",stroke:f,d:"M0,".concat(o,"h").concat(u,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(2*u,",").concat(o,`
            H`).concat(Kn,"M").concat(2*u,",").concat(o,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(u,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return q.createElement("path",{stroke:"none",fill:f,d:"M0,".concat(Kn/8,"h").concat(Kn,"v").concat(Kn*3/4,"h").concat(-Kn,"z"),className:"recharts-legend-icon"});if(q.isValidElement(r.legendIcon)){var d=T6({},r);return delete d.legendIcon,q.cloneElement(r.legendIcon,d)}return q.createElement(Nf,{fill:f,cx:o,cy:o,size:Kn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,a=this.props,o=a.payload,c=a.iconSize,u=a.layout,f=a.formatter,d=a.inactiveColor,h={x:0,y:0,width:Kn,height:Kn},m={display:u==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(v,j){var w=v.formatter||f,b=Xe(_l(_l({"recharts-legend-item":!0},"legend-item-".concat(j),!0),"inactive",v.inactive));if(v.type==="none")return null;var y=Fe(v.value)?null:v.value;na(!Fe(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var S=v.inactive?d:v.color;return q.createElement("li",fv({className:b,style:m,key:"legend-item-".concat(j)},Il(r.props,v,j)),q.createElement(iv,{width:c,height:c,viewBox:h,style:g},r.renderIcon(v)),q.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},w?w(y,v,j):y))})}},{key:"render",value:function(){var r=this.props,a=r.payload,o=r.layout,c=r.align;if(!a||!a.length)return null;var u={padding:0,margin:0,textAlign:o==="horizontal"?c:"left"};return q.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}]),t})(O.PureComponent);_l(Yy,"displayName","Legend");_l(Yy,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var e0,SN;function U6(){if(SN)return e0;SN=1;var e=gf();function t(){this.__data__=new e,this.size=0}return e0=t,e0}var t0,kN;function q6(){if(kN)return t0;kN=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return t0=e,t0}var n0,CN;function W6(){if(CN)return n0;CN=1;function e(t){return this.__data__.get(t)}return n0=e,n0}var r0,AN;function H6(){if(AN)return r0;AN=1;function e(t){return this.__data__.has(t)}return r0=e,r0}var a0,PN;function V6(){if(PN)return a0;PN=1;var e=gf(),t=By(),n=Fy(),r=200;function a(o,c){var u=this.__data__;if(u instanceof e){var f=u.__data__;if(!t||f.length<r-1)return f.push([o,c]),this.size=++u.size,this;u=this.__data__=new n(f)}return u.set(o,c),this.size=u.size,this}return a0=a,a0}var i0,EN;function lD(){if(EN)return i0;EN=1;var e=gf(),t=U6(),n=q6(),r=W6(),a=H6(),o=V6();function c(u){var f=this.__data__=new e(u);this.size=f.size}return c.prototype.clear=t,c.prototype.delete=n,c.prototype.get=r,c.prototype.has=a,c.prototype.set=o,i0=c,i0}var s0,DN;function K6(){if(DN)return s0;DN=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return s0=t,s0}var o0,ON;function G6(){if(ON)return o0;ON=1;function e(t){return this.__data__.has(t)}return o0=e,o0}var l0,IN;function cD(){if(IN)return l0;IN=1;var e=Fy(),t=K6(),n=G6();function r(a){var o=-1,c=a==null?0:a.length;for(this.__data__=new e;++o<c;)this.add(a[o])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,l0=r,l0}var c0,TN;function uD(){if(TN)return c0;TN=1;function e(t,n){for(var r=-1,a=t==null?0:t.length;++r<a;)if(n(t[r],r,t))return!0;return!1}return c0=e,c0}var u0,_N;function dD(){if(_N)return u0;_N=1;function e(t,n){return t.has(n)}return u0=e,u0}var d0,MN;function fD(){if(MN)return d0;MN=1;var e=cD(),t=uD(),n=dD(),r=1,a=2;function o(c,u,f,d,h,m){var g=f&r,v=c.length,j=u.length;if(v!=j&&!(g&&j>v))return!1;var w=m.get(c),b=m.get(u);if(w&&b)return w==u&&b==c;var y=-1,S=!0,P=f&a?new e:void 0;for(m.set(c,u),m.set(u,c);++y<v;){var k=c[y],C=u[y];if(d)var E=g?d(C,k,y,u,c,m):d(k,C,y,c,u,m);if(E!==void 0){if(E)continue;S=!1;break}if(P){if(!t(u,function(D,I){if(!n(P,I)&&(k===D||h(k,D,f,d,m)))return P.push(I)})){S=!1;break}}else if(!(k===C||h(k,C,f,d,m))){S=!1;break}}return m.delete(c),m.delete(u),S}return d0=o,d0}var f0,RN;function Y6(){if(RN)return f0;RN=1;var e=$r(),t=e.Uint8Array;return f0=t,f0}var p0,$N;function X6(){if($N)return p0;$N=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(a,o){r[++n]=[o,a]}),r}return p0=e,p0}var h0,zN;function Xy(){if(zN)return h0;zN=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(a){r[++n]=a}),r}return h0=e,h0}var m0,LN;function Q6(){if(LN)return m0;LN=1;var e=jc(),t=Y6(),n=Ly(),r=fD(),a=X6(),o=Xy(),c=1,u=2,f="[object Boolean]",d="[object Date]",h="[object Error]",m="[object Map]",g="[object Number]",v="[object RegExp]",j="[object Set]",w="[object String]",b="[object Symbol]",y="[object ArrayBuffer]",S="[object DataView]",P=e?e.prototype:void 0,k=P?P.valueOf:void 0;function C(E,D,I,$,B,_,R){switch(I){case S:if(E.byteLength!=D.byteLength||E.byteOffset!=D.byteOffset)return!1;E=E.buffer,D=D.buffer;case y:return!(E.byteLength!=D.byteLength||!_(new t(E),new t(D)));case f:case d:case g:return n(+E,+D);case h:return E.name==D.name&&E.message==D.message;case v:case w:return E==D+"";case m:var L=a;case j:var z=$&c;if(L||(L=o),E.size!=D.size&&!z)return!1;var H=R.get(E);if(H)return H==D;$|=u,R.set(E,D);var U=r(L(E),L(D),$,B,_,R);return R.delete(E),U;case b:if(k)return k.call(E)==k.call(D)}return!1}return m0=C,m0}var g0,BN;function pD(){if(BN)return g0;BN=1;function e(t,n){for(var r=-1,a=n.length,o=t.length;++r<a;)t[o+r]=n[r];return t}return g0=e,g0}var x0,FN;function Z6(){if(FN)return x0;FN=1;var e=pD(),t=Cn();function n(r,a,o){var c=a(r);return t(r)?c:e(c,o(r))}return x0=n,x0}var v0,UN;function J6(){if(UN)return v0;UN=1;function e(t,n){for(var r=-1,a=t==null?0:t.length,o=0,c=[];++r<a;){var u=t[r];n(u,r,t)&&(c[o++]=u)}return c}return v0=e,v0}var y0,qN;function eR(){if(qN)return y0;qN=1;function e(){return[]}return y0=e,y0}var b0,WN;function tR(){if(WN)return b0;WN=1;var e=J6(),t=eR(),n=Object.prototype,r=n.propertyIsEnumerable,a=Object.getOwnPropertySymbols,o=a?function(c){return c==null?[]:(c=Object(c),e(a(c),function(u){return r.call(c,u)}))}:t;return b0=o,b0}var w0,HN;function nR(){if(HN)return w0;HN=1;function e(t,n){for(var r=-1,a=Array(t);++r<t;)a[r]=n(r);return a}return w0=e,w0}var j0,VN;function rR(){if(VN)return j0;VN=1;var e=pa(),t=ha(),n="[object Arguments]";function r(a){return t(a)&&e(a)==n}return j0=r,j0}var N0,KN;function Qy(){if(KN)return N0;KN=1;var e=rR(),t=ha(),n=Object.prototype,r=n.hasOwnProperty,a=n.propertyIsEnumerable,o=e((function(){return arguments})())?e:function(c){return t(c)&&r.call(c,"callee")&&!a.call(c,"callee")};return N0=o,N0}var pl={exports:{}},S0,GN;function aR(){if(GN)return S0;GN=1;function e(){return!1}return S0=e,S0}pl.exports;var YN;function hD(){return YN||(YN=1,(function(e,t){var n=$r(),r=aR(),a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,c=o&&o.exports===a,u=c?n.Buffer:void 0,f=u?u.isBuffer:void 0,d=f||r;e.exports=d})(pl,pl.exports)),pl.exports}var k0,XN;function Zy(){if(XN)return k0;XN=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,a){var o=typeof r;return a=a??e,!!a&&(o=="number"||o!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<a}return k0=n,k0}var C0,QN;function Jy(){if(QN)return C0;QN=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return C0=t,C0}var A0,ZN;function iR(){if(ZN)return A0;ZN=1;var e=pa(),t=Jy(),n=ha(),r="[object Arguments]",a="[object Array]",o="[object Boolean]",c="[object Date]",u="[object Error]",f="[object Function]",d="[object Map]",h="[object Number]",m="[object Object]",g="[object RegExp]",v="[object Set]",j="[object String]",w="[object WeakMap]",b="[object ArrayBuffer]",y="[object DataView]",S="[object Float32Array]",P="[object Float64Array]",k="[object Int8Array]",C="[object Int16Array]",E="[object Int32Array]",D="[object Uint8Array]",I="[object Uint8ClampedArray]",$="[object Uint16Array]",B="[object Uint32Array]",_={};_[S]=_[P]=_[k]=_[C]=_[E]=_[D]=_[I]=_[$]=_[B]=!0,_[r]=_[a]=_[b]=_[o]=_[y]=_[c]=_[u]=_[f]=_[d]=_[h]=_[m]=_[g]=_[v]=_[j]=_[w]=!1;function R(L){return n(L)&&t(L.length)&&!!_[e(L)]}return A0=R,A0}var P0,JN;function mD(){if(JN)return P0;JN=1;function e(t){return function(n){return t(n)}}return P0=e,P0}var hl={exports:{}};hl.exports;var eS;function sR(){return eS||(eS=1,(function(e,t){var n=_E(),r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===r,c=o&&n.process,u=(function(){try{var f=a&&a.require&&a.require("util").types;return f||c&&c.binding&&c.binding("util")}catch{}})();e.exports=u})(hl,hl.exports)),hl.exports}var E0,tS;function gD(){if(tS)return E0;tS=1;var e=iR(),t=mD(),n=sR(),r=n&&n.isTypedArray,a=r?t(r):e;return E0=a,E0}var D0,nS;function oR(){if(nS)return D0;nS=1;var e=nR(),t=Qy(),n=Cn(),r=hD(),a=Zy(),o=gD(),c=Object.prototype,u=c.hasOwnProperty;function f(d,h){var m=n(d),g=!m&&t(d),v=!m&&!g&&r(d),j=!m&&!g&&!v&&o(d),w=m||g||v||j,b=w?e(d.length,String):[],y=b.length;for(var S in d)(h||u.call(d,S))&&!(w&&(S=="length"||v&&(S=="offset"||S=="parent")||j&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||a(S,y)))&&b.push(S);return b}return D0=f,D0}var O0,rS;function lR(){if(rS)return O0;rS=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,a=typeof r=="function"&&r.prototype||e;return n===a}return O0=t,O0}var I0,aS;function xD(){if(aS)return I0;aS=1;function e(t,n){return function(r){return t(n(r))}}return I0=e,I0}var T0,iS;function cR(){if(iS)return T0;iS=1;var e=xD(),t=e(Object.keys,Object);return T0=t,T0}var _0,sS;function uR(){if(sS)return _0;sS=1;var e=lR(),t=cR(),n=Object.prototype,r=n.hasOwnProperty;function a(o){if(!e(o))return t(o);var c=[];for(var u in Object(o))r.call(o,u)&&u!="constructor"&&c.push(u);return c}return _0=a,_0}var M0,oS;function Sc(){if(oS)return M0;oS=1;var e=zy(),t=Jy();function n(r){return r!=null&&t(r.length)&&!e(r)}return M0=n,M0}var R0,lS;function Sf(){if(lS)return R0;lS=1;var e=oR(),t=uR(),n=Sc();function r(a){return n(a)?e(a):t(a)}return R0=r,R0}var $0,cS;function dR(){if(cS)return $0;cS=1;var e=Z6(),t=tR(),n=Sf();function r(a){return e(a,n,t)}return $0=r,$0}var z0,uS;function fR(){if(uS)return z0;uS=1;var e=dR(),t=1,n=Object.prototype,r=n.hasOwnProperty;function a(o,c,u,f,d,h){var m=u&t,g=e(o),v=g.length,j=e(c),w=j.length;if(v!=w&&!m)return!1;for(var b=v;b--;){var y=g[b];if(!(m?y in c:r.call(c,y)))return!1}var S=h.get(o),P=h.get(c);if(S&&P)return S==c&&P==o;var k=!0;h.set(o,c),h.set(c,o);for(var C=m;++b<v;){y=g[b];var E=o[y],D=c[y];if(f)var I=m?f(D,E,y,c,o,h):f(E,D,y,o,c,h);if(!(I===void 0?E===D||d(E,D,u,f,h):I)){k=!1;break}C||(C=y=="constructor")}if(k&&!C){var $=o.constructor,B=c.constructor;$!=B&&"constructor"in o&&"constructor"in c&&!(typeof $=="function"&&$ instanceof $&&typeof B=="function"&&B instanceof B)&&(k=!1)}return h.delete(o),h.delete(c),k}return z0=a,z0}var L0,dS;function pR(){if(dS)return L0;dS=1;var e=qi(),t=$r(),n=e(t,"DataView");return L0=n,L0}var B0,fS;function hR(){if(fS)return B0;fS=1;var e=qi(),t=$r(),n=e(t,"Promise");return B0=n,B0}var F0,pS;function vD(){if(pS)return F0;pS=1;var e=qi(),t=$r(),n=e(t,"Set");return F0=n,F0}var U0,hS;function mR(){if(hS)return U0;hS=1;var e=qi(),t=$r(),n=e(t,"WeakMap");return U0=n,U0}var q0,mS;function gR(){if(mS)return q0;mS=1;var e=pR(),t=By(),n=hR(),r=vD(),a=mR(),o=pa(),c=ME(),u="[object Map]",f="[object Object]",d="[object Promise]",h="[object Set]",m="[object WeakMap]",g="[object DataView]",v=c(e),j=c(t),w=c(n),b=c(r),y=c(a),S=o;return(e&&S(new e(new ArrayBuffer(1)))!=g||t&&S(new t)!=u||n&&S(n.resolve())!=d||r&&S(new r)!=h||a&&S(new a)!=m)&&(S=function(P){var k=o(P),C=k==f?P.constructor:void 0,E=C?c(C):"";if(E)switch(E){case v:return g;case j:return u;case w:return d;case b:return h;case y:return m}return k}),q0=S,q0}var W0,gS;function xR(){if(gS)return W0;gS=1;var e=lD(),t=fD(),n=Q6(),r=fR(),a=gR(),o=Cn(),c=hD(),u=gD(),f=1,d="[object Arguments]",h="[object Array]",m="[object Object]",g=Object.prototype,v=g.hasOwnProperty;function j(w,b,y,S,P,k){var C=o(w),E=o(b),D=C?h:a(w),I=E?h:a(b);D=D==d?m:D,I=I==d?m:I;var $=D==m,B=I==m,_=D==I;if(_&&c(w)){if(!c(b))return!1;C=!0,$=!1}if(_&&!$)return k||(k=new e),C||u(w)?t(w,b,y,S,P,k):n(w,b,D,y,S,P,k);if(!(y&f)){var R=$&&v.call(w,"__wrapped__"),L=B&&v.call(b,"__wrapped__");if(R||L){var z=R?w.value():w,H=L?b.value():b;return k||(k=new e),P(z,H,y,S,k)}}return _?(k||(k=new e),r(w,b,y,S,P,k)):!1}return W0=j,W0}var H0,xS;function eb(){if(xS)return H0;xS=1;var e=xR(),t=ha();function n(r,a,o,c,u){return r===a?!0:r==null||a==null||!t(r)&&!t(a)?r!==r&&a!==a:e(r,a,o,c,n,u)}return H0=n,H0}var V0,vS;function vR(){if(vS)return V0;vS=1;var e=lD(),t=eb(),n=1,r=2;function a(o,c,u,f){var d=u.length,h=d,m=!f;if(o==null)return!h;for(o=Object(o);d--;){var g=u[d];if(m&&g[2]?g[1]!==o[g[0]]:!(g[0]in o))return!1}for(;++d<h;){g=u[d];var v=g[0],j=o[v],w=g[1];if(m&&g[2]){if(j===void 0&&!(v in o))return!1}else{var b=new e;if(f)var y=f(j,w,v,o,c,b);if(!(y===void 0?t(w,j,n|r,f,b):y))return!1}}return!0}return V0=a,V0}var K0,yS;function yD(){if(yS)return K0;yS=1;var e=Za();function t(n){return n===n&&!e(n)}return K0=t,K0}var G0,bS;function yR(){if(bS)return G0;bS=1;var e=yD(),t=Sf();function n(r){for(var a=t(r),o=a.length;o--;){var c=a[o],u=r[c];a[o]=[c,u,e(u)]}return a}return G0=n,G0}var Y0,wS;function bD(){if(wS)return Y0;wS=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return Y0=e,Y0}var X0,jS;function bR(){if(jS)return X0;jS=1;var e=vR(),t=yR(),n=bD();function r(a){var o=t(a);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(c){return c===a||e(c,a,o)}}return X0=r,X0}var Q0,NS;function wR(){if(NS)return Q0;NS=1;function e(t,n){return t!=null&&n in Object(t)}return Q0=e,Q0}var Z0,SS;function jR(){if(SS)return Z0;SS=1;var e=zE(),t=Qy(),n=Cn(),r=Zy(),a=Jy(),o=vf();function c(u,f,d){f=e(f,u);for(var h=-1,m=f.length,g=!1;++h<m;){var v=o(f[h]);if(!(g=u!=null&&d(u,v)))break;u=u[v]}return g||++h!=m?g:(m=u==null?0:u.length,!!m&&a(m)&&r(v,m)&&(n(u)||t(u)))}return Z0=c,Z0}var J0,kS;function NR(){if(kS)return J0;kS=1;var e=wR(),t=jR();function n(r,a){return r!=null&&t(r,a,e)}return J0=n,J0}var eg,CS;function SR(){if(CS)return eg;CS=1;var e=eb(),t=LE(),n=NR(),r=$y(),a=yD(),o=bD(),c=vf(),u=1,f=2;function d(h,m){return r(h)&&a(m)?o(c(h),m):function(g){var v=t(g,h);return v===void 0&&v===m?n(g,h):e(m,v,u|f)}}return eg=d,eg}var tg,AS;function uo(){if(AS)return tg;AS=1;function e(t){return t}return tg=e,tg}var ng,PS;function kR(){if(PS)return ng;PS=1;function e(t){return function(n){return n==null?void 0:n[t]}}return ng=e,ng}var rg,ES;function CR(){if(ES)return rg;ES=1;var e=qy();function t(n){return function(r){return e(r,n)}}return rg=t,rg}var ag,DS;function AR(){if(DS)return ag;DS=1;var e=kR(),t=CR(),n=$y(),r=vf();function a(o){return n(o)?e(r(o)):t(o)}return ag=a,ag}var ig,OS;function Ja(){if(OS)return ig;OS=1;var e=bR(),t=SR(),n=uo(),r=Cn(),a=AR();function o(c){return typeof c=="function"?c:c==null?n:typeof c=="object"?r(c)?t(c[0],c[1]):e(c):a(c)}return ig=o,ig}var sg,IS;function wD(){if(IS)return sg;IS=1;function e(t,n,r,a){for(var o=t.length,c=r+(a?1:-1);a?c--:++c<o;)if(n(t[c],c,t))return c;return-1}return sg=e,sg}var og,TS;function PR(){if(TS)return og;TS=1;function e(t){return t!==t}return og=e,og}var lg,_S;function ER(){if(_S)return lg;_S=1;function e(t,n,r){for(var a=r-1,o=t.length;++a<o;)if(t[a]===n)return a;return-1}return lg=e,lg}var cg,MS;function DR(){if(MS)return cg;MS=1;var e=wD(),t=PR(),n=ER();function r(a,o,c){return o===o?n(a,o,c):e(a,t,c)}return cg=r,cg}var ug,RS;function OR(){if(RS)return ug;RS=1;var e=DR();function t(n,r){var a=n==null?0:n.length;return!!a&&e(n,r,0)>-1}return ug=t,ug}var dg,$S;function IR(){if($S)return dg;$S=1;function e(t,n,r){for(var a=-1,o=t==null?0:t.length;++a<o;)if(r(n,t[a]))return!0;return!1}return dg=e,dg}var fg,zS;function TR(){if(zS)return fg;zS=1;function e(){}return fg=e,fg}var pg,LS;function _R(){if(LS)return pg;LS=1;var e=vD(),t=TR(),n=Xy(),r=1/0,a=e&&1/n(new e([,-0]))[1]==r?function(o){return new e(o)}:t;return pg=a,pg}var hg,BS;function MR(){if(BS)return hg;BS=1;var e=cD(),t=OR(),n=IR(),r=dD(),a=_R(),o=Xy(),c=200;function u(f,d,h){var m=-1,g=t,v=f.length,j=!0,w=[],b=w;if(h)j=!1,g=n;else if(v>=c){var y=d?null:a(f);if(y)return o(y);j=!1,g=r,b=new e}else b=d?[]:w;e:for(;++m<v;){var S=f[m],P=d?d(S):S;if(S=h||S!==0?S:0,j&&P===P){for(var k=b.length;k--;)if(b[k]===P)continue e;d&&b.push(P),w.push(S)}else g(b,P,h)||(b!==w&&b.push(P),w.push(S))}return w}return hg=u,hg}var mg,FS;function RR(){if(FS)return mg;FS=1;var e=Ja(),t=MR();function n(r,a){return r&&r.length?t(r,e(a,2)):[]}return mg=n,mg}var $R=RR();const US=lt($R);function jD(e,t,n){return t===!0?US(e,n):Fe(t)?US(e,t):e}function zs(e){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zs(e)}var zR=["ref"];function qS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function yi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qS(Object(n),!0).forEach(function(r){kf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kD(r.key),r)}}function BR(e,t,n){return t&&WS(e.prototype,t),n&&WS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function FR(e,t,n){return t=bd(t),UR(e,ND()?Reflect.construct(t,n||[],bd(e).constructor):t.apply(e,n))}function UR(e,t){if(t&&(zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SD(e)}function ND(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ND=function(){return!!e})()}function bd(e){return bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bd(e)}function SD(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qR(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hv(e,t)}function hv(e,t){return hv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},hv(e,t)}function kf(e,t,n){return t=kD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kD(e){var t=WR(e,"string");return zs(t)=="symbol"?t:String(t)}function WR(e,t){if(zs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(zs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HR(e,t){if(e==null)return{};var n=VR(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function VR(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function KR(e){return e.value}function GR(e,t){if(q.isValidElement(e))return q.cloneElement(e,t);if(typeof e=="function")return q.createElement(e,t);t.ref;var n=HR(t,zR);return q.createElement(Yy,n)}var HS=1,Ml=(function(e){qR(t,e);function t(){var n;LR(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=FR(this,t,[].concat(a)),kf(SD(n),"lastBoundingBox",{width:-1,height:-1}),n}return BR(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){return this.wrapperNode&&this.wrapperNode.getBoundingClientRect?this.wrapperNode.getBoundingClientRect():null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.lastBoundingBox.width)>HS||Math.abs(a.height-this.lastBoundingBox.height)>HS)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,r&&r(a))}else(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?yi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var a=this.props,o=a.layout,c=a.align,u=a.verticalAlign,f=a.margin,d=a.chartWidth,h=a.chartHeight,m,g;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(c==="center"&&o==="vertical"){var v=this.getBBoxSnapshot();m={left:((d||0)-v.width)/2}}else m=c==="right"?{right:f&&f.right||0}:{left:f&&f.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(u==="middle"){var j=this.getBBoxSnapshot();g={top:((h||0)-j.height)/2}}else g=u==="bottom"?{bottom:f&&f.bottom||0}:{top:f&&f.top||0};return yi(yi({},m),g)}},{key:"render",value:function(){var r=this,a=this.props,o=a.content,c=a.width,u=a.height,f=a.wrapperStyle,d=a.payloadUniqBy,h=a.payload,m=yi(yi({position:"absolute",width:c||"auto",height:u||"auto"},this.getDefaultPosition(f)),f);return q.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(v){r.wrapperNode=v}},GR(o,yi(yi({},this.props),{},{payload:jD(h,d,KR)})))}}],[{key:"getWithHeight",value:function(r,a){var o=r.props.layout;return o==="vertical"&&he(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||a}:null}}]),t})(O.PureComponent);kf(Ml,"displayName","Legend");kf(Ml,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var gg,VS;function YR(){if(VS)return gg;VS=1;var e=jc(),t=Qy(),n=Cn(),r=e?e.isConcatSpreadable:void 0;function a(o){return n(o)||t(o)||!!(r&&o&&o[r])}return gg=a,gg}var xg,KS;function CD(){if(KS)return xg;KS=1;var e=pD(),t=YR();function n(r,a,o,c,u){var f=-1,d=r.length;for(o||(o=t),u||(u=[]);++f<d;){var h=r[f];a>0&&o(h)?a>1?n(h,a-1,o,c,u):e(u,h):c||(u[u.length]=h)}return u}return xg=n,xg}var vg,GS;function XR(){if(GS)return vg;GS=1;function e(t){return function(n,r,a){for(var o=-1,c=Object(n),u=a(n),f=u.length;f--;){var d=u[t?f:++o];if(r(c[d],d,c)===!1)break}return n}}return vg=e,vg}var yg,YS;function QR(){if(YS)return yg;YS=1;var e=XR(),t=e();return yg=t,yg}var bg,XS;function AD(){if(XS)return bg;XS=1;var e=QR(),t=Sf();function n(r,a){return r&&e(r,a,t)}return bg=n,bg}var wg,QS;function ZR(){if(QS)return wg;QS=1;var e=Sc();function t(n,r){return function(a,o){if(a==null)return a;if(!e(a))return n(a,o);for(var c=a.length,u=r?c:-1,f=Object(a);(r?u--:++u<c)&&o(f[u],u,f)!==!1;);return a}}return wg=t,wg}var jg,ZS;function tb(){if(ZS)return jg;ZS=1;var e=AD(),t=ZR(),n=t(e);return jg=n,jg}var Ng,JS;function PD(){if(JS)return Ng;JS=1;var e=tb(),t=Sc();function n(r,a){var o=-1,c=t(r)?Array(r.length):[];return e(r,function(u,f,d){c[++o]=a(u,f,d)}),c}return Ng=n,Ng}var Sg,ek;function JR(){if(ek)return Sg;ek=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return Sg=e,Sg}var kg,tk;function e$(){if(tk)return kg;tk=1;var e=oo();function t(n,r){if(n!==r){var a=n!==void 0,o=n===null,c=n===n,u=e(n),f=r!==void 0,d=r===null,h=r===r,m=e(r);if(!d&&!m&&!u&&n>r||u&&f&&h&&!d&&!m||o&&f&&h||!a&&h||!c)return 1;if(!o&&!u&&!m&&n<r||m&&a&&c&&!o&&!u||d&&a&&c||!f&&c||!h)return-1}return 0}return kg=t,kg}var Cg,nk;function t$(){if(nk)return Cg;nk=1;var e=e$();function t(n,r,a){for(var o=-1,c=n.criteria,u=r.criteria,f=c.length,d=a.length;++o<f;){var h=e(c[o],u[o]);if(h){if(o>=d)return h;var m=a[o];return h*(m=="desc"?-1:1)}}return n.index-r.index}return Cg=t,Cg}var Ag,rk;function n$(){if(rk)return Ag;rk=1;var e=Uy(),t=qy(),n=Ja(),r=PD(),a=JR(),o=mD(),c=t$(),u=uo(),f=Cn();function d(h,m,g){m.length?m=e(m,function(w){return f(w)?function(b){return t(b,w.length===1?w[0]:w)}:w}):m=[u];var v=-1;m=e(m,o(n));var j=r(h,function(w,b,y){var S=e(m,function(P){return P(w)});return{criteria:S,index:++v,value:w}});return a(j,function(w,b){return c(w,b,g)})}return Ag=d,Ag}var Pg,ak;function r$(){if(ak)return Pg;ak=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return Pg=e,Pg}var Eg,ik;function a$(){if(ik)return Eg;ik=1;var e=r$(),t=Math.max;function n(r,a,o){return a=t(a===void 0?r.length-1:a,0),function(){for(var c=arguments,u=-1,f=t(c.length-a,0),d=Array(f);++u<f;)d[u]=c[a+u];u=-1;for(var h=Array(a+1);++u<a;)h[u]=c[u];return h[a]=o(d),e(r,this,h)}}return Eg=n,Eg}var Dg,sk;function i$(){if(sk)return Dg;sk=1;function e(t){return function(){return t}}return Dg=e,Dg}var Og,ok;function ED(){if(ok)return Og;ok=1;var e=qi(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}})();return Og=t,Og}var Ig,lk;function s$(){if(lk)return Ig;lk=1;var e=i$(),t=ED(),n=uo(),r=t?function(a,o){return t(a,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:n;return Ig=r,Ig}var Tg,ck;function o$(){if(ck)return Tg;ck=1;var e=800,t=16,n=Date.now;function r(a){var o=0,c=0;return function(){var u=n(),f=t-(u-c);if(c=u,f>0){if(++o>=e)return arguments[0]}else o=0;return a.apply(void 0,arguments)}}return Tg=r,Tg}var _g,uk;function l$(){if(uk)return _g;uk=1;var e=s$(),t=o$(),n=t(e);return _g=n,_g}var Mg,dk;function c$(){if(dk)return Mg;dk=1;var e=uo(),t=a$(),n=l$();function r(a,o){return n(t(a,o,e),a+"")}return Mg=r,Mg}var Rg,fk;function Cf(){if(fk)return Rg;fk=1;var e=Ly(),t=Sc(),n=Zy(),r=Za();function a(o,c,u){if(!r(u))return!1;var f=typeof c;return(f=="number"?t(u)&&n(c,u.length):f=="string"&&c in u)?e(u[c],o):!1}return Rg=a,Rg}var $g,pk;function u$(){if(pk)return $g;pk=1;var e=CD(),t=n$(),n=c$(),r=Cf(),a=n(function(o,c){if(o==null)return[];var u=c.length;return u>1&&r(o,c[0],c[1])?c=[]:u>2&&r(c[0],c[1],c[2])&&(c=[c[0]]),t(o,e(c,1),[])});return $g=a,$g}var d$=u$();const nb=lt(d$);function Rl(e){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rl(e)}function mv(){return mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mv.apply(this,arguments)}function f$(e,t){return g$(e)||m$(e,t)||h$(e,t)||p$()}function p$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h$(e,t){if(e){if(typeof e=="string")return hk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hk(e,t)}}function hk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m$(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,o,c,u=[],f=!0,d=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(f=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);f=!0);}catch(h){d=!0,a=h}finally{try{if(!f&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(d)throw a}}return u}}function g$(e){if(Array.isArray(e))return e}function mk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function zg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mk(Object(n),!0).forEach(function(r){x$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function x$(e,t,n){return t=v$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v$(e){var t=y$(e,"string");return Rl(t)=="symbol"?t:String(t)}function y$(e,t){if(Rl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b$(e){return Array.isArray(e)&&Tt(e[0])&&Tt(e[1])?e.join(" ~ "):e}var w$=function(t){var n=t.separator,r=n===void 0?" : ":n,a=t.contentStyle,o=a===void 0?{}:a,c=t.itemStyle,u=c===void 0?{}:c,f=t.labelStyle,d=f===void 0?{}:f,h=t.payload,m=t.formatter,g=t.itemSorter,v=t.wrapperClassName,j=t.labelClassName,w=t.label,b=t.labelFormatter,y=t.accessibilityLayer,S=y===void 0?!1:y,P=function(){if(h&&h.length){var R={padding:0,margin:0},L=(g?nb(h,g):h).map(function(z,H){if(z.type==="none")return null;var U=zg({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},u),Q=z.formatter||m||b$,G=z.value,Y=z.name,M=G,X=Y;if(Q&&M!=null&&X!=null){var ee=Q(G,Y,z,H,h);if(Array.isArray(ee)){var ne=f$(ee,2);M=ne[0],X=ne[1]}else M=ee}return q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:U},Tt(X)?q.createElement("span",{className:"recharts-tooltip-item-name"},X):null,Tt(X)?q.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,q.createElement("span",{className:"recharts-tooltip-item-value"},M),q.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return q.createElement("ul",{className:"recharts-tooltip-item-list",style:R},L)}return null},k=zg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),C=zg({margin:0},d),E=!Be(w),D=E?w:"",I=Xe("recharts-default-tooltip",v),$=Xe("recharts-tooltip-label",j);E&&b&&h!==void 0&&h!==null&&(D=b(w,h));var B=S?{role:"status","aria-live":"assertive"}:{};return q.createElement("div",mv({className:I,style:k},B),q.createElement("p",{className:$,style:C},q.isValidElement(D)?D:"".concat(D)),P())};function $l(e){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$l(e)}function Wu(e,t,n){return t=j$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j$(e){var t=N$(e,"string");return $l(t)=="symbol"?t:String(t)}function N$(e,t){if($l(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if($l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rl="recharts-tooltip-wrapper",S$={visibility:"hidden"};function k$(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Xe(rl,Wu(Wu(Wu(Wu({},"".concat(rl,"-right"),he(n)&&t&&he(t.x)&&n>=t.x),"".concat(rl,"-left"),he(n)&&t&&he(t.x)&&n<t.x),"".concat(rl,"-bottom"),he(r)&&t&&he(t.y)&&r>=t.y),"".concat(rl,"-top"),he(r)&&t&&he(t.y)&&r<t.y))}function gk(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,a=e.offsetTopLeft,o=e.position,c=e.reverseDirection,u=e.tooltipDimension,f=e.viewBox,d=e.viewBoxDimension;if(o&&he(o[r]))return o[r];var h=n[r]-u-a,m=n[r]+a;if(t[r])return c[r]?h:m;if(c[r]){var g=h,v=f[r];return g<v?Math.max(m,f[r]):Math.max(h,f[r])}var j=m+u,w=f[r]+d;return j>w?Math.max(h,f[r]):Math.max(m,f[r])}function C$(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function A$(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,a=e.position,o=e.reverseDirection,c=e.tooltipBox,u=e.useTranslate3d,f=e.viewBox,d,h,m;return c.height>0&&c.width>0&&n?(h=gk({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:o,tooltipDimension:c.width,viewBox:f,viewBoxDimension:f.width}),m=gk({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:o,tooltipDimension:c.height,viewBox:f,viewBoxDimension:f.height}),d=C$({translateX:h,translateY:m,useTranslate3d:u})):d=S$,{cssProperties:d,cssClasses:k$({translateX:h,translateY:m,coordinate:n})}}function Ls(e){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ls(e)}function xk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function vk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xk(Object(n),!0).forEach(function(r){id(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function P$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,OD(r.key),r)}}function D$(e,t,n){return t&&E$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function O$(e,t,n){return t=wd(t),I$(e,DD()?Reflect.construct(t,n||[],wd(e).constructor):t.apply(e,n))}function I$(e,t){if(t&&(Ls(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ad(e)}function DD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DD=function(){return!!e})()}function wd(e){return wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wd(e)}function ad(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gv(e,t)}function gv(e,t){return gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},gv(e,t)}function id(e,t,n){return t=OD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OD(e){var t=_$(e,"string");return Ls(t)=="symbol"?t:String(t)}function _$(e,t){if(Ls(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ls(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yk=1,M$=(function(e){T$(t,e);function t(){var n;P$(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=O$(this,t,[].concat(a)),id(ad(n),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),id(ad(n),"lastBoundingBox",{width:-1,height:-1}),id(ad(n),"handleKeyDown",function(c){if(c.key==="Escape"){var u,f,d,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(f=n.props.coordinate)===null||f===void 0?void 0:f.x)!==null&&u!==void 0?u:0,y:(d=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&d!==void 0?d:0}})}}),n}return D$(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.lastBoundingBox.width)>yk||Math.abs(r.height-this.lastBoundingBox.height)>yk)&&(this.lastBoundingBox.width=r.width,this.lastBoundingBox.height=r.height)}else(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1)}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,a=this.props,o=a.active,c=a.allowEscapeViewBox,u=a.animationDuration,f=a.animationEasing,d=a.children,h=a.coordinate,m=a.hasPayload,g=a.isAnimationActive,v=a.offset,j=a.position,w=a.reverseDirection,b=a.useTranslate3d,y=a.viewBox,S=a.wrapperStyle,P=A$({allowEscapeViewBox:c,coordinate:h,offsetTopLeft:v,position:j,reverseDirection:w,tooltipBox:{height:this.lastBoundingBox.height,width:this.lastBoundingBox.width},useTranslate3d:b,viewBox:y}),k=P.cssClasses,C=P.cssProperties,E=vk(vk({transition:g&&o?"transform ".concat(u,"ms ").concat(f):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&m?"visible":"hidden",position:"absolute",top:0,left:0},S);return q.createElement("div",{tabIndex:-1,className:k,style:E,ref:function(I){r.wrapperNode=I}},d)}}]),t})(O.PureComponent),R$=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ei={isSsr:R$()};function Bs(e){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(e)}function bk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function wk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bk(Object(n),!0).forEach(function(r){rb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,TD(r.key),r)}}function L$(e,t,n){return t&&z$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function B$(e,t,n){return t=jd(t),F$(e,ID()?Reflect.construct(t,n||[],jd(e).constructor):t.apply(e,n))}function F$(e,t){if(t&&(Bs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U$(e)}function U$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ID(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ID=function(){return!!e})()}function jd(e){return jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jd(e)}function q$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xv(e,t)}function xv(e,t){return xv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},xv(e,t)}function rb(e,t,n){return t=TD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TD(e){var t=W$(e,"string");return Bs(t)=="symbol"?t:String(t)}function W$(e,t){if(Bs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Bs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function H$(e){return e.dataKey}function V$(e,t){return q.isValidElement(e)?q.cloneElement(e,t):typeof e=="function"?q.createElement(e,t):q.createElement(w$,t)}var dr=(function(e){q$(t,e);function t(){return $$(this,t),B$(this,t,arguments)}return L$(t,[{key:"render",value:function(){var r=this,a=this.props,o=a.active,c=a.allowEscapeViewBox,u=a.animationDuration,f=a.animationEasing,d=a.content,h=a.coordinate,m=a.filterNull,g=a.isAnimationActive,v=a.offset,j=a.payload,w=a.payloadUniqBy,b=a.position,y=a.reverseDirection,S=a.useTranslate3d,P=a.viewBox,k=a.wrapperStyle,C=j??[];m&&C.length&&(C=jD(j.filter(function(D){return D.value!=null&&(D.hide!==!0||r.props.includeHidden)}),w,H$));var E=C.length>0;return q.createElement(M$,{allowEscapeViewBox:c,animationDuration:u,animationEasing:f,isAnimationActive:g,active:o,coordinate:h,hasPayload:E,offset:v,position:b,reverseDirection:y,useTranslate3d:S,viewBox:P,wrapperStyle:k},V$(d,wk(wk({},this.props),{},{payload:C})))}}]),t})(O.PureComponent);rb(dr,"displayName","Tooltip");rb(dr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ei.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Lg,jk;function K$(){if(jk)return Lg;jk=1;var e=$r(),t=function(){return e.Date.now()};return Lg=t,Lg}var Bg,Nk;function G$(){if(Nk)return Bg;Nk=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return Bg=t,Bg}var Fg,Sk;function Y$(){if(Sk)return Fg;Sk=1;var e=G$(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return Fg=n,Fg}var Ug,kk;function _D(){if(kk)return Ug;kk=1;var e=Y$(),t=Za(),n=oo(),r=NaN,a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;function f(d){if(typeof d=="number")return d;if(n(d))return r;if(t(d)){var h=typeof d.valueOf=="function"?d.valueOf():d;d=t(h)?h+"":h}if(typeof d!="string")return d===0?d:+d;d=e(d);var m=o.test(d);return m||c.test(d)?u(d.slice(2),m?2:8):a.test(d)?r:+d}return Ug=f,Ug}var qg,Ck;function X$(){if(Ck)return qg;Ck=1;var e=Za(),t=K$(),n=_D(),r="Expected a function",a=Math.max,o=Math.min;function c(u,f,d){var h,m,g,v,j,w,b=0,y=!1,S=!1,P=!0;if(typeof u!="function")throw new TypeError(r);f=n(f)||0,e(d)&&(y=!!d.leading,S="maxWait"in d,g=S?a(n(d.maxWait)||0,f):g,P="trailing"in d?!!d.trailing:P);function k(L){var z=h,H=m;return h=m=void 0,b=L,v=u.apply(H,z),v}function C(L){return b=L,j=setTimeout(I,f),y?k(L):v}function E(L){var z=L-w,H=L-b,U=f-z;return S?o(U,g-H):U}function D(L){var z=L-w,H=L-b;return w===void 0||z>=f||z<0||S&&H>=g}function I(){var L=t();if(D(L))return $(L);j=setTimeout(I,E(L))}function $(L){return j=void 0,P&&h?k(L):(h=m=void 0,v)}function B(){j!==void 0&&clearTimeout(j),b=0,h=w=m=j=void 0}function _(){return j===void 0?v:$(t())}function R(){var L=t(),z=D(L);if(h=arguments,m=this,w=L,z){if(j===void 0)return C(w);if(S)return clearTimeout(j),j=setTimeout(I,f),k(w)}return j===void 0&&(j=setTimeout(I,f)),v}return R.cancel=B,R.flush=_,R}return qg=c,qg}var Wg,Ak;function Q$(){if(Ak)return Wg;Ak=1;var e=X$(),t=Za(),n="Expected a function";function r(a,o,c){var u=!0,f=!0;if(typeof a!="function")throw new TypeError(n);return t(c)&&(u="leading"in c?!!c.leading:u,f="trailing"in c?!!c.trailing:f),e(a,o,{leading:u,maxWait:o,trailing:f})}return Wg=r,Wg}var Z$=Q$();const MD=lt(Z$);function zl(e){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zl(e)}function Pk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Hu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pk(Object(n),!0).forEach(function(r){J$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function J$(e,t,n){return t=e8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e8(e){var t=t8(e,"string");return zl(t)=="symbol"?t:String(t)}function t8(e,t){if(zl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n8(e,t){return s8(e)||i8(e,t)||a8(e,t)||r8()}function r8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a8(e,t){if(e){if(typeof e=="string")return Ek(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ek(e,t)}}function Ek(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i8(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,o,c,u=[],f=!0,d=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(f=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);f=!0);}catch(h){d=!0,a=h}finally{try{if(!f&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(d)throw a}}return u}}function s8(e){if(Array.isArray(e))return e}var Dk=O.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,a=r===void 0?{width:-1,height:-1}:r,o=e.width,c=o===void 0?"100%":o,u=e.height,f=u===void 0?"100%":u,d=e.minWidth,h=d===void 0?0:d,m=e.minHeight,g=e.maxHeight,v=e.children,j=e.debounce,w=j===void 0?0:j,b=e.id,y=e.className,S=e.onResize,P=e.style,k=P===void 0?{}:P,C=O.useRef(null),E=O.useRef();E.current=S,O.useImperativeHandle(t,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var D=O.useState({containerWidth:a.width,containerHeight:a.height}),I=n8(D,2),$=I[0],B=I[1],_=O.useCallback(function(L,z){B(function(H){var U=Math.round(L),Q=Math.round(z);return H.containerWidth===U&&H.containerHeight===Q?H:{containerWidth:U,containerHeight:Q}})},[]);O.useEffect(function(){var L=function(Y){var M,X=Y[0].contentRect,ee=X.width,ne=X.height;_(ee,ne),(M=E.current)===null||M===void 0||M.call(E,ee,ne)};w>0&&(L=MD(L,w,{trailing:!0,leading:!1}));var z=new ResizeObserver(L),H=C.current.getBoundingClientRect(),U=H.width,Q=H.height;return _(U,Q),z.observe(C.current),function(){z.disconnect()}},[_,w]);var R=O.useMemo(function(){var L=$.containerWidth,z=$.containerHeight;if(L<0||z<0)return null;na(Si(c)||Si(f),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,c,f),na(!n||n>0,"The aspect(%s) must be greater than zero.",n);var H=Si(c)?L:c,U=Si(f)?z:f;n&&n>0&&(H?U=H/n:U&&(H=U*n),g&&U>g&&(U=g)),na(H>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,U,c,f,h,m,n);var Q=!Array.isArray(v)&&ev.isElement(v)&&ta(v.type).endsWith("Chart");return q.Children.map(v,function(G){return ev.isElement(G)?O.cloneElement(G,Hu({width:H,height:U},Q?{style:Hu({height:"100%",width:"100%",maxHeight:U,maxWidth:H},G.props.style)}:{})):G})},[n,v,f,g,m,h,$,c]);return q.createElement("div",{id:b?"".concat(b):void 0,className:Xe("recharts-responsive-container",y),style:Hu(Hu({},k),{},{width:c,height:f,minWidth:h,minHeight:m,maxHeight:g}),ref:C},R)}),ab=function(t){return null};ab.displayName="Cell";function Ll(e){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ll(e)}function Ok(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function vv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ok(Object(n),!0).forEach(function(r){o8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ok(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function o8(e,t,n){return t=l8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l8(e){var t=c8(e,"string");return Ll(t)=="symbol"?t:String(t)}function c8(e,t){if(Ll(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ws={widthCache:{},cacheCount:0},u8=2e3,d8={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Ik="recharts_measurement_span";function f8(e){var t=vv({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var bl=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ei.isSsr)return{width:0,height:0};var r=f8(n),a=JSON.stringify({text:t,copyStyle:r});if(ws.widthCache[a])return ws.widthCache[a];try{var o=document.getElementById(Ik);o||(o=document.createElement("span"),o.setAttribute("id",Ik),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var c=vv(vv({},d8),r);Object.assign(o.style,c),o.textContent="".concat(t);var u=o.getBoundingClientRect(),f={width:u.width,height:u.height};return ws.widthCache[a]=f,++ws.cacheCount>u8&&(ws.cacheCount=0,ws.widthCache={}),f}catch{return{width:0,height:0}}},p8=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Bl(e){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bl(e)}function Nd(e,t){return x8(e)||g8(e,t)||m8(e,t)||h8()}function h8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m8(e,t){if(e){if(typeof e=="string")return Tk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tk(e,t)}}function Tk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g8(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,o,c,u=[],f=!0,d=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);f=!0);}catch(h){d=!0,a=h}finally{try{if(!f&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(d)throw a}}return u}}function x8(e){if(Array.isArray(e))return e}function v8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b8(r.key),r)}}function y8(e,t,n){return t&&_k(e.prototype,t),n&&_k(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b8(e){var t=w8(e,"string");return Bl(t)=="symbol"?t:String(t)}function w8(e,t){if(Bl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Mk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Rk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,j8=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,N8=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,RD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},S8=Object.keys(RD),Es="NaN";function k8(e,t){return e*RD[t]}var Vu=(function(){function e(t,n){v8(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!j8.test(n)&&(this.num=NaN,this.unit=""),S8.includes(n)&&(this.num=k8(t,n),this.unit="px")}return y8(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,a=(r=N8.exec(n))!==null&&r!==void 0?r:[],o=Nd(a,3),c=o[1],u=o[2];return new e(parseFloat(c),u??"")}}]),e})();function $D(e){if(e.includes(Es))return Es;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=Mk.exec(t))!==null&&n!==void 0?n:[],a=Nd(r,4),o=a[1],c=a[2],u=a[3],f=Vu.parse(o??""),d=Vu.parse(u??""),h=c==="*"?f.multiply(d):f.divide(d);if(h.isNaN())return Es;t=t.replace(Mk,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,g=(m=Rk.exec(t))!==null&&m!==void 0?m:[],v=Nd(g,4),j=v[1],w=v[2],b=v[3],y=Vu.parse(j??""),S=Vu.parse(b??""),P=w==="+"?y.add(S):y.subtract(S);if(P.isNaN())return Es;t=t.replace(Rk,P.toString())}return t}var $k=/\(([^()]*)\)/;function C8(e){for(var t=e;t.includes("(");){var n=$k.exec(t),r=Nd(n,2),a=r[1];t=t.replace($k,$D(a))}return t}function A8(e){var t=e.replace(/\s+/g,"");return t=C8(t),t=$D(t),t}function P8(e){try{return A8(e)}catch{return Es}}function Hg(e){var t=P8(e.slice(5,-1));return t===Es?"":t}var E8=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],D8=["dx","dy","angle","className","breakAll"];function yv(){return yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yv.apply(this,arguments)}function zk(e,t){if(e==null)return{};var n=O8(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function O8(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function Lk(e,t){return M8(e)||_8(e,t)||T8(e,t)||I8()}function I8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T8(e,t){if(e){if(typeof e=="string")return Bk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bk(e,t)}}function Bk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _8(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,o,c,u=[],f=!0,d=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);f=!0);}catch(h){d=!0,a=h}finally{try{if(!f&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(d)throw a}}return u}}function M8(e){if(Array.isArray(e))return e}var zD=/[ \f\n\r\t\v\u2028\u2029]+/,LD=function(t){var n=t.children,r=t.breakAll,a=t.style;try{var o=[];Be(n)||(r?o=n.toString().split(""):o=n.toString().split(zD));var c=o.map(function(f){return{word:f,width:bl(f,a).width}}),u=r?0:bl("",a).width;return{wordsWithComputedWidth:c,spaceWidth:u}}catch{return null}},R8=function(t,n,r,a,o){var c=t.maxLines,u=t.children,f=t.style,d=t.breakAll,h=he(c),m=u,g=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce(function(U,Q){var G=Q.word,Y=Q.width,M=U[U.length-1];if(M&&(a==null||o||M.width+Y+r<Number(a)))M.words.push(G),M.width+=Y+r;else{var X={words:[G],width:Y};U.push(X)}return U},[])},v=g(n),j=function(H){return H.reduce(function(U,Q){return U.width>Q.width?U:Q})};if(!h)return v;for(var w="",b=function(H){var U=m.slice(0,H),Q=LD({breakAll:d,style:f,children:U+w}).wordsWithComputedWidth,G=g(Q),Y=G.length>c||j(G).width>Number(a);return[Y,G]},y=0,S=m.length-1,P=0,k;y<=S&&P<=m.length-1;){var C=Math.floor((y+S)/2),E=C-1,D=b(E),I=Lk(D,2),$=I[0],B=I[1],_=b(C),R=Lk(_,1),L=R[0];if(!$&&!L&&(y=C+1),$&&L&&(S=C-1),!$&&L){k=B;break}P++}return k||v},Fk=function(t){var n=Be(t)?[]:t.toString().split(zD);return[{words:n}]},$8=function(t){var n=t.width,r=t.scaleToFit,a=t.children,o=t.style,c=t.breakAll,u=t.maxLines;if((n||r)&&!ei.isSsr){var f,d,h=LD({breakAll:c,children:a,style:o});if(h){var m=h.wordsWithComputedWidth,g=h.spaceWidth;f=m,d=g}else return Fk(a);return R8({breakAll:c,children:a,maxLines:u,style:o},f,d,n,r)}return Fk(a)},Uk="#808080",Sd=function(t){var n=t.x,r=n===void 0?0:n,a=t.y,o=a===void 0?0:a,c=t.lineHeight,u=c===void 0?"1em":c,f=t.capHeight,d=f===void 0?"0.71em":f,h=t.scaleToFit,m=h===void 0?!1:h,g=t.textAnchor,v=g===void 0?"start":g,j=t.verticalAnchor,w=j===void 0?"end":j,b=t.fill,y=b===void 0?Uk:b,S=zk(t,E8),P=O.useMemo(function(){return $8({breakAll:S.breakAll,children:S.children,maxLines:S.maxLines,scaleToFit:m,style:S.style,width:S.width})},[S.breakAll,S.children,S.maxLines,m,S.style,S.width]),k=S.dx,C=S.dy,E=S.angle,D=S.className,I=S.breakAll,$=zk(S,D8);if(!Tt(r)||!Tt(o))return null;var B=r+(he(k)?k:0),_=o+(he(C)?C:0),R;switch(w){case"start":R=Hg("calc(".concat(d,")"));break;case"middle":R=Hg("calc(".concat((P.length-1)/2," * -").concat(u," + (").concat(d," / 2))"));break;default:R=Hg("calc(".concat(P.length-1," * -").concat(u,")"));break}var L=[];if(m){var z=P[0].width,H=S.width;L.push("scale(".concat((he(H)?H/z:1)/z,")"))}return E&&L.push("rotate(".concat(E,", ").concat(B,", ").concat(_,")")),L.length&&($.transform=L.join(" ")),q.createElement("text",yv({},Le($,!0),{x:B,y:_,className:Xe("recharts-text",D),textAnchor:v,fill:y.includes("url")?Uk:y}),P.map(function(U,Q){var G=U.words.join(I?"":" ");return q.createElement("tspan",{x:B,dy:Q===0?R:u,key:G},G)}))};function Ka(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function z8(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ib(e){let t,n,r;e.length!==2?(t=Ka,n=(u,f)=>Ka(e(u),f),r=(u,f)=>e(u)-f):(t=e===Ka||e===z8?e:L8,n=e,r=e);function a(u,f,d=0,h=u.length){if(d<h){if(t(f,f)!==0)return h;do{const m=d+h>>>1;n(u[m],f)<0?d=m+1:h=m}while(d<h)}return d}function o(u,f,d=0,h=u.length){if(d<h){if(t(f,f)!==0)return h;do{const m=d+h>>>1;n(u[m],f)<=0?d=m+1:h=m}while(d<h)}return d}function c(u,f,d=0,h=u.length){const m=a(u,f,d,h-1);return m>d&&r(u[m-1],f)>-r(u[m],f)?m-1:m}return{left:a,center:c,right:o}}function L8(){return 0}function BD(e){return e===null?NaN:+e}function*B8(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const F8=ib(Ka),kc=F8.right;ib(BD).center;class qk extends Map{constructor(t,n=W8){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(Wk(this,t))}has(t){return super.has(Wk(this,t))}set(t,n){return super.set(U8(this,t),n)}delete(t){return super.delete(q8(this,t))}}function Wk({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function U8({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function q8({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function W8(e){return e!==null&&typeof e=="object"?e.valueOf():e}function H8(e=Ka){if(e===Ka)return FD;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function FD(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const V8=Math.sqrt(50),K8=Math.sqrt(10),G8=Math.sqrt(2);function kd(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),o=r/Math.pow(10,a),c=o>=V8?10:o>=K8?5:o>=G8?2:1;let u,f,d;return a<0?(d=Math.pow(10,-a)/c,u=Math.round(e*d),f=Math.round(t*d),u/d<e&&++u,f/d>t&&--f,d=-d):(d=Math.pow(10,a)*c,u=Math.round(e/d),f=Math.round(t/d),u*d<e&&++u,f*d>t&&--f),f<u&&.5<=n&&n<2?kd(e,t,n*2):[u,f,d]}function bv(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,o,c]=r?kd(t,e,n):kd(e,t,n);if(!(o>=a))return[];const u=o-a+1,f=new Array(u);if(r)if(c<0)for(let d=0;d<u;++d)f[d]=(o-d)/-c;else for(let d=0;d<u;++d)f[d]=(o-d)*c;else if(c<0)for(let d=0;d<u;++d)f[d]=(a+d)/-c;else for(let d=0;d<u;++d)f[d]=(a+d)*c;return f}function wv(e,t,n){return t=+t,e=+e,n=+n,kd(e,t,n)[2]}function jv(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?wv(t,e,n):wv(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function Hk(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Vk(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function UD(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?FD:H8(a);r>n;){if(r-n>600){const f=r-n+1,d=t-n+1,h=Math.log(f),m=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*m*(f-m)/f)*(d-f/2<0?-1:1),v=Math.max(n,Math.floor(t-d*m/f+g)),j=Math.min(r,Math.floor(t+(f-d)*m/f+g));UD(e,t,v,j,a)}const o=e[t];let c=n,u=r;for(al(e,n,t),a(e[r],o)>0&&al(e,n,r);c<u;){for(al(e,c,u),++c,--u;a(e[c],o)<0;)++c;for(;a(e[u],o)>0;)--u}a(e[n],o)===0?al(e,n,u):(++u,al(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function al(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Y8(e,t,n){if(e=Float64Array.from(B8(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Vk(e);if(t>=1)return Hk(e);var r,a=(r-1)*t,o=Math.floor(a),c=Hk(UD(e,o).subarray(0,o+1)),u=Vk(e.subarray(o+1));return c+(u-c)*(a-o)}}function X8(e,t,n=BD){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,o=Math.floor(a),c=+n(e[o],o,e),u=+n(e[o+1],o+1,e);return c+(u-c)*(a-o)}}function Q8(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(a);++r<a;)o[r]=e+r*n;return o}function tr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ma(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Nv=Symbol("implicit");function sb(){var e=new qk,t=[],n=[],r=Nv;function a(o){let c=e.get(o);if(c===void 0){if(r!==Nv)return r;e.set(o,c=t.push(o)-1)}return n[c%n.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new qk;for(const c of o)e.has(c)||e.set(c,t.push(c)-1);return a},a.range=function(o){return arguments.length?(n=Array.from(o),a):n.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return sb(t,n).unknown(r)},tr.apply(a,arguments),a}function Fl(){var e=sb().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,o,c,u=!1,f=0,d=0,h=.5;delete e.unknown;function m(){var g=t().length,v=a<r,j=v?a:r,w=v?r:a;o=(w-j)/Math.max(1,g-f+d*2),u&&(o=Math.floor(o)),j+=(w-j-o*(g-f))*h,c=o*(1-f),u&&(j=Math.round(j),c=Math.round(c));var b=Q8(g).map(function(y){return j+o*y});return n(v?b.reverse():b)}return e.domain=function(g){return arguments.length?(t(g),m()):t()},e.range=function(g){return arguments.length?([r,a]=g,r=+r,a=+a,m()):[r,a]},e.rangeRound=function(g){return[r,a]=g,r=+r,a=+a,u=!0,m()},e.bandwidth=function(){return c},e.step=function(){return o},e.round=function(g){return arguments.length?(u=!!g,m()):u},e.padding=function(g){return arguments.length?(f=Math.min(1,d=+g),m()):f},e.paddingInner=function(g){return arguments.length?(f=Math.min(1,g),m()):f},e.paddingOuter=function(g){return arguments.length?(d=+g,m()):d},e.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),m()):h},e.copy=function(){return Fl(t(),[r,a]).round(u).paddingInner(f).paddingOuter(d).align(h)},tr.apply(m(),arguments)}function qD(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return qD(t())},e}function wl(){return qD(Fl.apply(null,arguments).paddingInner(1))}function ob(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function WD(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Cc(){}var Ul=.7,Cd=1/Ul,Is="\\s*([+-]?\\d+)\\s*",ql="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ir="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Z8=/^#([0-9a-f]{3,8})$/,J8=new RegExp(`^rgb\\(${Is},${Is},${Is}\\)$`),ez=new RegExp(`^rgb\\(${Ir},${Ir},${Ir}\\)$`),tz=new RegExp(`^rgba\\(${Is},${Is},${Is},${ql}\\)$`),nz=new RegExp(`^rgba\\(${Ir},${Ir},${Ir},${ql}\\)$`),rz=new RegExp(`^hsl\\(${ql},${Ir},${Ir}\\)$`),az=new RegExp(`^hsla\\(${ql},${Ir},${Ir},${ql}\\)$`),Kk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ob(Cc,Wl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Gk,formatHex:Gk,formatHex8:iz,formatHsl:sz,formatRgb:Yk,toString:Yk});function Gk(){return this.rgb().formatHex()}function iz(){return this.rgb().formatHex8()}function sz(){return HD(this).formatHsl()}function Yk(){return this.rgb().formatRgb()}function Wl(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Z8.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Xk(t):n===3?new jn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ku(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ku(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=J8.exec(e))?new jn(t[1],t[2],t[3],1):(t=ez.exec(e))?new jn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=tz.exec(e))?Ku(t[1],t[2],t[3],t[4]):(t=nz.exec(e))?Ku(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=rz.exec(e))?Jk(t[1],t[2]/100,t[3]/100,1):(t=az.exec(e))?Jk(t[1],t[2]/100,t[3]/100,t[4]):Kk.hasOwnProperty(e)?Xk(Kk[e]):e==="transparent"?new jn(NaN,NaN,NaN,0):null}function Xk(e){return new jn(e>>16&255,e>>8&255,e&255,1)}function Ku(e,t,n,r){return r<=0&&(e=t=n=NaN),new jn(e,t,n,r)}function oz(e){return e instanceof Cc||(e=Wl(e)),e?(e=e.rgb(),new jn(e.r,e.g,e.b,e.opacity)):new jn}function Sv(e,t,n,r){return arguments.length===1?oz(e):new jn(e,t,n,r??1)}function jn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ob(jn,Sv,WD(Cc,{brighter(e){return e=e==null?Cd:Math.pow(Cd,e),new jn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ul:Math.pow(Ul,e),new jn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new jn(Oi(this.r),Oi(this.g),Oi(this.b),Ad(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qk,formatHex:Qk,formatHex8:lz,formatRgb:Zk,toString:Zk}));function Qk(){return`#${ki(this.r)}${ki(this.g)}${ki(this.b)}`}function lz(){return`#${ki(this.r)}${ki(this.g)}${ki(this.b)}${ki((isNaN(this.opacity)?1:this.opacity)*255)}`}function Zk(){const e=Ad(this.opacity);return`${e===1?"rgb(":"rgba("}${Oi(this.r)}, ${Oi(this.g)}, ${Oi(this.b)}${e===1?")":`, ${e})`}`}function Ad(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Oi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ki(e){return e=Oi(e),(e<16?"0":"")+e.toString(16)}function Jk(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new hr(e,t,n,r)}function HD(e){if(e instanceof hr)return new hr(e.h,e.s,e.l,e.opacity);if(e instanceof Cc||(e=Wl(e)),!e)return new hr;if(e instanceof hr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),o=Math.max(t,n,r),c=NaN,u=o-a,f=(o+a)/2;return u?(t===o?c=(n-r)/u+(n<r)*6:n===o?c=(r-t)/u+2:c=(t-n)/u+4,u/=f<.5?o+a:2-o-a,c*=60):u=f>0&&f<1?0:c,new hr(c,u,f,e.opacity)}function cz(e,t,n,r){return arguments.length===1?HD(e):new hr(e,t,n,r??1)}function hr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ob(hr,cz,WD(Cc,{brighter(e){return e=e==null?Cd:Math.pow(Cd,e),new hr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ul:Math.pow(Ul,e),new hr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new jn(Vg(e>=240?e-240:e+120,a,r),Vg(e,a,r),Vg(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new hr(eC(this.h),Gu(this.s),Gu(this.l),Ad(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ad(this.opacity);return`${e===1?"hsl(":"hsla("}${eC(this.h)}, ${Gu(this.s)*100}%, ${Gu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function eC(e){return e=(e||0)%360,e<0?e+360:e}function Gu(e){return Math.max(0,Math.min(1,e||0))}function Vg(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const lb=e=>()=>e;function uz(e,t){return function(n){return e+n*t}}function dz(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function fz(e){return(e=+e)==1?VD:function(t,n){return n-t?dz(t,n,e):lb(isNaN(t)?n:t)}}function VD(e,t){var n=t-e;return n?uz(e,n):lb(isNaN(e)?t:e)}const tC=(function e(t){var n=fz(t);function r(a,o){var c=n((a=Sv(a)).r,(o=Sv(o)).r),u=n(a.g,o.g),f=n(a.b,o.b),d=VD(a.opacity,o.opacity);return function(h){return a.r=c(h),a.g=u(h),a.b=f(h),a.opacity=d(h),a+""}}return r.gamma=e,r})(1);function pz(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(o){for(a=0;a<n;++a)r[a]=e[a]*(1-o)+t[a]*o;return r}}function hz(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function mz(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),o=new Array(n),c;for(c=0;c<r;++c)a[c]=fo(e[c],t[c]);for(;c<n;++c)o[c]=t[c];return function(u){for(c=0;c<r;++c)o[c]=a[c](u);return o}}function gz(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Pd(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function xz(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=fo(e[a],t[a]):r[a]=t[a];return function(o){for(a in n)r[a]=n[a](o);return r}}var kv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kg=new RegExp(kv.source,"g");function vz(e){return function(){return e}}function yz(e){return function(t){return e(t)+""}}function bz(e,t){var n=kv.lastIndex=Kg.lastIndex=0,r,a,o,c=-1,u=[],f=[];for(e=e+"",t=t+"";(r=kv.exec(e))&&(a=Kg.exec(t));)(o=a.index)>n&&(o=t.slice(n,o),u[c]?u[c]+=o:u[++c]=o),(r=r[0])===(a=a[0])?u[c]?u[c]+=a:u[++c]=a:(u[++c]=null,f.push({i:c,x:Pd(r,a)})),n=Kg.lastIndex;return n<t.length&&(o=t.slice(n),u[c]?u[c]+=o:u[++c]=o),u.length<2?f[0]?yz(f[0].x):vz(t):(t=f.length,function(d){for(var h=0,m;h<t;++h)u[(m=f[h]).i]=m.x(d);return u.join("")})}function fo(e,t){var n=typeof t,r;return t==null||n==="boolean"?lb(t):(n==="number"?Pd:n==="string"?(r=Wl(t))?(t=r,tC):bz:t instanceof Wl?tC:t instanceof Date?gz:hz(t)?pz:Array.isArray(t)?mz:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?xz:Pd)(e,t)}function cb(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function wz(e,t){t===void 0&&(t=e,e=fo);for(var n=0,r=t.length-1,a=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(a,a=t[++n]);return function(c){var u=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return o[u](c-u)}}function jz(e){return function(){return e}}function Ed(e){return+e}var nC=[0,1];function fn(e){return e}function Cv(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:jz(isNaN(t)?NaN:.5)}function Nz(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Sz(e,t,n){var r=e[0],a=e[1],o=t[0],c=t[1];return a<r?(r=Cv(a,r),o=n(c,o)):(r=Cv(r,a),o=n(o,c)),function(u){return o(r(u))}}function kz(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),o=new Array(r),c=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<r;)a[c]=Cv(e[c],e[c+1]),o[c]=n(t[c],t[c+1]);return function(u){var f=kc(e,u,1,r)-1;return o[f](a[f](u))}}function Ac(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Af(){var e=nC,t=nC,n=fo,r,a,o,c=fn,u,f,d;function h(){var g=Math.min(e.length,t.length);return c!==fn&&(c=Nz(e[0],e[g-1])),u=g>2?kz:Sz,f=d=null,m}function m(g){return g==null||isNaN(g=+g)?o:(f||(f=u(e.map(r),t,n)))(r(c(g)))}return m.invert=function(g){return c(a((d||(d=u(t,e.map(r),Pd)))(g)))},m.domain=function(g){return arguments.length?(e=Array.from(g,Ed),h()):e.slice()},m.range=function(g){return arguments.length?(t=Array.from(g),h()):t.slice()},m.rangeRound=function(g){return t=Array.from(g),n=cb,h()},m.clamp=function(g){return arguments.length?(c=g?!0:fn,h()):c!==fn},m.interpolate=function(g){return arguments.length?(n=g,h()):n},m.unknown=function(g){return arguments.length?(o=g,m):o},function(g,v){return r=g,a=v,h()}}function ub(){return Af()(fn,fn)}function Cz(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Dd(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Fs(e){return e=Dd(Math.abs(e)),e?e[1]:NaN}function Az(e,t){return function(n,r){for(var a=n.length,o=[],c=0,u=e[0],f=0;a>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),o.push(n.substring(a-=u,a+u)),!((f+=u+1)>r));)u=e[c=(c+1)%e.length];return o.reverse().join(t)}}function Pz(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Ez=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Hl(e){if(!(t=Ez.exec(e)))throw new Error("invalid format: "+e);var t;return new db({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Hl.prototype=db.prototype;function db(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}db.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Dz(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var Od;function Oz(e,t){var n=Dd(e,t);if(!n)return Od=void 0,e.toPrecision(t);var r=n[0],a=n[1],o=a-(Od=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,c=r.length;return o===c?r:o>c?r+new Array(o-c+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Dd(e,Math.max(0,t+o-1))[0]}function rC(e,t){var n=Dd(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const aC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Cz,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>rC(e*100,t),r:rC,s:Oz,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function iC(e){return e}var sC=Array.prototype.map,oC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Iz(e){var t=e.grouping===void 0||e.thousands===void 0?iC:Az(sC.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?iC:Pz(sC.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function d(m,g){m=Hl(m);var v=m.fill,j=m.align,w=m.sign,b=m.symbol,y=m.zero,S=m.width,P=m.comma,k=m.precision,C=m.trim,E=m.type;E==="n"?(P=!0,E="g"):aC[E]||(k===void 0&&(k=12),C=!0,E="g"),(y||v==="0"&&j==="=")&&(y=!0,v="0",j="=");var D=(g&&g.prefix!==void 0?g.prefix:"")+(b==="$"?n:b==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():""),I=(b==="$"?r:/[%p]/.test(E)?c:"")+(g&&g.suffix!==void 0?g.suffix:""),$=aC[E],B=/[defgprs%]/.test(E);k=k===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function _(R){var L=D,z=I,H,U,Q;if(E==="c")z=$(R)+z,R="";else{R=+R;var G=R<0||1/R<0;if(R=isNaN(R)?f:$(Math.abs(R),k),C&&(R=Dz(R)),G&&+R==0&&w!=="+"&&(G=!1),L=(G?w==="("?w:u:w==="-"||w==="("?"":w)+L,z=(E==="s"&&!isNaN(R)&&Od!==void 0?oC[8+Od/3]:"")+z+(G&&w==="("?")":""),B){for(H=-1,U=R.length;++H<U;)if(Q=R.charCodeAt(H),48>Q||Q>57){z=(Q===46?a+R.slice(H+1):R.slice(H))+z,R=R.slice(0,H);break}}}P&&!y&&(R=t(R,1/0));var Y=L.length+R.length+z.length,M=Y<S?new Array(S-Y+1).join(v):"";switch(P&&y&&(R=t(M+R,M.length?S-z.length:1/0),M=""),j){case"<":R=L+R+z+M;break;case"=":R=L+M+R+z;break;case"^":R=M.slice(0,Y=M.length>>1)+L+R+z+M.slice(Y);break;default:R=M+L+R+z;break}return o(R)}return _.toString=function(){return m+""},_}function h(m,g){var v=Math.max(-8,Math.min(8,Math.floor(Fs(g)/3)))*3,j=Math.pow(10,-v),w=d((m=Hl(m),m.type="f",m),{suffix:oC[8+v/3]});return function(b){return w(j*b)}}return{format:d,formatPrefix:h}}var Yu,fb,KD;Tz({thousands:",",grouping:[3],currency:["$",""]});function Tz(e){return Yu=Iz(e),fb=Yu.format,KD=Yu.formatPrefix,Yu}function _z(e){return Math.max(0,-Fs(Math.abs(e)))}function Mz(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fs(t)/3)))*3-Fs(Math.abs(e)))}function Rz(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Fs(t)-Fs(e))+1}function GD(e,t,n,r){var a=jv(e,t,n),o;switch(r=Hl(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=Mz(a,c))&&(r.precision=o),KD(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Rz(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=_z(a))&&(r.precision=o-(r.type==="%")*2);break}}return fb(r)}function ti(e){var t=e.domain;return e.ticks=function(n){var r=t();return bv(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return GD(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,o=r.length-1,c=r[a],u=r[o],f,d,h=10;for(u<c&&(d=c,c=u,u=d,d=a,a=o,o=d);h-- >0;){if(d=wv(c,u,n),d===f)return r[a]=c,r[o]=u,t(r);if(d>0)c=Math.floor(c/d)*d,u=Math.ceil(u/d)*d;else if(d<0)c=Math.ceil(c*d)/d,u=Math.floor(u*d)/d;else break;f=d}return e},e}function Id(){var e=ub();return e.copy=function(){return Ac(e,Id())},tr.apply(e,arguments),ti(e)}function YD(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Ed),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return YD(e).unknown(t)},e=arguments.length?Array.from(e,Ed):[0,1],ti(n)}function XD(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],o=e[r],c;return o<a&&(c=n,n=r,r=c,c=a,a=o,o=c),e[n]=t.floor(a),e[r]=t.ceil(o),e}function lC(e){return Math.log(e)}function cC(e){return Math.exp(e)}function $z(e){return-Math.log(-e)}function zz(e){return-Math.exp(-e)}function Lz(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Bz(e){return e===10?Lz:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Fz(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function uC(e){return(t,n)=>-e(-t,n)}function pb(e){const t=e(lC,cC),n=t.domain;let r=10,a,o;function c(){return a=Fz(r),o=Bz(r),n()[0]<0?(a=uC(a),o=uC(o),e($z,zz)):e(lC,cC),t}return t.base=function(u){return arguments.length?(r=+u,c()):r},t.domain=function(u){return arguments.length?(n(u),c()):n()},t.ticks=u=>{const f=n();let d=f[0],h=f[f.length-1];const m=h<d;m&&([d,h]=[h,d]);let g=a(d),v=a(h),j,w;const b=u==null?10:+u;let y=[];if(!(r%1)&&v-g<b){if(g=Math.floor(g),v=Math.ceil(v),d>0){for(;g<=v;++g)for(j=1;j<r;++j)if(w=g<0?j/o(-g):j*o(g),!(w<d)){if(w>h)break;y.push(w)}}else for(;g<=v;++g)for(j=r-1;j>=1;--j)if(w=g>0?j/o(-g):j*o(g),!(w<d)){if(w>h)break;y.push(w)}y.length*2<b&&(y=bv(d,h,b))}else y=bv(g,v,Math.min(v-g,b)).map(o);return m?y.reverse():y},t.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Hl(f)).precision==null&&(f.trim=!0),f=fb(f)),u===1/0)return f;const d=Math.max(1,r*u/t.ticks().length);return h=>{let m=h/o(Math.round(a(h)));return m*r<r-.5&&(m*=r),m<=d?f(h):""}},t.nice=()=>n(XD(n(),{floor:u=>o(Math.floor(a(u))),ceil:u=>o(Math.ceil(a(u)))})),t}function QD(){const e=pb(Af()).domain([1,10]);return e.copy=()=>Ac(e,QD()).base(e.base()),tr.apply(e,arguments),e}function dC(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function fC(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function hb(e){var t=1,n=e(dC(t),fC(t));return n.constant=function(r){return arguments.length?e(dC(t=+r),fC(t)):t},ti(n)}function ZD(){var e=hb(Af());return e.copy=function(){return Ac(e,ZD()).constant(e.constant())},tr.apply(e,arguments)}function pC(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Uz(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function qz(e){return e<0?-e*e:e*e}function mb(e){var t=e(fn,fn),n=1;function r(){return n===1?e(fn,fn):n===.5?e(Uz,qz):e(pC(n),pC(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},ti(t)}function gb(){var e=mb(Af());return e.copy=function(){return Ac(e,gb()).exponent(e.exponent())},tr.apply(e,arguments),e}function Wz(){return gb.apply(null,arguments).exponent(.5)}function hC(e){return Math.sign(e)*e*e}function Hz(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function JD(){var e=ub(),t=[0,1],n=!1,r;function a(o){var c=Hz(e(o));return isNaN(c)?r:n?Math.round(c):c}return a.invert=function(o){return e.invert(hC(o))},a.domain=function(o){return arguments.length?(e.domain(o),a):e.domain()},a.range=function(o){return arguments.length?(e.range((t=Array.from(o,Ed)).map(hC)),a):t.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(n=!!o,a):n},a.clamp=function(o){return arguments.length?(e.clamp(o),a):e.clamp()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return JD(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},tr.apply(a,arguments),ti(a)}function eO(){var e=[],t=[],n=[],r;function a(){var c=0,u=Math.max(1,t.length);for(n=new Array(u-1);++c<u;)n[c-1]=X8(e,c/u);return o}function o(c){return c==null||isNaN(c=+c)?r:t[kc(n,c)]}return o.invertExtent=function(c){var u=t.indexOf(c);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},o.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let u of c)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Ka),a()},o.range=function(c){return arguments.length?(t=Array.from(c),a()):t.slice()},o.unknown=function(c){return arguments.length?(r=c,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return eO().domain(e).range(t).unknown(r)},tr.apply(o,arguments)}function tO(){var e=0,t=1,n=1,r=[.5],a=[0,1],o;function c(f){return f!=null&&f<=f?a[kc(r,f,0,n)]:o}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*t-(f-n)*e)/(n+1);return c}return c.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,u()):[e,t]},c.range=function(f){return arguments.length?(n=(a=Array.from(f)).length-1,u()):a.slice()},c.invertExtent=function(f){var d=a.indexOf(f);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=n?[r[n-1],t]:[r[d-1],r[d]]},c.unknown=function(f){return arguments.length&&(o=f),c},c.thresholds=function(){return r.slice()},c.copy=function(){return tO().domain([e,t]).range(a).unknown(o)},tr.apply(ti(c),arguments)}function nO(){var e=[.5],t=[0,1],n,r=1;function a(o){return o!=null&&o<=o?t[kc(e,o,0,r)]:n}return a.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(o){var c=t.indexOf(o);return[e[c-1],e[c]]},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return nO().domain(e).range(t).unknown(n)},tr.apply(a,arguments)}const Gg=new Date,Yg=new Date;function Mt(e,t,n,r){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const c=a(o),u=a.ceil(o);return o-c<u-o?c:u},a.offset=(o,c)=>(t(o=new Date(+o),c==null?1:Math.floor(c)),o),a.range=(o,c,u)=>{const f=[];if(o=a.ceil(o),u=u==null?1:Math.floor(u),!(o<c)||!(u>0))return f;let d;do f.push(d=new Date(+o)),t(o,u),e(o);while(d<o&&o<c);return f},a.filter=o=>Mt(c=>{if(c>=c)for(;e(c),!o(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;t(c,-1),!o(c););else for(;--u>=0;)for(;t(c,1),!o(c););}),n&&(a.count=(o,c)=>(Gg.setTime(+o),Yg.setTime(+c),e(Gg),e(Yg),Math.floor(n(Gg,Yg))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(r?c=>r(c)%o===0:c=>a.count(0,c)%o===0):a)),a}const Td=Mt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Td.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Mt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Td);Td.range;const Qr=1e3,Zn=Qr*60,Zr=Zn*60,sa=Zr*24,xb=sa*7,mC=sa*30,Xg=sa*365,Ci=Mt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Qr)},(e,t)=>(t-e)/Qr,e=>e.getUTCSeconds());Ci.range;const vb=Mt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qr)},(e,t)=>{e.setTime(+e+t*Zn)},(e,t)=>(t-e)/Zn,e=>e.getMinutes());vb.range;const yb=Mt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Zn)},(e,t)=>(t-e)/Zn,e=>e.getUTCMinutes());yb.range;const bb=Mt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qr-e.getMinutes()*Zn)},(e,t)=>{e.setTime(+e+t*Zr)},(e,t)=>(t-e)/Zr,e=>e.getHours());bb.range;const wb=Mt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Zr)},(e,t)=>(t-e)/Zr,e=>e.getUTCHours());wb.range;const Pc=Mt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Zn)/sa,e=>e.getDate()-1);Pc.range;const Pf=Mt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/sa,e=>e.getUTCDate()-1);Pf.range;const rO=Mt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/sa,e=>Math.floor(e/sa));rO.range;function Hi(e){return Mt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Zn)/xb)}const Ef=Hi(0),_d=Hi(1),Vz=Hi(2),Kz=Hi(3),Us=Hi(4),Gz=Hi(5),Yz=Hi(6);Ef.range;_d.range;Vz.range;Kz.range;Us.range;Gz.range;Yz.range;function Vi(e){return Mt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/xb)}const Df=Vi(0),Md=Vi(1),Xz=Vi(2),Qz=Vi(3),qs=Vi(4),Zz=Vi(5),Jz=Vi(6);Df.range;Md.range;Xz.range;Qz.range;qs.range;Zz.range;Jz.range;const jb=Mt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());jb.range;const Nb=Mt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Nb.range;const oa=Mt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());oa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Mt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});oa.range;const la=Mt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());la.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Mt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});la.range;function aO(e,t,n,r,a,o){const c=[[Ci,1,Qr],[Ci,5,5*Qr],[Ci,15,15*Qr],[Ci,30,30*Qr],[o,1,Zn],[o,5,5*Zn],[o,15,15*Zn],[o,30,30*Zn],[a,1,Zr],[a,3,3*Zr],[a,6,6*Zr],[a,12,12*Zr],[r,1,sa],[r,2,2*sa],[n,1,xb],[t,1,mC],[t,3,3*mC],[e,1,Xg]];function u(d,h,m){const g=h<d;g&&([d,h]=[h,d]);const v=m&&typeof m.range=="function"?m:f(d,h,m),j=v?v.range(d,+h+1):[];return g?j.reverse():j}function f(d,h,m){const g=Math.abs(h-d)/m,v=ib(([,,b])=>b).right(c,g);if(v===c.length)return e.every(jv(d/Xg,h/Xg,m));if(v===0)return Td.every(Math.max(jv(d,h,m),1));const[j,w]=c[g/c[v-1][2]<c[v][2]/g?v-1:v];return j.every(w)}return[u,f]}const[eL,tL]=aO(la,Nb,Df,rO,wb,yb),[nL,rL]=aO(oa,jb,Ef,Pc,bb,vb);function Qg(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Zg(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function il(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function aL(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,o=e.days,c=e.shortDays,u=e.months,f=e.shortMonths,d=sl(a),h=ol(a),m=sl(o),g=ol(o),v=sl(c),j=ol(c),w=sl(u),b=ol(u),y=sl(f),S=ol(f),P={a:Q,A:G,b:Y,B:M,c:null,d:wC,e:wC,f:AL,g:$L,G:LL,H:SL,I:kL,j:CL,L:iO,m:PL,M:EL,p:X,q:ee,Q:SC,s:kC,S:DL,u:OL,U:IL,V:TL,w:_L,W:ML,x:null,X:null,y:RL,Y:zL,Z:BL,"%":NC},k={a:ne,A:pe,b:we,B:je,c:null,d:jC,e:jC,f:WL,g:e9,G:n9,H:FL,I:UL,j:qL,L:oO,m:HL,M:VL,p:$e,q:Oe,Q:SC,s:kC,S:KL,u:GL,U:YL,V:XL,w:QL,W:ZL,x:null,X:null,y:JL,Y:t9,Z:r9,"%":NC},C={a:B,A:_,b:R,B:L,c:z,d:yC,e:yC,f:bL,g:vC,G:xC,H:bC,I:bC,j:gL,L:yL,m:mL,M:xL,p:$,q:hL,Q:jL,s:NL,S:vL,u:cL,U:uL,V:dL,w:lL,W:fL,x:H,X:U,y:vC,Y:xC,Z:pL,"%":wL};P.x=E(n,P),P.X=E(r,P),P.c=E(t,P),k.x=E(n,k),k.X=E(r,k),k.c=E(t,k);function E(oe,Ce){return function(ke){var ie=[],He=-1,Re=0,Je=oe.length,ue,Ie,Ne;for(ke instanceof Date||(ke=new Date(+ke));++He<Je;)oe.charCodeAt(He)===37&&(ie.push(oe.slice(Re,He)),(Ie=gC[ue=oe.charAt(++He)])!=null?ue=oe.charAt(++He):Ie=ue==="e"?" ":"0",(Ne=Ce[ue])&&(ue=Ne(ke,Ie)),ie.push(ue),Re=He+1);return ie.push(oe.slice(Re,He)),ie.join("")}}function D(oe,Ce){return function(ke){var ie=il(1900,void 0,1),He=I(ie,oe,ke+="",0),Re,Je;if(He!=ke.length)return null;if("Q"in ie)return new Date(ie.Q);if("s"in ie)return new Date(ie.s*1e3+("L"in ie?ie.L:0));if(Ce&&!("Z"in ie)&&(ie.Z=0),"p"in ie&&(ie.H=ie.H%12+ie.p*12),ie.m===void 0&&(ie.m="q"in ie?ie.q:0),"V"in ie){if(ie.V<1||ie.V>53)return null;"w"in ie||(ie.w=1),"Z"in ie?(Re=Zg(il(ie.y,0,1)),Je=Re.getUTCDay(),Re=Je>4||Je===0?Md.ceil(Re):Md(Re),Re=Pf.offset(Re,(ie.V-1)*7),ie.y=Re.getUTCFullYear(),ie.m=Re.getUTCMonth(),ie.d=Re.getUTCDate()+(ie.w+6)%7):(Re=Qg(il(ie.y,0,1)),Je=Re.getDay(),Re=Je>4||Je===0?_d.ceil(Re):_d(Re),Re=Pc.offset(Re,(ie.V-1)*7),ie.y=Re.getFullYear(),ie.m=Re.getMonth(),ie.d=Re.getDate()+(ie.w+6)%7)}else("W"in ie||"U"in ie)&&("w"in ie||(ie.w="u"in ie?ie.u%7:"W"in ie?1:0),Je="Z"in ie?Zg(il(ie.y,0,1)).getUTCDay():Qg(il(ie.y,0,1)).getDay(),ie.m=0,ie.d="W"in ie?(ie.w+6)%7+ie.W*7-(Je+5)%7:ie.w+ie.U*7-(Je+6)%7);return"Z"in ie?(ie.H+=ie.Z/100|0,ie.M+=ie.Z%100,Zg(ie)):Qg(ie)}}function I(oe,Ce,ke,ie){for(var He=0,Re=Ce.length,Je=ke.length,ue,Ie;He<Re;){if(ie>=Je)return-1;if(ue=Ce.charCodeAt(He++),ue===37){if(ue=Ce.charAt(He++),Ie=C[ue in gC?Ce.charAt(He++):ue],!Ie||(ie=Ie(oe,ke,ie))<0)return-1}else if(ue!=ke.charCodeAt(ie++))return-1}return ie}function $(oe,Ce,ke){var ie=d.exec(Ce.slice(ke));return ie?(oe.p=h.get(ie[0].toLowerCase()),ke+ie[0].length):-1}function B(oe,Ce,ke){var ie=v.exec(Ce.slice(ke));return ie?(oe.w=j.get(ie[0].toLowerCase()),ke+ie[0].length):-1}function _(oe,Ce,ke){var ie=m.exec(Ce.slice(ke));return ie?(oe.w=g.get(ie[0].toLowerCase()),ke+ie[0].length):-1}function R(oe,Ce,ke){var ie=y.exec(Ce.slice(ke));return ie?(oe.m=S.get(ie[0].toLowerCase()),ke+ie[0].length):-1}function L(oe,Ce,ke){var ie=w.exec(Ce.slice(ke));return ie?(oe.m=b.get(ie[0].toLowerCase()),ke+ie[0].length):-1}function z(oe,Ce,ke){return I(oe,t,Ce,ke)}function H(oe,Ce,ke){return I(oe,n,Ce,ke)}function U(oe,Ce,ke){return I(oe,r,Ce,ke)}function Q(oe){return c[oe.getDay()]}function G(oe){return o[oe.getDay()]}function Y(oe){return f[oe.getMonth()]}function M(oe){return u[oe.getMonth()]}function X(oe){return a[+(oe.getHours()>=12)]}function ee(oe){return 1+~~(oe.getMonth()/3)}function ne(oe){return c[oe.getUTCDay()]}function pe(oe){return o[oe.getUTCDay()]}function we(oe){return f[oe.getUTCMonth()]}function je(oe){return u[oe.getUTCMonth()]}function $e(oe){return a[+(oe.getUTCHours()>=12)]}function Oe(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var Ce=E(oe+="",P);return Ce.toString=function(){return oe},Ce},parse:function(oe){var Ce=D(oe+="",!1);return Ce.toString=function(){return oe},Ce},utcFormat:function(oe){var Ce=E(oe+="",k);return Ce.toString=function(){return oe},Ce},utcParse:function(oe){var Ce=D(oe+="",!0);return Ce.toString=function(){return oe},Ce}}}var gC={"-":"",_:" ",0:"0"},qt=/^\s*\d+/,iL=/^%/,sL=/[\\^$*+?|[\]().{}]/g;function Qe(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",o=a.length;return r+(o<n?new Array(n-o+1).join(t)+a:a)}function oL(e){return e.replace(sL,"\\$&")}function sl(e){return new RegExp("^(?:"+e.map(oL).join("|")+")","i")}function ol(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function lL(e,t,n){var r=qt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function cL(e,t,n){var r=qt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function uL(e,t,n){var r=qt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function dL(e,t,n){var r=qt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function fL(e,t,n){var r=qt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function xC(e,t,n){var r=qt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function vC(e,t,n){var r=qt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function pL(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function hL(e,t,n){var r=qt.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function mL(e,t,n){var r=qt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function yC(e,t,n){var r=qt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function gL(e,t,n){var r=qt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function bC(e,t,n){var r=qt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function xL(e,t,n){var r=qt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function vL(e,t,n){var r=qt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function yL(e,t,n){var r=qt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function bL(e,t,n){var r=qt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function wL(e,t,n){var r=iL.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function jL(e,t,n){var r=qt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function NL(e,t,n){var r=qt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function wC(e,t){return Qe(e.getDate(),t,2)}function SL(e,t){return Qe(e.getHours(),t,2)}function kL(e,t){return Qe(e.getHours()%12||12,t,2)}function CL(e,t){return Qe(1+Pc.count(oa(e),e),t,3)}function iO(e,t){return Qe(e.getMilliseconds(),t,3)}function AL(e,t){return iO(e,t)+"000"}function PL(e,t){return Qe(e.getMonth()+1,t,2)}function EL(e,t){return Qe(e.getMinutes(),t,2)}function DL(e,t){return Qe(e.getSeconds(),t,2)}function OL(e){var t=e.getDay();return t===0?7:t}function IL(e,t){return Qe(Ef.count(oa(e)-1,e),t,2)}function sO(e){var t=e.getDay();return t>=4||t===0?Us(e):Us.ceil(e)}function TL(e,t){return e=sO(e),Qe(Us.count(oa(e),e)+(oa(e).getDay()===4),t,2)}function _L(e){return e.getDay()}function ML(e,t){return Qe(_d.count(oa(e)-1,e),t,2)}function RL(e,t){return Qe(e.getFullYear()%100,t,2)}function $L(e,t){return e=sO(e),Qe(e.getFullYear()%100,t,2)}function zL(e,t){return Qe(e.getFullYear()%1e4,t,4)}function LL(e,t){var n=e.getDay();return e=n>=4||n===0?Us(e):Us.ceil(e),Qe(e.getFullYear()%1e4,t,4)}function BL(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Qe(t/60|0,"0",2)+Qe(t%60,"0",2)}function jC(e,t){return Qe(e.getUTCDate(),t,2)}function FL(e,t){return Qe(e.getUTCHours(),t,2)}function UL(e,t){return Qe(e.getUTCHours()%12||12,t,2)}function qL(e,t){return Qe(1+Pf.count(la(e),e),t,3)}function oO(e,t){return Qe(e.getUTCMilliseconds(),t,3)}function WL(e,t){return oO(e,t)+"000"}function HL(e,t){return Qe(e.getUTCMonth()+1,t,2)}function VL(e,t){return Qe(e.getUTCMinutes(),t,2)}function KL(e,t){return Qe(e.getUTCSeconds(),t,2)}function GL(e){var t=e.getUTCDay();return t===0?7:t}function YL(e,t){return Qe(Df.count(la(e)-1,e),t,2)}function lO(e){var t=e.getUTCDay();return t>=4||t===0?qs(e):qs.ceil(e)}function XL(e,t){return e=lO(e),Qe(qs.count(la(e),e)+(la(e).getUTCDay()===4),t,2)}function QL(e){return e.getUTCDay()}function ZL(e,t){return Qe(Md.count(la(e)-1,e),t,2)}function JL(e,t){return Qe(e.getUTCFullYear()%100,t,2)}function e9(e,t){return e=lO(e),Qe(e.getUTCFullYear()%100,t,2)}function t9(e,t){return Qe(e.getUTCFullYear()%1e4,t,4)}function n9(e,t){var n=e.getUTCDay();return e=n>=4||n===0?qs(e):qs.ceil(e),Qe(e.getUTCFullYear()%1e4,t,4)}function r9(){return"+0000"}function NC(){return"%"}function SC(e){return+e}function kC(e){return Math.floor(+e/1e3)}var js,cO,uO;a9({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function a9(e){return js=aL(e),cO=js.format,js.parse,uO=js.utcFormat,js.utcParse,js}function i9(e){return new Date(e)}function s9(e){return e instanceof Date?+e:+new Date(+e)}function Sb(e,t,n,r,a,o,c,u,f,d){var h=ub(),m=h.invert,g=h.domain,v=d(".%L"),j=d(":%S"),w=d("%I:%M"),b=d("%I %p"),y=d("%a %d"),S=d("%b %d"),P=d("%B"),k=d("%Y");function C(E){return(f(E)<E?v:u(E)<E?j:c(E)<E?w:o(E)<E?b:r(E)<E?a(E)<E?y:S:n(E)<E?P:k)(E)}return h.invert=function(E){return new Date(m(E))},h.domain=function(E){return arguments.length?g(Array.from(E,s9)):g().map(i9)},h.ticks=function(E){var D=g();return e(D[0],D[D.length-1],E??10)},h.tickFormat=function(E,D){return D==null?C:d(D)},h.nice=function(E){var D=g();return(!E||typeof E.range!="function")&&(E=t(D[0],D[D.length-1],E??10)),E?g(XD(D,E)):h},h.copy=function(){return Ac(h,Sb(e,t,n,r,a,o,c,u,f,d))},h}function o9(){return tr.apply(Sb(nL,rL,oa,jb,Ef,Pc,bb,vb,Ci,cO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function l9(){return tr.apply(Sb(eL,tL,la,Nb,Df,Pf,wb,yb,Ci,uO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Of(){var e=0,t=1,n,r,a,o,c=fn,u=!1,f;function d(m){return m==null||isNaN(m=+m)?f:c(a===0?.5:(m=(o(m)-n)*a,u?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t]=m,n=o(e=+e),r=o(t=+t),a=n===r?0:1/(r-n),d):[e,t]},d.clamp=function(m){return arguments.length?(u=!!m,d):u},d.interpolator=function(m){return arguments.length?(c=m,d):c};function h(m){return function(g){var v,j;return arguments.length?([v,j]=g,c=m(v,j),d):[c(0),c(1)]}}return d.range=h(fo),d.rangeRound=h(cb),d.unknown=function(m){return arguments.length?(f=m,d):f},function(m){return o=m,n=m(e),r=m(t),a=n===r?0:1/(r-n),d}}function ni(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function dO(){var e=ti(Of()(fn));return e.copy=function(){return ni(e,dO())},ma.apply(e,arguments)}function fO(){var e=pb(Of()).domain([1,10]);return e.copy=function(){return ni(e,fO()).base(e.base())},ma.apply(e,arguments)}function pO(){var e=hb(Of());return e.copy=function(){return ni(e,pO()).constant(e.constant())},ma.apply(e,arguments)}function kb(){var e=mb(Of());return e.copy=function(){return ni(e,kb()).exponent(e.exponent())},ma.apply(e,arguments)}function c9(){return kb.apply(null,arguments).exponent(.5)}function hO(){var e=[],t=fn;function n(r){if(r!=null&&!isNaN(r=+r))return t((kc(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ka),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,o)=>Y8(e,o/r))},n.copy=function(){return hO(t).domain(e)},ma.apply(n,arguments)}function If(){var e=0,t=.5,n=1,r=1,a,o,c,u,f,d=fn,h,m=!1,g;function v(w){return isNaN(w=+w)?g:(w=.5+((w=+h(w))-o)*(r*w<r*o?u:f),d(m?Math.max(0,Math.min(1,w)):w))}v.domain=function(w){return arguments.length?([e,t,n]=w,a=h(e=+e),o=h(t=+t),c=h(n=+n),u=a===o?0:.5/(o-a),f=o===c?0:.5/(c-o),r=o<a?-1:1,v):[e,t,n]},v.clamp=function(w){return arguments.length?(m=!!w,v):m},v.interpolator=function(w){return arguments.length?(d=w,v):d};function j(w){return function(b){var y,S,P;return arguments.length?([y,S,P]=b,d=wz(w,[y,S,P]),v):[d(0),d(.5),d(1)]}}return v.range=j(fo),v.rangeRound=j(cb),v.unknown=function(w){return arguments.length?(g=w,v):g},function(w){return h=w,a=w(e),o=w(t),c=w(n),u=a===o?0:.5/(o-a),f=o===c?0:.5/(c-o),r=o<a?-1:1,v}}function mO(){var e=ti(If()(fn));return e.copy=function(){return ni(e,mO())},ma.apply(e,arguments)}function gO(){var e=pb(If()).domain([.1,1,10]);return e.copy=function(){return ni(e,gO()).base(e.base())},ma.apply(e,arguments)}function xO(){var e=hb(If());return e.copy=function(){return ni(e,xO()).constant(e.constant())},ma.apply(e,arguments)}function Cb(){var e=mb(If());return e.copy=function(){return ni(e,Cb()).exponent(e.exponent())},ma.apply(e,arguments)}function u9(){return Cb.apply(null,arguments).exponent(.5)}const CC=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Fl,scaleDiverging:mO,scaleDivergingLog:gO,scaleDivergingPow:Cb,scaleDivergingSqrt:u9,scaleDivergingSymlog:xO,scaleIdentity:YD,scaleImplicit:Nv,scaleLinear:Id,scaleLog:QD,scaleOrdinal:sb,scalePoint:wl,scalePow:gb,scaleQuantile:eO,scaleQuantize:tO,scaleRadial:JD,scaleSequential:dO,scaleSequentialLog:fO,scaleSequentialPow:kb,scaleSequentialQuantile:hO,scaleSequentialSqrt:c9,scaleSequentialSymlog:pO,scaleSqrt:Wz,scaleSymlog:ZD,scaleThreshold:nO,scaleTime:o9,scaleUtc:l9,tickFormat:GD},Symbol.toStringTag,{value:"Module"}));var Jg,AC;function vO(){if(AC)return Jg;AC=1;var e=oo();function t(n,r,a){for(var o=-1,c=n.length;++o<c;){var u=n[o],f=r(u);if(f!=null&&(d===void 0?f===f&&!e(f):a(f,d)))var d=f,h=u}return h}return Jg=t,Jg}var ex,PC;function d9(){if(PC)return ex;PC=1;function e(t,n){return t>n}return ex=e,ex}var tx,EC;function f9(){if(EC)return tx;EC=1;var e=vO(),t=d9(),n=uo();function r(a){return a&&a.length?e(a,n,t):void 0}return tx=r,tx}var p9=f9();const qa=lt(p9);var nx,DC;function h9(){if(DC)return nx;DC=1;function e(t,n){return t<n}return nx=e,nx}var rx,OC;function m9(){if(OC)return rx;OC=1;var e=vO(),t=h9(),n=uo();function r(a){return a&&a.length?e(a,n,t):void 0}return rx=r,rx}var g9=m9();const Tf=lt(g9);var ax,IC;function x9(){if(IC)return ax;IC=1;var e=Uy(),t=Ja(),n=PD(),r=Cn();function a(o,c){var u=r(o)?e:n;return u(o,t(c,3))}return ax=a,ax}var ix,TC;function v9(){if(TC)return ix;TC=1;var e=CD(),t=x9();function n(r,a){return e(t(r,a),1)}return ix=n,ix}var y9=v9();const b9=lt(y9);var sx,_C;function w9(){if(_C)return sx;_C=1;var e=eb();function t(n,r){return e(n,r)}return sx=t,sx}var j9=w9();const Ri=lt(j9);var po=1e9,N9={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Pb,mt=!0,er="[DecimalError] ",Ii=er+"Invalid argument: ",Ab=er+"Exponent out of range: ",ho=Math.floor,Ni=Math.pow,S9=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,$n,Ft=1e7,pt=7,yO=9007199254740991,Rd=ho(yO/pt),ve={};ve.absoluteValue=ve.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ve.comparedTo=ve.cmp=function(e){var t,n,r,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===a?0:r>a^o.s<0?1:-1};ve.decimalPlaces=ve.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*pt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};ve.dividedBy=ve.div=function(e){return ra(this,new this.constructor(e))};ve.dividedToIntegerBy=ve.idiv=function(e){var t=this,n=t.constructor;return ot(ra(t,new n(e),0,1),n.precision)};ve.equals=ve.eq=function(e){return!this.cmp(e)};ve.exponent=function(){return Pt(this)};ve.greaterThan=ve.gt=function(e){return this.cmp(e)>0};ve.greaterThanOrEqualTo=ve.gte=function(e){return this.cmp(e)>=0};ve.isInteger=ve.isint=function(){return this.e>this.d.length-2};ve.isNegative=ve.isneg=function(){return this.s<0};ve.isPositive=ve.ispos=function(){return this.s>0};ve.isZero=function(){return this.s===0};ve.lessThan=ve.lt=function(e){return this.cmp(e)<0};ve.lessThanOrEqualTo=ve.lte=function(e){return this.cmp(e)<1};ve.logarithm=ve.log=function(e){var t,n=this,r=n.constructor,a=r.precision,o=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq($n))throw Error(er+"NaN");if(n.s<1)throw Error(er+(n.s?"NaN":"-Infinity"));return n.eq($n)?new r(0):(mt=!1,t=ra(Vl(n,o),Vl(e,o),o),mt=!0,ot(t,a))};ve.minus=ve.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?jO(t,e):bO(t,(e.s=-e.s,e))};ve.modulo=ve.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(er+"NaN");return n.s?(mt=!1,t=ra(n,e,0,1).times(e),mt=!0,n.minus(t)):ot(new r(n),a)};ve.naturalExponential=ve.exp=function(){return wO(this)};ve.naturalLogarithm=ve.ln=function(){return Vl(this)};ve.negated=ve.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ve.plus=ve.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?bO(t,e):jO(t,(e.s=-e.s,e))};ve.precision=ve.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ii+e);if(t=Pt(a)+1,r=a.d.length-1,n=r*pt+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};ve.squareRoot=ve.sqrt=function(){var e,t,n,r,a,o,c,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(er+"NaN")}for(e=Pt(u),mt=!1,a=Math.sqrt(+u),a==0||a==1/0?(t=Dr(u.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=ho((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new f(t)):r=new f(a.toString()),n=f.precision,a=c=n+3;;)if(o=r,r=o.plus(ra(u,o,c+2)).times(.5),Dr(o.d).slice(0,c)===(t=Dr(r.d)).slice(0,c)){if(t=t.slice(c-3,c+1),a==c&&t=="4999"){if(ot(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(t!="9999")break;c+=4}return mt=!0,ot(r,n)};ve.times=ve.mul=function(e){var t,n,r,a,o,c,u,f,d,h=this,m=h.constructor,g=h.d,v=(e=new m(e)).d;if(!h.s||!e.s)return new m(0);for(e.s*=h.s,n=h.e+e.e,f=g.length,d=v.length,f<d&&(o=g,g=v,v=o,c=f,f=d,d=c),o=[],c=f+d,r=c;r--;)o.push(0);for(r=d;--r>=0;){for(t=0,a=f+r;a>r;)u=o[a]+v[r]*g[a-r-1]+t,o[a--]=u%Ft|0,t=u/Ft|0;o[a]=(o[a]+t)%Ft|0}for(;!o[--c];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,mt?ot(e,m.precision):e};ve.toDecimalPlaces=ve.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Mr(e,0,po),t===void 0?t=r.rounding:Mr(t,0,8),ot(n,e+Pt(n)+1,t))};ve.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=$i(r,!0):(Mr(e,0,po),t===void 0?t=a.rounding:Mr(t,0,8),r=ot(new a(r),e+1,t),n=$i(r,!0,e+1)),n};ve.toFixed=function(e,t){var n,r,a=this,o=a.constructor;return e===void 0?$i(a):(Mr(e,0,po),t===void 0?t=o.rounding:Mr(t,0,8),r=ot(new o(a),e+Pt(a)+1,t),n=$i(r.abs(),!1,e+Pt(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};ve.toInteger=ve.toint=function(){var e=this,t=e.constructor;return ot(new t(e),Pt(e)+1,t.rounding)};ve.toNumber=function(){return+this};ve.toPower=ve.pow=function(e){var t,n,r,a,o,c,u=this,f=u.constructor,d=12,h=+(e=new f(e));if(!e.s)return new f($n);if(u=new f(u),!u.s){if(e.s<1)throw Error(er+"Infinity");return u}if(u.eq($n))return u;if(r=f.precision,e.eq($n))return ot(u,r);if(t=e.e,n=e.d.length-1,c=t>=n,o=u.s,c){if((n=h<0?-h:h)<=yO){for(a=new f($n),t=Math.ceil(r/pt+4),mt=!1;n%2&&(a=a.times(u),RC(a.d,t)),n=ho(n/2),n!==0;)u=u.times(u),RC(u.d,t);return mt=!0,e.s<0?new f($n).div(a):ot(a,r)}}else if(o<0)throw Error(er+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,mt=!1,a=e.times(Vl(u,r+d)),mt=!0,a=wO(a),a.s=o,a};ve.toPrecision=function(e,t){var n,r,a=this,o=a.constructor;return e===void 0?(n=Pt(a),r=$i(a,n<=o.toExpNeg||n>=o.toExpPos)):(Mr(e,1,po),t===void 0?t=o.rounding:Mr(t,0,8),a=ot(new o(a),e,t),n=Pt(a),r=$i(a,e<=n||n<=o.toExpNeg,e)),r};ve.toSignificantDigits=ve.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Mr(e,1,po),t===void 0?t=r.rounding:Mr(t,0,8)),ot(new r(n),e,t)};ve.toString=ve.valueOf=ve.val=ve.toJSON=ve[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Pt(e),n=e.constructor;return $i(e,t<=n.toExpNeg||t>=n.toExpPos)};function bO(e,t){var n,r,a,o,c,u,f,d,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),mt?ot(t,m):t;if(f=e.d,d=t.d,c=e.e,a=t.e,f=f.slice(),o=c-a,o){for(o<0?(r=f,o=-o,u=d.length):(r=d,a=c,u=f.length),c=Math.ceil(m/pt),u=c>u?c+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=f.length,o=d.length,u-o<0&&(o=u,r=d,d=f,f=r),n=0;o;)n=(f[--o]=f[o]+d[o]+n)/Ft|0,f[o]%=Ft;for(n&&(f.unshift(n),++a),u=f.length;f[--u]==0;)f.pop();return t.d=f,t.e=a,mt?ot(t,m):t}function Mr(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Ii+e)}function Dr(e){var t,n,r,a=e.length-1,o="",c=e[0];if(a>0){for(o+=c,t=1;t<a;t++)r=e[t]+"",n=pt-r.length,n&&(o+=La(n)),o+=r;c=e[t],r=c+"",n=pt-r.length,n&&(o+=La(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return o+c}var ra=(function(){function e(r,a){var o,c=0,u=r.length;for(r=r.slice();u--;)o=r[u]*a+c,r[u]=o%Ft|0,c=o/Ft|0;return c&&r.unshift(c),r}function t(r,a,o,c){var u,f;if(o!=c)f=o>c?1:-1;else for(u=f=0;u<o;u++)if(r[u]!=a[u]){f=r[u]>a[u]?1:-1;break}return f}function n(r,a,o){for(var c=0;o--;)r[o]-=c,c=r[o]<a[o]?1:0,r[o]=c*Ft+r[o]-a[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,o,c){var u,f,d,h,m,g,v,j,w,b,y,S,P,k,C,E,D,I,$=r.constructor,B=r.s==a.s?1:-1,_=r.d,R=a.d;if(!r.s)return new $(r);if(!a.s)throw Error(er+"Division by zero");for(f=r.e-a.e,D=R.length,C=_.length,v=new $(B),j=v.d=[],d=0;R[d]==(_[d]||0);)++d;if(R[d]>(_[d]||0)&&--f,o==null?S=o=$.precision:c?S=o+(Pt(r)-Pt(a))+1:S=o,S<0)return new $(0);if(S=S/pt+2|0,d=0,D==1)for(h=0,R=R[0],S++;(d<C||h)&&S--;d++)P=h*Ft+(_[d]||0),j[d]=P/R|0,h=P%R|0;else{for(h=Ft/(R[0]+1)|0,h>1&&(R=e(R,h),_=e(_,h),D=R.length,C=_.length),k=D,w=_.slice(0,D),b=w.length;b<D;)w[b++]=0;I=R.slice(),I.unshift(0),E=R[0],R[1]>=Ft/2&&++E;do h=0,u=t(R,w,D,b),u<0?(y=w[0],D!=b&&(y=y*Ft+(w[1]||0)),h=y/E|0,h>1?(h>=Ft&&(h=Ft-1),m=e(R,h),g=m.length,b=w.length,u=t(m,w,g,b),u==1&&(h--,n(m,D<g?I:R,g))):(h==0&&(u=h=1),m=R.slice()),g=m.length,g<b&&m.unshift(0),n(w,m,b),u==-1&&(b=w.length,u=t(R,w,D,b),u<1&&(h++,n(w,D<b?I:R,b))),b=w.length):u===0&&(h++,w=[0]),j[d++]=h,u&&w[0]?w[b++]=_[k]||0:(w=[_[k]],b=1);while((k++<C||w[0]!==void 0)&&S--)}return j[0]||j.shift(),v.e=f,ot(v,c?o+Pt(v)+1:o)}})();function wO(e,t){var n,r,a,o,c,u,f=0,d=0,h=e.constructor,m=h.precision;if(Pt(e)>16)throw Error(Ab+Pt(e));if(!e.s)return new h($n);for(mt=!1,u=m,c=new h(.03125);e.abs().gte(.1);)e=e.times(c),d+=5;for(r=Math.log(Ni(2,d))/Math.LN10*2+5|0,u+=r,n=a=o=new h($n),h.precision=u;;){if(a=ot(a.times(e),u),n=n.times(++f),c=o.plus(ra(a,n,u)),Dr(c.d).slice(0,u)===Dr(o.d).slice(0,u)){for(;d--;)o=ot(o.times(o),u);return h.precision=m,t==null?(mt=!0,ot(o,m)):o}o=c}}function Pt(e){for(var t=e.e*pt,n=e.d[0];n>=10;n/=10)t++;return t}function ox(e,t,n){if(t>e.LN10.sd())throw mt=!0,n&&(e.precision=n),Error(er+"LN10 precision limit exceeded");return ot(new e(e.LN10),t)}function La(e){for(var t="";e--;)t+="0";return t}function Vl(e,t){var n,r,a,o,c,u,f,d,h,m=1,g=10,v=e,j=v.d,w=v.constructor,b=w.precision;if(v.s<1)throw Error(er+(v.s?"NaN":"-Infinity"));if(v.eq($n))return new w(0);if(t==null?(mt=!1,d=b):d=t,v.eq(10))return t==null&&(mt=!0),ox(w,d);if(d+=g,w.precision=d,n=Dr(j),r=n.charAt(0),o=Pt(v),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(e),n=Dr(v.d),r=n.charAt(0),m++;o=Pt(v),r>1?(v=new w("0."+n),o++):v=new w(r+"."+n.slice(1))}else return f=ox(w,d+2,b).times(o+""),v=Vl(new w(r+"."+n.slice(1)),d-g).plus(f),w.precision=b,t==null?(mt=!0,ot(v,b)):v;for(u=c=v=ra(v.minus($n),v.plus($n),d),h=ot(v.times(v),d),a=3;;){if(c=ot(c.times(h),d),f=u.plus(ra(c,new w(a),d)),Dr(f.d).slice(0,d)===Dr(u.d).slice(0,d))return u=u.times(2),o!==0&&(u=u.plus(ox(w,d+2,b).times(o+""))),u=ra(u,new w(m),d),w.precision=b,t==null?(mt=!0,ot(u,b)):u;u=f,a+=2}}function MC(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=ho(n/pt),e.d=[],r=(n+1)%pt,n<0&&(r+=pt),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=pt;r<a;)e.d.push(+t.slice(r,r+=pt));t=t.slice(r),r=pt-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),mt&&(e.e>Rd||e.e<-Rd))throw Error(Ab+n)}else e.s=0,e.e=0,e.d=[0];return e}function ot(e,t,n){var r,a,o,c,u,f,d,h,m=e.d;for(c=1,o=m[0];o>=10;o/=10)c++;if(r=t-c,r<0)r+=pt,a=t,d=m[h=0];else{if(h=Math.ceil((r+1)/pt),o=m.length,h>=o)return e;for(d=o=m[h],c=1;o>=10;o/=10)c++;r%=pt,a=r-pt+c}if(n!==void 0&&(o=Ni(10,c-a-1),u=d/o%10|0,f=t<0||m[h+1]!==void 0||d%o,f=n<4?(u||f)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?a>0?d/Ni(10,c-a):0:m[h-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return f?(o=Pt(e),m.length=1,t=t-o-1,m[0]=Ni(10,(pt-t%pt)%pt),e.e=ho(-t/pt)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(r==0?(m.length=h,o=1,h--):(m.length=h+1,o=Ni(10,pt-r),m[h]=a>0?(d/Ni(10,c-a)%Ni(10,a)|0)*o:0),f)for(;;)if(h==0){(m[0]+=o)==Ft&&(m[0]=1,++e.e);break}else{if(m[h]+=o,m[h]!=Ft)break;m[h--]=0,o=1}for(r=m.length;m[--r]===0;)m.pop();if(mt&&(e.e>Rd||e.e<-Rd))throw Error(Ab+Pt(e));return e}function jO(e,t){var n,r,a,o,c,u,f,d,h,m,g=e.constructor,v=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),mt?ot(t,v):t;if(f=e.d,m=t.d,r=t.e,d=e.e,f=f.slice(),c=d-r,c){for(h=c<0,h?(n=f,c=-c,u=m.length):(n=m,r=d,u=f.length),a=Math.max(Math.ceil(v/pt),u)+2,c>a&&(c=a,n.length=1),n.reverse(),a=c;a--;)n.push(0);n.reverse()}else{for(a=f.length,u=m.length,h=a<u,h&&(u=a),a=0;a<u;a++)if(f[a]!=m[a]){h=f[a]<m[a];break}c=0}for(h&&(n=f,f=m,m=n,t.s=-t.s),u=f.length,a=m.length-u;a>0;--a)f[u++]=0;for(a=m.length;a>c;){if(f[--a]<m[a]){for(o=a;o&&f[--o]===0;)f[o]=Ft-1;--f[o],f[a]+=Ft}f[a]-=m[a]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(t.d=f,t.e=r,mt?ot(t,v):t):new g(0)}function $i(e,t,n){var r,a=Pt(e),o=Dr(e.d),c=o.length;return t?(n&&(r=n-c)>0?o=o.charAt(0)+"."+o.slice(1)+La(r):c>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+La(-a-1)+o,n&&(r=n-c)>0&&(o+=La(r))):a>=c?(o+=La(a+1-c),n&&(r=n-a-1)>0&&(o=o+"."+La(r))):((r=a+1)<c&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-c)>0&&(a+1===c&&(o+="."),o+=La(r))),e.s<0?"-"+o:o}function RC(e,t){if(e.length>t)return e.length=t,!0}function NO(e){var t,n,r;function a(o){var c=this;if(!(c instanceof a))return new a(o);if(c.constructor=a,o instanceof a){c.s=o.s,c.e=o.e,c.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ii+o);if(o>0)c.s=1;else if(o<0)o=-o,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(o===~~o&&o<1e7){c.e=0,c.d=[o];return}return MC(c,o.toString())}else if(typeof o!="string")throw Error(Ii+o);if(o.charCodeAt(0)===45?(o=o.slice(1),c.s=-1):c.s=1,S9.test(o))MC(c,o);else throw Error(Ii+o)}if(a.prototype=ve,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=NO,a.config=a.set=k9,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function k9(e){if(!e||typeof e!="object")throw Error(er+"Object expected");var t,n,r,a=["precision",1,po,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(ho(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(Ii+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ii+n+": "+r);return this}var Pb=NO(N9);$n=new Pb(1);const it=Pb;function C9(e){return D9(e)||E9(e)||P9(e)||A9()}function A9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P9(e,t){if(e){if(typeof e=="string")return Av(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Av(e,t)}}function E9(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function D9(e){if(Array.isArray(e))return Av(e)}function Av(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O9=function(t){return t},SO={},kO=function(t){return t===SO},$C=function(t){return function n(){return arguments.length===0||arguments.length===1&&kO(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},I9=function e(t,n){return t===1?n:$C(function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];var c=a.filter(function(u){return u!==SO}).length;return c>=t?n.apply(void 0,a):e(t-c,$C(function(){for(var u=arguments.length,f=new Array(u),d=0;d<u;d++)f[d]=arguments[d];var h=a.map(function(m){return kO(m)?f.shift():m});return n.apply(void 0,C9(h).concat(f))}))})},_f=function(t){return I9(t.length,t)},Pv=function(t,n){for(var r=[],a=t;a<n;++a)r[a-t]=a;return r},T9=_f(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),_9=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return O9;var a=n.reverse(),o=a[0],c=a.slice(1);return function(){return c.reduce(function(u,f){return f(u)},o.apply(void 0,arguments))}},Ev=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},CO=function(t){var n=null,r=null;return function(){for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return n&&o.every(function(u,f){return u===n[f]})||(n=o,r=t.apply(void 0,o)),r}};function M9(e){var t;return e===0?t=1:t=Math.floor(new it(e).abs().log(10).toNumber())+1,t}function R9(e,t,n){for(var r=new it(e),a=0,o=[];r.lt(t)&&a<1e5;)o.push(r.toNumber()),r=r.add(n),a++;return o}var $9=_f(function(e,t,n){var r=+e,a=+t;return r+n*(a-r)}),z9=_f(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),L9=_f(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const Mf={rangeStep:R9,getDigitCount:M9,interpolateNumber:$9,uninterpolateNumber:z9,uninterpolateTruncation:L9};function Dv(e){return U9(e)||F9(e)||AO(e)||B9()}function B9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F9(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function U9(e){if(Array.isArray(e))return Ov(e)}function Kl(e,t){return H9(e)||W9(e,t)||AO(e,t)||q9()}function q9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AO(e,t){if(e){if(typeof e=="string")return Ov(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ov(e,t)}}function Ov(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W9(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,a=!1,o=void 0;try{for(var c=e[Symbol.iterator](),u;!(r=(u=c.next()).done)&&(n.push(u.value),!(t&&n.length===t));r=!0);}catch(f){a=!0,o=f}finally{try{!r&&c.return!=null&&c.return()}finally{if(a)throw o}}return n}}function H9(e){if(Array.isArray(e))return e}function PO(e){var t=Kl(e,2),n=t[0],r=t[1],a=n,o=r;return n>r&&(a=r,o=n),[a,o]}function EO(e,t,n){if(e.lte(0))return new it(0);var r=Mf.getDigitCount(e.toNumber()),a=new it(10).pow(r),o=e.div(a),c=r!==1?.05:.1,u=new it(Math.ceil(o.div(c).toNumber())).add(n).mul(c),f=u.mul(a);return t?f:new it(Math.ceil(f))}function V9(e,t,n){var r=1,a=new it(e);if(!a.isint()&&n){var o=Math.abs(e);o<1?(r=new it(10).pow(Mf.getDigitCount(e)-1),a=new it(Math.floor(a.div(r).toNumber())).mul(r)):o>1&&(a=new it(Math.floor(e)))}else e===0?a=new it(Math.floor((t-1)/2)):n||(a=new it(Math.floor(e)));var c=Math.floor((t-1)/2),u=_9(T9(function(f){return a.add(new it(f-c).mul(r)).toNumber()}),Pv);return u(0,t)}function DO(e,t,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new it(0),tickMin:new it(0),tickMax:new it(0)};var o=EO(new it(t).sub(e).div(n-1),r,a),c;e<=0&&t>=0?c=new it(0):(c=new it(e).add(t).div(2),c=c.sub(new it(c).mod(o)));var u=Math.ceil(c.sub(e).div(o).toNumber()),f=Math.ceil(new it(t).sub(c).div(o).toNumber()),d=u+f+1;return d>n?DO(e,t,n,r,a+1):(d<n&&(f=t>0?f+(n-d):f,u=t>0?u:u+(n-d)),{step:o,tickMin:c.sub(new it(u).mul(o)),tickMax:c.add(new it(f).mul(o))})}function K9(e){var t=Kl(e,2),n=t[0],r=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(a,2),u=PO([n,r]),f=Kl(u,2),d=f[0],h=f[1];if(d===-1/0||h===1/0){var m=h===1/0?[d].concat(Dv(Pv(0,a-1).map(function(){return 1/0}))):[].concat(Dv(Pv(0,a-1).map(function(){return-1/0})),[h]);return n>r?Ev(m):m}if(d===h)return V9(d,a,o);var g=DO(d,h,c,o),v=g.step,j=g.tickMin,w=g.tickMax,b=Mf.rangeStep(j,w.add(new it(.1).mul(v)),v);return n>r?Ev(b):b}function G9(e,t){var n=Kl(e,2),r=n[0],a=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=PO([r,a]),u=Kl(c,2),f=u[0],d=u[1];if(f===-1/0||d===1/0)return[r,a];if(f===d)return[f];var h=Math.max(t,2),m=EO(new it(d).sub(f).div(h-1),o,0),g=[].concat(Dv(Mf.rangeStep(new it(f),new it(d).sub(new it(.99).mul(m)),m)),[d]);return r>a?Ev(g):g}var Y9=CO(K9),X9=CO(G9),Q9="Invariant failed";function zi(e,t){throw new Error(Q9)}var Z9=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function $d(){return $d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$d.apply(this,arguments)}function J9(e,t){return r7(e)||n7(e,t)||t7(e,t)||e7()}function e7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t7(e,t){if(e){if(typeof e=="string")return zC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zC(e,t)}}function zC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n7(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,o,c,u=[],f=!0,d=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(f=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);f=!0);}catch(h){d=!0,a=h}finally{try{if(!f&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(d)throw a}}return u}}function r7(e){if(Array.isArray(e))return e}function a7(e,t){if(e==null)return{};var n=i7(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function i7(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function mo(e){var t=e.offset,n=e.layout,r=e.width,a=e.dataKey,o=e.data,c=e.dataPointFormatter,u=e.xAxis,f=e.yAxis,d=a7(e,Z9),h=Le(d,!1);e.direction==="x"&&u.type!=="number"&&zi();var m=o.map(function(g){var v=c(g,a),j=v.x,w=v.y,b=v.value,y=v.errorVal;if(!y)return null;var S=[],P,k;if(Array.isArray(y)){var C=J9(y,2);P=C[0],k=C[1]}else P=k=y;if(n==="vertical"){var E=u.scale,D=w+t,I=D+r,$=D-r,B=E(b-P),_=E(b+k);S.push({x1:_,y1:I,x2:_,y2:$}),S.push({x1:B,y1:D,x2:_,y2:D}),S.push({x1:B,y1:I,x2:B,y2:$})}else if(n==="horizontal"){var R=f.scale,L=j+t,z=L-r,H=L+r,U=R(b-P),Q=R(b+k);S.push({x1:z,y1:Q,x2:H,y2:Q}),S.push({x1:L,y1:U,x2:L,y2:Q}),S.push({x1:z,y1:U,x2:H,y2:U})}return q.createElement(Ze,$d({className:"recharts-errorBar",key:"bar-".concat(S.map(function(G){return"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))},h),S.map(function(G){return q.createElement("line",$d({},G,{key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))}))});return q.createElement(Ze,{className:"recharts-errorBars"},m)}mo.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};mo.displayName="ErrorBar";function Gl(e){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gl(e)}function LC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function lx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LC(Object(n),!0).forEach(function(r){s7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function s7(e,t,n){return t=o7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o7(e){var t=l7(e,"string");return Gl(t)=="symbol"?t:String(t)}function l7(e,t){if(Gl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OO=function(t){var n=t.children,r=t.formattedGraphicalItems,a=t.legendWidth,o=t.legendContent,c=_n(n,Ml);if(!c)return null;var u;return c.props&&c.props.payload?u=c.props&&c.props.payload:o==="children"?u=(r||[]).reduce(function(f,d){var h=d.item,m=d.props,g=m.sectors||m.data||[];return f.concat(g.map(function(v){return{type:c.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(r||[]).map(function(f){var d=f.item,h=d.props,m=h.dataKey,g=h.name,v=h.legendType,j=h.hide;return{inactive:j,dataKey:m,type:c.props.iconType||v||"square",color:Eb(d),value:g||m,payload:d.props}}),lx(lx(lx({},c.props),Ml.getWithHeight(c,a)),{},{payload:u,item:c})};function Yl(e){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yl(e)}function BC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Qn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BC(Object(n),!0).forEach(function(r){Ts(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ts(e,t,n){return t=c7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c7(e){var t=u7(e,"string");return Yl(t)=="symbol"?t:String(t)}function u7(e,t){if(Yl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FC(e){return h7(e)||p7(e)||f7(e)||d7()}function d7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f7(e,t){if(e){if(typeof e=="string")return Iv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Iv(e,t)}}function p7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function h7(e){if(Array.isArray(e))return Iv(e)}function Iv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _t(e,t,n){return Be(e)||Be(t)?n:Tt(t)?Jn(e,t,n):Fe(t)?t(e):n}function jl(e,t,n,r){var a=b9(e,function(u){return _t(u,t)});if(n==="number"){var o=a.filter(function(u){return he(u)||parseFloat(u)});return o.length?[Tf(o),qa(o)]:[1/0,-1/0]}var c=r?a.filter(function(u){return!Be(u)}):a;return c.map(function(u){return Tt(u)||u instanceof Date?u:""})}var m7=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,c=-1,u=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(u<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var f=o.range,d=0;d<u;d++){var h=d>0?a[d-1].coordinate:a[u-1].coordinate,m=a[d].coordinate,g=d>=u-1?a[0].coordinate:a[d+1].coordinate,v=void 0;if(gr(m-h)!==gr(g-m)){var j=[];if(gr(g-m)===gr(f[1]-f[0])){v=g;var w=m+f[1]-f[0];j[0]=Math.min(w,(w+h)/2),j[1]=Math.max(w,(w+h)/2)}else{v=h;var b=g+f[1]-f[0];j[0]=Math.min(m,(b+m)/2),j[1]=Math.max(m,(b+m)/2)}var y=[Math.min(m,(v+m)/2),Math.max(m,(v+m)/2)];if(t>y[0]&&t<=y[1]||t>=j[0]&&t<=j[1]){c=a[d].index;break}}else{var S=Math.min(h,g),P=Math.max(h,g);if(t>(S+m)/2&&t<=(P+m)/2){c=a[d].index;break}}}else for(var k=0;k<u;k++)if(k===0&&t<=(r[k].coordinate+r[k+1].coordinate)/2||k>0&&k<u-1&&t>(r[k].coordinate+r[k-1].coordinate)/2&&t<=(r[k].coordinate+r[k+1].coordinate)/2||k===u-1&&t>(r[k].coordinate+r[k-1].coordinate)/2){c=r[k].index;break}return c},Eb=function(t){var n=t,r=n.type.displayName,a=t.props,o=a.stroke,c=a.fill,u;switch(r){case"Line":u=o;break;case"Area":case"Radar":u=o&&o!=="none"?o:c;break;default:u=c;break}return u},g7=function(t){var n=t.barSize,r=t.stackGroups,a=r===void 0?{}:r;if(!a)return{};for(var o={},c=Object.keys(a),u=0,f=c.length;u<f;u++)for(var d=a[c[u]].stackGroups,h=Object.keys(d),m=0,g=h.length;m<g;m++){var v=d[h[m]],j=v.items,w=v.cateAxisId,b=j.filter(function(P){return ta(P.type).indexOf("Bar")>=0});if(b&&b.length){var y=b[0].props.barSize,S=b[0].props[w];o[S]||(o[S]=[]),o[S].push({item:b[0],stackList:b.slice(1),barSize:Be(y)?n:y})}}return o},x7=function(t){var n=t.barGap,r=t.barCategoryGap,a=t.bandSize,o=t.sizeList,c=o===void 0?[]:o,u=t.maxBarSize,f=c.length;if(f<1)return null;var d=Ms(n,a,0,!0),h,m=[];if(c[0].barSize===+c[0].barSize){var g=!1,v=a/f,j=c.reduce(function(k,C){return k+C.barSize||0},0);j+=(f-1)*d,j>=a&&(j-=(f-1)*d,d=0),j>=a&&v>0&&(g=!0,v*=.9,j=f*v);var w=(a-j)/2>>0,b={offset:w-d,size:0};h=c.reduce(function(k,C){var E={item:C.item,position:{offset:b.offset+b.size+d,size:g?v:C.barSize}},D=[].concat(FC(k),[E]);return b=D[D.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(I){D.push({item:I,position:b})}),D},m)}else{var y=Ms(r,a,0,!0);a-2*y-(f-1)*d<=0&&(d=0);var S=(a-2*y-(f-1)*d)/f;S>1&&(S>>=0);var P=u===+u?Math.min(S,u):S;h=c.reduce(function(k,C,E){var D=[].concat(FC(k),[{item:C.item,position:{offset:y+(S+d)*E+(S-P)/2,size:P}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(I){D.push({item:I,position:D[D.length-1].position})}),D},m)}return h},v7=function(t,n,r,a){var o=r.children,c=r.width,u=r.margin,f=c-(u.left||0)-(u.right||0),d=OO({children:o,legendWidth:f});if(d){var h=a||{},m=h.width,g=h.height,v=d.align,j=d.verticalAlign,w=d.layout;if((w==="vertical"||w==="horizontal"&&j==="middle")&&v!=="center"&&he(t[v]))return Qn(Qn({},t),{},Ts({},v,t[v]+(m||0)));if((w==="horizontal"||w==="vertical"&&v==="center")&&j!=="middle"&&he(t[j]))return Qn(Qn({},t),{},Ts({},j,t[j]+(g||0)))}return t},y7=function(t,n,r){return Be(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},IO=function(t,n,r,a,o){var c=n.props.children,u=Nn(c,mo).filter(function(d){return y7(a,o,d.props.direction)});if(u&&u.length){var f=u.map(function(d){return d.props.dataKey});return t.reduce(function(d,h){var m=_t(h,r,0),g=Array.isArray(m)?[Tf(m),qa(m)]:[m,m],v=f.reduce(function(j,w){var b=_t(h,w,0),y=g[0]-Math.abs(Array.isArray(b)?b[0]:b),S=g[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(y,j[0]),Math.max(S,j[1])]},[1/0,-1/0]);return[Math.min(v[0],d[0]),Math.max(v[1],d[1])]},[1/0,-1/0])}return null},b7=function(t,n,r,a,o){var c=n.map(function(u){return IO(t,u,r,o,a)}).filter(function(u){return!Be(u)});return c&&c.length?c.reduce(function(u,f){return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]):null},TO=function(t,n,r,a,o){var c=n.map(function(f){var d=f.props.dataKey;return r==="number"&&d&&IO(t,f,d,a)||jl(t,d,r,o)});if(r==="number")return c.reduce(function(f,d){return[Math.min(f[0],d[0]),Math.max(f[1],d[1])]},[1/0,-1/0]);var u={};return c.reduce(function(f,d){for(var h=0,m=d.length;h<m;h++)u[d[h]]||(u[d[h]]=!0,f.push(d[h]));return f},[])},_O=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},MO=function(t,n,r,a){if(a)return t.map(function(f){return f.coordinate});var o,c,u=t.map(function(f){return f.coordinate===n&&(o=!0),f.coordinate===r&&(c=!0),f.coordinate});return o||u.push(n),c||u.push(r),u},Jr=function(t,n,r){if(!t)return null;var a=t.scale,o=t.duplicateDomain,c=t.type,u=t.range,f=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,d=(n||r)&&c==="category"&&a.bandwidth?a.bandwidth()/f:0;if(d=t.axisType==="angleAxis"&&(u==null?void 0:u.length)>=2?gr(u[0]-u[1])*2*d:d,n&&(t.ticks||t.niceTicks)){var h=(t.ticks||t.niceTicks).map(function(m){var g=o?o.indexOf(m):m;return{coordinate:a(g)+d,value:m,offset:d}});return h.filter(function(m){return!co(m.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(m,g){return{coordinate:a(m)+d,value:m,index:g,offset:d}}):a.ticks&&!r?a.ticks(t.tickCount).map(function(m){return{coordinate:a(m)+d,value:m,offset:d}}):a.domain().map(function(m,g){return{coordinate:a(m)+d,value:o?o[m]:m,index:g,offset:d}})},cx=new WeakMap,Xu=function(t,n){if(typeof n!="function")return t;cx.has(t)||cx.set(t,new WeakMap);var r=cx.get(t);if(r.has(n))return r.get(n);var a=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,a),a},w7=function(t,n,r){var a=t.scale,o=t.type,c=t.layout,u=t.axisType;if(a==="auto")return c==="radial"&&u==="radiusAxis"?{scale:Fl(),realScaleType:"band"}:c==="radial"&&u==="angleAxis"?{scale:Id(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:wl(),realScaleType:"point"}:o==="category"?{scale:Fl(),realScaleType:"band"}:{scale:Id(),realScaleType:"linear"};if(Nc(a)){var f="scale".concat(yf(a));return{scale:(CC[f]||wl)(),realScaleType:CC[f]?f:"point"}}return Fe(a)?{scale:a}:{scale:wl(),realScaleType:"point"}},UC=1e-4,j7=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,a=t.range(),o=Math.min(a[0],a[1])-UC,c=Math.max(a[0],a[1])+UC,u=t(n[0]),f=t(n[r-1]);(u<o||u>c||f<o||f>c)&&t.domain([n[0],n[r-1]])}},N7=function(t,n){if(!t)return null;for(var r=0,a=t.length;r<a;r++)if(t[r].item===n)return t[r].position;return null},S7=function(t,n){if(!n||n.length!==2||!he(n[0])||!he(n[1]))return t;var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]),o=[t[0],t[1]];return(!he(t[0])||t[0]<r)&&(o[0]=r),(!he(t[1])||t[1]>a)&&(o[1]=a),o[0]>a&&(o[0]=a),o[1]<r&&(o[1]=r),o},k7=function(t){var n=t.length;if(!(n<=0))for(var r=0,a=t[0].length;r<a;++r)for(var o=0,c=0,u=0;u<n;++u){var f=co(t[u][r][1])?t[u][r][0]:t[u][r][1];f>=0?(t[u][r][0]=o,t[u][r][1]=o+f,o=t[u][r][1]):(t[u][r][0]=c,t[u][r][1]=c+f,c=t[u][r][1])}},C7=function(t){var n=t.length;if(!(n<=0))for(var r=0,a=t[0].length;r<a;++r)for(var o=0,c=0;c<n;++c){var u=co(t[c][r][1])?t[c][r][0]:t[c][r][1];u>=0?(t[c][r][0]=o,t[c][r][1]=o+u,o=t[c][r][1]):(t[c][r][0]=0,t[c][r][1]=0)}},A7={sign:k7,expand:b6,none:Rs,silhouette:w6,wiggle:j6,positive:C7},P7=function(t,n,r){var a=n.map(function(u){return u.props.dataKey}),o=A7[r],c=y6().keys(a).value(function(u,f){return+_t(u,f,0)}).order(uv).offset(o);return c(t)},E7=function(t,n,r,a,o,c){if(!t)return null;var u=c?n.reverse():n,f={},d=u.reduce(function(m,g){var v=g.props,j=v.stackId,w=v.hide;if(w)return m;var b=g.props[r],y=m[b]||{hasStack:!1,stackGroups:{}};if(Tt(j)){var S=y.stackGroups[j]||{numericAxisId:r,cateAxisId:a,items:[]};S.items.push(g),y.hasStack=!0,y.stackGroups[j]=S}else y.stackGroups[Wi("_stackId_")]={numericAxisId:r,cateAxisId:a,items:[g]};return Qn(Qn({},m),{},Ts({},b,y))},f),h={};return Object.keys(d).reduce(function(m,g){var v=d[g];if(v.hasStack){var j={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(w,b){var y=v.stackGroups[b];return Qn(Qn({},w),{},Ts({},b,{numericAxisId:r,cateAxisId:a,items:y.items,stackedData:P7(t,y.items,o)}))},j)}return Qn(Qn({},m),{},Ts({},g,v))},h)},D7=function(t,n){var r=n.realScaleType,a=n.type,o=n.tickCount,c=n.originalDomain,u=n.allowDecimals,f=r||n.scale;if(f!=="auto"&&f!=="linear")return null;if(o&&a==="number"&&c&&(c[0]==="auto"||c[1]==="auto")){var d=t.domain();if(!d.length)return null;var h=Y9(d,o,u);return t.domain([Tf(h),qa(h)]),{niceTicks:h}}if(o&&a==="number"){var m=t.domain(),g=X9(m,o,u);return{niceTicks:g}}return null};function Ws(e){var t=e.axis,n=e.ticks,r=e.bandSize,a=e.entry,o=e.index,c=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Be(a[t.dataKey])){var u=fd(n,"value",a[t.dataKey]);if(u)return u.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var f=_t(a,Be(c)?t.dataKey:c);return Be(f)?null:t.scale(f)}var qC=function(t){var n=t.axis,r=t.ticks,a=t.offset,o=t.bandSize,c=t.entry,u=t.index;if(n.type==="category")return r[u]?r[u].coordinate+a:null;var f=_t(c,n.dataKey,n.domain[u]);return Be(f)?null:n.scale(f)-o/2+a},O7=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var a=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return a<=0&&o>=0?0:o<0?o:a}return r[0]},I7=function(t,n){var r=t.props.stackId;if(Tt(r)){var a=n[r];if(a){var o=a.items.indexOf(t);return o>=0?a.stackedData[o]:null}}return null},T7=function(t){return t.reduce(function(n,r){return[Tf(r.concat([n[0]]).filter(he)),qa(r.concat([n[1]]).filter(he))]},[1/0,-1/0])},RO=function(t,n,r){return Object.keys(t).reduce(function(a,o){var c=t[o],u=c.stackedData,f=u.reduce(function(d,h){var m=T7(h.slice(n,r+1));return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(f[0],a[0]),Math.max(f[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},WC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,HC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Tv=function(t,n,r){if(Fe(t))return t(n,r);if(!Array.isArray(t))return n;var a=[];if(he(t[0]))a[0]=r?t[0]:Math.min(t[0],n[0]);else if(WC.test(t[0])){var o=+WC.exec(t[0])[1];a[0]=n[0]-o}else Fe(t[0])?a[0]=t[0](n[0]):a[0]=n[0];if(he(t[1]))a[1]=r?t[1]:Math.max(t[1],n[1]);else if(HC.test(t[1])){var c=+HC.exec(t[1])[1];a[1]=n[1]+c}else Fe(t[1])?a[1]=t[1](n[1]):a[1]=n[1];return a},zd=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!r||a>0)return a}if(t&&n&&n.length>=2){for(var o=nb(n,function(m){return m.coordinate}),c=1/0,u=1,f=o.length;u<f;u++){var d=o[u],h=o[u-1];c=Math.min((d.coordinate||0)-(h.coordinate||0),c)}return c===1/0?0:c}return r?void 0:0},VC=function(t,n,r){return!t||!t.length||Ri(t,Jn(r,"type.defaultProps.domain"))?n:t},$O=function(t,n){var r=t.props,a=r.dataKey,o=r.name,c=r.unit,u=r.formatter,f=r.tooltipType,d=r.chartType,h=r.hide;return Qn(Qn({},Le(t,!1)),{},{dataKey:a,unit:c,formatter:u,name:o||a,color:Eb(t),value:_t(n,a),type:f,payload:n,chartType:d,hide:h})};function Xl(e){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xl(e)}function KC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function GC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KC(Object(n),!0).forEach(function(r){_7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _7(e,t,n){return t=M7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M7(e){var t=R7(e,"string");return Xl(t)=="symbol"?t:String(t)}function R7(e,t){if(Xl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ld=Math.PI/180,$7=function(t){return t*180/Math.PI},Gt=function(t,n,r,a){return{x:t+Math.cos(-Ld*a)*r,y:n+Math.sin(-Ld*a)*r}},z7=function(t,n){var r=t.x,a=t.y,o=n.x,c=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(a-c,2))},L7=function(t,n){var r=t.x,a=t.y,o=n.cx,c=n.cy,u=z7({x:r,y:a},{x:o,y:c});if(u<=0)return{radius:u};var f=(r-o)/u,d=Math.acos(f);return a>c&&(d=2*Math.PI-d),{radius:u,angle:$7(d),angleInRadian:d}},B7=function(t){var n=t.startAngle,r=t.endAngle,a=Math.floor(n/360),o=Math.floor(r/360),c=Math.min(a,o);return{startAngle:n-c*360,endAngle:r-c*360}},F7=function(t,n){var r=n.startAngle,a=n.endAngle,o=Math.floor(r/360),c=Math.floor(a/360),u=Math.min(o,c);return t+u*360},YC=function(t,n){var r=t.x,a=t.y,o=L7({x:r,y:a},n),c=o.radius,u=o.angle,f=n.innerRadius,d=n.outerRadius;if(c<f||c>d)return!1;if(c===0)return!0;var h=B7(n),m=h.startAngle,g=h.endAngle,v=u,j;if(m<=g){for(;v>g;)v-=360;for(;v<m;)v+=360;j=v>=m&&v<=g}else{for(;v>m;)v-=360;for(;v<g;)v+=360;j=v>=g&&v<=m}return j?GC(GC({},n),{},{radius:c,angle:F7(v,n)}):null};function Ql(e){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ql(e)}var U7=["offset"];function q7(e){return K7(e)||V7(e)||H7(e)||W7()}function W7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H7(e,t){if(e){if(typeof e=="string")return _v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _v(e,t)}}function V7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function K7(e){if(Array.isArray(e))return _v(e)}function _v(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function G7(e,t){if(e==null)return{};var n=Y7(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Y7(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function XC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XC(Object(n),!0).forEach(function(r){X7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function X7(e,t,n){return t=Q7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q7(e){var t=Z7(e,"string");return Ql(t)=="symbol"?t:String(t)}function Z7(e,t){if(Ql(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zl(){return Zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zl.apply(this,arguments)}var J7=function(t){var n=t.value,r=t.formatter,a=Be(t.children)?n:t.children;return Fe(r)?r(a):a},eB=function(t,n){var r=gr(n-t),a=Math.min(Math.abs(n-t),360);return r*a},tB=function(t,n,r){var a=t.position,o=t.viewBox,c=t.offset,u=t.className,f=o,d=f.cx,h=f.cy,m=f.innerRadius,g=f.outerRadius,v=f.startAngle,j=f.endAngle,w=f.clockWise,b=(m+g)/2,y=eB(v,j),S=y>=0?1:-1,P,k;a==="insideStart"?(P=v+S*c,k=w):a==="insideEnd"?(P=j-S*c,k=!w):a==="end"&&(P=j+S*c,k=w),k=y<=0?k:!k;var C=Gt(d,h,b,P),E=Gt(d,h,b,P+(k?1:-1)*359),D="M".concat(C.x,",").concat(C.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(k?0:1,`,
    `).concat(E.x,",").concat(E.y),I=Be(t.id)?Wi("recharts-radial-line-"):t.id;return q.createElement("text",Zl({},r,{dominantBaseline:"central",className:Xe("recharts-radial-bar-label",u)}),q.createElement("defs",null,q.createElement("path",{id:I,d:D})),q.createElement("textPath",{xlinkHref:"#".concat(I)},n))},nB=function(t){var n=t.viewBox,r=t.offset,a=t.position,o=n,c=o.cx,u=o.cy,f=o.innerRadius,d=o.outerRadius,h=o.startAngle,m=o.endAngle,g=(h+m)/2;if(a==="outside"){var v=Gt(c,u,d+r,g),j=v.x,w=v.y;return{x:j,y:w,textAnchor:j>=c?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:c,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:c,y:u,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:c,y:u,textAnchor:"middle",verticalAnchor:"end"};var b=(f+d)/2,y=Gt(c,u,b,g),S=y.x,P=y.y;return{x:S,y:P,textAnchor:"middle",verticalAnchor:"middle"}},rB=function(t){var n=t.viewBox,r=t.parentViewBox,a=t.offset,o=t.position,c=n,u=c.x,f=c.y,d=c.width,h=c.height,m=h>=0?1:-1,g=m*a,v=m>0?"end":"start",j=m>0?"start":"end",w=d>=0?1:-1,b=w*a,y=w>0?"end":"start",S=w>0?"start":"end";if(o==="top"){var P={x:u+d/2,y:f-m*a,textAnchor:"middle",verticalAnchor:v};return It(It({},P),r?{height:Math.max(f-r.y,0),width:d}:{})}if(o==="bottom"){var k={x:u+d/2,y:f+h+g,textAnchor:"middle",verticalAnchor:j};return It(It({},k),r?{height:Math.max(r.y+r.height-(f+h),0),width:d}:{})}if(o==="left"){var C={x:u-b,y:f+h/2,textAnchor:y,verticalAnchor:"middle"};return It(It({},C),r?{width:Math.max(C.x-r.x,0),height:h}:{})}if(o==="right"){var E={x:u+d+b,y:f+h/2,textAnchor:S,verticalAnchor:"middle"};return It(It({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:h}:{})}var D=r?{width:d,height:h}:{};return o==="insideLeft"?It({x:u+b,y:f+h/2,textAnchor:S,verticalAnchor:"middle"},D):o==="insideRight"?It({x:u+d-b,y:f+h/2,textAnchor:y,verticalAnchor:"middle"},D):o==="insideTop"?It({x:u+d/2,y:f+g,textAnchor:"middle",verticalAnchor:j},D):o==="insideBottom"?It({x:u+d/2,y:f+h-g,textAnchor:"middle",verticalAnchor:v},D):o==="insideTopLeft"?It({x:u+b,y:f+g,textAnchor:S,verticalAnchor:j},D):o==="insideTopRight"?It({x:u+d-b,y:f+g,textAnchor:y,verticalAnchor:j},D):o==="insideBottomLeft"?It({x:u+b,y:f+h-g,textAnchor:S,verticalAnchor:v},D):o==="insideBottomRight"?It({x:u+d-b,y:f+h-g,textAnchor:y,verticalAnchor:v},D):lo(o)&&(he(o.x)||Si(o.x))&&(he(o.y)||Si(o.y))?It({x:u+Ms(o.x,d),y:f+Ms(o.y,h),textAnchor:"end",verticalAnchor:"end"},D):It({x:u+d/2,y:f+h/2,textAnchor:"middle",verticalAnchor:"middle"},D)},aB=function(t){return"cx"in t&&he(t.cx)};function an(e){var t=e.offset,n=t===void 0?5:t,r=G7(e,U7),a=It({offset:n},r),o=a.viewBox,c=a.position,u=a.value,f=a.children,d=a.content,h=a.className,m=h===void 0?"":h,g=a.textBreakAll;if(!o||Be(u)&&Be(f)&&!O.isValidElement(d)&&!Fe(d))return null;if(O.isValidElement(d))return O.cloneElement(d,a);var v;if(Fe(d)){if(v=O.createElement(d,a),O.isValidElement(v))return v}else v=J7(a);var j=aB(o),w=Le(a,!0);if(j&&(c==="insideStart"||c==="insideEnd"||c==="end"))return tB(a,v,w);var b=j?nB(a):rB(a);return q.createElement(Sd,Zl({className:Xe("recharts-label",m)},w,b,{breakAll:g}),v)}an.displayName="Label";var zO=function(t){var n=t.cx,r=t.cy,a=t.angle,o=t.startAngle,c=t.endAngle,u=t.r,f=t.radius,d=t.innerRadius,h=t.outerRadius,m=t.x,g=t.y,v=t.top,j=t.left,w=t.width,b=t.height,y=t.clockWise,S=t.labelViewBox;if(S)return S;if(he(w)&&he(b)){if(he(m)&&he(g))return{x:m,y:g,width:w,height:b};if(he(v)&&he(j))return{x:v,y:j,width:w,height:b}}return he(m)&&he(g)?{x:m,y:g,width:0,height:0}:he(n)&&he(r)?{cx:n,cy:r,startAngle:o||a||0,endAngle:c||a||0,innerRadius:d||0,outerRadius:h||f||u||0,clockWise:y}:t.viewBox?t.viewBox:{}},iB=function(t,n){return t?t===!0?q.createElement(an,{key:"label-implicit",viewBox:n}):Tt(t)?q.createElement(an,{key:"label-implicit",viewBox:n,value:t}):O.isValidElement(t)?t.type===an?O.cloneElement(t,{key:"label-implicit",viewBox:n}):q.createElement(an,{key:"label-implicit",content:t,viewBox:n}):Fe(t)?q.createElement(an,{key:"label-implicit",content:t,viewBox:n}):lo(t)?q.createElement(an,Zl({viewBox:n},t,{key:"label-implicit"})):null:null},sB=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var a=t.children,o=zO(t),c=Nn(a,an).map(function(f,d){return O.cloneElement(f,{viewBox:n||o,key:"label-".concat(d)})});if(!r)return c;var u=iB(t.label,n||o);return[u].concat(q7(c))};an.parseViewBox=zO;an.renderCallByParent=sB;var ux,QC;function oB(){if(QC)return ux;QC=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return ux=e,ux}var lB=oB();const cB=lt(lB);function Jl(e){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jl(e)}var uB=["valueAccessor"],dB=["data","dataKey","clockWise","id","textBreakAll"];function fB(e){return gB(e)||mB(e)||hB(e)||pB()}function pB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hB(e,t){if(e){if(typeof e=="string")return Mv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mv(e,t)}}function mB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gB(e){if(Array.isArray(e))return Mv(e)}function Mv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bd(){return Bd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bd.apply(this,arguments)}function ZC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function JC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZC(Object(n),!0).forEach(function(r){xB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xB(e,t,n){return t=vB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vB(e){var t=yB(e,"string");return Jl(t)=="symbol"?t:String(t)}function yB(e,t){if(Jl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eA(e,t){if(e==null)return{};var n=bB(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function bB(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}var wB=function(t){return Array.isArray(t.value)?cB(t.value):t.value};function Tr(e){var t=e.valueAccessor,n=t===void 0?wB:t,r=eA(e,uB),a=r.data,o=r.dataKey,c=r.clockWise,u=r.id,f=r.textBreakAll,d=eA(r,dB);return!a||!a.length?null:q.createElement(Ze,{className:"recharts-label-list"},a.map(function(h,m){var g=Be(o)?n(h,m):_t(h&&h.payload,o),v=Be(u)?{}:{id:"".concat(u,"-").concat(m)};return q.createElement(an,Bd({},Le(h,!0),d,v,{parentViewBox:h.parentViewBox,value:g,textBreakAll:f,viewBox:an.parseViewBox(Be(c)?h:JC(JC({},h),{},{clockWise:c})),key:"label-".concat(m),index:m}))}))}Tr.displayName="LabelList";function jB(e,t){return e?e===!0?q.createElement(Tr,{key:"labelList-implicit",data:t}):q.isValidElement(e)||Fe(e)?q.createElement(Tr,{key:"labelList-implicit",data:t,content:e}):lo(e)?q.createElement(Tr,Bd({data:t},e,{key:"labelList-implicit"})):null:null}function NB(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,a=Nn(r,Tr).map(function(c,u){return O.cloneElement(c,{data:t,key:"labelList-".concat(u)})});if(!n)return a;var o=jB(e.label,t);return[o].concat(fB(a))}Tr.renderCallByParent=NB;function ec(e){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ec(e)}function Rv(){return Rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rv.apply(this,arguments)}function tA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function nA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tA(Object(n),!0).forEach(function(r){SB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SB(e,t,n){return t=kB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kB(e){var t=CB(e,"string");return ec(t)=="symbol"?t:String(t)}function CB(e,t){if(ec(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AB=function(t,n){var r=gr(n-t),a=Math.min(Math.abs(n-t),359.999);return r*a},Qu=function(t){var n=t.cx,r=t.cy,a=t.radius,o=t.angle,c=t.sign,u=t.isExternal,f=t.cornerRadius,d=t.cornerIsExternal,h=f*(u?1:-1)+a,m=Math.asin(f/h)/Ld,g=d?o:o+c*m,v=Gt(n,r,h,g),j=Gt(n,r,a,g),w=d?o-c*m:o,b=Gt(n,r,h*Math.cos(m*Ld),w);return{center:v,circleTangency:j,lineTangency:b,theta:m}},LO=function(t){var n=t.cx,r=t.cy,a=t.innerRadius,o=t.outerRadius,c=t.startAngle,u=t.endAngle,f=AB(c,u),d=c+f,h=Gt(n,r,o,c),m=Gt(n,r,o,d),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(f)>180),",").concat(+(c>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(a>0){var v=Gt(n,r,a,c),j=Gt(n,r,a,d);g+="L ".concat(j.x,",").concat(j.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(f)>180),",").concat(+(c<=d),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(n,",").concat(r," Z");return g},PB=function(t){var n=t.cx,r=t.cy,a=t.innerRadius,o=t.outerRadius,c=t.cornerRadius,u=t.forceCornerRadius,f=t.cornerIsExternal,d=t.startAngle,h=t.endAngle,m=gr(h-d),g=Qu({cx:n,cy:r,radius:o,angle:d,sign:m,cornerRadius:c,cornerIsExternal:f}),v=g.circleTangency,j=g.lineTangency,w=g.theta,b=Qu({cx:n,cy:r,radius:o,angle:h,sign:-m,cornerRadius:c,cornerIsExternal:f}),y=b.circleTangency,S=b.lineTangency,P=b.theta,k=f?Math.abs(d-h):Math.abs(d-h)-w-P;if(k<0)return u?"M ".concat(j.x,",").concat(j.y,`
        a`).concat(c,",").concat(c,",0,0,1,").concat(c*2,`,0
        a`).concat(c,",").concat(c,",0,0,1,").concat(-c*2,`,0
      `):LO({cx:n,cy:r,innerRadius:a,outerRadius:o,startAngle:d,endAngle:h});var C="M ".concat(j.x,",").concat(j.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(m<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(k>180),",").concat(+(m<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(m<0),",").concat(S.x,",").concat(S.y,`
  `);if(a>0){var E=Qu({cx:n,cy:r,radius:a,angle:d,sign:m,isExternal:!0,cornerRadius:c,cornerIsExternal:f}),D=E.circleTangency,I=E.lineTangency,$=E.theta,B=Qu({cx:n,cy:r,radius:a,angle:h,sign:-m,isExternal:!0,cornerRadius:c,cornerIsExternal:f}),_=B.circleTangency,R=B.lineTangency,L=B.theta,z=f?Math.abs(d-h):Math.abs(d-h)-$-L;if(z<0&&c===0)return"".concat(C,"L").concat(n,",").concat(r,"Z");C+="L".concat(R.x,",").concat(R.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(m<0),",").concat(_.x,",").concat(_.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(z>180),",").concat(+(m>0),",").concat(D.x,",").concat(D.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(m<0),",").concat(I.x,",").concat(I.y,"Z")}else C+="L".concat(n,",").concat(r,"Z");return C},EB={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},BO=function(t){var n=nA(nA({},EB),t),r=n.cx,a=n.cy,o=n.innerRadius,c=n.outerRadius,u=n.cornerRadius,f=n.forceCornerRadius,d=n.cornerIsExternal,h=n.startAngle,m=n.endAngle,g=n.className;if(c<o||h===m)return null;var v=Xe("recharts-sector",g),j=c-o,w=Ms(u,j,0,!0),b;return w>0&&Math.abs(h-m)<360?b=PB({cx:r,cy:a,innerRadius:o,outerRadius:c,cornerRadius:Math.min(w,j/2),forceCornerRadius:f,cornerIsExternal:d,startAngle:h,endAngle:m}):b=LO({cx:r,cy:a,innerRadius:o,outerRadius:c,startAngle:h,endAngle:m}),q.createElement("path",Rv({},Le(n,!0),{className:v,d:b,role:"img"}))};function tc(e){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tc(e)}function $v(){return $v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$v.apply(this,arguments)}function rA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function aA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rA(Object(n),!0).forEach(function(r){DB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DB(e,t,n){return t=OB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OB(e){var t=IB(e,"string");return tc(t)=="symbol"?t:String(t)}function IB(e,t){if(tc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iA={curveBasisClosed:l6,curveBasisOpen:c6,curveBasis:o6,curveBumpX:K3,curveBumpY:G3,curveLinearClosed:u6,curveLinear:wf,curveMonotoneX:d6,curveMonotoneY:f6,curveNatural:p6,curveStep:h6,curveStepAfter:g6,curveStepBefore:m6},Zu=function(t){return t.x===+t.x&&t.y===+t.y},ll=function(t){return t.x},cl=function(t){return t.y},TB=function(t,n){if(Fe(t))return t;var r="curve".concat(yf(t));return(r==="curveMonotone"||r==="curveBump")&&n?iA["".concat(r).concat(n==="vertical"?"Y":"X")]:iA[r]||wf},_B=function(t){var n=t.type,r=n===void 0?"linear":n,a=t.points,o=a===void 0?[]:a,c=t.baseLine,u=t.layout,f=t.connectNulls,d=f===void 0?!1:f,h=TB(r,u),m=d?o.filter(function(w){return Zu(w)}):o,g;if(Array.isArray(c)){var v=d?c.filter(function(w){return Zu(w)}):c,j=m.map(function(w,b){return aA(aA({},w),{},{base:v[b]})});return u==="vertical"?g=qu().y(cl).x1(ll).x0(function(w){return w.base.x}):g=qu().x(ll).y1(cl).y0(function(w){return w.base.y}),g.defined(Zu).curve(h),g(j)}return u==="vertical"&&he(c)?g=qu().y(cl).x1(ll).x0(c):he(c)?g=qu().x(ll).y1(cl).y0(c):g=GE().x(ll).y(cl),g.defined(Zu).curve(h),g(m)},Ti=function(t){var n=t.className,r=t.points,a=t.path,o=t.pathRef;if((!r||!r.length)&&!a)return null;var c=r&&r.length?_B(t):a;return q.createElement("path",$v({},Le(t,!1),pd(t),{className:Xe("recharts-curve",n),d:c,ref:o}))},dx={exports:{}},fx,sA;function MB(){if(sA)return fx;sA=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return fx=e,fx}var px,oA;function RB(){if(oA)return px;oA=1;var e=MB();function t(){}function n(){}return n.resetWarningCache=t,px=function(){function r(c,u,f,d,h,m){if(m!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function a(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o},px}var lA;function $B(){return lA||(lA=1,dx.exports=RB()()),dx.exports}var zB=$B();const tt=lt(zB),{getOwnPropertyNames:LB,getOwnPropertySymbols:BB}=Object,{hasOwnProperty:FB}=Object.prototype;function hx(e,t){return function(r,a,o){return e(r,a,o)&&t(r,a,o)}}function Ju(e){return function(n,r,a){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,a);const{cache:o}=a,c=o.get(n),u=o.get(r);if(c&&u)return c===r&&u===n;o.set(n,r),o.set(r,n);const f=e(n,r,a);return o.delete(n),o.delete(r),f}}function UB(e){return e!=null?e[Symbol.toStringTag]:void 0}function cA(e){return LB(e).concat(BB(e))}const qB=Object.hasOwn||((e,t)=>FB.call(e,t));function Ki(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const WB="__v",HB="__o",VB="_owner",{getOwnPropertyDescriptor:uA,keys:dA}=Object;function KB(e,t){return e.byteLength===t.byteLength&&Fd(new Uint8Array(e),new Uint8Array(t))}function GB(e,t,n){let r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function YB(e,t){return e.byteLength===t.byteLength&&Fd(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function XB(e,t){return Ki(e.getTime(),t.getTime())}function QB(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function ZB(e,t){return e===t}function fA(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const a=new Array(r),o=e.entries();let c,u,f=0;for(;(c=o.next())&&!c.done;){const d=t.entries();let h=!1,m=0;for(;(u=d.next())&&!u.done;){if(a[m]){m++;continue}const g=c.value,v=u.value;if(n.equals(g[0],v[0],f,m,e,t,n)&&n.equals(g[1],v[1],g[0],v[0],e,t,n)){h=a[m]=!0;break}m++}if(!h)return!1;f++}return!0}const JB=Ki;function eF(e,t,n){const r=dA(e);let a=r.length;if(dA(t).length!==a)return!1;for(;a-- >0;)if(!FO(e,t,n,r[a]))return!1;return!0}function ul(e,t,n){const r=cA(e);let a=r.length;if(cA(t).length!==a)return!1;let o,c,u;for(;a-- >0;)if(o=r[a],!FO(e,t,n,o)||(c=uA(e,o),u=uA(t,o),(c||u)&&(!c||!u||c.configurable!==u.configurable||c.enumerable!==u.enumerable||c.writable!==u.writable)))return!1;return!0}function tF(e,t){return Ki(e.valueOf(),t.valueOf())}function nF(e,t){return e.source===t.source&&e.flags===t.flags}function pA(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const a=new Array(r),o=e.values();let c,u;for(;(c=o.next())&&!c.done;){const f=t.values();let d=!1,h=0;for(;(u=f.next())&&!u.done;){if(!a[h]&&n.equals(c.value,u.value,c.value,u.value,e,t,n)){d=a[h]=!0;break}h++}if(!d)return!1}return!0}function Fd(e,t){let n=e.byteLength;if(t.byteLength!==n||e.byteOffset!==t.byteOffset)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function rF(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function FO(e,t,n,r){return(r===VB||r===HB||r===WB)&&(e.$$typeof||t.$$typeof)?!0:qB(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}const aF="[object ArrayBuffer]",iF="[object Arguments]",sF="[object Boolean]",oF="[object DataView]",lF="[object Date]",cF="[object Error]",uF="[object Map]",dF="[object Number]",fF="[object Object]",pF="[object RegExp]",hF="[object Set]",mF="[object String]",gF={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},xF="[object URL]",vF=Object.prototype.toString;function yF({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:a,areFunctionsEqual:o,areMapsEqual:c,areNumbersEqual:u,areObjectsEqual:f,arePrimitiveWrappersEqual:d,areRegExpsEqual:h,areSetsEqual:m,areTypedArraysEqual:g,areUrlsEqual:v,unknownTagComparators:j}){return function(b,y,S){if(b===y)return!0;if(b==null||y==null)return!1;const P=typeof b;if(P!==typeof y)return!1;if(P!=="object")return P==="number"?u(b,y,S):P==="function"?o(b,y,S):!1;const k=b.constructor;if(k!==y.constructor)return!1;if(k===Object)return f(b,y,S);if(Array.isArray(b))return t(b,y,S);if(k===Date)return r(b,y,S);if(k===RegExp)return h(b,y,S);if(k===Map)return c(b,y,S);if(k===Set)return m(b,y,S);const C=vF.call(b);if(C===lF)return r(b,y,S);if(C===pF)return h(b,y,S);if(C===uF)return c(b,y,S);if(C===hF)return m(b,y,S);if(C===fF)return typeof b.then!="function"&&typeof y.then!="function"&&f(b,y,S);if(C===xF)return v(b,y,S);if(C===cF)return a(b,y,S);if(C===iF)return f(b,y,S);if(gF[C])return g(b,y,S);if(C===aF)return e(b,y,S);if(C===oF)return n(b,y,S);if(C===sF||C===dF||C===mF)return d(b,y,S);if(j){let E=j[C];if(!E){const D=UB(b);D&&(E=j[D])}if(E)return E(b,y,S)}return!1}}function bF({circular:e,createCustomConfig:t,strict:n}){let r={areArrayBuffersEqual:KB,areArraysEqual:n?ul:GB,areDataViewsEqual:YB,areDatesEqual:XB,areErrorsEqual:QB,areFunctionsEqual:ZB,areMapsEqual:n?hx(fA,ul):fA,areNumbersEqual:JB,areObjectsEqual:n?ul:eF,arePrimitiveWrappersEqual:tF,areRegExpsEqual:nF,areSetsEqual:n?hx(pA,ul):pA,areTypedArraysEqual:n?hx(Fd,ul):Fd,areUrlsEqual:rF,unknownTagComparators:void 0};if(t&&(r=Object.assign({},r,t(r))),e){const a=Ju(r.areArraysEqual),o=Ju(r.areMapsEqual),c=Ju(r.areObjectsEqual),u=Ju(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:c,areSetsEqual:u})}return r}function wF(e){return function(t,n,r,a,o,c,u){return e(t,n,u)}}function jF({circular:e,comparator:t,createState:n,equals:r,strict:a}){if(n)return function(u,f){const{cache:d=e?new WeakMap:void 0,meta:h}=n();return t(u,f,{cache:d,equals:r,meta:h,strict:a})};if(e)return function(u,f){return t(u,f,{cache:new WeakMap,equals:r,meta:void 0,strict:a})};const o={cache:void 0,equals:r,meta:void 0,strict:a};return function(u,f){return t(u,f,o)}}const NF=ri();ri({strict:!0});ri({circular:!0});ri({circular:!0,strict:!0});ri({createInternalComparator:()=>Ki});ri({strict:!0,createInternalComparator:()=>Ki});ri({circular:!0,createInternalComparator:()=>Ki});ri({circular:!0,createInternalComparator:()=>Ki,strict:!0});function ri(e={}){const{circular:t=!1,createInternalComparator:n,createState:r,strict:a=!1}=e,o=bF(e),c=yF(o),u=n?n(c):wF(c);return jF({circular:t,comparator:c,createState:r,equals:u,strict:a})}function SF(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function hA(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function a(o){n<0&&(n=o),o-n>t?(e(o),n=-1):SF(a)};requestAnimationFrame(r)}function zv(e){"@babel/helpers - typeof";return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zv(e)}function kF(e){return EF(e)||PF(e)||AF(e)||CF()}function CF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AF(e,t){if(e){if(typeof e=="string")return mA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mA(e,t)}}function mA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function PF(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function EF(e){if(Array.isArray(e))return e}function DF(){var e={},t=function(){return null},n=!1,r=function a(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var c=o,u=kF(c),f=u[0],d=u.slice(1);if(typeof f=="number"){hA(a.bind(null,d),f);return}a(f),hA(a.bind(null,d));return}zv(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function nc(e){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(e)}function gA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gA(Object(n),!0).forEach(function(r){UO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UO(e,t,n){return t=OF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OF(e){var t=IF(e,"string");return nc(t)==="symbol"?t:String(t)}function IF(e,t){if(nc(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(nc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TF=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,a){return r.filter(function(o){return a.includes(o)})})},_F=function(t){return t},MF=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Nl=function(t,n){return Object.keys(n).reduce(function(r,a){return xA(xA({},r),{},UO({},a,t(a,n[a])))},{})},vA=function(t,n,r){return t.map(function(a){return"".concat(MF(a)," ").concat(n,"ms ").concat(r)}).join(",")};function RF(e,t){return LF(e)||zF(e,t)||qO(e,t)||$F()}function $F(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zF(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,o,c,u=[],f=!0,d=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(f=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);f=!0);}catch(h){d=!0,a=h}finally{try{if(!f&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(d)throw a}}return u}}function LF(e){if(Array.isArray(e))return e}function BF(e){return qF(e)||UF(e)||qO(e)||FF()}function FF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qO(e,t){if(e){if(typeof e=="string")return Lv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lv(e,t)}}function UF(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qF(e){if(Array.isArray(e))return Lv(e)}function Lv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ud=1e-4,WO=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},HO=function(t,n){return t.map(function(r,a){return r*Math.pow(n,a)}).reduce(function(r,a){return r+a})},yA=function(t,n){return function(r){var a=WO(t,n);return HO(a,r)}},WF=function(t,n){return function(r){var a=WO(t,n),o=[].concat(BF(a.map(function(c,u){return c*u}).slice(1)),[0]);return HO(o,r)}},bA=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0],o=n[1],c=n[2],u=n[3];if(n.length===1)switch(n[0]){case"linear":a=0,o=0,c=1,u=1;break;case"ease":a=.25,o=.1,c=.25,u=1;break;case"ease-in":a=.42,o=0,c=1,u=1;break;case"ease-out":a=.42,o=0,c=.58,u=1;break;case"ease-in-out":a=0,o=0,c=.58,u=1;break;default:{var f=n[0].split("(");if(f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4){var d=f[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),h=RF(d,4);a=h[0],o=h[1],c=h[2],u=h[3]}}}var m=yA(a,c),g=yA(o,u),v=WF(a,c),j=function(y){return y>1?1:y<0?0:y},w=function(y){for(var S=y>1?1:y,P=S,k=0;k<8;++k){var C=m(P)-S,E=v(P);if(Math.abs(C-S)<Ud||E<Ud)return g(P);P=j(P-C/E)}return g(P)};return w.isStepper=!1,w},HF=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,a=t.damping,o=a===void 0?8:a,c=t.dt,u=c===void 0?17:c,f=function(h,m,g){var v=-(h-m)*r,j=g*o,w=g+(v-j)*u/1e3,b=g*u/1e3+h;return Math.abs(b-m)<Ud&&Math.abs(w)<Ud?[m,0]:[b,w]};return f.isStepper=!0,f.dt=u,f},VF=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return bA(a);case"spring":return HF();default:if(a.split("(")[0]==="cubic-bezier")return bA(a)}return typeof a=="function"?a:null};function rc(e){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rc(e)}function wA(e){return YF(e)||GF(e)||VO(e)||KF()}function KF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GF(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function YF(e){if(Array.isArray(e))return Fv(e)}function jA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jA(Object(n),!0).forEach(function(r){Bv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bv(e,t,n){return t=XF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XF(e){var t=QF(e,"string");return rc(t)==="symbol"?t:String(t)}function QF(e,t){if(rc(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(rc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZF(e,t){return tU(e)||eU(e,t)||VO(e,t)||JF()}function JF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VO(e,t){if(e){if(typeof e=="string")return Fv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fv(e,t)}}function Fv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eU(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,o,c,u=[],f=!0,d=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(f=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);f=!0);}catch(h){d=!0,a=h}finally{try{if(!f&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(d)throw a}}return u}}function tU(e){if(Array.isArray(e))return e}var qd=function(t,n,r){return t+(n-t)*r},Uv=function(t){var n=t.from,r=t.to;return n!==r},nU=function e(t,n,r){var a=Nl(function(o,c){if(Uv(c)){var u=t(c.from,c.to,c.velocity),f=ZF(u,2),d=f[0],h=f[1];return Kt(Kt({},c),{},{from:d,velocity:h})}return c},n);return r<1?Nl(function(o,c){return Uv(c)?Kt(Kt({},c),{},{velocity:qd(c.velocity,a[o].velocity,r),from:qd(c.from,a[o].from,r)}):c},n):e(t,a,r-1)};const rU=(function(e,t,n,r,a){var o=TF(e,t),c=o.reduce(function(b,y){return Kt(Kt({},b),{},Bv({},y,[e[y],t[y]]))},{}),u=o.reduce(function(b,y){return Kt(Kt({},b),{},Bv({},y,{from:e[y],velocity:0,to:t[y]}))},{}),f=-1,d,h,m=function(){return null},g=function(){return Nl(function(y,S){return S.from},u)},v=function(){return!Object.values(u).filter(Uv).length},j=function(y){d||(d=y);var S=y-d,P=S/n.dt;u=nU(n,u,P),a(Kt(Kt(Kt({},e),t),g())),d=y,v()||(f=requestAnimationFrame(m))},w=function(y){h||(h=y);var S=(y-h)/r,P=Nl(function(C,E){return qd.apply(void 0,wA(E).concat([n(S)]))},c);if(a(Kt(Kt(Kt({},e),t),P)),S<1)f=requestAnimationFrame(m);else{var k=Nl(function(C,E){return qd.apply(void 0,wA(E).concat([n(1)]))},c);a(Kt(Kt(Kt({},e),t),k))}};return m=n.isStepper?j:w,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(f)}}});function Hs(e){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(e)}var aU=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function iU(e,t){if(e==null)return{};var n=sU(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function sU(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function mx(e){return uU(e)||cU(e)||lU(e)||oU()}function oU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lU(e,t){if(e){if(typeof e=="string")return qv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qv(e,t)}}function cU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uU(e){if(Array.isArray(e))return qv(e)}function qv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function NA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NA(Object(n),!0).forEach(function(r){ml(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ml(e,t,n){return t=KO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,KO(r.key),r)}}function pU(e,t,n){return t&&fU(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function KO(e){var t=hU(e,"string");return Hs(t)==="symbol"?t:String(t)}function hU(e,t){if(Hs(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Hs(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wv(e,t)}function Wv(e,t){return Wv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Wv(e,t)}function gU(e){var t=xU();return function(){var r=Wd(e),a;if(t){var o=Wd(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return Hv(this,a)}}function Hv(e,t){if(t&&(Hs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vv(e)}function Vv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xU(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Wd(e){return Wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wd(e)}var br=(function(e){mU(n,e);var t=gU(n);function n(r,a){var o;dU(this,n),o=t.call(this,r,a);var c=o.props,u=c.isActive,f=c.attributeName,d=c.from,h=c.to,m=c.steps,g=c.children,v=c.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Vv(o)),o.changeStyle=o.changeStyle.bind(Vv(o)),!u||v<=0)return o.state={style:{}},typeof g=="function"&&(o.state={style:h}),Hv(o);if(m&&m.length)o.state={style:m[0].style};else if(d){if(typeof g=="function")return o.state={style:d},Hv(o);o.state={style:f?ml({},f,d):d}}else o.state={style:{}};return o}return pU(n,[{key:"componentDidMount",value:function(){var a=this.props,o=a.isActive,c=a.canBegin;this.mounted=!0,!(!o||!c)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var o=this.props,c=o.isActive,u=o.canBegin,f=o.attributeName,d=o.shouldReAnimate,h=o.to,m=o.from,g=this.state.style;if(u){if(!c){var v={style:f?ml({},f,h):h};this.state&&g&&(f&&g[f]!==h||!f&&g!==h)&&this.setState(v);return}if(!(NF(a.to,h)&&a.canBegin&&a.isActive)){var j=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=j||d?m:a.to;if(this.state&&g){var b={style:f?ml({},f,w):w};(f&&g[f]!==w||!f&&g!==w)&&this.setState(b)}this.runAnimation(cr(cr({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var o=this,c=a.from,u=a.to,f=a.duration,d=a.easing,h=a.begin,m=a.onAnimationEnd,g=a.onAnimationStart,v=rU(c,u,VF(d),f,this.changeStyle),j=function(){o.stopJSAnimation=v()};this.manager.start([g,h,j,f,m])}},{key:"runStepAnimation",value:function(a){var o=this,c=a.steps,u=a.begin,f=a.onAnimationStart,d=c[0],h=d.style,m=d.duration,g=m===void 0?0:m,v=function(w,b,y){if(y===0)return w;var S=b.duration,P=b.easing,k=P===void 0?"ease":P,C=b.style,E=b.properties,D=b.onAnimationEnd,I=y>0?c[y-1]:b,$=E||Object.keys(C);if(typeof k=="function"||k==="spring")return[].concat(mx(w),[o.runJSAnimation.bind(o,{from:I.style,to:C,duration:S,easing:k}),S]);var B=vA($,S,k),_=cr(cr(cr({},I.style),C),{},{transition:B});return[].concat(mx(w),[_,S,D]).filter(_F)};return this.manager.start([f].concat(mx(c.reduce(v,[h,Math.max(g,u)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=DF());var o=a.begin,c=a.duration,u=a.attributeName,f=a.to,d=a.easing,h=a.onAnimationStart,m=a.onAnimationEnd,g=a.steps,v=a.children,j=this.manager;if(this.unSubscribe=j.subscribe(this.handleStyleChange),typeof d=="function"||typeof v=="function"||d==="spring"){this.runJSAnimation(a);return}if(g.length>1){this.runStepAnimation(a);return}var w=u?ml({},u,f):f,b=vA(Object.keys(w),c,d);j.start([h,o,cr(cr({},w),{},{transition:b}),c,m])}},{key:"render",value:function(){var a=this.props,o=a.children;a.begin;var c=a.duration;a.attributeName,a.easing;var u=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var f=iU(a,aU),d=O.Children.count(o),h=this.state.style;if(typeof o=="function")return o(h);if(!u||d===0||c<=0)return o;var m=function(v){var j=v.props,w=j.style,b=w===void 0?{}:w,y=j.className,S=O.cloneElement(v,cr(cr({},f),{},{style:cr(cr({},b),h),className:y}));return S};return d===1?m(O.Children.only(o)):q.createElement("div",null,O.Children.map(o,function(g){return m(g)}))}}]),n})(O.PureComponent);br.displayName="Animate";br.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};br.propTypes={from:tt.oneOfType([tt.object,tt.string]),to:tt.oneOfType([tt.object,tt.string]),attributeName:tt.string,duration:tt.number,begin:tt.number,easing:tt.oneOfType([tt.string,tt.func]),steps:tt.arrayOf(tt.shape({duration:tt.number.isRequired,style:tt.object.isRequired,easing:tt.oneOfType([tt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),tt.func]),properties:tt.arrayOf("string"),onAnimationEnd:tt.func})),children:tt.oneOfType([tt.node,tt.func]),isActive:tt.bool,canBegin:tt.bool,onAnimationEnd:tt.func,shouldReAnimate:tt.bool,onAnimationStart:tt.func,onAnimationReStart:tt.func};function ac(e){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ac(e)}function Hd(){return Hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hd.apply(this,arguments)}function vU(e,t){return jU(e)||wU(e,t)||bU(e,t)||yU()}function yU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bU(e,t){if(e){if(typeof e=="string")return SA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SA(e,t)}}function SA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wU(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,o,c,u=[],f=!0,d=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(f=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);f=!0);}catch(h){d=!0,a=h}finally{try{if(!f&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(d)throw a}}return u}}function jU(e){if(Array.isArray(e))return e}function kA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function CA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kA(Object(n),!0).forEach(function(r){NU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NU(e,t,n){return t=SU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SU(e){var t=kU(e,"string");return ac(t)=="symbol"?t:String(t)}function kU(e,t){if(ac(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AA=function(t,n,r,a,o){var c=Math.min(Math.abs(r)/2,Math.abs(a)/2),u=a>=0?1:-1,f=r>=0?1:-1,d=a>=0&&r>=0||a<0&&r<0?1:0,h;if(c>0&&o instanceof Array){for(var m=[0,0,0,0],g=0,v=4;g<v;g++)m[g]=o[g]>c?c:o[g];h="M".concat(t,",").concat(n+u*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(t+f*m[0],",").concat(n)),h+="L ".concat(t+r-f*m[1],",").concat(n),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(t+r,",").concat(n+u*m[1])),h+="L ".concat(t+r,",").concat(n+a-u*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(t+r-f*m[2],",").concat(n+a)),h+="L ".concat(t+f*m[3],",").concat(n+a),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(n+a-u*m[3])),h+="Z"}else if(c>0&&o===+o&&o>0){var j=Math.min(c,o);h="M ".concat(t,",").concat(n+u*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(d,",").concat(t+f*j,",").concat(n,`
            L `).concat(t+r-f*j,",").concat(n,`
            A `).concat(j,",").concat(j,",0,0,").concat(d,",").concat(t+r,",").concat(n+u*j,`
            L `).concat(t+r,",").concat(n+a-u*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(d,",").concat(t+r-f*j,",").concat(n+a,`
            L `).concat(t+f*j,",").concat(n+a,`
            A `).concat(j,",").concat(j,",0,0,").concat(d,",").concat(t,",").concat(n+a-u*j," Z")}else h="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return h},CU=function(t,n){if(!t||!n)return!1;var r=t.x,a=t.y,o=n.x,c=n.y,u=n.width,f=n.height;if(Math.abs(u)>0&&Math.abs(f)>0){var d=Math.min(o,o+u),h=Math.max(o,o+u),m=Math.min(c,c+f),g=Math.max(c,c+f);return r>=d&&r<=h&&a>=m&&a<=g}return!1},AU={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Db=function(t){var n=CA(CA({},AU),t),r=O.useRef(),a=O.useState(-1),o=vU(a,2),c=o[0],u=o[1];O.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var k=r.current.getTotalLength();k&&u(k)}catch{}},[]);var f=n.x,d=n.y,h=n.width,m=n.height,g=n.radius,v=n.className,j=n.animationEasing,w=n.animationDuration,b=n.animationBegin,y=n.isAnimationActive,S=n.isUpdateAnimationActive;if(f!==+f||d!==+d||h!==+h||m!==+m||h===0||m===0)return null;var P=Xe("recharts-rectangle",v);return S?q.createElement(br,{canBegin:c>0,from:{width:h,height:m,x:f,y:d},to:{width:h,height:m,x:f,y:d},duration:w,animationEasing:j,isActive:S},function(k){var C=k.width,E=k.height,D=k.x,I=k.y;return q.createElement(br,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:w,isActive:y,easing:j},q.createElement("path",Hd({},Le(n,!0),{className:P,d:AA(D,I,C,E,g),ref:r})))}):q.createElement("path",Hd({},Le(n,!0),{className:P,d:AA(f,d,h,m,g)}))};function Kv(){return Kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kv.apply(this,arguments)}var Rf=function(t){var n=t.cx,r=t.cy,a=t.r,o=t.className,c=Xe("recharts-dot",o);return n===+n&&r===+r&&a===+a?q.createElement("circle",Kv({},Le(t,!1),pd(t),{className:c,cx:n,cy:r,r:a})):null};function ic(e){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ic(e)}var PU=["x","y","top","left","width","height","className"];function Gv(){return Gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gv.apply(this,arguments)}function PA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function EU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PA(Object(n),!0).forEach(function(r){DU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DU(e,t,n){return t=OU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OU(e){var t=IU(e,"string");return ic(t)=="symbol"?t:String(t)}function IU(e,t){if(ic(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TU(e,t){if(e==null)return{};var n=_U(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _U(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}var MU=function(t,n,r,a,o,c){return"M".concat(t,",").concat(o,"v").concat(a,"M").concat(c,",").concat(n,"h").concat(r)},RU=function(t){var n=t.x,r=n===void 0?0:n,a=t.y,o=a===void 0?0:a,c=t.top,u=c===void 0?0:c,f=t.left,d=f===void 0?0:f,h=t.width,m=h===void 0?0:h,g=t.height,v=g===void 0?0:g,j=t.className,w=TU(t,PU),b=EU({x:r,y:o,top:u,left:d,width:m,height:v},w);return!he(r)||!he(o)||!he(m)||!he(v)||!he(u)||!he(d)?null:q.createElement("path",Gv({},Le(b,!0),{className:Xe("recharts-cross",j),d:MU(r,o,m,v,u,d)}))},gx,EA;function $U(){if(EA)return gx;EA=1;var e=xD(),t=e(Object.getPrototypeOf,Object);return gx=t,gx}var xx,DA;function zU(){if(DA)return xx;DA=1;var e=pa(),t=$U(),n=ha(),r="[object Object]",a=Function.prototype,o=Object.prototype,c=a.toString,u=o.hasOwnProperty,f=c.call(Object);function d(h){if(!n(h)||e(h)!=r)return!1;var m=t(h);if(m===null)return!0;var g=u.call(m,"constructor")&&m.constructor;return typeof g=="function"&&g instanceof g&&c.call(g)==f}return xx=d,xx}var LU=zU();const BU=lt(LU);var vx,OA;function FU(){if(OA)return vx;OA=1;var e=pa(),t=ha(),n="[object Boolean]";function r(a){return a===!0||a===!1||t(a)&&e(a)==n}return vx=r,vx}var UU=FU();const qU=lt(UU);function sc(e){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sc(e)}function Vd(){return Vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vd.apply(this,arguments)}function WU(e,t){return GU(e)||KU(e,t)||VU(e,t)||HU()}function HU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VU(e,t){if(e){if(typeof e=="string")return IA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IA(e,t)}}function IA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function KU(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,o,c,u=[],f=!0,d=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(f=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);f=!0);}catch(h){d=!0,a=h}finally{try{if(!f&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(d)throw a}}return u}}function GU(e){if(Array.isArray(e))return e}function TA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _A(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TA(Object(n),!0).forEach(function(r){YU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YU(e,t,n){return t=XU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XU(e){var t=QU(e,"string");return sc(t)=="symbol"?t:String(t)}function QU(e,t){if(sc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MA=function(t,n,r,a,o){var c=r-a,u;return u="M ".concat(t,",").concat(n),u+="L ".concat(t+r,",").concat(n),u+="L ".concat(t+r-c/2,",").concat(n+o),u+="L ".concat(t+r-c/2-a,",").concat(n+o),u+="L ".concat(t,",").concat(n," Z"),u},ZU={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},JU=function(t){var n=_A(_A({},ZU),t),r=O.useRef(),a=O.useState(-1),o=WU(a,2),c=o[0],u=o[1];O.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var P=r.current.getTotalLength();P&&u(P)}catch{}},[]);var f=n.x,d=n.y,h=n.upperWidth,m=n.lowerWidth,g=n.height,v=n.className,j=n.animationEasing,w=n.animationDuration,b=n.animationBegin,y=n.isUpdateAnimationActive;if(f!==+f||d!==+d||h!==+h||m!==+m||g!==+g||h===0&&m===0||g===0)return null;var S=Xe("recharts-trapezoid",v);return y?q.createElement(br,{canBegin:c>0,from:{upperWidth:0,lowerWidth:0,height:g,x:f,y:d},to:{upperWidth:h,lowerWidth:m,height:g,x:f,y:d},duration:w,animationEasing:j,isActive:y},function(P){var k=P.upperWidth,C=P.lowerWidth,E=P.height,D=P.x,I=P.y;return q.createElement(br,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:w,easing:j},q.createElement("path",Vd({},Le(n,!0),{className:S,d:MA(D,I,k,C,E),ref:r})))}):q.createElement("g",null,q.createElement("path",Vd({},Le(n,!0),{className:S,d:MA(f,d,h,m,g)})))},eq=["option","shapeType","propTransformer","activeClassName","isActive"];function oc(e){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oc(e)}function tq(e,t){if(e==null)return{};var n=nq(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function nq(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function RA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Kd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RA(Object(n),!0).forEach(function(r){rq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rq(e,t,n){return t=aq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aq(e){var t=iq(e,"string");return oc(t)=="symbol"?t:String(t)}function iq(e,t){if(oc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sq(e,t){return Kd(Kd({},t),e)}function oq(e,t){return e==="symbols"}function $A(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return q.createElement(Db,n);case"trapezoid":return q.createElement(JU,n);case"sector":return q.createElement(BO,n);case"symbols":if(oq(t))return q.createElement(Nf,n);break;default:return null}}function lq(e){return O.isValidElement(e)?e.props:e}function Yv(e){var t=e.option,n=e.shapeType,r=e.propTransformer,a=r===void 0?sq:r,o=e.activeClassName,c=o===void 0?"recharts-active-shape":o,u=e.isActive,f=tq(e,eq),d;if(O.isValidElement(t))d=O.cloneElement(t,Kd(Kd({},f),lq(t)));else if(Fe(t))d=t(f);else if(BU(t)&&!qU(t)){var h=a(t,f);d=q.createElement($A,{shapeType:n,elementProps:h})}else{var m=f;d=q.createElement($A,{shapeType:n,elementProps:m})}return u?q.createElement(Ze,{className:c},d):d}function $f(e,t){return t!=null&&"trapezoids"in e.props}function zf(e,t){return t!=null&&"sectors"in e.props}function lc(e,t){return t!=null&&"points"in e.props}function cq(e,t){var n,r,a=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,o=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return a&&o}function uq(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function dq(e,t){var n=e.x===t.x,r=e.y===t.y,a=e.z===t.z;return n&&r&&a}function fq(e,t){var n;return $f(e,t)?n=cq:zf(e,t)?n=uq:lc(e,t)&&(n=dq),n}function pq(e,t){var n;return $f(e,t)?n="trapezoids":zf(e,t)?n="sectors":lc(e,t)&&(n="points"),n}function hq(e,t){if($f(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(zf(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return lc(e,t)?t.payload:{}}function mq(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,a=pq(n,t),o=hq(n,t),c=r.filter(function(f,d){var h=Ri(o,f),m=n.props[a].filter(function(j){var w=fq(n,t);return w(j,t)}),g=n.props[a].indexOf(m[m.length-1]),v=d===g;return h&&v}),u=r.indexOf(c[c.length-1]);return u}var yx,zA;function gq(){if(zA)return yx;zA=1;var e=Math.ceil,t=Math.max;function n(r,a,o,c){for(var u=-1,f=t(e((a-r)/(o||1)),0),d=Array(f);f--;)d[c?f:++u]=r,r+=o;return d}return yx=n,yx}var bx,LA;function GO(){if(LA)return bx;LA=1;var e=_D(),t=1/0,n=17976931348623157e292;function r(a){if(!a)return a===0?a:0;if(a=e(a),a===t||a===-t){var o=a<0?-1:1;return o*n}return a===a?a:0}return bx=r,bx}var wx,BA;function xq(){if(BA)return wx;BA=1;var e=gq(),t=Cf(),n=GO();function r(a){return function(o,c,u){return u&&typeof u!="number"&&t(o,c,u)&&(c=u=void 0),o=n(o),c===void 0?(c=o,o=0):c=n(c),u=u===void 0?o<c?1:-1:n(u),e(o,c,u,a)}}return wx=r,wx}var jx,FA;function vq(){if(FA)return jx;FA=1;var e=xq(),t=e();return jx=t,jx}var yq=vq();const Gd=lt(yq);function cc(e){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cc(e)}function UA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function qA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UA(Object(n),!0).forEach(function(r){YO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YO(e,t,n){return t=bq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bq(e){var t=wq(e,"string");return cc(t)=="symbol"?t:String(t)}function wq(e,t){if(cc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jq=["Webkit","Moz","O","ms"],Nq=function(t,n){var r=t.replace(/(\w)/,function(o){return o.toUpperCase()}),a=jq.reduce(function(o,c){return qA(qA({},o),{},YO({},c+r,n))},{});return a[t]=n,a};function Vs(e){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vs(e)}function Yd(){return Yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yd.apply(this,arguments)}function WA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Nx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WA(Object(n),!0).forEach(function(r){Tn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,QO(r.key),r)}}function kq(e,t,n){return t&&HA(e.prototype,t),n&&HA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cq(e,t,n){return t=Xd(t),Aq(e,XO()?Reflect.construct(t,n||[],Xd(e).constructor):t.apply(e,n))}function Aq(e,t){if(t&&(Vs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Er(e)}function XO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XO=function(){return!!e})()}function Xd(e){return Xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xd(e)}function Er(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xv(e,t)}function Xv(e,t){return Xv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Xv(e,t)}function Tn(e,t,n){return t=QO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QO(e){var t=Eq(e,"string");return Vs(t)=="symbol"?t:String(t)}function Eq(e,t){if(Vs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dq=function(t){var n=t.data,r=t.startIndex,a=t.endIndex,o=t.x,c=t.width,u=t.travellerWidth;if(!n||!n.length)return{};var f=n.length,d=wl().domain(Gd(0,f)).range([o,o+c-u]),h=d.domain().map(function(m){return d(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(r),endX:d(a),scale:d,scaleValues:h}},VA=function(t){return t.changedTouches&&!!t.changedTouches.length},Ks=(function(e){Pq(t,e);function t(n){var r;return Sq(this,t),r=Cq(this,t,[n]),Tn(Er(r),"handleDrag",function(a){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(a):r.state.isSlideMoving&&r.handleSlideDrag(a)}),Tn(Er(r),"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&r.handleDrag(a.changedTouches[0])}),Tn(Er(r),"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=r.props,o=a.endIndex,c=a.onDragEnd,u=a.startIndex;c==null||c({endIndex:o,startIndex:u})}),r.detachDragEndListener()}),Tn(Er(r),"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Tn(Er(r),"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Tn(Er(r),"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Tn(Er(r),"handleSlideDragStart",function(a){var o=VA(a)?a.changedTouches[0]:a;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(Er(r),"startX"),endX:r.handleTravellerDragStart.bind(Er(r),"endX")},r.state={},r}return kq(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var a=r.startX,o=r.endX,c=this.state.scaleValues,u=this.props,f=u.gap,d=u.data,h=d.length-1,m=Math.min(a,o),g=Math.max(a,o),v=t.getIndexInRange(c,m),j=t.getIndexInRange(c,g);return{startIndex:v-v%f,endIndex:j===h?h:j-j%f}}},{key:"getTextOfTick",value:function(r){var a=this.props,o=a.data,c=a.tickFormatter,u=a.dataKey,f=_t(o[r],u,r);return Fe(c)?c(f,r):f}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var a=this.state,o=a.slideMoveStartX,c=a.startX,u=a.endX,f=this.props,d=f.x,h=f.width,m=f.travellerWidth,g=f.startIndex,v=f.endIndex,j=f.onChange,w=r.pageX-o;w>0?w=Math.min(w,d+h-m-u,d+h-m-c):w<0&&(w=Math.max(w,d-c,d-u));var b=this.getIndex({startX:c+w,endX:u+w});(b.startIndex!==g||b.endIndex!==v)&&j&&j(b),this.setState({startX:c+w,endX:u+w,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,a){var o=VA(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var a=this.state,o=a.brushMoveStartX,c=a.movingTravellerId,u=a.endX,f=a.startX,d=this.state[c],h=this.props,m=h.x,g=h.width,v=h.travellerWidth,j=h.onChange,w=h.gap,b=h.data,y={startX:this.state.startX,endX:this.state.endX},S=r.pageX-o;S>0?S=Math.min(S,m+g-v-d):S<0&&(S=Math.max(S,m-d)),y[c]=d+S;var P=this.getIndex(y),k=P.startIndex,C=P.endIndex,E=function(){var I=b.length-1;return c==="startX"&&(u>f?k%w===0:C%w===0)||u<f&&C===I||c==="endX"&&(u>f?C%w===0:k%w===0)||u>f&&C===I};this.setState(Tn(Tn({},c,d+S),"brushMoveStartX",r.pageX),function(){j&&E()&&j(P)})}},{key:"handleTravellerMoveKeyboard",value:function(r,a){var o=this,c=this.state,u=c.scaleValues,f=c.startX,d=c.endX,h=this.state[a],m=u.indexOf(h);if(m!==-1){var g=m+r;if(!(g===-1||g>=u.length)){var v=u[g];a==="startX"&&v>=d||a==="endX"&&v<=f||this.setState(Tn({},a,v),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,a=r.x,o=r.y,c=r.width,u=r.height,f=r.fill,d=r.stroke;return q.createElement("rect",{stroke:d,fill:f,x:a,y:o,width:c,height:u})}},{key:"renderPanorama",value:function(){var r=this.props,a=r.x,o=r.y,c=r.width,u=r.height,f=r.data,d=r.children,h=r.padding,m=O.Children.only(d);return m?q.cloneElement(m,{x:a,y:o,width:c,height:u,margin:h,compact:!0,data:f}):null}},{key:"renderTravellerLayer",value:function(r,a){var o=this,c=this.props,u=c.y,f=c.travellerWidth,d=c.height,h=c.traveller,m=c.ariaLabel,g=c.data,v=c.startIndex,j=c.endIndex,w=Math.max(r,this.props.x),b=Nx(Nx({},Le(this.props,!1)),{},{x:w,y:u,width:f,height:d}),y=m||"Min value: ".concat(g[v].name,", Max value: ").concat(g[j].name);return q.createElement(Ze,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),o.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,a))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(r,a){var o=this.props,c=o.y,u=o.height,f=o.stroke,d=o.travellerWidth,h=Math.min(r,a)+d,m=Math.max(Math.abs(a-r)-d,0);return q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:f,fillOpacity:.2,x:h,y:c,width:m,height:u})}},{key:"renderText",value:function(){var r=this.props,a=r.startIndex,o=r.endIndex,c=r.y,u=r.height,f=r.travellerWidth,d=r.stroke,h=this.state,m=h.startX,g=h.endX,v=5,j={pointerEvents:"none",fill:d};return q.createElement(Ze,{className:"recharts-brush-texts"},q.createElement(Sd,Yd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,g)-v,y:c+u/2},j),this.getTextOfTick(a)),q.createElement(Sd,Yd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,g)+f+v,y:c+u/2},j),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,a=r.data,o=r.className,c=r.children,u=r.x,f=r.y,d=r.width,h=r.height,m=r.alwaysShowText,g=this.state,v=g.startX,j=g.endX,w=g.isTextActive,b=g.isSlideMoving,y=g.isTravellerMoving,S=g.isTravellerFocused;if(!a||!a.length||!he(u)||!he(f)||!he(d)||!he(h)||d<=0||h<=0)return null;var P=Xe("recharts-brush",o),k=q.Children.count(c)===1,C=Nq("userSelect","none");return q.createElement(Ze,{className:P,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(v,j),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(j,"endX"),(w||b||y||S||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var a=r.x,o=r.y,c=r.width,u=r.height,f=r.stroke,d=Math.floor(o+u/2)-1;return q.createElement(q.Fragment,null,q.createElement("rect",{x:a,y:o,width:c,height:u,fill:f,stroke:"none"}),q.createElement("line",{x1:a+1,y1:d,x2:a+c-1,y2:d,fill:"none",stroke:"#fff"}),q.createElement("line",{x1:a+1,y1:d+2,x2:a+c-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,a){var o;return q.isValidElement(r)?o=q.cloneElement(r,a):Fe(r)?o=r(a):o=t.renderDefaultTraveller(a),o}},{key:"getDerivedStateFromProps",value:function(r,a){var o=r.data,c=r.width,u=r.x,f=r.travellerWidth,d=r.updateId,h=r.startIndex,m=r.endIndex;if(o!==a.prevData||d!==a.prevUpdateId)return Nx({prevData:o,prevTravellerWidth:f,prevUpdateId:d,prevX:u,prevWidth:c},o&&o.length?Dq({data:o,width:c,x:u,travellerWidth:f,startIndex:h,endIndex:m}):{scale:null,scaleValues:null});if(a.scale&&(c!==a.prevWidth||u!==a.prevX||f!==a.prevTravellerWidth)){a.scale.range([u,u+c-f]);var g=a.scale.domain().map(function(v){return a.scale(v)});return{prevData:o,prevTravellerWidth:f,prevUpdateId:d,prevX:u,prevWidth:c,startX:a.scale(r.startIndex),endX:a.scale(r.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(r,a){for(var o=r.length,c=0,u=o-1;u-c>1;){var f=Math.floor((c+u)/2);r[f]>a?u=f:c=f}return a>=r[u]?u:c}}]),t})(O.PureComponent);Tn(Ks,"displayName","Brush");Tn(Ks,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Sx,KA;function Oq(){if(KA)return Sx;KA=1;var e=tb();function t(n,r){var a;return e(n,function(o,c,u){return a=r(o,c,u),!a}),!!a}return Sx=t,Sx}var kx,GA;function Iq(){if(GA)return kx;GA=1;var e=uD(),t=Ja(),n=Oq(),r=Cn(),a=Cf();function o(c,u,f){var d=r(c)?e:n;return f&&a(c,u,f)&&(u=void 0),d(c,t(u,3))}return kx=o,kx}var Tq=Iq();const _q=lt(Tq);var _r=function(t,n){var r=t.alwaysShow,a=t.ifOverflow;return r&&(a="extendDomain"),a===n},Cx,YA;function Mq(){if(YA)return Cx;YA=1;var e=ED();function t(n,r,a){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:a,writable:!0}):n[r]=a}return Cx=t,Cx}var Ax,XA;function Rq(){if(XA)return Ax;XA=1;var e=Mq(),t=AD(),n=Ja();function r(a,o){var c={};return o=n(o,3),t(a,function(u,f,d){e(c,f,o(u,f,d))}),c}return Ax=r,Ax}var $q=Rq();const zq=lt($q);var Px,QA;function Lq(){if(QA)return Px;QA=1;function e(t,n){for(var r=-1,a=t==null?0:t.length;++r<a;)if(!n(t[r],r,t))return!1;return!0}return Px=e,Px}var Ex,ZA;function Bq(){if(ZA)return Ex;ZA=1;var e=tb();function t(n,r){var a=!0;return e(n,function(o,c,u){return a=!!r(o,c,u),a}),a}return Ex=t,Ex}var Dx,JA;function Fq(){if(JA)return Dx;JA=1;var e=Lq(),t=Bq(),n=Ja(),r=Cn(),a=Cf();function o(c,u,f){var d=r(c)?e:t;return f&&a(c,u,f)&&(u=void 0),d(c,n(u,3))}return Dx=o,Dx}var Uq=Fq();const ZO=lt(Uq);var qq=["x","y"];function uc(e){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uc(e)}function Qv(){return Qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qv.apply(this,arguments)}function eP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function dl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eP(Object(n),!0).forEach(function(r){Wq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wq(e,t,n){return t=Hq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hq(e){var t=Vq(e,"string");return uc(t)=="symbol"?t:String(t)}function Vq(e,t){if(uc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kq(e,t){if(e==null)return{};var n=Gq(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Gq(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function Yq(e,t){var n=e.x,r=e.y,a=Kq(e,qq),o="".concat(n),c=parseInt(o,10),u="".concat(r),f=parseInt(u,10),d="".concat(t.height||a.height),h=parseInt(d,10),m="".concat(t.width||a.width),g=parseInt(m,10);return dl(dl(dl(dl(dl({},t),a),c?{x:c}:{}),f?{y:f}:{}),{},{height:h,width:g,name:t.name,radius:t.radius})}function tP(e){return q.createElement(Yv,Qv({shapeType:"rectangle",propTransformer:Yq,activeClassName:"recharts-active-bar"},e))}var Xq=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,a){if(typeof t=="number")return t;var o=typeof r=="number";return o?t(r,a):(o||zi(),n)}},Qq=["value","background"],JO;function Gs(e){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(e)}function Zq(e,t){if(e==null)return{};var n=Jq(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Jq(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function Qd(){return Qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qd.apply(this,arguments)}function nP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nP(Object(n),!0).forEach(function(r){Wa(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tI(r.key),r)}}function tW(e,t,n){return t&&rP(e.prototype,t),n&&rP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function nW(e,t,n){return t=Zd(t),rW(e,eI()?Reflect.construct(t,n||[],Zd(e).constructor):t.apply(e,n))}function rW(e,t){if(t&&(Gs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gl(e)}function eI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eI=function(){return!!e})()}function Zd(e){return Zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zd(e)}function gl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zv(e,t)}function Zv(e,t){return Zv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Zv(e,t)}function Wa(e,t,n){return t=tI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tI(e){var t=iW(e,"string");return Gs(t)=="symbol"?t:String(t)}function iW(e,t){if(Gs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Gs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ca=(function(e){aW(t,e);function t(){var n;eW(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=nW(this,t,[].concat(a)),Wa(gl(n),"state",{isAnimationFinished:!1}),Wa(gl(n),"id",Wi("recharts-bar-")),Wa(gl(n),"handleAnimationEnd",function(){var c=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),c&&c()}),Wa(gl(n),"handleAnimationStart",function(){var c=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),c&&c()}),n}return tW(t,[{key:"renderRectanglesStatically",value:function(r){var a=this,o=this.props,c=o.shape,u=o.dataKey,f=o.activeIndex,d=o.activeBar,h=Le(this.props,!1);return r&&r.map(function(m,g){var v=g===f,j=v?d:c,w=Bt(Bt(Bt({},h),m),{},{isActive:v,option:j,index:g,dataKey:u,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return q.createElement(Ze,Qd({className:"recharts-bar-rectangle"},Il(a.props,m,g),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value)}),q.createElement(tP,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,a=this.props,o=a.data,c=a.layout,u=a.isAnimationActive,f=a.animationBegin,d=a.animationDuration,h=a.animationEasing,m=a.animationId,g=this.state.prevData;return q.createElement(br,{begin:f,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var j=v.t,w=o.map(function(b,y){var S=g&&g[y];if(S){var P=St(S.x,b.x),k=St(S.y,b.y),C=St(S.width,b.width),E=St(S.height,b.height);return Bt(Bt({},b),{},{x:P(j),y:k(j),width:C(j),height:E(j)})}if(c==="horizontal"){var D=St(0,b.height),I=D(j);return Bt(Bt({},b),{},{y:b.y+b.height-I,height:I})}var $=St(0,b.width),B=$(j);return Bt(Bt({},b),{},{width:B})});return q.createElement(Ze,null,r.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var r=this.props,a=r.data,o=r.isAnimationActive,c=this.state.prevData;return o&&a&&a.length&&(!c||!Ri(c,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var r=this,a=this.props,o=a.data,c=a.dataKey,u=a.activeIndex,f=Le(this.props.background,!1);return o.map(function(d,h){d.value;var m=d.background,g=Zq(d,Qq);if(!m)return null;var v=Bt(Bt(Bt(Bt(Bt({},g),{},{fill:"#eee"},m),f),Il(r.props,d,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:c,index:h,key:"background-bar-".concat(h),className:"recharts-bar-background-rectangle"});return q.createElement(tP,Qd({option:r.props.background,isActive:h===u},v))})}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,c=o.data,u=o.xAxis,f=o.yAxis,d=o.layout,h=o.children,m=Nn(h,mo);if(!m)return null;var g=d==="vertical"?c[0].height/2:c[0].width/2,v=function(b,y){var S=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:S,errorVal:_t(b,y)}},j={clipPath:r?"url(#clipPath-".concat(a,")"):null};return q.createElement(Ze,j,m.map(function(w){return q.cloneElement(w,{key:"error-bar-".concat(a,"-").concat(w.props.dataKey),data:c,xAxis:u,yAxis:f,layout:d,offset:g,dataPointFormatter:v})}))}},{key:"render",value:function(){var r=this.props,a=r.hide,o=r.data,c=r.className,u=r.xAxis,f=r.yAxis,d=r.left,h=r.top,m=r.width,g=r.height,v=r.isAnimationActive,j=r.background,w=r.id;if(a||!o||!o.length)return null;var b=this.state.isAnimationFinished,y=Xe("recharts-bar",c),S=u&&u.allowDataOverflow,P=f&&f.allowDataOverflow,k=S||P,C=Be(w)?this.id:w;return q.createElement(Ze,{className:y},S||P?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(C)},q.createElement("rect",{x:S?d:d-m/2,y:P?h:h-g/2,width:S?m:m*2,height:P?g:g*2}))):null,q.createElement(Ze,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(C,")"):null},j?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,C),(!v||b)&&Tr.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:a.curData}:r.data!==a.curData?{curData:r.data}:null}}]),t})(O.PureComponent);JO=ca;Wa(ca,"displayName","Bar");Wa(ca,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ei.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Wa(ca,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,a=e.bandSize,o=e.xAxis,c=e.yAxis,u=e.xAxisTicks,f=e.yAxisTicks,d=e.stackedData,h=e.dataStartIndex,m=e.displayedData,g=e.offset,v=N7(r,n);if(!v)return null;var j=t.layout,w=n.props,b=w.dataKey,y=w.children,S=w.minPointSize,P=j==="horizontal"?c:o,k=d?P.scale.domain():null,C=O7({numericAxis:P}),E=Nn(y,ab),D=m.map(function(I,$){var B,_,R,L,z,H;d?B=S7(d[h+$],k):(B=_t(I,b),Array.isArray(B)||(B=[C,B]));var U=Xq(S,JO.defaultProps.minPointSize)(B[1],$);if(j==="horizontal"){var Q,G=[c.scale(B[0]),c.scale(B[1])],Y=G[0],M=G[1];_=qC({axis:o,ticks:u,bandSize:a,offset:v.offset,entry:I,index:$}),R=(Q=M??Y)!==null&&Q!==void 0?Q:void 0,L=v.size;var X=Y-M;if(z=Number.isNaN(X)?0:X,H={x:_,y:c.y,width:L,height:c.height},Math.abs(U)>0&&Math.abs(z)<Math.abs(U)){var ee=gr(z||U)*(Math.abs(U)-Math.abs(z));R-=ee,z+=ee}}else{var ne=[o.scale(B[0]),o.scale(B[1])],pe=ne[0],we=ne[1];if(_=pe,R=qC({axis:c,ticks:f,bandSize:a,offset:v.offset,entry:I,index:$}),L=we-pe,z=v.size,H={x:o.x,y:R,width:o.width,height:z},Math.abs(U)>0&&Math.abs(L)<Math.abs(U)){var je=gr(L||U)*(Math.abs(U)-Math.abs(L));L+=je}}return Bt(Bt(Bt({},I),{},{x:_,y:R,width:L,height:z,value:d?B:B[1],payload:I,background:H},E&&E[$]&&E[$].props),{},{tooltipPayload:[$O(n,I)],tooltipPosition:{x:_+L/2,y:R+z/2}})});return Bt({data:D,layout:j},g)});function dc(e){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(e)}function sW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nI(r.key),r)}}function oW(e,t,n){return t&&aP(e.prototype,t),n&&aP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function iP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iP(Object(n),!0).forEach(function(r){Lf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lf(e,t,n){return t=nI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nI(e){var t=lW(e,"string");return dc(t)=="symbol"?t:String(t)}function lW(e,t){if(dc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rI=function(t,n,r,a,o){var c=t.width,u=t.height,f=t.layout,d=t.children,h=Object.keys(n),m={left:r.left,leftMirror:r.left,right:c-r.right,rightMirror:c-r.right,top:r.top,topMirror:r.top,bottom:u-r.bottom,bottomMirror:u-r.bottom},g=!!_n(d,ca);return h.reduce(function(v,j){var w=n[j],b=w.orientation,y=w.domain,S=w.padding,P=S===void 0?{}:S,k=w.mirror,C=w.reversed,E="".concat(b).concat(k?"Mirror":""),D,I,$,B,_;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var R=y[1]-y[0],L=1/0,z=w.categoricalDomain.sort();z.forEach(function(pe,we){we>0&&(L=Math.min((pe||0)-(z[we-1]||0),L))});var H=L/R,U=w.layout==="vertical"?r.height:r.width;if(w.padding==="gap"&&(D=H*U/2),w.padding==="no-gap"){var Q=Ms(t.barCategoryGap,H*U),G=H*U/2;D=G-Q-(G-Q)/U*Q}}a==="xAxis"?I=[r.left+(P.left||0)+(D||0),r.left+r.width-(P.right||0)-(D||0)]:a==="yAxis"?I=f==="horizontal"?[r.top+r.height-(P.bottom||0),r.top+(P.top||0)]:[r.top+(P.top||0)+(D||0),r.top+r.height-(P.bottom||0)-(D||0)]:I=w.range,C&&(I=[I[1],I[0]]);var Y=w7(w,o,g),M=Y.scale,X=Y.realScaleType;M.domain(y).range(I),j7(M);var ee=D7(M,fr(fr({},w),{},{realScaleType:X}));a==="xAxis"?(_=b==="top"&&!k||b==="bottom"&&k,$=r.left,B=m[E]-_*w.height):a==="yAxis"&&(_=b==="left"&&!k||b==="right"&&k,$=m[E]-_*w.width,B=r.top);var ne=fr(fr(fr({},w),ee),{},{realScaleType:X,x:$,y:B,scale:M,width:a==="xAxis"?r.width:w.width,height:a==="yAxis"?r.height:w.height});return ne.bandSize=zd(ne,ee),!w.hide&&a==="xAxis"?m[E]+=(_?-1:1)*ne.height:w.hide||(m[E]+=(_?-1:1)*ne.width),fr(fr({},v),{},Lf({},j,ne))},{})},aI=function(t,n){var r=t.x,a=t.y,o=n.x,c=n.y;return{x:Math.min(r,o),y:Math.min(a,c),width:Math.abs(o-r),height:Math.abs(c-a)}},cW=function(t){var n=t.x1,r=t.y1,a=t.x2,o=t.y2;return aI({x:n,y:r},{x:a,y:o})},iI=(function(){function e(t){sW(this,e),this.scale=t}return oW(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(n)+u}default:return this.scale(n)}if(a){var f=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+f}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),a=r[0],o=r[r.length-1];return a<=o?n>=a&&n<=o:n>=o&&n<=a}}],[{key:"create",value:function(n){return new e(n)}}]),e})();Lf(iI,"EPS",1e-4);var Ob=function(t){var n=Object.keys(t).reduce(function(r,a){return fr(fr({},r),{},Lf({},a,iI.create(t[a])))},{});return fr(fr({},n),{},{apply:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=o.bandAware,u=o.position;return zq(a,function(f,d){return n[d].apply(f,{bandAware:c,position:u})})},isInRange:function(a){return ZO(a,function(o,c){return n[c].isInRange(o)})}})};function uW(e){return(e%180+180)%180}var dW=function(t){var n=t.width,r=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=uW(a),c=o*Math.PI/180,u=Math.atan(r/n),f=c>u&&c<Math.PI-u?r/Math.sin(c):n/Math.cos(c);return Math.abs(f)},Ox,sP;function fW(){if(sP)return Ox;sP=1;var e=Ja(),t=Sc(),n=Sf();function r(a){return function(o,c,u){var f=Object(o);if(!t(o)){var d=e(c,3);o=n(o),c=function(m){return d(f[m],m,f)}}var h=a(o,c,u);return h>-1?f[d?o[h]:h]:void 0}}return Ox=r,Ox}var Ix,oP;function pW(){if(oP)return Ix;oP=1;var e=GO();function t(n){var r=e(n),a=r%1;return r===r?a?r-a:r:0}return Ix=t,Ix}var Tx,lP;function hW(){if(lP)return Tx;lP=1;var e=wD(),t=Ja(),n=pW(),r=Math.max;function a(o,c,u){var f=o==null?0:o.length;if(!f)return-1;var d=u==null?0:n(u);return d<0&&(d=r(f+d,0)),e(o,t(c,3),d)}return Tx=a,Tx}var _x,cP;function mW(){if(cP)return _x;cP=1;var e=fW(),t=hW(),n=e(t);return _x=n,_x}var gW=mW();const xW=lt(gW);var vW=RE();const yW=lt(vW);var bW=yW(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Ib=O.createContext(void 0),Tb=O.createContext(void 0),sI=O.createContext(void 0),oI=O.createContext({}),lI=O.createContext(void 0),cI=O.createContext(0),uI=O.createContext(0),uP=function(t){var n=t.state,r=n.xAxisMap,a=n.yAxisMap,o=n.offset,c=t.clipPathId,u=t.children,f=t.width,d=t.height,h=bW(o);return q.createElement(Ib.Provider,{value:r},q.createElement(Tb.Provider,{value:a},q.createElement(oI.Provider,{value:o},q.createElement(sI.Provider,{value:h},q.createElement(lI.Provider,{value:c},q.createElement(cI.Provider,{value:d},q.createElement(uI.Provider,{value:f},u)))))))},wW=function(){return O.useContext(lI)},dI=function(t){var n=O.useContext(Ib);n==null&&zi();var r=n[t];return r==null&&zi(),r},jW=function(){var t=O.useContext(Ib);return Ba(t)},NW=function(){var t=O.useContext(Tb),n=xW(t,function(r){return ZO(r.domain,Number.isFinite)});return n||Ba(t)},fI=function(t){var n=O.useContext(Tb);n==null&&zi();var r=n[t];return r==null&&zi(),r},SW=function(){var t=O.useContext(sI);return t},kW=function(){return O.useContext(oI)},_b=function(){return O.useContext(uI)},Mb=function(){return O.useContext(cI)};function fc(e){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}function dP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dP(Object(n),!0).forEach(function(r){CW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CW(e,t,n){return t=AW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AW(e){var t=PW(e,"string");return fc(t)=="symbol"?t:String(t)}function PW(e,t){if(fc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EW(e,t){return TW(e)||IW(e,t)||OW(e,t)||DW()}function DW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OW(e,t){if(e){if(typeof e=="string")return pP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pP(e,t)}}function pP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function IW(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,o,c,u=[],f=!0,d=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(f=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);f=!0);}catch(h){d=!0,a=h}finally{try{if(!f&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(d)throw a}}return u}}function TW(e){if(Array.isArray(e))return e}function Jv(){return Jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jv.apply(this,arguments)}var _W=function(t,n){var r;return q.isValidElement(t)?r=q.cloneElement(t,n):Fe(t)?r=t(n):r=q.createElement("line",Jv({},n,{className:"recharts-reference-line-line"})),r},MW=function(t,n,r,a,o,c,u,f,d){var h=o.x,m=o.y,g=o.width,v=o.height;if(r){var j=d.y,w=t.y.apply(j,{position:c});if(_r(d,"discard")&&!t.y.isInRange(w))return null;var b=[{x:h+g,y:w},{x:h,y:w}];return f==="left"?b.reverse():b}if(n){var y=d.x,S=t.x.apply(y,{position:c});if(_r(d,"discard")&&!t.x.isInRange(S))return null;var P=[{x:S,y:m+v},{x:S,y:m}];return u==="top"?P.reverse():P}if(a){var k=d.segment,C=k.map(function(E){return t.apply(E,{position:c})});return _r(d,"discard")&&_q(C,function(E){return!t.isInRange(E)})?null:C}return null};function Rb(e){var t=e.x,n=e.y,r=e.segment,a=e.xAxisId,o=e.yAxisId,c=e.shape,u=e.className,f=e.alwaysShow,d=wW(),h=dI(a),m=fI(o),g=SW();if(!d||!g)return null;na(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=Ob({x:h.scale,y:m.scale}),j=Tt(t),w=Tt(n),b=r&&r.length===2,y=MW(v,j,w,b,g,e.position,h.orientation,m.orientation,e);if(!y)return null;var S=EW(y,2),P=S[0],k=P.x,C=P.y,E=S[1],D=E.x,I=E.y,$=_r(e,"hidden")?"url(#".concat(d,")"):void 0,B=fP(fP({clipPath:$},Le(e,!0)),{},{x1:k,y1:C,x2:D,y2:I});return q.createElement(Ze,{className:Xe("recharts-reference-line",u)},_W(c,B),an.renderCallByParent(e,cW({x1:k,y1:C,x2:D,y2:I})))}Rb.displayName="ReferenceLine";Rb.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function pc(e){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(e)}function ey(){return ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ey.apply(this,arguments)}function hP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function mP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hP(Object(n),!0).forEach(function(r){RW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RW(e,t,n){return t=$W(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $W(e){var t=zW(e,"string");return pc(t)=="symbol"?t:String(t)}function zW(e,t){if(pc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LW=function(t){var n=t.x,r=t.y,a=t.xAxis,o=t.yAxis,c=Ob({x:a.scale,y:o.scale}),u=c.apply({x:n,y:r},{bandAware:!0});return _r(t,"discard")&&!c.isInRange(u)?null:u};function Ec(e){var t=e.x,n=e.y,r=e.r,a=e.alwaysShow,o=e.clipPathId,c=Tt(t),u=Tt(n);if(na(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=LW(e);if(!f)return null;var d=f.x,h=f.y,m=e.shape,g=e.className,v=_r(e,"hidden")?"url(#".concat(o,")"):void 0,j=mP(mP({clipPath:v},Le(e,!0)),{},{cx:d,cy:h});return q.createElement(Ze,{className:Xe("recharts-reference-dot",g)},Ec.renderDot(m,j),an.renderCallByParent(e,{x:d-r,y:h-r,width:2*r,height:2*r}))}Ec.displayName="ReferenceDot";Ec.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};Ec.renderDot=function(e,t){var n;return q.isValidElement(e)?n=q.cloneElement(e,t):Fe(e)?n=e(t):n=q.createElement(Rf,ey({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n};function hc(e){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(e)}function ty(){return ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ty.apply(this,arguments)}function gP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(n),!0).forEach(function(r){BW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BW(e,t,n){return t=FW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FW(e){var t=UW(e,"string");return hc(t)=="symbol"?t:String(t)}function UW(e,t){if(hc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qW=function(t,n,r,a,o){var c=o.x1,u=o.x2,f=o.y1,d=o.y2,h=o.xAxis,m=o.yAxis;if(!h||!m)return null;var g=Ob({x:h.scale,y:m.scale}),v={x:t?g.x.apply(c,{position:"start"}):g.x.rangeMin,y:r?g.y.apply(f,{position:"start"}):g.y.rangeMin},j={x:n?g.x.apply(u,{position:"end"}):g.x.rangeMax,y:a?g.y.apply(d,{position:"end"}):g.y.rangeMax};return _r(o,"discard")&&(!g.isInRange(v)||!g.isInRange(j))?null:aI(v,j)};function Dc(e){var t=e.x1,n=e.x2,r=e.y1,a=e.y2,o=e.className,c=e.alwaysShow,u=e.clipPathId;na(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Tt(t),d=Tt(n),h=Tt(r),m=Tt(a),g=e.shape;if(!f&&!d&&!h&&!m&&!g)return null;var v=qW(f,d,h,m,e);if(!v&&!g)return null;var j=_r(e,"hidden")?"url(#".concat(u,")"):void 0;return q.createElement(Ze,{className:Xe("recharts-reference-area",o)},Dc.renderRect(g,xP(xP({clipPath:j},Le(e,!0)),v)),an.renderCallByParent(e,v))}Dc.displayName="ReferenceArea";Dc.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};Dc.renderRect=function(e,t){var n;return q.isValidElement(e)?n=q.cloneElement(e,t):Fe(e)?n=e(t):n=q.createElement(Db,ty({},t,{className:"recharts-reference-area-rect"})),n};function pI(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],a=0;a<e.length;a+=t)r.push(e[a]);return r}function WW(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return dW(r,n)}function HW(e,t,n){var r=n==="width",a=e.x,o=e.y,c=e.width,u=e.height;return t===1?{start:r?a:o,end:r?a+c:o+u}:{start:r?a+c:o+u,end:r?a:o}}function Jd(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-a)<=0}function VW(e,t){return pI(e,t+1)}function KW(e,t,n,r,a){for(var o=(r||[]).slice(),c=t.start,u=t.end,f=0,d=1,h=c,m=function(){var j=r==null?void 0:r[f];if(j===void 0)return{v:pI(r,d)};var w=f,b,y=function(){return b===void 0&&(b=n(j,w)),b},S=j.coordinate,P=f===0||Jd(e,S,y,h,u);P||(f=0,h=c,d+=1),P&&(h=S+e*(y()/2+a),f+=d)},g;d<=o.length;)if(g=m(),g)return g.v;return[]}function mc(e){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mc(e)}function vP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vP(Object(n),!0).forEach(function(r){GW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GW(e,t,n){return t=YW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YW(e){var t=XW(e,"string");return mc(t)=="symbol"?t:String(t)}function XW(e,t){if(mc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QW(e,t,n,r,a){for(var o=(r||[]).slice(),c=o.length,u=t.start,f=t.end,d=function(g){var v=o[g],j,w=function(){return j===void 0&&(j=n(v,g)),j};if(g===c-1){var b=e*(v.coordinate+e*w()/2-f);o[g]=v=nn(nn({},v),{},{tickCoord:b>0?v.coordinate-b*e:v.coordinate})}else o[g]=v=nn(nn({},v),{},{tickCoord:v.coordinate});var y=Jd(e,v.tickCoord,w,u,f);y&&(f=v.tickCoord-e*(w()/2+a),o[g]=nn(nn({},v),{},{isShow:!0}))},h=c-1;h>=0;h--)d(h);return o}function ZW(e,t,n,r,a,o){var c=(r||[]).slice(),u=c.length,f=t.start,d=t.end;if(o){var h=r[u-1],m=n(h,u-1),g=e*(h.coordinate+e*m/2-d);c[u-1]=h=nn(nn({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate});var v=Jd(e,h.tickCoord,function(){return m},f,d);v&&(d=h.tickCoord-e*(m/2+a),c[u-1]=nn(nn({},h),{},{isShow:!0}))}for(var j=o?u-1:u,w=function(S){var P=c[S],k,C=function(){return k===void 0&&(k=n(P,S)),k};if(S===0){var E=e*(P.coordinate-e*C()/2-f);c[S]=P=nn(nn({},P),{},{tickCoord:E<0?P.coordinate-E*e:P.coordinate})}else c[S]=P=nn(nn({},P),{},{tickCoord:P.coordinate});var D=Jd(e,P.tickCoord,C,f,d);D&&(f=P.tickCoord+e*(C()/2+a),c[S]=nn(nn({},P),{},{isShow:!0}))},b=0;b<j;b++)w(b);return c}function $b(e,t,n){var r=e.tick,a=e.ticks,o=e.viewBox,c=e.minTickGap,u=e.orientation,f=e.interval,d=e.tickFormatter,h=e.unit,m=e.angle;if(!a||!a.length||!r)return[];if(he(f)||ei.isSsr)return VW(a,typeof f=="number"&&he(f)?f:0);var g=[],v=u==="top"||u==="bottom"?"width":"height",j=h&&v==="width"?bl(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},w=function(P,k){var C=Fe(d)?d(P.value,k):P.value;return v==="width"?WW(bl(C,{fontSize:t,letterSpacing:n}),j,m):bl(C,{fontSize:t,letterSpacing:n})[v]},b=a.length>=2?gr(a[1].coordinate-a[0].coordinate):1,y=HW(o,b,v);return f==="equidistantPreserveStart"?KW(b,y,w,a,c):(f==="preserveStart"||f==="preserveStartEnd"?g=ZW(b,y,w,a,c,f==="preserveStartEnd"):g=QW(b,y,w,a,c),g.filter(function(S){return S.isShow}))}var JW=["viewBox"],eH=["viewBox"],tH=["ticks"];function Ys(e){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ys(e)}function Ds(){return Ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ds.apply(this,arguments)}function yP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function dn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yP(Object(n),!0).forEach(function(r){zb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mx(e,t){if(e==null)return{};var n=nH(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function nH(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function rH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mI(r.key),r)}}function aH(e,t,n){return t&&bP(e.prototype,t),n&&bP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function iH(e,t,n){return t=ef(t),sH(e,hI()?Reflect.construct(t,n||[],ef(e).constructor):t.apply(e,n))}function sH(e,t){if(t&&(Ys(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oH(e)}function oH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hI=function(){return!!e})()}function ef(e){return ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ef(e)}function lH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ny(e,t)}function ny(e,t){return ny=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},ny(e,t)}function zb(e,t,n){return t=mI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mI(e){var t=cH(e,"string");return Ys(t)=="symbol"?t:String(t)}function cH(e,t){if(Ys(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ys(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var go=(function(e){lH(t,e);function t(n){var r;return rH(this,t),r=iH(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return aH(t,[{key:"shouldComponentUpdate",value:function(r,a){var o=r.viewBox,c=Mx(r,JW),u=this.props,f=u.viewBox,d=Mx(u,eH);return!Os(o,f)||!Os(c,d)||!Os(a,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var a=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var a=this.props,o=a.x,c=a.y,u=a.width,f=a.height,d=a.orientation,h=a.tickSize,m=a.mirror,g=a.tickMargin,v,j,w,b,y,S,P=m?-1:1,k=r.tickSize||h,C=he(r.tickCoord)?r.tickCoord:r.coordinate;switch(d){case"top":v=j=r.coordinate,b=c+ +!m*f,w=b-P*k,S=w-P*g,y=C;break;case"left":w=b=r.coordinate,j=o+ +!m*u,v=j-P*k,y=v-P*g,S=C;break;case"right":w=b=r.coordinate,j=o+ +m*u,v=j+P*k,y=v+P*g,S=C;break;default:v=j=r.coordinate,b=c+ +m*f,w=b+P*k,S=w+P*g,y=C;break}return{line:{x1:v,y1:w,x2:j,y2:b},tick:{x:y,y:S}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,a=r.orientation,o=r.mirror,c;switch(a){case"left":c=o?"start":"end";break;case"right":c=o?"end":"start";break;default:c="middle";break}return c}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,a=r.orientation,o=r.mirror,c="end";switch(a){case"left":case"right":c="middle";break;case"top":c=o?"start":"end";break;default:c=o?"end":"start";break}return c}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.x,o=r.y,c=r.width,u=r.height,f=r.orientation,d=r.mirror,h=r.axisLine,m=dn(dn(dn({},Le(this.props,!1)),Le(h,!1)),{},{fill:"none"});if(f==="top"||f==="bottom"){var g=+(f==="top"&&!d||f==="bottom"&&d);m=dn(dn({},m),{},{x1:a,y1:o+g*u,x2:a+c,y2:o+g*u})}else{var v=+(f==="left"&&!d||f==="right"&&d);m=dn(dn({},m),{},{x1:a+v*c,y1:o,x2:a+v*c,y2:o+u})}return q.createElement("line",Ds({},m,{className:Xe("recharts-cartesian-axis-line",Jn(h,"className"))}))}},{key:"renderTicks",value:function(r,a,o){var c=this,u=this.props,f=u.tickLine,d=u.stroke,h=u.tick,m=u.tickFormatter,g=u.unit,v=$b(dn(dn({},this.props),{},{ticks:r}),a,o),j=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),b=Le(this.props,!1),y=Le(h,!1),S=dn(dn({},b),{},{fill:"none"},Le(f,!1)),P=v.map(function(k,C){var E=c.getTickLineCoord(k),D=E.line,I=E.tick,$=dn(dn(dn(dn({textAnchor:j,verticalAnchor:w},b),{},{stroke:"none",fill:d},y),I),{},{index:C,payload:k,visibleTicksCount:v.length,tickFormatter:m});return q.createElement(Ze,Ds({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},Il(c.props,k,C)),f&&q.createElement("line",Ds({},S,D,{className:Xe("recharts-cartesian-axis-tick-line",Jn(f,"className"))})),h&&t.renderTickItem(h,$,"".concat(Fe(m)?m(k.value,C):k.value).concat(g||"")))});return q.createElement("g",{className:"recharts-cartesian-axis-ticks"},P)}},{key:"render",value:function(){var r=this,a=this.props,o=a.axisLine,c=a.width,u=a.height,f=a.ticksGenerator,d=a.className,h=a.hide;if(h)return null;var m=this.props,g=m.ticks,v=Mx(m,tH),j=g;return Fe(f)&&(j=g&&g.length>0?f(this.props):f(v)),c<=0||u<=0||!j||!j.length?null:q.createElement(Ze,{className:Xe("recharts-cartesian-axis",d),ref:function(b){r.layerReference=b}},o&&this.renderAxisLine(),this.renderTicks(j,this.state.fontSize,this.state.letterSpacing),an.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,a,o){var c;return q.isValidElement(r)?c=q.cloneElement(r,a):Fe(r)?c=r(a):c=q.createElement(Sd,Ds({},a,{className:"recharts-cartesian-axis-tick-value"}),o),c}}]),t})(O.Component);zb(go,"displayName","CartesianAxis");zb(go,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var uH=["x1","y1","x2","y2","key"],dH=["offset"];function Li(e){"@babel/helpers - typeof";return Li=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Li(e)}function wP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function sn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wP(Object(n),!0).forEach(function(r){fH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fH(e,t,n){return t=pH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pH(e){var t=hH(e,"string");return Li(t)=="symbol"?t:String(t)}function hH(e,t){if(Li(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Li(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ai(){return Ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ai.apply(this,arguments)}function jP(e,t){if(e==null)return{};var n=mH(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function mH(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}var gH=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,a=t.x,o=t.y,c=t.width,u=t.height;return q.createElement("rect",{x:a,y:o,width:c,height:u,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function gI(e,t){var n;if(q.isValidElement(e))n=q.cloneElement(e,t);else if(Fe(e))n=e(t);else{var r=t.x1,a=t.y1,o=t.x2,c=t.y2,u=t.key,f=jP(t,uH),d=Le(f,!1);d.offset;var h=jP(d,dH);n=q.createElement("line",Ai({},h,{x1:r,y1:a,x2:o,y2:c,fill:"none",key:u}))}return n}function xH(e){var t=e.x,n=e.width,r=e.horizontal,a=r===void 0?!0:r,o=e.horizontalPoints;if(!a||!o||!o.length)return null;var c=o.map(function(u,f){var d=sn(sn({},e),{},{x1:t,y1:u,x2:t+n,y2:u,key:"line-".concat(f),index:f});return gI(a,d)});return q.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function vH(e){var t=e.y,n=e.height,r=e.vertical,a=r===void 0?!0:r,o=e.verticalPoints;if(!a||!o||!o.length)return null;var c=o.map(function(u,f){var d=sn(sn({},e),{},{x1:u,y1:t,x2:u,y2:t+n,key:"line-".concat(f),index:f});return gI(a,d)});return q.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function yH(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,a=e.y,o=e.width,c=e.height,u=e.horizontalPoints,f=e.horizontal,d=f===void 0?!0:f;if(!d||!t||!t.length)return null;var h=u.map(function(g){return Math.round(g+a-a)}).sort(function(g,v){return g-v});a!==h[0]&&h.unshift(0);var m=h.map(function(g,v){var j=!h[v+1],w=j?a+c-g:h[v+1]-g;if(w<=0)return null;var b=v%t.length;return q.createElement("rect",{key:"react-".concat(v),y:g,x:r,height:w,width:o,stroke:"none",fill:t[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function bH(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,a=e.fillOpacity,o=e.x,c=e.y,u=e.width,f=e.height,d=e.verticalPoints;if(!n||!r||!r.length)return null;var h=d.map(function(g){return Math.round(g+o-o)}).sort(function(g,v){return g-v});o!==h[0]&&h.unshift(0);var m=h.map(function(g,v){var j=!h[v+1],w=j?o+u-g:h[v+1]-g;if(w<=0)return null;var b=v%r.length;return q.createElement("rect",{key:"react-".concat(v),x:g,y:c,width:w,height:f,stroke:"none",fill:r[b],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return q.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var wH=function(t,n){var r=t.xAxis,a=t.width,o=t.height,c=t.offset;return MO($b(sn(sn(sn({},go.defaultProps),r),{},{ticks:Jr(r,!0),viewBox:{x:0,y:0,width:a,height:o}})),c.left,c.left+c.width,n)},jH=function(t,n){var r=t.yAxis,a=t.width,o=t.height,c=t.offset;return MO($b(sn(sn(sn({},go.defaultProps),r),{},{ticks:Jr(r,!0),viewBox:{x:0,y:0,width:a,height:o}})),c.top,c.top+c.height,n)},Ns={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ry(e){var t,n,r,a,o,c,u=_b(),f=Mb(),d=kW(),h=sn(sn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ns.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:Ns.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:Ns.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Ns.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:Ns.vertical,verticalFill:(c=e.verticalFill)!==null&&c!==void 0?c:Ns.verticalFill,x:he(e.x)?e.x:d.left,y:he(e.y)?e.y:d.top,width:he(e.width)?e.width:d.width,height:he(e.height)?e.height:d.height}),m=h.x,g=h.y,v=h.width,j=h.height,w=h.syncWithTicks,b=h.horizontalValues,y=h.verticalValues,S=jW(),P=NW();if(!he(v)||v<=0||!he(j)||j<=0||!he(m)||m!==+m||!he(g)||g!==+g)return null;var k=h.verticalCoordinatesGenerator||wH,C=h.horizontalCoordinatesGenerator||jH,E=h.horizontalPoints,D=h.verticalPoints;if((!E||!E.length)&&Fe(C)){var I=b&&b.length,$=C({yAxis:P?sn(sn({},P),{},{ticks:I?b:P.ticks}):void 0,width:u,height:f,offset:d},I?!0:w);na(Array.isArray($),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Li($),"]")),Array.isArray($)&&(E=$)}if((!D||!D.length)&&Fe(k)){var B=y&&y.length,_=k({xAxis:S?sn(sn({},S),{},{ticks:B?y:S.ticks}):void 0,width:u,height:f,offset:d},B?!0:w);na(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Li(_),"]")),Array.isArray(_)&&(D=_)}return q.createElement("g",{className:"recharts-cartesian-grid"},q.createElement(gH,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height}),q.createElement(xH,Ai({},h,{offset:d,horizontalPoints:E,xAxis:S,yAxis:P})),q.createElement(vH,Ai({},h,{offset:d,verticalPoints:D,xAxis:S,yAxis:P})),q.createElement(yH,Ai({},h,{horizontalPoints:E})),q.createElement(bH,Ai({},h,{verticalPoints:D})))}ry.displayName="CartesianGrid";var NH=["type","layout","connectNulls","ref"];function Xs(e){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xs(e)}function SH(e,t){if(e==null)return{};var n=kH(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function kH(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function Sl(){return Sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sl.apply(this,arguments)}function NP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function In(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NP(Object(n),!0).forEach(function(r){pr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ss(e){return EH(e)||PH(e)||AH(e)||CH()}function CH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AH(e,t){if(e){if(typeof e=="string")return ay(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ay(e,t)}}function PH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function EH(e){if(Array.isArray(e))return ay(e)}function ay(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function DH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vI(r.key),r)}}function OH(e,t,n){return t&&SP(e.prototype,t),n&&SP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function IH(e,t,n){return t=tf(t),TH(e,xI()?Reflect.construct(t,n||[],tf(e).constructor):t.apply(e,n))}function TH(e,t){if(t&&(Xs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $a(e)}function xI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xI=function(){return!!e})()}function tf(e){return tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tf(e)}function $a(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _H(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iy(e,t)}function iy(e,t){return iy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},iy(e,t)}function pr(e,t,n){return t=vI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vI(e){var t=MH(e,"string");return Xs(t)=="symbol"?t:String(t)}function MH(e,t){if(Xs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bf=(function(e){_H(t,e);function t(){var n;DH(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=IH(this,t,[].concat(a)),pr($a(n),"state",{isAnimationFinished:!0,totalLength:0}),pr($a(n),"generateSimpleStrokeDasharray",function(c,u){return"".concat(u,"px ").concat(c-u,"px")}),pr($a(n),"getStrokeDasharray",function(c,u,f){var d=f.reduce(function(y,S){return y+S});if(!d)return n.generateSimpleStrokeDasharray(u,c);for(var h=Math.floor(c/d),m=c%d,g=u-c,v=[],j=0,w=0;j<f.length;w+=f[j],++j)if(w+f[j]>m){v=[].concat(Ss(f.slice(0,j)),[m-w]);break}var b=v.length%2===0?[0,g]:[g];return[].concat(Ss(t.repeat(f,h)),Ss(v),b).map(function(y){return"".concat(y,"px")}).join(", ")}),pr($a(n),"id",Wi("recharts-line-")),pr($a(n),"pathRef",function(c){n.mainCurve=c}),pr($a(n),"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),pr($a(n),"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return OH(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,c=o.points,u=o.xAxis,f=o.yAxis,d=o.layout,h=o.children,m=Nn(h,mo);if(!m)return null;var g=function(w,b){return{x:w.x,y:w.y,value:w.value,errorVal:_t(w.payload,b)}},v={clipPath:r?"url(#clipPath-".concat(a,")"):null};return q.createElement(Ze,v,m.map(function(j){return q.cloneElement(j,{key:"bar-".concat(j.props.dataKey),data:c,xAxis:u,yAxis:f,layout:d,dataPointFormatter:g})}))}},{key:"renderDots",value:function(r,a,o){var c=this.props.isAnimationActive;if(c&&!this.state.isAnimationFinished)return null;var u=this.props,f=u.dot,d=u.points,h=u.dataKey,m=Le(this.props,!1),g=Le(f,!0),v=d.map(function(w,b){var y=In(In(In({key:"dot-".concat(b),r:3},m),g),{},{value:w.value,dataKey:h,cx:w.x,cy:w.y,index:b,payload:w.payload});return t.renderDotItem(f,y)}),j={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return q.createElement(Ze,Sl({className:"recharts-line-dots",key:"dots"},j),v)}},{key:"renderCurveStatically",value:function(r,a,o,c){var u=this.props,f=u.type,d=u.layout,h=u.connectNulls;u.ref;var m=SH(u,NH),g=In(In(In({},Le(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(o,")"):null,points:r},c),{},{type:f,layout:d,connectNulls:h});return q.createElement(Ti,Sl({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,a){var o=this,c=this.props,u=c.points,f=c.strokeDasharray,d=c.isAnimationActive,h=c.animationBegin,m=c.animationDuration,g=c.animationEasing,v=c.animationId,j=c.animateNewValues,w=c.width,b=c.height,y=this.state,S=y.prevPoints,P=y.totalLength;return q.createElement(br,{begin:h,duration:m,isActive:d,easing:g,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var C=k.t;if(S){var E=S.length/u.length,D=u.map(function(R,L){var z=Math.floor(L*E);if(S[z]){var H=S[z],U=St(H.x,R.x),Q=St(H.y,R.y);return In(In({},R),{},{x:U(C),y:Q(C)})}if(j){var G=St(w*2,R.x),Y=St(b/2,R.y);return In(In({},R),{},{x:G(C),y:Y(C)})}return In(In({},R),{},{x:R.x,y:R.y})});return o.renderCurveStatically(D,r,a)}var I=St(0,P),$=I(C),B;if(f){var _="".concat(f).split(/[,\s]+/gim).map(function(R){return parseFloat(R)});B=o.getStrokeDasharray($,P,_)}else B=o.generateSimpleStrokeDasharray(P,$);return o.renderCurveStatically(u,r,a,{strokeDasharray:B})})}},{key:"renderCurve",value:function(r,a){var o=this.props,c=o.points,u=o.isAnimationActive,f=this.state,d=f.prevPoints,h=f.totalLength;return u&&c&&c.length&&(!d&&h>0||!Ri(d,c))?this.renderCurveWithAnimation(r,a):this.renderCurveStatically(c,r,a)}},{key:"render",value:function(){var r,a=this.props,o=a.hide,c=a.dot,u=a.points,f=a.className,d=a.xAxis,h=a.yAxis,m=a.top,g=a.left,v=a.width,j=a.height,w=a.isAnimationActive,b=a.id;if(o||!u||!u.length)return null;var y=this.state.isAnimationFinished,S=u.length===1,P=Xe("recharts-line",f),k=d&&d.allowDataOverflow,C=h&&h.allowDataOverflow,E=k||C,D=Be(b)?this.id:b,I=(r=Le(c,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},$=I.r,B=$===void 0?3:$,_=I.strokeWidth,R=_===void 0?2:_,L=FE(c)?c:{},z=L.clipDot,H=z===void 0?!0:z,U=B*2+R;return q.createElement(Ze,{className:P},k||C?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(D)},q.createElement("rect",{x:k?g:g-v/2,y:C?m:m-j/2,width:k?v:v*2,height:C?j:j*2})),!H&&q.createElement("clipPath",{id:"clipPath-dots-".concat(D)},q.createElement("rect",{x:g-U/2,y:m-U/2,width:v+U,height:j+U}))):null,!S&&this.renderCurve(E,D),this.renderErrorBar(E,D),(S||c)&&this.renderDots(E,H,D),(!w||y)&&Tr.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:a.curPoints}:r.points!==a.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,a){for(var o=r.length%2!==0?[].concat(Ss(r),[0]):r,c=[],u=0;u<a;++u)c=[].concat(Ss(c),Ss(o));return c}},{key:"renderDotItem",value:function(r,a){var o;if(q.isValidElement(r))o=q.cloneElement(r,a);else if(Fe(r))o=r(a);else{var c=Xe("recharts-line-dot",r?r.className:"");o=q.createElement(Rf,Sl({},a,{className:c}))}return o}}]),t})(O.PureComponent);pr(Bf,"displayName","Line");pr(Bf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ei.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});pr(Bf,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,c=e.dataKey,u=e.bandSize,f=e.displayedData,d=e.offset,h=t.layout,m=f.map(function(g,v){var j=_t(g,c);return h==="horizontal"?{x:Ws({axis:n,ticks:a,bandSize:u,entry:g,index:v}),y:Be(j)?null:r.scale(j),value:j,payload:g}:{x:Be(j)?null:n.scale(j),y:Ws({axis:r,ticks:o,bandSize:u,entry:g,index:v}),value:j,payload:g}});return In({points:m,layout:h},d)});var RH=["layout","type","stroke","connectNulls","isRange","ref"],yI;function Qs(e){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qs(e)}function $H(e,t){if(e==null)return{};var n=zH(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function zH(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function Pi(){return Pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pi.apply(this,arguments)}function kP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function za(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kP(Object(n),!0).forEach(function(r){Or(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wI(r.key),r)}}function BH(e,t,n){return t&&CP(e.prototype,t),n&&CP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function FH(e,t,n){return t=nf(t),UH(e,bI()?Reflect.construct(t,n||[],nf(e).constructor):t.apply(e,n))}function UH(e,t){if(t&&(Qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xl(e)}function bI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bI=function(){return!!e})()}function nf(e){return nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nf(e)}function xl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sy(e,t)}function sy(e,t){return sy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},sy(e,t)}function Or(e,t,n){return t=wI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wI(e){var t=WH(e,"string");return Qs(t)=="symbol"?t:String(t)}function WH(e,t){if(Qs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Qs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ai=(function(e){qH(t,e);function t(){var n;LH(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=FH(this,t,[].concat(a)),Or(xl(n),"state",{isAnimationFinished:!0}),Or(xl(n),"id",Wi("recharts-area-")),Or(xl(n),"handleAnimationEnd",function(){var c=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Fe(c)&&c()}),Or(xl(n),"handleAnimationStart",function(){var c=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Fe(c)&&c()}),n}return BH(t,[{key:"renderDots",value:function(r,a,o){var c=this.props.isAnimationActive,u=this.state.isAnimationFinished;if(c&&!u)return null;var f=this.props,d=f.dot,h=f.points,m=f.dataKey,g=Le(this.props,!1),v=Le(d,!0),j=h.map(function(b,y){var S=za(za(za({key:"dot-".concat(y),r:3},g),v),{},{dataKey:m,cx:b.x,cy:b.y,index:y,value:b.value,payload:b.payload});return t.renderDotItem(d,S)}),w={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return q.createElement(Ze,Pi({className:"recharts-area-dots"},w),j)}},{key:"renderHorizontalRect",value:function(r){var a=this.props,o=a.baseLine,c=a.points,u=a.strokeWidth,f=c[0].x,d=c[c.length-1].x,h=r*Math.abs(f-d),m=qa(c.map(function(g){return g.y||0}));return he(o)&&typeof o=="number"?m=Math.max(o,m):o&&Array.isArray(o)&&o.length&&(m=Math.max(qa(o.map(function(g){return g.y||0})),m)),he(m)?q.createElement("rect",{x:f<d?f:f-h,y:0,width:h,height:Math.floor(m+(u?parseInt("".concat(u),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var a=this.props,o=a.baseLine,c=a.points,u=a.strokeWidth,f=c[0].y,d=c[c.length-1].y,h=r*Math.abs(f-d),m=qa(c.map(function(g){return g.x||0}));return he(o)&&typeof o=="number"?m=Math.max(o,m):o&&Array.isArray(o)&&o.length&&(m=Math.max(qa(o.map(function(g){return g.x||0})),m)),he(m)?q.createElement("rect",{x:0,y:f<d?f:f-h,width:m+(u?parseInt("".concat(u),10):1),height:Math.floor(h)}):null}},{key:"renderClipRect",value:function(r){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,a,o,c){var u=this.props,f=u.layout,d=u.type,h=u.stroke,m=u.connectNulls,g=u.isRange;u.ref;var v=$H(u,RH);return q.createElement(Ze,{clipPath:o?"url(#clipPath-".concat(c,")"):null},q.createElement(Ti,Pi({},Le(v,!0),{points:r,connectNulls:m,type:d,baseLine:a,layout:f,stroke:"none",className:"recharts-area-area"})),h!=="none"&&q.createElement(Ti,Pi({},Le(this.props,!1),{className:"recharts-area-curve",layout:f,type:d,connectNulls:m,fill:"none",points:r})),h!=="none"&&g&&q.createElement(Ti,Pi({},Le(this.props,!1),{className:"recharts-area-curve",layout:f,type:d,connectNulls:m,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(r,a){var o=this,c=this.props,u=c.points,f=c.baseLine,d=c.isAnimationActive,h=c.animationBegin,m=c.animationDuration,g=c.animationEasing,v=c.animationId,j=this.state,w=j.prevPoints,b=j.prevBaseLine;return q.createElement(br,{begin:h,duration:m,isActive:d,easing:g,from:{t:0},to:{t:1},key:"area-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var S=y.t;if(w){var P=w.length/u.length,k=u.map(function(I,$){var B=Math.floor($*P);if(w[B]){var _=w[B],R=St(_.x,I.x),L=St(_.y,I.y);return za(za({},I),{},{x:R(S),y:L(S)})}return I}),C;if(he(f)&&typeof f=="number"){var E=St(b,f);C=E(S)}else if(Be(f)||co(f)){var D=St(b,0);C=D(S)}else C=f.map(function(I,$){var B=Math.floor($*P);if(b[B]){var _=b[B],R=St(_.x,I.x),L=St(_.y,I.y);return za(za({},I),{},{x:R(S),y:L(S)})}return I});return o.renderAreaStatically(k,C,r,a)}return q.createElement(Ze,null,q.createElement("defs",null,q.createElement("clipPath",{id:"animationClipPath-".concat(a)},o.renderClipRect(S))),q.createElement(Ze,{clipPath:"url(#animationClipPath-".concat(a,")")},o.renderAreaStatically(u,f,r,a)))})}},{key:"renderArea",value:function(r,a){var o=this.props,c=o.points,u=o.baseLine,f=o.isAnimationActive,d=this.state,h=d.prevPoints,m=d.prevBaseLine,g=d.totalLength;return f&&c&&c.length&&(!h&&g>0||!Ri(h,c)||!Ri(m,u))?this.renderAreaWithAnimation(r,a):this.renderAreaStatically(c,u,r,a)}},{key:"render",value:function(){var r,a=this.props,o=a.hide,c=a.dot,u=a.points,f=a.className,d=a.top,h=a.left,m=a.xAxis,g=a.yAxis,v=a.width,j=a.height,w=a.isAnimationActive,b=a.id;if(o||!u||!u.length)return null;var y=this.state.isAnimationFinished,S=u.length===1,P=Xe("recharts-area",f),k=m&&m.allowDataOverflow,C=g&&g.allowDataOverflow,E=k||C,D=Be(b)?this.id:b,I=(r=Le(c,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},$=I.r,B=$===void 0?3:$,_=I.strokeWidth,R=_===void 0?2:_,L=FE(c)?c:{},z=L.clipDot,H=z===void 0?!0:z,U=B*2+R;return q.createElement(Ze,{className:P},k||C?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(D)},q.createElement("rect",{x:k?h:h-v/2,y:C?d:d-j/2,width:k?v:v*2,height:C?j:j*2})),!H&&q.createElement("clipPath",{id:"clipPath-dots-".concat(D)},q.createElement("rect",{x:h-U/2,y:d-U/2,width:v+U,height:j+U}))):null,S?null:this.renderArea(E,D),(c||S)&&this.renderDots(E,H,D),(!w||y)&&Tr.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:r.points!==a.curPoints||r.baseLine!==a.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}]),t})(O.PureComponent);yI=ai;Or(ai,"displayName","Area");Or(ai,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ei.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Or(ai,"getBaseValue",function(e,t,n,r){var a=e.layout,o=e.baseValue,c=t.props.baseValue,u=c??o;if(he(u)&&typeof u=="number")return u;var f=a==="horizontal"?r:n,d=f.scale.domain();if(f.type==="number"){var h=Math.max(d[0],d[1]),m=Math.min(d[0],d[1]);return u==="dataMin"?m:u==="dataMax"||h<0?h:Math.max(Math.min(d[0],d[1]),0)}return u==="dataMin"?d[0]:u==="dataMax"?d[1]:d[0]});Or(ai,"getComposedData",function(e){var t=e.props,n=e.item,r=e.xAxis,a=e.yAxis,o=e.xAxisTicks,c=e.yAxisTicks,u=e.bandSize,f=e.dataKey,d=e.stackedData,h=e.dataStartIndex,m=e.displayedData,g=e.offset,v=t.layout,j=d&&d.length,w=yI.getBaseValue(t,n,r,a),b=v==="horizontal",y=!1,S=m.map(function(k,C){var E;j?E=d[h+C]:(E=_t(k,f),Array.isArray(E)?y=!0:E=[w,E]);var D=E[1]==null||j&&_t(k,f)==null;return b?{x:Ws({axis:r,ticks:o,bandSize:u,entry:k,index:C}),y:D?null:a.scale(E[1]),value:E,payload:k}:{x:D?null:r.scale(E[1]),y:Ws({axis:a,ticks:c,bandSize:u,entry:k,index:C}),value:E,payload:k}}),P;return j||y?P=S.map(function(k){var C=Array.isArray(k.value)?k.value[0]:null;return b?{x:k.x,y:C!=null&&k.y!=null?a.scale(C):null}:{x:C!=null?r.scale(C):null,y:k.y}}):P=b?a.scale(w):r.scale(w),za({points:S,baseLine:P,layout:v,isRange:y},g)});Or(ai,"renderDotItem",function(e,t){var n;return q.isValidElement(e)?n=q.cloneElement(e,t):Fe(e)?n=e(t):n=q.createElement(Rf,Pi({},t,{className:"recharts-area-dot"})),n});var Ff=function(){return null};Ff.displayName="ZAxis";Ff.defaultProps={zAxisId:0,range:[64,64],scale:"auto",type:"number"};var HH=["option","isActive"];function kl(){return kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kl.apply(this,arguments)}function VH(e,t){if(e==null)return{};var n=KH(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function KH(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function GH(e){var t=e.option,n=e.isActive,r=VH(e,HH);return typeof t=="string"?q.createElement(Yv,kl({option:q.createElement(Nf,kl({type:t},r)),isActive:n,shapeType:"symbols"},r)):q.createElement(Yv,kl({option:t,isActive:n,shapeType:"symbols"},r))}function Zs(e){"@babel/helpers - typeof";return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zs(e)}function Cl(){return Cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cl.apply(this,arguments)}function AP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Yn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AP(Object(n),!0).forEach(function(r){Ha(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,NI(r.key),r)}}function XH(e,t,n){return t&&PP(e.prototype,t),n&&PP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function QH(e,t,n){return t=rf(t),ZH(e,jI()?Reflect.construct(t,n||[],rf(e).constructor):t.apply(e,n))}function ZH(e,t){if(t&&(Zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vl(e)}function jI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jI=function(){return!!e})()}function rf(e){return rf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rf(e)}function vl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oy(e,t)}function oy(e,t){return oy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},oy(e,t)}function Ha(e,t,n){return t=NI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NI(e){var t=eV(e,"string");return Zs(t)=="symbol"?t:String(t)}function eV(e,t){if(Zs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Zs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uf=(function(e){JH(t,e);function t(){var n;YH(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=QH(this,t,[].concat(a)),Ha(vl(n),"state",{isAnimationFinished:!1}),Ha(vl(n),"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),Ha(vl(n),"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),Ha(vl(n),"id",Wi("recharts-scatter-")),n}return XH(t,[{key:"renderSymbolsStatically",value:function(r){var a=this,o=this.props,c=o.shape,u=o.activeShape,f=o.activeIndex,d=Le(this.props,!1);return r.map(function(h,m){var g=f===m,v=g?u:c,j=Yn(Yn({key:"symbol-".concat(m)},d),h);return q.createElement(Ze,Cl({className:"recharts-scatter-symbol"},Il(a.props,h,m),{key:"symbol-".concat(h==null?void 0:h.cx,"-").concat(h==null?void 0:h.cy,"-").concat(h==null?void 0:h.size,"-").concat(m),role:"img"}),q.createElement(GH,Cl({option:v,isActive:g},j)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,a=this.props,o=a.points,c=a.isAnimationActive,u=a.animationBegin,f=a.animationDuration,d=a.animationEasing,h=a.animationId,m=this.state.prevPoints;return q.createElement(br,{begin:u,duration:f,isActive:c,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var v=g.t,j=o.map(function(w,b){var y=m&&m[b];if(y){var S=St(y.cx,w.cx),P=St(y.cy,w.cy),k=St(y.size,w.size);return Yn(Yn({},w),{},{cx:S(v),cy:P(v),size:k(v)})}var C=St(0,w.size);return Yn(Yn({},w),{},{size:C(v)})});return q.createElement(Ze,null,r.renderSymbolsStatically(j))})}},{key:"renderSymbols",value:function(){var r=this.props,a=r.points,o=r.isAnimationActive,c=this.state.prevPoints;return o&&a&&a.length&&(!c||!Ri(c,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,c=a.xAxis,u=a.yAxis,f=a.children,d=Nn(f,mo);return d?d.map(function(h,m){var g=h.props,v=g.direction,j=g.dataKey;return q.cloneElement(h,{key:"".concat(v,"-").concat(j,"-").concat(o[m]),data:o,xAxis:c,yAxis:u,layout:v==="x"?"vertical":"horizontal",dataPointFormatter:function(b,y){return{x:b.cx,y:b.cy,value:v==="x"?+b.node.x:+b.node.y,errorVal:_t(b,y)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,a=r.points,o=r.line,c=r.lineType,u=r.lineJointType,f=Le(this.props,!1),d=Le(o,!1),h,m;if(c==="joint")h=a.map(function(P){return{x:P.cx,y:P.cy}});else if(c==="fitting"){var g=v3(a),v=g.xmin,j=g.xmax,w=g.a,b=g.b,y=function(k){return w*k+b};h=[{x:v,y:y(v)},{x:j,y:y(j)}]}var S=Yn(Yn(Yn({},f),{},{fill:"none",stroke:f&&f.fill},d),{},{points:h});return q.isValidElement(o)?m=q.cloneElement(o,S):Fe(o)?m=o(S):m=q.createElement(Ti,Cl({},S,{type:u})),q.createElement(Ze,{className:"recharts-scatter-line",key:"recharts-scatter-line"},m)}},{key:"render",value:function(){var r=this.props,a=r.hide,o=r.points,c=r.line,u=r.className,f=r.xAxis,d=r.yAxis,h=r.left,m=r.top,g=r.width,v=r.height,j=r.id,w=r.isAnimationActive;if(a||!o||!o.length)return null;var b=this.state.isAnimationFinished,y=Xe("recharts-scatter",u),S=f&&f.allowDataOverflow,P=d&&d.allowDataOverflow,k=S||P,C=Be(j)?this.id:j;return q.createElement(Ze,{className:y,clipPath:k?"url(#clipPath-".concat(C,")"):null},S||P?q.createElement("defs",null,q.createElement("clipPath",{id:"clipPath-".concat(C)},q.createElement("rect",{x:S?h:h-g/2,y:P?m:m-v/2,width:S?g:g*2,height:P?v:v*2}))):null,c&&this.renderLine(),this.renderErrorBar(),q.createElement(Ze,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!w||b)&&Tr.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:a.curPoints}:r.points!==a.curPoints?{curPoints:r.points}:null}}]),t})(O.PureComponent);Ha(Uf,"displayName","Scatter");Ha(Uf,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!ei.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Ha(Uf,"getComposedData",function(e){var t=e.xAxis,n=e.yAxis,r=e.zAxis,a=e.item,o=e.displayedData,c=e.xAxisTicks,u=e.yAxisTicks,f=e.offset,d=a.props.tooltipType,h=Nn(a.props.children,ab),m=Be(t.dataKey)?a.props.dataKey:t.dataKey,g=Be(n.dataKey)?a.props.dataKey:n.dataKey,v=r&&r.dataKey,j=r?r.range:Ff.defaultProps.range,w=j&&j[0],b=t.scale.bandwidth?t.scale.bandwidth():0,y=n.scale.bandwidth?n.scale.bandwidth():0,S=o.map(function(P,k){var C=_t(P,m),E=_t(P,g),D=!Be(v)&&_t(P,v)||"-",I=[{name:Be(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:C,payload:P,dataKey:m,type:d},{name:Be(n.dataKey)?a.props.name:n.name||n.dataKey,unit:n.unit||"",value:E,payload:P,dataKey:g,type:d}];D!=="-"&&I.push({name:r.name||r.dataKey,unit:r.unit||"",value:D,payload:P,dataKey:v,type:d});var $=Ws({axis:t,ticks:c,bandSize:b,entry:P,index:k,dataKey:m}),B=Ws({axis:n,ticks:u,bandSize:y,entry:P,index:k,dataKey:g}),_=D!=="-"?r.scale(D):w,R=Math.sqrt(Math.max(_,0)/Math.PI);return Yn(Yn({},P),{},{cx:$,cy:B,x:$-R,y:B-R,xAxis:t,yAxis:n,zAxis:r,width:2*R,height:2*R,size:_,node:{x:C,y:E,z:D},tooltipPayload:I,tooltipPosition:{x:$,y:B},payload:P},h&&h[k]&&h[k].props)});return Yn({points:S},f)});function ly(){return ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ly.apply(this,arguments)}var Js=function(t){var n=t.xAxisId,r=_b(),a=Mb(),o=dI(n);return o==null?null:q.createElement(go,ly({},o,{className:Xe("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(u){return Jr(u,!0)}}))};Js.displayName="XAxis";Js.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};function cy(){return cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cy.apply(this,arguments)}var eo=function(t){var n=t.yAxisId,r=_b(),a=Mb(),o=fI(n);return o==null?null:q.createElement(go,cy({},o,{className:Xe("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(u){return Jr(u,!0)}}))};eo.displayName="YAxis";eo.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};function EP(e){return aV(e)||rV(e)||nV(e)||tV()}function tV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nV(e,t){if(e){if(typeof e=="string")return uy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uy(e,t)}}function rV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aV(e){if(Array.isArray(e))return uy(e)}function uy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var dy=function(t,n,r,a,o){var c=Nn(t,Rb),u=Nn(t,Ec),f=[].concat(EP(c),EP(u)),d=Nn(t,Dc),h="".concat(a,"Id"),m=a[0],g=n;if(f.length&&(g=f.reduce(function(w,b){if(b.props[h]===r&&_r(b.props,"extendDomain")&&he(b.props[m])){var y=b.props[m];return[Math.min(w[0],y),Math.max(w[1],y)]}return w},g)),d.length){var v="".concat(m,"1"),j="".concat(m,"2");g=d.reduce(function(w,b){if(b.props[h]===r&&_r(b.props,"extendDomain")&&he(b.props[v])&&he(b.props[j])){var y=b.props[v],S=b.props[j];return[Math.min(w[0],y,S),Math.max(w[1],y,S)]}return w},g)}return o&&o.length&&(g=o.reduce(function(w,b){return he(b)?[Math.min(w[0],b),Math.max(w[1],b)]:w},g)),g},Rx={exports:{}},DP;function iV(){return DP||(DP=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(f,d,h){this.fn=f,this.context=d,this.once=h||!1}function o(f,d,h,m,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var v=new a(h,m||f,g),j=n?n+d:d;return f._events[j]?f._events[j].fn?f._events[j]=[f._events[j],v]:f._events[j].push(v):(f._events[j]=v,f._eventsCount++),f}function c(f,d){--f._eventsCount===0?f._events=new r:delete f._events[d]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)t.call(h,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},u.prototype.listeners=function(d){var h=n?n+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,v=m.length,j=new Array(v);g<v;g++)j[g]=m[g].fn;return j},u.prototype.listenerCount=function(d){var h=n?n+d:d,m=this._events[h];return m?m.fn?1:m.length:0},u.prototype.emit=function(d,h,m,g,v,j){var w=n?n+d:d;if(!this._events[w])return!1;var b=this._events[w],y=arguments.length,S,P;if(b.fn){switch(b.once&&this.removeListener(d,b.fn,void 0,!0),y){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,h),!0;case 3:return b.fn.call(b.context,h,m),!0;case 4:return b.fn.call(b.context,h,m,g),!0;case 5:return b.fn.call(b.context,h,m,g,v),!0;case 6:return b.fn.call(b.context,h,m,g,v,j),!0}for(P=1,S=new Array(y-1);P<y;P++)S[P-1]=arguments[P];b.fn.apply(b.context,S)}else{var k=b.length,C;for(P=0;P<k;P++)switch(b[P].once&&this.removeListener(d,b[P].fn,void 0,!0),y){case 1:b[P].fn.call(b[P].context);break;case 2:b[P].fn.call(b[P].context,h);break;case 3:b[P].fn.call(b[P].context,h,m);break;case 4:b[P].fn.call(b[P].context,h,m,g);break;default:if(!S)for(C=1,S=new Array(y-1);C<y;C++)S[C-1]=arguments[C];b[P].fn.apply(b[P].context,S)}}return!0},u.prototype.on=function(d,h,m){return o(this,d,h,m,!1)},u.prototype.once=function(d,h,m){return o(this,d,h,m,!0)},u.prototype.removeListener=function(d,h,m,g){var v=n?n+d:d;if(!this._events[v])return this;if(!h)return c(this,v),this;var j=this._events[v];if(j.fn)j.fn===h&&(!g||j.once)&&(!m||j.context===m)&&c(this,v);else{for(var w=0,b=[],y=j.length;w<y;w++)(j[w].fn!==h||g&&!j[w].once||m&&j[w].context!==m)&&b.push(j[w]);b.length?this._events[v]=b.length===1?b[0]:b:c(this,v)}return this},u.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&c(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(Rx)),Rx.exports}var sV=iV();const oV=lt(sV);var $x=new oV,zx="recharts.syncMouseEvents";function gc(e){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}function lV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,SI(r.key),r)}}function uV(e,t,n){return t&&cV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lx(e,t,n){return t=SI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SI(e){var t=dV(e,"string");return gc(t)=="symbol"?t:String(t)}function dV(e,t){if(gc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fV=(function(){function e(){lV(this,e),Lx(this,"activeIndex",0),Lx(this,"coordinateList",[]),Lx(this,"layout","horizontal")}return uV(e,[{key:"setDetails",value:function(n){var r,a=n.coordinateList,o=a===void 0?null:a,c=n.container,u=c===void 0?null:c,f=n.layout,d=f===void 0?null:f,h=n.offset,m=h===void 0?null:h,g=n.mouseHandlerCallback,v=g===void 0?null:g;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=u??this.container,this.layout=d??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),o=a.x,c=a.y,u=a.height,f=this.coordinateList[this.activeIndex].coordinate,d=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,m=o+f+d,g=c+this.offset.top+u/2+h;this.mouseHandlerCallback({pageX:m,pageY:g})}}}]),e})();function pV(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],a=e==null?void 0:e[1];if(r&&a&&he(r)&&he(a))return!0}return!1}function hV(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function kI(e){var t=e.cx,n=e.cy,r=e.radius,a=e.startAngle,o=e.endAngle,c=Gt(t,n,r,a),u=Gt(t,n,r,o);return{points:[c,u],cx:t,cy:n,radius:r,startAngle:a,endAngle:o}}function mV(e,t,n){var r,a,o,c;if(e==="horizontal")r=t.x,o=r,a=n.top,c=n.top+n.height;else if(e==="vertical")a=t.y,c=a,r=n.left,o=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var u=t.cx,f=t.cy,d=t.innerRadius,h=t.outerRadius,m=t.angle,g=Gt(u,f,d,m),v=Gt(u,f,h,m);r=g.x,a=g.y,o=v.x,c=v.y}else return kI(t);return[{x:r,y:a},{x:o,y:c}]}function xc(e){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(e)}function OP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ed(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(n),!0).forEach(function(r){gV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gV(e,t,n){return t=xV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xV(e){var t=vV(e,"string");return xc(t)=="symbol"?t:String(t)}function vV(e,t){if(xc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yV(e){var t=e.element,n=e.tooltipEventType,r=e.isActive,a=e.activeCoordinate,o=e.activePayload,c=e.offset,u=e.activeTooltipIndex,f=e.tooltipAxisBandSize,d=e.layout,h=e.chartName;if(!t||!t.props.cursor||!r||!a||h!=="ScatterChart"&&n!=="axis")return null;var m,g=Ti;if(h==="ScatterChart")m=a,g=RU;else if(h==="BarChart")m=hV(d,a,c,f),g=Db;else if(d==="radial"){var v=kI(a),j=v.cx,w=v.cy,b=v.radius,y=v.startAngle,S=v.endAngle;m={cx:j,cy:w,startAngle:y,endAngle:S,innerRadius:b,outerRadius:b},g=BO}else m={points:mV(d,a,c)},g=Ti;var P=ed(ed(ed(ed({stroke:"#ccc",pointerEvents:"none"},c),m),Le(t.props.cursor,!1)),{},{payload:o,payloadIndex:u,className:"recharts-tooltip-cursor"});return O.isValidElement(t.props.cursor)?O.cloneElement(t.props.cursor,P):O.createElement(g,P)}var bV=["item"],wV=["children","className","width","height","style","compact","title","desc"];function to(e){"@babel/helpers - typeof";return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(e)}function Al(){return Al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Al.apply(this,arguments)}function IP(e,t){return SV(e)||NV(e,t)||AI(e,t)||jV()}function jV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NV(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,o,c,u=[],f=!0,d=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(f=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);f=!0);}catch(h){d=!0,a=h}finally{try{if(!f&&n.return!=null&&(c=n.return(),Object(c)!==c))return}finally{if(d)throw a}}return u}}function SV(e){if(Array.isArray(e))return e}function TP(e,t){if(e==null)return{};var n=kV(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function kV(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function CV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,PI(r.key),r)}}function PV(e,t,n){return t&&AV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function EV(e,t,n){return t=af(t),DV(e,CI()?Reflect.construct(t,n||[],af(e).constructor):t.apply(e,n))}function DV(e,t){if(t&&(to(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ke(e)}function CI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CI=function(){return!!e})()}function af(e){return af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},af(e)}function Ke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fy(e,t)}function fy(e,t){return fy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},fy(e,t)}function no(e){return _V(e)||TV(e)||AI(e)||IV()}function IV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AI(e,t){if(e){if(typeof e=="string")return py(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return py(e,t)}}function TV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _V(e){if(Array.isArray(e))return py(e)}function py(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_P(Object(n),!0).forEach(function(r){Te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_P(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Te(e,t,n){return t=PI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PI(e){var t=MV(e,"string");return to(t)=="symbol"?t:String(t)}function MV(e,t){if(to(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(to(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RV={xAxis:["bottom","top"],yAxis:["left","right"]},$V={width:"100%",height:"100%"},EI={x:0,y:0};function td(e){return e}var zV=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},LV=function(t,n,r,a){var o=n.find(function(h){return h&&h.index===r});if(o){if(t==="horizontal")return{x:o.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:o.coordinate};if(t==="centric"){var c=o.coordinate,u=a.radius;return ae(ae(ae({},a),Gt(a.cx,a.cy,u,c)),{},{angle:c,radius:u})}var f=o.coordinate,d=a.angle;return ae(ae(ae({},a),Gt(a.cx,a.cy,f,d)),{},{angle:d,radius:f})}return EI},qf=function(t,n){var r=n.graphicalItems,a=n.dataStartIndex,o=n.dataEndIndex,c=(r??[]).reduce(function(u,f){var d=f.props.data;return d&&d.length?[].concat(no(u),no(d)):u},[]);return c.length>0?c:t&&t.length&&he(a)&&he(o)?t.slice(a,o+1):[]};function DI(e){return e==="number"?[0,"auto"]:void 0}var hy=function(t,n,r,a){var o=t.graphicalItems,c=t.tooltipAxis,u=qf(n,t);return r<0||!o||!o.length||r>=u.length?null:o.reduce(function(f,d){var h,m=(h=d.props.data)!==null&&h!==void 0?h:n;m&&t.dataStartIndex+t.dataEndIndex!==0&&(m=m.slice(t.dataStartIndex,t.dataEndIndex+1));var g;if(c.dataKey&&!c.allowDuplicatedCategory){var v=m===void 0?u:m;g=fd(v,c.dataKey,a)}else g=m&&m[r]||u[r];return g?[].concat(no(f),[$O(d,g)]):f},[])},MP=function(t,n,r,a){var o=a||{x:t.chartX,y:t.chartY},c=zV(o,r),u=t.orderedTooltipTicks,f=t.tooltipAxis,d=t.tooltipTicks,h=m7(c,u,d,f);if(h>=0&&d){var m=d[h]&&d[h].value,g=hy(t,n,h,m),v=LV(r,u,h,o);return{activeTooltipIndex:h,activeLabel:m,activePayload:g,activeCoordinate:v}}return null},BV=function(t,n){var r=n.axes,a=n.graphicalItems,o=n.axisType,c=n.axisIdKey,u=n.stackGroups,f=n.dataStartIndex,d=n.dataEndIndex,h=t.layout,m=t.children,g=t.stackOffset,v=_O(h,o);return r.reduce(function(j,w){var b,y=w.props,S=y.type,P=y.dataKey,k=y.allowDataOverflow,C=y.allowDuplicatedCategory,E=y.scale,D=y.ticks,I=y.includeHidden,$=w.props[c];if(j[$])return j;var B=qf(t.data,{graphicalItems:a.filter(function(ee){return ee.props[c]===$}),dataStartIndex:f,dataEndIndex:d}),_=B.length,R,L,z;pV(w.props.domain,k,S)&&(R=Tv(w.props.domain,null,k),v&&(S==="number"||E!=="auto")&&(z=jl(B,P,"category")));var H=DI(S);if(!R||R.length===0){var U,Q=(U=w.props.domain)!==null&&U!==void 0?U:H;if(P){if(R=jl(B,P,S),S==="category"&&v){var G=x3(R);C&&G?(L=R,R=Gd(0,_)):C||(R=VC(Q,R,w).reduce(function(ee,ne){return ee.indexOf(ne)>=0?ee:[].concat(no(ee),[ne])},[]))}else if(S==="category")C?R=R.filter(function(ee){return ee!==""&&!Be(ee)}):R=VC(Q,R,w).reduce(function(ee,ne){return ee.indexOf(ne)>=0||ne===""||Be(ne)?ee:[].concat(no(ee),[ne])},[]);else if(S==="number"){var Y=b7(B,a.filter(function(ee){return ee.props[c]===$&&(I||!ee.props.hide)}),P,o,h);Y&&(R=Y)}v&&(S==="number"||E!=="auto")&&(z=jl(B,P,"category"))}else v?R=Gd(0,_):u&&u[$]&&u[$].hasStack&&S==="number"?R=g==="expand"?[0,1]:RO(u[$].stackGroups,f,d):R=TO(B,a.filter(function(ee){return ee.props[c]===$&&(I||!ee.props.hide)}),S,h,!0);if(S==="number")R=dy(m,R,$,o,D),Q&&(R=Tv(Q,R,k));else if(S==="category"&&Q){var M=Q,X=R.every(function(ee){return M.indexOf(ee)>=0});X&&(R=M)}}return ae(ae({},j),{},Te({},$,ae(ae({},w.props),{},{axisType:o,domain:R,categoricalDomain:z,duplicateDomain:L,originalDomain:(b=w.props.domain)!==null&&b!==void 0?b:H,isCategorical:v,layout:h})))},{})},FV=function(t,n){var r=n.graphicalItems,a=n.Axis,o=n.axisType,c=n.axisIdKey,u=n.stackGroups,f=n.dataStartIndex,d=n.dataEndIndex,h=t.layout,m=t.children,g=qf(t.data,{graphicalItems:r,dataStartIndex:f,dataEndIndex:d}),v=g.length,j=_O(h,o),w=-1;return r.reduce(function(b,y){var S=y.props[c],P=DI("number");if(!b[S]){w++;var k;return j?k=Gd(0,v):u&&u[S]&&u[S].hasStack?(k=RO(u[S].stackGroups,f,d),k=dy(m,k,S,o)):(k=Tv(P,TO(g,r.filter(function(C){return C.props[c]===S&&!C.props.hide}),"number",h),a.defaultProps.allowDataOverflow),k=dy(m,k,S,o)),ae(ae({},b),{},Te({},S,ae(ae({axisType:o},a.defaultProps),{},{hide:!0,orientation:Jn(RV,"".concat(o,".").concat(w%2),null),domain:k,originalDomain:P,isCategorical:j,layout:h})))}return b},{})},UV=function(t,n){var r=n.axisType,a=r===void 0?"xAxis":r,o=n.AxisComp,c=n.graphicalItems,u=n.stackGroups,f=n.dataStartIndex,d=n.dataEndIndex,h=t.children,m="".concat(a,"Id"),g=Nn(h,o),v={};return g&&g.length?v=BV(t,{axes:g,graphicalItems:c,axisType:a,axisIdKey:m,stackGroups:u,dataStartIndex:f,dataEndIndex:d}):c&&c.length&&(v=FV(t,{Axis:o,graphicalItems:c,axisType:a,axisIdKey:m,stackGroups:u,dataStartIndex:f,dataEndIndex:d})),v},qV=function(t){var n=Ba(t),r=Jr(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:nb(r,function(a){return a.coordinate}),tooltipAxis:n,tooltipAxisBandSize:zd(n,r)}},RP=function(t){var n=t.children,r=t.defaultShowTooltip,a=_n(n,Ks),o=0,c=0;return t.data&&t.data.length!==0&&(c=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(o=a.props.startIndex),a.props.endIndex>=0&&(c=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:c,activeTooltipIndex:-1,isTooltipActive:!!r}},WV=function(t){return!t||!t.length?!1:t.some(function(n){var r=ta(n&&n.type);return r&&r.indexOf("Bar")>=0})},$P=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},HV=function(t,n){var r=t.props,a=t.graphicalItems,o=t.xAxisMap,c=o===void 0?{}:o,u=t.yAxisMap,f=u===void 0?{}:u,d=r.width,h=r.height,m=r.children,g=r.margin||{},v=_n(m,Ks),j=_n(m,Ml),w=Object.keys(f).reduce(function(C,E){var D=f[E],I=D.orientation;return!D.mirror&&!D.hide?ae(ae({},C),{},Te({},I,C[I]+D.width)):C},{left:g.left||0,right:g.right||0}),b=Object.keys(c).reduce(function(C,E){var D=c[E],I=D.orientation;return!D.mirror&&!D.hide?ae(ae({},C),{},Te({},I,Jn(C,"".concat(I))+D.height)):C},{top:g.top||0,bottom:g.bottom||0}),y=ae(ae({},b),w),S=y.bottom;v&&(y.bottom+=v.props.height||Ks.defaultProps.height),j&&n&&(y=v7(y,a,r,n));var P=d-y.left-y.right,k=h-y.top-y.bottom;return ae(ae({brushBottom:S},y),{},{width:Math.max(P,0),height:Math.max(k,0)})},OI=function(t){var n,r=t.chartName,a=t.GraphicalChild,o=t.defaultTooltipEventType,c=o===void 0?"axis":o,u=t.validateTooltipEventTypes,f=u===void 0?["axis"]:u,d=t.axisComponents,h=t.legendContent,m=t.formatAxisMap,g=t.defaultProps,v=function(b,y){var S=y.graphicalItems,P=y.stackGroups,k=y.offset,C=y.updateId,E=y.dataStartIndex,D=y.dataEndIndex,I=b.barSize,$=b.layout,B=b.barGap,_=b.barCategoryGap,R=b.maxBarSize,L=$P($),z=L.numericAxisName,H=L.cateAxisName,U=WV(S),Q=U&&g7({barSize:I,stackGroups:P}),G=[];return S.forEach(function(Y,M){var X=qf(b.data,{graphicalItems:[Y],dataStartIndex:E,dataEndIndex:D}),ee=Y.props,ne=ee.dataKey,pe=ee.maxBarSize,we=Y.props["".concat(z,"Id")],je=Y.props["".concat(H,"Id")],$e={},Oe=d.reduce(function(qe,We){var gt=y["".concat(We.axisType,"Map")],Rt=Y.props["".concat(We.axisType,"Id")];gt&&gt[Rt]||We.axisType==="zAxis"||zi();var me=gt[Rt];return ae(ae({},qe),{},Te(Te({},We.axisType,me),"".concat(We.axisType,"Ticks"),Jr(me)))},$e),oe=Oe[H],Ce=Oe["".concat(H,"Ticks")],ke=P&&P[we]&&P[we].hasStack&&I7(Y,P[we].stackGroups),ie=ta(Y.type).indexOf("Bar")>=0,He=zd(oe,Ce),Re=[];if(ie){var Je,ue,Ie=Be(pe)?R:pe,Ne=(Je=(ue=zd(oe,Ce,!0))!==null&&ue!==void 0?ue:Ie)!==null&&Je!==void 0?Je:0;Re=x7({barGap:B,barCategoryGap:_,bandSize:Ne!==He?Ne:He,sizeList:Q[je],maxBarSize:Ie}),Ne!==He&&(Re=Re.map(function(qe){return ae(ae({},qe),{},{position:ae(ae({},qe.position),{},{offset:qe.position.offset-Ne/2})})}))}var ze=Y&&Y.type&&Y.type.getComposedData;ze&&G.push({props:ae(ae({},ze(ae(ae({},Oe),{},{displayedData:X,props:b,dataKey:ne,item:Y,bandSize:He,barPosition:Re,offset:k,stackedData:ke,layout:$,dataStartIndex:E,dataEndIndex:D}))),{},Te(Te(Te({key:Y.key||"item-".concat(M)},z,Oe[z]),H,Oe[H]),"animationId",C)),childIndex:E3(Y,b.children),item:Y})}),G},j=function(b,y){var S=b.props,P=b.dataStartIndex,k=b.dataEndIndex,C=b.updateId;if(!sN({props:S}))return null;var E=S.children,D=S.layout,I=S.stackOffset,$=S.data,B=S.reverseStackOrder,_=$P(D),R=_.numericAxisName,L=_.cateAxisName,z=Nn(E,a),H=E7($,z,"".concat(R,"Id"),"".concat(L,"Id"),I,B),U=d.reduce(function(X,ee){var ne="".concat(ee.axisType,"Map");return ae(ae({},X),{},Te({},ne,UV(S,ae(ae({},ee),{},{graphicalItems:z,stackGroups:ee.axisType===R&&H,dataStartIndex:P,dataEndIndex:k}))))},{}),Q=HV(ae(ae({},U),{},{props:S,graphicalItems:z}),y==null?void 0:y.legendBBox);Object.keys(U).forEach(function(X){U[X]=m(S,U[X],Q,X.replace("Map",""),r)});var G=U["".concat(L,"Map")],Y=qV(G),M=v(S,ae(ae({},U),{},{dataStartIndex:P,dataEndIndex:k,updateId:C,graphicalItems:z,stackGroups:H,offset:Q}));return ae(ae({formattedGraphicalItems:M,graphicalItems:z,offset:Q,stackGroups:H},Y),U)};return n=(function(w){OV(b,w);function b(y){var S,P,k;return CV(this,b),k=EV(this,b,[y]),Te(Ke(k),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Te(Ke(k),"accessibilityManager",new fV),Te(Ke(k),"handleLegendBBoxUpdate",function(C){if(C){var E=k.state,D=E.dataStartIndex,I=E.dataEndIndex,$=E.updateId;k.setState(ae({legendBBox:C},j({props:k.props,dataStartIndex:D,dataEndIndex:I,updateId:$},ae(ae({},k.state),{},{legendBBox:C}))))}}),Te(Ke(k),"handleReceiveSyncEvent",function(C,E,D){if(k.props.syncId===C){if(D===k.eventEmitterSymbol&&typeof k.props.syncMethod!="function")return;k.applySyncEvent(E)}}),Te(Ke(k),"handleBrushChange",function(C){var E=C.startIndex,D=C.endIndex;if(E!==k.state.dataStartIndex||D!==k.state.dataEndIndex){var I=k.state.updateId;k.setState(function(){return ae({dataStartIndex:E,dataEndIndex:D},j({props:k.props,dataStartIndex:E,dataEndIndex:D,updateId:I},k.state))}),k.triggerSyncEvent({dataStartIndex:E,dataEndIndex:D})}}),Te(Ke(k),"handleMouseEnter",function(C){var E=k.getMouseInfo(C);if(E){var D=ae(ae({},E),{},{isTooltipActive:!0});k.setState(D),k.triggerSyncEvent(D);var I=k.props.onMouseEnter;Fe(I)&&I(D,C)}}),Te(Ke(k),"triggeredAfterMouseMove",function(C){var E=k.getMouseInfo(C),D=E?ae(ae({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};k.setState(D),k.triggerSyncEvent(D);var I=k.props.onMouseMove;Fe(I)&&I(D,C)}),Te(Ke(k),"handleItemMouseEnter",function(C){k.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),Te(Ke(k),"handleItemMouseLeave",function(){k.setState(function(){return{isTooltipActive:!1}})}),Te(Ke(k),"handleMouseMove",function(C){C.persist(),k.throttleTriggeredAfterMouseMove(C)}),Te(Ke(k),"handleMouseLeave",function(C){k.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};k.setState(E),k.triggerSyncEvent(E);var D=k.props.onMouseLeave;Fe(D)&&D(E,C)}),Te(Ke(k),"handleOuterEvent",function(C){var E=P3(C),D=Jn(k.props,"".concat(E));if(E&&Fe(D)){var I,$;/.*touch.*/i.test(E)?$=k.getMouseInfo(C.changedTouches[0]):$=k.getMouseInfo(C),D((I=$)!==null&&I!==void 0?I:{},C)}}),Te(Ke(k),"handleClick",function(C){var E=k.getMouseInfo(C);if(E){var D=ae(ae({},E),{},{isTooltipActive:!0});k.setState(D),k.triggerSyncEvent(D);var I=k.props.onClick;Fe(I)&&I(D,C)}}),Te(Ke(k),"handleMouseDown",function(C){var E=k.props.onMouseDown;if(Fe(E)){var D=k.getMouseInfo(C);E(D,C)}}),Te(Ke(k),"handleMouseUp",function(C){var E=k.props.onMouseUp;if(Fe(E)){var D=k.getMouseInfo(C);E(D,C)}}),Te(Ke(k),"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&k.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),Te(Ke(k),"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&k.handleMouseDown(C.changedTouches[0])}),Te(Ke(k),"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&k.handleMouseUp(C.changedTouches[0])}),Te(Ke(k),"triggerSyncEvent",function(C){k.props.syncId!==void 0&&$x.emit(zx,k.props.syncId,C,k.eventEmitterSymbol)}),Te(Ke(k),"applySyncEvent",function(C){var E=k.props,D=E.layout,I=E.syncMethod,$=k.state.updateId,B=C.dataStartIndex,_=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)k.setState(ae({dataStartIndex:B,dataEndIndex:_},j({props:k.props,dataStartIndex:B,dataEndIndex:_,updateId:$},k.state)));else if(C.activeTooltipIndex!==void 0){var R=C.chartX,L=C.chartY,z=C.activeTooltipIndex,H=k.state,U=H.offset,Q=H.tooltipTicks;if(!U)return;if(typeof I=="function")z=I(Q,C);else if(I==="value"){z=-1;for(var G=0;G<Q.length;G++)if(Q[G].value===C.activeLabel){z=G;break}}var Y=ae(ae({},U),{},{x:U.left,y:U.top}),M=Math.min(R,Y.x+Y.width),X=Math.min(L,Y.y+Y.height),ee=Q[z]&&Q[z].value,ne=hy(k.state,k.props.data,z),pe=Q[z]?{x:D==="horizontal"?Q[z].coordinate:M,y:D==="horizontal"?X:Q[z].coordinate}:EI;k.setState(ae(ae({},C),{},{activeLabel:ee,activeCoordinate:pe,activePayload:ne,activeTooltipIndex:z}))}else k.setState(C)}),Te(Ke(k),"renderCursor",function(C){var E,D=k.state,I=D.isTooltipActive,$=D.activeCoordinate,B=D.activePayload,_=D.offset,R=D.activeTooltipIndex,L=D.tooltipAxisBandSize,z=k.getTooltipEventType(),H=(E=C.props.active)!==null&&E!==void 0?E:I,U=k.props.layout,Q=C.key||"_recharts-cursor";return q.createElement(yV,{key:Q,activeCoordinate:$,activePayload:B,activeTooltipIndex:R,chartName:r,element:C,isActive:H,layout:U,offset:_,tooltipAxisBandSize:L,tooltipEventType:z})}),Te(Ke(k),"renderPolarAxis",function(C,E,D){var I=Jn(C,"type.axisType"),$=Jn(k.state,"".concat(I,"Map")),B=$&&$[C.props["".concat(I,"Id")]];return O.cloneElement(C,ae(ae({},B),{},{className:I,key:C.key||"".concat(E,"-").concat(D),ticks:Jr(B,!0)}))}),Te(Ke(k),"renderPolarGrid",function(C){var E=C.props,D=E.radialLines,I=E.polarAngles,$=E.polarRadius,B=k.state,_=B.radiusAxisMap,R=B.angleAxisMap,L=Ba(_),z=Ba(R),H=z.cx,U=z.cy,Q=z.innerRadius,G=z.outerRadius;return O.cloneElement(C,{polarAngles:Array.isArray(I)?I:Jr(z,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray($)?$:Jr(L,!0).map(function(Y){return Y.coordinate}),cx:H,cy:U,innerRadius:Q,outerRadius:G,key:C.key||"polar-grid",radialLines:D})}),Te(Ke(k),"renderLegend",function(){var C=k.state.formattedGraphicalItems,E=k.props,D=E.children,I=E.width,$=E.height,B=k.props.margin||{},_=I-(B.left||0)-(B.right||0),R=OO({children:D,formattedGraphicalItems:C,legendWidth:_,legendContent:h});if(!R)return null;var L=R.item,z=TP(R,bV);return O.cloneElement(L,ae(ae({},z),{},{chartWidth:I,chartHeight:$,margin:B,onBBoxUpdate:k.handleLegendBBoxUpdate}))}),Te(Ke(k),"renderTooltip",function(){var C,E=k.props,D=E.children,I=E.accessibilityLayer,$=_n(D,dr);if(!$)return null;var B=k.state,_=B.isTooltipActive,R=B.activeCoordinate,L=B.activePayload,z=B.activeLabel,H=B.offset,U=(C=$.props.active)!==null&&C!==void 0?C:_;return O.cloneElement($,{viewBox:ae(ae({},H),{},{x:H.left,y:H.top}),active:U,label:z,payload:U?L:[],coordinate:R,accessibilityLayer:I})}),Te(Ke(k),"renderBrush",function(C){var E=k.props,D=E.margin,I=E.data,$=k.state,B=$.offset,_=$.dataStartIndex,R=$.dataEndIndex,L=$.updateId;return O.cloneElement(C,{key:C.key||"_recharts-brush",onChange:Xu(k.handleBrushChange,C.props.onChange),data:I,x:he(C.props.x)?C.props.x:B.left,y:he(C.props.y)?C.props.y:B.top+B.height+B.brushBottom-(D.bottom||0),width:he(C.props.width)?C.props.width:B.width,startIndex:_,endIndex:R,updateId:"brush-".concat(L)})}),Te(Ke(k),"renderReferenceElement",function(C,E,D){if(!C)return null;var I=Ke(k),$=I.clipPathId,B=k.state,_=B.xAxisMap,R=B.yAxisMap,L=B.offset,z=C.props,H=z.xAxisId,U=z.yAxisId;return O.cloneElement(C,{key:C.key||"".concat(E,"-").concat(D),xAxis:_[H],yAxis:R[U],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:$})}),Te(Ke(k),"renderActivePoints",function(C){var E=C.item,D=C.activePoint,I=C.basePoint,$=C.childIndex,B=C.isRange,_=[],R=E.props.key,L=E.item.props,z=L.activeDot,H=L.dataKey,U=ae(ae({index:$,dataKey:H,cx:D.x,cy:D.y,r:4,fill:Eb(E.item),strokeWidth:2,stroke:"#fff",payload:D.payload,value:D.value,key:"".concat(R,"-activePoint-").concat($)},Le(z,!1)),pd(z));return _.push(b.renderActiveDot(z,U)),I?_.push(b.renderActiveDot(z,ae(ae({},U),{},{cx:I.x,cy:I.y,key:"".concat(R,"-basePoint-").concat($)}))):B&&_.push(null),_}),Te(Ke(k),"renderGraphicChild",function(C,E,D){var I=k.filterFormatItem(C,E,D);if(!I)return null;var $=k.getTooltipEventType(),B=k.state,_=B.isTooltipActive,R=B.tooltipAxis,L=B.activeTooltipIndex,z=B.activeLabel,H=k.props.children,U=_n(H,dr),Q=I.props,G=Q.points,Y=Q.isRange,M=Q.baseLine,X=I.item.props,ee=X.activeDot,ne=X.hide,pe=X.activeBar,we=X.activeShape,je=!!(!ne&&_&&U&&(ee||pe||we)),$e={};$!=="axis"&&U&&U.props.trigger==="click"?$e={onClick:Xu(k.handleItemMouseEnter,C.props.onClick)}:$!=="axis"&&($e={onMouseLeave:Xu(k.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:Xu(k.handleItemMouseEnter,C.props.onMouseEnter)});var Oe=O.cloneElement(C,ae(ae({},I.props),$e));function oe(We){return typeof R.dataKey=="function"?R.dataKey(We.payload):null}if(je)if(L>=0){var Ce,ke;if(R.dataKey&&!R.allowDuplicatedCategory){var ie=typeof R.dataKey=="function"?oe:"payload.".concat(R.dataKey.toString());Ce=fd(G,ie,z),ke=Y&&M&&fd(M,ie,z)}else Ce=G==null?void 0:G[L],ke=Y&&M&&M[L];if(we||pe){var He=C.props.activeIndex!==void 0?C.props.activeIndex:L;return[O.cloneElement(C,ae(ae(ae({},I.props),$e),{},{activeIndex:He})),null,null]}if(!Be(Ce))return[Oe].concat(no(k.renderActivePoints({item:I,activePoint:Ce,basePoint:ke,childIndex:L,isRange:Y})))}else{var Re,Je=(Re=k.getItemByXY(k.state.activeCoordinate))!==null&&Re!==void 0?Re:{graphicalItem:Oe},ue=Je.graphicalItem,Ie=ue.item,Ne=Ie===void 0?C:Ie,ze=ue.childIndex,qe=ae(ae(ae({},I.props),$e),{},{activeIndex:ze});return[O.cloneElement(Ne,qe),null,null]}return Y?[Oe,null,null]:[Oe,null]}),Te(Ke(k),"renderCustomized",function(C,E,D){return O.cloneElement(C,ae(ae({key:"recharts-customized-".concat(D)},k.props),k.state))}),Te(Ke(k),"renderMap",{CartesianGrid:{handler:td,once:!0},ReferenceArea:{handler:k.renderReferenceElement},ReferenceLine:{handler:td},ReferenceDot:{handler:k.renderReferenceElement},XAxis:{handler:td},YAxis:{handler:td},Brush:{handler:k.renderBrush,once:!0},Bar:{handler:k.renderGraphicChild},Line:{handler:k.renderGraphicChild},Area:{handler:k.renderGraphicChild},Radar:{handler:k.renderGraphicChild},RadialBar:{handler:k.renderGraphicChild},Scatter:{handler:k.renderGraphicChild},Pie:{handler:k.renderGraphicChild},Funnel:{handler:k.renderGraphicChild},Tooltip:{handler:k.renderCursor,once:!0},PolarGrid:{handler:k.renderPolarGrid,once:!0},PolarAngleAxis:{handler:k.renderPolarAxis},PolarRadiusAxis:{handler:k.renderPolarAxis},Customized:{handler:k.renderCustomized}}),k.clipPathId="".concat((S=y.id)!==null&&S!==void 0?S:Wi("recharts"),"-clip"),k.throttleTriggeredAfterMouseMove=MD(k.triggeredAfterMouseMove,(P=y.throttleDelay)!==null&&P!==void 0?P:1e3/60),k.state={},k}return PV(b,[{key:"componentDidMount",value:function(){var S,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,P=S.children,k=S.data,C=S.height,E=S.layout,D=_n(P,dr);if(D){var I=D.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length)){var $=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,B=hy(this.state,k,I,$),_=this.state.tooltipTicks[I].coordinate,R=(this.state.offset.top+C)/2,L=E==="horizontal",z=L?{x:_,y:R}:{y:_,x:R},H=this.state.formattedGraphicalItems.find(function(Q){var G=Q.item;return G.type.name==="Scatter"});H&&(z=ae(ae({},z),H.props.points[I].tooltipPosition),B=H.props.points[I].tooltipPayload);var U={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:$,activePayload:B,activeCoordinate:z};this.setState(U),this.renderCursor(D),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var k,C;this.accessibilityManager.setDetails({offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(S){rv([_n(S.children,dr)],[_n(this.props.children,dr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=_n(this.props.children,dr);if(S&&typeof S.props.shared=="boolean"){var P=S.props.shared?"axis":"item";return f.indexOf(P)>=0?P:c}return c}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var P=this.container,k=P.getBoundingClientRect(),C=p8(k),E={chartX:Math.round(S.pageX-C.left),chartY:Math.round(S.pageY-C.top)},D=k.width/P.offsetWidth||1,I=this.inRange(E.chartX,E.chartY,D);if(!I)return null;var $=this.state,B=$.xAxisMap,_=$.yAxisMap,R=this.getTooltipEventType();if(R!=="axis"&&B&&_){var L=Ba(B).scale,z=Ba(_).scale,H=L&&L.invert?L.invert(E.chartX):null,U=z&&z.invert?z.invert(E.chartY):null;return ae(ae({},E),{},{xValue:H,yValue:U})}var Q=MP(this.state,this.props.data,this.props.layout,I);return Q?ae(ae({},E),Q):null}},{key:"inRange",value:function(S,P){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,E=S/k,D=P/k;if(C==="horizontal"||C==="vertical"){var I=this.state.offset,$=E>=I.left&&E<=I.left+I.width&&D>=I.top&&D<=I.top+I.height;return $?{x:E,y:D}:null}var B=this.state,_=B.angleAxisMap,R=B.radiusAxisMap;if(_&&R){var L=Ba(_);return YC({x:E,y:D},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,P=this.getTooltipEventType(),k=_n(S,dr),C={};k&&P==="axis"&&(k.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var E=pd(this.props,this.handleOuterEvent);return ae(ae({},E),C)}},{key:"addListener",value:function(){$x.on(zx,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){$x.removeListener(zx,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,P,k){for(var C=this.state.formattedGraphicalItems,E=0,D=C.length;E<D;E++){var I=C[E];if(I.item===S||I.props.key===S.key||P===ta(I.item.type)&&k===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,P=this.state.offset,k=P.left,C=P.top,E=P.height,D=P.width;return q.createElement("defs",null,q.createElement("clipPath",{id:S},q.createElement("rect",{x:k,y:C,height:E,width:D})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(P,k){var C=IP(k,2),E=C[0],D=C[1];return ae(ae({},P),{},Te({},E,D.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(P,k){var C=IP(k,2),E=C[0],D=C[1];return ae(ae({},P),{},Te({},E,D.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[S])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(S){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[S])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(S){var P=this.state,k=P.formattedGraphicalItems,C=P.activeItem;if(k&&k.length)for(var E=0,D=k.length;E<D;E++){var I=k[E],$=I.props,B=I.item,_=ta(B.type);if(_==="Bar"){var R=($.data||[]).find(function(U){return CU(S,U)});if(R)return{graphicalItem:I,payload:R}}else if(_==="RadialBar"){var L=($.data||[]).find(function(U){return YC(S,U)});if(L)return{graphicalItem:I,payload:L}}else if($f(I,C)||zf(I,C)||lc(I,C)){var z=mq({graphicalItem:I,activeTooltipItem:C,itemData:B.props.data}),H=B.props.activeIndex===void 0?z:B.props.activeIndex;return{graphicalItem:ae(ae({},I),{},{childIndex:H}),payload:lc(I,C)?B.props.data[z]:I.props.data[z]}}}return null}},{key:"render",value:function(){var S=this,P;if(!sN(this))return null;var k=this.props,C=k.children,E=k.className,D=k.width,I=k.height,$=k.style,B=k.compact,_=k.title,R=k.desc,L=TP(k,wV),z=Le(L,!1);if(B)return q.createElement(uP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement(iv,Al({},z,{width:D,height:I,title:_,desc:R}),this.renderClipPath(),lN(C,this.renderMap)));if(this.props.accessibilityLayer){var H,U;z.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,z.role=(U=this.props.role)!==null&&U!==void 0?U:"application",z.onKeyDown=function(G){S.accessibilityManager.keyboardEvent(G)},z.onFocus=function(){S.accessibilityManager.focus()}}var Q=this.parseEventsOfWrapper();return q.createElement(uP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement("div",Al({className:Xe("recharts-wrapper",E),style:ae({position:"relative",cursor:"default",width:D,height:I},$)},Q,{ref:function(Y){S.container=Y},role:(P=z.role)!==null&&P!==void 0?P:"region"}),q.createElement(iv,Al({},z,{width:D,height:I,title:_,desc:R,style:$V}),this.renderClipPath(),lN(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}]),b})(O.Component),Te(n,"displayName",r),Te(n,"defaultProps",ae({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},g)),Te(n,"getDerivedStateFromProps",function(w,b){var y=w.dataKey,S=w.data,P=w.children,k=w.width,C=w.height,E=w.layout,D=w.stackOffset,I=w.margin,$=b.dataStartIndex,B=b.dataEndIndex;if(b.updateId===void 0){var _=RP(w);return ae(ae(ae({},_),{},{updateId:0},j(ae(ae({props:w},_),{},{updateId:0}),b)),{},{prevDataKey:y,prevData:S,prevWidth:k,prevHeight:C,prevLayout:E,prevStackOffset:D,prevMargin:I,prevChildren:P})}if(y!==b.prevDataKey||S!==b.prevData||k!==b.prevWidth||C!==b.prevHeight||E!==b.prevLayout||D!==b.prevStackOffset||!Os(I,b.prevMargin)){var R=RP(w),L={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},z=ae(ae({},MP(b,S,E)),{},{updateId:b.updateId+1}),H=ae(ae(ae({},R),L),z);return ae(ae(ae({},H),j(ae({props:w},H),b)),{},{prevDataKey:y,prevData:S,prevWidth:k,prevHeight:C,prevLayout:E,prevStackOffset:D,prevMargin:I,prevChildren:P})}if(!rv(P,b.prevChildren)){var U,Q,G,Y,M=_n(P,Ks),X=M&&(U=(Q=M.props)===null||Q===void 0?void 0:Q.startIndex)!==null&&U!==void 0?U:$,ee=M&&(G=(Y=M.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&G!==void 0?G:B,ne=X!==$||ee!==B,pe=!Be(S),we=pe&&!ne?b.updateId:b.updateId+1;return ae(ae({updateId:we},j(ae(ae({props:w},b),{},{updateId:we,dataStartIndex:X,dataEndIndex:ee}),b)),{},{prevChildren:P,dataStartIndex:X,dataEndIndex:ee})}return null}),Te(n,"renderActiveDot",function(w,b){var y;return O.isValidElement(w)?y=O.cloneElement(w,b):Fe(w)?y=w(b):y=q.createElement(Rf,b),q.createElement(Ze,{className:"recharts-active-dot",key:b.key},y)}),n},VV=OI({chartName:"BarChart",GraphicalChild:ca,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Js},{axisType:"yAxis",AxisComp:eo}],formatAxisMap:rI}),KV=OI({chartName:"ComposedChart",GraphicalChild:[Bf,ai,ca,Uf],axisComponents:[{axisType:"xAxis",AxisComp:Js},{axisType:"yAxis",AxisComp:eo},{axisType:"zAxis",AxisComp:Ff}],formatAxisMap:rI});const nd=({label:e,value:t,subtext:n,icon:r,variant:a="light"})=>{const o=()=>{switch(a){case"dark":return"bg-slate-900 text-white border-slate-800";case"indigo":return"bg-indigo-600 text-white border-indigo-500";case"emerald":return"bg-emerald-600 text-white border-emerald-500";case"rose":return"bg-rose-600 text-white border-rose-500";default:return"bg-white text-slate-900 border-slate-100 hover:border-indigo-200"}},c=()=>{switch(a){case"dark":return"bg-white/10 text-white";case"indigo":return"bg-white/20 text-white";case"emerald":return"bg-white/20 text-white";case"rose":return"bg-white/20 text-white";default:return"bg-slate-50 text-slate-600"}};return i.jsxs("div",{className:`p-5 rounded-[2rem] border shadow-sm flex flex-col justify-between group transition-all ${o()}`,children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("div",{className:`p-2.5 rounded-xl transition-colors ${c()}`,children:i.jsx(r,{size:18})}),n&&i.jsx("span",{className:`text-[8px] font-black uppercase tracking-widest px-2 py-0.5 rounded-full ${a==="light"?"bg-indigo-50 text-indigo-400":"bg-white/10 text-white"}`,children:n})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("p",{className:`text-[8px] font-black uppercase tracking-widest mb-1 ${a==="light"?"text-slate-400":"text-white/60"}`,children:e}),i.jsx("h3",{className:"text-2xl font-black tracking-tighter leading-tight",children:t})]})]})},GV=({data:e})=>{const{payments:t,clients:n,vehicles:r,invoices:a,agents:o,simTopups:c}=e,u=O.useMemo(()=>{const v=[],j=new Date;for(let w=5;w>=0;w--){const b=new Date(j.getFullYear(),j.getMonth()-w,1),y=b.toLocaleString("en-US",{month:"short"}),S=t.filter(P=>{const k=new Date(P.Date);return k.getMonth()===b.getMonth()&&k.getFullYear()===b.getFullYear()});v.push({name:y,revenue:S.reduce((P,k)=>P+Number(k.Amount),0),txCount:S.length})}return v},[t]),f=O.useMemo(()=>{const v=new Date,j={current:0,late1_30:0,late31_60:0,late61Plus:0};return a.forEach(w=>{if(w.Status===wt.Paid||w.DocType!==st.Invoice)return;const b=new Date(w.DueDate),y=Math.ceil((v.getTime()-b.getTime())/(1e3*60*60*24));y<=0?j.current+=Number(w.BalanceDue):y<=30?j.late1_30+=Number(w.BalanceDue):y<=60?j.late31_60+=Number(w.BalanceDue):j.late61Plus+=Number(w.BalanceDue)}),[{category:"Current",value:j.current,fill:"#10b981"},{category:"1-30 Days",value:j.late1_30,fill:"#f59e0b"},{category:"31-60 Days",value:j.late31_60,fill:"#f97316"},{category:"61+ Days",value:j.late61Plus,fill:"#ef4444"}]},[a]);O.useMemo(()=>{const v=new Date,j=new Date;j.setDate(v.getDate()+30);let w=0,b=0,y=0;return r.forEach(S=>{const P=c.filter(C=>String(C.VehicleID).toLowerCase()===String(S.VehicleID).toLowerCase()).sort((C,E)=>new Date(E.ExpiryDate).getTime()-new Date(C.ExpiryDate).getTime()),k=P.length>0?new Date(P[0].ExpiryDate):null;!k||k<v?b++:k<j?y++:w++}),[{name:"Operational",value:w,color:"#10b981"},{name:"Renewal Due",value:y,color:"#f59e0b"},{name:"Offline/Expired",value:b,color:"#ef4444"}]},[r,c]);const d=u.reduce((v,j)=>v+j.revenue,0),h=f.reduce((v,j)=>j.category!=="Current"?v+j.value:v,0),m=r.length>0?d/6/r.length:0,g=d/(d+h)*100;return i.jsxs("div",{className:"h-full flex flex-col space-y-4 animate-in fade-in duration-1000 overflow-y-auto no-scrollbar pb-20",children:[i.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 shrink-0",children:[i.jsx(nd,{variant:"dark",icon:so,label:"Total Sales Pool",value:`K${Ee(d)}`,subtext:"6-Month Trend"}),i.jsx(nd,{variant:"light",icon:pf,label:"Unit Yield (ARPU)",value:`K${Ee(m)}`,subtext:"SaaS Metric"}),i.jsx(nd,{variant:"light",icon:a_,label:"Collection Efficiency",value:`${g.toFixed(1)}%`,subtext:"Liquidity"}),i.jsx(nd,{variant:"light",icon:NE,label:"Total Receivables",value:`K${Ee(h)}`,subtext:"Exposure"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] border border-slate-100 shadow-sm flex flex-col h-[400px]",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsxs("h4",{className:"text-xs font-black text-slate-900 uppercase tracking-widest flex items-center gap-2",children:[i.jsx(xr,{size:16,className:"text-indigo-500"})," Revenue Flow Cycle"]})}),i.jsx("div",{className:"flex-1 w-full",children:i.jsx(Dk,{width:"100%",height:"100%",children:i.jsxs(KV,{data:u,children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"revGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"5%",stopColor:"#6366f1",stopOpacity:.1}),i.jsx("stop",{offset:"95%",stopColor:"#6366f1",stopOpacity:0})]})}),i.jsx(ry,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),i.jsx(Js,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:9,fontWeight:900,fill:"#94a3b8"},dy:10}),i.jsx(eo,{axisLine:!1,tickLine:!1,tick:{fontSize:9,fontWeight:900,fill:"#94a3b8"}}),i.jsx(dr,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)",padding:"12px"},labelStyle:{fontWeight:900,fontSize:"10px",textTransform:"uppercase",color:"#64748b"}}),i.jsx(ai,{type:"monotone",dataKey:"revenue",fill:"url(#revGrad)",stroke:"#6366f1",strokeWidth:4}),i.jsx(ca,{dataKey:"txCount",fill:"#10b981",radius:[4,4,0,0],barSize:20})]})})})]}),i.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] border border-slate-100 shadow-sm flex flex-col h-[400px]",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsxs("h4",{className:"text-xs font-black text-slate-900 uppercase tracking-widest flex items-center gap-2",children:[i.jsx(hn,{size:16,className:"text-rose-500"})," Accounts Receivable Aging"]})}),i.jsx("div",{className:"flex-1 w-full",children:i.jsx(Dk,{width:"100%",height:"100%",children:i.jsxs(VV,{data:f,layout:"vertical",margin:{left:20},children:[i.jsx(ry,{strokeDasharray:"3 3",horizontal:!1,stroke:"#f1f5f9"}),i.jsx(Js,{type:"number",hide:!0}),i.jsx(eo,{dataKey:"category",type:"category",axisLine:!1,tickLine:!1,tick:{fontSize:9,fontWeight:900,fill:"#64748b"}}),i.jsx(dr,{formatter:v=>[`K${Ee(v)}`,"Total Balance"],contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"}}),i.jsx(ca,{dataKey:"value",radius:[0,8,8,0],barSize:32})]})})})]})]})]})},Bx=[],yl=(e,t,n,r,a)=>{Bx.unshift({time:new Date().toLocaleTimeString(),sheet:e,action:t,status:n,details:r,payload:a}),Bx.length>30&&Bx.pop()},W=(e,t)=>{if(!e||typeof e!="object")return"";const n=Object.keys(e);for(const r of t){const a=e[r];if(a!=null&&a!=="")return String(a).trim();const o=r.toLowerCase().replace(/\s+/g,""),c=n.find(u=>u.toLowerCase().replace(/\s+/g,"")===o);if(c){const u=e[c];if(u!=null&&u!=="")return String(u).trim()}}return""},en=e=>{if(!Array.isArray(e)||e.length<1)return[];const t=e[0].map(n=>String(n||"").trim());return e.length<2?[]:e.slice(1).map(n=>{const r={};return Array.isArray(n)&&t.forEach((a,o)=>{a&&(r[a]=n[o]!==void 0?n[o]:"")}),r})},at=e=>{if(e==null||e==="")return 0;if(typeof e=="number")return e;const t=String(e).replace(/[^0-9.-]+/g,""),n=Number(t);return isNaN(n)?0:n},ur=e=>{if(e==null)return!1;const t=String(e).toUpperCase().trim();return t==="TRUE"||t==="YES"||e===!0||e===1||t==="ACTIVE"||t==="ENABLED"},II=e=>{if(!e)return"";const t=e.trim();return t.startsWith("https://script.google.com")?t:""},YV=e=>{const t=en(e.Clients||[]).map(y=>({ClientID:W(y,["ClientID","ID"]),ClientAccountID:W(y,["ClientAccountID","AccountID"]),CompanyName:W(y,["Company","CompanyName","Client Name"]),PrimaryContactName:W(y,["PrimaryContactName","Contact Name"]),Phone:W(y,["Phone"]),AltPhone:W(y,["Alternative Phone","AltPhone","Secondary Phone"]),Email:W(y,["Email"]),BillingAddress:W(y,["Address","BillingAddress","Full Address"]),Gender:W(y,["Gender"])||"N/A",NRC:W(y,["NRC Number","NRC","ID Number"]),ClientType:W(y,["ClientType","Type"])||"Corporate",OnboardingDate:W(y,["OnboardingDate","Date"]),AssignedAgentID:W(y,["AssignedAgentID","AgentID"]),AgentCommissionRate:at(W(y,["AgentCommissionRate","CommRate"])),Status:W(y,["Status"])||"Active",PortalEnabled:ur(W(y,["PortalEnabled"])),ForcePasswordChange:ur(W(y,["ForcePasswordChange"])),ShowWalkthrough:ur(W(y,["ShowWalkthrough"]))})),n=en(e.Vehicles||[]).map(y=>({VehicleID:W(y,["VehicleID","ID"]),ClientID:W(y,["ClientID"]),ClientName:W(y,["ClientName","Client"]),NumberPlate:W(y,["Plate","NumberPlate"]),Make:W(y,["Make"]),Model:W(y,["Model"]),Year:W(y,["Year"]),DeviceSerial:W(y,["DeviceSerial","IMEI"]),SimNumber:W(y,["SimNumber"]),NetworkProvider:W(y,["Network","NetworkProvider"]),ServiceType:W(y,["Service","ServiceType"]),InstallationDate:W(y,["InstallDate"]),Status:W(y,["Status"])||"Active",Photo:W(y,["Photo"])})),r=en(e.ActivityLogs||[]).map(y=>({ID:W(y,["ID","LogID"]),ClientID:W(y,["ClientID"]),AgentID:W(y,["AgentID"]),AgentName:W(y,["AgentName"]),Date:W(y,["Date"]),Category:W(y,["Category"]),Note:W(y,["Note","Comment"]),FollowUpDate:W(y,["FollowUpDate","ReminderDate"]),Status:W(y,["Status"])||"Closed"})),a=en(e.Messages||[]).map(y=>({ID:W(y,["ID"]),SenderID:W(y,["SenderID"]),SenderName:W(y,["SenderName"]),ReceiverID:W(y,["ReceiverID"]),Message:W(y,["Message"]),Timestamp:W(y,["Timestamp","Time"]),Status:W(y,["Status"])||"Sent"})),o=en(e.Maintenance||[]).map(y=>({ID:W(y,["ID","MaintenanceID"]),ClientID:W(y,["ClientID"]),ClientName:W(y,["ClientName"]),AssetIDs:String(W(y,["AssetIDs","Assets"])||"").split(",").map(S=>S.trim()).filter(Boolean),Description:W(y,["Description","WorkDone"]),TechnicianID:W(y,["TechnicianID","AgentID"]),Date:W(y,["Date","ServiceDate"]),Status:W(y,["Status"])||Rn.Scheduled,Cost:at(W(y,["Cost"])),Notes:W(y,["Notes"])})),c=en(e.SimTopups||[]).map(y=>({ID:W(y,["ID","TopupID"]),VehicleID:W(y,["VehicleID"]),Plate:W(y,["Plate","NumberPlate"]),SimNumber:W(y,["SimNumber"]),Network:W(y,["Network","Provider"]),Amount:at(W(y,["Amount"])),Date:W(y,["Date","TopupDate"]),ExpiryDate:W(y,["ExpiryDate","DueDate"]),AgentID:W(y,["AgentID"]),Reference:W(y,["Reference","Ref"]),Email:W(y,["Email"])})),u=en(e.Contracts||[]).map(y=>{const S=W(y,["AssetIDs","Vehicles","Assets","Asset IDs"]),P=S?String(S).split(",").map(k=>k.trim()).filter(k=>k&&k!=="0"):[];return{ContractID:W(y,["ContractID","ID"]),ClientID:W(y,["ClientID"]),ClientName:W(y,["Name","ClientName","Client"]),PlanType:W(y,["Plan","PlanType","Plan Tier"]),ServiceType:W(y,["ServiceType","Service"]),NoOfUnits:at(W(y,["Units","Units Count","Count"])),UnitPrice:at(W(y,["Price","Unit Price"])),AdditionalCost:at(W(y,["Extra","Maint Fee"])),Discount:at(W(y,["Discount"])),SubTotal:at(W(y,["SubTotal"])),TotalAmount:at(W(y,["Total","Total Amount"])),StartDate:W(y,["Start","Date","Start Date"]),DurationMonths:at(W(y,["Duration","Term"])),ExpiryDate:W(y,["Expiry","Expiry Date"]),BillingCycle:W(y,["Cycle","Billing Cycle"])||"Monthly",PaymentMethod:W(y,["PaymentMethod","Method"]),PaymentDueDate:W(y,["PaymentDueDate","DueDate"]),ContractStatus:W(y,["ContractStatus","Status","Contract Status"])||"Active",AssignedAgentID:W(y,["AgentID","AssignedAgentID","ID"]),AssetIDs:P,ProviderSignName:W(y,["ProviderSignName"]),ProviderSignDate:W(y,["ProviderSignDate"]),ProviderSign:W(y,["ProviderSign"]),ProviderSignImage:W(y,["ProviderSignImage"]),ClientSignName:W(y,["ClientSignName"]),ClientSignDate:W(y,["ClientSignDate"]),ClientSign:W(y,["ClientSign"]),ClientSignImage:W(y,["ClientSignImage"])}}),f=en(e.Referrals||[]).map(y=>({ID:W(y,["ID","ReferralID"]),ReferrerID:W(y,["ReferrerID","ClientID"]),ReferrerName:W(y,["ReferrerName"]),FriendName:W(y,["FriendName","LeadName"]),FriendCompany:W(y,["FriendCompany","Company"]),FriendPhone:W(y,["FriendPhone","Phone"]),Date:W(y,["Date"]),Status:W(y,["Status"])||"Pending"})),d=en(e.Invoices||[]).map(y=>({InvoiceID:W(y,["InvoiceID","ID","Number"]),InvoiceDate:W(y,["InvoiceDate","Date","Issued"]),DueDate:W(y,["DueDate","Due","Expiry"]),ClientID:W(y,["ClientID","Client"]),ClientName:W(y,["ClientName","Name"]),ContractID:W(y,["ContractID","Contract"]),Description:W(y,["Description","Service","Notes"]),PeriodMonths:at(W(y,["PeriodMonths","Months","Period"])),UnitPrice:at(W(y,["UnitPrice","Rate","Price"])),NoOfUnits:at(W(y,["NoOfUnits","Units","Qty"])),TotalAmount:at(W(y,["TotalAmount","Total","Sum"])),AmountPaid:at(W(y,["AmountPaid","Paid"])),BalanceDue:at(W(y,["BalanceDue","Balance","Due"])),Status:W(y,["Status"])||"Pending",DocType:W(y,["DocType","Type"])||st.Invoice,Notes:W(y,["Notes"])})),h=en(e.Payments||[]).map(y=>({PaymentID:W(y,["PaymentID","ID"]),Date:W(y,["Date","PaymentDate"]),InvoiceID:W(y,["InvoiceID","Invoice"]),ClientID:W(y,["ClientID","Client"]),ClientName:W(y,["ClientName","Name"]),ContractID:W(y,["ContractID","Contract"]),Amount:at(W(y,["Amount","Value"])),Method:W(y,["Method"])||"Bank Transfer",MonthsCovered:at(W(y,["MonthsCovered","Months","Cycle"])),AgentID:W(y,["AgentID","Agent"]),Status:W(y,["Status"])||"Completed",Reference:W(y,["Reference","Ref","TransactionID"]),Remarks:W(y,["Remarks","Description","Notes"]),NoOfUnits:at(W(y,["NoOfUnits","Units","Qty"])),UnitPrice:at(W(y,["UnitPrice","Rate","Price"]))})),m=en(e.Notifications||[]).map(y=>({ID:W(y,["ID","NotificationID"]),Time:W(y,["Time","Timestamp","Date"]),Type:W(y,["Type","Category"]),Priority:W(y,["Priority"])||"Normal",ClientID:W(y,["ClientID"]),ClientName:W(y,["ClientName"]),ContractID:W(y,["ContractID"]),Message:W(y,["Message","Alert","Content"]),DueDate:W(y,["DueDate","ExpiryDate"]),Status:W(y,["Status"])||"Unread",AssignedTo:W(y,["AssignedTo","AgentID"]),Sent:ur(W(y,["Sent","IsSent"])),ActionTaken:W(y,["ActionTaken"]),ActionTime:W(y,["ActionTime"]),Notes:W(y,["Notes"]),Email:W(y,["Email"])})),g=en(e.Tickets||[]).map(y=>({TicketID:W(y,["TicketID","ID"]),ClientID:W(y,["ClientID"]),Email:W(y,["Email"]),Subject:W(y,["Subject"]),Description:W(y,["Description"]),Resolution:W(y,["Resolution","Response"]),AssignedAgentID:W(y,["AgentID","AssignedAgentID"]),Status:W(y,["Status"])||"Open",Priority:W(y,["Priority"])||"Normal",CreatedAt:W(y,["CreatedAt","Date"]),UpdatedAt:W(y,["UpdatedAt","LastUpdated","Updated"])})),v=en(e.Logins||[]).map(y=>({Email:W(y,["Email","User","email","user"]),Password:W(y,["Password","Pass","password","pass"]),AgentID:W(y,["AgentID","ID","agentid","id"]),Role:W(y,["Role","role","Type","type"]),LastLogin:W(y,["LastLogin","lastlogin"]),TypingTo:W(y,["TypingTo","typingto"]),Status:W(y,["Status","status"])||"Active",LoginAttempts:at(W(y,["LoginAttempts","attempts"]))})),j=en(e.SystemSettings||e.Settings||[]).map(y=>({ID:W(y,["ID","SettingID"]),CompanyName:W(y,["CompanyName","Company"]),Address:W(y,["Address"]),Phone:W(y,["Phone"]),Email:W(y,["Email"]),Website:W(y,["Website"]),Logo:W(y,["Logo"]),DisbursementDay:at(W(y,["DisbursementDay","PayDay"]))||5,DefaultCommissionRate:at(W(y,["DefaultCommissionRate","BaseComm"])),DefaultBonusRate:at(W(y,["DefaultBonusRate","BaseBonus"])),IncentivesActive:ur(W(y,["IncentivesActive","RewardsActive"])),EmailInvoicesEnabled:ur(W(y,["EmailInvoicesEnabled"])),EmailPaymentsEnabled:ur(W(y,["EmailPaymentsEnabled"])),EmailContractsEnabled:ur(W(y,["EmailContractsEnabled"])),EmailTicketNewEnabled:ur(W(y,["EmailTicketNewEnabled"])),EmailTicketUpdateEnabled:ur(W(y,["EmailTicketUpdateEnabled"])),EmailTicketResolvedEnabled:ur(W(y,["EmailTicketResolvedEnabled"])),MobileAppLink:W(y,["MobileAppLink","AppLink"]),PortalUrl:W(y,["PortalUrl","Portal"])}))[0]||null,w=en(e.Agents||[]).map(y=>({AgentID:W(y,["ID","AgentID","id","agentid"]),AgentName:W(y,["Name","AgentName","name","agentname"]),Phone:W(y,["Phone","phone"]),Email:W(y,["Email","email"]),Role:W(y,["Role","role"])||"Agent",Department:W(y,["Department","Dept","dept"]),BaseSalary:at(W(y,["Salary","salary"])),CommissionRate:at(W(y,["CommRate","commrate"])),Status:W(y,["Status"])||"Active",Privileges:W(y,["Privileges","previleges","permissions"]),BankName:W(y,["BankName","bank"]),AccountNumber:W(y,["AccountNumber","account"]),StartDate:W(y,["StartDate","startdate"]),EndDate:W(y,["EndDate","enddate"]),Notes:W(y,["Notes","notes","OtherInfo"]),Scope:W(y,["Scope","scope"])})),b=en(e.ServicePlans||e.Plans||[]).map(y=>({PlanID:W(y,["PlanID","ID"]),Category:W(y,["Category"]),Type:W(y,["Type"]),Class:W(y,["Class"]),BasePrice:at(W(y,["BasePrice","Price"])),MaintenanceFee:at(W(y,["MaintenanceFee","MaintFee"])),LastUpdated:W(y,["LastUpdated","Updated"])}));return{activityLogs:r,referrals:f,clients:t,vehicles:n,maintenance:o,simTopups:c,contracts:u,invoices:d,payments:h,notifications:m,tickets:g,loginRecords:v,systemSettings:j,agents:w,servicePlans:b,messages:a}},XV=async e=>{const t=II(e);if(!t)throw new Error("Invalid or empty Database URL configured. Please check your settings.");try{const n=await fetch(t,{method:"GET",mode:"cors",cache:"no-cache",redirect:"follow",referrerPolicy:"no-referrer"});if(!n.ok)throw new Error(`Database Error (${n.status}): ${n.statusText||"Connection refused"}`);const r=await n.json();return YV(r)}catch(n){let r=n.message||"Unknown Network Error";throw console.error("VillageVault Sync Failure:",r),yl("System","FetchData","ERROR",r),new Error(r)}},rt=async(e,t,n,r,a,o)=>{const c=II(e);if(!c)throw new Error("Invalid or empty Database URL configured. Operation cancelled.");const u={...r};o!=null&&o.recipientEmail&&!u.Email&&(u.Email=o.recipientEmail);const f={sheet:t,action:n,idKey:a,id:r[a]};(n==="create"||n==="update")&&(f.data=u),o!=null&&o.sendEmail&&(f.triggerEmail=!0,f.emailSubject=o.emailSubject,f.emailHtml=o.emailHtml,f.emailCc=o.emailCc,f.replyTo=o.replyTo,f.senderName=o.senderName,f.senderEmail=o.senderEmail,o.pdfAttachmentHtml&&(f.pdfAttachmentHtml=o.pdfAttachmentHtml,f.pdfFileName=o.pdfFileName||"Document.pdf"));try{const d=await fetch(c,{method:"POST",body:JSON.stringify(f),headers:{"Content-Type":"text/plain;charset=utf-8"},mode:"cors",redirect:"follow",referrerPolicy:"no-referrer"});if(!d.ok)throw new Error(`Sync Server Error (${d.status}): ${d.statusText||"Operation failed"}`);const h=await d.text();let m;try{m=JSON.parse(h),yl(t,n,"SUCCESS","Row synchronized successfully",f)}catch{throw yl(t,n,"CRITICAL","Server returned invalid response format.",f),new Error("Server Response Error: Data received was not in valid JSON format.")}if(m.status==="error")throw yl(t,n,"ERROR",m.message||"Operation failed on server",f),new Error(m.message);return m}catch(d){let h=d.message||"Network Failure";throw console.error("VillageVault POST Failure:",h),yl(t,n,"FATAL",h,f),new Error(h)}},rd=({active:e,onClick:t,icon:n,label:r})=>i.jsxs("button",{onClick:t,className:`flex items-center gap-2.5 px-6 py-4 text-xs font-semibold uppercase tracking-wider transition-all border-b-2 whitespace-nowrap
      ${e?"border-indigo-600 text-indigo-600 bg-white":"border-transparent text-slate-400 hover:text-slate-600 hover:bg-slate-50/50"}`,children:[i.jsx(n,{size:14}),r]}),bi=({icon:e,title:t,subtitle:n})=>i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"p-2 bg-indigo-50 text-indigo-600 rounded-xl",children:i.jsx(e,{size:18})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-bold text-slate-900 uppercase tracking-tight leading-none",children:t}),i.jsx("p",{className:"text-[10px] text-slate-400 font-medium uppercase tracking-widest mt-1",children:n})]})]}),Gn=({label:e,icon:t,children:n})=>i.jsxs("div",{className:"space-y-1.5",children:[i.jsxs("label",{className:"text-[10px] font-semibold text-slate-500 uppercase tracking-wider flex items-center gap-1.5 ml-1",children:[t&&i.jsx(t,{size:12})," ",e]}),n]}),wi=({label:e,icon:t,value:n,onChange:r,color:a})=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100 group hover:border-indigo-200 transition-all",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`p-2 rounded-lg ${a} shadow-sm group-hover:scale-110 transition-transform`,children:i.jsx(t,{size:16})}),i.jsx("span",{className:"text-xs font-semibold text-slate-700",children:e})]}),i.jsx("button",{onClick:()=>r(!n),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n?"bg-indigo-600":"bg-slate-300"}`,children:i.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n?"translate-x-6":"translate-x-1"}`})})]}),QV=({onSave:e,onSync:t,lastSyncTime:n,appData:r})=>{const[a,o]=O.useState("profile"),[c,u]=O.useState(Mn),[f,d]=O.useState(!1),h=O.useRef(null),[m,g]=O.useState({ID:"1",CompanyName:"",Address:"",Phone:"",Email:"",Website:"",Logo:"",DisbursementDay:5,DefaultCommissionRate:10,DefaultBonusRate:500,IncentivesActive:!0,EmailInvoicesEnabled:!0,EmailPaymentsEnabled:!0,EmailContractsEnabled:!0,EmailTicketNewEnabled:!0,EmailTicketUpdateEnabled:!0,EmailTicketResolvedEnabled:!0,PortalUrl:"",MobileAppLink:""});O.useEffect(()=>{const S=localStorage.getItem("omni_script_url");u(S||Mn),r!=null&&r.systemSettings&&g({...r.systemSettings})},[r]);const v=(S,P)=>{g(k=>({...k,[S]:P}))},j=S=>{var k;const P=(k=S.target.files)==null?void 0:k[0];if(P){const C=new FileReader;C.onloadend=()=>{v("Logo",C.result)},C.readAsDataURL(P)}},w=async()=>{d(!0);try{const S=(c||localStorage.getItem("omni_script_url")||Mn).trim();await rt(S,"SystemSettings","update",m,"ID"),localStorage.setItem("omni_script_url",S),e(),alert("Settings updated successfully.")}catch(S){console.error(S),alert(`Update failed: ${S.message}`)}finally{d(!1)}},b=()=>{confirm("Reset to default database connection?")&&(u(Mn),localStorage.setItem("omni_script_url",Mn),e())},y=n&&!isNaN(n.getTime())?n.toLocaleTimeString():"Not Synced";return i.jsxs("div",{className:"flex flex-col h-full overflow-hidden animate-in fade-in duration-500",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6 shrink-0 px-2",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"p-3 bg-slate-900 text-white rounded-2xl shadow-xl",children:i.jsx(l_,{size:24})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-bold text-slate-900 tracking-tight leading-none",children:"System Settings"}),i.jsxs("p",{className:"text-[10px] text-slate-400 font-semibold uppercase tracking-widest mt-1.5 flex items-center gap-2",children:["Configure Organization & Automation ",i.jsx("div",{className:"w-1 h-1 rounded-full bg-slate-200"}),"Last Synced: ",y]})]})]}),i.jsxs("button",{onClick:w,disabled:f,className:"w-full sm:w-auto px-8 py-3.5 bg-indigo-600 text-white rounded-2xl font-bold text-xs uppercase tracking-widest shadow-xl flex items-center justify-center gap-3 hover:bg-indigo-700 transition-all active:scale-95 disabled:opacity-50",children:[f?i.jsx(Ut,{size:16,className:"animate-spin"}):i.jsx(Iy,{size:16}),"Save Configuration"]})]}),i.jsxs("div",{className:"flex-1 min-h-0 bg-white rounded-[2rem] border border-slate-100 shadow-sm flex flex-col overflow-hidden",children:[i.jsxs("div",{className:"flex items-center border-b border-slate-50 bg-slate-50/30 px-6 overflow-x-auto no-scrollbar shrink-0",children:[i.jsx(rd,{active:a==="profile",onClick:()=>o("profile"),icon:Ei,label:"Company Profile"}),i.jsx(rd,{active:a==="finance",onClick:()=>o("finance"),icon:Xx,label:"Finance & Rates"}),i.jsx(rd,{active:a==="notifications",onClick:()=>o("notifications"),icon:Wj,label:"Email Notifications"}),i.jsx(rd,{active:a==="integration",onClick:()=>o("integration"),icon:Zx,label:"Connectivity"})]}),i.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar p-8 bg-slate-50/10",children:i.jsxs("div",{className:"max-w-5xl mx-auto",children:[a==="profile"&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 animate-in slide-in-from-bottom-2 duration-300",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsx(bi,{icon:Ei,title:"Organization Identity",subtitle:"Primary business details"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsx(Gn,{label:"System ID (Auto)",icon:Di,children:i.jsx("input",{type:"text",value:m.ID,readOnly:!0,className:"w-full p-3.5 bg-slate-100 border border-slate-200 rounded-xl text-xs font-mono font-bold text-slate-500 outline-none cursor-not-allowed"})}),i.jsx(Gn,{label:"Company Name",icon:Ei,children:i.jsx("input",{type:"text",value:m.CompanyName,onChange:S=>v("CompanyName",S.target.value),className:"w-full p-3.5 bg-white border border-slate-200 rounded-xl text-sm font-semibold outline-none focus:ring-2 focus:ring-indigo-100 transition-all"})})]}),i.jsx(Gn,{label:"Business Address",icon:wE,children:i.jsx("input",{type:"text",value:m.Address,onChange:S=>v("Address",S.target.value),className:"w-full p-3.5 bg-white border border-slate-200 rounded-xl text-sm font-medium outline-none focus:ring-2 focus:ring-indigo-100 transition-all"})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(Gn,{label:"Support Email",icon:yc,children:i.jsx("input",{type:"email",value:m.Email,onChange:S=>v("Email",S.target.value),className:"w-full p-3.5 bg-white border border-slate-200 rounded-xl text-sm font-medium outline-none focus:ring-2 focus:ring-indigo-100 transition-all"})}),i.jsx(Gn,{label:"Contact Phone",icon:Ey,children:i.jsx("input",{type:"text",value:m.Phone,onChange:S=>v("Phone",S.target.value),className:"w-full p-3.5 bg-white border border-slate-200 rounded-xl text-sm font-medium outline-none focus:ring-2 focus:ring-indigo-100 transition-all"})})]}),i.jsx(Gn,{label:"Website",icon:Qx,children:i.jsx("input",{type:"text",value:m.Website,onChange:S=>v("Website",S.target.value),className:"w-full p-3.5 bg-white border border-slate-200 rounded-xl text-sm font-medium outline-none focus:ring-2 focus:ring-indigo-100 transition-all"})})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsx(bi,{icon:G4,title:"Company Branding",subtitle:"Logo for documents and emails"}),i.jsxs("div",{className:"p-8 bg-white rounded-3xl border border-slate-100 shadow-sm flex flex-col items-center gap-6",children:[i.jsx("div",{onClick:()=>{var S;return(S=h.current)==null?void 0:S.click()},className:"w-40 h-40 bg-slate-50 rounded-[2.5rem] border-2 border-dashed border-slate-200 flex items-center justify-center overflow-hidden shadow-inner group cursor-pointer hover:border-indigo-300 transition-all",children:m.Logo?i.jsxs("div",{className:"relative w-full h-full group",children:[i.jsx("img",{src:m.Logo,className:"w-full h-full object-contain p-4",alt:"Logo"}),i.jsxs("div",{className:"absolute inset-0 bg-indigo-600/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[i.jsx(Gx,{size:24,className:"text-white"}),i.jsx("span",{className:"text-[10px] font-bold text-white uppercase",children:"Upload New"})]})]}):i.jsxs("div",{className:"flex flex-col items-center gap-2 text-slate-300 group-hover:text-indigo-400 transition-colors",children:[i.jsx(m_,{size:40}),i.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Click to Upload"})]})}),i.jsx("input",{type:"file",ref:h,onChange:j,accept:"image/*",className:"hidden"}),i.jsxs("div",{className:"p-4 bg-indigo-50/50 rounded-2xl border border-indigo-100 flex items-start gap-3",children:[i.jsx(cd,{size:16,className:"text-indigo-500 shrink-0 mt-0.5"}),i.jsx("p",{className:"text-[11px] text-indigo-700 font-medium leading-relaxed",children:"Your logo will be automatically embedded in all generated Invoices, Quotations, and Service Agreements."})]})]})]})]}),a==="finance"&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 animate-in slide-in-from-bottom-2 duration-300",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsx(bi,{icon:Xx,title:"Payment Cycles",subtitle:"Standard disbursement settings"}),i.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm space-y-6",children:[i.jsx(Gn,{label:"Monthly Pay Day",icon:da,children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("input",{type:"number",min:"1",max:"31",value:m.DisbursementDay,onChange:S=>v("DisbursementDay",Number(S.target.value)),className:"w-24 p-3.5 bg-slate-50 border border-slate-200 rounded-xl text-lg font-bold text-center text-indigo-600 outline-none"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs font-semibold text-slate-700 leading-none",children:"Accounting Day"}),i.jsx("p",{className:"text-[10px] text-slate-400 font-medium mt-1",children:"The date each month when commissions are finalized for payout."})]})]})}),i.jsx(Gn,{label:"Default Commission Rate (%)",icon:Py,children:i.jsx("input",{type:"number",value:m.DefaultCommissionRate,onChange:S=>v("DefaultCommissionRate",Number(S.target.value)),className:"w-full p-3.5 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold text-emerald-600 outline-none focus:ring-2 focus:ring-emerald-100 transition-all"})}),i.jsx(Gn,{label:"Base Performance Bonus",icon:pf,children:i.jsx("input",{type:"number",value:m.DefaultBonusRate,onChange:S=>v("DefaultBonusRate",Number(S.target.value)),className:"w-full p-3.5 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold text-indigo-600 outline-none focus:ring-2 focus:ring-indigo-100 transition-all"})})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsx(bi,{icon:Di,title:"Rewards Engine",subtitle:"Automated performance incentives"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(wi,{label:"Enable Performance Incentives",icon:xr,value:m.IncentivesActive,onChange:S=>v("IncentivesActive",S),color:"bg-emerald-50 text-emerald-600"}),i.jsxs("div",{className:"p-8 bg-slate-900 rounded-[2.5rem] text-white relative overflow-hidden shadow-xl border border-slate-800",children:[i.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 rotate-12",children:i.jsx(xr,{size:100})}),i.jsx("h4",{className:"text-[11px] font-bold uppercase tracking-widest text-indigo-400 mb-2",children:"Policy"}),i.jsx("p",{className:"text-xs text-slate-400 leading-relaxed font-medium",children:"When enabled, the system automatically calculates bonus overrides for staff members exceeding their monthly activation targets."})]})]})]})]}),a==="notifications"&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 animate-in slide-in-from-bottom-2 duration-300",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsx(bi,{icon:Wj,title:"Customer Notifications",subtitle:"Automated email trigger rules"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(wi,{label:"Send New Ticket Confirmations",icon:yr,value:m.EmailTicketNewEnabled,onChange:S=>v("EmailTicketNewEnabled",S),color:"bg-indigo-50 text-indigo-600"}),i.jsx(wi,{label:"Send Ticket Update Alerts",icon:xr,value:m.EmailTicketUpdateEnabled,onChange:S=>v("EmailTicketUpdateEnabled",S),color:"bg-amber-50 text-amber-600"}),i.jsx(wi,{label:"Send Resolution Notifications",icon:Qa,value:m.EmailTicketResolvedEnabled,onChange:S=>v("EmailTicketResolvedEnabled",S),color:"bg-emerald-50 text-emerald-600"})]})]}),i.jsx("div",{className:"space-y-6 pt-12 md:pt-14",children:i.jsxs("div",{className:"space-y-3",children:[i.jsx(wi,{label:"Dispatch Invoices via Email",icon:Sn,value:m.EmailInvoicesEnabled,onChange:S=>v("EmailInvoicesEnabled",S),color:"bg-slate-100 text-slate-600"}),i.jsx(wi,{label:"Dispatch Payment Receipts",icon:fa,value:m.EmailPaymentsEnabled,onChange:S=>v("EmailPaymentsEnabled",S),color:"bg-emerald-50 text-emerald-600"}),i.jsx(wi,{label:"Dispatch Contract Dispatches",icon:Di,value:m.EmailContractsEnabled,onChange:S=>v("EmailContractsEnabled",S),color:"bg-indigo-50 text-indigo-600"})]})})]}),a==="integration"&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 animate-in slide-in-from-bottom-2 duration-300",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsx(bi,{icon:Zx,title:"External Access",subtitle:"Client portal and app links"}),i.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm space-y-6",children:[i.jsx(Gn,{label:"Client Portal URL",icon:Qx,children:i.jsx("input",{type:"text",value:m.PortalUrl,onChange:S=>v("PortalUrl",S.target.value),placeholder:"https://portal.company.com",className:"w-full p-3.5 bg-slate-50 border border-slate-200 rounded-xl text-sm font-medium outline-none focus:ring-2 focus:ring-indigo-100 transition-all"})}),i.jsx(Gn,{label:"Mobile App Store Link",icon:aa,children:i.jsx("input",{type:"text",value:m.MobileAppLink,onChange:S=>v("MobileAppLink",S.target.value),placeholder:"https://play.google.com/store/...",className:"w-full p-3.5 bg-slate-50 border border-slate-200 rounded-xl text-sm font-medium outline-none focus:ring-2 focus:ring-indigo-100 transition-all"})}),i.jsxs("div",{className:"p-4 bg-amber-50 rounded-2xl border border-amber-100 flex items-start gap-3",children:[i.jsx(ua,{size:16,className:"text-amber-500 shrink-0 mt-0.5"}),i.jsx("p",{className:"text-[11px] text-amber-800 font-semibold leading-relaxed",children:"Ensure these links are correct as they are included in all automated customer correspondence and signature requests."})]})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsx(bi,{icon:Hj,title:"Database Connection",subtitle:"Google Sheets Registry Settings"}),i.jsx("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm space-y-6",children:i.jsx(Gn,{label:"Google Script URL",icon:Hj,children:i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",value:c,onChange:S=>u(S.target.value),className:"w-full p-4 pr-12 bg-slate-50 border border-slate-200 rounded-xl outline-none font-mono text-[10px] text-slate-500 focus:ring-2 focus:ring-indigo-100 transition-all"}),i.jsx("div",{className:"absolute right-2 top-2",children:i.jsx("button",{onClick:b,className:"p-2 text-slate-300 hover:text-slate-900 transition-colors",title:"Reset to Default",children:i.jsx(o_,{size:16})})})]})})})]})]})]})})]})]})},ZV=({appState:e,visibleData:t,modals:n,handlers:r,lastSync:a,setSyncing:o})=>{var u,f,d;const c=h=>{var v,j;const m=e.currentUser;if(!m)return!1;if(m.role==="Admin")return!0;const g=["clients","vehicles","sim_manager","contracts","invoices","payments","commissions","support","dashboard"];if(m.role==="Agent"&&g.includes(h))return!0;if(m.role==="Agent"&&h==="agents"){const w=e.agents.find(b=>String(b.AgentID)===String(m.id));if((w==null?void 0:w.ExperienceLevel)==="Lead"||(w==null?void 0:w.ExperienceLevel)==="Mentor")return!0}return m.role==="Partner"&&h==="partner_hub"?!0:m.role==="Client"?!1:((j=(v=m.permissions)==null?void 0:v[h])==null?void 0:j.view)||!1};return i.jsxs(A4,{children:[i.jsx(tn,{path:"/",element:((u=e.currentUser)==null?void 0:u.role)==="Client"?i.jsx(EM,{data:e,onSignContract:r.handleSaveContract,onReportIssue:r.handleSaveTicket}):i.jsx(Q_,{data:e,onClaimPayout:r.handleClaimPayout,onApplyForPartnership:r.handleApplyForPartnership})}),i.jsx(tn,{path:"/clients",element:c("clients")?i.jsx(J_,{clients:t.clients,agents:e.agents,vehicles:t.vehicles,activityLogs:e.activityLogs,onAdd:()=>{n.client.setSelected(null),n.client.setMode("add"),n.client.setOpen(!0)},onView:h=>{n.client.setSelected(h),n.client.setMode("view"),n.client.setOpen(!0)},onEdit:h=>{n.client.setSelected(h),n.client.setMode("edit"),n.client.setOpen(!0)}}):i.jsx(wn,{to:"/"})}),i.jsx(tn,{path:"/vehicles",element:c("vehicles")?i.jsx(eM,{vehicles:t.vehicles,agents:e.agents,clients:e.clients,onAdd:()=>{n.vehicle.setSelected(null),n.vehicle.setMode("add"),n.vehicle.setOpen(!0)},onView:h=>{n.vehicle.setSelected(h),n.vehicle.setMode("view"),n.vehicle.setOpen(!0)},onEdit:h=>{n.vehicle.setSelected(h),n.vehicle.setMode("edit"),n.vehicle.setOpen(!0)}}):i.jsx(wn,{to:"/"})}),i.jsx(tn,{path:"/sim-maintenance",element:c("sim_manager")?i.jsx(nM,{vehicles:t.vehicles,simTopups:e.simTopups,clients:e.clients,currentUser:e.currentUser,onTopUp:r.handleBulkSimTopUpAction}):i.jsx(wn,{to:"/"})}),i.jsx(tn,{path:"/maintenance",element:c("sim_manager")?i.jsx(rM,{logs:e.maintenance,onAdd:()=>{n.maintenance.setSelected(null),n.maintenance.setMode("add"),n.maintenance.setOpen(!0)},onView:h=>{n.maintenance.setSelected(h),n.maintenance.setMode("view"),n.maintenance.setOpen(!0)}}):i.jsx(wn,{to:"/"})}),i.jsx(tn,{path:"/contracts",element:c("contracts")?i.jsx(iM,{contracts:t.contracts,onAdd:()=>{n.contract.setSelected(null),n.contract.setMode("add"),n.contract.setOpen(!0)},onView:h=>{n.contract.setSelected(h),n.contract.setMode("view"),n.contract.setOpen(!0)},onEdit:h=>{n.contract.setSelected(h),n.contract.setMode("edit"),n.contract.setOpen(!0)}}):i.jsx(wn,{to:"/"})}),i.jsx(tn,{path:"/invoices",element:c("invoices")?i.jsx(oM,{invoices:t.invoices,onAdd:h=>{n.invoice.setType(h),n.invoice.setSelected(null),n.invoice.setMode("add"),n.invoice.setOpen(!0)},onView:h=>{n.invoice.setSelected(h),n.invoice.setMode("view"),n.invoice.setOpen(!0)},onEdit:h=>{n.invoice.setSelected(h),n.invoice.setMode("edit"),n.invoice.setOpen(!0)},onDelete:async h=>{o(!0),await rt(localStorage.getItem("omni_script_url")||Mn,"Invoices","delete",{InvoiceID:h},"InvoiceID"),await r.loadData(!1),o(!1)}}):i.jsx(wn,{to:"/"})}),i.jsx(tn,{path:"/payments",element:c("payments")?i.jsx(cM,{payments:t.payments,onAdd:()=>{n.payment.setSelected(null),n.payment.setMode("add"),n.payment.setOpen(!0)},onView:h=>{n.payment.setSelected(h),n.payment.setMode("view"),n.payment.setOpen(!0)},onEdit:h=>{n.payment.setSelected(h),n.payment.setMode("edit"),n.payment.setOpen(!0)},onDelete:async h=>{o(!0),await rt(localStorage.getItem("omni_script_url")||Mn,"Payments","delete",{PaymentID:h},"PaymentID"),await r.loadData(!1),o(!1)}}):i.jsx(wn,{to:"/"})}),i.jsx(tn,{path:"/commissions",element:c("commissions")?i.jsx(uM,{agents:t.agents.length>0?t.agents:e.agents,clients:e.clients,contracts:e.contracts,payments:e.payments,vehicles:e.vehicles,systemSettings:e.systemSettings,currentUser:e.currentUser}):i.jsx(wn,{to:"/"})}),i.jsx(tn,{path:"/support",element:c("support")?i.jsx(DM,{tickets:t.tickets,clients:e.clients,agents:e.agents,onUpdateTicket:r.handleSaveTicket,currentUser:e.currentUser}):i.jsx(wn,{to:"/"})}),i.jsx(tn,{path:"/partner-hub",element:((f=e.currentUser)==null?void 0:f.role)==="Partner"?i.jsx(gM,{data:e,onUpdatePartner:r.handleSaveAgent}):i.jsx(wn,{to:"/"})}),i.jsx(tn,{path:"/agents",element:c("agents")?i.jsx(xM,{agents:t.agents.length>0?t.agents:e.agents,onAdd:()=>{n.agent.setSelected(null),n.agent.setMode("add"),n.agent.setOpen(!0)},onView:h=>{n.agent.setSelected(h),n.agent.setMode("view"),n.agent.setOpen(!0)},onEdit:h=>{n.agent.setSelected(h),n.agent.setMode("edit"),n.agent.setOpen(!0)}}):i.jsx(wn,{to:"/"})}),i.jsx(tn,{path:"/reports",element:c("dashboard")?i.jsx(GV,{data:e}):i.jsx(wn,{to:"/"})}),i.jsx(tn,{path:"/settings",element:((d=e.currentUser)==null?void 0:d.role)==="Admin"?i.jsx(QV,{onSave:()=>r.loadData(!1),onSync:()=>r.loadData(!1),lastSyncTime:a,appData:e}):i.jsx(wn,{to:"/"})}),i.jsx(tn,{path:"*",element:i.jsx(wn,{to:"/",replace:!0})})]})},JV=({user:e,profile:t,onComplete:n,onFinalize:r})=>{const[a,o]=O.useState(!1),[c,u]=O.useState(!1),[f,d]=O.useState(null),[h,m]=O.useState(""),[g,v]=O.useState(""),j=e.role.toLowerCase()==="client",w=j?"bg-indigo-600":"bg-slate-900",b=j?"text-indigo-600":"text-slate-900",y=async()=>{if(d(null),h.length<6){d("Required: Minimum 6 characters.");return}if(h!==g){d("Error: Passwords do not match.");return}o(!0);try{await n(h),u(!0)}catch(S){d(S.message||"Synchronization error.")}finally{o(!1)}};return i.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-50 flex items-center justify-center p-3 sm:p-4 overflow-hidden select-none font-sans",children:i.jsx("div",{className:"w-full max-w-md bg-white rounded-[2rem] shadow-2xl overflow-hidden flex flex-col animate-in fade-in zoom-in-95 duration-500 border border-slate-100",children:i.jsx("div",{className:"p-6 md:p-8 flex-1 flex flex-col",children:c?i.jsxs("div",{className:"space-y-6 animate-in zoom-in duration-500 text-center py-6",children:[i.jsx("div",{className:"mx-auto w-16 h-16 bg-emerald-50 rounded-full flex items-center justify-center text-emerald-500 border border-emerald-100 shadow-inner",children:i.jsx(Qa,{size:36,strokeWidth:2.5})}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("h2",{className:"text-xl font-black text-slate-900 uppercase tracking-tight",children:"Access Secured"}),i.jsxs("p",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest leading-relaxed",children:["Credentials updated successfully.",i.jsx("br",{}),"Return to the login screen to sign in."]})]}),i.jsxs("button",{onClick:r,className:`w-full py-4 ${w} text-white rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] shadow-2xl hover:opacity-95 transition-all active:scale-95 flex items-center justify-center gap-3`,children:["Return to Login ",i.jsx(J4,{size:14})]})]}):i.jsxs("div",{className:"space-y-5 animate-in slide-in-from-bottom-4 duration-500",children:[i.jsxs("div",{className:"flex flex-col items-center text-center",children:[i.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-white mb-4 shadow-lg ${w}`,children:i.jsx(Cy,{size:22})}),i.jsx("h1",{className:"text-xl font-black text-slate-900 uppercase tracking-tight",children:"Security Activation"}),i.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-[0.2em] mt-1",children:["Hello, ",e.name]})]}),i.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100 flex items-center gap-3",children:[i.jsx(kn,{className:b,size:16}),i.jsx("p",{className:"text-[10px] font-bold text-slate-500 leading-tight uppercase",children:"Please update your password to secure your account and gain access."})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"New Password"}),i.jsx("input",{type:"password",value:h,onChange:S=>m(S.target.value),disabled:a,className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-indigo-500/20 transition-all font-black text-sm tracking-widest text-slate-900",placeholder:""})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Verify Password"}),i.jsx("input",{type:"password",value:g,onChange:S=>v(S.target.value),disabled:a,className:"w-full p-3 bg-slate-50 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-indigo-500/20 transition-all font-black text-sm tracking-widest text-slate-900",placeholder:""})]})]}),f&&i.jsxs("div",{className:"p-2 bg-rose-50 border border-rose-100 rounded-lg text-[8px] font-black text-rose-600 uppercase tracking-widest text-center flex items-center justify-center gap-2",children:[i.jsx(Ty,{size:12})," ",f]}),i.jsxs("button",{onClick:y,disabled:a||!h||!g,className:`w-full py-4 ${w} text-white rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] shadow-xl hover:opacity-90 transition-all active:scale-95 disabled:opacity-50 flex items-center justify-center gap-3`,children:[a?i.jsx(Ut,{size:14,className:"animate-spin"}):i.jsx(pf,{size:14}),a?"Saving Credentials...":"Activate Account"]})]})})})})},eK=({appState:e,onSendMessage:t,onMarkAsRead:n,onUpdateTyping:r,onRefresh:a})=>{var L;const[o,c]=O.useState(!1),[u,f]=O.useState(null),[d,h]=O.useState(""),[m,g]=O.useState(""),[v,j]=O.useState(!1),w=O.useRef(null),b=O.useRef(null),y=O.useRef(null),S=O.useRef(!1),P=e.currentUser;if(!P)return null;const k=z=>String(z||"").trim().toLowerCase(),C=(z="smooth")=>{w.current&&w.current.scrollIntoView({behavior:z,block:"end"})};O.useEffect(()=>(o&&(b.current=window.setInterval(()=>{document.visibilityState==="visible"&&a(!1,!0,!0)},7e3)),()=>{b.current&&clearInterval(b.current)}),[o,a]);const E=z=>{h(z.target.value),u&&(S.current||(S.current=!0,r(u)),y.current&&clearTimeout(y.current),y.current=window.setTimeout(()=>{r(null),S.current=!1},3e3))};O.useEffect(()=>{if(u&&o){const z=k(P.id),H=k(u),U=(e.messages||[]).filter(Q=>k(Q.SenderID)===H&&k(Q.ReceiverID)===z&&Q.Status==="Sent").map(Q=>Q.ID);U.length>0&&n(U)}},[u,o,e.messages.length,P.id]),O.useEffect(()=>{o&&u&&C("auto")},[u,o]),O.useEffect(()=>{o&&u&&C("smooth")},[(L=e.messages)==null?void 0:L.length]);const D=z=>{const H=e.messages.find(Y=>Y.ID===`PRESENCE-${z}`);if(!H)return{online:!1,isTyping:!1,lastSeen:"N/A"};const U=new Date(H.Timestamp),Q=Date.now()-U.getTime()<300*1e3,G=Q&&k(H.Message)===k(P.id);return{online:Q,isTyping:G,lastSeen:De(H.Timestamp)}},I=O.useMemo(()=>{const z=k(P.id),H=new Map,U=Y=>(e.messages||[]).filter(M=>k(M.SenderID)===k(Y)&&k(M.ReceiverID)===z&&M.Status==="Sent"&&!M.ID.startsWith("PRESENCE-")).length,Q=Y=>{const M=(e.messages||[]).filter(ne=>!ne.ID.startsWith("PRESENCE-")&&(k(ne.SenderID)===z&&k(ne.ReceiverID)===k(Y)||k(ne.SenderID)===k(Y)&&k(ne.ReceiverID)===z));if(M.length===0)return null;const X=M[M.length-1];return(k(X.SenderID)===z?"You: ":"")+X.Message},G=Y=>{const M=(e.messages||[]).filter(X=>!X.ID.startsWith("PRESENCE-")&&(k(X.SenderID)===z&&k(X.ReceiverID)===k(Y)||k(X.SenderID)===k(Y)&&k(X.ReceiverID)===z));return M.length===0?0:new Date(M[M.length-1].Timestamp).getTime()};return e.agents.forEach(Y=>{if(k(Y.AgentID)!==z){const M=D(Y.AgentID);H.set(k(Y.AgentID),{id:Y.AgentID,name:Y.AgentName,type:Y.Role,...M,unreadCount:U(Y.AgentID),lastInteraction:G(Y.AgentID),lastMessage:Q(Y.AgentID)})}}),P.role!=="Client"&&e.clients.forEach(Y=>{const M=D(Y.ClientID);H.set(k(Y.ClientID),{id:Y.ClientID,name:Y.CompanyName,type:"Client Account",...M,unreadCount:U(Y.ClientID),lastInteraction:G(Y.ClientID),lastMessage:Q(Y.ClientID)})}),Array.from(H.values()).filter(Y=>Y.name.toLowerCase().includes(m.toLowerCase())).sort((Y,M)=>M.lastInteraction-Y.lastInteraction||M.unreadCount-Y.unreadCount)},[e.agents,e.clients,e.messages,P,m]),$=I.find(z=>k(z.id)===k(u)),B=O.useMemo(()=>{if(!u)return[];const z=k(P.id),H=k(u);return(e.messages||[]).filter(U=>!U.ID.startsWith("PRESENCE-")&&(k(U.SenderID)===z&&k(U.ReceiverID)===H||k(U.SenderID)===H&&k(U.ReceiverID)===z))},[e.messages,u,P.id]),_=async z=>{if(z.preventDefault(),!d.trim()||!u||v)return;j(!0);const H={ID:`MSG-${Date.now()}-${Math.random().toString(36).substring(2,7)}`,SenderID:P.id,SenderName:P.name,ReceiverID:u,Message:d.trim(),Timestamp:new Date().toISOString(),Status:"Sent"},U=d;h("");try{await t(H),C()}catch{h(U)}finally{j(!1)}},R=(e.messages||[]).filter(z=>!z.ID.startsWith("PRESENCE-")&&k(z.ReceiverID)===k(P.id)&&z.Status==="Sent").length;return i.jsxs("div",{className:"fixed bottom-6 right-6 z-[100] flex flex-col items-end pointer-events-none",children:[o&&i.jsxs("div",{className:"mb-4 w-[340px] sm:w-[400px] h-[640px] max-h-[calc(100vh-140px)] bg-white rounded-[2.5rem] border border-slate-200 shadow-[0_32px_64px_-16px_rgba(15,23,42,0.3)] overflow-hidden flex flex-col animate-in fade-in slide-in-from-bottom-12 duration-500 pointer-events-auto",children:[i.jsxs("div",{className:"p-6 bg-slate-900 text-white flex items-center justify-between shrink-0 relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5",children:i.jsx(_y,{size:80})}),i.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[u?i.jsx("button",{onClick:()=>f(null),className:"p-2 bg-white/10 hover:bg-white/20 rounded-xl transition-all",children:i.jsx(cf,{size:16})}):i.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-600 flex items-center justify-center shadow-lg",children:i.jsx(Kj,{size:20,className:"fill-white"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-bold truncate max-w-[160px] leading-tight",children:$?$.name:"Team Comms"}),$&&i.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest mt-0.5",children:$.isTyping?i.jsx("span",{className:"text-indigo-400 animate-pulse font-black",children:"Typing..."}):$.online?"Online":`Seen ${$.lastSeen}`})]})]}),i.jsx("button",{onClick:z=>{z.stopPropagation(),c(!1)},className:"p-2 hover:bg-white/10 rounded-full transition-colors relative z-[110] pointer-events-auto",children:i.jsx(Ct,{size:20})})]}),u?i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden bg-white",children:[i.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-5 space-y-4",children:[B.length>0?B.map((z,H)=>{const U=k(z.SenderID)===k(P.id),Q=H===0||De(z.Timestamp)!==De(B[H-1].Timestamp),G=B[H+1],Y=!G||k(G.SenderID)!==k(z.SenderID)||new Date(G.Timestamp).getTime()-new Date(z.Timestamp).getTime()>3e5;return i.jsxs(q.Fragment,{children:[Q&&i.jsx("div",{className:"flex justify-center my-6",children:i.jsx("span",{className:"px-4 py-1.5 bg-slate-50 border border-slate-100 rounded-full text-[7px] font-black text-slate-400 uppercase tracking-[0.2em] shadow-sm",children:De(z.Timestamp)})}),i.jsxs("div",{className:`flex flex-col ${U?"items-end":"items-start"} ${Y?"mb-2":"mb-0.5"}`,children:[i.jsx("div",{className:`max-w-[85%] px-4 py-2.5 rounded-2xl text-[13px] font-medium shadow-sm leading-tight border relative transition-all duration-300 ${U?"bg-slate-900 text-white border-slate-900 "+(Y?"rounded-tr-none":""):"bg-slate-100 border-slate-100 text-slate-800 "+(Y?"rounded-tl-none":"")}`,children:z.Message}),Y&&i.jsxs("div",{className:"flex items-center gap-1.5 mt-1.5 px-1",children:[i.jsx("span",{className:"text-[7px] font-black text-slate-400 uppercase tracking-tighter",children:new Date(z.Timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),U&&(z.Status==="Read"?i.jsx(dE,{size:11,strokeWidth:3,className:"text-sky-400"}):i.jsx(wy,{size:11,strokeWidth:3,className:"text-slate-300"}))]})]})]},z.ID)}):i.jsxs("div",{className:"py-24 text-center opacity-10",children:[i.jsx(hn,{size:40,className:"mx-auto mb-4"}),i.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.4em]",children:"Start encrypted flow"})]}),($==null?void 0:$.isTyping)&&i.jsx("div",{className:"flex items-start gap-2 animate-in fade-in slide-in-from-bottom-2 duration-300",children:i.jsxs("div",{className:"px-4 py-3 bg-slate-100 rounded-2xl rounded-tl-none flex gap-1 items-center border border-slate-200",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),i.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),i.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})}),i.jsx("div",{ref:w,className:"h-4 shrink-0"})]}),i.jsx("div",{className:"p-4 bg-slate-50 border-t border-slate-100 shrink-0",children:i.jsxs("form",{onSubmit:_,className:"flex items-center gap-3",children:[i.jsx("input",{autoFocus:!0,type:"text",value:d,onChange:E,disabled:v,placeholder:"Secure message...",className:"flex-1 bg-white border border-slate-200 p-3.5 rounded-2xl text-sm font-semibold outline-none focus:ring-4 focus:ring-indigo-50/5 focus:border-indigo-600/30 transition-all placeholder:text-slate-300 shadow-sm"}),i.jsx("button",{type:"submit",disabled:!d.trim()||v,className:`w-12 h-12 rounded-2xl shadow-xl flex items-center justify-center transition-all active:scale-90 shrink-0 ${d.trim()&&!v?"bg-slate-900 text-white hover:bg-black shadow-slate-900/20":"bg-slate-200 text-slate-400 cursor-not-allowed shadow-none"}`,children:v?i.jsx(Ut,{size:18,className:"animate-spin"}):i.jsx(Ga,{size:18})})]})})]}):i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden bg-slate-50/30",children:[i.jsx("div",{className:"p-4 bg-white border-b border-slate-100",children:i.jsxs("div",{className:"relative",children:[i.jsx(zn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:14}),i.jsx("input",{type:"text",placeholder:"Search team or clients...",value:m,onChange:z=>g(z.target.value),className:"w-full pl-9 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-xs outline-none focus:ring-4 focus:ring-indigo-500/10 transition-all font-medium"})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar py-2",children:I.length>0?i.jsx("div",{className:"px-2 space-y-1",children:I.map(z=>i.jsxs("div",{onClick:()=>f(z.id),className:`px-4 py-3.5 flex items-center justify-between rounded-2xl hover:bg-white hover:shadow-sm cursor-pointer group transition-all ${z.unreadCount>0?"bg-indigo-50/50":""}`,children:[i.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[i.jsxs("div",{className:"relative shrink-0",children:[i.jsx("div",{className:"w-11 h-11 rounded-2xl bg-white border border-slate-200 flex items-center justify-center text-slate-400 group-hover:bg-indigo-50 group-hover:text-indigo-600 transition-all",children:i.jsx(Et,{size:20})}),i.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 w-3 h-3 rounded-full border-2 border-white ${z.online?"bg-emerald-500 shadow-sm":"bg-slate-300"}`})]}),i.jsxs("div",{className:"flex flex-col min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`text-[11px] font-black uppercase tracking-tight truncate ${z.unreadCount>0?"text-indigo-900":"text-slate-800"}`,children:z.name}),z.unreadCount>0&&i.jsx("span",{className:"px-1.5 py-0.5 rounded-md bg-indigo-600 text-white text-[8px] font-black animate-bounce",children:z.unreadCount})]}),i.jsx("p",{className:"text-[10px] text-slate-500 truncate mt-0.5 max-w-[180px] font-medium italic",children:z.lastMessage||"No recent history"})]})]}),i.jsx(q4,{size:14,className:"text-slate-200 group-hover:text-indigo-600 transition-colors shrink-0"})]},z.id))}):i.jsxs("div",{className:"py-24 text-center opacity-20",children:[i.jsx(Et,{size:40,className:"mx-auto mb-4"}),i.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.4em]",children:"No Active Sessions"})]})})]})]}),i.jsxs("button",{onClick:()=>c(!o),className:`w-16 h-16 rounded-[2rem] shadow-2xl flex items-center justify-center transition-all active:scale-90 relative pointer-events-auto overflow-hidden group ${o?"bg-rose-600 text-white hover:bg-rose-700":"bg-slate-900 text-white hover:bg-black hover:-translate-y-1"}`,children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),o?i.jsx(Ct,{size:28}):i.jsx(Kj,{size:28,className:"fill-white"}),!o&&R>0&&i.jsx("span",{className:"absolute top-0.5 right-0.5 w-6 h-6 bg-indigo-500 border-2 border-slate-900 rounded-full animate-bounce flex items-center justify-center text-[10px] font-black text-white shadow-lg z-20",children:R>9?"9+":R}),!o&&R>0&&i.jsx("div",{className:"absolute inset-0 bg-indigo-500/20 animate-pulse"})]})]})},Fx="sally_chanza_db_cache",Ux="sally_chanza_last_fetch",tK=1e4,zP=(e,t,n,r)=>{const a=new Map;Array.isArray(e)&&e.forEach(c=>a.set(String(c[n]),c)),Array.isArray(t)&&t.forEach(c=>{const u=String(c[n]);a.set(u,c)});const o=Array.from(a.values());return r&&o.sort((c,u)=>{const f=new Date(c[r]||0).getTime(),d=new Date(u[r]||0).getTime();return f-d}),o},nK=()=>{var d;const[e,t]=O.useState(()=>{const h=localStorage.getItem(Fx);return h?JSON.parse(h):{clients:[],assets:[],vehicles:[],maintenance:[],simTopups:[],contracts:[],invoices:[],payments:[],commissions:[],notifications:[],tickets:[],agents:[],servicePlans:[],loginRecords:[],activityLogs:[],messages:[],systemSettings:null,currentUser:null}}),[n,r]=O.useState(!localStorage.getItem(Fx)),[a,o]=O.useState(!1),[c,u]=O.useState(()=>{const h=localStorage.getItem(Ux);return h&&h!=="null"?new Date(Number(h)):null});O.useEffect(()=>{localStorage.setItem(Fx,JSON.stringify(e))},[e]);const f=O.useCallback(async(h=!1,m=!1,g=!1)=>{const v=Date.now(),j=Number(localStorage.getItem(Ux)||0);if(!h&&!m&&v-j<tK)return;if(!navigator.onLine){r(!1),o(!1);return}h&&(!e.clients||!e.clients.length)?r(!0):g||o(!0);const w=(localStorage.getItem("omni_script_url")||Mn).trim();try{const b=await XV(w);if(b){t(S=>{const P=zP(S.messages||[],b.messages||[],"ID","Timestamp"),k=zP(S.activityLogs||[],b.activityLogs||[],"ID","Date");return{...S,...b,messages:P,activityLogs:k}});const y=new Date;u(y),localStorage.setItem(Ux,String(y.getTime()))}}catch(b){console.error("Ledger Sync Failure:",b.message)}finally{r(!1),o(!1)}},[(d=e.clients)==null?void 0:d.length]);return{appState:e,setAppState:t,loading:n,syncing:a,setSyncing:o,lastSync:c,loadData:f}},rK=5,aK=6e4,iK=1800*1e3,sK=3600*1e3,Ra=e=>String(e||"").trim().toLowerCase(),oK={dashboard:{view:!0,create:!0,update:!0,delete:!0},clients:{view:!0,create:!0,update:!0,delete:!0},vehicles:{view:!0,create:!0,update:!0,delete:!0},sim_manager:{view:!0,create:!0,update:!0,delete:!0},contracts:{view:!0,create:!0,update:!0,delete:!0},invoices:{view:!0,create:!0,update:!0,delete:!0},payments:{view:!0,create:!0,update:!0,delete:!0},commissions:{view:!0,create:!0,update:!0,delete:!0},support:{view:!0,create:!0,update:!0,delete:!0},agents:{view:!0,create:!0,update:!0,delete:!0},settings:{view:!0,create:!0,update:!0,delete:!0}},LP={dashboard:{view:!0,create:!1,update:!1,delete:!1},clients:{view:!0,create:!0,update:!0,delete:!1},vehicles:{view:!0,create:!0,update:!0,delete:!1},sim_manager:{view:!0,create:!0,update:!0,delete:!1},contracts:{view:!0,create:!0,update:!0,delete:!1},invoices:{view:!0,create:!0,update:!0,delete:!1},payments:{view:!0,create:!0,update:!0,delete:!1},commissions:{view:!0,create:!1,update:!1,delete:!1},support:{view:!0,create:!0,update:!0,delete:!1},agents:{view:!1,create:!1,update:!1,delete:!1},settings:{view:!1,create:!1,update:!1,delete:!1}},lK=(e,t)=>{var h;const[n,r]=O.useState(!1),[a,o]=O.useState(0),[c,u]=O.useState(null),f=()=>t(m=>({...m,currentUser:null}));return O.useEffect(()=>{if(!e.currentUser)return;let m=Date.now(),g;const v=()=>{m=Date.now()},j=()=>{Date.now()-m>iK&&(console.warn("Security: Session expired due to inactivity."),f())},w=()=>{document.visibilityState==="visible"&&Date.now()-m>sK&&(console.warn("Security: Session expired during background period."),f())},b=["mousedown","keydown","scroll","touchstart","mousemove"];return b.forEach(y=>window.addEventListener(y,v)),document.addEventListener("visibilitychange",w),g=window.setInterval(j,6e4),()=>{b.forEach(y=>window.removeEventListener(y,v)),document.removeEventListener("visibilitychange",w),clearInterval(g)}},[(h=e.currentUser)==null?void 0:h.id]),O.useEffect(()=>{c&&Date.now()>=c&&(u(null),o(0))},[c]),{authLoading:n,handleLogin:async(m,g)=>{if(c)return`Security Lock: Try again in ${Math.ceil((c-Date.now())/1e3)}s.`;r(!0);try{await new Promise(C=>setTimeout(C,800));const v=e.loginRecords.find(C=>Ra(C.Email)===Ra(m));if(!v||String(v.Password).trim()!==String(g).trim()){const C=a+1;return o(C),C>=rK&&u(Date.now()+aK),r(!1),"Invalid credentials."}if(Ra(v.Status)==="inactive")return r(!1),"Account restricted.";const j=e.agents.find(C=>Ra(C.AgentID)===Ra(v.AgentID)),w=e.clients.find(C=>Ra(C.ClientID)===Ra(v.AgentID)),b=Ra(v.Role||(j?j.Role:"agent"));let y="Agent",S={dashboard:{view:!0,create:!1,update:!1,delete:!1}},P=(j==null?void 0:j.AgentName)||(w==null?void 0:w.CompanyName)||v.Email.split("@")[0];b.includes("admin")?(y="Admin",S={...oK}):b.includes("partner")?(y="Partner",S={...LP}):b.includes("client")?(y="Client",S={dashboard:{view:!0,create:!1,update:!1,delete:!1}}):S={...LP};const k=v.LastLogin?String(v.LastLogin).trim():null;return t(C=>({...C,currentUser:{id:v.AgentID,name:P,role:y,permissions:S,lastLogin:k||void 0}})),r(!1),o(0),null}catch{return r(!1),"Terminal connection error."}},handleLogout:f,lockoutTime:c?Math.ceil((c-Date.now())/1e3):0}},Pr=e=>String(e||"").trim().toLowerCase(),cK=(e,t,n)=>{var d;const[r,a]=O.useState([]),o=O.useRef(new Set),c=O.useMemo(()=>{const{currentUser:h,notifications:m}=e;if(!h)return[];const g=h.role==="Admin",v=h.role==="Client",j=Pr(h.id),w=b=>{const y=`${b}_${j}`;return r.includes(y)?!0:m.some(S=>(Pr(S.ID)===Pr(y)||Pr(S.ID)===Pr(b))&&S.Status==="Read"&&Pr(S.AssignedTo)===j)};return m.filter(b=>{if(b.Status==="Read")return!1;const y=Pr(b.AssignedTo),S=Pr(b.ClientID);return(y===j||!v&&y==="global"||g&&y==="admin"||v&&S===j)&&!w(b.ID)}).sort((b,y)=>new Date(y.Time).getTime()-new Date(b.Time).getTime())},[e.notifications,e.currentUser,r]);O.useEffect(()=>{if(!e.currentUser||Notification.permission!=="granted")return;const h=Pr(e.currentUser.id);c.forEach(g=>{var v;if(!o.current.has(g.ID)&&(o.current.add(g.ID),g.Priority===ia.Critical||g.Priority===ia.High)){const j=new Notification("Sally Chanza - System Alert",{body:g.Message,icon:((v=e.systemSettings)==null?void 0:v.Logo)||void 0,tag:g.ID,requireInteraction:!0});j.onclick=()=>{window.focus()}}}),(e.messages||[]).filter(g=>Pr(g.ReceiverID)===h&&g.Status==="Sent"&&!g.ID.startsWith("PRESENCE-")).forEach(g=>{var v;if(!o.current.has(g.ID)){o.current.add(g.ID);const j=new Notification(`Message from ${g.SenderName}`,{body:g.Message.length>70?g.Message.substring(0,70)+"...":g.Message,icon:((v=e.systemSettings)==null?void 0:v.Logo)||void 0,tag:"chat-"+g.SenderID,silent:!1});j.onclick=()=>{window.focus()}}})},[c,e.messages,(d=e.currentUser)==null?void 0:d.id]);const u=async h=>{var j;const m=localStorage.getItem("omni_script_url")||Mn,g=((j=e.currentUser)==null?void 0:j.id)||"SYSTEM",v=h.includes("_")?h:`${h}_${g}`;n(!0),a(w=>[...w,v]);try{await rt(m,"Notifications","create",{ID:v,Status:"Read",Time:new Date().toISOString(),Message:"User Dismissed",Type:"DISMISSAL",Priority:"Low",ClientID:"SYSTEM",AssignedTo:g,Sent:!0},"ID"),await t(!1)}catch(w){console.error("Dismissal Error:",w)}finally{n(!1)}};return{augmentedNotifications:c,handleDismissNotification:u,handleClearNotifications:async()=>{if(e.currentUser)for(const h of c)await u(h.ID)}}},Lb=(e,t)=>{const n=(t==null?void 0:t.CompanyName)||"Sally Chanza Business Caf",r=(t==null?void 0:t.Email)||"info@sallychanza.com";return`
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    * { box-sizing: border-box; }
    body { margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background-color: #f8fafc; color: #334155; }
    .wrapper { width: 100%; table-layout: fixed; background-color: #f8fafc; padding: 20px 0; }
    .container { width: 95%; max-width: 600px; margin: 0 auto; background-color: #ffffff; border-radius: 12px; border: 1px solid #e2e8f0; overflow: hidden; }
    .header { padding: 30px; background-color: #ffffff; text-align: center; border-bottom: 1px solid #f1f5f9; }
    .content { padding: 30px; }
    .footer { padding: 25px; text-align: center; font-size: 11px; color: #94a3b8; border-top: 1px solid #f1f5f9; background-color: #fafafa; }
    .button { display: inline-block; background-color: #0f172a; color: #ffffff !important; padding: 16px 30px; border-radius: 8px; text-decoration: none; font-weight: bold; font-size: 14px; margin-top: 10px; }
    .details-box { background-color: #f1f5f9; border-radius: 10px; padding: 20px; margin: 20px 0; }
    .feature-item { margin-bottom: 15px; }
    @media only screen and (max-width: 600px) {
       .button { width: 100%; text-align: center; padding: 16px 0; }
    }
  </style>
</head>
<body>
  <div class="wrapper">
    <div class="container">
      <div class="header">
        <div style="font-size: 18px; font-weight: 800; color: #0f172a; text-transform: uppercase;">${n}</div>
      </div>
      <div class="content">
        ${e}
      </div>
      <div class="footer">
        ${n}<br>
        Email: ${r}<br>
        &copy; ${new Date().getFullYear()} All rights reserved.
      </div>
    </div>
  </div>
</body>
</html>
`},uK=(e,t,n)=>{const r=(n==null?void 0:n.PortalUrl)||"https://sallychanza.com/portal",a=t?t.AgentName:"Operations Team",o=`
    <h2 style="margin: 0 0 16px 0; color: #0f172a; font-size: 20px;">Welcome to the Platform</h2>
    <p style="font-size: 15px; line-height: 1.6; margin-bottom: 20px;">Dear ${e.CompanyName},</p>
    <p style="font-size: 15px; line-height: 1.6; margin-bottom: 20px;">Your account is now active. We have assigned <strong>${a}</strong> as your dedicated account manager.</p>

    <div class="details-box">
      <h3 style="margin: 0 0 15px 0; font-size: 14px; color: #0f172a;">What is in your portal?</h3>
      <div class="feature-item"><strong> Fleet Registry:</strong> View and track all your registered vehicles.</div>
      <div class="feature-item"><strong> Digital Contracts:</strong> Sign and download your service agreements.</div>
      <div class="feature-item"><strong> Billing & History:</strong> View invoices and payment receipts.</div>
      <div class="feature-item"><strong> Support Desk:</strong> Report issues and get quick help.</div>
    </div>

    ${e.PortalEnabled?`
      <div style="background-color: #f8fafc; border: 1px solid #e2e8f0; border-radius: 10px; padding: 20px; margin: 20px 0;">
        <p style="margin: 0 0 8px 0; font-size: 13px;"><strong>Login Email:</strong> ${e.Email}</p>
        <p style="margin: 0; font-size: 13px;"><strong>Temporary Password:</strong> ${e.TempPassword||"Already configured"}</p>
      </div>
      <div style="text-align: center;">
        <a href="${r}" class="button">Log In to Portal</a>
      </div>
    `:""}
  `;return Lb(o,n)},dK=(e,t)=>{const n=`
    <h2 style="margin: 0 0 16px 0; color: #0f172a; font-size: 20px;">Profile Update Notice</h2>
    <p style="font-size: 15px; line-height: 1.6;">Dear ${e.CompanyName},</p>
    <p style="font-size: 15px; line-height: 1.6;">This is to notify you that your client profile details have been updated in our system by an administrator.</p>
    <p style="font-size: 15px; line-height: 1.6;">Please log in to your portal to review your information and ensure everything is correct.</p>
  `;return Lb(n,t)},fK=(e,t,n)=>{const r=`
    <h2 style="margin: 0 0 16px 0; color: #0f172a; font-size: 20px;">New Account Manager Assigned</h2>
    <p style="font-size: 15px; line-height: 1.6;">Dear ${e.CompanyName},</p>
    <p style="font-size: 15px; line-height: 1.6;">We have assigned a new Account Manager to your profile to provide you with better service.</p>
    <div class="details-box">
      <p style="margin: 0; font-size: 14px;"><strong>Manager Name:</strong> ${t.AgentName}</p>
      <p style="margin: 5px 0 0 0; font-size: 14px;"><strong>Contact Email:</strong> ${t.Email}</p>
      <p style="margin: 5px 0 0 0; font-size: 14px;"><strong>Contact Phone:</strong> ${t.Phone}</p>
    </div>
    <p style="font-size: 15px; line-height: 1.6;">Your new manager is ready to assist you with any questions.</p>
  `;return Lb(r,n)},pK=(e,t,n)=>{const r=(n==null?void 0:n.CompanyName)||"Sally Chanza Business Caf",a=(n==null?void 0:n.PortalUrl)||"https://sallychanza.com/portal";return`
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body style="margin: 0; padding: 0; background-color: #f8fafc; font-family: -apple-system, sans-serif; color: #334155;">
      <table border="0" cellpadding="0" cellspacing="0" width="100%" style="background-color: #f8fafc; padding: 20px;">
        <tr>
          <td align="center">
            <table border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width: 600px; background-color: #ffffff; border-radius: 8px; border: 1px solid #e2e8f0;">
              <tr>
                <td style="padding: 30px;">
                  <h2 style="margin: 0 0 20px 0; color: #0f172a; font-size: 18px;">Account Assignment</h2>
                  
                  <p style="font-size: 14px; line-height: 1.5; margin-bottom: 20px;">
                    Hello <strong>${t.AgentName}</strong>,<br><br>
                    The following client record has been assigned to your portfolio for management.
                  </p>

                  <div style="background-color: #f1f5f9; border-radius: 8px; padding: 20px; margin-bottom: 25px;">
                    <p style="margin: 5px 0; font-size: 13px;"><strong>Entity:</strong> ${e.CompanyName}</p>
                    <p style="margin: 5px 0; font-size: 13px;"><strong>Classification:</strong> ${e.ClientType}</p>
                    <p style="margin: 5px 0; font-size: 13px;"><strong>Contact:</strong> ${e.Phone}</p>
                    <p style="margin: 5px 0; font-size: 13px;"><strong>Email:</strong> ${e.Email}</p>
                  </div>

                  <div style="text-align: center;">
                    <a href="${a}" style="display: inline-block; background-color: #0f172a; color: #ffffff; padding: 12px 24px; border-radius: 6px; text-decoration: none; font-weight: bold; font-size: 13px;">Open Portal</a>
                  </div>

                  <p style="margin-top: 30px; font-size: 10px; color: #94a3b8; text-align: center; text-transform: uppercase; letter-spacing: 1px;">
                    System Notice &bull; ${r}
                  </p>
                </td>
              </tr>
            </table>
          </td>
        </tr>
      </table>
    </body>
    </html>
  `},hK=(e,t)=>{const n=(t==null?void 0:t.CompanyName)||"Sally Chanza Business Caf",r=(t==null?void 0:t.PortalUrl)||"https://sallychanza.com/portal";return`
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <style>
        body { margin: 0; padding: 0; width: 100% !important; background-color: #f8fafc; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; }
        .wrapper { width: 100%; table-layout: fixed; background-color: #f8fafc; padding: 20px 0; }
        .container { width: 95%; max-width: 600px; margin: 0 auto; background-color: #ffffff; border: 1px solid #e2e8f0; border-radius: 12px; overflow: hidden; }
        .header { padding: 30px; background-color: #0f172a; text-align: center; color: #ffffff; }
        .content { padding: 30px; color: #334155; line-height: 1.6; }
        .footer { padding: 20px; text-align: center; font-size: 11px; color: #94a3b8; border-top: 1px solid #f1f5f9; }
        .btn { display: inline-block; background-color: #4f46e5; color: #ffffff !important; padding: 14px 28px; border-radius: 8px; text-decoration: none; font-weight: bold; font-size: 14px; margin: 20px 0; }
        .info-box { background-color: #f1f5f9; border-radius: 10px; padding: 20px; margin: 20px 0; }
        .label { font-size: 10px; font-weight: bold; color: #64748b; text-transform: uppercase; display: block; margin-bottom: 4px; }
        .value { font-size: 14px; font-weight: 600; color: #0f172a; }
        @media only screen and (max-width: 600px) {
          .container { width: 100% !important; border-radius: 0; border-left: 0; border-right: 0; }
          .btn { display: block; text-align: center; }
        }
      </style>
    </head>
    <body>
      <div class="wrapper">
        <div class="container">
          <div class="header">
            <h2 style="margin: 0; font-size: 18px; text-transform: uppercase; letter-spacing: 1px;">Account Access Ready</h2>
          </div>
          <div class="content">
            <p>Hello ${e.AgentName},</p>
            <p>Your account on the <strong>${n}</strong> management portal has been created. You can now log in to manage your portfolio and view performance reports.</p>
            
            <div class="info-box">
              <div style="margin-bottom: 15px;">
                <span class="label">Access Link</span>
                <span class="value">${r}</span>
              </div>
              <div style="margin-bottom: 15px;">
                <span class="label">Your Email</span>
                <span class="value">${e.Email}</span>
              </div>
              <div>
                <span class="label">Temporary Password</span>
                <span class="value" style="font-family: monospace; letter-spacing: 1px;">${e.Password}</span>
              </div>
            </div>

            <p><strong>Note:</strong> You will be asked to change this temporary password during your first login for security purposes.</p>
            
            <div style="text-align: center;">
              <a href="${r}" class="btn">Log In Now</a>
            </div>
          </div>
          <div class="footer">
            &copy; ${new Date().getFullYear()} ${n}<br>
            Automated System Notification
          </div>
        </div>
      </div>
    </body>
    </html>
  `},mK=(e,t,n,r)=>async(a,o)=>{var c,u,f;try{n(!0);const d=e.clients.find(b=>fe(b.ClientID)===fe(a.ClientID)),h=!d,m=d&&fe(d.AssignedAgentID)!==fe(a.AssignedAgentID),g=o||m,v=e.agents.find(b=>fe(b.AgentID)===fe(a.AssignedAgentID)),j=Xr(e.agents,a.AssignedAgentID);let w={recipientEmail:a.Email};if(g&&a.Email&&(w.sendEmail=!0,w.senderName=((c=e.systemSettings)==null?void 0:c.CompanyName)||Ua,w.senderEmail=((u=e.systemSettings)==null?void 0:u.Email)||mr,w.emailSubject=h?`Welcome to ${((f=e.systemSettings)==null?void 0:f.CompanyName)||"Our Platform"}`:m?`Account Manager Update: ${(v==null?void 0:v.AgentName)||"New Assignment"}`:"Profile Updated",w.emailHtml=h?uK(a,v,e.systemSettings):m&&v?fK(a,v,e.systemSettings):dK(a,e.systemSettings)),await rt(r,"Clients",h?"create":"update",a,"ClientID",w),a.PortalEnabled&&a.Email){const b={Email:a.Email.trim(),Password:a.TempPassword||(d==null?void 0:d.TempPassword)||"Client123",AgentID:a.ClientID,Role:"client",Status:a.Status===on.Active?"Active":"Inactive",LoginAttempts:0,LastLogin:new Date().toISOString()};await rt(r,"Logins",e.loginRecords.some(y=>fe(y.Email)===fe(a.Email))?"update":"create",b,"Email")}if(g&&(h||m)&&v){const b={sendEmail:!0,recipientEmail:j,emailSubject:m?`URGENT: Client Reassigned to You - ${a.CompanyName}`:`New Client Assignment: ${a.CompanyName}`,emailHtml:pK(a,v,e.systemSettings)},y={ID:`ASSIGN-${a.ClientID}-${Date.now()}`,Time:new Date().toISOString(),Type:"ASSIGNMENT",Priority:ia.Normal,ClientID:a.ClientID,ClientName:a.CompanyName,ContractID:"",Message:m?`Reassignment: You have taken over management for ${a.CompanyName}.`:`New assignment: ${a.CompanyName} (${a.ClientType})`,DueDate:new Date().toISOString(),Status:"Unread",AssignedTo:a.AssignedAgentID,Sent:!0};await rt(r,"Notifications","create",y,"ID",b)}await t(!1,!0)}catch(d){throw console.error("Client Sync Error:",d),d}finally{n(!1)}},gK=(e,t)=>{const n=(t==null?void 0:t.CompanyName)||"Sally Chanza Business Caf",r=(t==null?void 0:t.Email)||"info@sallychanza.com";return`
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    * { box-sizing: border-box; }
    body { margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; background-color: #f8fafc; color: #334155; }
    .wrapper { width: 100%; table-layout: fixed; background-color: #f8fafc; padding: 20px 0; }
    .container { width: 95%; max-width: 600px; margin: 0 auto; background-color: #ffffff; border-radius: 12px; border: 1px solid #e2e8f0; overflow: hidden; }
    .header { padding: 30px; background-color: #ffffff; border-bottom: 1px solid #f1f5f9; text-align: center; }
    .content { padding: 30px; }
    .footer { padding: 25px; background-color: #f8fafc; text-align: center; font-size: 12px; color: #94a3b8; border-top: 1px solid #f1f5f9; }
    .button { display: inline-block; padding: 16px 30px; background-color: #0f172a; color: #ffffff !important; text-decoration: none; border-radius: 8px; font-weight: bold; font-size: 14px; margin-top: 10px; }
    .details-box { background-color: #f1f5f9; border-radius: 10px; padding: 20px; margin: 20px 0; }
    @media only screen and (max-width: 600px) {
      .content, .header, .footer { padding: 20px; }
      .button { width: 100%; text-align: center; padding: 16px 0; }
    }
  </style>
</head>
<body>
  <div class="wrapper">
    <div class="container">
      <div class="header">
        <div style="font-size: 18px; font-weight: 800; color: #0f172a; text-transform: uppercase; letter-spacing: -0.5px;">${n}</div>
      </div>
      <div class="content">
        ${e}
      </div>
      <div class="footer">
        ${n}<br>
        Email: ${r}<br>
        &copy; ${new Date().getFullYear()} All rights reserved.
      </div>
    </div>
  </div>
</body>
</html>
`},xK=(e,t,n)=>{const r=(n==null?void 0:n.PortalUrl)||"https://sallychanza.com/portal",a=`
    <h2 style="margin: 0 0 16px 0; color: #0f172a; font-size: 20px;">Review and Sign Your Contract</h2>
    <p style="font-size: 15px; line-height: 1.6; margin-bottom: 20px;">Dear ${t.CompanyName},</p>
    <p style="font-size: 15px; line-height: 1.6; margin-bottom: 20px;">A new service contract has been created for you. Please log in to your portal to review and sign the document.</p>
    
    <div class="details-box">
      <p style="margin: 0; font-size: 13px; color: #64748b;"><strong>Contract ID:</strong> ${e.ContractID}</p>
      <p style="margin: 5px 0 0 0; font-size: 13px; color: #64748b;"><strong>Plan Type:</strong> ${e.PlanType} (${e.NoOfUnits} Units)</p>
    </div>

    <div style="text-align: center;">
      <a href="${r}" class="button">Log In and Sign</a>
    </div>
    <p style="font-size: 13px; color: #94a3b8; text-align: center; margin-top: 20px;">Service starts as soon as the contract is signed and payment is received.</p>
  `;return gK(a,n)},vK=(e,t,n,r)=>async(a,o)=>{var c,u;try{n(!0);const f=!e.contracts.some(g=>fe(g.ContractID)===fe(a.ContractID)),d=e.clients.find(g=>fe(g.ClientID)===fe(a.ClientID)),h=Xr(e.agents,a.AssignedAgentID||(d==null?void 0:d.AssignedAgentID));let m={recipientEmail:d==null?void 0:d.Email,senderName:((c=e.systemSettings)==null?void 0:c.CompanyName)||Ua,senderEmail:((u=e.systemSettings)==null?void 0:u.Email)||mr,emailCc:`${h},${Yr}`};o&&(d!=null&&d.Email)&&(m.sendEmail=!0,m.pdfAttachmentHtml=Ps(a,d,e.vehicles,e.systemSettings,e.agents),m.pdfFileName=`Agreement_${a.ContractID}.pdf`,m.emailSubject=`Service Agreement: ${a.ContractID}`,m.emailHtml=xK(a,d,e.systemSettings)),await rt(r,"Contracts",f?"create":"update",a,"ContractID",m),await t(!1,!0)}catch(f){console.error("Contract Sync Error:",f)}finally{n(!1)}},yK=e=>`
  <div style="width: 100%; overflow-x: auto; margin: 20px 0;">
    <table width="100%" cellpadding="0" cellspacing="0" style="border-collapse: collapse; min-width: 300px; font-family: sans-serif;">
      <thead>
        <tr style="background-color: #f8fafc; border-bottom: 2px solid #e2e8f0;">
          <th align="left" style="padding: 12px 8px; font-size: 9px; color: #64748b; text-transform: uppercase; letter-spacing: 1px; width: 40%;">Description of Service</th>
          <th align="right" style="padding: 12px 8px; font-size: 9px; color: #64748b; text-transform: uppercase; width: 15%;">Rate</th>
          <th align="center" style="padding: 12px 8px; font-size: 9px; color: #64748b; text-transform: uppercase; width: 10%;">Qty</th>
          <th align="center" style="padding: 12px 8px; font-size: 9px; color: #64748b; text-transform: uppercase; width: 15%;">Months</th>
          <th align="right" style="padding: 12px 8px; font-size: 9px; color: #64748b; text-transform: uppercase; width: 20%;">Total</th>
        </tr>
      </thead>
      <tbody style="color: #1e293b;">
        <tr>
          <td style="padding: 15px 8px; font-size: 11px; font-weight: bold; border-bottom: 1px solid #f1f5f9; vertical-align: top;">${e.Description||"Fleet Services"}</td>
          <td align="right" style="padding: 15px 8px; font-size: 11px; border-bottom: 1px solid #f1f5f9; vertical-align: top;">K ${Ee(e.UnitPrice)}</td>
          <td align="center" style="padding: 15px 8px; font-size: 11px; font-weight: bold; border-bottom: 1px solid #f1f5f9; vertical-align: top;">${e.NoOfUnits}</td>
          <td align="center" style="padding: 15px 8px; font-size: 11px; font-weight: bold; color: #4f46e5; border-bottom: 1px solid #f1f5f9; vertical-align: top;">${e.PeriodMonths||1}</td>
          <td align="right" style="padding: 15px 8px; font-size: 11px; font-weight: 800; border-bottom: 1px solid #f1f5f9; vertical-align: top;">K ${Ee(e.TotalAmount)}</td>
        </tr>
      </tbody>
      <tfoot>
        <tr>
          <td colspan="4" align="right" style="padding: 15px 8px 5px 8px; font-size: 10px; color: #94a3b8; text-transform: uppercase; font-weight: bold;">Grand Total</td>
          <td align="right" style="padding: 15px 8px 5px 8px; font-size: 12px; color: #0f172a; font-weight: 800;">K ${Ee(e.TotalAmount)}</td>
        </tr>
        <tr>
          <td colspan="4" align="right" style="padding: 5px 8px; font-size: 10px; color: #10b981; text-transform: uppercase; font-weight: bold;">Amount Paid</td>
          <td align="right" style="padding: 5px 8px; font-size: 12px; color: #10b981; font-weight: 800;">- K ${Ee(e.AmountPaid)}</td>
        </tr>
        <tr>
          <td colspan="4" align="right" style="padding: 10px 8px; font-size: 11px; color: #0f172a; text-transform: uppercase; font-weight: 800; border-top: 1px solid #e2e8f0;">Unsettled Balance</td>
          <td align="right" style="padding: 10px 8px; font-size: 16px; color: #4f46e5; font-weight: 900; border-top: 1px solid #e2e8f0;">K ${Ee(e.BalanceDue)}</td>
        </tr>
      </tfoot>
    </table>
  </div>
`,Bb=(e,t,n)=>{const r=(n==null?void 0:n.CompanyName)||"Sally Chanza Business Caf";return n!=null&&n.Email,`
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background-color: #f1f5f9; color: #1e293b; width: 100% !important; -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; }
    .wrapper { width: 100%; background-color: #f1f5f9; padding: 20px 0; }
    .container { width: 95%; max-width: 600px; margin: 0 auto; background-color: #ffffff; border-radius: 20px; border: 1px solid #e2e8f0; overflow: hidden; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05); }
    .header { padding: 30px 20px; background-color: #0f172a; text-align: center; color: #ffffff; }
    .content { padding: 30px 20px; }
    .footer { padding: 25px; text-align: center; font-size: 10px; color: #94a3b8; border-top: 1px solid #f1f5f9; background-color: #fafafa; }
    .button { display: inline-block; background-color: #4f46e5; color: #ffffff !important; padding: 16px 32px; border-radius: 12px; text-decoration: none; font-weight: bold; font-size: 14px; margin-top: 20px; text-align: center; }
    @media only screen and (max-width: 480px) {
      .content { padding: 20px 15px; }
      .button { width: 100%; box-sizing: border-box; }
    }
  </style>
</head>
<body>
  <div class="wrapper">
    <div class="container">
      <div class="header">
        <div style="font-size: 10px; font-weight: 800; text-transform: uppercase; letter-spacing: 2px; color: #6366f1; margin-bottom: 5px;">Digital Document Dispatch</div>
        <div style="font-size: 20px; font-weight: 900; text-transform: uppercase;">${r}</div>
      </div>
      <div class="content">
        <h2 style="margin: 0 0 16px 0; color: #0f172a; font-size: 18px; font-weight: 800; letter-spacing: -0.5px;">${t}</h2>
        ${e}
      </div>
      <div class="footer">
        <strong>${r}</strong><br>
        Zambia Operations  Registry Dispatch Hub<br>
        &copy; ${new Date().getFullYear()} All rights reserved.
      </div>
    </div>
  </div>
</body>
</html>
`},bK=(e,t,n)=>{const r=`
    <p style="font-size: 14px; line-height: 1.6;">Dear ${t.CompanyName},</p>
    <p style="font-size: 14px; line-height: 1.6;">A new service invoice <strong>#${e.InvoiceID}</strong> has been issued for your fleet management account. Please review the itemized breakdown below.</p>

    ${yK(e)}

    <div style="background-color: #fef2f2; border: 1px solid #fee2e2; border-radius: 12px; padding: 20px; margin-top: 20px; text-align: center;">
       <div style="font-size: 9px; color: #991b1b; font-weight: 800; text-transform: uppercase; margin-bottom: 5px;">Settlement Due By</div>
       <div style="font-size: 18px; color: #991b1b; font-weight: 900;">${De(e.DueDate)}</div>
       <div style="font-size: 10px; color: #ef4444; font-weight: 700; margin-top: 5px;">Cycle Coverage: ${e.PeriodMonths||1} Month(s)</div>
    </div>

    <div style="text-align: center;">
      <a href="${(n==null?void 0:n.PortalUrl)||"#"}" class="button">View & Pay Online</a>
    </div>
  `;return Bb(r,"New Invoice Notification",n)},wK=(e,t,n)=>jK(e,t,n),jK=(e,t,n)=>{const r=`
    <p style="font-size: 14px; line-height: 1.6;">Dear ${t.CompanyName},</p>
    <p style="font-size: 14px; line-height: 1.6;">We have successfully processed your payment. Your service period has been updated as follows:</p>

    <div style="background-color: #f8fafc; border-radius: 16px; padding: 20px; margin: 20px 0; border: 1px solid #e2e8f0;">
      <table width="100%">
        <tr>
          <td style="font-size: 10px; color: #94a3b8; text-transform: uppercase; font-weight: bold;">Amount Paid</td>
          <td align="right" style="font-size: 16px; color: #10b981; font-weight: 800;">K ${Ee(e.AmountPaid)}</td>
        </tr>
        <tr>
          <td style="padding-top: 10px; font-size: 10px; color: #94a3b8; font-weight: bold; text-transform: uppercase;">Duration Covered</td>
          <td align="right" style="padding-top: 10px; font-size: 12px; color: #0f172a; font-weight: 800;">${e.PeriodMonths||1} Month(s)</td>
        </tr>
      </table>
    </div>

    <div style="background-color: #eff6ff; border: 1px solid #dbeafe; border-radius: 12px; padding: 20px; text-align: center;">
       <div style="font-size: 9px; color: #1e40af; font-weight: 800; text-transform: uppercase; margin-bottom: 5px;">Next Payment Schedule</div>
       <div style="font-size: 18px; color: #1e3a8a; font-weight: 900;">${De(e.DueDate)}</div>
    </div>

    <p style="font-size: 13px; line-height: 1.6; color: #64748b; margin-top: 25px;">Thank you for choosing our fleet solutions. A PDF version of this receipt is attached for your records.</p>
  `;return Bb(r,"Payment Receipt Confirmation",n)},NK=(e,t,n,r)=>{const a=`
    <p style="font-size: 14px; line-height: 1.6;">Dear ${t.CompanyName},</p>
    <p style="font-size: 14px; line-height: 1.6;">
      ${`Our records show that invoice <strong>#${e.InvoiceID}</strong> is now past its due date. Please settle the balance immediately to avoid service restrictions.`}
    </p>
    
    <div style="background-color: #fef2f2; border: 1px solid #fee2e2; padding: 20px; border-radius: 12px; margin: 20px 0; text-align: center;">
       <div style="font-size: 9px; color: #991b1b; font-weight: 800; text-transform: uppercase;">Outstanding Amount</div>
       <div style="font-size: 22px; color: #991b1b; font-weight: 900;">K ${Ee(e.BalanceDue)}</div>
       <div style="font-size: 10px; font-weight: bold; margin-top: 5px;">Due Date: ${De(e.DueDate)}</div>
    </div>

    <p style="font-size: 13px; color: #64748b; text-align: center;">If you have already made this payment, please disregard this notice.</p>
  `;return Bb(a,"Overdue Payment Notice",r)},SK=(e,t,n,r)=>async(a,o)=>{var c,u;try{n(!0);const f=!e.invoices.some(v=>fe(v.InvoiceID)===fe(a.InvoiceID)),d=e.clients.find(v=>fe(v.ClientID)===fe(a.ClientID)),m=[Xr(e.agents,d==null?void 0:d.AssignedAgentID),Yr].filter(Boolean).join(",");let g={recipientEmail:d==null?void 0:d.Email,senderName:((c=e.systemSettings)==null?void 0:c.CompanyName)||Ua,senderEmail:((u=e.systemSettings)==null?void 0:u.Email)||mr,emailCc:m};o&&(d!=null&&d.Email)&&(g.sendEmail=!0,g.pdfAttachmentHtml=Ry(a,d,e.systemSettings),g.pdfFileName=`Invoice_${a.InvoiceID}.pdf`,g.emailSubject=`Invoice: ${a.InvoiceID}`,g.emailHtml=bK(a,d,e.systemSettings)),await rt(r,"Invoices",f?"create":"update",{...a,Email:d==null?void 0:d.Email},"InvoiceID",g),await t(!1,!0)}catch(f){console.error("Invoice Sync Error:",f)}finally{n(!1)}},kK=(e,t,n,r)=>async(a,o)=>{var c,u,f;try{n(!0);const d=e.clients.find(y=>fe(y.ClientID)===fe(a.ClientID)),h=Xr(e.agents,a.AgentID||(d==null?void 0:d.AssignedAgentID));if(!a.Reference||a.Reference.trim()===""){const y=Date.now().toString().slice(-6);a.Reference=`AUTO-REF-${a.PaymentID.split("-")[1]||y}`}const m=Number(a.MonthsCovered)||1,g=new Date(a.Date),v=!isNaN(g.getTime());let j=a.NextDueDate;if(!j&&v){const y=new Date(g);y.setMonth(y.getMonth()+m),j=y.toISOString().split("T")[0]}let w=e.invoices.find(y=>fe(y.InvoiceID)===fe(a.InvoiceID));if(w){const y=Number(w.AmountPaid)+Number(a.Amount),S=Math.max(0,Number(w.TotalAmount)-y);w={...w,AmountPaid:y,BalanceDue:S,Status:S<=0?wt.Paid:wt.Partial,DueDate:j||w.DueDate},await rt(r,"Invoices","update",w,"InvoiceID")}else{const y=a.NoOfUnits||1,S=e.contracts.find(C=>fe(C.ClientID)===fe(a.ClientID)&&C.ContractStatus==="Active"),P=`Fleet Management Service (${y} Units) for ${m} Month(s) - ${a.ClientName}`,k={InvoiceID:`INV-AUTO-${a.PaymentID}`,InvoiceDate:a.Date,DueDate:j||a.Date,ClientID:a.ClientID,ClientName:a.ClientName,ContractID:a.ContractID||"ADHOC",ServiceType:(S==null?void 0:S.ServiceType)||"Unified Managed Fleet",Description:a.Remarks||P,PeriodMonths:m,UnitPrice:a.Amount/(m*y),NoOfUnits:y,TotalAmount:Number(a.Amount),AmountPaid:Number(a.Amount),BalanceDue:0,Status:wt.Paid,DocType:st.Invoice};await rt(r,"Invoices","create",k,"InvoiceID"),w=k,a.InvoiceID=k.InvoiceID}let b={recipientEmail:d==null?void 0:d.Email,emailCc:`${h},${Yr},${((c=e.systemSettings)==null?void 0:c.Email)||mr}`};o&&(d!=null&&d.Email)&&w&&(b.sendEmail=!0,b.senderName=((u=e.systemSettings)==null?void 0:u.CompanyName)||Ua,b.senderEmail=((f=e.systemSettings)==null?void 0:f.Email)||mr,b.emailSubject=`Official Receipt: ${a.Reference||a.PaymentID}`,b.emailHtml=wK(w,d,e.systemSettings),b.pdfAttachmentHtml=Ry(w,d,e.systemSettings),b.pdfFileName=`Receipt_${a.PaymentID}.pdf`),await rt(r,"Notifications","create",{ID:`PAY-LOG-${a.PaymentID}`,Time:new Date().toISOString(),Type:"PAYMENT_RECEIVED",Priority:ia.Normal,ClientID:a.ClientID,ClientName:a.ClientName,Message:`Payment Processed: K${a.Amount.toLocaleString()} from ${a.ClientName}. Next billing cycle due: ${j}.`,Status:"Unread",AssignedTo:"ADMIN",Sent:!0},"ID"),await rt(r,"Payments","create",{...a,NextDueDate:j,Email:(d==null?void 0:d.Email)||""},"PaymentID",b),await t(!1,!0)}catch(d){console.error("Payment Sync Error:",d)}finally{n(!1)}},CK=(e,t,n)=>{const r=(n==null?void 0:n.CompanyName)||"Sally Chanza Business Caf",a=(n==null?void 0:n.PortalUrl)||"https://sallychanza.com/portal";return`
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <style>
        body { margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background-color: #fef2f2; color: #334155; }
        .wrapper { width: 100%; table-layout: fixed; background-color: #fef2f2; padding: 20px 0; }
        .container { width: 95%; max-width: 600px; margin: 0 auto; background-color: #ffffff; border-radius: 12px; border: 1px solid #fee2e2; overflow: hidden; }
        .header { padding: 30px; background-color: #ffffff; text-align: center; border-bottom: 1px solid #f1f5f9; }
        .content { padding: 30px; }
        .footer { padding: 25px; text-align: center; font-size: 11px; color: #94a3b8; border-top: 1px solid #f1f5f9; background-color: #fafafa; }
        .button { display: inline-block; background-color: #0f172a; color: #ffffff !important; padding: 16px 30px; border-radius: 8px; text-decoration: none; font-weight: bold; font-size: 14px; margin-top: 10px; }
        .details-box { background-color: #f8fafc; border-radius: 10px; padding: 20px; margin: 20px 0; border: 1px solid #e2e8f0; }
        @media only screen and (max-width: 600px) {
           .button { width: 100%; text-align: center; padding: 16px 0; }
        }
      </style>
    </head>
    <body>
      <div class="wrapper">
        <div class="container">
          <div class="header">
             <h2 style="margin: 0; color: #ef4444; font-size: 22px;">Your Contract Has Expired</h2>
          </div>
          <div class="content">
            <p style="font-size: 15px; line-height: 1.6;">Dear ${t.CompanyName},</p>
            <p style="font-size: 15px; line-height: 1.6; color: #64748b;">This is a notice that your service contract has expired. To keep your assets protected and your service active, please renew your contract as soon as possible.</p>

            <div class="details-box">
              <p style="margin: 0; font-size: 13px; color: #64748b;"><strong>Contract:</strong> ${e.ContractID}</p>
              <p style="margin: 5px 0 0 0; font-size: 13px; color: #ef4444;"><strong>Expired On:</strong> ${De(e.ExpiryDate)}</p>
            </div>

            <p style="font-size: 14px; line-height: 1.6;">You can renew your contract by logging into your portal or by contacting your account manager.</p>
            
            <div style="text-align: center;">
              <a href="${a}" class="button">Renew Now</a>
            </div>
          </div>
          <div class="footer">
            ${r}<br>
            Official Expiration Notice<br>
            Contact: info@sallychanza.com
          </div>
        </div>
      </div>
    </body>
    </html>
  `},AK=(e,t,n)=>async()=>{const r=new Date,a=e.systemSettings;for(const o of e.invoices){if(o.DocType!==st.Invoice||o.Status===wt.Paid)continue;const c=new Date(o.DueDate);if(isNaN(c.getTime()))continue;const u=Math.ceil((c.getTime()-r.getTime())/(1e3*60*60*24)),f=e.clients.find(h=>fe(h.ClientID)===fe(o.ClientID)),d=Xr(e.agents,f==null?void 0:f.AssignedAgentID);if(u<0){const h=`OVERDUE-${o.InvoiceID}`;if(!e.notifications.some(m=>m.ID===h)){const m=[d,Yr].filter(Boolean).join(","),g={sendEmail:!0,recipientEmail:f==null?void 0:f.Email,emailCc:m,emailSubject:`URGENT: Invoice #${o.InvoiceID} is OVERDUE`,emailHtml:NK(o,f,!0,a)};await rt(n,"Notifications","create",{ID:h,Time:r.toISOString(),Type:"OVERDUE_ALERT",Priority:ia.Critical,ClientID:o.ClientID,ClientName:o.ClientName,Message:`URGENT: Invoice #${o.InvoiceID} is OVERDUE.`,DueDate:o.DueDate,Status:"Unread",AssignedTo:"GLOBAL",Sent:!0},"ID",g)}}}for(const o of e.contracts){if(o.ContractStatus!==pn.Active)continue;const c=new Date(o.ExpiryDate);if(isNaN(c.getTime()))continue;const u=Math.ceil((c.getTime()-r.getTime())/(1e3*60*60*24)),f=e.clients.find(d=>fe(d.ClientID)===fe(o.ClientID));if(u<=0){const d=`EXP-MAIL-${o.ContractID}-${o.ExpiryDate}`;let h={};f!=null&&f.Email&&!e.notifications.some(m=>m.ID===d)&&(h={sendEmail:!0,recipientEmail:f.Email,emailCc:[Yr].filter(Boolean).join(","),emailSubject:`Service Agreement Expired: ${o.ContractID}`,emailHtml:CK(o,f,a)}),await rt(n,"Contracts","update",{...o,ContractStatus:pn.Expired},"ContractID",h),h.sendEmail&&await rt(n,"Notifications","create",{ID:d,Time:r.toISOString(),Type:"CONTRACT_EXPIRED",Priority:ia.High,ClientID:o.ClientID,ClientName:o.ClientName,Message:`Expiration notice sent to ${o.ClientName}.`,DueDate:o.ExpiryDate,Status:"Read",AssignedTo:"SYSTEM",Sent:!0},"ID")}}},PK=(e,t,n)=>{const r=localStorage.getItem("omni_script_url")||Mn,a=mK(e,t,n,r),o=vK(e,t,n,r),c=SK(e,t,n,r),u=kK(e,t,n,r),f=AK(e,t,r);return{handleSaveClient:a,handleSaveContract:o,handleSaveInvoice:c,handleSavePayment:u,handleAutomationWorkflows:f}},Fb=(e,t)=>{const n=(t==null?void 0:t.CompanyName)||"Sally Chanza Business Caf",r=(t==null?void 0:t.Email)||"support@sallychanza.com";return`
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { margin: 0; padding: 0; font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; background-color: #f4f7f9; color: #374151; -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; }
    table { border-collapse: collapse !important; }
    .wrapper { width: 100% !important; max-width: 100%; background-color: #f4f7f9; padding: 20px 0; }
    .container { width: 100%; max-width: 600px; margin: 0 auto; background-color: #ffffff; border: 1px solid #e5e7eb; border-radius: 8px; overflow: hidden; }
    .header { padding: 25px; background-color: #0f172a; text-align: center; }
    .header-text { color: #ffffff; font-size: 16px; font-weight: 800; text-transform: uppercase; letter-spacing: 2px; margin: 0; }
    .content { padding: 30px; line-height: 1.6; }
    .footer { padding: 20px; text-align: center; font-size: 11px; color: #9ca3af; border-top: 1px solid #f3f4f6; }
    .important-notice { background-color: #f9fafb; border-left: 4px solid #6366f1; padding: 15px; margin: 20px 0; border-radius: 4px; }
    .important-title { font-weight: 800; font-size: 11px; color: #4338ca; text-transform: uppercase; margin-bottom: 5px; display: block; }
    .data-box { background-color: #f3f4f6; border-radius: 6px; padding: 15px; margin: 15px 0; }
    .data-row { font-size: 13px; margin-bottom: 4px; }
    .data-label { font-weight: 700; color: #4b5563; }
    h2 { font-size: 18px; color: #111827; margin: 0 0 15px 0; font-weight: 800; }
    p { margin-bottom: 15px; font-size: 14px; }
    @media only screen and (max-width: 600px) {
      .content { padding: 20px; }
      .container { width: 95% !important; }
    }
  </style>
</head>
<body>
  <div class="wrapper">
    <div class="container">
      <div class="header">
        <p class="header-text">Support Division</p>
      </div>
      <div class="content">
        ${e}
        <div class="important-notice">
          <span class="important-title">Important Notice</span>
          <p style="margin: 0; font-size: 12px;">This is an official communication regarding your technical service account. Please preserve the Ticket ID for all future inquiries related to this specific request.</p>
        </div>
      </div>
      <div class="footer">
        ${n} &bull; Lusaka, Zambia<br>
        Direct Support Line: ${r}<br>
        &copy; ${new Date().getFullYear()} Automated System Dispatch.
      </div>
    </div>
  </div>
</body>
</html>
`},EK=(e,t,n)=>{const r=`
    <h2>Support Request Recorded</h2>
    <p>Dear ${t.CompanyName},</p>
    <p>This email confirms that your support request has been successfully recorded in our system. Our technical team has been notified and will review your submission shortly.</p>
    <div class="data-box">
      <div class="data-row"><span class="data-label">Ticket ID:</span> #${e.TicketID}</div>
      <div class="data-row"><span class="data-label">Subject:</span> ${e.Subject}</div>
      <div class="data-row"><span class="data-label">Status:</span> Open / Queued</div>
    </div>
    <p>You may monitor the progress of this request through your client portal.</p>
  `;return Fb(r,n)},DK=(e,t,n)=>{const r=`
    <h2>Update: Support Ticket #${e.TicketID}</h2>
    <p>Dear ${t.CompanyName},</p>
    <p>The status of your support request has been updated by our technical department. Please review the details below:</p>
    <div class="data-box">
      <div class="data-row"><span class="data-label">Current Status:</span> ${e.Status}</div>
      <div class="data-row"><span class="data-label">Recent Activity:</span> ${e.Resolution||"Technical investigation in progress."}</div>
    </div>
    <p>Further updates will be dispatched as more information becomes available.</p>
  `;return Fb(r,n)},OK=(e,t,n)=>{const r=(n==null?void 0:n.Email)||"support@sallychanza.com",a=`
    <h2>Resolution: Support Ticket #${e.TicketID}</h2>
    <p>Dear ${t.CompanyName},</p>
    <p>Our technical team has marked your support request as resolved. We trust the solution provided meets your requirements.</p>
    <div class="data-box">
      <div class="data-row" style="color: #059669; font-weight: 700;">Final Status: Case Resolved</div>
      <div class="data-row" style="margin-top: 10px;"><span class="data-label">Outcome Details:</span></div>
      <p style="font-size: 13px; color: #4b5563; margin-top: 5px;">${e.Resolution||"The requested action has been completed."}</p>
    </div>
    <p>If you require additional assistance with this specific issue, please do not hesitate to contact us at ${r}.</p>
  `;return Fb(a,n)},BP=e=>String(e||"").trim().toLowerCase().replace(/\s+/g,""),IK=(e,t,n,r)=>{const a=(r==null?void 0:r.CompanyName)||"Sally Chanza Business Caf",o=(r==null?void 0:r.Email)||"support@sallychanza.com",c=n.length>0?n.map(u=>`
      <div style="background: #ffffff; padding: 12px; border-radius: 8px; margin-bottom: 8px; border: 1px solid #f1f5f9;">
        <span style="font-weight: 800; color: #0f172a; font-size: 14px; text-transform: uppercase;">${u.NumberPlate}</span><br>
        <span style="font-size: 11px; color: #64748b; font-weight: 500;">${u.Make} ${u.Model}</span>
      </div>
    `).join(""):'<p style="font-size: 12px; color: #94a3b8; font-style: italic;">Note: General System Maintenance</p>';return`
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <style>
        body { margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background-color: #f8fafc; color: #1e293b; -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; }
        table { border-collapse: collapse !important; table-layout: fixed; width: 100%; }
        .wrapper { width: 100%; background-color: #f8fafc; padding: 20px 0; }
        .container { width: 95%; max-width: 600px; margin: 0 auto; background: #ffffff; border-radius: 12px; overflow: hidden; border: 1px solid #e2e8f0; }
        .header { background: #0f172a; padding: 30px; text-align: center; color: #ffffff; }
        .content { padding: 30px; line-height: 1.5; word-wrap: break-word; }
        .footer { padding: 20px; background: #f8fafc; border-top: 1px solid #e2e8f0; text-align: center; font-size: 11px; color: #94a3b8; }
        .details { background: #f8fafc; border-radius: 10px; padding: 20px; margin: 20px 0; border: 1px solid #f1f5f9; }
        h1 { margin: 0; font-size: 20px; font-weight: 800; text-transform: uppercase; letter-spacing: 0.05em; }
        h2 { font-size: 16px; color: #0f172a; margin-top: 0; font-weight: 700; }
        .section-label { font-size: 10px; font-weight: 800; color: #94a3b8; text-transform: uppercase; letter-spacing: 0.1em; margin-bottom: 8px; display: block; }
        @media only screen and (max-width: 600px) {
          .content { padding: 20px !important; }
          .container { width: 95% !important; }
        }
      </style>
    </head>
    <body>
      <div class="wrapper">
        <div class="container">
          <div class="header">
            <h1>Service Accomplished</h1>
            <p style="opacity: 0.7; font-size: 12px; margin-top: 5px; font-weight: 600;">Official Maintenance Record</p>
          </div>
          <div class="content">
            <h2>Dear ${t.CompanyName},</h2>
            <p>This is to confirm that maintenance on your tracking hardware has been finished. Our technicians have verified that the following assets are fully operational.</p>
            
            <div class="details">
              <span class="section-label">Work Done</span>
              <p style="font-size: 14px; font-weight: 600; color: #334155; margin: 0;">${e.Description}</p>
              <p style="font-size: 11px; color: #64748b; margin-top: 4px;">Completed: ${De(e.Date)}</p>
            </div>

            <span class="section-label">Assets Serviced</span>
            <div style="width: 100%;">${c}</div>

            <p style="margin-top: 25px; font-size: 13px; color: #64748b;">No further action is required from you. Your fleet monitoring continues as usual.</p>
          </div>
          <div class="footer">
            ${a} &bull; Lusaka, Zambia<br>
            Support: ${o}<br>
            &copy; ${new Date().getFullYear()} Official Communication
          </div>
        </div>
      </div>
    </body>
    </html>
  `},TK=(e,t,n,r)=>{const a=(r==null?void 0:r.CompanyName)||"Internal System";return`
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <style>
        body { margin: 0; padding: 0; font-family: sans-serif; background-color: #f8fafc; color: #1e293b; -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; }
        .wrapper { width: 100%; padding: 20px 0; }
        .container { width: 95%; max-width: 600px; margin: 0 auto; background: #ffffff; border-radius: 12px; border: 1px solid #e2e8f0; overflow: hidden; }
        .header { background: #1e1b4b; padding: 25px; text-align: center; color: #ffffff; }
        .content { padding: 30px; word-wrap: break-word; }
        .card { background: #f8fafc; padding: 20px; border-radius: 10px; margin: 20px 0; border: 1px solid #f1f5f9; }
        .badge { display: inline-block; padding: 4px 12px; background: #dcfce7; color: #166534; border-radius: 99px; font-weight: 800; font-size: 11px; text-transform: uppercase; }
        h1 { margin: 0; font-size: 18px; font-weight: 800; text-transform: uppercase; }
        @media only screen and (max-width: 600px) {
          .container { width: 95% !important; }
        }
      </style>
    </head>
    <body>
      <div class="wrapper">
        <div class="container">
          <div class="header">
            <h1>Connectivity Record</h1>
            <p style="opacity: 0.7; font-size: 11px; margin-top: 4px;">Internal Team Update</p>
          </div>
          <div class="content">
            <h2 style="font-size: 16px;">Renewal Logged</h2>
            <p style="font-size: 14px;">The following service has been renewed for <strong>${t.CompanyName}</strong>.</p>
            
            <div class="card">
              <span style="font-size: 10px; font-weight: 800; color: #94a3b8; text-transform: uppercase;">Asset Details</span>
              <p style="font-size: 15px; font-weight: 800; margin: 5px 0;">${n.NumberPlate}</p>
              <p style="font-size: 12px; color: #64748b; margin: 0;">${n.Make} ${n.Model} (${n.NetworkProvider})</p>
              
              <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #e2e8f0;">
                <span style="font-size: 10px; font-weight: 800; color: #94a3b8; text-transform: uppercase;">Next Service Expiry</span><br>
                <div class="badge" style="margin-top: 5px;">${De(e.ExpiryDate)}</div>
              </div>
            </div>

            <p style="font-size: 13px; color: #64748b; font-style: italic;">Sync successful with database.</p>
          </div>
          <div style="padding: 15px; text-align: center; border-top: 1px solid #f1f5f9; font-size: 10px; color: #94a3b8;">
            ${a} Automated Notice
          </div>
        </div>
      </div>
    </body>
    </html>
  `},_K=(e,t,n,r)=>{const a=(r==null?void 0:r.CompanyName)||"Internal System",o=n.map(c=>{const u=e.find(f=>BP(f.VehicleID)===BP(c.VehicleID));return`
      <div style="background: #ffffff; padding: 12px; border-radius: 8px; margin-bottom: 8px; border: 1px solid #f1f5f9; display: flex; justify-content: space-between; align-items: center;">
        <div style="flex: 1; min-width: 0;">
          <span style="font-weight: 800; color: #0f172a; font-size: 13px; font-family: monospace; word-break: break-all;">${c.NumberPlate}</span><br>
          <span style="font-size: 10px; color: #94a3b8; text-transform: uppercase;">${c.Make} ${c.Model}</span>
        </div>
        <div style="text-align: right; min-width: 80px; margin-left: 10px;">
          <span style="font-size: 11px; color: #10b981; font-weight: 800;">${De(u==null?void 0:u.ExpiryDate)}</span>
        </div>
      </div>
    `}).join("");return`
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <style>
        body { margin: 0; padding: 0; font-family: sans-serif; background-color: #f1f5f9; color: #1e293b; -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; }
        .wrapper { width: 100%; padding: 20px 0; }
        .container { width: 95%; max-width: 600px; margin: 0 auto; background: #ffffff; border-radius: 15px; border: 1px solid #e2e8f0; overflow: hidden; }
        .header { background: #0f172a; padding: 35px; text-align: center; color: #ffffff; }
        .content { padding: 30px; word-wrap: break-word; }
        .list-box { background: #f8fafc; padding: 15px; border-radius: 12px; margin: 20px 0; border: 1px solid #f1f5f9; }
        @media only screen and (max-width: 600px) {
          .container { width: 95% !important; }
        }
      </style>
    </head>
    <body>
      <div class="wrapper">
        <div class="container">
          <div class="header">
            <h1 style="margin:0; font-size: 18px; text-transform: uppercase; letter-spacing: 1px;">Fleet Service Notice</h1>
            <p style="opacity: 0.6; font-size: 11px; margin-top: 5px;">Internal Record</p>
          </div>
          <div class="content">
            <h2 style="font-size: 16px; margin-top: 0;">Service Update Report</h2>
            <p style="font-size: 14px;">Connectivity has been renewed for <strong>${t.CompanyName}</strong>.</p>
            
            <div class="list-box">
              <span style="font-size: 10px; font-weight: 800; color: #94a3b8; text-transform: uppercase; letter-spacing: 0.1em; display: block; margin-bottom: 12px;">Renewed Assets (${n.length})</span>
              <div style="width: 100%;">${o}</div>
            </div>

            <p style="font-size: 13px; color: #64748b; line-height: 1.5;">This batch is now active. No further internal actions required.</p>
          </div>
          <div style="padding: 15px; text-align: center; border-top: 1px solid #f1f5f9; font-size: 10px; color: #94a3b8;">
            ${a} &bull; Internal Dispatch
          </div>
        </div>
      </div>
    </body>
    </html>
  `},MK=(e,t,n)=>{const r=localStorage.getItem("omni_script_url")||Mn;return{handleSaveTicket:async f=>{const d=e.systemSettings,h=new Date().toISOString();try{n(!0);const m=e.tickets.find(y=>fe(y.TicketID)===fe(f.TicketID)),g=!m,v=e.clients.find(y=>fe(y.ClientID)===fe(f.ClientID)),j={...f,Email:(v==null?void 0:v.Email)||f.Email,UpdatedAt:h,CreatedAt:g?h:m.CreatedAt||h};let w={senderName:(d==null?void 0:d.CompanyName)||Ua,senderEmail:(d==null?void 0:d.Email)||mr,replyTo:(d==null?void 0:d.Email)||mr};const b=String((v==null?void 0:v.Email)||f.Email||"").trim();if(b.includes("@")){w.recipientEmail=b;const y=Xr(e.agents,f.AssignedAgentID||(v==null?void 0:v.AssignedAgentID));w.emailCc=`${(d==null?void 0:d.Email)||mr},${Yr},${y}`,g?(d==null?void 0:d.EmailTicketNewEnabled)!==!1&&(w.sendEmail=!0,w.emailSubject=`Support Acknowledgment: Ticket #${f.TicketID}`,w.emailHtml=EK(j,v,d)):f.Status===Xn.Resolved&&m.Status!==Xn.Resolved?(d==null?void 0:d.EmailTicketResolvedEnabled)!==!1&&(w.sendEmail=!0,w.emailSubject=`Resolution Confirmation: Ticket #${f.TicketID}`,w.emailHtml=OK(j,v,d)):(d==null?void 0:d.EmailTicketUpdateEnabled)!==!1&&(w.sendEmail=!0,w.emailSubject=`Ticket Activity Update: #${f.TicketID}`,w.emailHtml=DK(j,v,d))}await rt(r,"Tickets",g?"create":"update",j,"TicketID",w),await t(!1,!0)}catch(m){console.error("Save Ticket Dispatch Error:",m)}finally{n(!1)}},handleSaveMaintenance:async(f,d=!1)=>{const h=e.systemSettings;try{n(!0);const m=!e.maintenance.find(w=>fe(w.ID)===fe(f.ID)),g=e.clients.find(w=>fe(w.ClientID)===fe(f.ClientID));let v={};const j={...f,AssetIDs:f.AssetIDs.join(", "),Email:(g==null?void 0:g.Email)||f.Email};if(d&&f.Status===Rn.Completed&&g){const w=Xr(e.agents,g.AssignedAgentID),b=e.vehicles.filter(y=>f.AssetIDs.some(S=>fe(S)===fe(y.VehicleID)));v.sendEmail=!0,v.recipientEmail=g.Email,v.senderName=(h==null?void 0:h.CompanyName)||Ua,v.senderEmail=(h==null?void 0:h.Email)||mr,v.emailCc=`${w},${Yr}`,v.emailSubject=`Maintenance Completed: Assets for ${g.CompanyName}`,v.emailHtml=IK(f,g,b,h)}await rt(r,"Maintenance",m?"create":"update",j,"ID",v),await t(!1,!0)}catch(m){console.error("Save Maintenance Error:",m)}finally{n(!1)}},handleSimTopUpAction:async(f,d=!1)=>{var m;const h=e.systemSettings;try{n(!0);const g=e.vehicles.find(b=>fe(b.VehicleID)===fe(f.VehicleID))||e.vehicles.find(b=>fe(b.NumberPlate)===fe(f.Plate));if(!g)return;const v=e.clients.find(b=>fe(b.ClientID)===fe(g.ClientID)),j=Xr(e.agents,(v==null?void 0:v.AssignedAgentID)||((m=e.currentUser)==null?void 0:m.id));let w={};d&&v&&v.Email&&(w.sendEmail=!0,w.recipientEmail=v.Email,w.emailCc=`${j},${Yr}`,w.senderName=(h==null?void 0:h.CompanyName)||Ua,w.emailSubject=`Connectivity Renewed: ${g.NumberPlate}`,w.emailHtml=TK(f,v,g,h)),await rt(r,"SimTopups","create",{...f,Email:(v==null?void 0:v.Email)||""},"ID",w),await t(!1,!0)}catch(g){console.error("SIM Maintenance Error:",g)}finally{n(!1)}},handleBulkSimTopUpAction:async(f,d=!1)=>{var m;const h=e.systemSettings;if(f.length!==0)try{n(!0);const g=f[0],v=e.vehicles.find(y=>fe(y.VehicleID)===fe(g.VehicleID))||e.vehicles.find(y=>fe(y.NumberPlate)===fe(g.Plate)),j=v?e.clients.find(y=>fe(y.ClientID)===fe(v.ClientID)):null,w=Xr(e.agents,(j==null?void 0:j.AssignedAgentID)||((m=e.currentUser)==null?void 0:m.id)),b=e.vehicles.filter(y=>f.some(S=>fe(S.VehicleID)===fe(y.VehicleID)||fe(S.Plate)===fe(y.NumberPlate)));for(let y=0;y<f.length;y++){const S=f[y];let P={};y===f.length-1&&d&&j&&j.Email&&(P.sendEmail=!0,P.recipientEmail=j.Email,P.emailCc=`${w},${Yr}`,P.senderName=(h==null?void 0:h.CompanyName)||Ua,P.emailSubject=`Fleet Connectivity Service Notice: ${j.CompanyName}`,P.emailHtml=_K(f,j,b,h));const k=e.vehicles.find(E=>fe(E.VehicleID)===fe(S.VehicleID))||e.vehicles.find(E=>fe(E.NumberPlate)===fe(S.Plate)),C=k?e.clients.find(E=>fe(E.ClientID)===fe(k.ClientID)):null;await rt(r,"SimTopups","create",{...S,Email:(C==null?void 0:C.Email)||""},"ID",P)}await t(!1,!0)}catch(g){console.error("Bulk SIM Maintenance Error:",g)}finally{n(!1)}}}},RK=(e,t,n)=>{const r=localStorage.getItem("omni_script_url")||Mn;return{handleApplyForPartnership:async(u,f,d)=>{try{n(!0);const h={ID:`PARTNER-APP-${u}`,Time:new Date().toISOString(),Type:"PARTNERSHIP_APPLICATION",Priority:ia.Critical,ClientID:"SYSTEM",ClientName:f,ContractID:"",Message:`SHAREHOLDER CANDIDACY: ${f} has applied for Partnership status. Pitch: ${d.substring(0,50)}...`,DueDate:new Date(new Date().getTime()+2880*60*1e3).toISOString(),Status:"Unread",AssignedTo:"ADMIN",Sent:!0,Notes:d};await rt(r,"Notifications","create",h,"ID"),await t(!1,!0)}catch(h){console.error("Partnership Application Error:",h)}finally{n(!1)}},handleClaimPayout:async(u,f,d,h)=>{try{n(!0);const m=new Date().getMonth()+1,g=new Date().getFullYear(),v={ID:`CLAIM-${u}-${m}-${g}`,Time:new Date().toISOString(),Type:"PAYOUT_REQUEST",Priority:ia.High,ClientID:"SYSTEM",ClientName:f,ContractID:"",Message:`PAYOUT REQUEST: K${d.toFixed(2)} to MoMo ${h} (Agt: ${f})`,DueDate:new Date(new Date().getTime()+1440*60*1e3).toISOString(),Status:"Unread",AssignedTo:"ADMIN",Sent:!0};await rt(r,"Notifications","create",v,"ID"),await t(!1,!0)}catch(m){console.error("Payout Request Error:",m)}finally{n(!1)}},handleSaveAgent:async(u,f)=>{var d;try{if(n(!0),!u.AgentID)throw new Error("Unique AgentID is missing.");const h=fe(u.AgentID),m=e.agents.find(j=>fe(j.AgentID)===h),g=!m;let v={};if(f&&u.Email&&(v.sendEmail=!0,v.recipientEmail=u.Email,v.emailSubject=`Access Invitation: ${((d=e.systemSettings)==null?void 0:d.CompanyName)||"Sally Chanza Terminal"}`,v.emailHtml=hK(u,e.systemSettings)),await rt(r,"Agents",g?"create":"update",u,"AgentID",v),u.Email){const j=u.Email.trim().toLowerCase(),w={Email:u.Email.trim(),Password:u.Password||(m==null?void 0:m.Password)||"Sally123",AgentID:u.AgentID,Role:u.Role.toLowerCase(),Status:u.Status,LoginAttempts:0,LastLogin:new Date().toISOString()},b=e.loginRecords.find(y=>y.Email.trim().toLowerCase()===j);await rt(r,"Logins",b?"update":"create",w,"Email")}await t(!1,!0)}catch(h){throw console.error("Save Agent Sync Error:",h),h}finally{n(!1)}}}},$K=(e,t,n,r)=>{const a=localStorage.getItem("omni_script_url")||Mn,o=PK(e,n,r),c=MK(e,n,r);return{...RK(e,n,r),...c,...o,handleSaveVehicle:async w=>{try{r(!0),await rt(a,"Vehicles","update",w,"VehicleID"),await n(!1,!0)}catch(b){console.error("Save Vehicle Error:",b)}finally{r(!1)}},handleSaveReferral:async w=>{try{r(!0),await rt(a,"Referrals","create",w,"ID"),await n(!1,!0)}catch(b){console.error("Save Referral Error:",b)}finally{r(!1)}},handleSaveActivityLog:async w=>{try{r(!0),await rt(a,"ActivityLogs","create",w,"ID"),await n(!1,!0)}catch(b){console.error("Save Activity Log Error:",b)}finally{r(!1)}},handleSendMessage:async w=>{t(b=>({...b,messages:[...b.messages||[],w]}));try{await rt(a,"Messages","create",w,"ID"),setTimeout(()=>n(!1,!0),500)}catch(b){console.error("Send Message Sync Error:",b)}},handleTypingStatus:async w=>{var y,S;const b=(y=e.currentUser)==null?void 0:y.id;if(b)try{const P={ID:`PRESENCE-${b}`,SenderID:b,SenderName:((S=e.currentUser)==null?void 0:S.name)||"User",ReceiverID:"SYSTEM",Message:w||"ONLINE",Timestamp:new Date().toISOString(),Status:"Read"};fetch(a,{method:"POST",mode:"no-cors",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({sheet:"Messages",action:"update",idKey:"ID",id:P.ID,data:P})})}catch{}},handleReadMessages:async w=>{if(w.length!==0){t(b=>({...b,messages:b.messages.map(y=>w.includes(y.ID)?{...y,Status:"Read"}:y)}));try{for(const b of w){const y=e.messages.find(S=>S.ID===b);y&&await rt(a,"Messages","update",{...y,Status:"Read"},"ID")}}catch(b){console.error("Mark as read sync error:",b)}}},handleLogout:()=>t(w=>({...w,currentUser:null})),handleAutomationWorkflows:o.handleAutomationWorkflows}},yt=e=>String(e||"").trim().toLowerCase(),zK=()=>{const{appState:e,setAppState:t,loading:n,syncing:r,setSyncing:a,lastSync:o,loadData:c}=nK(),{authLoading:u,handleLogin:f,handleLogout:d,lockoutTime:h}=lK(e,t),{augmentedNotifications:m,handleDismissNotification:g,handleClearNotifications:v}=cK(e,c,a),j=$K(e,t,c,a);O.useEffect(()=>{c(!0).then(()=>{j.handleAutomationWorkflows()})},[c]);const[w,b]=O.useState(!1),[y,S]=O.useState("view"),[P,k]=O.useState(null),[C,E]=O.useState(!1),[D,I]=O.useState("view"),[$,B]=O.useState(null),[_,R]=O.useState(!1),[L,z]=O.useState("view"),[H,U]=O.useState(null),[Q,G]=O.useState(st.Invoice),[Y,M]=O.useState(!1),[X,ee]=O.useState("view"),[ne,pe]=O.useState(null),[we,je]=O.useState(!1),[$e,Oe]=O.useState("view"),[oe,Ce]=O.useState(null),[ke,ie]=O.useState(!1),[He,Re]=O.useState("view"),[Je,ue]=O.useState(null),[Ie,Ne]=O.useState(!1),[ze,qe]=O.useState("view"),[We,gt]=O.useState(null),Rt=O.useMemo(()=>{const{currentUser:me,clients:Ge,contracts:Yt,vehicles:Wt,invoices:ga,payments:Gi,tickets:zr,agents:Lr,servicePlans:xo}=e;if(!me)return{clients:[],contracts:[],vehicles:[],invoices:[],payments:[],tickets:[],agents:[],servicePlans:[]};if(me.role==="Admin")return{clients:Ge,contracts:Yt,vehicles:Wt,invoices:ga,payments:Gi,tickets:zr,agents:Lr,servicePlans:xo};const ln=yt(me.id);if(me.role==="Client")return{clients:Ge.filter(_e=>yt(_e.ClientID)===ln),contracts:Yt.filter(_e=>yt(_e.ClientID)===ln),vehicles:Wt.filter(_e=>yt(_e.ClientID)===ln),invoices:ga.filter(_e=>yt(_e.ClientID)===ln),payments:Gi.filter(_e=>yt(_e.ClientID)===ln),tickets:zr.filter(_e=>yt(_e.ClientID)===ln),agents:[],servicePlans:xo};const Vf=Lr.filter(_e=>yt(_e.ParentAgentID)===ln).filter(_e=>_e.ExperienceLevel==="Trainee"||!_e.ExperienceLevel).map(_e=>yt(_e.AgentID)),vo=Ge.filter(_e=>yt(_e.AssignedAgentID)===ln).map(_e=>yt(_e.ClientID)),yo=Ge.filter(_e=>Vf.includes(yt(_e.AssignedAgentID))).map(_e=>yt(_e.ClientID)),jr=[...new Set([...vo,...yo])];return{clients:Ge.filter(_e=>jr.includes(yt(_e.ClientID))),contracts:Yt.filter(_e=>jr.includes(yt(_e.ClientID))),vehicles:Wt.filter(_e=>jr.includes(yt(_e.ClientID))),invoices:ga.filter(_e=>jr.includes(yt(_e.ClientID))),payments:Gi.filter(_e=>yt(_e.AgentID)===ln||jr.includes(yt(_e.ClientID))),tickets:zr.filter(_e=>jr.includes(yt(_e.ClientID))||yt(_e.AssignedAgentID)===ln),agents:Lr.filter(_e=>yt(_e.AgentID)===ln||yt(_e.ParentAgentID)===ln),servicePlans:xo}},[e]);return{appState:e,setAppState:t,loading:n,authLoading:u,syncing:r,lastSync:o,augmentedNotifications:m,visibleData:Rt,lockoutTime:h,modals:{client:{isOpen:w,mode:y,selected:P,setOpen:b,setMode:S,setSelected:k},contract:{isOpen:C,mode:D,selected:$,setOpen:E,setMode:I,setSelected:B},invoice:{isOpen:_,mode:L,selected:H,type:Q,setOpen:R,setMode:z,setSelected:U,setType:G},vehicle:{isOpen:Y,mode:X,selected:ne,setOpen:M,setMode:ee,setSelected:pe},payment:{isOpen:we,mode:$e,selected:oe,setOpen:je,setMode:Oe,setSelected:Ce},agent:{isOpen:ke,mode:He,selected:Je,setOpen:ie,setMode:Re,setSelected:ue},maintenance:{isOpen:Ie,mode:ze,selected:We,setOpen:Ne,setMode:qe,setSelected:gt}},handlers:{loadData:c,handleLogin:f,handleLogout:d,handleDismissNotification:g,handleClearNotifications:v,...j}}},LK=({appState:e,setAppState:t,augmentedNotifications:n,syncing:r,visibleData:a,modals:o,handlers:c,lastSync:u})=>{var m,g,v,j,w;const f=lf(),d=Fi();if(O.useEffect(()=>{e.currentUser&&"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission()},[(m=e.currentUser)==null?void 0:m.id]),O.useEffect(()=>{var b;e.currentUser&&!((b=e.currentUser)!=null&&b.lastLogin)||e.currentUser&&(d.pathname==="/login"||d.pathname==="*"?f("/",{replace:!0}):f("/",{replace:!0}))},[(g=e.currentUser)==null?void 0:g.id]),!((v=e.currentUser)!=null&&v.lastLogin)){const y=String(((j=e.currentUser)==null?void 0:j.role)||"").toLowerCase()==="client",S=y?e.clients.find(P=>{var k;return String(P.ClientID)===String((k=e.currentUser)==null?void 0:k.id)}):e.agents.find(P=>{var k;return String(P.AgentID)===String((k=e.currentUser)==null?void 0:k.id)});return i.jsx(JV,{user:e.currentUser,profile:S||{},onComplete:async P=>{var k,C;y?await c.handleSaveClient({...S||{},ClientID:(k=e.currentUser)==null?void 0:k.id,TempPassword:P,PortalEnabled:!0},!1):await c.handleSaveAgent({...S||{},AgentID:(C=e.currentUser)==null?void 0:C.id,Password:P},!1)},onFinalize:c.handleLogout})}return i.jsxs(v_,{userRole:e.currentUser.role,userName:e.currentUser.name,notifications:n,permissions:e.currentUser.permissions,logo:(w=e.systemSettings)==null?void 0:w.Logo,onLogout:c.handleLogout,onClearNotifications:c.handleClearNotifications,onDismissNotification:c.handleDismissNotification,onRefresh:()=>c.loadData(!1),isSyncing:r,children:[i.jsx(b_,{isVisible:r}),i.jsx(ZV,{appState:e,visibleData:a,modals:o,handlers:c,lastSync:u,setSyncing:()=>{}}),i.jsx(K_,{appState:e,modals:{client:{isOpen:o.client.isOpen,mode:o.client.mode,selected:o.client.selected,close:()=>o.client.setOpen(!1)},contract:{isOpen:o.contract.isOpen,mode:o.contract.mode,selected:o.contract.selected,close:()=>o.contract.setOpen(!1)},invoice:{isOpen:o.invoice.isOpen,mode:o.invoice.mode,selected:o.invoice.selected,type:o.invoice.type,close:()=>o.invoice.setOpen(!1)},vehicle:{isOpen:o.vehicle.isOpen,mode:o.vehicle.mode,selected:o.vehicle.selected,close:()=>o.vehicle.setOpen(!1)},payment:{isOpen:o.payment.isOpen,mode:o.payment.mode,selected:o.payment.selected,close:()=>o.payment.setOpen(!1)},agent:{isOpen:o.agent.isOpen,mode:o.agent.mode,selected:o.agent.selected,close:()=>o.agent.setOpen(!1)},maintenance:{isOpen:o.maintenance.isOpen,mode:o.maintenance.mode,selected:o.maintenance.selected,close:()=>o.maintenance.setOpen(!1)}},handlers:{onSaveClient:c.handleSaveClient,onSaveContract:c.handleSaveContract,onSaveInvoice:c.handleSaveInvoice,onSaveVehicle:c.handleSaveVehicle,onSavePayment:c.handleSavePayment,onSaveAgent:c.handleSaveAgent,onSaveMaintenance:c.handleSaveMaintenance,onSaveActivityLog:c.handleSaveActivityLog}}),i.jsx(eK,{appState:e,onSendMessage:c.handleSendMessage,onMarkAsRead:c.handleReadMessages,onUpdateTyping:c.handleTypingStatus,onRefresh:c.loadData})]})},BK=()=>{var m;const{appState:e,setAppState:t,loading:n,authLoading:r,syncing:a,lastSync:o,augmentedNotifications:c,visibleData:u,modals:f,handlers:d,lockoutTime:h}=zK();return i.jsx(_4,{children:e.currentUser?i.jsx(LK,{appState:e,setAppState:t,augmentedNotifications:c,syncing:a,visibleData:u,modals:f,handlers:d,lastSync:o}):i.jsx(y_,{onLogin:d.handleLogin,isConnecting:n,isAuthenticating:r,logo:(m=e.systemSettings)==null?void 0:m.Logo,systemName:"Sally Chanza Caf",lockoutTime:h,isConnected:!n})})};let fl;const FK=()=>{const e=document.createElement("div");e.id="update-toast",e.style.cssText=`
    position: fixed;
    bottom: 140px;
    right: 24px;
    background: white;
    color: #0f172a;
    padding: 14px 20px;
    border-radius: 12px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.12);
    display: flex;
    align-items: center;
    gap: 16px;
    z-index: 9998;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    border-left: 4px solid #3b82f6;
    animation: slideIn 0.3s ease;
    max-width: 360px;
    backdrop-filter: blur(8px);
    border: 1px solid #e2e8f0;
  `;const t=document.createElement("span");t.textContent=" New version available",t.style.cssText=`
    font-size: 14px;
    font-weight: 500;
  `;const n=document.createElement("button");n.textContent="Update now",n.style.cssText=`
    background: #0f172a;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 20px;
    font-size: 13px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
    letter-spacing: 0.3px;
  `,n.onmouseover=()=>{n.style.background="#1e293b",n.style.transform="scale(1.02)"},n.onmouseout=()=>{n.style.background="#0f172a",n.style.transform="scale(1)"};const r=document.createElement("button");return r.innerHTML="",r.style.cssText=`
    background: none;
    border: none;
    color: #64748b;
    font-size: 18px;
    cursor: pointer;
    padding: 0 4px;
    transition: color 0.2s;
  `,r.onmouseover=()=>r.style.color="#0f172a",r.onmouseout=()=>r.style.color="#64748b",e.appendChild(t),e.appendChild(n),e.appendChild(r),{toast:e,updateBtn:n,closeBtn:r}};function UK(e="1.0.6"){const t=document.getElementById("pwa-version-badge");t&&t.remove();const r=new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"2-digit"}).replace(/ /g," "),a=document.createElement("div");a.id="pwa-version-badge",a.textContent=`v${e}  ${r}`,a.style.cssText=`
    position: fixed;
    bottom: 4px;
    right: 6px;
    background: rgba(15, 23, 42, 0.06);
    color: #94a3b8;
    font-size: 9px;
    padding: 3px 8px;
    border-radius: 12px;
    font-family: -apple-system, BlinkMacSystemFont, 'SF Mono', monospace;
    letter-spacing: 0.2px;
    backdrop-filter: blur(2px);
    z-index: 9999;
    pointer-events: none;
    opacity: 0.55;
    line-height: 1;
    border: none;
    font-weight: 400;
    transition: opacity 0.2s;
  `,a.onmouseover=()=>a.style.opacity="0.8",a.onmouseout=()=>a.style.opacity="0.55",document.body.appendChild(a)}function qK(){if(window.matchMedia("(display-mode: standalone)").matches||window.matchMedia("(display-mode: fullscreen)").matches||window.navigator.standalone===!0){console.log(" App is installed - running in standalone mode");return}if(localStorage.getItem("pwa-installed")==="true"){const n=document.createElement("button");n.id="pwa-open-button",n.innerHTML=" Open in app",n.style.cssText=`
      position: fixed;
      bottom: 80px;
      right: 24px;
      background: #0f172a;
      color: white;
      padding: 10px 20px;
      border-radius: 30px;
      border: none;
      font-weight: 500;
      font-size: 14px;
      cursor: pointer;
      z-index: 9999;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      display: flex;
      align-items: center;
      gap: 8px;
      border: 1px solid rgba(255,255,255,0.1);
      letter-spacing: 0.3px;
      backdrop-filter: blur(4px);
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      animation: slideIn 0.3s ease;
      opacity: 0.95;
      transition: all 0.2s;
    `,n.onmouseover=()=>{n.style.background="#1e293b",n.style.transform="scale(1.02)"},n.onmouseout=()=>{n.style.background="#0f172a",n.style.transform="scale(1)"},n.onclick=()=>{/android/i.test(navigator.userAgent)?(window.location.href="intent://scbc-app.github.io/Scbc-Suite/#Intent;scheme=https;package=com.scbc.suite;end;",setTimeout(()=>{window.location.href="https://scbc-app.github.io/Scbc-Suite/"},500)):window.location.href="https://scbc-app.github.io/Scbc-Suite/"},document.body.appendChild(n),setTimeout(()=>{document.body.contains(n)&&(n.style.animation="slideOut 0.3s ease",setTimeout(()=>n.remove(),300))},3e4)}}const TI=document.createElement("style");TI.textContent=`
  @keyframes slideIn {
    from {
      transform: translateX(100%);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }
  @keyframes slideOut {
    from {
      transform: translateX(0);
      opacity: 1;
    }
    to {
      transform: translateX(100%);
      opacity: 0;
    }
  }
`;document.head.appendChild(TI);function WK(){"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/Scbc-Suite/sw.js").then(e=>{console.log(" SW registered:",e),UK("1.0.6"),qK(),navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"KEEP_ALIVE"}),setInterval(()=>{navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"KEEP_ALIVE"})},2e4),e.addEventListener("updatefound",()=>{const t=e.installing;t&&t.addEventListener("statechange",()=>{if(t.state==="installed"&&navigator.serviceWorker.controller){const{toast:n,updateBtn:r,closeBtn:a}=FK();document.body.appendChild(n),r.onclick=()=>{n.style.animation="slideOut 0.3s ease",setTimeout(()=>{n.remove(),window.location.reload()},200)},a.onclick=()=>{n.style.animation="slideOut 0.3s ease",setTimeout(()=>n.remove(),200)},setTimeout(()=>{document.body.contains(n)&&(n.style.animation="slideOut 0.3s ease",setTimeout(()=>n.remove(),200))},1e4)}})})}).catch(e=>{console.error(" SW registration failed:",e)})})}window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),fl=e;const t=document.getElementById("pwa-install-button");t&&t.remove();const n=document.createElement("button");n.id="pwa-install-button",n.innerHTML=" Install App",n.style.cssText=`
    position: fixed;
    bottom: 24px;
    right: 24px;
    background: #0f172a;
    color: white;
    padding: 14px 28px;
    border-radius: 40px;
    border: none;
    font-weight: 600;
    font-size: 15px;
    cursor: pointer;
    z-index: 999999;
    box-shadow: 0 10px 30px -5px rgba(15, 23, 42, 0.3);
    display: flex;
    align-items: center;
    gap: 10px;
    transition: all 0.25s ease;
    border: 1px solid rgba(255,255,255,0.15);
    letter-spacing: 0.5px;
    backdrop-filter: blur(8px);
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  `,n.onmouseover=()=>{n.style.background="#1e293b",n.style.transform="scale(1.03)",n.style.boxShadow="0 15px 35px -5px rgba(15, 23, 42, 0.4)"},n.onmouseout=()=>{n.style.background="#0f172a",n.style.transform="scale(1)",n.style.boxShadow="0 10px 30px -5px rgba(15, 23, 42, 0.3)"},n.onclick=async()=>{if(!fl){n.remove();return}fl.prompt();const{outcome:r}=await fl.userChoice;console.log(` Install result: ${r}`),fl=null,n.remove()},document.body.appendChild(n)});window.addEventListener("appinstalled",()=>{console.log(" PWA installed successfully"),localStorage.setItem("pwa-installed","true");const e=document.getElementById("pwa-install-button");e&&e.remove();const t=document.getElementById("pwa-open-button");t&&t.remove()});const HK="modulepreload",VK=function(e){return"/Scbc-Suite/"+e},FP={},KK=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){let c=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));a=c(n.map(d=>{if(d=VK(d),d in FP)return;FP[d]=!0;const h=d.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":HK,h||(g.as="script"),g.crossOrigin="",g.href=d,f&&g.setAttribute("nonce",f),document.head.appendChild(g),h)return new Promise((v,j)=>{g.addEventListener("load",v),g.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return a.then(c=>{for(const u of c||[])u.status==="rejected"&&o(u.reason);return t().catch(o)})};/*! Capacitor: https://capacitorjs.com/ - MIT License */var ro;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(ro||(ro={}));class qx extends Error{constructor(t,n,r){super(t),this.message=t,this.code=n,this.data=r}}const GK=e=>{var t,n;return e!=null&&e.androidBridge?"android":!((n=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},YK=e=>{const t=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},r=n.Plugins=n.Plugins||{},a=()=>t!==null?t.name:GK(e),o=()=>a()!=="web",c=m=>{const g=d.get(m);return!!(g!=null&&g.platforms.has(a())||u(m))},u=m=>{var g;return(g=n.PluginHeaders)===null||g===void 0?void 0:g.find(v=>v.name===m)},f=m=>e.console.error(m),d=new Map,h=(m,g={})=>{const v=d.get(m);if(v)return console.warn(`Capacitor plugin "${m}" already registered. Cannot register plugins twice.`),v.proxy;const j=a(),w=u(m);let b;const y=async()=>(!b&&j in g?b=typeof g[j]=="function"?b=await g[j]():b=g[j]:t!==null&&!b&&"web"in g&&(b=typeof g.web=="function"?b=await g.web():b=g.web),b),S=(I,$)=>{var B,_;if(w){const R=w==null?void 0:w.methods.find(L=>$===L.name);if(R)return R.rtype==="promise"?L=>n.nativePromise(m,$.toString(),L):(L,z)=>n.nativeCallback(m,$.toString(),L,z);if(I)return(B=I[$])===null||B===void 0?void 0:B.bind(I)}else{if(I)return(_=I[$])===null||_===void 0?void 0:_.bind(I);throw new qx(`"${m}" plugin is not implemented on ${j}`,ro.Unimplemented)}},P=I=>{let $;const B=(..._)=>{const R=y().then(L=>{const z=S(L,I);if(z){const H=z(..._);return $=H==null?void 0:H.remove,H}else throw new qx(`"${m}.${I}()" is not implemented on ${j}`,ro.Unimplemented)});return I==="addListener"&&(R.remove=async()=>$()),R};return B.toString=()=>`${I.toString()}() { [capacitor code] }`,Object.defineProperty(B,"name",{value:I,writable:!1,configurable:!1}),B},k=P("addListener"),C=P("removeListener"),E=(I,$)=>{const B=k({eventName:I},$),_=async()=>{const L=await B;C({eventName:I,callbackId:L},$)},R=new Promise(L=>B.then(()=>L({remove:_})));return R.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await _()},R},D=new Proxy({},{get(I,$){switch($){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return w?E:k;case"removeListener":return C;default:return P($)}}});return r[m]=D,d.set(m,{name:m,proxy:D,platforms:new Set([...Object.keys(g),...w?[j]:[]])}),D};return n.convertFileSrc||(n.convertFileSrc=m=>m),n.getPlatform=a,n.handleError=f,n.isNativePlatform=o,n.isPluginAvailable=c,n.registerPlugin=h,n.Exception=qx,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},XK=e=>e.Capacitor=YK(e),sf=XK(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Wf=sf.registerPlugin;class Ub{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,n){let r=!1;this.listeners[t]||(this.listeners[t]=[],r=!0),this.listeners[t].push(n);const o=this.windowListeners[t];o&&!o.registered&&this.addWindowListener(o),r&&this.sendRetainedArgumentsForEvent(t);const c=async()=>this.removeListener(t,n);return Promise.resolve({remove:c})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,n,r){const a=this.listeners[t];if(!a){if(r){let o=this.retainedEventArguments[t];o||(o=[]),o.push(n),this.retainedEventArguments[t]=o}return}a.forEach(o=>o(n))}hasListeners(t){var n;return!!(!((n=this.listeners[t])===null||n===void 0)&&n.length)}registerWindowListener(t,n){this.windowListeners[n]={registered:!1,windowEventName:t,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(t="not implemented"){return new sf.Exception(t,ro.Unimplemented)}unavailable(t="not available"){return new sf.Exception(t,ro.Unavailable)}async removeListener(t,n){const r=this.listeners[t];if(!r)return;const a=r.indexOf(n);this.listeners[t].splice(a,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const n=this.retainedEventArguments[t];n&&(delete this.retainedEventArguments[t],n.forEach(r=>{this.notifyListeners(t,r)}))}}const UP=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),qP=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class QK extends Ub{async getCookies(){const t=document.cookie,n={};return t.split(";").forEach(r=>{if(r.length<=0)return;let[a,o]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=qP(a).trim(),o=qP(o).trim(),n[a]=o}),n}async setCookie(t){try{const n=UP(t.key),r=UP(t.value),a=t.expires?`; expires=${t.expires.replace("expires=","")}`:"",o=(t.path||"/").replace("path=",""),c=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${n}=${r||""}${a}; path=${o}; ${c};`}catch(n){return Promise.reject(n)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const n of t)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}Wf("CapacitorCookies",{web:()=>new QK});const ZK=async e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{const a=r.result;t(a.indexOf(",")>=0?a.split(",")[1]:a)},r.onerror=a=>n(a),r.readAsDataURL(e)}),JK=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(a=>a.toLocaleLowerCase()).reduce((a,o,c)=>(a[o]=e[t[c]],a),{})},eG=(e,t=!0)=>e?Object.entries(e).reduce((r,a)=>{const[o,c]=a;let u,f;return Array.isArray(c)?(f="",c.forEach(d=>{u=t?encodeURIComponent(d):d,f+=`${o}=${u}&`}),f.slice(0,-1)):(u=t?encodeURIComponent(c):c,f=`${o}=${u}`),`${r}&${f}`},"").substr(1):null,tG=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),a=JK(e.headers)["content-type"]||"";if(typeof e.data=="string")n.body=e.data;else if(a.includes("application/x-www-form-urlencoded")){const o=new URLSearchParams;for(const[c,u]of Object.entries(e.data||{}))o.set(c,u);n.body=o.toString()}else if(a.includes("multipart/form-data")||e.data instanceof FormData){const o=new FormData;if(e.data instanceof FormData)e.data.forEach((u,f)=>{o.append(f,u)});else for(const u of Object.keys(e.data))o.append(u,e.data[u]);n.body=o;const c=new Headers(n.headers);c.delete("content-type"),n.headers=c}else(a.includes("application/json")||typeof e.data=="object")&&(n.body=JSON.stringify(e.data));return n};class nG extends Ub{async request(t){const n=tG(t,t.webFetchExtra),r=eG(t.params,t.shouldEncodeUrlParams),a=r?`${t.url}?${r}`:t.url,o=await fetch(a,n),c=o.headers.get("content-type")||"";let{responseType:u="text"}=o.ok?t:{};c.includes("application/json")&&(u="json");let f,d;switch(u){case"arraybuffer":case"blob":d=await o.blob(),f=await ZK(d);break;case"json":f=await o.json();break;case"document":case"text":default:f=await o.text()}const h={};return o.headers.forEach((m,g)=>{h[g]=m}),{data:f,headers:h,status:o.status,url:o.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}Wf("CapacitorHttp",{web:()=>new nG});var WP;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(WP||(WP={}));var HP;(function(e){e.StatusBar="StatusBar",e.NavigationBar="NavigationBar"})(HP||(HP={}));class rG extends Ub{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}Wf("SystemBars",{web:()=>new rG});const aG="__capgo_keep_url_path_after_reload",Wx="__capgo_history_stack__",VP=100,iG=typeof window<"u"&&typeof document<"u"&&typeof history<"u";if(iG){const e=window;if(!e.__capgoHistoryPatched){e.__capgoHistoryPatched=!0;const t=()=>{try{if(e.__capgoKeepUrlPathAfterReload)return!0}catch{}try{return window.localStorage.getItem(aG)==="1"}catch{return!1}},n=()=>{try{const C=window.sessionStorage.getItem(Wx);if(!C)return{stack:[],index:-1};const E=JSON.parse(C);return!E||!Array.isArray(E.stack)||typeof E.index!="number"?{stack:[],index:-1}:E}catch{return{stack:[],index:-1}}},r=(C,E)=>{try{window.sessionStorage.setItem(Wx,JSON.stringify({stack:C,index:E}))}catch{}},a=()=>{try{window.sessionStorage.removeItem(Wx)}catch{}},o=C=>{try{const E=C??window.location.href,D=new URL(E instanceof URL?E.toString():E,window.location.href);return`${D.pathname}${D.search}${D.hash}`}catch{return null}},c=(C,E)=>{if(C.length<=VP)return{stack:C,index:E};const D=C.length-VP,I=C.slice(D),$=Math.max(0,E-D);return{stack:I,index:$}},u=C=>{document.readyState==="complete"||document.readyState==="interactive"?C():window.addEventListener("DOMContentLoaded",C,{once:!0})};let f=!1,d=!1,h=!1;const m=()=>{if(!f)return;const C=n(),E=o();if(E){if(C.stack.length===0){C.stack.push(E),C.index=0,r(C.stack,C.index);return}(C.index<0||C.index>=C.stack.length)&&(C.index=C.stack.length-1),C.stack[C.index]!==E&&(C.stack[C.index]=E,r(C.stack,C.index))}},g=(C,E)=>{if(!f||d)return;const D=o(C);if(!D)return;let{stack:I,index:$}=n();I.length===0?(I.push(D),$=I.length-1):E?(($<0||$>=I.length)&&($=I.length-1),I[$]=D):$>=I.length-1?(I.push(D),$=I.length-1):(I=I.slice(0,$+1),I.push(D),$=I.length-1),{stack:I,index:$}=c(I,$),r(I,$)},v=()=>{if(!f||d)return;const C=n();if(C.stack.length===0){m();return}const E=C.index>=0&&C.index<C.stack.length?C.index:C.stack.length-1,D=o();if(C.stack.length===1&&D===C.stack[0])return;const I=C.stack[0];if(!I)return;d=!0;try{history.replaceState(history.state,document.title,I);for(let _=1;_<C.stack.length;_+=1)history.pushState(history.state,document.title,C.stack[_])}catch{d=!1;return}d=!1;const $=C.stack.length-1,B=E-$;B!==0?history.go(B):(history.replaceState(history.state,document.title,C.stack[E]),window.dispatchEvent(new PopStateEvent("popstate")))},j=()=>{!f||h||(h=!0,u(()=>{h=!1,v()}))};let w=null,b=null;const y=()=>{if(!f||d)return;const C=o();if(!C)return;const E=n(),D=E.stack.lastIndexOf(C);D>=0?E.index=D:(E.stack.push(C),E.index=E.stack.length-1);const I=c(E.stack,E.index);r(I.stack,I.index)},S=()=>{w&&b||(w=history.pushState,b=history.replaceState,history.pushState=function(E,D,I){const $=w==null?void 0:w.call(history,E,D,I);return g(I,!1),$},history.replaceState=function(E,D,I){const $=b==null?void 0:b.call(history,E,D,I);return g(I,!0),$},window.addEventListener("popstate",y))},P=()=>{w&&(history.pushState=w,w=null),b&&(history.replaceState=b,b=null),window.removeEventListener("popstate",y)},k=C=>{if(f===C){f&&(m(),j());return}f=C,f?(S(),m(),j()):(P(),a())};window.addEventListener("CapacitorUpdaterKeepUrlPathAfterReload",C=>{var E;const D=C,I=(E=D==null?void 0:D.detail)===null||E===void 0?void 0:E.enabled;typeof I=="boolean"?(e.__capgoKeepUrlPathAfterReload=I,k(I)):(e.__capgoKeepUrlPathAfterReload=!0,k(!0))}),k(t())}}var KP;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.UPDATE_NOT_AVAILABLE=1]="UPDATE_NOT_AVAILABLE",e[e.UPDATE_AVAILABLE=2]="UPDATE_AVAILABLE",e[e.UPDATE_IN_PROGRESS=3]="UPDATE_IN_PROGRESS"})(KP||(KP={}));var GP;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.PENDING=1]="PENDING",e[e.DOWNLOADING=2]="DOWNLOADING",e[e.INSTALLING=3]="INSTALLING",e[e.INSTALLED=4]="INSTALLED",e[e.FAILED=5]="FAILED",e[e.CANCELED=6]="CANCELED",e[e.DOWNLOADED=11]="DOWNLOADED"})(GP||(GP={}));var YP;(function(e){e[e.OK=0]="OK",e[e.CANCELED=1]="CANCELED",e[e.FAILED=2]="FAILED",e[e.NOT_AVAILABLE=3]="NOT_AVAILABLE",e[e.NOT_ALLOWED=4]="NOT_ALLOWED",e[e.INFO_MISSING=5]="INFO_MISSING"})(YP||(YP={}));const ks=Wf("CapacitorUpdater",{web:()=>KK(()=>import("./web-C4fDvrO_.js"),[]).then(e=>new e.CapacitorUpdaterWeb)});async function sG(){if(sf.isNativePlatform()){ks.addListener("updateAvailable",e=>{console.log("Update available:",e.version),ks.set(e.version).catch(console.error)});try{await ks.notifyAppReady(),await ks.setUrl("https://scbc-app.github.io/Scbc-Suite/app-versions.json"),await ks.check();const t=await ks.getCurrent();oG(t.version)}catch(e){console.log("Update check failed:",e)}}}function oG(e){const t=document.getElementById("cap-version-indicator");t&&t.remove();const n=document.createElement("div");n.id="cap-version-indicator",n.style.cssText="position:fixed;bottom:8px;left:8px;background:rgba(15,23,42,0.08);color:#64748b;font-size:10px;padding:4px 8px;border-radius:12px;z-index:9999;",n.textContent=`v${e}`,document.body.appendChild(n)}class lG{constructor(){this.dbName="SCBCSuiteDB",this.dbVersion=1,this.storeName="appData"}async openDB(){return new Promise((t,n)=>{const r=indexedDB.open(this.dbName,this.dbVersion);r.onupgradeneeded=a=>{const o=a.target.result;if(!o.objectStoreNames.contains(this.storeName)){const c=o.createObjectStore(this.storeName,{keyPath:"id"});c.createIndex("timestamp","timestamp",{unique:!1}),c.createIndex("type","type",{unique:!1}),console.log(" IndexedDB store created")}},r.onsuccess=a=>t(a.target.result),r.onerror=a=>n(a.target.error)})}async setItem(t,n,r){try{const a=await this.openDB(),o=a.transaction([this.storeName],"readwrite"),c=o.objectStore(this.storeName),u={id:t,value:n,timestamp:Date.now(),expiry:r?Date.now()+r:null};return new Promise((f,d)=>{const h=c.put(u);h.onsuccess=()=>{console.log(` Saved: ${t}`),f()},h.onerror=m=>d(m.target.error),o.oncomplete=()=>a.close()})}catch(a){console.error(" Storage set error:",a)}}async getItem(t){try{const n=await this.openDB(),o=n.transaction([this.storeName],"readonly").objectStore(this.storeName).get(t);return new Promise((c,u)=>{o.onsuccess=f=>{const d=f.target.result;n.close(),d?d.expiry&&Date.now()>d.expiry?(console.log(` Cache expired for: ${t}`),this.removeItem(t),c(null)):(console.log(` Read from cache: ${t}`),c(d.value)):c(null)},o.onerror=f=>{n.close(),u(f.target.error)}})}catch(n){return console.error(" Storage get error:",n),null}}async removeItem(t){const n=await this.openDB(),r=n.transaction([this.storeName],"readwrite");r.objectStore(this.storeName).delete(t),r.oncomplete=()=>n.close(),console.log(` Removed: ${t}`)}async clear(){const t=await this.openDB(),n=t.transaction([this.storeName],"readwrite");n.objectStore(this.storeName).clear(),n.oncomplete=()=>t.close(),console.log(" Storage cleared")}async prune(t){const n=await this.openDB(),r=n.transaction([this.storeName],"readwrite"),a=r.objectStore(this.storeName),o=a.index("timestamp"),c=Date.now()-t,u=IDBKeyRange.upperBound(c);let f=0;return new Promise((d,h)=>{const m=o.openCursor(u);m.onsuccess=g=>{const v=g.target.result;v?(a.delete(v.primaryKey),f++,v.continue()):(console.log(` Pruned ${f} old records`),d(f))},m.onerror=h,r.oncomplete=()=>n.close()})}}const cG=new lG,_I=document.getElementById("root");if(!_I)throw new Error("Could not find root element to mount to");const uG=z5.createRoot(_I);uG.render(i.jsx(q.StrictMode,{children:i.jsx(BK,{})}));if(localStorage.getItem("appState"))try{const e=JSON.parse(localStorage.getItem("appState")||"{}");(!e.messages||!e.notifications)&&(console.log(" Clearing old app state from localStorage (missing messages/notifications)"),localStorage.removeItem("appState"))}catch{console.log(" Clearing corrupted app state from localStorage"),localStorage.removeItem("appState")}WK();sG();"indexedDB"in window&&setTimeout(()=>{cG.prune(6048e5).catch(e=>console.error("Storage cleanup failed:",e)),console.log(" Professional PWA Storage initialized")},5e3);export{KP as A,Ub as W};
